variantsDepsNum: 11
/data/js-variants/multee
11
loopback is testing ./VariantsDeps/express/variant11/express
************* npm unlink module *************

up to date, audited 1497 packages in 7s

98 packages are looking for funding
  run `npm fund` for details

25 vulnerabilities (5 moderate, 15 high, 5 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 471ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 399ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

changed 1 package, and audited 1498 packages in 3s

67 packages are looking for funding
  run `npm fund` for details

25 vulnerabilities (5 moderate, 15 high, 5 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm link module done *************
************* start run test *************

> loopback@3.28.0 test
> nyc grunt mocha-and-karma

Running "eslint:gruntfile" (eslint) task

Running "eslint:lib" (eslint) task

Running "eslint:common" (eslint) task

Running "eslint:server" (eslint) task

Running "eslint:test" (eslint) task

Running "mochaTest:unit" (mochaTest) task


  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤,â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤,â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤,â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤,â€¤â€¤,â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤,,â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤,,â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤,,,â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤,,â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤

  1008 passing (20s)
  14 pending


Running "karma:unit-once" (karma) task
Deprecated private createPreprocessor() API
[32m08 08 2022 20:52:02.668:INFO [framework.browserify]: [39mbundle built
[32m08 08 2022 20:52:02.712:INFO [karma-server]: [39mKarma v4.4.1 server started at http://0.0.0.0:9876/
[32m08 08 2022 20:52:02.713:INFO [launcher]: [39mLaunching browsers ChromeDocker with concurrency unlimited
[32m08 08 2022 20:52:02.716:INFO [launcher]: [39mStarting browser ChromeHeadless
[91m08 08 2022 20:52:02.717:ERROR [launcher]: [39mNo binary for ChromeHeadless browser on your platform.
  Please, set "CHROME_BIN" env variable.
Warning: Task "karma:unit-once" failed. Use --force to continue.

Aborted due to warnings.
------------------------------|----------|----------|----------|----------|-------------------|
File                          |  % Stmts | % Branch |  % Funcs |  % Lines | Uncovered Line #s |
------------------------------|----------|----------|----------|----------|-------------------|
All files                     |     88.6 |    80.74 |    88.01 |    90.31 |                   |
 loopback                     |      100 |      100 |      100 |      100 |                   |
  index.js                    |      100 |      100 |      100 |      100 |                   |
 loopback/common/models       |    89.18 |    83.03 |    91.67 |    91.76 |                   |
  access-token.js             |     84.4 |    81.25 |    86.67 |    85.05 |... 50,251,276,277 |
  acl.js                      |     88.5 |    84.39 |    83.87 |    90.55 |... 74,575,576,578 |
  application.js              |    88.57 |    71.88 |      100 |    89.71 |... 54,155,182,183 |
  change.js                   |    83.94 |    77.08 |    97.14 |    89.77 |... 62,563,564,815 |
  checkpoint.js               |     91.3 |       50 |      100 |      100 |             59,64 |
  email.js                    |    66.67 |      100 |    33.33 |    66.67 |             49,56 |
  key-value-model.js          |    77.42 |      100 |       30 |    76.67 |... 84,106,154,224 |
  role-mapping.js             |     90.7 |    81.25 |       75 |     90.7 |     50,51,100,101 |
  role.js                     |    90.37 |    79.67 |    94.55 |    92.05 |... 03,627,640,641 |
  scope.js                    |     87.5 |       50 |      100 |    93.33 |                47 |
  user.js                     |    93.63 |    88.56 |      100 |    95.76 |... 1260,1391,1433 |
 loopback/lib                 |     88.3 |    78.33 |     86.8 |    89.34 |                   |
  access-context.js           |    78.69 |    72.52 |    94.74 |    78.53 |... 15,416,417,418 |
  application.js              |    88.79 |    76.62 |     87.1 |    89.33 |... 31,534,544,644 |
  builtin-models.js           |      100 |      100 |      100 |      100 |                   |
  configure-shared-methods.js |    97.14 |    92.59 |      100 |    97.14 |                36 |
  current-context.js          |       70 |      100 |       25 |       70 |          15,23,31 |
  globalize.js                |      100 |      100 |      100 |      100 |                   |
  loopback.js                 |    96.43 |       84 |    90.48 |    97.56 |             61,64 |
  model.js                    |    89.73 |    79.32 |      100 |    90.66 |... 1007,1047,1048 |
  persisted-model.js          |    84.58 |    70.36 |    78.13 |    86.78 |... 1931,1932,1955 |
  registry.js                 |     95.3 |    94.23 |      100 |    95.14 |... 68,270,385,386 |
  runtime.js                  |      100 |      100 |      100 |      100 |                   |
  server-app.js               |    95.45 |    89.55 |    93.33 |    96.03 |   94,95,96,98,193 |
  utils.js                    |    92.73 |    84.38 |    91.67 |    92.59 |     29,67,110,137 |
 loopback/lib/connectors      |    81.18 |     69.7 |       50 |    81.18 |                   |
  base-connector.js           |    64.29 |      100 |        0 |    64.29 |    31,32,34,48,49 |
  mail.js                     |    82.26 |     69.7 |    77.78 |    82.26 |... 61,169,171,172 |
  memory.js                   |      100 |      100 |        0 |      100 |                   |
 loopback/server/middleware   |    89.25 |    89.47 |    81.25 |       90 |                   |
  context.js                  |    66.67 |      100 |        0 |    66.67 |                10 |
  error-handler.js            |      100 |      100 |      100 |      100 |                   |
  favicon.js                  |       60 |        0 |        0 |       60 |             15,16 |
  rest.js                     |    95.45 |    83.33 |      100 |    95.45 |                45 |
  static.js                   |      100 |      100 |      100 |      100 |                   |
  status.js                   |      100 |      100 |      100 |      100 |                   |
  token.js                    |    94.12 |    95.35 |      100 |    95.83 |           104,105 |
  url-not-found.js            |       40 |      100 |       50 |       40 |          21,22,23 |
------------------------------|----------|----------|----------|----------|-------------------|
************* run test done *************
loopback is testing ./VariantsDeps/express/variant10/express
************* npm unlink module *************

up to date, audited 1497 packages in 4s

98 packages are looking for funding
  run `npm fund` for details

25 vulnerabilities (5 moderate, 15 high, 5 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 465ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 402ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

changed 1 package, and audited 1498 packages in 3s

67 packages are looking for funding
  run `npm fund` for details

25 vulnerabilities (5 moderate, 15 high, 5 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm link module done *************
************* start run test *************

> loopback@3.28.0 test
> nyc grunt mocha-and-karma

Running "eslint:gruntfile" (eslint) task

Running "eslint:lib" (eslint) task

Running "eslint:common" (eslint) task

Running "eslint:server" (eslint) task

Running "eslint:test" (eslint) task

Running "mochaTest:unit" (mochaTest) task
>> Mocha exploded!
>> TypeError: hasOwn is not a function
>>     at getBaseIntrinsic (/data/js-variants/multee/VariantsDeps/express/variant10/express/node_modules/get-intrinsic/index.js:229:6)
>>     at GetIntrinsic (/data/js-variants/multee/VariantsDeps/express/variant10/express/node_modules/get-intrinsic/index.js:267:18)
>>     at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/express/variant10/express/node_modules/call-bind/index.js:6:14)
>>     at Module._compile (node:internal/modules/cjs/loader:1105:14)
>>     at Module.replacementCompile (/data/js-variants/multee/Clients/express/loopback/node_modules/append-transform/index.js:58:13)
>>     at Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
>>     at Object.<anonymous> (/data/js-variants/multee/Clients/express/loopback/node_modules/append-transform/index.js:62:4)
>>     at Module.load (node:internal/modules/cjs/loader:981:32)
>>     at Module._load (node:internal/modules/cjs/loader:827:12)
>>     at Module.require (node:internal/modules/cjs/loader:1005:19)
>>     at require (node:internal/modules/cjs/helpers:102:18)
>>     at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/express/variant10/express/node_modules/call-bind/callBound.js:5:16)
>>     at Module._compile (node:internal/modules/cjs/loader:1105:14)
>>     at Module.replacementCompile (/data/js-variants/multee/Clients/express/loopback/node_modules/append-transform/index.js:58:13)
>>     at Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
>>     at Object.<anonymous> (/data/js-variants/multee/Clients/express/loopback/node_modules/append-transform/index.js:62:4)
Warning: Task "mochaTest:unit" failed. Use --force to continue.

Aborted due to warnings.
--------------|----------|----------|----------|----------|-------------------|
File          |  % Stmts | % Branch |  % Funcs |  % Lines | Uncovered Line #s |
--------------|----------|----------|----------|----------|-------------------|
All files     |     2.15 |        0 |        0 |      2.2 |                   |
 loopback     |    11.11 |      100 |      100 |    11.11 |                   |
  index.js    |    11.11 |      100 |      100 |    11.11 |... 20,21,27,28,29 |
 loopback/lib |     1.19 |        0 |        0 |     1.22 |                   |
  loopback.js |     1.19 |        0 |        0 |     1.22 |... 57,358,364,366 |
--------------|----------|----------|----------|----------|-------------------|
************* run test done *************
loopback is testing ./VariantsDeps/express/variant9/express
************* npm unlink module *************

up to date, audited 1497 packages in 4s

98 packages are looking for funding
  run `npm fund` for details

25 vulnerabilities (5 moderate, 15 high, 5 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 473ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 406ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

changed 1 package, and audited 1498 packages in 3s

67 packages are looking for funding
  run `npm fund` for details

25 vulnerabilities (5 moderate, 15 high, 5 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm link module done *************
************* start run test *************

> loopback@3.28.0 test
> nyc grunt mocha-and-karma

Running "eslint:gruntfile" (eslint) task

Running "eslint:lib" (eslint) task

Running "eslint:common" (eslint) task

Running "eslint:server" (eslint) task

Running "eslint:test" (eslint) task

Running "mochaTest:unit" (mochaTest) task
>> Mocha exploded!
>> TypeError: bind.call is not a function
>>     at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/express/variant9/express/node_modules/has/src/index.js:5:23)
>>     at Module._compile (node:internal/modules/cjs/loader:1105:14)
>>     at Module.replacementCompile (/data/js-variants/multee/Clients/express/loopback/node_modules/append-transform/index.js:58:13)
>>     at Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
>>     at Object.<anonymous> (/data/js-variants/multee/Clients/express/loopback/node_modules/append-transform/index.js:62:4)
>>     at Module.load (node:internal/modules/cjs/loader:981:32)
>>     at Module._load (node:internal/modules/cjs/loader:827:12)
>>     at Module.require (node:internal/modules/cjs/loader:1005:19)
>>     at require (node:internal/modules/cjs/helpers:102:18)
>>     at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/express/variant9/express/node_modules/get-intrinsic/index.js:200:14)
>>     at Module._compile (node:internal/modules/cjs/loader:1105:14)
>>     at Module.replacementCompile (/data/js-variants/multee/Clients/express/loopback/node_modules/append-transform/index.js:58:13)
>>     at Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
>>     at Object.<anonymous> (/data/js-variants/multee/Clients/express/loopback/node_modules/append-transform/index.js:62:4)
>>     at Module.load (node:internal/modules/cjs/loader:981:32)
>>     at Module._load (node:internal/modules/cjs/loader:827:12)
Warning: Task "mochaTest:unit" failed. Use --force to continue.

Aborted due to warnings.
--------------|----------|----------|----------|----------|-------------------|
File          |  % Stmts | % Branch |  % Funcs |  % Lines | Uncovered Line #s |
--------------|----------|----------|----------|----------|-------------------|
All files     |     2.15 |        0 |        0 |      2.2 |                   |
 loopback     |    11.11 |      100 |      100 |    11.11 |                   |
  index.js    |    11.11 |      100 |      100 |    11.11 |... 20,21,27,28,29 |
 loopback/lib |     1.19 |        0 |        0 |     1.22 |                   |
  loopback.js |     1.19 |        0 |        0 |     1.22 |... 57,358,364,366 |
--------------|----------|----------|----------|----------|-------------------|
************* run test done *************
loopback is testing ./VariantsDeps/express/variant8/express
************* npm unlink module *************

up to date, audited 1497 packages in 4s

98 packages are looking for funding
  run `npm fund` for details

25 vulnerabilities (5 moderate, 15 high, 5 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 465ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 402ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

changed 1 package, and audited 1498 packages in 3s

67 packages are looking for funding
  run `npm fund` for details

25 vulnerabilities (5 moderate, 15 high, 5 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm link module done *************
************* start run test *************

> loopback@3.28.0 test
> nyc grunt mocha-and-karma

Running "eslint:gruntfile" (eslint) task

Running "eslint:lib" (eslint) task

Running "eslint:common" (eslint) task

Running "eslint:server" (eslint) task

Running "eslint:test" (eslint) task

Running "mochaTest:unit" (mochaTest) task


  !!!!!!!!!!!!!!!!!!â€¤!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
  !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
  !!!â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤!!!!!!â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤!!!!â€¤!!!!!!!!!!!!!!!!!!
  !!!!!!!â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤!â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤!â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤!!!!!Unhandled error for request GET /users/scoped: TypeError: qs.parse is not a function
    at parseExtendedQueryString (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/utils.js:290:13)
    at query (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/middleware/query.js:42:19)
    at Layer.handle [as handle_request] (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/layer.js:95:5)
    at trim_prefix (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:328:13)
    at /data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:286:9
    at Function.process_params (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:346:12)
    at next (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:280:10)
    at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:175:3)
    at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/application.js:181:10)
    at Server.app (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/express.js:39:9)
    at Server.emit (node:events:527:28)
    at Server.emit (node:domain:475:12)
    at parserOnIncoming (node:_http_server:993:12)
    at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)
!Unhandled error for request GET /users/1: TypeError: qs.parse is not a function
    at parseExtendedQueryString (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/utils.js:290:13)
    at query (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/middleware/query.js:42:19)
    at Layer.handle [as handle_request] (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/layer.js:95:5)
    at trim_prefix (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:328:13)
    at /data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:286:9
    at Function.process_params (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:346:12)
    at next (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:280:10)
    at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:175:3)
    at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/application.js:181:10)
    at Server.app (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/express.js:39:9)
    at Server.emit (node:events:527:28)
    at Server.emit (node:domain:475:12)
    at parserOnIncoming (node:_http_server:993:12)
    at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)
!Unhandled error for request GET /users/scoped: TypeError: qs.parse is not a function
    at parseExtendedQueryString (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/utils.js:290:13)
    at query (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/middleware/query.js:42:19)
    at Layer.handle [as handle_request] (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/layer.js:95:5)
    at trim_prefix (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:328:13)
    at /data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:286:9
    at Function.process_params (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:346:12)
    at next (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:280:10)
    at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:175:3)
    at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/application.js:181:10)
    at Server.app (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/express.js:39:9)
    at Server.emit (node:events:527:28)
    at Server.emit (node:domain:475:12)
    at parserOnIncoming (node:_http_server:993:12)
    at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)
!Unhandled error for request GET /users/1: TypeError: qs.parse is not a function
    at parseExtendedQueryString (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/utils.js:290:13)
    at query (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/middleware/query.js:42:19)
    at Layer.handle [as handle_request] (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/layer.js:95:5)
    at trim_prefix (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:328:13)
    at /data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:286:9
    at Function.process_params (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:346:12)
    at next (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:280:10)
    at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:175:3)
    at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/application.js:181:10)
    at Server.app (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/express.js:39:9)
    at Server.emit (node:events:527:28)
    at Server.emit (node:domain:475:12)
    at parserOnIncoming (node:_http_server:993:12)
    at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)

  !!Unhandled error for request GET /users/1: TypeError: qs.parse is not a function
    at parseExtendedQueryString (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/utils.js:290:13)
    at query (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/middleware/query.js:42:19)
    at Layer.handle [as handle_request] (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/layer.js:95:5)
    at trim_prefix (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:328:13)
    at /data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:286:9
    at Function.process_params (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:346:12)
    at next (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:280:10)
    at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:175:3)
    at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/application.js:181:10)
    at Server.app (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/express.js:39:9)
    at Server.emit (node:events:527:28)
    at Server.emit (node:domain:475:12)
    at parserOnIncoming (node:_http_server:993:12)
    at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)
!Unhandled error for request GET /users/scoped: TypeError: qs.parse is not a function
    at parseExtendedQueryString (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/utils.js:290:13)
    at query (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/middleware/query.js:42:19)
    at Layer.handle [as handle_request] (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/layer.js:95:5)
    at trim_prefix (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:328:13)
    at /data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:286:9
    at Function.process_params (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:346:12)
    at next (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:280:10)
    at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:175:3)
    at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/application.js:181:10)
    at Server.app (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/express.js:39:9)
    at Server.emit (node:events:527:28)
    at Server.emit (node:domain:475:12)
    at parserOnIncoming (node:_http_server:993:12)
    at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)
!â€¤â€¤â€¤â€¤â€¤,â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤!!!!!!!!!!
  !!!!!!!!!!!!!!!!!!!â€¤â€¤â€¤â€¤,â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤!!!!!!â€¤â€¤!!!!!!â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤!!!!!â€¤â€¤â€¤!!!!!!!!!!â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤!!!!!â€¤!â€¤Unhandled error for request PATCH /Sellers/1: TypeError: qs.parse is not a function
    at parseExtendedQueryString (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/utils.js:290:13)
    at query (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/middleware/query.js:42:19)
    at Layer.handle [as handle_request] (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/layer.js:95:5)
    at trim_prefix (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:328:13)
    at /data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:286:9
    at Function.process_params (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:346:12)
    at next (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:280:10)
    at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:175:3)
    at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/application.js:181:10)
    at Server.app (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/express.js:39:9)
    at Server.emit (node:events:527:28)
    at Server.emit (node:domain:475:12)
    at parserOnIncoming (node:_http_server:993:12)
    at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)
!Unhandled error for request PATCH /Sellers/2: TypeError: qs.parse is not a function
    at parseExtendedQueryString (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/utils.js:290:13)
    at query (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/middleware/query.js:42:19)
    at Layer.handle [as handle_request] (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/layer.js:95:5)
    at trim_prefix (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:328:13)
    at /data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:286:9
    at Function.process_params (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:346:12)
    at next (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:280:10)
    at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:175:3)
    at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/application.js:181:10)
    at Server.app (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/express.js:39:9)
    at Server.emit (node:events:527:28)
    at Server.emit (node:domain:475:12)
    at parserOnIncoming (node:_http_server:993:12)
    at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)
!Unhandled error for request PATCH /Customers/1: TypeError: qs.parse is not a function
    at parseExtendedQueryString (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/utils.js:290:13)
    at query (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/middleware/query.js:42:19)
    at Layer.handle [as handle_request] (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/layer.js:95:5)
    at trim_prefix (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:328:13)
    at /data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:286:9
    at Function.process_params (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:346:12)
    at next (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:280:10)
    at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:175:3)
    at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/application.js:181:10)
    at Server.app (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/express.js:39:9)
    at Server.emit (node:events:527:28)
    at Server.emit (node:domain:475:12)
    at parserOnIncoming (node:_http_server:993:12)
    at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)
!Unhandled error for request GET /buildings/1: TypeError: qs.parse is not a function
    at parseExtendedQueryString (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/utils.js:290:13)
    at query (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/middleware/query.js:42:19)
    at Layer.handle [as handle_request] (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/layer.js:95:5)
    at trim_prefix (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:328:13)
    at /data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:286:9
    at Function.process_params (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:346:12)
    at next (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:280:10)
    at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:175:3)
    at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/application.js:181:10)
    at Server.app (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/express.js:39:9)
    at Server.emit (node:events:527:28)
    at Server.emit (node:domain:475:12)
    at parserOnIncoming (node:_http_server:993:12)
    at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)
!Unhandled error for request PATCH /Sellers/OElpaY0D9ISFWtWtoHG4v7RCJJ9DFcUDYSBqB8rPS0dVOeuDCdiOpkLXxzje8oc8: TypeError: qs.parse is not a function
    at parseExtendedQueryString (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/utils.js:290:13)
    at query (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/middleware/query.js:42:19)
    at Layer.handle [as handle_request] (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/layer.js:95:5)
    at trim_prefix (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:328:13)
    at /data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:286:9
    at Function.process_params (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:346:12)
    at next (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:280:10)
    at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:175:3)
    at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/application.js:181:10)
    at Server.app (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/express.js:39:9)
    at Server.emit (node:events:527:28)
    at Server.emit (node:domain:475:12)
    at parserOnIncoming (node:_http_server:993:12)
    at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)
!Unhandled error for request PATCH /Sellers/2: TypeError: qs.parse is not a function
    at parseExtendedQueryString (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/utils.js:290:13)
    at query (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/middleware/query.js:42:19)
    at Layer.handle [as handle_request] (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/layer.js:95:5)
    at trim_prefix (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:328:13)
    at /data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:286:9
    at Function.process_params (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:346:12)
    at next (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:280:10)
    at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:175:3)
    at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/application.js:181:10)
    at Server.app (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/express.js:39:9)
    at Server.emit (node:events:527:28)
    at Server.emit (node:domain:475:12)
    at parserOnIncoming (node:_http_server:993:12)
    at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)
!Unhandled error for request PATCH /Customers/1: TypeError: qs.parse is not a function
    at parseExtendedQueryString (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/utils.js:290:13)
    at query (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/middleware/query.js:42:19)
    at Layer.handle [as handle_request] (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/layer.js:95:5)
    at trim_prefix (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:328:13)
    at /data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:286:9
    at Function.process_params (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:346:12)
    at next (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:280:10)
    at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:175:3)
    at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/application.js:181:10)
    at Server.app (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/express.js:39:9)
    at Server.emit (node:events:527:28)
    at Server.emit (node:domain:475:12)
    at parserOnIncoming (node:_http_server:993:12)
    at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)
!Unhandled error for request GET /buildings/1: TypeError: qs.parse is not a function
    at parseExtendedQueryString (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/utils.js:290:13)
    at query (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/middleware/query.js:42:19)
    at Layer.handle [as handle_request] (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/layer.js:95:5)
    at trim_prefix (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:328:13)
    at /data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:286:9
    at Function.process_params (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:346:12)
    at next (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:280:10)
    at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:175:3)
    at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/application.js:181:10)
    at Server.app (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/express.js:39:9)
    at Server.emit (node:events:527:28)
    at Server.emit (node:domain:475:12)
    at parserOnIncoming (node:_http_server:993:12)
    at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)
!Unhandled error for request PATCH /Sellers/1: TypeError: qs.parse is not a function
    at parseExtendedQueryString (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/utils.js:290:13)
    at query (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/middleware/query.js:42:19)
    at Layer.handle [as handle_request] (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/layer.js:95:5)
    at trim_prefix (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:328:13)
    at /data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:286:9
    at Function.process_params (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:346:12)
    at next (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:280:10)
    at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:175:3)
    at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/application.js:181:10)
    at Server.app (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/express.js:39:9)
    at Server.emit (node:events:527:28)
    at Server.emit (node:domain:475:12)
    at parserOnIncoming (node:_http_server:993:12)
    at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)
!Unhandled error for request PATCH /Sellers/2: TypeError: qs.parse is not a function
    at parseExtendedQueryString (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/utils.js:290:13)
    at query (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/middleware/query.js:42:19)
    at Layer.handle [as handle_request] (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/layer.js:95:5)
    at trim_prefix (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:328:13)
    at /data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:286:9
    at Function.process_params (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:346:12)
    at next (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:280:10)
    at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:175:3)
    at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/application.js:181:10)
    at Server.app (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/express.js:39:9)
    at Server.emit (node:events:527:28)
    at Server.emit (node:domain:475:12)
    at parserOnIncoming (node:_http_server:993:12)
    at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)
!Unhandled error for request PATCH /Customers/1: TypeError: qs.parse is not a function
    at parseExtendedQueryString (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/utils.js:290:13)
    at query (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/middleware/query.js:42:19)
    at Layer.handle [as handle_request] (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/layer.js:95:5)
    at trim_prefix (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:328:13)
    at /data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:286:9
    at Function.process_params (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:346:12)
    at next (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:280:10)
    at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:175:3)
    at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/application.js:181:10)
    at Server.app (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/express.js:39:9)
    at Server.emit (node:events:527:28)
    at Server.emit (node:domain:475:12)
    at parserOnIncoming (node:_http_server:993:12)
    at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)
!Unhandled error for request GET /buildings/1: TypeError: qs.parse is not a function
    at parseExtendedQueryString (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/utils.js:290:13)
    at query (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/middleware/query.js:42:19)
    at Layer.handle [as handle_request] (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/layer.js:95:5)
    at trim_prefix (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:328:13)
    at /data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:286:9
    at Function.process_params (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:346:12)
    at next (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:280:10)
    at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:175:3)
    at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/application.js:181:10)
    at Server.app (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/express.js:39:9)
    at Server.emit (node:events:527:28)
    at Server.emit (node:domain:475:12)
    at parserOnIncoming (node:_http_server:993:12)
    at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)
!â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤,â€¤â€¤â€¤!Unhandled error for request POST /AnotherUsers/reset-password: TypeError: qs.parse is not a function
    at parseExtendedQueryString (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/utils.js:290:13)
    at query (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/middleware/query.js:42:19)
    at Layer.handle [as handle_request] (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/layer.js:95:5)
    at trim_prefix (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:328:13)
    at /data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:286:9
    at Function.process_params (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:346:12)
    at next (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:280:10)
    at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:175:3)
    at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/application.js:181:10)
    at Server.app (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/express.js:39:9)
    at Server.emit (node:events:527:28)
    at Server.emit (node:domain:475:12)
    at parserOnIncoming (node:_http_server:993:12)
    at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)
!
  !Unhandled error for request POST /AnotherUsers/change-password: TypeError: qs.parse is not a function
    at parseExtendedQueryString (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/utils.js:290:13)
    at query (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/middleware/query.js:42:19)
    at Layer.handle [as handle_request] (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/layer.js:95:5)
    at trim_prefix (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:328:13)
    at /data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:286:9
    at Function.process_params (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:346:12)
    at next (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:280:10)
    at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:175:3)
    at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/application.js:181:10)
    at Server.app (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/express.js:39:9)
    at Server.emit (node:events:527:28)
    at Server.emit (node:domain:475:12)
    at parserOnIncoming (node:_http_server:993:12)
    at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)
!Unhandled error for request GET /Products: TypeError: qs.parse is not a function
    at parseExtendedQueryString (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/utils.js:290:13)
    at query (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/middleware/query.js:42:19)
    at Layer.handle [as handle_request] (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/layer.js:95:5)
    at trim_prefix (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:328:13)
    at /data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:286:9
    at Function.process_params (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:346:12)
    at next (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:280:10)
    at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:175:3)
    at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/application.js:181:10)
    at Server.app (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/express.js:39:9)
    at Server.emit (node:events:527:28)
    at Server.emit (node:domain:475:12)
    at parserOnIncoming (node:_http_server:993:12)
    at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)
!Unhandled error for request GET /Products: TypeError: qs.parse is not a function
    at parseExtendedQueryString (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/utils.js:290:13)
    at query (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/middleware/query.js:42:19)
    at Layer.handle [as handle_request] (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/layer.js:95:5)
    at trim_prefix (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:328:13)
    at /data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:286:9
    at Function.process_params (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:346:12)
    at next (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:280:10)
    at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:175:3)
    at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/application.js:181:10)
    at Server.app (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/express.js:39:9)
    at Server.emit (node:events:527:28)
    at Server.emit (node:domain:475:12)
    at parserOnIncoming (node:_http_server:993:12)
    at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)
!â€¤â€¤!!!!!!!!!!â€¤!â€¤!!!!!!!!!!!!!!!!!â€¤â€¤!!!!!!!!,!!,!!!!!!
  !!!!!!!â€¤!!,,!!!!!!!!â€¤!!!!â€¤!!!,,!!!!!!!!!â€¤!!!â€¤!!!!â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  !!!!!!!!!!!â€¤â€¤â€¤!!â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤!!!!!!!!!!!!!!!!!!!!!!!!,,,â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤!!!!!!!!!!!!!!!!!!!!!!!!!,,â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤!!!!!!!!!!!â€¤â€¤!!!!!!!!!!!!!!!!!!!!
  !!!!!!â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤!â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤!!!!!!â€¤â€¤â€¤â€¤â€¤â€¤!!!â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤!â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤!!!!!!!â€¤!â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤!!â€¤â€¤â€¤â€¤â€¤!!!!!!!!!!â€¤â€¤â€¤â€¤â€¤â€¤!!!!â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤

  547 passing (30s)
  14 pending
  461 failing

  1) access control - integration
       /users
         when called anonymously
           GET /api/users
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  2) access control - integration
       /users
         when called with unauthenticated token
           GET /api/users
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  3) access control - integration
       /users
         when called by logged in user
           GET /api/users
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  4) access control - integration
       /users
         when called anonymously
           GET /<dynamic>
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  5) access control - integration
       /users
         when called with unauthenticated token
           GET /<dynamic>
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  6) access control - integration
       /users
         when called by logged in user
           GET /<dynamic>
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  7) access control - integration
       /users
         when called anonymously
           POST /api/users
             should be allowed:
     AssertionError: expected 500 to be within 100..399
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:232:39)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  8) access control - integration
       /users
         when called by logged in user
           POST /api/users
             should be allowed:
     AssertionError: expected 500 to be within 100..399
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:232:39)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  9) access control - integration
       /users
         when called by logged in user
           POST /api/users/logout
             should be allowed:
     AssertionError: expected 500 to be within 100..399
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:232:39)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  10) access control - integration
       /users
         DELETE /api/users
           should not be found:

      AssertionError [ERR_ASSERTION]: 500 == 404
      + expected - actual

      -500
      +404
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:249:12)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  11) access control - integration
       /users
         when called anonymously
           PUT /<dynamic>
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  12) access control - integration
       /users
         when called with unauthenticated token
           PUT /<dynamic>
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  13) access control - integration
       /users
         when called by logged in user
           PUT /<dynamic>
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  14) access control - integration
       /users
         when called anonymously
           PUT /<dynamic>
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  15) access control - integration
       /users
         when called with unauthenticated token
           PUT /<dynamic>
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  16) access control - integration
       /users
         when called by logged in user
           PUT /<dynamic>
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  17) access control - integration
       /users
         when logged in as user
           DELETE /api/users/:id
             should be allowed:
     AssertionError: expected 500 to be within 100..399
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:232:39)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  18) access control - integration
       /users
         when logged in as user
           GET /api/users/:id
             should be allowed:
     AssertionError: expected 500 to be within 100..399
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:232:39)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  19) access control - integration
       /users
         when logged in as user
           PUT /api/users/:id
             should be allowed:
     AssertionError: expected 500 to be within 100..399
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:232:39)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  20) access control - integration
       /users
         when logged in as user
           PATCH /api/users/:id
             should be allowed:
     AssertionError: expected 500 to be within 100..399
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:232:39)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  21) access control - integration
       /users
         when called anonymously
           POST /api/users/upsertWithWhere
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  22) access control - integration
       /users
         when called with unauthenticated token
           POST /api/users/upsertWithWhere
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  23) access control - integration
       /users
         when called by logged in user
           POST /api/users/upsertWithWhere
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  24) access control - integration
       /users
         when called anonymously
           DELETE /<dynamic>
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  25) access control - integration
       /users
         when called with unauthenticated token
           DELETE /<dynamic>
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  26) access control - integration
       /users
         when called by logged in user
           DELETE /<dynamic>
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  27) access control - integration
       /banks
         when called anonymously
           GET /api/banks
             should be allowed:
     AssertionError: expected 500 to be within 100..399
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:232:39)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  28) access control - integration
       /banks
         when called with unauthenticated token
           GET /api/banks
             should be allowed:
     AssertionError: expected 500 to be within 100..399
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:232:39)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  29) access control - integration
       /banks
         when called by logged in user
           GET /api/banks
             should be allowed:
     AssertionError: expected 500 to be within 100..399
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:232:39)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  30) access control - integration
       /banks
         when called anonymously
           GET /<dynamic>
             should be allowed:
     AssertionError: expected 500 to be within 100..399
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:232:39)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  31) access control - integration
       /banks
         when called with unauthenticated token
           GET /<dynamic>
             should be allowed:
     AssertionError: expected 500 to be within 100..399
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:232:39)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  32) access control - integration
       /banks
         when called by logged in user
           GET /<dynamic>
             should be allowed:
     AssertionError: expected 500 to be within 100..399
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:232:39)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  33) access control - integration
       /banks
         when called anonymously
           POST /api/banks
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  34) access control - integration
       /banks
         when called with unauthenticated token
           POST /api/banks
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  35) access control - integration
       /banks
         when called by logged in user
           POST /api/banks
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  36) access control - integration
       /banks
         when called anonymously
           PUT /<dynamic>
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  37) access control - integration
       /banks
         when called with unauthenticated token
           PUT /<dynamic>
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  38) access control - integration
       /banks
         when called by logged in user
           PUT /<dynamic>
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  39) access control - integration
       /banks
         when called anonymously
           DELETE /<dynamic>
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  40) access control - integration
       /banks
         when called with unauthenticated token
           DELETE /<dynamic>
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  41) access control - integration
       /banks
         when called by logged in user
           DELETE /<dynamic>
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  42) access control - integration
       /banks
         when called by logged in user
           DELETE /<dynamic>
             should be allowed:
     AssertionError: expected 500 to be within 100..399
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:232:39)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  43) access control - integration
       /banks
         when called anonymously
           POST /api/banks/upsertWithWhere
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  44) access control - integration
       /banks
         when called with unauthenticated token
           POST /api/banks/upsertWithWhere
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  45) access control - integration
       /banks
         when called by logged in user
           POST /api/banks/upsertWithWhere
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  46) access control - integration
       /accounts with replaceOnPUT true
         when called anonymously
           GET /api/accounts-replacing
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  47) access control - integration
       /accounts with replaceOnPUT true
         when called with unauthenticated token
           GET /api/accounts-replacing
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  48) access control - integration
       /accounts with replaceOnPUT true
         when called by logged in user
           GET /api/accounts-replacing
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  49) access control - integration
       /accounts with replaceOnPUT true
         when called anonymously
           GET /<dynamic>
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  50) access control - integration
       /accounts with replaceOnPUT true
         when called with unauthenticated token
           GET /<dynamic>
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  51) access control - integration
       /accounts with replaceOnPUT true
         when called by logged in user
           GET /<dynamic>
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  52) access control - integration
       /accounts with replaceOnPUT true
         when called anonymously
           POST /api/accounts-replacing
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  53) access control - integration
       /accounts with replaceOnPUT true
         when called with unauthenticated token
           POST /api/accounts-replacing
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  54) access control - integration
       /accounts with replaceOnPUT true
         when called by logged in user
           POST /api/accounts-replacing
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  55) access control - integration
       /accounts with replaceOnPUT true
         when called anonymously
           POST /<dynamic>
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  56) access control - integration
       /accounts with replaceOnPUT true
         when called with unauthenticated token
           POST /<dynamic>
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  57) access control - integration
       /accounts with replaceOnPUT true
         when called by logged in user
           POST /<dynamic>
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  58) access control - integration
       /accounts with replaceOnPUT true
         when called anonymously
           PUT /<dynamic>
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  59) access control - integration
       /accounts with replaceOnPUT true
         when called with unauthenticated token
           PUT /<dynamic>
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  60) access control - integration
       /accounts with replaceOnPUT true
         when called by logged in user
           PUT /<dynamic>
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  61) access control - integration
       /accounts with replaceOnPUT true
         when called anonymously
           PATCH /<dynamic>
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  62) access control - integration
       /accounts with replaceOnPUT true
         when called with unauthenticated token
           PATCH /<dynamic>
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  63) access control - integration
       /accounts with replaceOnPUT true
         when called by logged in user
           PATCH /<dynamic>
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  64) access control - integration
       /accounts with replaceOnPUT true
         when logged in as user
           PATCH /api/accounts-replacing/:id
             should be allowed:
     AssertionError: expected 500 to be within 100..399
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:232:39)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  65) access control - integration
       /accounts with replaceOnPUT true
         when logged in as user
           PUT /api/accounts-replacing/:id
             should be allowed:
     AssertionError: expected 500 to be within 100..399
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:232:39)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  66) access control - integration
       /accounts with replaceOnPUT true
         when logged in as user
           GET /api/accounts-replacing/:id
             should be allowed:
     AssertionError: expected 500 to be within 100..399
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:232:39)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  67) access control - integration
       /accounts with replaceOnPUT true
         when logged in as user
           DELETE /api/accounts-replacing/:id
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  68) access control - integration
       /accounts with replaceOnPUT true
         when logged in as user
           replace on POST verb
             POST /api/accounts-replacing/:id/replace
               should be allowed:
     AssertionError: expected 500 to be within 100..399
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:232:39)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  69) access control - integration
       /accounts with replaceOnPUT true
         when called anonymously
           DELETE /<dynamic>
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  70) access control - integration
       /accounts with replaceOnPUT true
         when called with unauthenticated token
           DELETE /<dynamic>
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  71) access control - integration
       /accounts with replaceOnPUT true
         when called by logged in user
           DELETE /<dynamic>
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  72) access control - integration
       /accounts with replaceOnPUT false
         when called anonymously
           POST /<dynamic>
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  73) access control - integration
       /accounts with replaceOnPUT false
         when called with unauthenticated token
           POST /<dynamic>
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  74) access control - integration
       /accounts with replaceOnPUT false
         when called by logged in user
           POST /<dynamic>
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  75) access control - integration
       /accounts with replaceOnPUT false
         when called anonymously
           PUT /<dynamic>
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  76) access control - integration
       /accounts with replaceOnPUT false
         when called with unauthenticated token
           PUT /<dynamic>
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  77) access control - integration
       /accounts with replaceOnPUT false
         when called by logged in user
           PUT /<dynamic>
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  78) access control - integration
       /accounts with replaceOnPUT false
         when called anonymously
           PATCH /<dynamic>
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  79) access control - integration
       /accounts with replaceOnPUT false
         when called with unauthenticated token
           PATCH /<dynamic>
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  80) access control - integration
       /accounts with replaceOnPUT false
         when called by logged in user
           PATCH /<dynamic>
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  81) access control - integration
       /accounts with replaceOnPUT false
         when logged in as user
           PATCH /api/accounts-updating/:id
             should be allowed:
     AssertionError: expected 500 to be within 100..399
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:232:39)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  82) access control - integration
       /accounts with replaceOnPUT false
         when logged in as user
           PUT /api/accounts-updating/:id
             should be allowed:
     AssertionError: expected 500 to be within 100..399
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:232:39)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  83) access control - integration
       /accounts with replaceOnPUT false
         when logged in as user
           GET /api/accounts-updating/:id
             should be allowed:
     AssertionError: expected 500 to be within 100..399
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:232:39)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  84) access control - integration
       /accounts with replaceOnPUT false
         when logged in as user
           DELETE /api/accounts-updating/:id
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  85) access control - integration
       /accounts with replaceOnPUT false
         when logged in as user
           replace on POST verb
             POST /api/accounts-updating/:id/replace
               should be allowed:
     AssertionError: expected 500 to be within 100..399
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:232:39)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  86) access control - integration
       /accounts with replaceOnPUT false
         when called anonymously
           DELETE /<dynamic>
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  87) access control - integration
       /accounts with replaceOnPUT false
         when called with unauthenticated token
           DELETE /<dynamic>
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  88) access control - integration
       /accounts with replaceOnPUT false
         when called by logged in user
           DELETE /<dynamic>
             should not be allowed:

      AssertionError: expected 500 to equal 401
      + expected - actual

      -500
      +401
      
      at Context.<anonymous> (test/helpers/loopback-testing-helper.js:242:36)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  89) loopback.token(options)
       defaults to built-in AccessToken model:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  90) loopback.token(options)
       uses correct custom AccessToken model from model class param:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  91) loopback.token(options)
       uses correct custom AccessToken model from string param:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  92) loopback.token(options)
       populates req.token from the query string:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  93) loopback.token(options)
       populates req.token from an authorization header:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  94) loopback.token(options)
       populates req.token from an X-Access-Token header:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  95) loopback.token(options)
       does not search default keys when searchDefaultTokenKeys is false:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  96) loopback.token(options)
       populates req.token from an authorization header with bearer token with base64:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  97) loopback.token(options)
       populates req.token from an authorization header with bearer token:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  98) loopback.token(options)
       populates req.token from a secure cookie:
     Uncaught TypeError [ERR_HTTP_INVALID_HEADER_VALUE]: Invalid value "undefined" for header "Cookie"
      at ClientRequest.setHeader (node:_http_outgoing:598:3)
      at Request.request (node_modules/superagent/lib/node/index.js:660:11)
      at Request.end (node_modules/superagent/lib/node/index.js:764:8)
      at Test.end (node_modules/supertest/lib/test.js:125:7)
      at Test.<anonymous> (test/access-token.test.js:238:12)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  99) loopback.token(options)
       populates req.token from a header or a secure cookie:
     Uncaught TypeError [ERR_HTTP_INVALID_HEADER_VALUE]: Invalid value "undefined" for header "Cookie"
      at ClientRequest.setHeader (node:_http_outgoing:598:3)
      at Request.request (node_modules/superagent/lib/node/index.js:660:11)
      at Request.end (node_modules/superagent/lib/node/index.js:764:8)
      at Test.end (node_modules/supertest/lib/test.js:125:7)
      at Test.<anonymous> (test/access-token.test.js:252:12)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  100) loopback.token(options)
       rewrites url for the current user literal at the end without query:

      Uncaught AssertionError [ERR_ASSERTION]: Expected values to be loosely deep-equal:

{}

should loosely deep-equal

{
  userId: 123
}
      + expected - actual

      -{}
      +{
      +  "userId": 123
      +}
      
      at Test.<anonymous> (test/access-token.test.js:266:18)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  101) loopback.token(options)
       rewrites url for the current user literal at the end with query:

      Uncaught AssertionError [ERR_ASSERTION]: Expected values to be loosely deep-equal:

{}

should loosely deep-equal

{
  state: 1,
  userId: 123
}
      + expected - actual

      -{}
      +{
      +  "state": 1
      +  "userId": 123
      +}
      
      at Test.<anonymous> (test/access-token.test.js:282:18)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  102) loopback.token(options)
       rewrites url for the current user literal in the middle:

      Uncaught AssertionError [ERR_ASSERTION]: Expected values to be loosely deep-equal:

{}

should loosely deep-equal

{
  state: 1,
  userId: 123
}
      + expected - actual

      -{}
      +{
      +  "state": 1
      +  "userId": 123
      +}
      
      at Test.<anonymous> (test/access-token.test.js:298:18)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  103) loopback.token(options)
       generates a 401 on a current user literal route without an authToken:
     Error: expected 401 "Unauthorized", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  104) loopback.token(options)
       generates a 401 on a current user literal route with empty authToken:
     Error: expected 401 "Unauthorized", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  105) loopback.token(options)
       generates a 401 on a current user literal route with invalid authToken:
     Error: expected 401 "Unauthorized", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  106) loopback.token(options)
       skips when req.token is already present:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  107) loopback.token(options)
       populating req.token from HTTP Basic Auth formatted authorization header
         parses "standalone-token":
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  108) loopback.token(options)
       populating req.token from HTTP Basic Auth formatted authorization header
         parses "token-and-empty-password:":
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  109) loopback.token(options)
       populating req.token from HTTP Basic Auth formatted authorization header
         parses "ignored-user:token-is-password":
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  110) loopback.token(options)
       populating req.token from HTTP Basic Auth formatted authorization header
         parses "token-is-username:ignored-password":
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  111) loopback.token(options)
       loading multiple instances of token middleware
         skips when req.token is already present and no further options are set:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  112) loopback.token(options)
       loading multiple instances of token middleware
         does not overwrite valid existing token (has "id" property)  when overwriteExistingToken is falsy:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  113) loopback.token(options)
       loading multiple instances of token middleware
         overwrites invalid existing token (is !== undefined and has no "id" property)  when enableDoublecheck is true:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  114) loopback.token(options)
       loading multiple instances of token middleware
         overwrites existing token when enableDoublecheck and overwriteExistingToken options are truthy:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  115) app.enableAuth()
       prevents remote call with 401 status on denied ACL:
     Error: expected 401 "Unauthorized", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  116) app.enableAuth()
       denies remote call with app setting status 403:
     Error: expected 403 "Forbidden", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  117) app.enableAuth()
       denies remote call with app setting status 404:
     Error: expected 404 "Not Found", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  118) app.enableAuth()
       prevents remote call if the accessToken is missing and required:
     Error: expected 401 "Unauthorized", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  119) app.enableAuth()
       stores token in the context:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  120) app.enableAuth()
       checks whether context is active:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  121) access check
       should occur before other remote hooks:

      Uncaught AssertionError [ERR_ASSERTION]: the before hook should be called
      + expected - actual

      -false
      +true
      
      at Test.<anonymous> (test/acl.test.js:548:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  122) authorized roles propagation in RemotingContext
       contains all authorized roles for a principal if query is allowed:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  123) authorized roles propagation in RemotingContext
       does not contain any denied role even if query is allowed:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  124) authorized roles propagation in RemotingContext
       honors default permission setting:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  125) app
       .middleware(phase, handler)
         runs middleware in phases:
     TypeError: qs.parse is not a function
      at parseExtendedQueryString (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/utils.js:290:13)
      at query (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/middleware/query.js:42:19)
      at Layer.handle [as handle_request] (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/layer.js:95:5)
      at trim_prefix (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:328:13)
      at /data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:286:9
      at Function.process_params (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:346:12)
      at next (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:280:10)
      at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:175:3)
      at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/application.js:181:10)
      at Server.<anonymous> (test/app.test.js:1208:9)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at parserOnIncoming (node:_http_server:993:12)
      at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)

  126) app
       .middleware(phase, handler)
         preserves order of handlers in the same phase:
     TypeError: qs.parse is not a function
      at parseExtendedQueryString (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/utils.js:290:13)
      at query (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/middleware/query.js:42:19)
      at Layer.handle [as handle_request] (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/layer.js:95:5)
      at trim_prefix (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:328:13)
      at /data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:286:9
      at Function.process_params (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:346:12)
      at next (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:280:10)
      at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:175:3)
      at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/application.js:181:10)
      at Server.<anonymous> (test/app.test.js:1208:9)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at parserOnIncoming (node:_http_server:993:12)
      at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)

  127) app
       .middleware(phase, handler)
         supports `before:` and `after:` prefixes:
     TypeError: qs.parse is not a function
      at parseExtendedQueryString (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/utils.js:290:13)
      at query (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/middleware/query.js:42:19)
      at Layer.handle [as handle_request] (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/layer.js:95:5)
      at trim_prefix (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:328:13)
      at /data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:286:9
      at Function.process_params (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:346:12)
      at next (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:280:10)
      at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:175:3)
      at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/application.js:181:10)
      at Server.<anonymous> (test/app.test.js:1208:9)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at parserOnIncoming (node:_http_server:993:12)
      at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)

  128) app
       .middleware(phase, handler)
         allows extra handlers on express stack during app.use:
     TypeError: qs.parse is not a function
      at parseExtendedQueryString (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/utils.js:290:13)
      at query (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/middleware/query.js:42:19)
      at Layer.handle [as handle_request] (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/layer.js:95:5)
      at trim_prefix (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:328:13)
      at /data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:286:9
      at Function.process_params (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:346:12)
      at next (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:280:10)
      at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:175:3)
      at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/application.js:181:10)
      at Server.<anonymous> (test/app.test.js:1208:9)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at parserOnIncoming (node:_http_server:993:12)
      at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)

  129) app
       .middleware(phase, handler)
         allows handlers to be wrapped as __NR_handler on express stack:
     TypeError: qs.parse is not a function
      at parseExtendedQueryString (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/utils.js:290:13)
      at query (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/middleware/query.js:42:19)
      at Layer.handle [as handle_request] (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/layer.js:95:5)
      at trim_prefix (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:328:13)
      at /data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:286:9
      at Function.process_params (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:346:12)
      at next (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:280:10)
      at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:175:3)
      at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/application.js:181:10)
      at Server.<anonymous> (test/app.test.js:1208:9)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at parserOnIncoming (node:_http_server:993:12)
      at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)

  130) app
       .middleware(phase, handler)
         allows handlers to be wrapped as __appdynamicsProxyInfo__ on express stack:
     TypeError: qs.parse is not a function
      at parseExtendedQueryString (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/utils.js:290:13)
      at query (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/middleware/query.js:42:19)
      at Layer.handle [as handle_request] (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/layer.js:95:5)
      at trim_prefix (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:328:13)
      at /data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:286:9
      at Function.process_params (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:346:12)
      at next (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:280:10)
      at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:175:3)
      at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/application.js:181:10)
      at Server.<anonymous> (test/app.test.js:1208:9)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at parserOnIncoming (node:_http_server:993:12)
      at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)

  131) app
       .middleware(phase, handler)
         allows handlers to be wrapped as a property on express stack:
     TypeError: qs.parse is not a function
      at parseExtendedQueryString (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/utils.js:290:13)
      at query (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/middleware/query.js:42:19)
      at Layer.handle [as handle_request] (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/layer.js:95:5)
      at trim_prefix (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:328:13)
      at /data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:286:9
      at Function.process_params (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:346:12)
      at next (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:280:10)
      at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:175:3)
      at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/application.js:181:10)
      at Server.<anonymous> (test/app.test.js:1208:9)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at parserOnIncoming (node:_http_server:993:12)
      at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)

  132) app
       .middleware(phase, handler)
         injects error from previous phases into the router:

      AssertionError: expected TypeError: qs.parse is not a function to equal Error: expected error
      + expected - actual


      at errorHandler (test/app.test.js:180:24)
      at Layer.handle_error (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/layer.js:71:5)
      at trim_prefix (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:326:13)
      at /data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:286:9
      at Function.process_params (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:346:12)
      at next (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:280:10)
      at Layer.handle_error (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/layer.js:67:12)
      at trim_prefix (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:326:13)
      at /data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:286:9
      at Function.process_params (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:346:12)
      at next (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:280:10)
      at Layer.handle_error (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/layer.js:67:12)
      at trim_prefix (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:326:13)
      at /data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:286:9
      at Function.process_params (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:346:12)
      at next (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:280:10)

  133) app
       .middleware(phase, handler)
         passes unhandled error to callback:

      Uncaught AssertionError: expected TypeError: qs.parse is not a function to equal Error: expected error
      + expected - actual


      at /data/js-variants/multee/Clients/express/loopback/test/app.test.js:203:24
      at Test.<anonymous> (test/app.test.js:1228:7)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  134) app
       .middleware(phase, handler)
         passes errors to error handlers in the same phase:

      Uncaught AssertionError: expected TypeError: qs.parse is not a function to equal Error: this should be handled by middlewaâ€¦
      + expected - actual


      at /data/js-variants/multee/Clients/express/loopback/test/app.test.js:230:33
      at Test.<anonymous> (test/app.test.js:1228:7)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  135) app
       .middleware(phase, handler)
         scopes middleware to a string path:
     TypeError: qs.parse is not a function
      at parseExtendedQueryString (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/utils.js:290:13)
      at query (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/middleware/query.js:42:19)
      at Layer.handle [as handle_request] (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/layer.js:95:5)
      at trim_prefix (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:328:13)
      at /data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:286:9
      at Function.process_params (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:346:12)
      at next (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:280:10)
      at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:175:3)
      at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/application.js:181:10)
      at Server.<anonymous> (test/app.test.js:1208:9)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at parserOnIncoming (node:_http_server:993:12)
      at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)

  136) app
       .middleware(phase, handler)
         scopes middleware to a regex path:
     TypeError: qs.parse is not a function
      at parseExtendedQueryString (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/utils.js:290:13)
      at query (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/middleware/query.js:42:19)
      at Layer.handle [as handle_request] (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/layer.js:95:5)
      at trim_prefix (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:328:13)
      at /data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:286:9
      at Function.process_params (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:346:12)
      at next (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:280:10)
      at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:175:3)
      at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/application.js:181:10)
      at Server.<anonymous> (test/app.test.js:1208:9)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at parserOnIncoming (node:_http_server:993:12)
      at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)

  137) app
       .middleware(phase, handler)
         scopes middleware to a list of scopes:
     TypeError: qs.parse is not a function
      at parseExtendedQueryString (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/utils.js:290:13)
      at query (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/middleware/query.js:42:19)
      at Layer.handle [as handle_request] (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/layer.js:95:5)
      at trim_prefix (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:328:13)
      at /data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:286:9
      at Function.process_params (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:346:12)
      at next (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:280:10)
      at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:175:3)
      at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/application.js:181:10)
      at Server.<anonymous> (test/app.test.js:1208:9)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at parserOnIncoming (node:_http_server:993:12)
      at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)

  138) app
       .middleware(phase, handler)
         sets req.url to a sub-path:
     TypeError: qs.parse is not a function
      at parseExtendedQueryString (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/utils.js:290:13)
      at query (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/middleware/query.js:42:19)
      at Layer.handle [as handle_request] (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/layer.js:95:5)
      at trim_prefix (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:328:13)
      at /data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:286:9
      at Function.process_params (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:346:12)
      at next (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:280:10)
      at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:175:3)
      at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/application.js:181:10)
      at Server.<anonymous> (test/app.test.js:1208:9)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at parserOnIncoming (node:_http_server:993:12)
      at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)

  139) app
       .middleware(phase, handler)
         exposes express helpers on req and res objects:
     TypeError: qs.parse is not a function
      at parseExtendedQueryString (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/utils.js:290:13)
      at query (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/middleware/query.js:42:19)
      at Layer.handle [as handle_request] (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/layer.js:95:5)
      at trim_prefix (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:328:13)
      at /data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:286:9
      at Function.process_params (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:346:12)
      at next (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:280:10)
      at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:175:3)
      at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/application.js:181:10)
      at Server.<anonymous> (test/app.test.js:1208:9)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at parserOnIncoming (node:_http_server:993:12)
      at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)

  140) app
       .middleware(phase, handler)
         sets req.baseUrl and req.originalUrl:
     TypeError: qs.parse is not a function
      at parseExtendedQueryString (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/utils.js:290:13)
      at query (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/middleware/query.js:42:19)
      at Layer.handle [as handle_request] (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/layer.js:95:5)
      at trim_prefix (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:328:13)
      at /data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:286:9
      at Function.process_params (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:346:12)
      at next (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:280:10)
      at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:175:3)
      at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/application.js:181:10)
      at Server.<anonymous> (test/app.test.js:1208:9)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at parserOnIncoming (node:_http_server:993:12)
      at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)

  141) app
       .middleware(phase, handler)
         preserves correct order of routes vs. middleware:
     TypeError: qs.parse is not a function
      at parseExtendedQueryString (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/utils.js:290:13)
      at query (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/middleware/query.js:42:19)
      at Layer.handle [as handle_request] (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/layer.js:95:5)
      at trim_prefix (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:328:13)
      at /data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:286:9
      at Function.process_params (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:346:12)
      at next (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:280:10)
      at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:175:3)
      at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/application.js:181:10)
      at Server.<anonymous> (test/app.test.js:1208:9)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at parserOnIncoming (node:_http_server:993:12)
      at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)

  142) app
       .middleware(phase, handler)
         preserves order of middleware in the same phase:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/data/js-variants/multee/Clients/express/loopback/test/app.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)

  143) app
       .middleware(phase, handler)
         correctly mounts express apps:
     TypeError: qs.parse is not a function
      at parseExtendedQueryString (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/utils.js:290:13)
      at query (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/middleware/query.js:42:19)
      at Layer.handle [as handle_request] (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/layer.js:95:5)
      at trim_prefix (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:328:13)
      at /data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:286:9
      at Function.process_params (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:346:12)
      at next (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:280:10)
      at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:175:3)
      at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/application.js:181:10)
      at Server.<anonymous> (test/app.test.js:1208:9)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at parserOnIncoming (node:_http_server:993:12)
      at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)

  144) app
       .middleware(phase, handler)
         restores req & res on return from mounted express app:
     TypeError: qs.parse is not a function
      at parseExtendedQueryString (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/utils.js:290:13)
      at query (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/middleware/query.js:42:19)
      at Layer.handle [as handle_request] (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/layer.js:95:5)
      at trim_prefix (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:328:13)
      at /data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:286:9
      at Function.process_params (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:346:12)
      at next (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:280:10)
      at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:175:3)
      at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/application.js:181:10)
      at Server.<anonymous> (test/app.test.js:1208:9)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at parserOnIncoming (node:_http_server:993:12)
      at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)

  145) app
       .middlewareFromConfig
         provides API for loading middleware from JSON config:
     TypeError: qs.parse is not a function
      at parseExtendedQueryString (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/utils.js:290:13)
      at query (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/middleware/query.js:42:19)
      at Layer.handle [as handle_request] (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/layer.js:95:5)
      at trim_prefix (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:328:13)
      at /data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:286:9
      at Function.process_params (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:346:12)
      at next (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:280:10)
      at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:175:3)
      at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/application.js:181:10)
      at Server.<anonymous> (test/app.test.js:1208:9)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at parserOnIncoming (node:_http_server:993:12)
      at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)

  146) app
       .middlewareFromConfig
         scopes middleware from config to a list of scopes:
     TypeError: qs.parse is not a function
      at parseExtendedQueryString (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/utils.js:290:13)
      at query (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/middleware/query.js:42:19)
      at Layer.handle [as handle_request] (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/layer.js:95:5)
      at trim_prefix (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:328:13)
      at /data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:286:9
      at Function.process_params (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:346:12)
      at next (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:280:10)
      at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:175:3)
      at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/application.js:181:10)
      at Server.<anonymous> (test/app.test.js:1208:9)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at parserOnIncoming (node:_http_server:993:12)
      at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)

  147) app
       .defineMiddlewarePhases(nameOrArray)
         adds the phase just before `routes` by default:
     TypeError: qs.parse is not a function
      at parseExtendedQueryString (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/utils.js:290:13)
      at query (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/middleware/query.js:42:19)
      at Layer.handle [as handle_request] (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/layer.js:95:5)
      at trim_prefix (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:328:13)
      at /data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:286:9
      at Function.process_params (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:346:12)
      at next (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:280:10)
      at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:175:3)
      at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/application.js:181:10)
      at Server.<anonymous> (test/app.test.js:1208:9)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at parserOnIncoming (node:_http_server:993:12)
      at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)

  148) app
       .defineMiddlewarePhases(nameOrArray)
         merges phases adding to the start of the list:
     TypeError: qs.parse is not a function
      at parseExtendedQueryString (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/utils.js:290:13)
      at query (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/middleware/query.js:42:19)
      at Layer.handle [as handle_request] (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/layer.js:95:5)
      at trim_prefix (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:328:13)
      at /data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:286:9
      at Function.process_params (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:346:12)
      at next (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:280:10)
      at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:175:3)
      at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/application.js:181:10)
      at Server.<anonymous> (test/app.test.js:1208:9)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at parserOnIncoming (node:_http_server:993:12)
      at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)

  149) app
       .defineMiddlewarePhases(nameOrArray)
         merges phases preserving the order:
     TypeError: qs.parse is not a function
      at parseExtendedQueryString (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/utils.js:290:13)
      at query (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/middleware/query.js:42:19)
      at Layer.handle [as handle_request] (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/layer.js:95:5)
      at trim_prefix (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:328:13)
      at /data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:286:9
      at Function.process_params (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:346:12)
      at next (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:280:10)
      at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/router/index.js:175:3)
      at Function.handle (/data/js-variants/multee/VariantsDeps/express/variant8/express/lib/application.js:181:10)
      at Server.<anonymous> (test/app.test.js:1208:9)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at parserOnIncoming (node:_http_server:993:12)
      at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)

  150) app
       listen()
         starts http server:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at localAssert (node_modules/supertest/lib/test.js:131:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/supertest/lib/test.js:128:5
      at Request.callback (node_modules/superagent/lib/node/index.js:728:3)
      at IncomingMessage.<anonymous> (node_modules/superagent/lib/node/index.js:916:18)
      at IncomingMessage.emit (node:events:539:35)
      at IncomingMessage.emit (node:domain:475:12)
      at endReadableNT (node:internal/streams/readable:1344:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:82:21)

  151) app
       app.get('/', loopback.status())
         should return the status of the application:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  152) app
       Model-level normalizeHttpPath option
         honours Model-level setting of `false`:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  153) app
       Model-level normalizeHttpPath option
         honours Model-level setting of `true`:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  154) app
       app-level normalizeHttpPath option
         honours app-level setting of `false`:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  155) app
       app-level normalizeHttpPath option
         honours app-level setting of `true`:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  156) app
       Model-level and app-level normalizeHttpPath options
         prioritizes Model-level setting over the app-level one:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  157) Authorization scopes
       denies regular token to invoke custom-scoped method:
     Error: expected 401 "Unauthorized", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  158) Authorization scopes
       allows regular tokens to invoke default-scoped method:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  159) Authorization scopes
       allows scoped token to invoke custom-scoped method:
     Error: expected 204 "No Content", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  160) Authorization scopes
       denies scoped token to invoke default-scoped method:
     Error: expected 401 "Unauthorized", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  161) Authorization scopes
       allows invocation when at least one method scope is matched:
     Error: expected 204 "No Content", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  162) Authorization scopes
       token granted both default and custom scope
         allows invocation of default-scoped method:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  163) Authorization scopes
       token granted both default and custom scope
         allows invocation of custom-scoped method:
     Error: expected 204 "No Content", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  164) OptionsFromRemotingContext
       when making updates via REST
         injects options to create():
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  165) OptionsFromRemotingContext
       when making updates via REST
         injects options to patchOrCreate():
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  166) OptionsFromRemotingContext
       when making updates via REST
         injects options to replaceOrCreate():
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  167) OptionsFromRemotingContext
       when making updates via REST
         injects options to patchOrCreateWithWhere():
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  168) OptionsFromRemotingContext
       when making updates via REST
         injects options to replaceById():
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  169) OptionsFromRemotingContext
       when making updates via REST
         injects options to prototype.patchAttributes():
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  170) OptionsFromRemotingContext
       when making updates via REST
         injects options to updateAll():
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  171) OptionsFromRemotingContext
       when deleting via REST
         injects options to deleteById():
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  172) OptionsFromRemotingContext
       when querying via REST
         injects options to find():
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  173) OptionsFromRemotingContext
       when querying via REST
         injects options to findById():
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  174) OptionsFromRemotingContext
       when querying via REST
         injects options to findOne():
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  175) OptionsFromRemotingContext
       when querying via REST
         injects options to exists():
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  176) OptionsFromRemotingContext
       when querying via REST
         injects options to count():
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  177) OptionsFromRemotingContext
       when invoking prototype methods
         injects options to sharedCtor:
     Error: expected 204 "No Content", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  178) OptionsFromRemotingContext
       hasManyThrough
         injects options to findById:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  179) OptionsFromRemotingContext
       hasManyThrough
         injects options to destroyById:
     Error: expected 204 "No Content", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  180) OptionsFromRemotingContext
       hasManyThrough
         injects options to updateById:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  181) OptionsFromRemotingContext
       hasManyThrough
         through-model operations
           injects options to link:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  182) OptionsFromRemotingContext
       hasManyThrough
         through-model operations
           injects options to unlink:
     Error: expected 204 "No Content", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  183) OptionsFromRemotingContext
       hasManyThrough
         through-model operations
           injects options to exists:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  184) OptionsFromRemotingContext
       hasManyThrough
         scope operations
           injects options to get:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  185) OptionsFromRemotingContext
       hasManyThrough
         scope operations
           injects options to create:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  186) OptionsFromRemotingContext
       hasManyThrough
         scope operations
           injects options to delete:
     Error: expected 204 "No Content", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  187) OptionsFromRemotingContext
       hasManyThrough
         scope operations
           injects options to count:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  188) OptionsFromRemotingContext
       hasOne
         injects options to get:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  189) OptionsFromRemotingContext
       hasOne
         injects options to create:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  190) OptionsFromRemotingContext
       hasOne
         injects options to update:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  191) OptionsFromRemotingContext
       hasOne
         injects options to destroy:
     Error: expected 204 "No Content", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  192) OptionsFromRemotingContext
       belongsTo
         injects options to get:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  193) hidden properties
       should hide a property remotely:
     Error: expected "Content-Type" matching /json/, got "text/html; charset=utf-8"
      at Test._assertHeader (node_modules/supertest/lib/test.js:245:14)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  194) hidden properties
       should hide a property of nested models:
     Error: expected "Content-Type" matching /json/, got "text/html; charset=utf-8"
      at Test._assertHeader (node_modules/supertest/lib/test.js:245:14)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  195) loopback application
       pauses request stream during authentication:
     Uncaught AssertionError: expected 'HTTP/1.1 500 Internal Server Error\r\â€¦' to match /\nX$/
      at /data/js-variants/multee/Clients/express/loopback/test/integration.test.js:29:26
      at callCb (test/integration.test.js:95:9)
      at Socket.<anonymous> (test/integration.test.js:85:9)
      at Socket.emit (node:events:539:35)
      at Socket.emit (node:domain:475:12)
      at endReadableNT (node:internal/streams/readable:1344:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:82:21)

  196) KeyValueModel
       REST API
         provides "get(key)" at "GET /key":

      Uncaught AssertionError: expected {} to deeply equal { name: 'an-object' }
      + expected - actual

      -{}
      +{
      +  "name": "an-object"
      +}
      
      at Test.<anonymous> (test/key-value-model.test.js:26:31)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at localAssert (node_modules/supertest/lib/test.js:131:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/supertest/lib/test.js:128:5
      at Request.callback (node_modules/superagent/lib/node/index.js:728:3)
      at IncomingMessage.<anonymous> (node_modules/superagent/lib/node/index.js:916:18)
      at IncomingMessage.emit (node:events:539:35)
      at IncomingMessage.emit (node:domain:475:12)
      at endReadableNT (node:internal/streams/readable:1344:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:82:21)

  197) KeyValueModel
       REST API
         returns 404 when getting a key that does not exist:
     Error: expected 404 "Not Found", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at localAssert (node_modules/supertest/lib/test.js:131:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/supertest/lib/test.js:128:5
      at Request.callback (node_modules/superagent/lib/node/index.js:728:3)
      at IncomingMessage.<anonymous> (node_modules/superagent/lib/node/index.js:916:18)
      at IncomingMessage.emit (node:events:539:35)
      at IncomingMessage.emit (node:domain:475:12)
      at endReadableNT (node:internal/streams/readable:1344:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:82:21)

  198) KeyValueModel
       REST API
         provides "set(key)" at "PUT /key":
     Error: expected 204 "No Content", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at localAssert (node_modules/supertest/lib/test.js:131:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/supertest/lib/test.js:128:5
      at Request.callback (node_modules/superagent/lib/node/index.js:728:3)
      at IncomingMessage.<anonymous> (node_modules/superagent/lib/node/index.js:916:18)
      at IncomingMessage.emit (node:events:539:35)
      at IncomingMessage.emit (node:domain:475:12)
      at endReadableNT (node:internal/streams/readable:1344:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:82:21)

  199) KeyValueModel
       REST API
         returns 404 when expiring a key that does not exist:
     Error: expected 404 "Not Found", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at localAssert (node_modules/supertest/lib/test.js:131:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/supertest/lib/test.js:128:5
      at Request.callback (node_modules/superagent/lib/node/index.js:728:3)
      at IncomingMessage.<anonymous> (node_modules/superagent/lib/node/index.js:916:18)
      at IncomingMessage.emit (node:events:539:35)
      at IncomingMessage.emit (node:domain:475:12)
      at endReadableNT (node:internal/streams/readable:1344:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:82:21)

  200) KeyValueModel
       REST API
         provides "ttl(key)" at "GET /key/ttl":
     Uncaught AssertionError: expected {} to be a number
      at Test.<anonymous> (test/key-value-model.test.js:97:38)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at localAssert (node_modules/supertest/lib/test.js:131:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/supertest/lib/test.js:128:5
      at Request.callback (node_modules/superagent/lib/node/index.js:728:3)
      at IncomingMessage.<anonymous> (node_modules/superagent/lib/node/index.js:916:18)
      at IncomingMessage.emit (node:events:539:35)
      at IncomingMessage.emit (node:domain:475:12)
      at endReadableNT (node:internal/streams/readable:1344:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:82:21)

  201) KeyValueModel
       REST API
         returns 204 when getting TTL for a key that does not have TTL set:
     Error: expected 204 "No Content", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at localAssert (node_modules/supertest/lib/test.js:131:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/supertest/lib/test.js:128:5
      at Request.callback (node_modules/superagent/lib/node/index.js:728:3)
      at IncomingMessage.<anonymous> (node_modules/superagent/lib/node/index.js:916:18)
      at IncomingMessage.emit (node:events:539:35)
      at IncomingMessage.emit (node:domain:475:12)
      at endReadableNT (node:internal/streams/readable:1344:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:82:21)

  202) KeyValueModel
       REST API
         returns 404 when getting TTL for a key when TTL has expired:
     Error: expected 404 "Not Found", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at localAssert (node_modules/supertest/lib/test.js:131:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/supertest/lib/test.js:128:5
      at Request.callback (node_modules/superagent/lib/node/index.js:728:3)
      at IncomingMessage.<anonymous> (node_modules/superagent/lib/node/index.js:916:18)
      at IncomingMessage.emit (node:events:539:35)
      at IncomingMessage.emit (node:domain:475:12)
      at endReadableNT (node:internal/streams/readable:1344:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:82:21)

  203) KeyValueModel
       REST API
         returns 404 when getting TTL for a key that does not exist:
     Error: expected 404 "Not Found", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at localAssert (node_modules/supertest/lib/test.js:131:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/supertest/lib/test.js:128:5
      at Request.callback (node_modules/superagent/lib/node/index.js:728:3)
      at IncomingMessage.<anonymous> (node_modules/superagent/lib/node/index.js:916:18)
      at IncomingMessage.emit (node:events:539:35)
      at IncomingMessage.emit (node:domain:475:12)
      at endReadableNT (node:internal/streams/readable:1344:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:82:21)

  204) KeyValueModel
       REST API
         provides "keys(filter)" at "GET /keys":
     Uncaught AssertionError: expected {} to deeply equal [ 'list-key' ]
      at Test.<anonymous> (test/key-value-model.test.js:139:33)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at localAssert (node_modules/supertest/lib/test.js:131:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/supertest/lib/test.js:128:5
      at Request.callback (node_modules/superagent/lib/node/index.js:728:3)
      at IncomingMessage.<anonymous> (node_modules/superagent/lib/node/index.js:916:18)
      at IncomingMessage.emit (node:events:539:35)
      at IncomingMessage.emit (node:domain:475:12)
      at endReadableNT (node:internal/streams/readable:1344:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:82:21)

  205) Remote Methods
       Model.create(data, callback)
         creates model:
     Error: expected "Content-Type" matching /json/, got "text/html; charset=utf-8"
      at Test._assertHeader (node_modules/supertest/lib/test.js:245:14)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  206) Remote Methods
       Model.create(data, callback)
         creates array of models:
     Error: expected "Content-Type" matching /json/, got "text/html; charset=utf-8"
      at Test._assertHeader (node_modules/supertest/lib/test.js:245:14)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  207) Remote Methods
       Model.create(data, callback)
         creates related models:
     Error: expected "Content-Type" matching /json/, got "text/html; charset=utf-8"
      at Test._assertHeader (node_modules/supertest/lib/test.js:245:14)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  208) Remote Methods
       Model.create(data, callback)
         creates array of hasMany models:
     Error: expected "Content-Type" matching /json/, got "text/html; charset=utf-8"
      at Test._assertHeader (node_modules/supertest/lib/test.js:245:14)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  209) Remote Methods
       Model.create(data, callback)
         rejects array of obj input for hasOne relation:
     Error: expected "Content-Type" matching /json/, got "text/html; charset=utf-8"
      at Test._assertHeader (node_modules/supertest/lib/test.js:245:14)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  210) Remote Methods
       Example Remote Method
         Call the method using HTTP / REST:
     Error: expected "Content-Type" matching /json/, got "text/html; charset=utf-8"
      at Test._assertHeader (node_modules/supertest/lib/test.js:245:14)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  211) Remote Methods
       Example Remote Method
         Converts null result of findById to 404 Not Found:
     Error: expected 404 "Not Found", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  212) Remote Methods
       Example Remote Method
         Call the findById with filter.fields using HTTP / REST:
     Error: expected "Content-Type" matching /json/, got "text/html; charset=utf-8"
      at Test._assertHeader (node_modules/supertest/lib/test.js:245:14)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  213) Remote Methods
       Example Remote Method
         Call the findById with filter.include using HTTP / REST:
     Error: expected "Content-Type" matching /json/, got "text/html; charset=utf-8"
      at Test._assertHeader (node_modules/supertest/lib/test.js:245:14)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  214) Remote Methods
       Model.beforeRemote(name, fn)
         Run a function before a remote method is called by a client:
     Error: expected "Content-Type" matching /json/, got "text/html; charset=utf-8"
      at Test._assertHeader (node_modules/supertest/lib/test.js:245:14)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  215) Remote Methods
       Model.beforeRemote(name, fn)
         Does not stop the hook chain after returning a promise:
     Error: expected "Content-Type" matching /json/, got "text/html; charset=utf-8"
      at Test._assertHeader (node_modules/supertest/lib/test.js:245:14)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  216) Remote Methods
       Model.afterRemote(name, fn)
         Run a function after a remote method is called by a client:
     Error: expected "Content-Type" matching /json/, got "text/html; charset=utf-8"
      at Test._assertHeader (node_modules/supertest/lib/test.js:245:14)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  217) Remote Methods
       Model.afterRemoteError(name, fn)
         runs the function when method fails:
     Uncaught AssertionError: expected 'hook not called' to have property 'message'
      at Test.<anonymous> (test/model.test.js:491:22)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  218) Remote Methods
       Remote Method invoking context
         ctx.req
           The express ServerRequest object:
     Error: expected "Content-Type" matching /json/, got "text/html; charset=utf-8"
      at Test._assertHeader (node_modules/supertest/lib/test.js:245:14)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  219) Remote Methods
       Remote Method invoking context
         ctx.res
           The express ServerResponse object:
     Error: expected "Content-Type" matching /json/, got "text/html; charset=utf-8"
      at Test._assertHeader (node_modules/supertest/lib/test.js:245:14)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  220) Remote Methods
       Model.createOptionsFromRemotingContext
         sets empty options.accessToken for anonymous requests:
     Error: expected 204 "No Content", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  221) Remote Methods
       Model.createOptionsFromRemotingContext
         sets options for juggler:
     Error: expected 204 "No Content", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  222) Remote Methods
       Model.createOptionsFromRemotingContext
         honors model settings to create options for juggler:
     Error: expected 204 "No Content", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  223) Remote Methods
       Model.createOptionsFromRemotingContext
         sets options.accessToken for authorized requests:
     Error: expected 204 "No Content", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  224) Remote Methods
       Model.createOptionsFromRemotingContext
         allows "beforeRemote" hooks to contribute options:
     Error: expected 204 "No Content", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  225) Remote Methods
       Model.createOptionsFromRemotingContext
         allows apps to add options before remoting hooks:
     Error: expected 204 "No Content", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  226) One user model accessing another user model
       seniorSeller
         can patch seniorSeller:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  227) One user model accessing another user model
       seniorSeller
         cannot patch juniorSeller:
     Error: expected 401 "Unauthorized", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  228) One user model accessing another user model
       seniorSeller
         can patch customer:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  229) One user model accessing another user model
       seniorSeller
         can retrieve buildings owned by seniorSeller:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  230) One user model accessing another user model
       juniorSeller
         cannot patch seniorSeller:
     Error: expected 401 "Unauthorized", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  231) One user model accessing another user model
       juniorSeller
         can patch juniorSeller:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  232) One user model accessing another user model
       juniorSeller
         cannot patch customer:
     Error: expected 401 "Unauthorized", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  233) One user model accessing another user model
       juniorSeller
         cannot retrieve buildings owned by seniorSeller:
     Error: expected 401 "Unauthorized", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  234) One user model accessing another user model
       customer
         cannot patch seniorSeller:
     Error: expected 401 "Unauthorized", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  235) One user model accessing another user model
       customer
         cannnot patch juniorSeller:
     Error: expected 401 "Unauthorized", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  236) One user model accessing another user model
       customer
         can patch customer (own data):
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  237) One user model accessing another user model
       customer
         cannot retrieve buildings owned by seniorSeller:
     Error: expected 401 "Unauthorized", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  238) Multiple users with custom principalType
       setPassword
         sets password when the access token belongs to the user:
     Error: expected 204 "No Content", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  239) Multiple users with custom principalType
       setPassword
         fails when the access token belongs to a different user mode:
     Error: expected 403 "Forbidden", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  240) Multiple users with custom principalType
       changePassword
         changes password when the access token belongs to the user:
     Error: expected 204 "No Content", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  241) Multiple users with custom principalType
       changePassword
         fails when the access token belongs to a different user mode:
     Error: expected 403 "Forbidden", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  242) Multiple users with custom principalType
       authorization
         allows users belonging to authorized role:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  243) Multiple users with custom principalType
       authorization
         rejects other users:
     Error: expected 401 "Unauthorized", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  244) relations - integration
       polymorphicHasMany
         includes the related child model:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  245) relations - integration
       polymorphicHasMany
         includes the related parent model:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  246) relations - integration
       polymorphicHasMany
         includes related models scoped to the related parent model:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  247) relations - integration
       /store/superStores
         should invoke scoped methods remotely:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  248) relations - integration
       /store/:id/widgets
         GET /api/stores/:id/widgets
           should succeed with statusCode 200:

      AssertionError [ERR_ASSERTION]: 500 == 200
      + expected - actual

      -500
      +200
      
      at Context.<anonymous> (test/relations.integration.js:153:16)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  249) relations - integration
       /store/:id/widgets
         GET /api/stores/:id/widgets
           widgets (response.body)
             should be an array:

      AssertionError [ERR_ASSERTION]: The expression evaluated to a falsy value:

  assert(Array.isArray(this.widgets))

      + expected - actual

      -false
      +true
      
      at Context.<anonymous> (test/relations.integration.js:166:11)
      at process.processImmediate (node:internal/timers:471:21)

  250) relations - integration
       /store/:id/widgets
         GET /api/stores/:id/widgets
           widgets (response.body)
             should include a single widget:

      AssertionError [ERR_ASSERTION]: The expression evaluated to a falsy value:

  assert(this.widgets.length === 1)

      + expected - actual

      -false
      +true
      
      at Context.<anonymous> (test/relations.integration.js:169:11)
      at process.processImmediate (node:internal/timers:471:21)

  251) relations - integration
       /store/:id/widgets
         GET /api/stores/:id/widgets
           widgets (response.body)
             should be a valid widget:
     TypeError: Cannot read properties of undefined (reading 'id')
      at Context.<anonymous> (test/relations.integration.js:173:30)
      at process.processImmediate (node:internal/timers:471:21)

  252) relations - integration
       /store/:id/widgets
         POST /api/store/:id/widgets
           should succeed with statusCode 200:

      AssertionError [ERR_ASSERTION]: 500 == 200
      + expected - actual

      -500
      +200
      
      at Context.<anonymous> (test/relations.integration.js:199:16)
      at Context.<anonymous> (test/relations.integration.js:195:11)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  253) relations - integration
       /store/:id/widgets
         POST /api/store/:id/widgets
           should have a single widget with storeId:

      Uncaught AssertionError [ERR_ASSERTION]: 1 == 2
      + expected - actual

      -1
      +2
      
      at /data/js-variants/multee/Clients/express/loopback/test/relations.integration.js:221:18
      at /data/js-variants/multee/Clients/express/loopback/node_modules/loopback-datasource-juggler/lib/connectors/memory.js:770:5
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:77:11)

  254) relations - integration
       /store/:id/widgets
         POST /api/store/:id/widgets
           widget (response.body)
             should be a valid widget:
     AssertionError [ERR_ASSERTION]: The expression evaluated to a falsy value:

  assert(this.widget.id)

      at Context.<anonymous> (test/relations.integration.js:210:11)
      at process.processImmediate (node:internal/timers:471:21)

  255) relations - integration
       /stores/:id/widgets/:fk - 200
         GET /stores/:id/widgets/:fk
           should succeed with statusCode 200:

      AssertionError [ERR_ASSERTION]: 500 == 200
      + expected - actual

      -500
      +200
      
      at Context.<anonymous> (test/relations.integration.js:269:16)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  256) relations - integration
       /stores/:id/widgets/:fk - 404
         GET /stores/:id/widgets/:fk
           should fail with statusCode 404:

      AssertionError [ERR_ASSERTION]: 500 == 404
      + expected - actual

      -500
      +404
      
      at Context.<anonymous> (test/relations.integration.js:281:16)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  257) relations - integration
       /store/:id/widgets/count
         GET /api/stores/:id/widgets/count
           should succeed with statusCode 200:

      AssertionError [ERR_ASSERTION]: 500 == 200
      + expected - actual

      -500
      +200
      
      at Context.<anonymous> (test/relations.integration.js:293:16)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  258) relations - integration
       /store/:id/widgets/count
         GET /api/stores/:id/widgets/count
           should return the count:
     AssertionError [ERR_ASSERTION]: undefined == 1
      at Context.<anonymous> (test/relations.integration.js:296:16)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  259) relations - integration
       /store/:id/widgets/count - filtered (matches)
         GET /api/stores/:id/widgets/count?where[name]=foo
           should succeed with statusCode 200:

      AssertionError [ERR_ASSERTION]: 500 == 200
      + expected - actual

      -500
      +200
      
      at Context.<anonymous> (test/relations.integration.js:307:16)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  260) relations - integration
       /store/:id/widgets/count - filtered (matches)
         GET /api/stores/:id/widgets/count?where[name]=foo
           should return the count:
     AssertionError [ERR_ASSERTION]: undefined == 1
      at Context.<anonymous> (test/relations.integration.js:310:16)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  261) relations - integration
       /store/:id/widgets/count - filtered (no matches)
         GET /api/stores/:id/widgets/count?where[name]=bar
           should succeed with statusCode 200:

      AssertionError [ERR_ASSERTION]: 500 == 200
      + expected - actual

      -500
      +200
      
      at Context.<anonymous> (test/relations.integration.js:321:16)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  262) relations - integration
       /store/:id/widgets/count - filtered (no matches)
         GET /api/stores/:id/widgets/count?where[name]=bar
           should return the count:
     AssertionError [ERR_ASSERTION]: undefined == 0
      at Context.<anonymous> (test/relations.integration.js:324:16)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  263) relations - integration
       /widgets/:id/store
         GET /api/widgets/:id/store
           should succeed with statusCode 200:

      AssertionError [ERR_ASSERTION]: 500 == 200
      + expected - actual

      -500
      +200
      
      at Context.<anonymous> (test/relations.integration.js:343:16)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  264) relations - integration
       hasMany through
         PUT /physicians/:id/patients/rel/:fk
           PUT /api/physicians/:id/patients/rel/:fk
             should succeed with statusCode 200:

      AssertionError [ERR_ASSERTION]: 500 == 200
      + expected - actual

      -500
      +200
      
      at Context.<anonymous> (test/relations.integration.js:416:18)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  265) relations - integration
       hasMany through
         PUT /physicians/:id/patients/rel/:fk
           PUT /api/physicians/:id/patients/rel/:fk
             should create a record in appointment:

      Uncaught AssertionError [ERR_ASSERTION]: 0 == 1
      + expected - actual

      -0
      +1
      
      at /data/js-variants/multee/Clients/express/loopback/test/relations.integration.js:424:20
      at /data/js-variants/multee/Clients/express/loopback/node_modules/loopback-datasource-juggler/lib/dao.js:1737:9
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async/dist/async.js:1143:9
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async/dist/async.js:473:16
      at eachOfArrayLike (node_modules/async/dist/async.js:1060:9)
      at eachOf (node_modules/async/dist/async.js:1120:5)
      at _asyncMap (node_modules/async/dist/async.js:1136:5)
      at Object.map (node_modules/async/dist/async.js:1125:16)
      at allCb (node_modules/loopback-datasource-juggler/lib/dao.js:1648:13)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/loopback-datasource-juggler/lib/connectors/memory.js:512:7
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:77:11)

  266) relations - integration
       hasMany through
         PUT /physicians/:id/patients/rel/:fk
           PUT /api/physicians/:id/patients/rel/:fk
             should connect physician to patient:

      Uncaught AssertionError [ERR_ASSERTION]: 0 == 1
      + expected - actual

      -0
      +1
      
      at /data/js-variants/multee/Clients/express/loopback/test/relations.integration.js:434:20
      at /data/js-variants/multee/Clients/express/loopback/node_modules/loopback-datasource-juggler/lib/scope.js:159:9
      at /data/js-variants/multee/Clients/express/loopback/node_modules/loopback-datasource-juggler/lib/dao.js:1737:9
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async/dist/async.js:1143:9
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async/dist/async.js:473:16
      at eachOfArrayLike (node_modules/async/dist/async.js:1060:9)
      at eachOf (node_modules/async/dist/async.js:1120:5)
      at _asyncMap (node_modules/async/dist/async.js:1136:5)
      at Object.map (node_modules/async/dist/async.js:1125:16)
      at allCb (node_modules/loopback-datasource-juggler/lib/dao.js:1648:13)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/loopback-datasource-juggler/lib/include.js:176:13
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:77:11)

  267) relations - integration
       hasMany through
         PUT /physicians/:id/patients/rel/:fk with data
           PUT /api/physicians/:id/patients/rel/:fk
             should succeed with statusCode 200:

      AssertionError [ERR_ASSERTION]: 500 == 200
      + expected - actual

      -500
      +200
      
      at Context.<anonymous> (test/relations.integration.js:460:18)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  268) relations - integration
       hasMany through
         PUT /physicians/:id/patients/rel/:fk with data
           PUT /api/physicians/:id/patients/rel/:fk
             should create a record in appointment:

      Uncaught AssertionError [ERR_ASSERTION]: 0 == 1
      + expected - actual

      -0
      +1
      
      at /data/js-variants/multee/Clients/express/loopback/test/relations.integration.js:469:20
      at /data/js-variants/multee/Clients/express/loopback/node_modules/loopback-datasource-juggler/lib/dao.js:1737:9
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async/dist/async.js:1143:9
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async/dist/async.js:473:16
      at eachOfArrayLike (node_modules/async/dist/async.js:1060:9)
      at eachOf (node_modules/async/dist/async.js:1120:5)
      at _asyncMap (node_modules/async/dist/async.js:1136:5)
      at Object.map (node_modules/async/dist/async.js:1125:16)
      at allCb (node_modules/loopback-datasource-juggler/lib/dao.js:1648:13)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/loopback-datasource-juggler/lib/connectors/memory.js:512:7
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:77:11)

  269) relations - integration
       hasMany through
         PUT /physicians/:id/patients/rel/:fk with data
           PUT /api/physicians/:id/patients/rel/:fk
             should connect physician to patient:

      Uncaught AssertionError [ERR_ASSERTION]: 0 == 1
      + expected - actual

      -0
      +1
      
      at /data/js-variants/multee/Clients/express/loopback/test/relations.integration.js:481:20
      at /data/js-variants/multee/Clients/express/loopback/node_modules/loopback-datasource-juggler/lib/scope.js:159:9
      at /data/js-variants/multee/Clients/express/loopback/node_modules/loopback-datasource-juggler/lib/dao.js:1737:9
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async/dist/async.js:1143:9
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async/dist/async.js:473:16
      at eachOfArrayLike (node_modules/async/dist/async.js:1060:9)
      at eachOf (node_modules/async/dist/async.js:1120:5)
      at _asyncMap (node_modules/async/dist/async.js:1136:5)
      at Object.map (node_modules/async/dist/async.js:1125:16)
      at allCb (node_modules/loopback-datasource-juggler/lib/dao.js:1648:13)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/loopback-datasource-juggler/lib/include.js:176:13
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:77:11)

  270) relations - integration
       hasMany through
         HEAD /physicians/:id/patients/rel/:fk
           HEAD /api/physicians/:id/patients/rel/:fk
             should succeed with statusCode 200:

      AssertionError [ERR_ASSERTION]: 500 == 200
      + expected - actual

      -500
      +200
      
      at Context.<anonymous> (test/relations.integration.js:504:18)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  271) relations - integration
       hasMany through
         HEAD /physicians/:id/patients/rel/:fk that does not exist
           HEAD /api/physicians/:id/patients/rel/:fk
             should succeed with statusCode 404:

      AssertionError [ERR_ASSERTION]: 500 == 404
      + expected - actual

      -500
      +404
      
      at Context.<anonymous> (test/relations.integration.js:524:18)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  272) relations - integration
       hasMany through
         DELETE /physicians/:id/patients/rel/:fk
           DELETE /api/physicians/:id/patients/rel/:fk
             should succeed with statusCode 204:

      AssertionError [ERR_ASSERTION]: 500 == 204
      + expected - actual

      -500
      +204
      
      at Context.<anonymous> (test/relations.integration.js:563:18)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  273) relations - integration
       hasMany through
         DELETE /physicians/:id/patients/rel/:fk
           DELETE /api/physicians/:id/patients/rel/:fk
             should remove the record in appointment:

      Uncaught AssertionError [ERR_ASSERTION]: 1 == 0
      + expected - actual

      -1
      +0
      
      at /data/js-variants/multee/Clients/express/loopback/test/relations.integration.js:569:20
      at /data/js-variants/multee/Clients/express/loopback/node_modules/loopback-datasource-juggler/lib/dao.js:1737:9
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async/dist/async.js:1143:9
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async/dist/async.js:473:16
      at iteratorCallback (node_modules/async/dist/async.js:1067:13)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async/dist/async.js:972:16
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async/dist/async.js:1140:13
      at buildResult (node_modules/loopback-datasource-juggler/lib/dao.js:1703:11)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/loopback-datasource-juggler/lib/dao.js:1717:13
      at doNotify (node_modules/loopback-datasource-juggler/lib/observer.js:155:49)
      at doNotify (node_modules/loopback-datasource-juggler/lib/observer.js:155:49)
      at doNotify (node_modules/loopback-datasource-juggler/lib/observer.js:155:49)
      at doNotify (node_modules/loopback-datasource-juggler/lib/observer.js:155:49)
      at ObserverMixin._notifyBaseObservers (node_modules/loopback-datasource-juggler/lib/observer.js:178:5)
      at ObserverMixin.notifyObserversOf (node_modules/loopback-datasource-juggler/lib/observer.js:153:8)
      at ObserverMixin._notifyBaseObservers (node_modules/loopback-datasource-juggler/lib/observer.js:176:15)

  274) relations - integration
       hasMany through
         DELETE /physicians/:id/patients/rel/:fk
           DELETE /api/physicians/:id/patients/rel/:fk
             should remove the connection between physician and patient:

      Uncaught AssertionError [ERR_ASSERTION]: 1 == 0
      + expected - actual

      -1
      +0
      
      at /data/js-variants/multee/Clients/express/loopback/test/relations.integration.js:579:20
      at /data/js-variants/multee/Clients/express/loopback/node_modules/loopback-datasource-juggler/lib/scope.js:159:9
      at /data/js-variants/multee/Clients/express/loopback/node_modules/loopback-datasource-juggler/lib/dao.js:1737:9
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async/dist/async.js:1143:9
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async/dist/async.js:473:16
      at iteratorCallback (node_modules/async/dist/async.js:1067:13)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async/dist/async.js:972:16
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async/dist/async.js:1140:13
      at buildResult (node_modules/loopback-datasource-juggler/lib/dao.js:1703:11)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/loopback-datasource-juggler/lib/dao.js:1717:13
      at doNotify (node_modules/loopback-datasource-juggler/lib/observer.js:155:49)
      at doNotify (node_modules/loopback-datasource-juggler/lib/observer.js:155:49)
      at doNotify (node_modules/loopback-datasource-juggler/lib/observer.js:155:49)
      at doNotify (node_modules/loopback-datasource-juggler/lib/observer.js:155:49)
      at ObserverMixin._notifyBaseObservers (node_modules/loopback-datasource-juggler/lib/observer.js:178:5)
      at ObserverMixin.notifyObserversOf (node_modules/loopback-datasource-juggler/lib/observer.js:153:8)

  275) relations - integration
       hasMany through
         GET /physicians/:id/patients/:fk
           GET /api/physicians/:id/patients/:fk
             should succeed with statusCode 200:

      AssertionError [ERR_ASSERTION]: 500 == 200
      + expected - actual

      -500
      +200
      
      at Context.<anonymous> (test/relations.integration.js:602:18)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  276) relations - integration
       hasMany through
         DELETE /physicians/:id/patients/:fk
           DELETE /api/physicians/:id/patients/:fk
             should succeed with statusCode 204:

      AssertionError [ERR_ASSERTION]: 500 == 204
      + expected - actual

      -500
      +204
      
      at Context.<anonymous> (test/relations.integration.js:623:18)
      at Test.<anonymous> (test/helpers/loopback-testing-helper.js:190:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)

  277) relations - integration
       hasMany through
         DELETE /physicians/:id/patients/:fk
           DELETE /api/physicians/:id/patients/:fk
             should remove the record in appointment:

      Uncaught AssertionError [ERR_ASSERTION]: 1 == 0
      + expected - actual

      -1
      +0
      
      at /data/js-variants/multee/Clients/express/loopback/test/relations.integration.js:629:20
      at /data/js-variants/multee/Clients/express/loopback/node_modules/loopback-datasource-juggler/lib/dao.js:1737:9
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async/dist/async.js:1143:9
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async/dist/async.js:473:16
      at iteratorCallback (node_modules/async/dist/async.js:1067:13)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async/dist/async.js:972:16
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async/dist/async.js:1140:13
      at buildResult (node_modules/loopback-datasource-juggler/lib/dao.js:1703:11)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/loopback-datasource-juggler/lib/dao.js:1717:13
      at doNotify (node_modules/loopback-datasource-juggler/lib/observer.js:155:49)
      at doNotify (node_modules/loopback-datasource-juggler/lib/observer.js:155:49)
      at doNotify (node_modules/loopback-datasource-juggler/lib/observer.js:155:49)
      at doNotify (node_modules/loopback-datasource-juggler/lib/observer.js:155:49)
      at ObserverMixin._notifyBaseObservers (node_modules/loopback-datasource-juggler/lib/observer.js:178:5)
      at ObserverMixin.notifyObserversOf (node_modules/loopback-datasource-juggler/lib/observer.js:153:8)
      at ObserverMixin._notifyBaseObservers (node_modules/loopback-datasource-juggler/lib/observer.js:176:15)

  278) relations - integration
       hasMany through
         DELETE /physicians/:id/patients/:fk
           DELETE /api/physicians/:id/patients/:fk
             should remove the connection between physician and patient:

      Uncaught AssertionError [ERR_ASSERTION]: 1 == 0
      + expected - actual

      -1
      +0
      
      at /data/js-variants/multee/Clients/express/loopback/test/relations.integration.js:639:20
      at /data/js-variants/multee/Clients/express/loopback/node_modules/loopback-datasource-juggler/lib/scope.js:159:9
      at /data/js-variants/multee/Clients/express/loopback/node_modules/loopback-datasource-juggler/lib/dao.js:1737:9
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async/dist/async.js:1143:9
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async/dist/async.js:473:16
      at iteratorCallback (node_modules/async/dist/async.js:1067:13)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async/dist/async.js:972:16
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async/dist/async.js:1140:13
      at buildResult (node_modules/loopback-datasource-juggler/lib/dao.js:1703:11)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/loopback-datasource-juggler/lib/dao.js:1717:13
      at doNotify (node_modules/loopback-datasource-juggler/lib/observer.js:155:49)
      at doNotify (node_modules/loopback-datasource-juggler/lib/observer.js:155:49)
      at doNotify (node_modules/loopback-datasource-juggler/lib/observer.js:155:49)
      at doNotify (node_modules/loopback-datasource-juggler/lib/observer.js:155:49)
      at ObserverMixin._notifyBaseObservers (node_modules/loopback-datasource-juggler/lib/observer.js:178:5)
      at ObserverMixin.notifyObserversOf (node_modules/loopback-datasource-juggler/lib/observer.js:153:8)

  279) relations - integration
       hasMany through
         DELETE /physicians/:id/patients/:fk
           DELETE /api/physicians/:id/patients/:fk
             should remove the record in patient:

      Uncaught AssertionError [ERR_ASSERTION]: 1 == 0
      + expected - actual

      -1
      +0
      
      at /data/js-variants/multee/Clients/express/loopback/test/relations.integration.js:648:20
      at /data/js-variants/multee/Clients/express/loopback/node_modules/loopback-datasource-juggler/lib/dao.js:1737:9
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async/dist/async.js:1143:9
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async/dist/async.js:473:16
      at iteratorCallback (node_modules/async/dist/async.js:1067:13)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async/dist/async.js:972:16
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async/dist/async.js:1140:13
      at buildResult (node_modules/loopback-datasource-juggler/lib/dao.js:1703:11)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/loopback-datasource-juggler/lib/dao.js:1717:13
      at doNotify (node_modules/loopback-datasource-juggler/lib/observer.js:155:49)
      at doNotify (node_modules/loopback-datasource-juggler/lib/observer.js:155:49)
      at doNotify (node_modules/loopback-datasource-juggler/lib/observer.js:155:49)
      at doNotify (node_modules/loopback-datasource-juggler/lib/observer.js:155:49)
      at ObserverMixin._notifyBaseObservers (node_modules/loopback-datasource-juggler/lib/observer.js:178:5)
      at ObserverMixin.notifyObserversOf (node_modules/loopback-datasource-juggler/lib/observer.js:153:8)
      at ObserverMixin._notifyBaseObservers (node_modules/loopback-datasource-juggler/lib/observer.js:176:15)

  280) relations - integration
       hasAndBelongsToMany
         allows to find related object via URL scope:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  281) relations - integration
       hasAndBelongsToMany
         includes requested related models in `find`:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  282) relations - integration
       embedsOne
         creates an embedded model:

      Uncaught AssertionError: expected { error: { statusCode: 500, â€¦(1) } } to deeply equal { url: 'http://image.url' }
      + expected - actual

       {
      -  "error": {
      -    "message": "Internal Server Error"
      -    "statusCode": 500
      -  }
      +  "url": "http://image.url"
       }
      
      at Test.<anonymous> (test/relations.integration.js:824:34)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  283) relations - integration
       embedsOne
         includes the embedded models:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  284) relations - integration
       embedsOne
         returns the embedded model:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  285) relations - integration
       embedsOne
         updates an embedded model:
     Uncaught AssertionError: expected undefined to equal 'http://changed.url'
      at Test.<anonymous> (test/relations.integration.js:869:38)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  286) relations - integration
       embedsOne
         returns the updated embedded model:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  287) relations - integration
       embedsOne
         deletes an embedded model:
     Error: expected 204 "No Content", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  288) relations - integration
       embedsOne
         deleted the embedded model:
     Error: expected 404 "Not Found", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  289) relations - integration
       embedsMany
         includes the embedded models:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  290) relations - integration
       embedsMany
         returns the embedded models:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  291) relations - integration
       embedsMany
         filters the embedded models:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  292) relations - integration
       embedsMany
         creates embedded models:

      Uncaught AssertionError: expected { error: { statusCode: 500, â€¦(1) } } to deeply equal { content: 'Todo 3', id: 3 }
      + expected - actual

       {
      -  "error": {
      -    "message": "Internal Server Error"
      -    "statusCode": 500
      -  }
      +  "content": "Todo 3"
      +  "id": 3
       }
      
      at Test.<anonymous> (test/relations.integration.js:993:34)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  293) relations - integration
       embedsMany
         includes the created embedded model:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  294) relations - integration
       embedsMany
         returns an embedded model by (internal) id:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  295) relations - integration
       embedsMany
         returns the embedded models - verify:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  296) relations - integration
       embedsMany
         returns a 404 response when embedded model is not found:
     Error: expected 404 "Not Found", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  297) relations - integration
       referencesMany
         keeps an array of ids:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  298) relations - integration
       referencesMany
         creates referenced models:
     Uncaught AssertionError: expected undefined to deeply equal 'Butter'
      at Test.<anonymous> (test/relations.integration.js:1172:39)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  299) relations - integration
       referencesMany
         has created models:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  300) relations - integration
       referencesMany
         returns the referenced models:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  301) relations - integration
       referencesMany
         filters the referenced models:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  302) relations - integration
       referencesMany
         includes the referenced models:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  303) relations - integration
       referencesMany
         returns a referenced model by id:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  304) relations - integration
       referencesMany
         keeps an array of ids - verify:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  305) relations - integration
       referencesMany
         has destroyed a referenced model:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  306) relations - integration
       referencesMany
         returns the referenced models without the deleted one:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  307) relations - integration
       referencesMany
         creates/links a reference by id:

      Uncaught AssertionError: expected { error: { statusCode: 500, â€¦(1) } } to deeply equal { name: 'Sugar', id: 2 }
      + expected - actual

       {
      -  "error": {
      -    "message": "Internal Server Error"
      -    "statusCode": 500
      -  }
      +  "id": 2
      +  "name": "Sugar"
       }
      
      at Test.<anonymous> (test/relations.integration.js:1337:34)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  308) relations - integration
       referencesMany
         returns the referenced models - verify:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  309) relations - integration
       referencesMany
         returns the referenced models without the unlinked one:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  310) relations - integration
       referencesMany
         has not destroyed an unlinked model:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  311) relations - integration
       referencesMany
         uses a custom relation path:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  312) relations - integration
       nested relations
         has regular relationship routes - pages:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  313) relations - integration
       nested relations
         has regular relationship routes - notes:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  314) relations - integration
       nested relations
         has a basic error handler:
     Error: expected 404 "Not Found", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  315) relations - integration
       nested relations
         enables nested relationship routes - belongsTo find:
     Uncaught AssertionError: expected { error: { statusCode: 500, â€¦(1) } } to be an array
      at Test.<anonymous> (test/relations.integration.js:1624:34)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  316) relations - integration
       nested relations
         enables nested relationship routes - belongsTo findById:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  317) relations - integration
       nested relations
         enables nested relationship routes - hasMany find:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  318) relations - integration
       nested relations
         enables nested relationship routes - hasMany findById:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  319) relations - integration
       nested relations
         passes options to nested relationship routes:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  320) relations - integration
       nested relations
         should nest remote hooks of ModelTo - hasMany findById:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  321) relations - integration
       nested relations
         should catch error if nested function throws:
     Uncaught AssertionError: expected undefined to equal 'Error'
      at Test.<anonymous> (test/relations.integration.js:1718:42)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  322) relations - integration
       hasOne
         should create the referenced model:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  323) relations - integration
       hasOne
         should find the referenced model:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  324) relations - integration
       hasOne
         should update the referenced model:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  325) relations - integration
       hasOne
         should delete the referenced model:
     Error: expected 204 "No Content", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  326) relations - integration
       hasOne
         should not find the referenced model:

      Uncaught AssertionError: expected 'Internal Server Error' to equal 'No "profile" instance(s) found'
      + expected - actual

      -Internal Server Error
      +No "profile" instance(s) found
      
      at Test.<anonymous> (test/relations.integration.js:1814:48)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  327) RemoteConnector
       should support the save method:
     Error: Error: 500
      at HttpInvocation.transformResponse (node_modules/strong-remoting/lib/http-invocation.js:323:13)
      at Request._callback (node_modules/strong-remoting/lib/http-invocation.js:284:12)
      at self.callback (node_modules/request/request.js:185:22)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at Request.<anonymous> (node_modules/request/request.js:1154:10)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at IncomingMessage.<anonymous> (node_modules/request/request.js:1076:12)
      at Object.onceWrapper (node:events:641:28)
      at IncomingMessage.emit (node:events:539:35)
      at IncomingMessage.emit (node:domain:475:12)
      at endReadableNT (node:internal/streams/readable:1344:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:82:21)

  328) RemoteConnector
       Model Tests
         Model.create([data], [callback])
           Create an instance of Model with given data and save to the attached data source:

      Uncaught AssertionError [ERR_ASSERTION]: The expression evaluated to a falsy value:

  assert(user instanceof User)

      + expected - actual

      -false
      +true
      
      at /data/js-variants/multee/Clients/express/loopback/test/util/model-tests.js:144:13
      at /data/js-variants/multee/Clients/express/loopback/node_modules/strong-remoting/lib/rest-adapter.js:193:25
      at Request._callback (node_modules/strong-remoting/lib/http-invocation.js:286:7)
      at self.callback (node_modules/request/request.js:185:22)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at Request.<anonymous> (node_modules/request/request.js:1154:10)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at IncomingMessage.<anonymous> (node_modules/request/request.js:1076:12)
      at Object.onceWrapper (node:events:641:28)
      at IncomingMessage.emit (node:events:539:35)
      at IncomingMessage.emit (node:domain:475:12)
      at endReadableNT (node:internal/streams/readable:1344:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:82:21)

  329) RemoteConnector
       Model Tests
         model.save([options], [callback])
           Save an instance of a Model to the attached data source:

      Uncaught AssertionError [ERR_ASSERTION]: The expression evaluated to a falsy value:

  assert(!err)

      + expected - actual

      -false
      +true
      
      at /data/js-variants/multee/Clients/express/loopback/test/util/model-tests.js:156:11
      at UtilUser.<anonymous> (lib/persisted-model.js:245:519)
      at UtilUser.next (node_modules/loopback-datasource-juggler/lib/hooks.js:93:12)
      at UtilUser.<anonymous> (lib/persisted-model.js:245:452)
      at UtilUser.next (node_modules/loopback-datasource-juggler/lib/hooks.js:93:12)
      at /data/js-variants/multee/Clients/express/loopback/lib/persisted-model.js:245:376
      at /data/js-variants/multee/Clients/express/loopback/node_modules/strong-remoting/lib/rest-adapter.js:193:25
      at Request._callback (node_modules/strong-remoting/lib/http-invocation.js:286:7)
      at self.callback (node_modules/request/request.js:185:22)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at Request.<anonymous> (node_modules/request/request.js:1154:10)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at IncomingMessage.<anonymous> (node_modules/request/request.js:1076:12)
      at Object.onceWrapper (node:events:641:28)

  330) RemoteConnector
       Model Tests
         model.updateAttributes(data, [callback])
           Save specified attributes to the attached data source:

      Uncaught AssertionError [ERR_ASSERTION]: The expression evaluated to a falsy value:

  assert(!err)

      + expected - actual

      -false
      +true
      
      at /data/js-variants/multee/Clients/express/loopback/test/util/model-tests.js:167:11
      at /data/js-variants/multee/Clients/express/loopback/node_modules/strong-remoting/lib/rest-adapter.js:193:25
      at Request._callback (node_modules/strong-remoting/lib/http-invocation.js:286:7)
      at self.callback (node_modules/request/request.js:185:22)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at Request.<anonymous> (node_modules/request/request.js:1154:10)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at IncomingMessage.<anonymous> (node_modules/request/request.js:1076:12)
      at Object.onceWrapper (node:events:641:28)
      at IncomingMessage.emit (node:events:539:35)
      at IncomingMessage.emit (node:domain:475:12)
      at endReadableNT (node:internal/streams/readable:1344:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:82:21)

  331) RemoteConnector
       Model Tests
         Model.upsert(data, callback)
           Update when record with id=data.id found, insert otherwise:

      Uncaught AssertionError [ERR_ASSERTION]: The expression evaluated to a falsy value:

  assert(!err)

      + expected - actual

      -false
      +true
      
      at /data/js-variants/multee/Clients/express/loopback/test/util/model-tests.js:188:11
      at /data/js-variants/multee/Clients/express/loopback/node_modules/strong-remoting/lib/rest-adapter.js:193:25
      at Request._callback (node_modules/strong-remoting/lib/http-invocation.js:286:7)
      at self.callback (node_modules/request/request.js:185:22)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at Request.<anonymous> (node_modules/request/request.js:1154:10)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at IncomingMessage.<anonymous> (node_modules/request/request.js:1076:12)
      at Object.onceWrapper (node:events:641:28)
      at IncomingMessage.emit (node:events:539:35)
      at IncomingMessage.emit (node:domain:475:12)
      at endReadableNT (node:internal/streams/readable:1344:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:82:21)

  332) RemoteConnector
       Model Tests
         model.destroy([callback])
           Remove a model from the attached data source:
     Uncaught TypeError: Cannot read properties of undefined (reading 'id')
      at /data/js-variants/multee/Clients/express/loopback/test/util/model-tests.js:204:30
      at /data/js-variants/multee/Clients/express/loopback/node_modules/strong-remoting/lib/rest-adapter.js:193:25
      at Request._callback (node_modules/strong-remoting/lib/http-invocation.js:286:7)
      at self.callback (node_modules/request/request.js:185:22)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at Request.<anonymous> (node_modules/request/request.js:1154:10)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at IncomingMessage.<anonymous> (node_modules/request/request.js:1076:12)
      at Object.onceWrapper (node:events:641:28)
      at IncomingMessage.emit (node:events:539:35)
      at IncomingMessage.emit (node:domain:475:12)
      at endReadableNT (node:internal/streams/readable:1344:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:82:21)

  333) RemoteConnector
       Model Tests
         Model.deleteById(id, [callback])
           Delete a model instance from the attached data source:
     Uncaught TypeError: Cannot read properties of undefined (reading 'id')
      at /data/js-variants/multee/Clients/express/loopback/test/util/model-tests.js:227:32
      at /data/js-variants/multee/Clients/express/loopback/node_modules/strong-remoting/lib/rest-adapter.js:193:25
      at Request._callback (node_modules/strong-remoting/lib/http-invocation.js:286:7)
      at self.callback (node_modules/request/request.js:185:22)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at Request.<anonymous> (node_modules/request/request.js:1154:10)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at IncomingMessage.<anonymous> (node_modules/request/request.js:1076:12)
      at Object.onceWrapper (node:events:641:28)
      at IncomingMessage.emit (node:events:539:35)
      at IncomingMessage.emit (node:domain:475:12)
      at endReadableNT (node:internal/streams/readable:1344:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:82:21)

  334) RemoteConnector
       Model Tests
         Model.exists(id, [callback])
           returns true when the model with the given id exists:
     Error: Error: 500
      at HttpInvocation.transformResponse (node_modules/strong-remoting/lib/http-invocation.js:323:13)
      at Request._callback (node_modules/strong-remoting/lib/http-invocation.js:284:12)
      at self.callback (node_modules/request/request.js:185:22)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at Request.<anonymous> (node_modules/request/request.js:1154:10)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at IncomingMessage.<anonymous> (node_modules/request/request.js:1076:12)
      at Object.onceWrapper (node:events:641:28)
      at IncomingMessage.emit (node:events:539:35)
      at IncomingMessage.emit (node:domain:475:12)
      at endReadableNT (node:internal/streams/readable:1344:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:82:21)

  335) RemoteConnector
       Model Tests
         Model.exists(id, [callback])
           returns false when there is no model with the given id:
     Error: Error: 500
      at HttpInvocation.transformResponse (node_modules/strong-remoting/lib/http-invocation.js:323:13)
      at Request._callback (node_modules/strong-remoting/lib/http-invocation.js:284:12)
      at self.callback (node_modules/request/request.js:185:22)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at Request.<anonymous> (node_modules/request/request.js:1154:10)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at IncomingMessage.<anonymous> (node_modules/request/request.js:1076:12)
      at Object.onceWrapper (node:events:641:28)
      at IncomingMessage.emit (node:events:539:35)
      at IncomingMessage.emit (node:domain:475:12)
      at endReadableNT (node:internal/streams/readable:1344:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:82:21)

  336) RemoteConnector
       Model Tests
         Model.findById(id, callback)
           Find an instance by id:
     Uncaught TypeError: Cannot read properties of undefined (reading 'id')
      at /data/js-variants/multee/Clients/express/loopback/test/util/model-tests.js:263:31
      at /data/js-variants/multee/Clients/express/loopback/node_modules/loopback-connector-remote/lib/remote-connector.js:147:7
      at /data/js-variants/multee/Clients/express/loopback/node_modules/strong-remoting/lib/rest-adapter.js:193:25
      at Request._callback (node_modules/strong-remoting/lib/http-invocation.js:286:7)
      at self.callback (node_modules/request/request.js:185:22)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at Request.<anonymous> (node_modules/request/request.js:1154:10)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at IncomingMessage.<anonymous> (node_modules/request/request.js:1076:12)
      at Object.onceWrapper (node:events:641:28)
      at IncomingMessage.emit (node:events:539:35)
      at IncomingMessage.emit (node:domain:475:12)
      at endReadableNT (node:internal/streams/readable:1344:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31

  337) RemoteConnector
       Model Tests
         Model.count([query], callback)
           Query count of Model instances in data source:
     Error: Timeout of 10000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/data/js-variants/multee/Clients/express/loopback/test/remote-connector.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)

  338) remoting coercion
       should coerce arguments based on the type:

      Uncaught AssertionError [ERR_ASSERTION]: The expression evaluated to a falsy value:

  assert(called)

      + expected - actual

      -false
      +true
      
      at Test.<anonymous> (test/remoting-coercion.test.js:42:9)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  339) remoting - integration
       app.remotes.options
         should accept request that has entity below 1kb:

      Uncaught AssertionError [ERR_ASSERTION]: 500 == 200
      + expected - actual

      -500
      +200
      
      at Context.<anonymous> (test/remoting.integration.js:50:16)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  340) remoting - integration
       app.remotes.options
         should reject request that has entity beyond 1kb:

      Uncaught AssertionError [ERR_ASSERTION]: 500 == 413
      + expected - actual

      -500
      +413
      
      at Context.<anonymous> (test/remoting.integration.js:71:16)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  341) Replication over REST
       the replication scenario scaffolded for the tests
         Car model
           rejects anonymous READ:
     Error: expected 401 "Unauthorized", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at localAssert (node_modules/supertest/lib/test.js:131:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/supertest/lib/test.js:128:5
      at Request.callback (node_modules/superagent/lib/node/index.js:728:3)
      at IncomingMessage.<anonymous> (node_modules/superagent/lib/node/index.js:916:18)
      at IncomingMessage.emit (node:events:539:35)
      at IncomingMessage.emit (node:domain:475:12)
      at endReadableNT (node:internal/streams/readable:1344:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:82:21)

  342) Replication over REST
       the replication scenario scaffolded for the tests
         Car model
           rejects anonymous WRITE:
     Error: expected 401 "Unauthorized", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at localAssert (node_modules/supertest/lib/test.js:131:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/supertest/lib/test.js:128:5
      at Request.callback (node_modules/superagent/lib/node/index.js:728:3)
      at IncomingMessage.<anonymous> (node_modules/superagent/lib/node/index.js:916:18)
      at IncomingMessage.emit (node:events:539:35)
      at IncomingMessage.emit (node:domain:475:12)
      at endReadableNT (node:internal/streams/readable:1344:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:82:21)

  343) Replication over REST
       the replication scenario scaffolded for the tests
         Car model
           allows EMERY to READ:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at localAssert (node_modules/supertest/lib/test.js:131:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/supertest/lib/test.js:128:5
      at Request.callback (node_modules/superagent/lib/node/index.js:728:3)
      at IncomingMessage.<anonymous> (node_modules/superagent/lib/node/index.js:916:18)
      at IncomingMessage.emit (node:events:539:35)
      at IncomingMessage.emit (node:domain:475:12)
      at endReadableNT (node:internal/streams/readable:1344:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:82:21)

  344) Replication over REST
       the replication scenario scaffolded for the tests
         Car model
           denies EMERY to WRITE:
     Error: expected 401 "Unauthorized", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at localAssert (node_modules/supertest/lib/test.js:131:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/supertest/lib/test.js:128:5
      at Request.callback (node_modules/superagent/lib/node/index.js:728:3)
      at IncomingMessage.<anonymous> (node_modules/superagent/lib/node/index.js:916:18)
      at IncomingMessage.emit (node:events:539:35)
      at IncomingMessage.emit (node:domain:475:12)
      at endReadableNT (node:internal/streams/readable:1344:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:82:21)

  345) Replication over REST
       the replication scenario scaffolded for the tests
         Car model
           allows ALICE to READ:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at localAssert (node_modules/supertest/lib/test.js:131:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/supertest/lib/test.js:128:5
      at Request.callback (node_modules/superagent/lib/node/index.js:728:3)
      at IncomingMessage.<anonymous> (node_modules/superagent/lib/node/index.js:916:18)
      at IncomingMessage.emit (node:events:539:35)
      at IncomingMessage.emit (node:domain:475:12)
      at endReadableNT (node:internal/streams/readable:1344:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:82:21)

  346) Replication over REST
       the replication scenario scaffolded for the tests
         Car model
           denies ALICE to WRITE:
     Error: expected 401 "Unauthorized", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at localAssert (node_modules/supertest/lib/test.js:131:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/supertest/lib/test.js:128:5
      at Request.callback (node_modules/superagent/lib/node/index.js:728:3)
      at IncomingMessage.<anonymous> (node_modules/superagent/lib/node/index.js:916:18)
      at IncomingMessage.emit (node:events:539:35)
      at IncomingMessage.emit (node:domain:475:12)
      at endReadableNT (node:internal/streams/readable:1344:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:82:21)

  347) Replication over REST
       the replication scenario scaffolded for the tests
         Car model
           allows PETER to READ:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at localAssert (node_modules/supertest/lib/test.js:131:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/supertest/lib/test.js:128:5
      at Request.callback (node_modules/superagent/lib/node/index.js:728:3)
      at IncomingMessage.<anonymous> (node_modules/superagent/lib/node/index.js:916:18)
      at IncomingMessage.emit (node:events:539:35)
      at IncomingMessage.emit (node:domain:475:12)
      at endReadableNT (node:internal/streams/readable:1344:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:82:21)

  348) Replication over REST
       the replication scenario scaffolded for the tests
         Car model
           allows PETER to WRITE:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at localAssert (node_modules/supertest/lib/test.js:131:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/supertest/lib/test.js:128:5
      at Request.callback (node_modules/superagent/lib/node/index.js:728:3)
      at IncomingMessage.<anonymous> (node_modules/superagent/lib/node/index.js:916:18)
      at IncomingMessage.emit (node:events:539:35)
      at IncomingMessage.emit (node:domain:475:12)
      at endReadableNT (node:internal/streams/readable:1344:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:82:21)

  349) Replication over REST
       sync with model-level permissions
         as anonymous user
           rejects pull from server:
     Uncaught Error: Callback was already called.
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async/dist/async.js:969:32
      at /data/js-variants/multee/Clients/express/loopback/lib/persisted-model.js:391:639
      at /data/js-variants/multee/Clients/express/loopback/node_modules/strong-remoting/lib/rest-adapter.js:193:25
      at Request._callback (node_modules/strong-remoting/lib/http-invocation.js:286:7)
      at self.callback (node_modules/request/request.js:185:22)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at Request.<anonymous> (node_modules/request/request.js:1154:10)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at IncomingMessage.<anonymous> (node_modules/request/request.js:1076:12)
      at Object.onceWrapper (node:events:641:28)
      at IncomingMessage.emit (node:events:539:35)
      at IncomingMessage.emit (node:domain:475:12)
      at endReadableNT (node:internal/streams/readable:1344:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31

  350) Replication over REST
       sync with model-level permissions
         as anonymous user
           rejects push to the server:
     Uncaught Error: Callback was already called.
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async/dist/async.js:969:32
      at /data/js-variants/multee/Clients/express/loopback/lib/persisted-model.js:391:907
      at /data/js-variants/multee/Clients/express/loopback/node_modules/strong-remoting/lib/rest-adapter.js:193:25
      at Request._callback (node_modules/strong-remoting/lib/http-invocation.js:286:7)
      at self.callback (node_modules/request/request.js:185:22)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at Request.<anonymous> (node_modules/request/request.js:1154:10)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at IncomingMessage.<anonymous> (node_modules/request/request.js:1076:12)
      at Object.onceWrapper (node:events:641:28)
      at IncomingMessage.emit (node:events:539:35)
      at IncomingMessage.emit (node:domain:475:12)
      at endReadableNT (node:internal/streams/readable:1344:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31

  351) Replication over REST
       sync with model-level permissions
         as user with READ-only permissions
           rejects pull from server:
     Uncaught Error: Callback was already called.
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async/dist/async.js:969:32
      at /data/js-variants/multee/Clients/express/loopback/lib/persisted-model.js:391:639
      at /data/js-variants/multee/Clients/express/loopback/node_modules/strong-remoting/lib/rest-adapter.js:193:25
      at Request._callback (node_modules/strong-remoting/lib/http-invocation.js:286:7)
      at self.callback (node_modules/request/request.js:185:22)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at Request.<anonymous> (node_modules/request/request.js:1154:10)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at IncomingMessage.<anonymous> (node_modules/request/request.js:1076:12)
      at Object.onceWrapper (node:events:641:28)
      at IncomingMessage.emit (node:events:539:35)
      at IncomingMessage.emit (node:domain:475:12)
      at endReadableNT (node:internal/streams/readable:1344:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31

  352) Replication over REST
       sync with model-level permissions
         as user with READ-only permissions
           rejects push to the server:
     Uncaught Error: Callback was already called.
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async/dist/async.js:969:32
      at /data/js-variants/multee/Clients/express/loopback/lib/persisted-model.js:391:907
      at /data/js-variants/multee/Clients/express/loopback/node_modules/strong-remoting/lib/rest-adapter.js:193:25
      at Request._callback (node_modules/strong-remoting/lib/http-invocation.js:286:7)
      at self.callback (node_modules/request/request.js:185:22)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at Request.<anonymous> (node_modules/request/request.js:1154:10)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at IncomingMessage.<anonymous> (node_modules/request/request.js:1076:12)
      at Object.onceWrapper (node:events:641:28)
      at IncomingMessage.emit (node:events:539:35)
      at IncomingMessage.emit (node:domain:475:12)
      at endReadableNT (node:internal/streams/readable:1344:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31

  353) Replication over REST
       sync with model-level permissions
         as user with REPLICATE-only permissions
           allows pull from server:
     Error: Error: 500
      at HttpInvocation.transformResponse (node_modules/strong-remoting/lib/http-invocation.js:323:13)
      at Request._callback (node_modules/strong-remoting/lib/http-invocation.js:284:12)
      at self.callback (node_modules/request/request.js:185:22)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at Request.<anonymous> (node_modules/request/request.js:1154:10)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at IncomingMessage.<anonymous> (node_modules/request/request.js:1076:12)
      at Object.onceWrapper (node:events:641:28)
      at IncomingMessage.emit (node:events:539:35)
      at IncomingMessage.emit (node:domain:475:12)
      at endReadableNT (node:internal/streams/readable:1344:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:82:21)

  354) Replication over REST
       sync with model-level permissions
         as user with REPLICATE-only permissions
           rejects push to the server:
     Uncaught Error: Callback was already called.
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async/dist/async.js:969:32
      at /data/js-variants/multee/Clients/express/loopback/lib/persisted-model.js:391:907
      at /data/js-variants/multee/Clients/express/loopback/node_modules/strong-remoting/lib/rest-adapter.js:193:25
      at Request._callback (node_modules/strong-remoting/lib/http-invocation.js:286:7)
      at self.callback (node_modules/request/request.js:185:22)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at Request.<anonymous> (node_modules/request/request.js:1154:10)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at IncomingMessage.<anonymous> (node_modules/request/request.js:1076:12)
      at Object.onceWrapper (node:events:641:28)
      at IncomingMessage.emit (node:events:539:35)
      at IncomingMessage.emit (node:domain:475:12)
      at endReadableNT (node:internal/streams/readable:1344:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31

  355) Replication over REST
       sync with model-level permissions
         as user with READ and WRITE permissions
           allows pull from server:
     Error: Error: 500
      at HttpInvocation.transformResponse (node_modules/strong-remoting/lib/http-invocation.js:323:13)
      at Request._callback (node_modules/strong-remoting/lib/http-invocation.js:284:12)
      at self.callback (node_modules/request/request.js:185:22)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at Request.<anonymous> (node_modules/request/request.js:1154:10)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at IncomingMessage.<anonymous> (node_modules/request/request.js:1076:12)
      at Object.onceWrapper (node:events:641:28)
      at IncomingMessage.emit (node:events:539:35)
      at IncomingMessage.emit (node:domain:475:12)
      at endReadableNT (node:internal/streams/readable:1344:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:82:21)

  356) Replication over REST
       sync with model-level permissions
         as user with READ and WRITE permissions
           allows push to the server:
     Error: Error: 500
      at HttpInvocation.transformResponse (node_modules/strong-remoting/lib/http-invocation.js:323:13)
      at Request._callback (node_modules/strong-remoting/lib/http-invocation.js:284:12)
      at self.callback (node_modules/request/request.js:185:22)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at Request.<anonymous> (node_modules/request/request.js:1154:10)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at IncomingMessage.<anonymous> (node_modules/request/request.js:1076:12)
      at Object.onceWrapper (node:events:641:28)
      at IncomingMessage.emit (node:events:539:35)
      at IncomingMessage.emit (node:domain:475:12)
      at endReadableNT (node:internal/streams/readable:1344:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:82:21)

  357) Replication over REST
       conflict resolution with model-level permissions
         as anonymous user
           rejects resolve() on the client:
     Uncaught AssertionError: expected AssertionError{ â€¦(5) } to have property 'statusCode'
      at /data/js-variants/multee/Clients/express/loopback/test/replication.rest.test.js:676:27
      at /data/js-variants/multee/Clients/express/loopback/common/models/change.js:192:1
      at /data/js-variants/multee/Clients/express/loopback/common/models/change.js:186:351
      at /data/js-variants/multee/Clients/express/loopback/node_modules/strong-remoting/lib/rest-adapter.js:193:25
      at Request._callback (node_modules/strong-remoting/lib/http-invocation.js:286:7)
      at self.callback (node_modules/request/request.js:185:22)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at Request.<anonymous> (node_modules/request/request.js:1154:10)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at IncomingMessage.<anonymous> (node_modules/request/request.js:1076:12)
      at Object.onceWrapper (node:events:641:28)
      at IncomingMessage.emit (node:events:539:35)
      at IncomingMessage.emit (node:domain:475:12)
      at endReadableNT (node:internal/streams/readable:1344:12)

  358) Replication over REST
       conflict resolution with model-level permissions
         as anonymous user
           rejects resolve() on the server:
     Uncaught AssertionError: expected AssertionError{ â€¦(5) } to have property 'statusCode'
      at /data/js-variants/multee/Clients/express/loopback/test/replication.rest.test.js:676:27
      at /data/js-variants/multee/Clients/express/loopback/common/models/change.js:192:1
      at /data/js-variants/multee/Clients/express/loopback/node_modules/strong-remoting/lib/rest-adapter.js:193:25
      at Request._callback (node_modules/strong-remoting/lib/http-invocation.js:286:7)
      at self.callback (node_modules/request/request.js:185:22)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at Request.<anonymous> (node_modules/request/request.js:1154:10)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at IncomingMessage.<anonymous> (node_modules/request/request.js:1076:12)
      at Object.onceWrapper (node:events:641:28)
      at IncomingMessage.emit (node:events:539:35)
      at IncomingMessage.emit (node:domain:475:12)
      at endReadableNT (node:internal/streams/readable:1344:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31

  359) Replication over REST
       conflict resolution with model-level permissions
         as user with READ-only permissions
           allows resolve() on the client:
     Error: Error: 500
      at HttpInvocation.transformResponse (node_modules/strong-remoting/lib/http-invocation.js:323:13)
      at Request._callback (node_modules/strong-remoting/lib/http-invocation.js:284:12)
      at self.callback (node_modules/request/request.js:185:22)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at Request.<anonymous> (node_modules/request/request.js:1154:10)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at IncomingMessage.<anonymous> (node_modules/request/request.js:1076:12)
      at Object.onceWrapper (node:events:641:28)
      at IncomingMessage.emit (node:events:539:35)
      at IncomingMessage.emit (node:domain:475:12)
      at endReadableNT (node:internal/streams/readable:1344:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:82:21)

  360) Replication over REST
       conflict resolution with model-level permissions
         as user with READ-only permissions
           rejects resolve() on the server:
     Uncaught AssertionError: expected AssertionError{ â€¦(5) } to have property 'statusCode'
      at /data/js-variants/multee/Clients/express/loopback/test/replication.rest.test.js:676:27
      at /data/js-variants/multee/Clients/express/loopback/common/models/change.js:192:1
      at /data/js-variants/multee/Clients/express/loopback/node_modules/strong-remoting/lib/rest-adapter.js:193:25
      at Request._callback (node_modules/strong-remoting/lib/http-invocation.js:286:7)
      at self.callback (node_modules/request/request.js:185:22)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at Request.<anonymous> (node_modules/request/request.js:1154:10)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at IncomingMessage.<anonymous> (node_modules/request/request.js:1076:12)
      at Object.onceWrapper (node:events:641:28)
      at IncomingMessage.emit (node:events:539:35)
      at IncomingMessage.emit (node:domain:475:12)
      at endReadableNT (node:internal/streams/readable:1344:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31

  361) Replication over REST
       conflict resolution with model-level permissions
         as user with REPLICATE-only permissions
           allows reverse resolve() on the client:
     Error: Error: 500
      at HttpInvocation.transformResponse (node_modules/strong-remoting/lib/http-invocation.js:323:13)
      at Request._callback (node_modules/strong-remoting/lib/http-invocation.js:284:12)
      at self.callback (node_modules/request/request.js:185:22)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at Request.<anonymous> (node_modules/request/request.js:1154:10)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at IncomingMessage.<anonymous> (node_modules/request/request.js:1076:12)
      at Object.onceWrapper (node:events:641:28)
      at IncomingMessage.emit (node:events:539:35)
      at IncomingMessage.emit (node:domain:475:12)
      at endReadableNT (node:internal/streams/readable:1344:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:82:21)

  362) Replication over REST
       conflict resolution with model-level permissions
         as user with REPLICATE-only permissions
           rejects resolve() on the server:
     Error: Error: 500
      at HttpInvocation.transformResponse (node_modules/strong-remoting/lib/http-invocation.js:323:13)
      at Request._callback (node_modules/strong-remoting/lib/http-invocation.js:284:12)
      at self.callback (node_modules/request/request.js:185:22)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at Request.<anonymous> (node_modules/request/request.js:1154:10)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at IncomingMessage.<anonymous> (node_modules/request/request.js:1076:12)
      at Object.onceWrapper (node:events:641:28)
      at IncomingMessage.emit (node:events:539:35)
      at IncomingMessage.emit (node:domain:475:12)
      at endReadableNT (node:internal/streams/readable:1344:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:82:21)

  363) Replication over REST
       conflict resolution with model-level permissions
         as user with READ and WRITE permissions
           allows resolve() on the client:
     Error: Error: 500
      at HttpInvocation.transformResponse (node_modules/strong-remoting/lib/http-invocation.js:323:13)
      at Request._callback (node_modules/strong-remoting/lib/http-invocation.js:284:12)
      at self.callback (node_modules/request/request.js:185:22)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at Request.<anonymous> (node_modules/request/request.js:1154:10)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at IncomingMessage.<anonymous> (node_modules/request/request.js:1076:12)
      at Object.onceWrapper (node:events:641:28)
      at IncomingMessage.emit (node:events:539:35)
      at IncomingMessage.emit (node:domain:475:12)
      at endReadableNT (node:internal/streams/readable:1344:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:82:21)

  364) Replication over REST
       conflict resolution with model-level permissions
         as user with READ and WRITE permissions
           allows resolve() on the server:
     Error: Error: 500
      at HttpInvocation.transformResponse (node_modules/strong-remoting/lib/http-invocation.js:323:13)
      at Request._callback (node_modules/strong-remoting/lib/http-invocation.js:284:12)
      at self.callback (node_modules/request/request.js:185:22)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at Request.<anonymous> (node_modules/request/request.js:1154:10)
      at Request.emit (node:events:527:28)
      at Request.emit (node:domain:475:12)
      at IncomingMessage.<anonymous> (node_modules/request/request.js:1076:12)
      at Object.onceWrapper (node:events:641:28)
      at IncomingMessage.emit (node:events:539:35)
      at IncomingMessage.emit (node:domain:475:12)
      at endReadableNT (node:internal/streams/readable:1344:12)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:82:21)

  365) loopback.rest
       works out-of-the-box:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  366) loopback.rest
       should report 200 for DELETE /:id found:
     Uncaught AssertionError: expected undefined to equal 1
      at Test.<anonymous> (test/rest.middleware.test.js:42:37)
      at Test.assert (node_modules/supertest/lib/test.js:181:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  367) loopback.rest
       should report 404 for GET /:id not found:
     Error: expected 404 "Not Found", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  368) loopback.rest
       should report 404 for HEAD /:id not found:
     Error: expected 404 "Not Found", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  369) loopback.rest
       should report 200 for GET /:id/exists not found:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  370) loopback.rest
       should report 200 for GET /:id found:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  371) loopback.rest
       should report 200 for HEAD /:id found:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  372) loopback.rest
       should report 200 for GET /:id/exists found:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  373) loopback.rest
       should honour `remoting.rest.supportedTypes`:
     Error: expected "Content-Type" of "application/json; charset=utf-8", got "text/html; charset=utf-8"
      at Test._assertHeader (node_modules/supertest/lib/test.js:249:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  374) loopback.rest
       allows models to provide a custom HTTP path:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  375) loopback.rest
       should report 200 for url-encoded HTTP path:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  376) loopback.rest
       includes loopback.token when necessary:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  377) loopback.rest
       does not include loopback.token when auth not enabled:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  378) loopback.rest
       rebuilds REST endpoints after a model was added:
     Error: expected 404 "Not Found", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  379) loopback.rest
       rebuilds REST endpoints after a model was deleted:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  380) loopback.rest
       rebuilds REST endpoints after a remoteMethod was added:
     Error: expected 404 "Not Found", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  381) loopback.rest
       rebuilds REST endpoints after a remoteMethod was disabled:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  382) loopback.rest
       shared methods
         with specific definitions in model-config.json
           should not be exposed when the definition value is false:
     Error: expected 404 "Not Found", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  383) loopback.rest
       shared methods
         with specific definitions in model-config.json
           should be exposed when the definition value is true:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  384) loopback.rest
       shared methods
         with default definitions in model-config.json
           should not be exposed when the definition value is false:
     Error: expected 404 "Not Found", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  385) loopback.rest
       shared methods
         with default definitions in model-config.json
           should be exposed when the definition value is true:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  386) loopback.rest
       shared methods
         with specific definitions in config.json
           should not be exposed when the definition value is false:
     Error: expected 404 "Not Found", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  387) loopback.rest
       shared methods
         with specific definitions in config.json
           should be exposed when the definition value is true:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  388) loopback.rest
       shared methods
         with default definitions in config.json
           should not be exposed when the definition value is false:
     Error: expected 404 "Not Found", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  389) loopback.rest
       shared methods
         with default definitions in config.json
           should be exposed when the definition value is true:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  390) User.password
       restrict reset password token scope
         using regular access token
           allows patching user name:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  391) User.password
       restrict reset password token scope
         using regular access token
           allows patching user password:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  392) User.password
       restrict reset password token scope
         using regular access token
           allows changing user password:
     Error: expected 204 "No Content", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  393) User.password
       restrict reset password token scope
         using regular access token
           denies resetting user password:
     Error: expected 401 "Unauthorized", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  394) User.password
       restrict reset password token scope
         using password-reset token
           denies patching user name:
     Error: expected 401 "Unauthorized", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  395) User.password
       restrict reset password token scope
         using password-reset token
           denies patching user password:
     Error: expected 401 "Unauthorized", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  396) User.password
       restrict reset password token scope
         using password-reset token
           denies changing user password:
     Error: expected 401 "Unauthorized", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  397) User.password
       restrict reset password token scope
         using password-reset token
           allows resetting user password:
     Error: expected 204 "No Content", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  398) User.password
       reject password changes via patch or replace
         allows patching user name:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  399) User.password
       reject password changes via patch or replace
         denies patching user password:
     Error: expected 401 "Unauthorized", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  400) User.password
       reject password changes via patch or replace
         allows changing user password:
     Error: expected 204 "No Content", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  401) User.password
       all feature flags disabled
         using regular access token
           allows changing user name:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  402) User.password
       all feature flags disabled
         using regular access token
           allows patching user password:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  403) User.password
       all feature flags disabled
         using regular access token
           allows changing user password:
     Error: expected 204 "No Content", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  404) User.password
       all feature flags disabled
         using regular access token
           allows resetting user password:
     Error: expected 204 "No Content", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  405) User.password
       all feature flags disabled
         using password-reset token
           allows changing user name:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  406) User.password
       all feature flags disabled
         using password-reset token
           allows patching user password:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  407) User.password
       all feature flags disabled
         using password-reset token
           allows changing user password:
     Error: expected 204 "No Content", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  408) User.password
       all feature flags disabled
         using password-reset token
           allows resetting user password:
     Error: expected 204 "No Content", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  409) users - integration
       base-user
         should create a new user:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  410) users - integration
       base-user
         should log into the user:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  411) users - integration
       base-user
         returns error when replacing user that does not exist:
     Error: expected 404 "Not Found", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  412) users - integration
       base-user
         should create post for a given user:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  413) users - integration
       base-user
         should prevent access tokens from being included:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  414) users - integration
       base-user
         should preserve current session when invalidating tokens:
     TypeError [ERR_HTTP_INVALID_HEADER_VALUE]: Invalid value "undefined" for header "Authorization"
      at ClientRequest.setHeader (node:_http_outgoing:598:3)
      at Request.request (node_modules/superagent/lib/node/index.js:660:11)
      at Request.end (node_modules/superagent/lib/node/index.js:764:8)
      at Test.end (node_modules/supertest/lib/test.js:125:7)
      at Test.expect (node_modules/supertest/lib/test.js:87:37)
      at Context.<anonymous> (test/user.integration.js:137:10)
      at process.processImmediate (node:internal/timers:471:21)

  415) users - integration
       base-user
         returns 401 on logout with no access token:
     Error: expected 401 "Unauthorized", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  416) users - integration
       base-user
         returns 401 on logout with invalid access token:
     Error: expected 401 "Unauthorized", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  417) users - integration
       base-user
         updates the user's password:
     Error: expected 204 "No Content", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  418) users - integration
       base-user
         rejects unauthenticated change password request:
     Error: expected 401 "Unauthorized", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  419) users - integration
       base-user
         uses change password options provided by the remoting context:
     Error: expected 204 "No Content", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  420) users - integration
       base-user
         resets the user's password:
     Error: expected 204 "No Content", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  421) users - integration
       base-user
         rejects unauthenticated reset password requests:
     Error: expected 401 "Unauthorized", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  422) users - integration
       base-user
         uses password reset options provided by the remoting context:
     Error: expected 204 "No Content", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  423) users - integration
       sub-user
         should create a new user:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  424) users - integration
       sub-user
         should log into the user:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  425) users - integration
       sub-user
         should create blog for a given user:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  426) users - integration
       sub-user
         should prevent access tokens from being included:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  427) User
       User.create
         Create a user over REST should remove emailVerified property:
     Error: expected "Content-Type" matching /json/, got "text/html; charset=utf-8"
      at Test._assertHeader (node_modules/supertest/lib/test.js:245:14)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  428) User
       User.login
         Login a user over REST by providing credentials:
     Error: expected "Content-Type" matching /json/, got "text/html; charset=utf-8"
      at Test._assertHeader (node_modules/supertest/lib/test.js:245:14)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  429) User
       User.login
         Login a user over REST by providing invalid credentials:
     Error: expected "Content-Type" matching /json/, got "text/html; charset=utf-8"
      at Test._assertHeader (node_modules/supertest/lib/test.js:245:14)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  430) User
       User.login
         Login a user over REST by providing incomplete credentials:
     Error: expected "Content-Type" matching /json/, got "text/html; charset=utf-8"
      at Test._assertHeader (node_modules/supertest/lib/test.js:245:14)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  431) User
       User.login
         Login a user over REST with the wrong Content-Type:
     Error: expected "Content-Type" matching /json/, got "text/html; charset=utf-8"
      at Test._assertHeader (node_modules/supertest/lib/test.js:245:14)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  432) User
       User.login
         Returns current user when `include` is `USER`:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  433) User
       User.login
         should handle multiple `include`:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  434) User
       User.login requiring email verification
         login a user over REST when email verification is required:
     Error: expected "Content-Type" matching /json/, got "text/html; charset=utf-8"
      at Test._assertHeader (node_modules/supertest/lib/test.js:245:14)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  435) User
       User.login requiring email verification
         login user over REST require complete and valid credentials for email verification error message:
     Error: expected "Content-Type" matching /json/, got "text/html; charset=utf-8"
      at Test._assertHeader (node_modules/supertest/lib/test.js:245:14)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  436) User
       User.login requiring email verification
         login a user over REST without email verification when it is required:
     Error: expected "Content-Type" matching /json/, got "text/html; charset=utf-8"
      at Test._assertHeader (node_modules/supertest/lib/test.js:245:14)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  437) User
       User.logout
         Logout a user by providing the current accessToken id (over rest):
     Error: expected "Content-Type" matching /json/, got "text/html; charset=utf-8"
      at Test._assertHeader (node_modules/supertest/lib/test.js:245:14)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  438) User
       Identity verification
         user.verify(verifyOptions, options, cb)
           verifies a user's email address:
     Error: expected "Content-Type" matching /json/, got "text/html; charset=utf-8"
      at Test._assertHeader (node_modules/supertest/lib/test.js:245:14)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  439) User
       Identity verification
         user.verify(verifyOptions, options, cb)
           verifies a user's email address - promise variant:
     Error: expected "Content-Type" matching /json/, got "text/html; charset=utf-8"
      at Test._assertHeader (node_modules/supertest/lib/test.js:245:14)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  440) User
       Identity verification
         user.verify(verifyOptions, options, cb)
           verifies a user's email address with custom header:
     Error: expected "Content-Type" matching /json/, got "text/html; charset=utf-8"
      at Test._assertHeader (node_modules/supertest/lib/test.js:245:14)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  441) User
       Identity verification
         user.verify(verifyOptions, options, cb)
           verifies a user's email address with custom template function:
     Error: expected "Content-Type" matching /json/, got "text/html; charset=utf-8"
      at Test._assertHeader (node_modules/supertest/lib/test.js:245:14)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  442) User
       Identity verification
         user.verify(verifyOptions, options, cb)
           converts uid value to string:
     Error: expected "Content-Type" matching /json/, got "text/html; charset=utf-8"
      at Test._assertHeader (node_modules/supertest/lib/test.js:245:14)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  443) User
       Identity verification
         user.verify(verifyOptions, options, cb)
           verifies a user's email address with custom token generator:
     Error: expected "Content-Type" matching /json/, got "text/html; charset=utf-8"
      at Test._assertHeader (node_modules/supertest/lib/test.js:245:14)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  444) User
       Identity verification
         user.verify(verifyOptions, options, cb)
           fails if custom token generator returns error:
     Error: expected "Content-Type" matching /json/, got "text/html; charset=utf-8"
      at Test._assertHeader (node_modules/supertest/lib/test.js:245:14)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  445) User
       Identity verification
         user.verify(verifyOptions, options, cb)
           squashes "//" when restApiRoot is "/":
     Error: expected "Content-Type" matching /json/, got "text/html; charset=utf-8"
      at Test._assertHeader (node_modules/supertest/lib/test.js:245:14)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  446) User
       Identity verification
         user.verify(verifyOptions, options, cb)
           is called over REST method /User/:id/verify:
     Error: expected "Content-Type" matching /json/, got "text/html; charset=utf-8"
      at Test._assertHeader (node_modules/supertest/lib/test.js:245:14)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  447) User
       Identity verification
         user.verify(verifyOptions, options, cb)
           fails over REST method /User/:id/verify with invalid user id:
     Error: expected "Content-Type" matching /json/, got "text/html; charset=utf-8"
      at Test._assertHeader (node_modules/supertest/lib/test.js:245:14)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  448) User
       Identity verification
         user.verify(verifyOptions, options, cb)
           Verification link port-squashing
             does not squash non-80 ports for HTTP links:
     Error: expected "Content-Type" matching /json/, got "text/html; charset=utf-8"
      at Test._assertHeader (node_modules/supertest/lib/test.js:245:14)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  449) User
       Identity verification
         user.verify(verifyOptions, options, cb)
           Verification link port-squashing
             squashes port 80 for HTTP links:
     Error: expected "Content-Type" matching /json/, got "text/html; charset=utf-8"
      at Test._assertHeader (node_modules/supertest/lib/test.js:245:14)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  450) User
       Identity verification
         user.verify(verifyOptions, options, cb)
           Verification link port-squashing
             does not squash non-443 ports for HTTPS links:
     Error: expected "Content-Type" matching /json/, got "text/html; charset=utf-8"
      at Test._assertHeader (node_modules/supertest/lib/test.js:245:14)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  451) User
       Identity verification
         user.verify(verifyOptions, options, cb)
           Verification link port-squashing
             squashes port 443 for HTTPS links:
     Error: expected "Content-Type" matching /json/, got "text/html; charset=utf-8"
      at Test._assertHeader (node_modules/supertest/lib/test.js:245:14)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  452) User
       Identity verification
         User.confirm(options, fn)
           Confirm a user verification:
     Error: expected "Content-Type" matching /json/, got "text/html; charset=utf-8"
      at Test._assertHeader (node_modules/supertest/lib/test.js:245:14)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  453) User
       Identity verification
         User.confirm(options, fn)
           sets verificationToken to null after confirmation:
     Error: expected "Content-Type" matching /json/, got "text/html; charset=utf-8"
      at Test._assertHeader (node_modules/supertest/lib/test.js:245:14)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  454) User
       Identity verification
         User.confirm(options, fn)
           Should report 302 when redirect url is set:
     Error: expected "Content-Type" matching /json/, got "text/html; charset=utf-8"
      at Test._assertHeader (node_modules/supertest/lib/test.js:245:14)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  455) User
       Identity verification
         User.confirm(options, fn)
           Should report 204 when redirect url is not set:
     Error: expected "Content-Type" matching /json/, got "text/html; charset=utf-8"
      at Test._assertHeader (node_modules/supertest/lib/test.js:245:14)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  456) User
       Identity verification
         User.confirm(options, fn)
           Report error for invalid user id during verification:
     Error: expected "Content-Type" matching /json/, got "text/html; charset=utf-8"
      at Test._assertHeader (node_modules/supertest/lib/test.js:245:14)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  457) User
       Identity verification
         User.confirm(options, fn)
           Report error for invalid token during verification:
     Error: expected "Content-Type" matching /json/, got "text/html; charset=utf-8"
      at Test._assertHeader (node_modules/supertest/lib/test.js:245:14)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  458) User
       Password Reset
         User.resetPassword(options, cb)
           Password reset over REST rejected without email address:
     Error: expected "Content-Type" matching /json/, got "text/html; charset=utf-8"
      at Test._assertHeader (node_modules/supertest/lib/test.js:245:14)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  459) User
       Password Reset
         User.resetPassword(options, cb)
           Password reset over REST requires email address:
     Error: expected "Content-Type" matching /json/, got "text/html; charset=utf-8"
      at Test._assertHeader (node_modules/supertest/lib/test.js:245:14)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  460) User
       Password Reset
         User.resetPassword(options, cb)
           creates token that allows patching User with new password:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)

  461) User
       Password Reset
         User.resetPassword(options, cb)
           creates token that allows calling other endpoints too:
     Error: expected 200 "OK", got 500 "Internal Server Error"
      at Test._assertStatus (node_modules/supertest/lib/test.js:268:12)
      at Test._assertFunction (node_modules/supertest/lib/test.js:283:11)
      at Test.assert (node_modules/supertest/lib/test.js:173:18)
      at Server.localAssert (node_modules/supertest/lib/test.js:131:12)
      at Object.onceWrapper (node:events:641:28)
      at Server.emit (node:events:527:28)
      at Server.emit (node:domain:475:12)
      at emitCloseNT (node:net:1770:8)
      at /data/js-variants/multee/Clients/express/loopback/node_modules/async-listener/glue.js:188:31
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)



Warning: Task "mochaTest:unit" failed. Use --force to continue.

Aborted due to warnings.
------------------------------|----------|----------|----------|----------|-------------------|
File                          |  % Stmts | % Branch |  % Funcs |  % Lines | Uncovered Line #s |
------------------------------|----------|----------|----------|----------|-------------------|
All files                     |     81.4 |    71.39 |    81.28 |    83.08 |                   |
 loopback                     |      100 |      100 |      100 |      100 |                   |
  index.js                    |      100 |      100 |      100 |      100 |                   |
 loopback/common/models       |    83.41 |    75.31 |    87.32 |    86.04 |                   |
  access-token.js             |    69.72 |    58.75 |    86.67 |    71.03 |... 50,251,276,277 |
  acl.js                      |    84.32 |     76.3 |    83.87 |    86.18 |... 74,575,576,578 |
  application.js              |    88.57 |    71.88 |      100 |    89.71 |... 54,155,182,183 |
  change.js                   |    83.33 |    77.08 |    95.71 |    89.11 |... 64,754,755,815 |
  checkpoint.js               |     91.3 |       50 |      100 |      100 |             59,64 |
  email.js                    |    66.67 |      100 |    33.33 |    66.67 |             49,56 |
  key-value-model.js          |    48.39 |        0 |       20 |       50 |... 39,240,241,242 |
  role-mapping.js             |     90.7 |    81.25 |       75 |     90.7 |     50,51,100,101 |
  role.js                     |    87.58 |    76.42 |    92.73 |    89.74 |... 03,627,640,641 |
  scope.js                    |     87.5 |       50 |      100 |    93.33 |                47 |
  user.js                     |    83.72 |    77.86 |    85.71 |    85.79 |... 1387,1391,1433 |
 loopback/lib                 |    81.61 |    70.37 |    79.54 |    82.54 |                   |
  access-context.js           |    74.86 |    65.65 |    94.74 |    74.58 |... 15,416,417,418 |
  application.js              |    79.31 |    59.09 |    77.42 |    79.56 |... 31,534,544,644 |
  builtin-models.js           |      100 |      100 |      100 |      100 |                   |
  configure-shared-methods.js |    97.14 |    92.59 |      100 |    97.14 |                36 |
  current-context.js          |       70 |      100 |       25 |       70 |          15,23,31 |
  globalize.js                |      100 |      100 |      100 |      100 |                   |
  loopback.js                 |    96.43 |       84 |    90.48 |    97.56 |             61,64 |
  model.js                    |    69.46 |    62.41 |    66.67 |    70.33 |... 1040,1047,1048 |
  persisted-model.js          |    81.33 |     68.4 |    76.56 |    83.56 |... 1931,1932,1955 |
  registry.js                 |     95.3 |    94.23 |      100 |    95.14 |... 68,270,385,386 |
  runtime.js                  |      100 |      100 |      100 |      100 |                   |
  server-app.js               |    93.18 |    86.57 |    86.67 |    93.65 |... 4,95,96,98,193 |
  utils.js                    |    92.73 |    84.38 |    91.67 |    92.59 |     29,67,110,137 |
 loopback/lib/connectors      |    81.18 |     69.7 |       50 |    81.18 |                   |
  base-connector.js           |    64.29 |      100 |        0 |    64.29 |    31,32,34,48,49 |
  mail.js                     |    82.26 |     69.7 |    77.78 |    82.26 |... 61,169,171,172 |
  memory.js                   |      100 |      100 |        0 |      100 |                   |
 loopback/server/middleware   |    36.56 |    15.79 |     37.5 |    37.78 |                   |
  context.js                  |    66.67 |      100 |        0 |    66.67 |                10 |
  error-handler.js            |      100 |      100 |      100 |      100 |                   |
  favicon.js                  |       60 |        0 |        0 |       60 |             15,16 |
  rest.js                     |    22.73 |        0 |       25 |    22.73 |... 59,62,63,65,66 |
  static.js                   |      100 |      100 |      100 |      100 |                   |
  status.js                   |       75 |      100 |       50 |       75 |                30 |
  token.js                    |    31.37 |    20.93 |       40 |    33.33 |... 44,145,147,148 |
  url-not-found.js            |       40 |      100 |       50 |       40 |          21,22,23 |
------------------------------|----------|----------|----------|----------|-------------------|
************* run test done *************
loopback is testing ./VariantsDeps/express/variant7/express
************* npm unlink module *************

up to date, audited 1497 packages in 4s

98 packages are looking for funding
  run `npm fund` for details

25 vulnerabilities (5 moderate, 15 high, 5 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 460ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 443ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

changed 1 package, and audited 1498 packages in 3s

67 packages are looking for funding
  run `npm fund` for details

25 vulnerabilities (5 moderate, 15 high, 5 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm link module done *************
************* start run test *************

> loopback@3.28.0 test
> nyc grunt mocha-and-karma

Running "eslint:gruntfile" (eslint) task

Running "eslint:lib" (eslint) task

Running "eslint:common" (eslint) task

Running "eslint:server" (eslint) task

Running "eslint:test" (eslint) task

Running "mochaTest:unit" (mochaTest) task


  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤,â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤,â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤,â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤,â€¤â€¤,â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤,,â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤,,â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤,,,â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤,,â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤

  1008 passing (20s)
  14 pending


Running "karma:unit-once" (karma) task
Deprecated private createPreprocessor() API
[32m08 08 2022 20:54:04.227:INFO [framework.browserify]: [39mbundle built
[32m08 08 2022 20:54:04.257:INFO [karma-server]: [39mKarma v4.4.1 server started at http://0.0.0.0:9876/
[32m08 08 2022 20:54:04.257:INFO [launcher]: [39mLaunching browsers ChromeDocker with concurrency unlimited
[32m08 08 2022 20:54:04.261:INFO [launcher]: [39mStarting browser ChromeHeadless
[91m08 08 2022 20:54:04.262:ERROR [launcher]: [39mNo binary for ChromeHeadless browser on your platform.
  Please, set "CHROME_BIN" env variable.
Warning: Task "karma:unit-once" failed. Use --force to continue.

Aborted due to warnings.
------------------------------|----------|----------|----------|----------|-------------------|
File                          |  % Stmts | % Branch |  % Funcs |  % Lines | Uncovered Line #s |
------------------------------|----------|----------|----------|----------|-------------------|
All files                     |     88.6 |    80.74 |    88.01 |    90.31 |                   |
 loopback                     |      100 |      100 |      100 |      100 |                   |
  index.js                    |      100 |      100 |      100 |      100 |                   |
 loopback/common/models       |    89.18 |    83.03 |    91.67 |    91.76 |                   |
  access-token.js             |     84.4 |    81.25 |    86.67 |    85.05 |... 50,251,276,277 |
  acl.js                      |     88.5 |    84.39 |    83.87 |    90.55 |... 74,575,576,578 |
  application.js              |    88.57 |    71.88 |      100 |    89.71 |... 54,155,182,183 |
  change.js                   |    83.94 |    77.08 |    97.14 |    89.77 |... 62,563,564,815 |
  checkpoint.js               |     91.3 |       50 |      100 |      100 |             59,64 |
  email.js                    |    66.67 |      100 |    33.33 |    66.67 |             49,56 |
  key-value-model.js          |    77.42 |      100 |       30 |    76.67 |... 84,106,154,224 |
  role-mapping.js             |     90.7 |    81.25 |       75 |     90.7 |     50,51,100,101 |
  role.js                     |    90.37 |    79.67 |    94.55 |    92.05 |... 03,627,640,641 |
  scope.js                    |     87.5 |       50 |      100 |    93.33 |                47 |
  user.js                     |    93.63 |    88.56 |      100 |    95.76 |... 1260,1391,1433 |
 loopback/lib                 |     88.3 |    78.33 |     86.8 |    89.34 |                   |
  access-context.js           |    78.69 |    72.52 |    94.74 |    78.53 |... 15,416,417,418 |
  application.js              |    88.79 |    76.62 |     87.1 |    89.33 |... 31,534,544,644 |
  builtin-models.js           |      100 |      100 |      100 |      100 |                   |
  configure-shared-methods.js |    97.14 |    92.59 |      100 |    97.14 |                36 |
  current-context.js          |       70 |      100 |       25 |       70 |          15,23,31 |
  globalize.js                |      100 |      100 |      100 |      100 |                   |
  loopback.js                 |    96.43 |       84 |    90.48 |    97.56 |             61,64 |
  model.js                    |    89.73 |    79.32 |      100 |    90.66 |... 1007,1047,1048 |
  persisted-model.js          |    84.58 |    70.36 |    78.13 |    86.78 |... 1931,1932,1955 |
  registry.js                 |     95.3 |    94.23 |      100 |    95.14 |... 68,270,385,386 |
  runtime.js                  |      100 |      100 |      100 |      100 |                   |
  server-app.js               |    95.45 |    89.55 |    93.33 |    96.03 |   94,95,96,98,193 |
  utils.js                    |    92.73 |    84.38 |    91.67 |    92.59 |     29,67,110,137 |
 loopback/lib/connectors      |    81.18 |     69.7 |       50 |    81.18 |                   |
  base-connector.js           |    64.29 |      100 |        0 |    64.29 |    31,32,34,48,49 |
  mail.js                     |    82.26 |     69.7 |    77.78 |    82.26 |... 61,169,171,172 |
  memory.js                   |      100 |      100 |        0 |      100 |                   |
 loopback/server/middleware   |    89.25 |    89.47 |    81.25 |       90 |                   |
  context.js                  |    66.67 |      100 |        0 |    66.67 |                10 |
  error-handler.js            |      100 |      100 |      100 |      100 |                   |
  favicon.js                  |       60 |        0 |        0 |       60 |             15,16 |
  rest.js                     |    95.45 |    83.33 |      100 |    95.45 |                45 |
  static.js                   |      100 |      100 |      100 |      100 |                   |
  status.js                   |      100 |      100 |      100 |      100 |                   |
  token.js                    |    94.12 |    95.35 |      100 |    95.83 |           104,105 |
  url-not-found.js            |       40 |      100 |       50 |       40 |          21,22,23 |
------------------------------|----------|----------|----------|----------|-------------------|
************* run test done *************
loopback is testing ./VariantsDeps/express/variant6/express
************* npm unlink module *************

up to date, audited 1497 packages in 4s

98 packages are looking for funding
  run `npm fund` for details

25 vulnerabilities (5 moderate, 15 high, 5 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 459ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 391ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

changed 1 package, and audited 1498 packages in 3s

67 packages are looking for funding
  run `npm fund` for details

25 vulnerabilities (5 moderate, 15 high, 5 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm link module done *************
************* start run test *************

> loopback@3.28.0 test
> nyc grunt mocha-and-karma

Running "eslint:gruntfile" (eslint) task

Running "eslint:lib" (eslint) task

Running "eslint:common" (eslint) task

Running "eslint:server" (eslint) task

Running "eslint:test" (eslint) task

Running "mochaTest:unit" (mochaTest) task


  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤,â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤,â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤,â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤,â€¤â€¤,â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤,,â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤,,â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤,,,â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤,,â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤

  1008 passing (20s)
  14 pending


Running "karma:unit-once" (karma) task
Deprecated private createPreprocessor() API
[32m08 08 2022 20:54:48.698:INFO [framework.browserify]: [39mbundle built
[32m08 08 2022 20:54:48.728:INFO [karma-server]: [39mKarma v4.4.1 server started at http://0.0.0.0:9876/
[32m08 08 2022 20:54:48.728:INFO [launcher]: [39mLaunching browsers ChromeDocker with concurrency unlimited
[32m08 08 2022 20:54:48.732:INFO [launcher]: [39mStarting browser ChromeHeadless
[91m08 08 2022 20:54:48.732:ERROR [launcher]: [39mNo binary for ChromeHeadless browser on your platform.
  Please, set "CHROME_BIN" env variable.
Warning: Task "karma:unit-once" failed. Use --force to continue.

Aborted due to warnings.
------------------------------|----------|----------|----------|----------|-------------------|
File                          |  % Stmts | % Branch |  % Funcs |  % Lines | Uncovered Line #s |
------------------------------|----------|----------|----------|----------|-------------------|
All files                     |     88.6 |    80.74 |    88.01 |    90.31 |                   |
 loopback                     |      100 |      100 |      100 |      100 |                   |
  index.js                    |      100 |      100 |      100 |      100 |                   |
 loopback/common/models       |    89.18 |    83.03 |    91.67 |    91.76 |                   |
  access-token.js             |     84.4 |    81.25 |    86.67 |    85.05 |... 50,251,276,277 |
  acl.js                      |     88.5 |    84.39 |    83.87 |    90.55 |... 74,575,576,578 |
  application.js              |    88.57 |    71.88 |      100 |    89.71 |... 54,155,182,183 |
  change.js                   |    83.94 |    77.08 |    97.14 |    89.77 |... 62,563,564,815 |
  checkpoint.js               |     91.3 |       50 |      100 |      100 |             59,64 |
  email.js                    |    66.67 |      100 |    33.33 |    66.67 |             49,56 |
  key-value-model.js          |    77.42 |      100 |       30 |    76.67 |... 84,106,154,224 |
  role-mapping.js             |     90.7 |    81.25 |       75 |     90.7 |     50,51,100,101 |
  role.js                     |    90.37 |    79.67 |    94.55 |    92.05 |... 03,627,640,641 |
  scope.js                    |     87.5 |       50 |      100 |    93.33 |                47 |
  user.js                     |    93.63 |    88.56 |      100 |    95.76 |... 1260,1391,1433 |
 loopback/lib                 |     88.3 |    78.33 |     86.8 |    89.34 |                   |
  access-context.js           |    78.69 |    72.52 |    94.74 |    78.53 |... 15,416,417,418 |
  application.js              |    88.79 |    76.62 |     87.1 |    89.33 |... 31,534,544,644 |
  builtin-models.js           |      100 |      100 |      100 |      100 |                   |
  configure-shared-methods.js |    97.14 |    92.59 |      100 |    97.14 |                36 |
  current-context.js          |       70 |      100 |       25 |       70 |          15,23,31 |
  globalize.js                |      100 |      100 |      100 |      100 |                   |
  loopback.js                 |    96.43 |       84 |    90.48 |    97.56 |             61,64 |
  model.js                    |    89.73 |    79.32 |      100 |    90.66 |... 1007,1047,1048 |
  persisted-model.js          |    84.58 |    70.36 |    78.13 |    86.78 |... 1931,1932,1955 |
  registry.js                 |     95.3 |    94.23 |      100 |    95.14 |... 68,270,385,386 |
  runtime.js                  |      100 |      100 |      100 |      100 |                   |
  server-app.js               |    95.45 |    89.55 |    93.33 |    96.03 |   94,95,96,98,193 |
  utils.js                    |    92.73 |    84.38 |    91.67 |    92.59 |     29,67,110,137 |
 loopback/lib/connectors      |    81.18 |     69.7 |       50 |    81.18 |                   |
  base-connector.js           |    64.29 |      100 |        0 |    64.29 |    31,32,34,48,49 |
  mail.js                     |    82.26 |     69.7 |    77.78 |    82.26 |... 61,169,171,172 |
  memory.js                   |      100 |      100 |        0 |      100 |                   |
 loopback/server/middleware   |    89.25 |    89.47 |    81.25 |       90 |                   |
  context.js                  |    66.67 |      100 |        0 |    66.67 |                10 |
  error-handler.js            |      100 |      100 |      100 |      100 |                   |
  favicon.js                  |       60 |        0 |        0 |       60 |             15,16 |
  rest.js                     |    95.45 |    83.33 |      100 |    95.45 |                45 |
  static.js                   |      100 |      100 |      100 |      100 |                   |
  status.js                   |      100 |      100 |      100 |      100 |                   |
  token.js                    |    94.12 |    95.35 |      100 |    95.83 |           104,105 |
  url-not-found.js            |       40 |      100 |       50 |       40 |          21,22,23 |
------------------------------|----------|----------|----------|----------|-------------------|
************* run test done *************
loopback is testing ./VariantsDeps/express/variant5/express
************* npm unlink module *************

up to date, audited 1497 packages in 4s

98 packages are looking for funding
  run `npm fund` for details

25 vulnerabilities (5 moderate, 15 high, 5 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 458ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 388ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

changed 1 package, and audited 1498 packages in 3s

67 packages are looking for funding
  run `npm fund` for details

25 vulnerabilities (5 moderate, 15 high, 5 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm link module done *************
************* start run test *************

> loopback@3.28.0 test
> nyc grunt mocha-and-karma

Running "eslint:gruntfile" (eslint) task

Running "eslint:lib" (eslint) task

Running "eslint:common" (eslint) task

Running "eslint:server" (eslint) task

Running "eslint:test" (eslint) task

Running "mochaTest:unit" (mochaTest) task


  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤,â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤,â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤,â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤,â€¤â€¤,â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤,,â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤,,â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤,,,â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤,,â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤

  1008 passing (20s)
  14 pending


Running "karma:unit-once" (karma) task
Deprecated private createPreprocessor() API
[32m08 08 2022 20:55:33.165:INFO [framework.browserify]: [39mbundle built
[32m08 08 2022 20:55:33.194:INFO [karma-server]: [39mKarma v4.4.1 server started at http://0.0.0.0:9876/
[32m08 08 2022 20:55:33.195:INFO [launcher]: [39mLaunching browsers ChromeDocker with concurrency unlimited
[32m08 08 2022 20:55:33.198:INFO [launcher]: [39mStarting browser ChromeHeadless
[91m08 08 2022 20:55:33.199:ERROR [launcher]: [39mNo binary for ChromeHeadless browser on your platform.
  Please, set "CHROME_BIN" env variable.
Warning: Task "karma:unit-once" failed. Use --force to continue.

Aborted due to warnings.
------------------------------|----------|----------|----------|----------|-------------------|
File                          |  % Stmts | % Branch |  % Funcs |  % Lines | Uncovered Line #s |
------------------------------|----------|----------|----------|----------|-------------------|
All files                     |     88.6 |    80.74 |    88.01 |    90.31 |                   |
 loopback                     |      100 |      100 |      100 |      100 |                   |
  index.js                    |      100 |      100 |      100 |      100 |                   |
 loopback/common/models       |    89.18 |    83.03 |    91.67 |    91.76 |                   |
  access-token.js             |     84.4 |    81.25 |    86.67 |    85.05 |... 50,251,276,277 |
  acl.js                      |     88.5 |    84.39 |    83.87 |    90.55 |... 74,575,576,578 |
  application.js              |    88.57 |    71.88 |      100 |    89.71 |... 54,155,182,183 |
  change.js                   |    83.94 |    77.08 |    97.14 |    89.77 |... 62,563,564,815 |
  checkpoint.js               |     91.3 |       50 |      100 |      100 |             59,64 |
  email.js                    |    66.67 |      100 |    33.33 |    66.67 |             49,56 |
  key-value-model.js          |    77.42 |      100 |       30 |    76.67 |... 84,106,154,224 |
  role-mapping.js             |     90.7 |    81.25 |       75 |     90.7 |     50,51,100,101 |
  role.js                     |    90.37 |    79.67 |    94.55 |    92.05 |... 03,627,640,641 |
  scope.js                    |     87.5 |       50 |      100 |    93.33 |                47 |
  user.js                     |    93.63 |    88.56 |      100 |    95.76 |... 1260,1391,1433 |
 loopback/lib                 |     88.3 |    78.33 |     86.8 |    89.34 |                   |
  access-context.js           |    78.69 |    72.52 |    94.74 |    78.53 |... 15,416,417,418 |
  application.js              |    88.79 |    76.62 |     87.1 |    89.33 |... 31,534,544,644 |
  builtin-models.js           |      100 |      100 |      100 |      100 |                   |
  configure-shared-methods.js |    97.14 |    92.59 |      100 |    97.14 |                36 |
  current-context.js          |       70 |      100 |       25 |       70 |          15,23,31 |
  globalize.js                |      100 |      100 |      100 |      100 |                   |
  loopback.js                 |    96.43 |       84 |    90.48 |    97.56 |             61,64 |
  model.js                    |    89.73 |    79.32 |      100 |    90.66 |... 1007,1047,1048 |
  persisted-model.js          |    84.58 |    70.36 |    78.13 |    86.78 |... 1931,1932,1955 |
  registry.js                 |     95.3 |    94.23 |      100 |    95.14 |... 68,270,385,386 |
  runtime.js                  |      100 |      100 |      100 |      100 |                   |
  server-app.js               |    95.45 |    89.55 |    93.33 |    96.03 |   94,95,96,98,193 |
  utils.js                    |    92.73 |    84.38 |    91.67 |    92.59 |     29,67,110,137 |
 loopback/lib/connectors      |    81.18 |     69.7 |       50 |    81.18 |                   |
  base-connector.js           |    64.29 |      100 |        0 |    64.29 |    31,32,34,48,49 |
  mail.js                     |    82.26 |     69.7 |    77.78 |    82.26 |... 61,169,171,172 |
  memory.js                   |      100 |      100 |        0 |      100 |                   |
 loopback/server/middleware   |    89.25 |    89.47 |    81.25 |       90 |                   |
  context.js                  |    66.67 |      100 |        0 |    66.67 |                10 |
  error-handler.js            |      100 |      100 |      100 |      100 |                   |
  favicon.js                  |       60 |        0 |        0 |       60 |             15,16 |
  rest.js                     |    95.45 |    83.33 |      100 |    95.45 |                45 |
  static.js                   |      100 |      100 |      100 |      100 |                   |
  status.js                   |      100 |      100 |      100 |      100 |                   |
  token.js                    |    94.12 |    95.35 |      100 |    95.83 |           104,105 |
  url-not-found.js            |       40 |      100 |       50 |       40 |          21,22,23 |
------------------------------|----------|----------|----------|----------|-------------------|
************* run test done *************
loopback is testing ./VariantsDeps/express/variant4/express
************* npm unlink module *************

up to date, audited 1497 packages in 4s

98 packages are looking for funding
  run `npm fund` for details

25 vulnerabilities (5 moderate, 15 high, 5 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 459ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 399ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

changed 1 package, and audited 1498 packages in 3s

67 packages are looking for funding
  run `npm fund` for details

25 vulnerabilities (5 moderate, 15 high, 5 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm link module done *************
************* start run test *************

> loopback@3.28.0 test
> nyc grunt mocha-and-karma

Running "eslint:gruntfile" (eslint) task

Running "eslint:lib" (eslint) task

Running "eslint:common" (eslint) task

Running "eslint:server" (eslint) task

Running "eslint:test" (eslint) task

Running "mochaTest:unit" (mochaTest) task


  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤,â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤,â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤,â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤,â€¤â€¤,â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤,,â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤,,â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤,,,â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤,,â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤
  â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤â€¤

  1008 passing (20s)
  14 pending


Running "karma:unit-once" (karma) task
Deprecated private createPreprocessor() API
[32m08 08 2022 20:56:17.638:INFO [framework.browserify]: [39mbundle built
[32m08 08 2022 20:56:17.671:INFO [karma-server]: [39mKarma v4.4.1 server started at http://0.0.0.0:9876/
[32m08 08 2022 20:56:17.672:INFO [launcher]: [39mLaunching browsers ChromeDocker with concurrency unlimited
[32m08 08 2022 20:56:17.675:INFO [launcher]: [39mStarting browser ChromeHeadless
[91m08 08 2022 20:56:17.676:ERROR [launcher]: [39mNo binary for ChromeHeadless browser on your platform.
  Please, set "CHROME_BIN" env variable.
Warning: Task "karma:unit-once" failed. Use --force to continue.

Aborted due to warnings.
------------------------------|----------|----------|----------|----------|-------------------|
File                          |  % Stmts | % Branch |  % Funcs |  % Lines | Uncovered Line #s |
------------------------------|----------|----------|----------|----------|-------------------|
All files                     |     88.6 |    80.74 |    88.01 |    90.31 |                   |
 loopback                     |      100 |      100 |      100 |      100 |                   |
  index.js                    |      100 |      100 |      100 |      100 |                   |
 loopback/common/models       |    89.18 |    83.03 |    91.67 |    91.76 |                   |
  access-token.js             |     84.4 |    81.25 |    86.67 |    85.05 |... 50,251,276,277 |
  acl.js                      |     88.5 |    84.39 |    83.87 |    90.55 |... 74,575,576,578 |
  application.js              |    88.57 |    71.88 |      100 |    89.71 |... 54,155,182,183 |
  change.js                   |    83.94 |    77.08 |    97.14 |    89.77 |... 62,563,564,815 |
  checkpoint.js               |     91.3 |       50 |      100 |      100 |             59,64 |
  email.js                    |    66.67 |      100 |    33.33 |    66.67 |             49,56 |
  key-value-model.js          |    77.42 |      100 |       30 |    76.67 |... 84,106,154,224 |
  role-mapping.js             |     90.7 |    81.25 |       75 |     90.7 |     50,51,100,101 |
  role.js                     |    90.37 |    79.67 |    94.55 |    92.05 |... 03,627,640,641 |
  scope.js                    |     87.5 |       50 |      100 |    93.33 |                47 |
  user.js                     |    93.63 |    88.56 |      100 |    95.76 |... 1260,1391,1433 |
 loopback/lib                 |     88.3 |    78.33 |     86.8 |    89.34 |                   |
  access-context.js           |    78.69 |    72.52 |    94.74 |    78.53 |... 15,416,417,418 |
  application.js              |    88.79 |    76.62 |     87.1 |    89.33 |... 31,534,544,644 |
  builtin-models.js           |      100 |      100 |      100 |      100 |                   |
  configure-shared-methods.js |    97.14 |    92.59 |      100 |    97.14 |                36 |
  current-context.js          |       70 |      100 |       25 |       70 |          15,23,31 |
  globalize.js                |      100 |      100 |      100 |      100 |                   |
  loopback.js                 |    96.43 |       84 |    90.48 |    97.56 |             61,64 |
  model.js                    |    89.73 |    79.32 |      100 |    90.66 |... 1007,1047,1048 |
  persisted-model.js          |    84.58 |    70.36 |    78.13 |    86.78 |... 1931,1932,1955 |
  registry.js                 |     95.3 |    94.23 |      100 |    95.14 |... 68,270,385,386 |
  runtime.js                  |      100 |      100 |      100 |      100 |                   |
  server-app.js               |    95.45 |    89.55 |    93.33 |    96.03 |   94,95,96,98,193 |
  utils.js                    |    92.73 |    84.38 |    91.67 |    92.59 |     29,67,110,137 |
 loopback/lib/connectors      |    81.18 |     69.7 |       50 |    81.18 |                   |
  base-connector.js           |    64.29 |      100 |        0 |    64.29 |    31,32,34,48,49 |
  mail.js                     |    82.26 |     69.7 |    77.78 |    82.26 |... 61,169,171,172 |
  memory.js                   |      100 |      100 |        0 |      100 |                   |
 loopback/server/middleware   |    89.25 |    89.47 |    81.25 |       90 |                   |
  context.js                  |    66.67 |      100 |        0 |    66.67 |                10 |
  error-handler.js            |      100 |      100 |      100 |      100 |                   |
  favicon.js                  |       60 |        0 |        0 |       60 |             15,16 |
  rest.js                     |    95.45 |    83.33 |      100 |    95.45 |                45 |
  static.js                   |      100 |      100 |      100 |      100 |                   |
  status.js                   |      100 |      100 |      100 |      100 |                   |
  token.js                    |    94.12 |    95.35 |      100 |    95.83 |           104,105 |
  url-not-found.js            |       40 |      100 |       50 |       40 |          21,22,23 |
------------------------------|----------|----------|----------|----------|-------------------|
************* run test done *************
loopback is testing ./VariantsDeps/express/variant3/express
************* npm unlink module *************

up to date, audited 1497 packages in 8s

98 packages are looking for funding
  run `npm fund` for details

25 vulnerabilities (5 moderate, 15 high, 5 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 455ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 421ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

changed 1 package, and audited 1498 packages in 3s

67 packages are looking for funding
  run `npm fund` for details

25 vulnerabilities (5 moderate, 15 high, 5 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm link module done *************
************* start run test *************

> loopback@3.28.0 test
> nyc grunt mocha-and-karma

Running "eslint:gruntfile" (eslint) task

Running "eslint:lib" (eslint) task

Running "eslint:common" (eslint) task

Running "eslint:server" (eslint) task

Running "eslint:test" (eslint) task

Running "mochaTest:unit" (mochaTest) task
>> Mocha exploded!
>> TypeError: require(...) is not a function
>>     at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/express/variant3/express/node_modules/finalhandler/index.js:14:29)
>>     at Module._compile (node:internal/modules/cjs/loader:1105:14)
>>     at Module.replacementCompile (/data/js-variants/multee/Clients/express/loopback/node_modules/append-transform/index.js:58:13)
>>     at Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
>>     at Object.<anonymous> (/data/js-variants/multee/Clients/express/loopback/node_modules/append-transform/index.js:62:4)
>>     at Module.load (node:internal/modules/cjs/loader:981:32)
>>     at Module._load (node:internal/modules/cjs/loader:827:12)
>>     at Module.require (node:internal/modules/cjs/loader:1005:19)
>>     at require (node:internal/modules/cjs/helpers:102:18)
>>     at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/express/variant3/express/lib/application.js:16:20)
>>     at Module._compile (node:internal/modules/cjs/loader:1105:14)
>>     at Module.replacementCompile (/data/js-variants/multee/Clients/express/loopback/node_modules/append-transform/index.js:58:13)
>>     at Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
>>     at Object.<anonymous> (/data/js-variants/multee/Clients/express/loopback/node_modules/append-transform/index.js:62:4)
>>     at Module.load (node:internal/modules/cjs/loader:981:32)
>>     at Module._load (node:internal/modules/cjs/loader:827:12)
Warning: Task "mochaTest:unit" failed. Use --force to continue.

Aborted due to warnings.
--------------|----------|----------|----------|----------|-------------------|
File          |  % Stmts | % Branch |  % Funcs |  % Lines | Uncovered Line #s |
--------------|----------|----------|----------|----------|-------------------|
All files     |     2.15 |        0 |        0 |      2.2 |                   |
 loopback     |    11.11 |      100 |      100 |    11.11 |                   |
  index.js    |    11.11 |      100 |      100 |    11.11 |... 20,21,27,28,29 |
 loopback/lib |     1.19 |        0 |        0 |     1.22 |                   |
  loopback.js |     1.19 |        0 |        0 |     1.22 |... 57,358,364,366 |
--------------|----------|----------|----------|----------|-------------------|
************* run test done *************
loopback is testing ./VariantsDeps/express/variant2/express
************* npm unlink module *************

up to date, audited 1497 packages in 4s

98 packages are looking for funding
  run `npm fund` for details

25 vulnerabilities (5 moderate, 15 high, 5 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 463ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 393ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

changed 1 package, and audited 1498 packages in 3s

67 packages are looking for funding
  run `npm fund` for details

25 vulnerabilities (5 moderate, 15 high, 5 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm link module done *************
************* start run test *************

> loopback@3.28.0 test
> nyc grunt mocha-and-karma

Running "eslint:gruntfile" (eslint) task

Running "eslint:lib" (eslint) task

Running "eslint:common" (eslint) task

Running "eslint:server" (eslint) task

Running "eslint:test" (eslint) task

Running "mochaTest:unit" (mochaTest) task
>> Mocha exploded!
>> TypeError: inherits is not a function
>>     at createHttpErrorConstructor (/data/js-variants/multee/VariantsDeps/express/variant2/express/node_modules/http-errors/index.js:117:3)
>>     at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/express/variant2/express/node_modules/http-errors/index.js:27:28)
>>     at Module._compile (node:internal/modules/cjs/loader:1105:14)
>>     at Module.replacementCompile (/data/js-variants/multee/Clients/express/loopback/node_modules/append-transform/index.js:58:13)
>>     at Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
>>     at Object.<anonymous> (/data/js-variants/multee/Clients/express/loopback/node_modules/append-transform/index.js:62:4)
>>     at Module.load (node:internal/modules/cjs/loader:981:32)
>>     at Module._load (node:internal/modules/cjs/loader:827:12)
>>     at Module.require (node:internal/modules/cjs/loader:1005:19)
>>     at require (node:internal/modules/cjs/helpers:102:18)
>>     at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/express/variant2/express/node_modules/send/index.js:15:19)
>>     at Module._compile (node:internal/modules/cjs/loader:1105:14)
>>     at Module.replacementCompile (/data/js-variants/multee/Clients/express/loopback/node_modules/append-transform/index.js:58:13)
>>     at Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
>>     at Object.<anonymous> (/data/js-variants/multee/Clients/express/loopback/node_modules/append-transform/index.js:62:4)
>>     at Module.load (node:internal/modules/cjs/loader:981:32)
Warning: Task "mochaTest:unit" failed. Use --force to continue.

Aborted due to warnings.
--------------|----------|----------|----------|----------|-------------------|
File          |  % Stmts | % Branch |  % Funcs |  % Lines | Uncovered Line #s |
--------------|----------|----------|----------|----------|-------------------|
All files     |     2.15 |        0 |        0 |      2.2 |                   |
 loopback     |    11.11 |      100 |      100 |    11.11 |                   |
  index.js    |    11.11 |      100 |      100 |    11.11 |... 20,21,27,28,29 |
 loopback/lib |     1.19 |        0 |        0 |     1.22 |                   |
  loopback.js |     1.19 |        0 |        0 |     1.22 |... 57,358,364,366 |
--------------|----------|----------|----------|----------|-------------------|
************* run test done *************
loopback is testing ./VariantsDeps/express/variant1/express
************* npm unlink module *************

up to date, audited 1497 packages in 4s

98 packages are looking for funding
  run `npm fund` for details

25 vulnerabilities (5 moderate, 15 high, 5 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 460ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 401ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

changed 1 package, and audited 1498 packages in 3s

67 packages are looking for funding
  run `npm fund` for details

25 vulnerabilities (5 moderate, 15 high, 5 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm link module done *************
************* start run test *************

> loopback@3.28.0 test
> nyc grunt mocha-and-karma

Running "eslint:gruntfile" (eslint) task

Running "eslint:lib" (eslint) task

Running "eslint:common" (eslint) task

Running "eslint:server" (eslint) task

Running "eslint:test" (eslint) task

Running "mochaTest:unit" (mochaTest) task
>> Mocha exploded!
>> TypeError: setPrototypeOf is not a function
>>     at new module.exports (/data/js-variants/multee/VariantsDeps/express/variant1/express/lib/router/index.js:51:3)
>>     at Function.lazyrouter [as __expressLazyRouter] (/data/js-variants/multee/VariantsDeps/express/variant1/express/lib/application.js:146:20)
>>     at proto.lazyrouter (/data/js-variants/multee/Clients/express/loopback/lib/server-app.js:97:264)
>>     at proto.defineMiddlewarePhases (/data/js-variants/multee/Clients/express/loopback/lib/server-app.js:70:125)
>>     at setupMiddleware (/data/js-variants/multee/Clients/express/loopback/node_modules/loopback-boot/lib/executor.js:346:7)
>>     at execute (/data/js-variants/multee/Clients/express/loopback/node_modules/loopback-boot/lib/executor.js:41:3)
>>     at bootLoopBackApp (/data/js-variants/multee/Clients/express/loopback/node_modules/loopback-boot/index.js:154:3)
>>     at Object.<anonymous> (/data/js-variants/multee/Clients/express/loopback/test/fixtures/access-control/server/server.js:15:1)
>>     at Module._compile (node:internal/modules/cjs/loader:1105:14)
>>     at Module.replacementCompile (/data/js-variants/multee/Clients/express/loopback/node_modules/append-transform/index.js:58:13)
>>     at Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
>>     at Object.<anonymous> (/data/js-variants/multee/Clients/express/loopback/node_modules/append-transform/index.js:62:4)
>>     at Module.load (node:internal/modules/cjs/loader:981:32)
>>     at Module._load (node:internal/modules/cjs/loader:827:12)
>>     at Module.require (node:internal/modules/cjs/loader:1005:19)
>>     at require (node:internal/modules/cjs/helpers:102:18)
Warning: Task "mochaTest:unit" failed. Use --force to continue.

Aborted due to warnings.
------------------------------|----------|----------|----------|----------|-------------------|
File                          |  % Stmts | % Branch |  % Funcs |  % Lines | Uncovered Line #s |
------------------------------|----------|----------|----------|----------|-------------------|
All files                     |    23.31 |     7.02 |    12.15 |     24.2 |                   |
 loopback                     |      100 |      100 |      100 |      100 |                   |
  index.js                    |      100 |      100 |      100 |      100 |                   |
 loopback/common/models       |     13.6 |     0.81 |      5.8 |    14.31 |                   |
  access-token.js             |    11.93 |        0 |     6.67 |    12.15 |... 71,272,276,277 |
  acl.js                      |    14.63 |        0 |     3.23 |    15.27 |... 59,666,667,671 |
  application.js              |    12.86 |        0 |    11.11 |    13.24 |... 89,193,196,198 |
  change.js                   |    14.24 |        0 |     2.86 |    15.51 |... 10,812,813,815 |
  checkpoint.js               |    26.09 |        0 |     12.5 |    28.57 |... 60,61,63,64,72 |
  email.js                    |    66.67 |      100 |    33.33 |    66.67 |             49,56 |
  key-value-model.js          |    29.03 |        0 |       10 |       30 |... 39,240,241,242 |
  role-mapping.js             |    23.26 |        0 |     12.5 |    23.26 |... 98,100,101,104 |
  role.js                     |    10.25 |     0.81 |     7.27 |    10.93 |... 58,659,660,662 |
  scope.js                    |    31.25 |        0 |       25 |    33.33 |... 42,45,46,47,49 |
  user.js                     |    11.86 |      1.7 |     3.17 |    12.36 |... 1442,1443,1446 |
 loopback/lib                 |    31.14 |    13.34 |    18.48 |    32.03 |                   |
  access-context.js           |    20.22 |        0 |        0 |     20.9 |... 15,416,417,418 |
  application.js              |    35.34 |    14.94 |    25.81 |    36.44 |... 66,667,669,672 |
  builtin-models.js           |      100 |      100 |      100 |      100 |                   |
  configure-shared-methods.js |    51.43 |    33.33 |    28.57 |    51.43 |... 65,66,67,69,79 |
  current-context.js          |       70 |      100 |       25 |       70 |          15,23,31 |
  globalize.js                |      100 |      100 |      100 |      100 |                   |
  loopback.js                 |    77.38 |       44 |    47.62 |    79.27 |... 20,333,347,358 |
  model.js                    |    32.97 |     18.8 |    33.33 |    33.52 |... 1047,1048,1089 |
  persisted-model.js          |    18.34 |     5.21 |     3.13 |    19.15 |... 1971,2002,2043 |
  registry.js                 |    57.05 |    33.65 |       60 |    57.64 |... 01,405,406,411 |
  runtime.js                  |      100 |      100 |      100 |      100 |                   |
  server-app.js               |    18.18 |     1.49 |       20 |    19.05 |... 11,314,315,318 |
  utils.js                    |    10.91 |        0 |        0 |    11.11 |... 33,134,137,140 |
 loopback/lib/connectors      |    50.59 |    15.15 |    14.29 |    50.59 |                   |
  base-connector.js           |    64.29 |      100 |        0 |    64.29 |    31,32,34,48,49 |
  mail.js                     |    40.32 |    15.15 |    22.22 |    40.32 |... 69,171,172,182 |
  memory.js                   |      100 |      100 |        0 |      100 |                   |
 loopback/server/middleware   |    19.35 |        0 |        0 |       20 |                   |
  context.js                  |    66.67 |      100 |        0 |    66.67 |                10 |
  error-handler.js            |       50 |      100 |        0 |       50 |                 8 |
  favicon.js                  |       60 |        0 |        0 |       60 |             15,16 |
  rest.js                     |    18.18 |        0 |        0 |    18.18 |... 59,62,63,65,66 |
  static.js                   |      100 |      100 |      100 |      100 |                   |
  status.js                   |       25 |      100 |        0 |       25 |          27,29,30 |
  token.js                    |      9.8 |        0 |        0 |    10.42 |... 44,145,147,148 |
  url-not-found.js            |       20 |      100 |        0 |       20 |       20,21,22,23 |
------------------------------|----------|----------|----------|----------|-------------------|
************* run test done *************
