variantsDepsNum: 13
/data/js-variants/multee
13
semantic-release is testing ./VariantsDeps/execa/variant13/execa
************* npm unlink module *************

removed 2 packages, changed 1 package, and audited 1494 packages in 6s

147 packages are looking for funding
  run `npm fund` for details

14 vulnerabilities (6 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 788ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 414ms

1 package is looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 2 packages, changed 1 package, and audited 1497 packages in 4s

148 packages are looking for funding
  run `npm fund` for details

14 vulnerabilities (6 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm link module done *************
************* start run test *************

> semantic-release@0.0.0-development pretest
> npm run lint


> semantic-release@0.0.0-development lint
> xo


> semantic-release@0.0.0-development test
> nyc ava -v


  Uncaught exception in test/get-commits.test.js

  test/get-commits.test.js:3

   2: const {stub} = require('sinon');                                          
   3: const getCommits = require('../lib/get-commits');                         
   4: const {gitRepo, gitCommits, gitDetachedHead} = require('./helpers/git-uti…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant13/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/get-commits.js:2:218)
  › Object.<anonymous> (test/get-commits.test.js:3:20)

  ✖ test/get-commits.test.js exited with a non-zero exit code: 1
  ✖ cli › Pass options to semantic-release API Rejected promise returned by test
  ✖ cli › Pass options to semantic-release API with alias arguments Rejected promise returned by test
  ✖ cli › Pass unknown options to semantic-release API Rejected promise returned by test
  ✖ cli › Pass empty Array to semantic-release API for list option set to "false" Rejected promise returned by test
  ✖ cli › Do not set properties in option for which arg is not in command line Rejected promise returned by test
  ✔ cli › Display help
  ✔ cli › Return error exitCode and prints help if called with a command
  ✔ cli › Return error exitCode if multiple plugin are set for single plugin
  ✖ cli › Return error exitCode if semantic-release throw error 
  ✖ cli › Hide sensitive environment variable values from the logs 

  Uncaught exception in test/get-config.test.js

  test/get-config.test.js:9

   8: const yaml = require('js-yaml');                                          
   9: const {gitRepo, gitTagVersion, gitCommits, gitShallowClone, gitAddConfig}…
   10:                                                                           

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant13/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/helpers/git-utils.js:2:15)
  › Object.<anonymous> (test/get-config.test.js:9:77)

  ✖ test/get-config.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/get-git-auth-url.test.js

  test/get-git-auth-url.test.js:2

   1: const test = require('ava');                          
   2: const getAuthUrl = require('../lib/get-git-auth-url');
   3: const {gitRepo} = require('./helpers/git-utils');     

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant13/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/get-git-auth-url.js:3:171)
  › Object.<anonymous> (test/get-git-auth-url.test.js:2:20)

  ✖ test/get-git-auth-url.test.js exited with a non-zero exit code: 1
  ✔ get-last-release › Get the highest non-prerelease valid tag
  ✔ get-last-release › Get the highest prerelease valid tag, ignoring other tags from other prerelease channels
  ✔ get-last-release › Return empty object if no valid tag is found
  ✔ get-last-release › Get the highest non-prerelease valid tag before a certain version
  ✔ get-logger › Expose "error", "success" and "log" functions
  ✔ get-next-version › Increase version for patch release
  ✔ get-next-version › Increase version for minor release
  ✔ get-next-version › Increase version for major release
  ✔ get-next-version › Return 1.0.0 if there is no previous release
  ✔ get-next-version › Increase version for patch release on prerelease branch
  ✔ get-next-version › Increase version for minor release on prerelease branch
  ✔ get-next-version › Increase version for major release on prerelease branch
  ✔ get-next-version › Return 1.0.0 if there is no previous release on prerelease branch
  ✔ get-next-version › Increase version for release on prerelease branch after previous commits were merged to release branch
  ✔ get-next-version › Increase version for release on prerelease branch based on highest commit type since last regular release
  ✔ get-next-version › Increase version for release on prerelease branch when there is no regular releases on other branches
  ✔ get-release-to-add › Return versions merged from release to maintenance branch, excluding lower than branch start range
  ✔ get-release-to-add › Return versions merged between release branches
  ✔ get-release-to-add › Return releases sorted by ascending order
  ✔ get-release-to-add › No lastRelease
  ✔ get-release-to-add › Ignore pre-release versions
  ✔ get-release-to-add › Exclude versions merged from release to maintenance branch if they have the same "channel"
  ✔ get-release-to-add › Exclude versions merged between release branches if they have the same "channel"
  ✔ get-release-to-add › Exclude versions merged between release branches if they all have "channel" set to "false"
  ✔ get-release-to-add › Exclude versions number less than the latest version already released on that branch

  Uncaught exception in test/git.test.js

  test/git.test.js:19

   18:   fetchNotes,             
   19: } = require('../lib/git');
   20: const {                   

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant13/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (test/git.test.js:19:5)

  ✖ test/git.test.js exited with a non-zero exit code: 1
  ✔ hide-sensitive › Replace multiple sensitive environment variable values
  ✔ hide-sensitive › Replace multiple occurences of sensitive environment variable values
  ✔ hide-sensitive › Replace sensitive environment variable matching specific regex for "private"
  ✔ hide-sensitive › Replace url-encoded environment variable
  ✔ hide-sensitive › Escape regexp special characters
  ✔ hide-sensitive › Escape regexp special characters in url-encoded environment variable
  ✔ hide-sensitive › Accept "undefined" input
  ✔ hide-sensitive › Return same string if no environment variable has to be replaced
  ✔ hide-sensitive › Exclude empty environment variables from the regexp
  ✔ hide-sensitive › Exclude empty environment variables from the regexp if there is only empty ones
  ✔ hide-sensitive › Exclude nonsensitive GOPRIVATE environment variable for Golang projects from the regexp
  ✔ hide-sensitive › Exclude environment variables with value shorter than SECRET_MIN_SIZE from the regexp

  Uncaught exception in test/index.test.js

  test/index.test.js:24

   23:   gitGetNote,                      
   24: } = require('./helpers/git-utils');
   25:                                    

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant13/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/helpers/git-utils.js:2:15)
  › Object.<anonymous> (test/index.test.js:24:5)

  ✖ test/index.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/integration.test.js

  test/integration.test.js:6

   5: const {writeJson, readJson} = require('fs-extra');       
   6: const execa = require('execa');                          
   7: const {WritableStreamBuffer} = require('stream-buffers');

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant13/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/integration.test.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/integration.test.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/integration.test.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/integration.test.js:6:15)

  ✖ test/integration.test.js exited with a non-zero exit code: 1
  ✔ utils › getLatestVersion
  ✔ utils › getEarliestVersion
  ✔ utils › extractErrors
  ✔ utils › tagsToVersions
  ✔ utils › isMajorRange
  ✔ utils › isMaintenanceRange
  ✔ utils › getUpperBound
  ✔ utils › getLowerBound
  ✔ utils › highest
  ✔ utils › lowest
  ✔ utils › getFirstVersion
  ✔ utils › getRange
  ✔ utils › makeTag
  ✔ utils › isSameChannel

  Uncaught exception in test/verify.test.js

  test/verify.test.js:3

   2: const tempy = require('tempy');                  
   3: const verify = require('../lib/verify');         
   4: const {gitRepo} = require('./helpers/git-utils');

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant13/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/verify.js:2:305)
  › Object.<anonymous> (test/verify.test.js:3:16)

  ✖ test/verify.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/branches/expand.test.js

  test/branches/expand.test.js:2

   1: const test = require('ava');                                              
   2: const expand = require('../../lib/branches/expand');                      
   3: const {gitRepo, gitCommits, gitCheckout, gitPush} = require('../helpers/g…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant13/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/branches/expand.js:2:292)
  › Object.<anonymous> (test/branches/expand.test.js:2:16)

  ✖ test/branches/expand.test.js exited with a non-zero exit code: 1
  ✖ branches › branches › Enforce ranges with branching release workflow Rejected promise returned by test
  ✖ branches › branches › Throw SemanticReleaseError for invalid configurations Rejected promise returned by test
  ✖ branches › branches › Throw a SemanticReleaseError if there is duplicate branches Rejected promise returned by test
  ✖ branches › branches › Throw a SemanticReleaseError for each invalid branch name Rejected promise returned by test

  Uncaught exception in test/branches/get-tags.test.js

  test/branches/get-tags.test.js:2

   1: const test = require('ava');                                              
   2: const getTags = require('../../lib/branches/get-tags');                   
   3: const {gitRepo, gitCommits, gitTagVersion, gitCheckout, gitAddNote} = req…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant13/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/branches/get-tags.js:2:407)
  › Object.<anonymous> (test/branches/get-tags.test.js:2:17)

  ✖ test/branches/get-tags.test.js exited with a non-zero exit code: 1
  ✔ branches › normalize › Maintenance branches - initial state
  ✔ branches › normalize › Maintenance branches - cap range to first release present on default branch and not in any Maintenance one
  ✔ branches › normalize › Maintenance branches - cap range to default branch last release if all release are also present on maintenance branch
  ✔ branches › normalize › Release branches - initial state
  ✔ branches › normalize › Release branches - 3 release branches
  ✔ branches › normalize › Release branches - 2 release branches
  ✔ branches › normalize › Release branches - 1 release branches
  ✔ branches › normalize › Release branches - cap ranges to first release only present on following branch
  ✔ branches › normalize › Release branches - Handle missing previous tags in branch history
  ✔ branches › normalize › Release branches - limit releases on 2nd and 3rd branch based on 1st branch last release
  ✔ branches › normalize › Prerelease branches
  ✔ branches › normalize › Allow to set channel to "false" to prevent default
  ✔ definitions › branches › A "maintenance" branch is identified by having a "range" property or a "name" formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › A "maintenance" branches must have a "range" property formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › The "maintenance" branches must have unique ranges
  ✔ definitions › branches › A "prerelease" branch is identified by having a thruthy "prerelease" property
  ✔ definitions › branches › A "prerelease" branch must have a valid prerelease detonation in "prerelease" property or in "name" if "prerelease" is "true"
  ✔ definitions › branches › The "prerelease" branches must have unique "prerelease" property
  ✔ definitions › branches › A "release" branch is identified by not havin a "range" or "prerelease" property or a "name" formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › There must be between 1 and 3 release branches

  Uncaught exception in test/definitions/plugins.test.js

  test/definitions/plugins.test.js:2

   1: const test = require('ava');                                              
   2: const plugins = require('../../lib/definitions/plugins');                 
   3: const {RELEASE_NOTES_SEPARATOR, SECRET_REPLACEMENT} = require('../../lib/…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant13/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (test/definitions/plugins.test.js:2:17)

  ✖ test/definitions/plugins.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/plugins/normalize.test.js

  test/plugins/normalize.test.js:4

   3: const {stub} = require('sinon');                         
   4: const normalize = require('../../lib/plugins/normalize');
   5:                                                          

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant13/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (lib/plugins/normalize.js:2:454)
  › Object.<anonymous> (test/plugins/normalize.test.js:4:19)

  ✖ test/plugins/normalize.test.js exited with a non-zero exit code: 1
  ✔ plugins › pipeline › Throw all errors from all steps throwing an AggregateError
  ✔ plugins › pipeline › Stop execution and throw error if a step rejects
  ✔ plugins › pipeline › Throw all errors from the first step throwing an AggregateError
  ✔ plugins › pipeline › Execute each function in series passing the same input
  ✔ plugins › pipeline › Execute all even if a Promise rejects
  ✔ plugins › pipeline › Execute each function in series passing a transformed input from "getNextInput"
  ✔ plugins › pipeline › Execute each function in series passing the "lastResult" and "result" to "getNextInput"
  ✔ plugins › pipeline › Execute each function in series calling "transform" to modify the results
  ✔ plugins › pipeline › Execute each function in series calling "transform" to modify the results with "settleAll"
  ✔ plugins › pipeline › Execute each function in series passing a transformed input even if a step rejects
  ✔ plugins › utils › validatePlugin
  ✔ plugins › utils › validateStep: optional plugin configuration
  ✔ plugins › utils › validateStep: required plugin configuration
  ✔ plugins › utils › loadPlugin
  ✔ plugins › utils › parseConfig

  Uncaught exception in test/plugins/plugins.test.js

  test/plugins/plugins.test.js:6

   5: const tempy = require('tempy');                 
   6: const getPlugins = require('../../lib/plugins');
   7:                                                 

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant13/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (lib/plugins/index.js:2:386)
  › Object.<anonymous> (test/plugins/plugins.test.js:6:20)

  ✖ test/plugins/plugins.test.js exited with a non-zero exit code: 1
  ─

  cli › Pass options to semantic-release API

  test/cli.test.js:70

   69:                                                                          
   70:   t.deepEqual(run.args[0][0].branches, ['master', 'next']);              
   71:   t.is(run.args[0][0].repositoryUrl, 'https://github/com/owner/repo.git'…

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:70:26



  cli › Pass options to semantic-release API with alias arguments

  test/cli.test.js:112

   111:                                                                         
   112:   t.deepEqual(run.args[0][0].branches, ['master']);                     
   113:   t.is(run.args[0][0].repositoryUrl, 'https://github/com/owner/repo.git…

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:112:26



  cli › Pass unknown options to semantic-release API

  test/cli.test.js:129

   128:                                              
   129:   t.is(run.args[0][0].bool, true);           
   130:   t.is(run.args[0][0].firstOption, 'value1');

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:129:19



  cli › Pass empty Array to semantic-release API for list option set to "false"

  test/cli.test.js:143

   142:                                           
   143:   t.deepEqual(run.args[0][0].publish, []);
   144:                                           

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:143:26



  cli › Do not set properties in option for which arg is not in command line

  test/cli.test.js:155

   154:                                   
   155:   t.false('ci' in run.args[0][0]);
   156:   t.false('d' in run.args[0][0]); 

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:155:30



  cli › Return error exitCode if semantic-release throw error

  test/cli.test.js:207

   206:                                                       
   207:   t.regex(t.context.errors, /semantic-release error/);
   208:   t.is(exitCode, 1);                                  

  Value must match expression:

  `Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant13/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/git.js:2:264)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/get-config.js:2:512)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/index.js:2:622)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Proxyquire._require (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mproxyquire[24m/lib/proxyquire.js:188:36)␊
      at module.exports (/data/js-variants/multee/Clients/execa/semantic-release/cli.js:7:110)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/test/cli.test.js:205:26␊
      at Test.callFn (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:622:21)␊
      at Test.run (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:635:23)␊
      at Runner.runSingle (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:299:33)␊
      at Runner.runTest (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:376:30)␊
      at async /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:508:24␊
      at async Promise.all (index 1)␊
      at async Runner.start (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:547:15) {␊
    code: [32m'ERR_REQUIRE_ESM'[39m␊
  }`

  Regular expression:

  /semantic-release error/

  › test/cli.test.js:207:5



  cli › Hide sensitive environment variable values from the logs

  test/cli.test.js:219

   218:                                                                         
   219:   t.regex(t.context.errors, new RegExp(`Throw error: Exposing token ${e…
   220:   t.is(exitCode, 1);                                                    

  Value must match expression:

  `Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant13/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/git.js:2:264)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/get-config.js:2:512)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/index.js:2:622)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Proxyquire._require (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mproxyquire[24m/lib/proxyquire.js:188:36)␊
      at module.exports (/data/js-variants/multee/Clients/execa/semantic-release/cli.js:7:110)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/test/cli.test.js:217:26␊
      at Test.callFn (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:622:21)␊
      at Test.run (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:635:23)␊
      at Runner.runSingle (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:299:33)␊
      at Runner.runTest (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:376:30)␊
      at async Promise.all (index 1)␊
      at async Runner.start (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:547:15) {␊
    code: [32m'ERR_REQUIRE_ESM'[39m␊
  }`

  Regular expression:

  /Throw error: Exposing token \[secure\]/

  › test/cli.test.js:219:5



  branches › branches › Enforce ranges with branching release workflow

  test/branches/branches.test.js:25

   24:   ];                                                                     
   25:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': ()…
   26:                                                                          

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant13/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:25:23



  branches › branches › Throw SemanticReleaseError for invalid configurations

  test/branches/branches.test.js:202

   201:   ];                                                                    
   202:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   203:   const errors = [...(await t.throwsAsync(getBranches('repositoryUrl', …

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant13/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:202:23



  branches › branches › Throw a SemanticReleaseError if there is duplicate branches

  test/branches/branches.test.js:232

   231:   ];                                                                    
   232:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   233:                                                                         

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant13/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:232:23



  branches › branches › Throw a SemanticReleaseError for each invalid branch name

  test/branches/branches.test.js:247

   246:   ];                                                                    
   247:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   248:                                                                         

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant13/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:247:23

  ─

  11 tests failed
  12 uncaught exceptions
----------------------------------|---------|----------|---------|---------|-------------------
File                              | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
----------------------------------|---------|----------|---------|---------|-------------------
All files                         |   36.17 |    40.67 |   33.85 |   35.78 |                   
 semantic-release                 |   16.96 |    13.95 |   33.33 |   16.77 |                   
  cli.js                          |   95.24 |      100 |     100 |      95 | 56                
  index.js                        |       6 |        0 |       0 |    6.12 | 10-279            
 semantic-release/lib             |   41.95 |    45.64 |   46.75 |   40.93 |                   
  get-commits.js                  |      20 |        0 |       0 |      20 | 11-22             
  get-config.js                   |   16.22 |        0 |       0 |   16.22 | 7-89              
  get-error.js                    |      60 |        0 |       0 |      60 | 5-6               
  get-git-auth-url.js             |     8.7 |        0 |       0 |    9.09 | 5-121             
  get-last-release.js             |     100 |      100 |     100 |     100 |                   
  get-logger.js                   |     100 |      100 |     100 |     100 |                   
  get-next-version.js             |     100 |      100 |     100 |     100 |                   
  get-release-to-add.js           |     100 |      100 |     100 |     100 |                   
  git.js                          |    5.77 |        0 |       0 |    5.77 | 4-331             
  hide-sensitive.js               |     100 |      100 |     100 |     100 |                   
  utils.js                        |   81.82 |    95.74 |   86.36 |   78.57 | 10-17             
  verify.js                       |      15 |        0 |       0 |      15 | 4-41              
 semantic-release/lib/branches    |   44.32 |    53.97 |   29.17 |   44.83 |                   
  expand.js                       |      30 |        0 |       0 |   33.33 | 5-13              
  get-tags.js                     |   38.46 |        0 |       0 |   38.46 | 7-29              
  index.js                        |   15.38 |        0 |       0 |   15.38 | 7-70              
  normalize.js                    |   96.15 |    97.14 |     100 |   96.15 | 60                
 semantic-release/lib/definitions |   38.14 |    32.56 |      15 |   37.89 |                   
  branches.js                     |     100 |    93.33 |     100 |     100 | 7                 
  constants.js                    |     100 |      100 |     100 |     100 |                   
  errors.js                       |   24.32 |        0 |       0 |      25 | 8,11,14-224       
  plugins.js                      |    5.88 |        0 |       0 |    5.88 | 5-106             
 semantic-release/lib/plugins     |   42.64 |    47.86 |   47.37 |   42.52 |                   
  index.js                        |     9.3 |        0 |       0 |     9.3 | 5-92              
  normalize.js                    |    12.5 |        0 |       0 |   12.82 | 6-66              
  pipeline.js                     |     100 |      100 |     100 |     100 |                   
  utils.js                        |     100 |      100 |     100 |     100 |                   
----------------------------------|---------|----------|---------|---------|-------------------
************* run test done *************
semantic-release is testing ./VariantsDeps/execa/variant12/execa
************* npm unlink module *************

removed 2 packages, changed 1 package, and audited 1494 packages in 4s

147 packages are looking for funding
  run `npm fund` for details

14 vulnerabilities (6 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 772ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 385ms

1 package is looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 2 packages, changed 1 package, and audited 1497 packages in 4s

148 packages are looking for funding
  run `npm fund` for details

14 vulnerabilities (6 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm link module done *************
************* start run test *************

> semantic-release@0.0.0-development pretest
> npm run lint


> semantic-release@0.0.0-development lint
> xo


> semantic-release@0.0.0-development test
> nyc ava -v


  Uncaught exception in test/get-commits.test.js

  test/get-commits.test.js:3

   2: const {stub} = require('sinon');                                          
   3: const getCommits = require('../lib/get-commits');                         
   4: const {gitRepo, gitCommits, gitDetachedHead} = require('./helpers/git-uti…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant12/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/get-commits.js:2:218)
  › Object.<anonymous> (test/get-commits.test.js:3:20)

  ✖ test/get-commits.test.js exited with a non-zero exit code: 1
  ✖ cli › Pass options to semantic-release API Rejected promise returned by test
  ✖ cli › Pass options to semantic-release API with alias arguments Rejected promise returned by test
  ✖ cli › Pass unknown options to semantic-release API Rejected promise returned by test
  ✖ cli › Pass empty Array to semantic-release API for list option set to "false" Rejected promise returned by test
  ✖ cli › Do not set properties in option for which arg is not in command line Rejected promise returned by test
  ✔ cli › Display help
  ✔ cli › Return error exitCode and prints help if called with a command
  ✔ cli › Return error exitCode if multiple plugin are set for single plugin
  ✖ cli › Return error exitCode if semantic-release throw error 
  ✖ cli › Hide sensitive environment variable values from the logs 

  Uncaught exception in test/get-config.test.js

  test/get-config.test.js:9

   8: const yaml = require('js-yaml');                                          
   9: const {gitRepo, gitTagVersion, gitCommits, gitShallowClone, gitAddConfig}…
   10:                                                                           

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant12/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/helpers/git-utils.js:2:15)
  › Object.<anonymous> (test/get-config.test.js:9:77)

  ✖ test/get-config.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/get-git-auth-url.test.js

  test/get-git-auth-url.test.js:2

   1: const test = require('ava');                          
   2: const getAuthUrl = require('../lib/get-git-auth-url');
   3: const {gitRepo} = require('./helpers/git-utils');     

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant12/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/get-git-auth-url.js:3:171)
  › Object.<anonymous> (test/get-git-auth-url.test.js:2:20)

  ✖ test/get-git-auth-url.test.js exited with a non-zero exit code: 1
  ✔ get-last-release › Get the highest non-prerelease valid tag
  ✔ get-last-release › Get the highest prerelease valid tag, ignoring other tags from other prerelease channels
  ✔ get-last-release › Return empty object if no valid tag is found
  ✔ get-last-release › Get the highest non-prerelease valid tag before a certain version
  ✔ get-logger › Expose "error", "success" and "log" functions
  ✔ get-next-version › Increase version for patch release
  ✔ get-next-version › Increase version for minor release
  ✔ get-next-version › Increase version for major release
  ✔ get-next-version › Return 1.0.0 if there is no previous release
  ✔ get-next-version › Increase version for patch release on prerelease branch
  ✔ get-next-version › Increase version for minor release on prerelease branch
  ✔ get-next-version › Increase version for major release on prerelease branch
  ✔ get-next-version › Return 1.0.0 if there is no previous release on prerelease branch
  ✔ get-next-version › Increase version for release on prerelease branch after previous commits were merged to release branch
  ✔ get-next-version › Increase version for release on prerelease branch based on highest commit type since last regular release
  ✔ get-next-version › Increase version for release on prerelease branch when there is no regular releases on other branches
  ✔ get-release-to-add › Return versions merged from release to maintenance branch, excluding lower than branch start range
  ✔ get-release-to-add › Return versions merged between release branches
  ✔ get-release-to-add › Return releases sorted by ascending order
  ✔ get-release-to-add › No lastRelease
  ✔ get-release-to-add › Ignore pre-release versions
  ✔ get-release-to-add › Exclude versions merged from release to maintenance branch if they have the same "channel"
  ✔ get-release-to-add › Exclude versions merged between release branches if they have the same "channel"
  ✔ get-release-to-add › Exclude versions merged between release branches if they all have "channel" set to "false"
  ✔ get-release-to-add › Exclude versions number less than the latest version already released on that branch

  Uncaught exception in test/git.test.js

  test/git.test.js:19

   18:   fetchNotes,             
   19: } = require('../lib/git');
   20: const {                   

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant12/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (test/git.test.js:19:5)

  ✖ test/git.test.js exited with a non-zero exit code: 1
  ✔ hide-sensitive › Replace multiple sensitive environment variable values
  ✔ hide-sensitive › Replace multiple occurences of sensitive environment variable values
  ✔ hide-sensitive › Replace sensitive environment variable matching specific regex for "private"
  ✔ hide-sensitive › Replace url-encoded environment variable
  ✔ hide-sensitive › Escape regexp special characters
  ✔ hide-sensitive › Escape regexp special characters in url-encoded environment variable
  ✔ hide-sensitive › Accept "undefined" input
  ✔ hide-sensitive › Return same string if no environment variable has to be replaced
  ✔ hide-sensitive › Exclude empty environment variables from the regexp
  ✔ hide-sensitive › Exclude empty environment variables from the regexp if there is only empty ones
  ✔ hide-sensitive › Exclude nonsensitive GOPRIVATE environment variable for Golang projects from the regexp
  ✔ hide-sensitive › Exclude environment variables with value shorter than SECRET_MIN_SIZE from the regexp

  Uncaught exception in test/index.test.js

  test/index.test.js:24

   23:   gitGetNote,                      
   24: } = require('./helpers/git-utils');
   25:                                    

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant12/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/helpers/git-utils.js:2:15)
  › Object.<anonymous> (test/index.test.js:24:5)

  ✖ test/index.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/integration.test.js

  test/integration.test.js:6

   5: const {writeJson, readJson} = require('fs-extra');       
   6: const execa = require('execa');                          
   7: const {WritableStreamBuffer} = require('stream-buffers');

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant12/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/integration.test.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/integration.test.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/integration.test.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/integration.test.js:6:15)

  ✖ test/integration.test.js exited with a non-zero exit code: 1
  ✔ utils › getLatestVersion
  ✔ utils › getEarliestVersion
  ✔ utils › extractErrors
  ✔ utils › tagsToVersions
  ✔ utils › isMajorRange
  ✔ utils › isMaintenanceRange
  ✔ utils › getUpperBound
  ✔ utils › getLowerBound
  ✔ utils › highest
  ✔ utils › lowest
  ✔ utils › getFirstVersion
  ✔ utils › getRange
  ✔ utils › makeTag
  ✔ utils › isSameChannel

  Uncaught exception in test/verify.test.js

  test/verify.test.js:3

   2: const tempy = require('tempy');                  
   3: const verify = require('../lib/verify');         
   4: const {gitRepo} = require('./helpers/git-utils');

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant12/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/verify.js:2:305)
  › Object.<anonymous> (test/verify.test.js:3:16)

  ✖ test/verify.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/branches/expand.test.js

  test/branches/expand.test.js:2

   1: const test = require('ava');                                              
   2: const expand = require('../../lib/branches/expand');                      
   3: const {gitRepo, gitCommits, gitCheckout, gitPush} = require('../helpers/g…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant12/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/branches/expand.js:2:292)
  › Object.<anonymous> (test/branches/expand.test.js:2:16)

  ✖ test/branches/expand.test.js exited with a non-zero exit code: 1
  ✖ branches › branches › Enforce ranges with branching release workflow Rejected promise returned by test
  ✖ branches › branches › Throw SemanticReleaseError for invalid configurations Rejected promise returned by test
  ✖ branches › branches › Throw a SemanticReleaseError if there is duplicate branches Rejected promise returned by test
  ✖ branches › branches › Throw a SemanticReleaseError for each invalid branch name Rejected promise returned by test

  Uncaught exception in test/branches/get-tags.test.js

  test/branches/get-tags.test.js:2

   1: const test = require('ava');                                              
   2: const getTags = require('../../lib/branches/get-tags');                   
   3: const {gitRepo, gitCommits, gitTagVersion, gitCheckout, gitAddNote} = req…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant12/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/branches/get-tags.js:2:407)
  › Object.<anonymous> (test/branches/get-tags.test.js:2:17)

  ✖ test/branches/get-tags.test.js exited with a non-zero exit code: 1
  ✔ branches › normalize › Maintenance branches - initial state
  ✔ branches › normalize › Maintenance branches - cap range to first release present on default branch and not in any Maintenance one
  ✔ branches › normalize › Maintenance branches - cap range to default branch last release if all release are also present on maintenance branch
  ✔ branches › normalize › Release branches - initial state
  ✔ branches › normalize › Release branches - 3 release branches
  ✔ branches › normalize › Release branches - 2 release branches
  ✔ branches › normalize › Release branches - 1 release branches
  ✔ branches › normalize › Release branches - cap ranges to first release only present on following branch
  ✔ branches › normalize › Release branches - Handle missing previous tags in branch history
  ✔ branches › normalize › Release branches - limit releases on 2nd and 3rd branch based on 1st branch last release
  ✔ branches › normalize › Prerelease branches
  ✔ branches › normalize › Allow to set channel to "false" to prevent default
  ✔ definitions › branches › A "maintenance" branch is identified by having a "range" property or a "name" formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › A "maintenance" branches must have a "range" property formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › The "maintenance" branches must have unique ranges
  ✔ definitions › branches › A "prerelease" branch is identified by having a thruthy "prerelease" property
  ✔ definitions › branches › A "prerelease" branch must have a valid prerelease detonation in "prerelease" property or in "name" if "prerelease" is "true"
  ✔ definitions › branches › The "prerelease" branches must have unique "prerelease" property
  ✔ definitions › branches › A "release" branch is identified by not havin a "range" or "prerelease" property or a "name" formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › There must be between 1 and 3 release branches

  Uncaught exception in test/definitions/plugins.test.js

  test/definitions/plugins.test.js:2

   1: const test = require('ava');                                              
   2: const plugins = require('../../lib/definitions/plugins');                 
   3: const {RELEASE_NOTES_SEPARATOR, SECRET_REPLACEMENT} = require('../../lib/…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant12/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (test/definitions/plugins.test.js:2:17)

  ✖ test/definitions/plugins.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/plugins/normalize.test.js

  test/plugins/normalize.test.js:4

   3: const {stub} = require('sinon');                         
   4: const normalize = require('../../lib/plugins/normalize');
   5:                                                          

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant12/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (lib/plugins/normalize.js:2:454)
  › Object.<anonymous> (test/plugins/normalize.test.js:4:19)

  ✖ test/plugins/normalize.test.js exited with a non-zero exit code: 1
  ✔ plugins › pipeline › Throw all errors from all steps throwing an AggregateError
  ✔ plugins › pipeline › Stop execution and throw error if a step rejects
  ✔ plugins › pipeline › Throw all errors from the first step throwing an AggregateError
  ✔ plugins › pipeline › Execute each function in series passing the same input
  ✔ plugins › pipeline › Execute all even if a Promise rejects
  ✔ plugins › pipeline › Execute each function in series passing a transformed input from "getNextInput"
  ✔ plugins › pipeline › Execute each function in series passing the "lastResult" and "result" to "getNextInput"
  ✔ plugins › pipeline › Execute each function in series calling "transform" to modify the results
  ✔ plugins › pipeline › Execute each function in series calling "transform" to modify the results with "settleAll"
  ✔ plugins › pipeline › Execute each function in series passing a transformed input even if a step rejects
  ✔ plugins › utils › validatePlugin
  ✔ plugins › utils › validateStep: optional plugin configuration
  ✔ plugins › utils › validateStep: required plugin configuration
  ✔ plugins › utils › loadPlugin
  ✔ plugins › utils › parseConfig

  Uncaught exception in test/plugins/plugins.test.js

  test/plugins/plugins.test.js:6

   5: const tempy = require('tempy');                 
   6: const getPlugins = require('../../lib/plugins');
   7:                                                 

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant12/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (lib/plugins/index.js:2:386)
  › Object.<anonymous> (test/plugins/plugins.test.js:6:20)

  ✖ test/plugins/plugins.test.js exited with a non-zero exit code: 1
  ─

  cli › Pass options to semantic-release API

  test/cli.test.js:70

   69:                                                                          
   70:   t.deepEqual(run.args[0][0].branches, ['master', 'next']);              
   71:   t.is(run.args[0][0].repositoryUrl, 'https://github/com/owner/repo.git'…

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:70:26



  cli › Pass options to semantic-release API with alias arguments

  test/cli.test.js:112

   111:                                                                         
   112:   t.deepEqual(run.args[0][0].branches, ['master']);                     
   113:   t.is(run.args[0][0].repositoryUrl, 'https://github/com/owner/repo.git…

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:112:26



  cli › Pass unknown options to semantic-release API

  test/cli.test.js:129

   128:                                              
   129:   t.is(run.args[0][0].bool, true);           
   130:   t.is(run.args[0][0].firstOption, 'value1');

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:129:19



  cli › Pass empty Array to semantic-release API for list option set to "false"

  test/cli.test.js:143

   142:                                           
   143:   t.deepEqual(run.args[0][0].publish, []);
   144:                                           

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:143:26



  cli › Do not set properties in option for which arg is not in command line

  test/cli.test.js:155

   154:                                   
   155:   t.false('ci' in run.args[0][0]);
   156:   t.false('d' in run.args[0][0]); 

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:155:30



  cli › Return error exitCode if semantic-release throw error

  test/cli.test.js:207

   206:                                                       
   207:   t.regex(t.context.errors, /semantic-release error/);
   208:   t.is(exitCode, 1);                                  

  Value must match expression:

  `Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant12/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/git.js:2:264)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/get-config.js:2:512)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/index.js:2:622)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Proxyquire._require (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mproxyquire[24m/lib/proxyquire.js:188:36)␊
      at module.exports (/data/js-variants/multee/Clients/execa/semantic-release/cli.js:7:110)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/test/cli.test.js:205:26␊
      at Test.callFn (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:622:21)␊
      at Test.run (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:635:23)␊
      at Runner.runSingle (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:299:33)␊
      at Runner.runTest (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:376:30)␊
      at async /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:508:24␊
      at async Promise.all (index 1)␊
      at async Runner.start (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:547:15) {␊
    code: [32m'ERR_REQUIRE_ESM'[39m␊
  }`

  Regular expression:

  /semantic-release error/

  › test/cli.test.js:207:5



  cli › Hide sensitive environment variable values from the logs

  test/cli.test.js:219

   218:                                                                         
   219:   t.regex(t.context.errors, new RegExp(`Throw error: Exposing token ${e…
   220:   t.is(exitCode, 1);                                                    

  Value must match expression:

  `Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant12/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/git.js:2:264)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/get-config.js:2:512)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/index.js:2:622)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Proxyquire._require (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mproxyquire[24m/lib/proxyquire.js:188:36)␊
      at module.exports (/data/js-variants/multee/Clients/execa/semantic-release/cli.js:7:110)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/test/cli.test.js:217:26␊
      at Test.callFn (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:622:21)␊
      at Test.run (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:635:23)␊
      at Runner.runSingle (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:299:33)␊
      at Runner.runTest (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:376:30)␊
      at async Promise.all (index 1)␊
      at async Runner.start (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:547:15) {␊
    code: [32m'ERR_REQUIRE_ESM'[39m␊
  }`

  Regular expression:

  /Throw error: Exposing token \[secure\]/

  › test/cli.test.js:219:5



  branches › branches › Enforce ranges with branching release workflow

  test/branches/branches.test.js:25

   24:   ];                                                                     
   25:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': ()…
   26:                                                                          

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant12/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:25:23



  branches › branches › Throw SemanticReleaseError for invalid configurations

  test/branches/branches.test.js:202

   201:   ];                                                                    
   202:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   203:   const errors = [...(await t.throwsAsync(getBranches('repositoryUrl', …

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant12/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:202:23



  branches › branches › Throw a SemanticReleaseError if there is duplicate branches

  test/branches/branches.test.js:232

   231:   ];                                                                    
   232:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   233:                                                                         

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant12/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:232:23



  branches › branches › Throw a SemanticReleaseError for each invalid branch name

  test/branches/branches.test.js:247

   246:   ];                                                                    
   247:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   248:                                                                         

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant12/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:247:23

  ─

  11 tests failed
  12 uncaught exceptions
----------------------------------|---------|----------|---------|---------|-------------------
File                              | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
----------------------------------|---------|----------|---------|---------|-------------------
All files                         |   36.17 |    40.67 |   33.85 |   35.78 |                   
 semantic-release                 |   16.96 |    13.95 |   33.33 |   16.77 |                   
  cli.js                          |   95.24 |      100 |     100 |      95 | 56                
  index.js                        |       6 |        0 |       0 |    6.12 | 10-279            
 semantic-release/lib             |   41.95 |    45.64 |   46.75 |   40.93 |                   
  get-commits.js                  |      20 |        0 |       0 |      20 | 11-22             
  get-config.js                   |   16.22 |        0 |       0 |   16.22 | 7-89              
  get-error.js                    |      60 |        0 |       0 |      60 | 5-6               
  get-git-auth-url.js             |     8.7 |        0 |       0 |    9.09 | 5-121             
  get-last-release.js             |     100 |      100 |     100 |     100 |                   
  get-logger.js                   |     100 |      100 |     100 |     100 |                   
  get-next-version.js             |     100 |      100 |     100 |     100 |                   
  get-release-to-add.js           |     100 |      100 |     100 |     100 |                   
  git.js                          |    5.77 |        0 |       0 |    5.77 | 4-331             
  hide-sensitive.js               |     100 |      100 |     100 |     100 |                   
  utils.js                        |   81.82 |    95.74 |   86.36 |   78.57 | 10-17             
  verify.js                       |      15 |        0 |       0 |      15 | 4-41              
 semantic-release/lib/branches    |   44.32 |    53.97 |   29.17 |   44.83 |                   
  expand.js                       |      30 |        0 |       0 |   33.33 | 5-13              
  get-tags.js                     |   38.46 |        0 |       0 |   38.46 | 7-29              
  index.js                        |   15.38 |        0 |       0 |   15.38 | 7-70              
  normalize.js                    |   96.15 |    97.14 |     100 |   96.15 | 60                
 semantic-release/lib/definitions |   38.14 |    32.56 |      15 |   37.89 |                   
  branches.js                     |     100 |    93.33 |     100 |     100 | 7                 
  constants.js                    |     100 |      100 |     100 |     100 |                   
  errors.js                       |   24.32 |        0 |       0 |      25 | 8,11,14-224       
  plugins.js                      |    5.88 |        0 |       0 |    5.88 | 5-106             
 semantic-release/lib/plugins     |   42.64 |    47.86 |   47.37 |   42.52 |                   
  index.js                        |     9.3 |        0 |       0 |     9.3 | 5-92              
  normalize.js                    |    12.5 |        0 |       0 |   12.82 | 6-66              
  pipeline.js                     |     100 |      100 |     100 |     100 |                   
  utils.js                        |     100 |      100 |     100 |     100 |                   
----------------------------------|---------|----------|---------|---------|-------------------
************* run test done *************
semantic-release is testing ./VariantsDeps/execa/variant11/execa
************* npm unlink module *************

removed 2 packages, changed 1 package, and audited 1494 packages in 4s

147 packages are looking for funding
  run `npm fund` for details

14 vulnerabilities (6 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 712ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 477ms

1 package is looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 2 packages, changed 1 package, and audited 1497 packages in 4s

148 packages are looking for funding
  run `npm fund` for details

14 vulnerabilities (6 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm link module done *************
************* start run test *************

> semantic-release@0.0.0-development pretest
> npm run lint


> semantic-release@0.0.0-development lint
> xo


> semantic-release@0.0.0-development test
> nyc ava -v


  Uncaught exception in test/get-commits.test.js

  test/get-commits.test.js:3

   2: const {stub} = require('sinon');                                          
   3: const getCommits = require('../lib/get-commits');                         
   4: const {gitRepo, gitCommits, gitDetachedHead} = require('./helpers/git-uti…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant11/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/get-commits.js:2:218)
  › Object.<anonymous> (test/get-commits.test.js:3:20)

  ✖ test/get-commits.test.js exited with a non-zero exit code: 1
  ✖ cli › Pass options to semantic-release API Rejected promise returned by test
  ✖ cli › Pass options to semantic-release API with alias arguments Rejected promise returned by test
  ✖ cli › Pass unknown options to semantic-release API Rejected promise returned by test
  ✖ cli › Pass empty Array to semantic-release API for list option set to "false" Rejected promise returned by test
  ✖ cli › Do not set properties in option for which arg is not in command line Rejected promise returned by test
  ✔ cli › Display help
  ✔ cli › Return error exitCode and prints help if called with a command
  ✔ cli › Return error exitCode if multiple plugin are set for single plugin
  ✖ cli › Return error exitCode if semantic-release throw error 
  ✖ cli › Hide sensitive environment variable values from the logs 

  Uncaught exception in test/get-config.test.js

  test/get-config.test.js:9

   8: const yaml = require('js-yaml');                                          
   9: const {gitRepo, gitTagVersion, gitCommits, gitShallowClone, gitAddConfig}…
   10:                                                                           

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant11/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/helpers/git-utils.js:2:15)
  › Object.<anonymous> (test/get-config.test.js:9:77)

  ✖ test/get-config.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/get-git-auth-url.test.js

  test/get-git-auth-url.test.js:2

   1: const test = require('ava');                          
   2: const getAuthUrl = require('../lib/get-git-auth-url');
   3: const {gitRepo} = require('./helpers/git-utils');     

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant11/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/get-git-auth-url.js:3:171)
  › Object.<anonymous> (test/get-git-auth-url.test.js:2:20)

  ✖ test/get-git-auth-url.test.js exited with a non-zero exit code: 1
  ✔ get-last-release › Get the highest non-prerelease valid tag
  ✔ get-last-release › Get the highest prerelease valid tag, ignoring other tags from other prerelease channels
  ✔ get-last-release › Return empty object if no valid tag is found
  ✔ get-last-release › Get the highest non-prerelease valid tag before a certain version
  ✔ get-logger › Expose "error", "success" and "log" functions
  ✔ get-next-version › Increase version for patch release
  ✔ get-next-version › Increase version for minor release
  ✔ get-next-version › Increase version for major release
  ✔ get-next-version › Return 1.0.0 if there is no previous release
  ✔ get-next-version › Increase version for patch release on prerelease branch
  ✔ get-next-version › Increase version for minor release on prerelease branch
  ✔ get-next-version › Increase version for major release on prerelease branch
  ✔ get-next-version › Return 1.0.0 if there is no previous release on prerelease branch
  ✔ get-next-version › Increase version for release on prerelease branch after previous commits were merged to release branch
  ✔ get-next-version › Increase version for release on prerelease branch based on highest commit type since last regular release
  ✔ get-next-version › Increase version for release on prerelease branch when there is no regular releases on other branches
  ✔ get-release-to-add › Return versions merged from release to maintenance branch, excluding lower than branch start range
  ✔ get-release-to-add › Return versions merged between release branches
  ✔ get-release-to-add › Return releases sorted by ascending order
  ✔ get-release-to-add › No lastRelease
  ✔ get-release-to-add › Ignore pre-release versions
  ✔ get-release-to-add › Exclude versions merged from release to maintenance branch if they have the same "channel"
  ✔ get-release-to-add › Exclude versions merged between release branches if they have the same "channel"
  ✔ get-release-to-add › Exclude versions merged between release branches if they all have "channel" set to "false"
  ✔ get-release-to-add › Exclude versions number less than the latest version already released on that branch

  Uncaught exception in test/git.test.js

  test/git.test.js:19

   18:   fetchNotes,             
   19: } = require('../lib/git');
   20: const {                   

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant11/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (test/git.test.js:19:5)

  ✖ test/git.test.js exited with a non-zero exit code: 1
  ✔ hide-sensitive › Replace multiple sensitive environment variable values
  ✔ hide-sensitive › Replace multiple occurences of sensitive environment variable values
  ✔ hide-sensitive › Replace sensitive environment variable matching specific regex for "private"
  ✔ hide-sensitive › Replace url-encoded environment variable
  ✔ hide-sensitive › Escape regexp special characters
  ✔ hide-sensitive › Escape regexp special characters in url-encoded environment variable
  ✔ hide-sensitive › Accept "undefined" input
  ✔ hide-sensitive › Return same string if no environment variable has to be replaced
  ✔ hide-sensitive › Exclude empty environment variables from the regexp
  ✔ hide-sensitive › Exclude empty environment variables from the regexp if there is only empty ones
  ✔ hide-sensitive › Exclude nonsensitive GOPRIVATE environment variable for Golang projects from the regexp
  ✔ hide-sensitive › Exclude environment variables with value shorter than SECRET_MIN_SIZE from the regexp

  Uncaught exception in test/index.test.js

  test/index.test.js:24

   23:   gitGetNote,                      
   24: } = require('./helpers/git-utils');
   25:                                    

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant11/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/helpers/git-utils.js:2:15)
  › Object.<anonymous> (test/index.test.js:24:5)

  ✖ test/index.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/integration.test.js

  test/integration.test.js:6

   5: const {writeJson, readJson} = require('fs-extra');       
   6: const execa = require('execa');                          
   7: const {WritableStreamBuffer} = require('stream-buffers');

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant11/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/integration.test.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/integration.test.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/integration.test.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/integration.test.js:6:15)

  ✖ test/integration.test.js exited with a non-zero exit code: 1
  ✔ utils › getLatestVersion
  ✔ utils › getEarliestVersion
  ✔ utils › extractErrors
  ✔ utils › tagsToVersions
  ✔ utils › isMajorRange
  ✔ utils › isMaintenanceRange
  ✔ utils › getUpperBound
  ✔ utils › getLowerBound
  ✔ utils › highest
  ✔ utils › lowest
  ✔ utils › getFirstVersion
  ✔ utils › getRange
  ✔ utils › makeTag
  ✔ utils › isSameChannel

  Uncaught exception in test/verify.test.js

  test/verify.test.js:3

   2: const tempy = require('tempy');                  
   3: const verify = require('../lib/verify');         
   4: const {gitRepo} = require('./helpers/git-utils');

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant11/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/verify.js:2:305)
  › Object.<anonymous> (test/verify.test.js:3:16)

  ✖ test/verify.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/branches/expand.test.js

  test/branches/expand.test.js:2

   1: const test = require('ava');                                              
   2: const expand = require('../../lib/branches/expand');                      
   3: const {gitRepo, gitCommits, gitCheckout, gitPush} = require('../helpers/g…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant11/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/branches/expand.js:2:292)
  › Object.<anonymous> (test/branches/expand.test.js:2:16)

  ✖ test/branches/expand.test.js exited with a non-zero exit code: 1
  ✖ branches › branches › Enforce ranges with branching release workflow Rejected promise returned by test
  ✖ branches › branches › Throw SemanticReleaseError for invalid configurations Rejected promise returned by test
  ✖ branches › branches › Throw a SemanticReleaseError if there is duplicate branches Rejected promise returned by test
  ✖ branches › branches › Throw a SemanticReleaseError for each invalid branch name Rejected promise returned by test

  Uncaught exception in test/branches/get-tags.test.js

  test/branches/get-tags.test.js:2

   1: const test = require('ava');                                              
   2: const getTags = require('../../lib/branches/get-tags');                   
   3: const {gitRepo, gitCommits, gitTagVersion, gitCheckout, gitAddNote} = req…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant11/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/branches/get-tags.js:2:407)
  › Object.<anonymous> (test/branches/get-tags.test.js:2:17)

  ✖ test/branches/get-tags.test.js exited with a non-zero exit code: 1
  ✔ branches › normalize › Maintenance branches - initial state
  ✔ branches › normalize › Maintenance branches - cap range to first release present on default branch and not in any Maintenance one
  ✔ branches › normalize › Maintenance branches - cap range to default branch last release if all release are also present on maintenance branch
  ✔ branches › normalize › Release branches - initial state
  ✔ branches › normalize › Release branches - 3 release branches
  ✔ branches › normalize › Release branches - 2 release branches
  ✔ branches › normalize › Release branches - 1 release branches
  ✔ branches › normalize › Release branches - cap ranges to first release only present on following branch
  ✔ branches › normalize › Release branches - Handle missing previous tags in branch history
  ✔ branches › normalize › Release branches - limit releases on 2nd and 3rd branch based on 1st branch last release
  ✔ branches › normalize › Prerelease branches
  ✔ branches › normalize › Allow to set channel to "false" to prevent default
  ✔ definitions › branches › A "maintenance" branch is identified by having a "range" property or a "name" formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › A "maintenance" branches must have a "range" property formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › The "maintenance" branches must have unique ranges
  ✔ definitions › branches › A "prerelease" branch is identified by having a thruthy "prerelease" property
  ✔ definitions › branches › A "prerelease" branch must have a valid prerelease detonation in "prerelease" property or in "name" if "prerelease" is "true"
  ✔ definitions › branches › The "prerelease" branches must have unique "prerelease" property
  ✔ definitions › branches › A "release" branch is identified by not havin a "range" or "prerelease" property or a "name" formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › There must be between 1 and 3 release branches

  Uncaught exception in test/definitions/plugins.test.js

  test/definitions/plugins.test.js:2

   1: const test = require('ava');                                              
   2: const plugins = require('../../lib/definitions/plugins');                 
   3: const {RELEASE_NOTES_SEPARATOR, SECRET_REPLACEMENT} = require('../../lib/…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant11/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (test/definitions/plugins.test.js:2:17)

  ✖ test/definitions/plugins.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/plugins/normalize.test.js

  test/plugins/normalize.test.js:4

   3: const {stub} = require('sinon');                         
   4: const normalize = require('../../lib/plugins/normalize');
   5:                                                          

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant11/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (lib/plugins/normalize.js:2:454)
  › Object.<anonymous> (test/plugins/normalize.test.js:4:19)

  ✔ plugins › pipeline › Throw all errors from all steps throwing an AggregateError
  ✔ plugins › pipeline › Stop execution and throw error if a step rejects
  ✔ plugins › pipeline › Throw all errors from the first step throwing an AggregateError
  ✔ plugins › pipeline › Execute each function in series passing the same input
  ✔ plugins › pipeline › Execute all even if a Promise rejects
  ✔ plugins › pipeline › Execute each function in series passing a transformed input from "getNextInput"
  ✔ plugins › pipeline › Execute each function in series passing the "lastResult" and "result" to "getNextInput"
  ✔ plugins › pipeline › Execute each function in series calling "transform" to modify the results
  ✔ plugins › pipeline › Execute each function in series calling "transform" to modify the results with "settleAll"
  ✔ plugins › pipeline › Execute each function in series passing a transformed input even if a step rejects
  ✖ test/plugins/normalize.test.js exited with a non-zero exit code: 1
  ✔ plugins › utils › validatePlugin
  ✔ plugins › utils › validateStep: optional plugin configuration
  ✔ plugins › utils › validateStep: required plugin configuration
  ✔ plugins › utils › loadPlugin
  ✔ plugins › utils › parseConfig

  Uncaught exception in test/plugins/plugins.test.js

  test/plugins/plugins.test.js:6

   5: const tempy = require('tempy');                 
   6: const getPlugins = require('../../lib/plugins');
   7:                                                 

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant11/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (lib/plugins/index.js:2:386)
  › Object.<anonymous> (test/plugins/plugins.test.js:6:20)

  ✖ test/plugins/plugins.test.js exited with a non-zero exit code: 1
  ─

  cli › Pass options to semantic-release API

  test/cli.test.js:70

   69:                                                                          
   70:   t.deepEqual(run.args[0][0].branches, ['master', 'next']);              
   71:   t.is(run.args[0][0].repositoryUrl, 'https://github/com/owner/repo.git'…

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:70:26



  cli › Pass options to semantic-release API with alias arguments

  test/cli.test.js:112

   111:                                                                         
   112:   t.deepEqual(run.args[0][0].branches, ['master']);                     
   113:   t.is(run.args[0][0].repositoryUrl, 'https://github/com/owner/repo.git…

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:112:26



  cli › Pass unknown options to semantic-release API

  test/cli.test.js:129

   128:                                              
   129:   t.is(run.args[0][0].bool, true);           
   130:   t.is(run.args[0][0].firstOption, 'value1');

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:129:19



  cli › Pass empty Array to semantic-release API for list option set to "false"

  test/cli.test.js:143

   142:                                           
   143:   t.deepEqual(run.args[0][0].publish, []);
   144:                                           

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:143:26



  cli › Do not set properties in option for which arg is not in command line

  test/cli.test.js:155

   154:                                   
   155:   t.false('ci' in run.args[0][0]);
   156:   t.false('d' in run.args[0][0]); 

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:155:30



  cli › Return error exitCode if semantic-release throw error

  test/cli.test.js:207

   206:                                                       
   207:   t.regex(t.context.errors, /semantic-release error/);
   208:   t.is(exitCode, 1);                                  

  Value must match expression:

  `Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant11/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/git.js:2:264)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/get-config.js:2:512)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/index.js:2:622)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Proxyquire._require (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mproxyquire[24m/lib/proxyquire.js:188:36)␊
      at module.exports (/data/js-variants/multee/Clients/execa/semantic-release/cli.js:7:110)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/test/cli.test.js:205:26␊
      at Test.callFn (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:622:21)␊
      at Test.run (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:635:23)␊
      at Runner.runSingle (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:299:33)␊
      at Runner.runTest (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:376:30)␊
      at async /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:508:24␊
      at async Promise.all (index 1)␊
      at async Runner.start (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:547:15) {␊
    code: [32m'ERR_REQUIRE_ESM'[39m␊
  }`

  Regular expression:

  /semantic-release error/

  › test/cli.test.js:207:5



  cli › Hide sensitive environment variable values from the logs

  test/cli.test.js:219

   218:                                                                         
   219:   t.regex(t.context.errors, new RegExp(`Throw error: Exposing token ${e…
   220:   t.is(exitCode, 1);                                                    

  Value must match expression:

  `Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant11/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/git.js:2:264)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/get-config.js:2:512)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/index.js:2:622)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Proxyquire._require (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mproxyquire[24m/lib/proxyquire.js:188:36)␊
      at module.exports (/data/js-variants/multee/Clients/execa/semantic-release/cli.js:7:110)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/test/cli.test.js:217:26␊
      at Test.callFn (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:622:21)␊
      at Test.run (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:635:23)␊
      at Runner.runSingle (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:299:33)␊
      at Runner.runTest (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:376:30)␊
      at async Promise.all (index 1)␊
      at async Runner.start (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:547:15) {␊
    code: [32m'ERR_REQUIRE_ESM'[39m␊
  }`

  Regular expression:

  /Throw error: Exposing token \[secure\]/

  › test/cli.test.js:219:5



  branches › branches › Enforce ranges with branching release workflow

  test/branches/branches.test.js:25

   24:   ];                                                                     
   25:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': ()…
   26:                                                                          

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant11/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:25:23



  branches › branches › Throw SemanticReleaseError for invalid configurations

  test/branches/branches.test.js:202

   201:   ];                                                                    
   202:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   203:   const errors = [...(await t.throwsAsync(getBranches('repositoryUrl', …

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant11/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:202:23



  branches › branches › Throw a SemanticReleaseError if there is duplicate branches

  test/branches/branches.test.js:232

   231:   ];                                                                    
   232:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   233:                                                                         

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant11/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:232:23



  branches › branches › Throw a SemanticReleaseError for each invalid branch name

  test/branches/branches.test.js:247

   246:   ];                                                                    
   247:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   248:                                                                         

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant11/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:247:23

  ─

  11 tests failed
  12 uncaught exceptions
----------------------------------|---------|----------|---------|---------|-------------------
File                              | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
----------------------------------|---------|----------|---------|---------|-------------------
All files                         |   36.17 |    40.67 |   33.85 |   35.78 |                   
 semantic-release                 |   16.96 |    13.95 |   33.33 |   16.77 |                   
  cli.js                          |   95.24 |      100 |     100 |      95 | 56                
  index.js                        |       6 |        0 |       0 |    6.12 | 10-279            
 semantic-release/lib             |   41.95 |    45.64 |   46.75 |   40.93 |                   
  get-commits.js                  |      20 |        0 |       0 |      20 | 11-22             
  get-config.js                   |   16.22 |        0 |       0 |   16.22 | 7-89              
  get-error.js                    |      60 |        0 |       0 |      60 | 5-6               
  get-git-auth-url.js             |     8.7 |        0 |       0 |    9.09 | 5-121             
  get-last-release.js             |     100 |      100 |     100 |     100 |                   
  get-logger.js                   |     100 |      100 |     100 |     100 |                   
  get-next-version.js             |     100 |      100 |     100 |     100 |                   
  get-release-to-add.js           |     100 |      100 |     100 |     100 |                   
  git.js                          |    5.77 |        0 |       0 |    5.77 | 4-331             
  hide-sensitive.js               |     100 |      100 |     100 |     100 |                   
  utils.js                        |   81.82 |    95.74 |   86.36 |   78.57 | 10-17             
  verify.js                       |      15 |        0 |       0 |      15 | 4-41              
 semantic-release/lib/branches    |   44.32 |    53.97 |   29.17 |   44.83 |                   
  expand.js                       |      30 |        0 |       0 |   33.33 | 5-13              
  get-tags.js                     |   38.46 |        0 |       0 |   38.46 | 7-29              
  index.js                        |   15.38 |        0 |       0 |   15.38 | 7-70              
  normalize.js                    |   96.15 |    97.14 |     100 |   96.15 | 60                
 semantic-release/lib/definitions |   38.14 |    32.56 |      15 |   37.89 |                   
  branches.js                     |     100 |    93.33 |     100 |     100 | 7                 
  constants.js                    |     100 |      100 |     100 |     100 |                   
  errors.js                       |   24.32 |        0 |       0 |      25 | 8,11,14-224       
  plugins.js                      |    5.88 |        0 |       0 |    5.88 | 5-106             
 semantic-release/lib/plugins     |   42.64 |    47.86 |   47.37 |   42.52 |                   
  index.js                        |     9.3 |        0 |       0 |     9.3 | 5-92              
  normalize.js                    |    12.5 |        0 |       0 |   12.82 | 6-66              
  pipeline.js                     |     100 |      100 |     100 |     100 |                   
  utils.js                        |     100 |      100 |     100 |     100 |                   
----------------------------------|---------|----------|---------|---------|-------------------
************* run test done *************
semantic-release is testing ./VariantsDeps/execa/variant10/execa
************* npm unlink module *************

removed 2 packages, changed 1 package, and audited 1494 packages in 4s

147 packages are looking for funding
  run `npm fund` for details

14 vulnerabilities (6 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 705ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 393ms

1 package is looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 2 packages, changed 1 package, and audited 1497 packages in 4s

148 packages are looking for funding
  run `npm fund` for details

14 vulnerabilities (6 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm link module done *************
************* start run test *************

> semantic-release@0.0.0-development pretest
> npm run lint


> semantic-release@0.0.0-development lint
> xo


> semantic-release@0.0.0-development test
> nyc ava -v


  Uncaught exception in test/get-commits.test.js

  test/get-commits.test.js:3

   2: const {stub} = require('sinon');                                          
   3: const getCommits = require('../lib/get-commits');                         
   4: const {gitRepo, gitCommits, gitDetachedHead} = require('./helpers/git-uti…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant10/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/get-commits.js:2:218)
  › Object.<anonymous> (test/get-commits.test.js:3:20)

  ✖ test/get-commits.test.js exited with a non-zero exit code: 1
  ✖ cli › Pass options to semantic-release API Rejected promise returned by test
  ✖ cli › Pass options to semantic-release API with alias arguments Rejected promise returned by test
  ✖ cli › Pass unknown options to semantic-release API Rejected promise returned by test
  ✖ cli › Pass empty Array to semantic-release API for list option set to "false" Rejected promise returned by test
  ✖ cli › Do not set properties in option for which arg is not in command line Rejected promise returned by test
  ✔ cli › Display help
  ✔ cli › Return error exitCode and prints help if called with a command
  ✔ cli › Return error exitCode if multiple plugin are set for single plugin
  ✖ cli › Return error exitCode if semantic-release throw error 
  ✖ cli › Hide sensitive environment variable values from the logs 

  Uncaught exception in test/get-config.test.js

  test/get-config.test.js:9

   8: const yaml = require('js-yaml');                                          
   9: const {gitRepo, gitTagVersion, gitCommits, gitShallowClone, gitAddConfig}…
   10:                                                                           

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant10/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/helpers/git-utils.js:2:15)
  › Object.<anonymous> (test/get-config.test.js:9:77)

  ✖ test/get-config.test.js exited with a non-zero exit code: 1
  ✔ get-last-release › Get the highest non-prerelease valid tag
  ✔ get-last-release › Get the highest prerelease valid tag, ignoring other tags from other prerelease channels
  ✔ get-last-release › Return empty object if no valid tag is found
  ✔ get-last-release › Get the highest non-prerelease valid tag before a certain version

  Uncaught exception in test/get-git-auth-url.test.js

  test/get-git-auth-url.test.js:2

   1: const test = require('ava');                          
   2: const getAuthUrl = require('../lib/get-git-auth-url');
   3: const {gitRepo} = require('./helpers/git-utils');     

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant10/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/get-git-auth-url.js:3:171)
  › Object.<anonymous> (test/get-git-auth-url.test.js:2:20)

  ✖ test/get-git-auth-url.test.js exited with a non-zero exit code: 1
  ✔ get-logger › Expose "error", "success" and "log" functions
  ✔ get-next-version › Increase version for patch release
  ✔ get-next-version › Increase version for minor release
  ✔ get-next-version › Increase version for major release
  ✔ get-next-version › Return 1.0.0 if there is no previous release
  ✔ get-next-version › Increase version for patch release on prerelease branch
  ✔ get-next-version › Increase version for minor release on prerelease branch
  ✔ get-next-version › Increase version for major release on prerelease branch
  ✔ get-next-version › Return 1.0.0 if there is no previous release on prerelease branch
  ✔ get-next-version › Increase version for release on prerelease branch after previous commits were merged to release branch
  ✔ get-next-version › Increase version for release on prerelease branch based on highest commit type since last regular release
  ✔ get-next-version › Increase version for release on prerelease branch when there is no regular releases on other branches
  ✔ get-release-to-add › Return versions merged from release to maintenance branch, excluding lower than branch start range
  ✔ get-release-to-add › Return versions merged between release branches
  ✔ get-release-to-add › Return releases sorted by ascending order
  ✔ get-release-to-add › No lastRelease
  ✔ get-release-to-add › Ignore pre-release versions
  ✔ get-release-to-add › Exclude versions merged from release to maintenance branch if they have the same "channel"
  ✔ get-release-to-add › Exclude versions merged between release branches if they have the same "channel"
  ✔ get-release-to-add › Exclude versions merged between release branches if they all have "channel" set to "false"
  ✔ get-release-to-add › Exclude versions number less than the latest version already released on that branch

  Uncaught exception in test/git.test.js

  test/git.test.js:19

   18:   fetchNotes,             
   19: } = require('../lib/git');
   20: const {                   

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant10/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (test/git.test.js:19:5)

  ✖ test/git.test.js exited with a non-zero exit code: 1
  ✔ hide-sensitive › Replace multiple sensitive environment variable values
  ✔ hide-sensitive › Replace multiple occurences of sensitive environment variable values
  ✔ hide-sensitive › Replace sensitive environment variable matching specific regex for "private"
  ✔ hide-sensitive › Replace url-encoded environment variable
  ✔ hide-sensitive › Escape regexp special characters
  ✔ hide-sensitive › Escape regexp special characters in url-encoded environment variable
  ✔ hide-sensitive › Accept "undefined" input
  ✔ hide-sensitive › Return same string if no environment variable has to be replaced
  ✔ hide-sensitive › Exclude empty environment variables from the regexp
  ✔ hide-sensitive › Exclude empty environment variables from the regexp if there is only empty ones
  ✔ hide-sensitive › Exclude nonsensitive GOPRIVATE environment variable for Golang projects from the regexp
  ✔ hide-sensitive › Exclude environment variables with value shorter than SECRET_MIN_SIZE from the regexp

  Uncaught exception in test/index.test.js

  test/index.test.js:24

   23:   gitGetNote,                      
   24: } = require('./helpers/git-utils');
   25:                                    

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant10/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/helpers/git-utils.js:2:15)
  › Object.<anonymous> (test/index.test.js:24:5)

  ✖ test/index.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/integration.test.js

  test/integration.test.js:6

   5: const {writeJson, readJson} = require('fs-extra');       
   6: const execa = require('execa');                          
   7: const {WritableStreamBuffer} = require('stream-buffers');

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant10/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/integration.test.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/integration.test.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/integration.test.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/integration.test.js:6:15)

  ✖ test/integration.test.js exited with a non-zero exit code: 1
  ✔ utils › getLatestVersion
  ✔ utils › getEarliestVersion
  ✔ utils › extractErrors
  ✔ utils › tagsToVersions
  ✔ utils › isMajorRange
  ✔ utils › isMaintenanceRange
  ✔ utils › getUpperBound
  ✔ utils › getLowerBound
  ✔ utils › highest
  ✔ utils › lowest
  ✔ utils › getFirstVersion
  ✔ utils › getRange
  ✔ utils › makeTag
  ✔ utils › isSameChannel

  Uncaught exception in test/verify.test.js

  test/verify.test.js:3

   2: const tempy = require('tempy');                  
   3: const verify = require('../lib/verify');         
   4: const {gitRepo} = require('./helpers/git-utils');

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant10/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/verify.js:2:305)
  › Object.<anonymous> (test/verify.test.js:3:16)

  ✖ test/verify.test.js exited with a non-zero exit code: 1
  ✖ branches › branches › Enforce ranges with branching release workflow Rejected promise returned by test
  ✖ branches › branches › Throw SemanticReleaseError for invalid configurations Rejected promise returned by test
  ✖ branches › branches › Throw a SemanticReleaseError if there is duplicate branches Rejected promise returned by test
  ✖ branches › branches › Throw a SemanticReleaseError for each invalid branch name Rejected promise returned by test

  Uncaught exception in test/branches/expand.test.js

  test/branches/expand.test.js:2

   1: const test = require('ava');                                              
   2: const expand = require('../../lib/branches/expand');                      
   3: const {gitRepo, gitCommits, gitCheckout, gitPush} = require('../helpers/g…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant10/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/branches/expand.js:2:292)
  › Object.<anonymous> (test/branches/expand.test.js:2:16)

  ✖ test/branches/expand.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/branches/get-tags.test.js

  test/branches/get-tags.test.js:2

   1: const test = require('ava');                                              
   2: const getTags = require('../../lib/branches/get-tags');                   
   3: const {gitRepo, gitCommits, gitTagVersion, gitCheckout, gitAddNote} = req…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant10/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/branches/get-tags.js:2:407)
  › Object.<anonymous> (test/branches/get-tags.test.js:2:17)

  ✖ test/branches/get-tags.test.js exited with a non-zero exit code: 1
  ✔ branches › normalize › Maintenance branches - initial state
  ✔ branches › normalize › Maintenance branches - cap range to first release present on default branch and not in any Maintenance one
  ✔ branches › normalize › Maintenance branches - cap range to default branch last release if all release are also present on maintenance branch
  ✔ branches › normalize › Release branches - initial state
  ✔ branches › normalize › Release branches - 3 release branches
  ✔ branches › normalize › Release branches - 2 release branches
  ✔ branches › normalize › Release branches - 1 release branches
  ✔ branches › normalize › Release branches - cap ranges to first release only present on following branch
  ✔ branches › normalize › Release branches - Handle missing previous tags in branch history
  ✔ branches › normalize › Release branches - limit releases on 2nd and 3rd branch based on 1st branch last release
  ✔ branches › normalize › Prerelease branches
  ✔ branches › normalize › Allow to set channel to "false" to prevent default
  ✔ definitions › branches › A "maintenance" branch is identified by having a "range" property or a "name" formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › A "maintenance" branches must have a "range" property formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › The "maintenance" branches must have unique ranges
  ✔ definitions › branches › A "prerelease" branch is identified by having a thruthy "prerelease" property
  ✔ definitions › branches › A "prerelease" branch must have a valid prerelease detonation in "prerelease" property or in "name" if "prerelease" is "true"
  ✔ definitions › branches › The "prerelease" branches must have unique "prerelease" property
  ✔ definitions › branches › A "release" branch is identified by not havin a "range" or "prerelease" property or a "name" formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › There must be between 1 and 3 release branches

  Uncaught exception in test/definitions/plugins.test.js

  test/definitions/plugins.test.js:2

   1: const test = require('ava');                                              
   2: const plugins = require('../../lib/definitions/plugins');                 
   3: const {RELEASE_NOTES_SEPARATOR, SECRET_REPLACEMENT} = require('../../lib/…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant10/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (test/definitions/plugins.test.js:2:17)

  ✖ test/definitions/plugins.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/plugins/normalize.test.js

  test/plugins/normalize.test.js:4

   3: const {stub} = require('sinon');                         
   4: const normalize = require('../../lib/plugins/normalize');
   5:                                                          

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant10/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (lib/plugins/normalize.js:2:454)
  › Object.<anonymous> (test/plugins/normalize.test.js:4:19)

  ✔ plugins › pipeline › Throw all errors from all steps throwing an AggregateError
  ✔ plugins › pipeline › Stop execution and throw error if a step rejects
  ✔ plugins › pipeline › Throw all errors from the first step throwing an AggregateError
  ✔ plugins › pipeline › Execute each function in series passing the same input
  ✔ plugins › pipeline › Execute all even if a Promise rejects
  ✔ plugins › pipeline › Execute each function in series passing a transformed input from "getNextInput"
  ✔ plugins › pipeline › Execute each function in series passing the "lastResult" and "result" to "getNextInput"
  ✔ plugins › pipeline › Execute each function in series calling "transform" to modify the results
  ✔ plugins › pipeline › Execute each function in series calling "transform" to modify the results with "settleAll"
  ✔ plugins › pipeline › Execute each function in series passing a transformed input even if a step rejects
  ✖ test/plugins/normalize.test.js exited with a non-zero exit code: 1
  ✔ plugins › utils › validatePlugin
  ✔ plugins › utils › validateStep: optional plugin configuration
  ✔ plugins › utils › validateStep: required plugin configuration
  ✔ plugins › utils › loadPlugin
  ✔ plugins › utils › parseConfig

  Uncaught exception in test/plugins/plugins.test.js

  test/plugins/plugins.test.js:6

   5: const tempy = require('tempy');                 
   6: const getPlugins = require('../../lib/plugins');
   7:                                                 

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant10/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (lib/plugins/index.js:2:386)
  › Object.<anonymous> (test/plugins/plugins.test.js:6:20)

  ✖ test/plugins/plugins.test.js exited with a non-zero exit code: 1
  ─

  cli › Pass options to semantic-release API

  test/cli.test.js:70

   69:                                                                          
   70:   t.deepEqual(run.args[0][0].branches, ['master', 'next']);              
   71:   t.is(run.args[0][0].repositoryUrl, 'https://github/com/owner/repo.git'…

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:70:26



  cli › Pass options to semantic-release API with alias arguments

  test/cli.test.js:112

   111:                                                                         
   112:   t.deepEqual(run.args[0][0].branches, ['master']);                     
   113:   t.is(run.args[0][0].repositoryUrl, 'https://github/com/owner/repo.git…

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:112:26



  cli › Pass unknown options to semantic-release API

  test/cli.test.js:129

   128:                                              
   129:   t.is(run.args[0][0].bool, true);           
   130:   t.is(run.args[0][0].firstOption, 'value1');

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:129:19



  cli › Pass empty Array to semantic-release API for list option set to "false"

  test/cli.test.js:143

   142:                                           
   143:   t.deepEqual(run.args[0][0].publish, []);
   144:                                           

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:143:26



  cli › Do not set properties in option for which arg is not in command line

  test/cli.test.js:155

   154:                                   
   155:   t.false('ci' in run.args[0][0]);
   156:   t.false('d' in run.args[0][0]); 

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:155:30



  cli › Return error exitCode if semantic-release throw error

  test/cli.test.js:207

   206:                                                       
   207:   t.regex(t.context.errors, /semantic-release error/);
   208:   t.is(exitCode, 1);                                  

  Value must match expression:

  `Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant10/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/git.js:2:264)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/get-config.js:2:512)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/index.js:2:622)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Proxyquire._require (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mproxyquire[24m/lib/proxyquire.js:188:36)␊
      at module.exports (/data/js-variants/multee/Clients/execa/semantic-release/cli.js:7:110)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/test/cli.test.js:205:26␊
      at Test.callFn (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:622:21)␊
      at Test.run (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:635:23)␊
      at Runner.runSingle (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:299:33)␊
      at Runner.runTest (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:376:30)␊
      at async /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:508:24␊
      at async Promise.all (index 1)␊
      at async Runner.start (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:547:15) {␊
    code: [32m'ERR_REQUIRE_ESM'[39m␊
  }`

  Regular expression:

  /semantic-release error/

  › test/cli.test.js:207:5



  cli › Hide sensitive environment variable values from the logs

  test/cli.test.js:219

   218:                                                                         
   219:   t.regex(t.context.errors, new RegExp(`Throw error: Exposing token ${e…
   220:   t.is(exitCode, 1);                                                    

  Value must match expression:

  `Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant10/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/git.js:2:264)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/get-config.js:2:512)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/index.js:2:622)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Proxyquire._require (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mproxyquire[24m/lib/proxyquire.js:188:36)␊
      at module.exports (/data/js-variants/multee/Clients/execa/semantic-release/cli.js:7:110)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/test/cli.test.js:217:26␊
      at Test.callFn (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:622:21)␊
      at Test.run (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:635:23)␊
      at Runner.runSingle (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:299:33)␊
      at Runner.runTest (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:376:30)␊
      at async Promise.all (index 1)␊
      at async Runner.start (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:547:15) {␊
    code: [32m'ERR_REQUIRE_ESM'[39m␊
  }`

  Regular expression:

  /Throw error: Exposing token \[secure\]/

  › test/cli.test.js:219:5



  branches › branches › Enforce ranges with branching release workflow

  test/branches/branches.test.js:25

   24:   ];                                                                     
   25:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': ()…
   26:                                                                          

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant10/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:25:23



  branches › branches › Throw SemanticReleaseError for invalid configurations

  test/branches/branches.test.js:202

   201:   ];                                                                    
   202:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   203:   const errors = [...(await t.throwsAsync(getBranches('repositoryUrl', …

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant10/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:202:23



  branches › branches › Throw a SemanticReleaseError if there is duplicate branches

  test/branches/branches.test.js:232

   231:   ];                                                                    
   232:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   233:                                                                         

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant10/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:232:23



  branches › branches › Throw a SemanticReleaseError for each invalid branch name

  test/branches/branches.test.js:247

   246:   ];                                                                    
   247:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   248:                                                                         

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant10/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:247:23

  ─

  11 tests failed
  12 uncaught exceptions
----------------------------------|---------|----------|---------|---------|-------------------
File                              | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
----------------------------------|---------|----------|---------|---------|-------------------
All files                         |   36.17 |    40.67 |   33.85 |   35.78 |                   
 semantic-release                 |   16.96 |    13.95 |   33.33 |   16.77 |                   
  cli.js                          |   95.24 |      100 |     100 |      95 | 56                
  index.js                        |       6 |        0 |       0 |    6.12 | 10-279            
 semantic-release/lib             |   41.95 |    45.64 |   46.75 |   40.93 |                   
  get-commits.js                  |      20 |        0 |       0 |      20 | 11-22             
  get-config.js                   |   16.22 |        0 |       0 |   16.22 | 7-89              
  get-error.js                    |      60 |        0 |       0 |      60 | 5-6               
  get-git-auth-url.js             |     8.7 |        0 |       0 |    9.09 | 5-121             
  get-last-release.js             |     100 |      100 |     100 |     100 |                   
  get-logger.js                   |     100 |      100 |     100 |     100 |                   
  get-next-version.js             |     100 |      100 |     100 |     100 |                   
  get-release-to-add.js           |     100 |      100 |     100 |     100 |                   
  git.js                          |    5.77 |        0 |       0 |    5.77 | 4-331             
  hide-sensitive.js               |     100 |      100 |     100 |     100 |                   
  utils.js                        |   81.82 |    95.74 |   86.36 |   78.57 | 10-17             
  verify.js                       |      15 |        0 |       0 |      15 | 4-41              
 semantic-release/lib/branches    |   44.32 |    53.97 |   29.17 |   44.83 |                   
  expand.js                       |      30 |        0 |       0 |   33.33 | 5-13              
  get-tags.js                     |   38.46 |        0 |       0 |   38.46 | 7-29              
  index.js                        |   15.38 |        0 |       0 |   15.38 | 7-70              
  normalize.js                    |   96.15 |    97.14 |     100 |   96.15 | 60                
 semantic-release/lib/definitions |   38.14 |    32.56 |      15 |   37.89 |                   
  branches.js                     |     100 |    93.33 |     100 |     100 | 7                 
  constants.js                    |     100 |      100 |     100 |     100 |                   
  errors.js                       |   24.32 |        0 |       0 |      25 | 8,11,14-224       
  plugins.js                      |    5.88 |        0 |       0 |    5.88 | 5-106             
 semantic-release/lib/plugins     |   42.64 |    47.86 |   47.37 |   42.52 |                   
  index.js                        |     9.3 |        0 |       0 |     9.3 | 5-92              
  normalize.js                    |    12.5 |        0 |       0 |   12.82 | 6-66              
  pipeline.js                     |     100 |      100 |     100 |     100 |                   
  utils.js                        |     100 |      100 |     100 |     100 |                   
----------------------------------|---------|----------|---------|---------|-------------------
************* run test done *************
semantic-release is testing ./VariantsDeps/execa/variant9/execa
************* npm unlink module *************

removed 2 packages, changed 1 package, and audited 1494 packages in 4s

147 packages are looking for funding
  run `npm fund` for details

14 vulnerabilities (6 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 752ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 401ms

1 package is looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 2 packages, changed 1 package, and audited 1497 packages in 4s

148 packages are looking for funding
  run `npm fund` for details

14 vulnerabilities (6 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm link module done *************
************* start run test *************

> semantic-release@0.0.0-development pretest
> npm run lint


> semantic-release@0.0.0-development lint
> xo


> semantic-release@0.0.0-development test
> nyc ava -v


  Uncaught exception in test/get-commits.test.js

  test/get-commits.test.js:3

   2: const {stub} = require('sinon');                                          
   3: const getCommits = require('../lib/get-commits');                         
   4: const {gitRepo, gitCommits, gitDetachedHead} = require('./helpers/git-uti…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant9/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/get-commits.js:2:218)
  › Object.<anonymous> (test/get-commits.test.js:3:20)

  ✖ test/get-commits.test.js exited with a non-zero exit code: 1
  ✖ cli › Pass options to semantic-release API Rejected promise returned by test
  ✖ cli › Pass options to semantic-release API with alias arguments Rejected promise returned by test
  ✖ cli › Pass unknown options to semantic-release API Rejected promise returned by test
  ✖ cli › Pass empty Array to semantic-release API for list option set to "false" Rejected promise returned by test
  ✖ cli › Do not set properties in option for which arg is not in command line Rejected promise returned by test
  ✔ cli › Display help
  ✔ cli › Return error exitCode and prints help if called with a command
  ✔ cli › Return error exitCode if multiple plugin are set for single plugin
  ✖ cli › Return error exitCode if semantic-release throw error 
  ✖ cli › Hide sensitive environment variable values from the logs 

  Uncaught exception in test/get-config.test.js

  test/get-config.test.js:9

   8: const yaml = require('js-yaml');                                          
   9: const {gitRepo, gitTagVersion, gitCommits, gitShallowClone, gitAddConfig}…
   10:                                                                           

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant9/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/helpers/git-utils.js:2:15)
  › Object.<anonymous> (test/get-config.test.js:9:77)

  ✖ test/get-config.test.js exited with a non-zero exit code: 1
  ✔ get-last-release › Get the highest non-prerelease valid tag
  ✔ get-last-release › Get the highest prerelease valid tag, ignoring other tags from other prerelease channels
  ✔ get-last-release › Return empty object if no valid tag is found
  ✔ get-last-release › Get the highest non-prerelease valid tag before a certain version

  Uncaught exception in test/get-git-auth-url.test.js

  test/get-git-auth-url.test.js:2

   1: const test = require('ava');                          
   2: const getAuthUrl = require('../lib/get-git-auth-url');
   3: const {gitRepo} = require('./helpers/git-utils');     

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant9/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/get-git-auth-url.js:3:171)
  › Object.<anonymous> (test/get-git-auth-url.test.js:2:20)

  ✖ test/get-git-auth-url.test.js exited with a non-zero exit code: 1
  ✔ get-next-version › Increase version for patch release
  ✔ get-next-version › Increase version for minor release
  ✔ get-next-version › Increase version for major release
  ✔ get-next-version › Return 1.0.0 if there is no previous release
  ✔ get-next-version › Increase version for patch release on prerelease branch
  ✔ get-next-version › Increase version for minor release on prerelease branch
  ✔ get-next-version › Increase version for major release on prerelease branch
  ✔ get-next-version › Return 1.0.0 if there is no previous release on prerelease branch
  ✔ get-next-version › Increase version for release on prerelease branch after previous commits were merged to release branch
  ✔ get-next-version › Increase version for release on prerelease branch based on highest commit type since last regular release
  ✔ get-next-version › Increase version for release on prerelease branch when there is no regular releases on other branches
  ✔ get-logger › Expose "error", "success" and "log" functions
  ✔ get-release-to-add › Return versions merged from release to maintenance branch, excluding lower than branch start range
  ✔ get-release-to-add › Return versions merged between release branches
  ✔ get-release-to-add › Return releases sorted by ascending order
  ✔ get-release-to-add › No lastRelease
  ✔ get-release-to-add › Ignore pre-release versions
  ✔ get-release-to-add › Exclude versions merged from release to maintenance branch if they have the same "channel"
  ✔ get-release-to-add › Exclude versions merged between release branches if they have the same "channel"
  ✔ get-release-to-add › Exclude versions merged between release branches if they all have "channel" set to "false"
  ✔ get-release-to-add › Exclude versions number less than the latest version already released on that branch

  Uncaught exception in test/git.test.js

  test/git.test.js:19

   18:   fetchNotes,             
   19: } = require('../lib/git');
   20: const {                   

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant9/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (test/git.test.js:19:5)

  ✖ test/git.test.js exited with a non-zero exit code: 1
  ✔ hide-sensitive › Replace multiple sensitive environment variable values
  ✔ hide-sensitive › Replace multiple occurences of sensitive environment variable values
  ✔ hide-sensitive › Replace sensitive environment variable matching specific regex for "private"
  ✔ hide-sensitive › Replace url-encoded environment variable
  ✔ hide-sensitive › Escape regexp special characters
  ✔ hide-sensitive › Escape regexp special characters in url-encoded environment variable
  ✔ hide-sensitive › Accept "undefined" input
  ✔ hide-sensitive › Return same string if no environment variable has to be replaced
  ✔ hide-sensitive › Exclude empty environment variables from the regexp
  ✔ hide-sensitive › Exclude empty environment variables from the regexp if there is only empty ones
  ✔ hide-sensitive › Exclude nonsensitive GOPRIVATE environment variable for Golang projects from the regexp
  ✔ hide-sensitive › Exclude environment variables with value shorter than SECRET_MIN_SIZE from the regexp

  Uncaught exception in test/index.test.js

  test/index.test.js:24

   23:   gitGetNote,                      
   24: } = require('./helpers/git-utils');
   25:                                    

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant9/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/helpers/git-utils.js:2:15)
  › Object.<anonymous> (test/index.test.js:24:5)

  ✖ test/index.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/integration.test.js

  test/integration.test.js:6

   5: const {writeJson, readJson} = require('fs-extra');       
   6: const execa = require('execa');                          
   7: const {WritableStreamBuffer} = require('stream-buffers');

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant9/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/integration.test.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/integration.test.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/integration.test.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/integration.test.js:6:15)

  ✖ test/integration.test.js exited with a non-zero exit code: 1
  ✔ utils › getLatestVersion
  ✔ utils › getEarliestVersion
  ✔ utils › extractErrors
  ✔ utils › tagsToVersions
  ✔ utils › isMajorRange
  ✔ utils › isMaintenanceRange
  ✔ utils › getUpperBound
  ✔ utils › getLowerBound
  ✔ utils › highest
  ✔ utils › lowest
  ✔ utils › getFirstVersion
  ✔ utils › getRange
  ✔ utils › makeTag
  ✔ utils › isSameChannel

  Uncaught exception in test/verify.test.js

  test/verify.test.js:3

   2: const tempy = require('tempy');                  
   3: const verify = require('../lib/verify');         
   4: const {gitRepo} = require('./helpers/git-utils');

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant9/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/verify.js:2:305)
  › Object.<anonymous> (test/verify.test.js:3:16)

  ✖ test/verify.test.js exited with a non-zero exit code: 1
  ✖ branches › branches › Enforce ranges with branching release workflow Rejected promise returned by test
  ✖ branches › branches › Throw SemanticReleaseError for invalid configurations Rejected promise returned by test
  ✖ branches › branches › Throw a SemanticReleaseError if there is duplicate branches Rejected promise returned by test
  ✖ branches › branches › Throw a SemanticReleaseError for each invalid branch name Rejected promise returned by test

  Uncaught exception in test/branches/expand.test.js

  test/branches/expand.test.js:2

   1: const test = require('ava');                                              
   2: const expand = require('../../lib/branches/expand');                      
   3: const {gitRepo, gitCommits, gitCheckout, gitPush} = require('../helpers/g…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant9/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/branches/expand.js:2:292)
  › Object.<anonymous> (test/branches/expand.test.js:2:16)

  ✖ test/branches/expand.test.js exited with a non-zero exit code: 1
  ✔ branches › normalize › Maintenance branches - initial state
  ✔ branches › normalize › Maintenance branches - cap range to first release present on default branch and not in any Maintenance one
  ✔ branches › normalize › Maintenance branches - cap range to default branch last release if all release are also present on maintenance branch
  ✔ branches › normalize › Release branches - initial state
  ✔ branches › normalize › Release branches - 3 release branches
  ✔ branches › normalize › Release branches - 2 release branches
  ✔ branches › normalize › Release branches - 1 release branches
  ✔ branches › normalize › Release branches - cap ranges to first release only present on following branch
  ✔ branches › normalize › Release branches - Handle missing previous tags in branch history
  ✔ branches › normalize › Release branches - limit releases on 2nd and 3rd branch based on 1st branch last release
  ✔ branches › normalize › Prerelease branches
  ✔ branches › normalize › Allow to set channel to "false" to prevent default

  Uncaught exception in test/branches/get-tags.test.js

  test/branches/get-tags.test.js:2

   1: const test = require('ava');                                              
   2: const getTags = require('../../lib/branches/get-tags');                   
   3: const {gitRepo, gitCommits, gitTagVersion, gitCheckout, gitAddNote} = req…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant9/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/branches/get-tags.js:2:407)
  › Object.<anonymous> (test/branches/get-tags.test.js:2:17)

  ✖ test/branches/get-tags.test.js exited with a non-zero exit code: 1
  ✔ definitions › branches › A "maintenance" branch is identified by having a "range" property or a "name" formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › A "maintenance" branches must have a "range" property formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › The "maintenance" branches must have unique ranges
  ✔ definitions › branches › A "prerelease" branch is identified by having a thruthy "prerelease" property
  ✔ definitions › branches › A "prerelease" branch must have a valid prerelease detonation in "prerelease" property or in "name" if "prerelease" is "true"
  ✔ definitions › branches › The "prerelease" branches must have unique "prerelease" property
  ✔ definitions › branches › A "release" branch is identified by not havin a "range" or "prerelease" property or a "name" formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › There must be between 1 and 3 release branches

  Uncaught exception in test/definitions/plugins.test.js

  test/definitions/plugins.test.js:2

   1: const test = require('ava');                                              
   2: const plugins = require('../../lib/definitions/plugins');                 
   3: const {RELEASE_NOTES_SEPARATOR, SECRET_REPLACEMENT} = require('../../lib/…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant9/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (test/definitions/plugins.test.js:2:17)

  ✖ test/definitions/plugins.test.js exited with a non-zero exit code: 1
  ✔ plugins › pipeline › Throw all errors from all steps throwing an AggregateError
  ✔ plugins › pipeline › Stop execution and throw error if a step rejects
  ✔ plugins › pipeline › Throw all errors from the first step throwing an AggregateError
  ✔ plugins › pipeline › Execute each function in series passing the same input
  ✔ plugins › pipeline › Execute all even if a Promise rejects
  ✔ plugins › pipeline › Execute each function in series passing a transformed input from "getNextInput"
  ✔ plugins › pipeline › Execute each function in series passing the "lastResult" and "result" to "getNextInput"
  ✔ plugins › pipeline › Execute each function in series calling "transform" to modify the results
  ✔ plugins › pipeline › Execute each function in series calling "transform" to modify the results with "settleAll"
  ✔ plugins › pipeline › Execute each function in series passing a transformed input even if a step rejects

  Uncaught exception in test/plugins/normalize.test.js

  test/plugins/normalize.test.js:4

   3: const {stub} = require('sinon');                         
   4: const normalize = require('../../lib/plugins/normalize');
   5:                                                          

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant9/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (lib/plugins/normalize.js:2:454)
  › Object.<anonymous> (test/plugins/normalize.test.js:4:19)

  ✖ test/plugins/normalize.test.js exited with a non-zero exit code: 1
  ✔ plugins › utils › validatePlugin
  ✔ plugins › utils › validateStep: optional plugin configuration
  ✔ plugins › utils › validateStep: required plugin configuration
  ✔ plugins › utils › loadPlugin
  ✔ plugins › utils › parseConfig

  Uncaught exception in test/plugins/plugins.test.js

  test/plugins/plugins.test.js:6

   5: const tempy = require('tempy');                 
   6: const getPlugins = require('../../lib/plugins');
   7:                                                 

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant9/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (lib/plugins/index.js:2:386)
  › Object.<anonymous> (test/plugins/plugins.test.js:6:20)

  ✖ test/plugins/plugins.test.js exited with a non-zero exit code: 1
  ─

  cli › Pass options to semantic-release API

  test/cli.test.js:70

   69:                                                                          
   70:   t.deepEqual(run.args[0][0].branches, ['master', 'next']);              
   71:   t.is(run.args[0][0].repositoryUrl, 'https://github/com/owner/repo.git'…

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:70:26



  cli › Pass options to semantic-release API with alias arguments

  test/cli.test.js:112

   111:                                                                         
   112:   t.deepEqual(run.args[0][0].branches, ['master']);                     
   113:   t.is(run.args[0][0].repositoryUrl, 'https://github/com/owner/repo.git…

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:112:26



  cli › Pass unknown options to semantic-release API

  test/cli.test.js:129

   128:                                              
   129:   t.is(run.args[0][0].bool, true);           
   130:   t.is(run.args[0][0].firstOption, 'value1');

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:129:19



  cli › Pass empty Array to semantic-release API for list option set to "false"

  test/cli.test.js:143

   142:                                           
   143:   t.deepEqual(run.args[0][0].publish, []);
   144:                                           

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:143:26



  cli › Do not set properties in option for which arg is not in command line

  test/cli.test.js:155

   154:                                   
   155:   t.false('ci' in run.args[0][0]);
   156:   t.false('d' in run.args[0][0]); 

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:155:30



  cli › Return error exitCode if semantic-release throw error

  test/cli.test.js:207

   206:                                                       
   207:   t.regex(t.context.errors, /semantic-release error/);
   208:   t.is(exitCode, 1);                                  

  Value must match expression:

  `Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant9/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/git.js:2:264)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/get-config.js:2:512)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/index.js:2:622)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Proxyquire._require (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mproxyquire[24m/lib/proxyquire.js:188:36)␊
      at module.exports (/data/js-variants/multee/Clients/execa/semantic-release/cli.js:7:110)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/test/cli.test.js:205:26␊
      at Test.callFn (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:622:21)␊
      at Test.run (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:635:23)␊
      at Runner.runSingle (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:299:33)␊
      at Runner.runTest (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:376:30)␊
      at async /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:508:24␊
      at async Promise.all (index 1)␊
      at async Runner.start (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:547:15) {␊
    code: [32m'ERR_REQUIRE_ESM'[39m␊
  }`

  Regular expression:

  /semantic-release error/

  › test/cli.test.js:207:5



  cli › Hide sensitive environment variable values from the logs

  test/cli.test.js:219

   218:                                                                         
   219:   t.regex(t.context.errors, new RegExp(`Throw error: Exposing token ${e…
   220:   t.is(exitCode, 1);                                                    

  Value must match expression:

  `Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant9/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/git.js:2:264)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/get-config.js:2:512)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/index.js:2:622)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Proxyquire._require (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mproxyquire[24m/lib/proxyquire.js:188:36)␊
      at module.exports (/data/js-variants/multee/Clients/execa/semantic-release/cli.js:7:110)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/test/cli.test.js:217:26␊
      at Test.callFn (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:622:21)␊
      at Test.run (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:635:23)␊
      at Runner.runSingle (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:299:33)␊
      at Runner.runTest (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:376:30)␊
      at async Promise.all (index 1)␊
      at async Runner.start (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:547:15) {␊
    code: [32m'ERR_REQUIRE_ESM'[39m␊
  }`

  Regular expression:

  /Throw error: Exposing token \[secure\]/

  › test/cli.test.js:219:5



  branches › branches › Enforce ranges with branching release workflow

  test/branches/branches.test.js:25

   24:   ];                                                                     
   25:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': ()…
   26:                                                                          

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant9/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:25:23



  branches › branches › Throw SemanticReleaseError for invalid configurations

  test/branches/branches.test.js:202

   201:   ];                                                                    
   202:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   203:   const errors = [...(await t.throwsAsync(getBranches('repositoryUrl', …

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant9/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:202:23



  branches › branches › Throw a SemanticReleaseError if there is duplicate branches

  test/branches/branches.test.js:232

   231:   ];                                                                    
   232:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   233:                                                                         

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant9/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:232:23



  branches › branches › Throw a SemanticReleaseError for each invalid branch name

  test/branches/branches.test.js:247

   246:   ];                                                                    
   247:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   248:                                                                         

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant9/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:247:23

  ─

  11 tests failed
  12 uncaught exceptions
----------------------------------|---------|----------|---------|---------|-------------------
File                              | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
----------------------------------|---------|----------|---------|---------|-------------------
All files                         |   36.17 |    40.67 |   33.85 |   35.78 |                   
 semantic-release                 |   16.96 |    13.95 |   33.33 |   16.77 |                   
  cli.js                          |   95.24 |      100 |     100 |      95 | 56                
  index.js                        |       6 |        0 |       0 |    6.12 | 10-279            
 semantic-release/lib             |   41.95 |    45.64 |   46.75 |   40.93 |                   
  get-commits.js                  |      20 |        0 |       0 |      20 | 11-22             
  get-config.js                   |   16.22 |        0 |       0 |   16.22 | 7-89              
  get-error.js                    |      60 |        0 |       0 |      60 | 5-6               
  get-git-auth-url.js             |     8.7 |        0 |       0 |    9.09 | 5-121             
  get-last-release.js             |     100 |      100 |     100 |     100 |                   
  get-logger.js                   |     100 |      100 |     100 |     100 |                   
  get-next-version.js             |     100 |      100 |     100 |     100 |                   
  get-release-to-add.js           |     100 |      100 |     100 |     100 |                   
  git.js                          |    5.77 |        0 |       0 |    5.77 | 4-331             
  hide-sensitive.js               |     100 |      100 |     100 |     100 |                   
  utils.js                        |   81.82 |    95.74 |   86.36 |   78.57 | 10-17             
  verify.js                       |      15 |        0 |       0 |      15 | 4-41              
 semantic-release/lib/branches    |   44.32 |    53.97 |   29.17 |   44.83 |                   
  expand.js                       |      30 |        0 |       0 |   33.33 | 5-13              
  get-tags.js                     |   38.46 |        0 |       0 |   38.46 | 7-29              
  index.js                        |   15.38 |        0 |       0 |   15.38 | 7-70              
  normalize.js                    |   96.15 |    97.14 |     100 |   96.15 | 60                
 semantic-release/lib/definitions |   38.14 |    32.56 |      15 |   37.89 |                   
  branches.js                     |     100 |    93.33 |     100 |     100 | 7                 
  constants.js                    |     100 |      100 |     100 |     100 |                   
  errors.js                       |   24.32 |        0 |       0 |      25 | 8,11,14-224       
  plugins.js                      |    5.88 |        0 |       0 |    5.88 | 5-106             
 semantic-release/lib/plugins     |   42.64 |    47.86 |   47.37 |   42.52 |                   
  index.js                        |     9.3 |        0 |       0 |     9.3 | 5-92              
  normalize.js                    |    12.5 |        0 |       0 |   12.82 | 6-66              
  pipeline.js                     |     100 |      100 |     100 |     100 |                   
  utils.js                        |     100 |      100 |     100 |     100 |                   
----------------------------------|---------|----------|---------|---------|-------------------
************* run test done *************
semantic-release is testing ./VariantsDeps/execa/variant8/execa
************* npm unlink module *************

removed 2 packages, changed 1 package, and audited 1494 packages in 4s

147 packages are looking for funding
  run `npm fund` for details

14 vulnerabilities (6 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 709ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 401ms

1 package is looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 2 packages, changed 1 package, and audited 1497 packages in 4s

148 packages are looking for funding
  run `npm fund` for details

14 vulnerabilities (6 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm link module done *************
************* start run test *************

> semantic-release@0.0.0-development pretest
> npm run lint


> semantic-release@0.0.0-development lint
> xo


> semantic-release@0.0.0-development test
> nyc ava -v


  Uncaught exception in test/get-commits.test.js

  test/get-commits.test.js:3

   2: const {stub} = require('sinon');                                          
   3: const getCommits = require('../lib/get-commits');                         
   4: const {gitRepo, gitCommits, gitDetachedHead} = require('./helpers/git-uti…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant8/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/get-commits.js:2:218)
  › Object.<anonymous> (test/get-commits.test.js:3:20)

  ✖ test/get-commits.test.js exited with a non-zero exit code: 1
  ✖ cli › Pass options to semantic-release API Rejected promise returned by test
  ✖ cli › Pass options to semantic-release API with alias arguments Rejected promise returned by test
  ✖ cli › Pass unknown options to semantic-release API Rejected promise returned by test
  ✖ cli › Pass empty Array to semantic-release API for list option set to "false" Rejected promise returned by test
  ✖ cli › Do not set properties in option for which arg is not in command line Rejected promise returned by test
  ✔ cli › Display help
  ✔ cli › Return error exitCode and prints help if called with a command
  ✔ cli › Return error exitCode if multiple plugin are set for single plugin
  ✖ cli › Return error exitCode if semantic-release throw error 
  ✖ cli › Hide sensitive environment variable values from the logs 

  Uncaught exception in test/get-config.test.js

  test/get-config.test.js:9

   8: const yaml = require('js-yaml');                                          
   9: const {gitRepo, gitTagVersion, gitCommits, gitShallowClone, gitAddConfig}…
   10:                                                                           

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant8/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/helpers/git-utils.js:2:15)
  › Object.<anonymous> (test/get-config.test.js:9:77)

  ✖ test/get-config.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/get-git-auth-url.test.js

  test/get-git-auth-url.test.js:2

   1: const test = require('ava');                          
   2: const getAuthUrl = require('../lib/get-git-auth-url');
   3: const {gitRepo} = require('./helpers/git-utils');     

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant8/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/get-git-auth-url.js:3:171)
  › Object.<anonymous> (test/get-git-auth-url.test.js:2:20)

  ✖ test/get-git-auth-url.test.js exited with a non-zero exit code: 1
  ✔ get-last-release › Get the highest non-prerelease valid tag
  ✔ get-last-release › Get the highest prerelease valid tag, ignoring other tags from other prerelease channels
  ✔ get-last-release › Return empty object if no valid tag is found
  ✔ get-last-release › Get the highest non-prerelease valid tag before a certain version
  ✔ get-logger › Expose "error", "success" and "log" functions
  ✔ get-next-version › Increase version for patch release
  ✔ get-next-version › Increase version for minor release
  ✔ get-next-version › Increase version for major release
  ✔ get-next-version › Return 1.0.0 if there is no previous release
  ✔ get-next-version › Increase version for patch release on prerelease branch
  ✔ get-next-version › Increase version for minor release on prerelease branch
  ✔ get-next-version › Increase version for major release on prerelease branch
  ✔ get-next-version › Return 1.0.0 if there is no previous release on prerelease branch
  ✔ get-next-version › Increase version for release on prerelease branch after previous commits were merged to release branch
  ✔ get-next-version › Increase version for release on prerelease branch based on highest commit type since last regular release
  ✔ get-next-version › Increase version for release on prerelease branch when there is no regular releases on other branches
  ✔ get-release-to-add › Return versions merged from release to maintenance branch, excluding lower than branch start range
  ✔ get-release-to-add › Return versions merged between release branches
  ✔ get-release-to-add › Return releases sorted by ascending order
  ✔ get-release-to-add › No lastRelease
  ✔ get-release-to-add › Ignore pre-release versions
  ✔ get-release-to-add › Exclude versions merged from release to maintenance branch if they have the same "channel"
  ✔ get-release-to-add › Exclude versions merged between release branches if they have the same "channel"
  ✔ get-release-to-add › Exclude versions merged between release branches if they all have "channel" set to "false"
  ✔ get-release-to-add › Exclude versions number less than the latest version already released on that branch

  Uncaught exception in test/git.test.js

  test/git.test.js:19

   18:   fetchNotes,             
   19: } = require('../lib/git');
   20: const {                   

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant8/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (test/git.test.js:19:5)

  ✖ test/git.test.js exited with a non-zero exit code: 1
  ✔ hide-sensitive › Replace multiple sensitive environment variable values
  ✔ hide-sensitive › Replace multiple occurences of sensitive environment variable values
  ✔ hide-sensitive › Replace sensitive environment variable matching specific regex for "private"
  ✔ hide-sensitive › Replace url-encoded environment variable
  ✔ hide-sensitive › Escape regexp special characters
  ✔ hide-sensitive › Escape regexp special characters in url-encoded environment variable
  ✔ hide-sensitive › Accept "undefined" input
  ✔ hide-sensitive › Return same string if no environment variable has to be replaced
  ✔ hide-sensitive › Exclude empty environment variables from the regexp
  ✔ hide-sensitive › Exclude empty environment variables from the regexp if there is only empty ones
  ✔ hide-sensitive › Exclude nonsensitive GOPRIVATE environment variable for Golang projects from the regexp
  ✔ hide-sensitive › Exclude environment variables with value shorter than SECRET_MIN_SIZE from the regexp

  Uncaught exception in test/index.test.js

  test/index.test.js:24

   23:   gitGetNote,                      
   24: } = require('./helpers/git-utils');
   25:                                    

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant8/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/helpers/git-utils.js:2:15)
  › Object.<anonymous> (test/index.test.js:24:5)

  ✖ test/index.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/integration.test.js

  test/integration.test.js:6

   5: const {writeJson, readJson} = require('fs-extra');       
   6: const execa = require('execa');                          
   7: const {WritableStreamBuffer} = require('stream-buffers');

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant8/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/integration.test.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/integration.test.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/integration.test.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/integration.test.js:6:15)

  ✖ test/integration.test.js exited with a non-zero exit code: 1
  ✔ utils › getLatestVersion
  ✔ utils › getEarliestVersion
  ✔ utils › extractErrors
  ✔ utils › tagsToVersions
  ✔ utils › isMajorRange
  ✔ utils › isMaintenanceRange
  ✔ utils › getUpperBound
  ✔ utils › getLowerBound
  ✔ utils › highest
  ✔ utils › lowest
  ✔ utils › getFirstVersion
  ✔ utils › getRange
  ✔ utils › makeTag
  ✔ utils › isSameChannel

  Uncaught exception in test/verify.test.js

  test/verify.test.js:3

   2: const tempy = require('tempy');                  
   3: const verify = require('../lib/verify');         
   4: const {gitRepo} = require('./helpers/git-utils');

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant8/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/verify.js:2:305)
  › Object.<anonymous> (test/verify.test.js:3:16)

  ✖ test/verify.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/branches/expand.test.js

  test/branches/expand.test.js:2

   1: const test = require('ava');                                              
   2: const expand = require('../../lib/branches/expand');                      
   3: const {gitRepo, gitCommits, gitCheckout, gitPush} = require('../helpers/g…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant8/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/branches/expand.js:2:292)
  › Object.<anonymous> (test/branches/expand.test.js:2:16)

  ✖ test/branches/expand.test.js exited with a non-zero exit code: 1
  ✖ branches › branches › Enforce ranges with branching release workflow Rejected promise returned by test
  ✖ branches › branches › Throw SemanticReleaseError for invalid configurations Rejected promise returned by test
  ✖ branches › branches › Throw a SemanticReleaseError if there is duplicate branches Rejected promise returned by test
  ✖ branches › branches › Throw a SemanticReleaseError for each invalid branch name Rejected promise returned by test

  Uncaught exception in test/branches/get-tags.test.js

  test/branches/get-tags.test.js:2

   1: const test = require('ava');                                              
   2: const getTags = require('../../lib/branches/get-tags');                   
   3: const {gitRepo, gitCommits, gitTagVersion, gitCheckout, gitAddNote} = req…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant8/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/branches/get-tags.js:2:407)
  › Object.<anonymous> (test/branches/get-tags.test.js:2:17)

  ✖ test/branches/get-tags.test.js exited with a non-zero exit code: 1
  ✔ branches › normalize › Maintenance branches - initial state
  ✔ branches › normalize › Maintenance branches - cap range to first release present on default branch and not in any Maintenance one
  ✔ branches › normalize › Maintenance branches - cap range to default branch last release if all release are also present on maintenance branch
  ✔ branches › normalize › Release branches - initial state
  ✔ branches › normalize › Release branches - 3 release branches
  ✔ branches › normalize › Release branches - 2 release branches
  ✔ branches › normalize › Release branches - 1 release branches
  ✔ branches › normalize › Release branches - cap ranges to first release only present on following branch
  ✔ branches › normalize › Release branches - Handle missing previous tags in branch history
  ✔ branches › normalize › Release branches - limit releases on 2nd and 3rd branch based on 1st branch last release
  ✔ branches › normalize › Prerelease branches
  ✔ branches › normalize › Allow to set channel to "false" to prevent default
  ✔ definitions › branches › A "maintenance" branch is identified by having a "range" property or a "name" formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › A "maintenance" branches must have a "range" property formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › The "maintenance" branches must have unique ranges
  ✔ definitions › branches › A "prerelease" branch is identified by having a thruthy "prerelease" property
  ✔ definitions › branches › A "prerelease" branch must have a valid prerelease detonation in "prerelease" property or in "name" if "prerelease" is "true"
  ✔ definitions › branches › The "prerelease" branches must have unique "prerelease" property
  ✔ definitions › branches › A "release" branch is identified by not havin a "range" or "prerelease" property or a "name" formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › There must be between 1 and 3 release branches

  Uncaught exception in test/definitions/plugins.test.js

  test/definitions/plugins.test.js:2

   1: const test = require('ava');                                              
   2: const plugins = require('../../lib/definitions/plugins');                 
   3: const {RELEASE_NOTES_SEPARATOR, SECRET_REPLACEMENT} = require('../../lib/…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant8/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (test/definitions/plugins.test.js:2:17)

  ✖ test/definitions/plugins.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/plugins/normalize.test.js

  test/plugins/normalize.test.js:4

   3: const {stub} = require('sinon');                         
   4: const normalize = require('../../lib/plugins/normalize');
   5:                                                          

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant8/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (lib/plugins/normalize.js:2:454)
  › Object.<anonymous> (test/plugins/normalize.test.js:4:19)

  ✖ test/plugins/normalize.test.js exited with a non-zero exit code: 1
  ✔ plugins › pipeline › Throw all errors from all steps throwing an AggregateError
  ✔ plugins › pipeline › Stop execution and throw error if a step rejects
  ✔ plugins › pipeline › Throw all errors from the first step throwing an AggregateError
  ✔ plugins › pipeline › Execute each function in series passing the same input
  ✔ plugins › pipeline › Execute all even if a Promise rejects
  ✔ plugins › pipeline › Execute each function in series passing a transformed input from "getNextInput"
  ✔ plugins › pipeline › Execute each function in series passing the "lastResult" and "result" to "getNextInput"
  ✔ plugins › pipeline › Execute each function in series calling "transform" to modify the results
  ✔ plugins › pipeline › Execute each function in series calling "transform" to modify the results with "settleAll"
  ✔ plugins › pipeline › Execute each function in series passing a transformed input even if a step rejects
  ✔ plugins › utils › validatePlugin
  ✔ plugins › utils › validateStep: optional plugin configuration
  ✔ plugins › utils › validateStep: required plugin configuration
  ✔ plugins › utils › loadPlugin
  ✔ plugins › utils › parseConfig

  Uncaught exception in test/plugins/plugins.test.js

  test/plugins/plugins.test.js:6

   5: const tempy = require('tempy');                 
   6: const getPlugins = require('../../lib/plugins');
   7:                                                 

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant8/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (lib/plugins/index.js:2:386)
  › Object.<anonymous> (test/plugins/plugins.test.js:6:20)

  ✖ test/plugins/plugins.test.js exited with a non-zero exit code: 1
  ─

  cli › Pass options to semantic-release API

  test/cli.test.js:70

   69:                                                                          
   70:   t.deepEqual(run.args[0][0].branches, ['master', 'next']);              
   71:   t.is(run.args[0][0].repositoryUrl, 'https://github/com/owner/repo.git'…

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:70:26



  cli › Pass options to semantic-release API with alias arguments

  test/cli.test.js:112

   111:                                                                         
   112:   t.deepEqual(run.args[0][0].branches, ['master']);                     
   113:   t.is(run.args[0][0].repositoryUrl, 'https://github/com/owner/repo.git…

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:112:26



  cli › Pass unknown options to semantic-release API

  test/cli.test.js:129

   128:                                              
   129:   t.is(run.args[0][0].bool, true);           
   130:   t.is(run.args[0][0].firstOption, 'value1');

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:129:19



  cli › Pass empty Array to semantic-release API for list option set to "false"

  test/cli.test.js:143

   142:                                           
   143:   t.deepEqual(run.args[0][0].publish, []);
   144:                                           

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:143:26



  cli › Do not set properties in option for which arg is not in command line

  test/cli.test.js:155

   154:                                   
   155:   t.false('ci' in run.args[0][0]);
   156:   t.false('d' in run.args[0][0]); 

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:155:30



  cli › Return error exitCode if semantic-release throw error

  test/cli.test.js:207

   206:                                                       
   207:   t.regex(t.context.errors, /semantic-release error/);
   208:   t.is(exitCode, 1);                                  

  Value must match expression:

  `Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant8/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/git.js:2:264)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/get-config.js:2:512)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/index.js:2:622)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Proxyquire._require (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mproxyquire[24m/lib/proxyquire.js:188:36)␊
      at module.exports (/data/js-variants/multee/Clients/execa/semantic-release/cli.js:7:110)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/test/cli.test.js:205:26␊
      at Test.callFn (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:622:21)␊
      at Test.run (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:635:23)␊
      at Runner.runSingle (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:299:33)␊
      at Runner.runTest (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:376:30)␊
      at async /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:508:24␊
      at async Promise.all (index 1)␊
      at async Runner.start (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:547:15) {␊
    code: [32m'ERR_REQUIRE_ESM'[39m␊
  }`

  Regular expression:

  /semantic-release error/

  › test/cli.test.js:207:5



  cli › Hide sensitive environment variable values from the logs

  test/cli.test.js:219

   218:                                                                         
   219:   t.regex(t.context.errors, new RegExp(`Throw error: Exposing token ${e…
   220:   t.is(exitCode, 1);                                                    

  Value must match expression:

  `Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant8/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/git.js:2:264)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/get-config.js:2:512)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/index.js:2:622)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Proxyquire._require (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mproxyquire[24m/lib/proxyquire.js:188:36)␊
      at module.exports (/data/js-variants/multee/Clients/execa/semantic-release/cli.js:7:110)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/test/cli.test.js:217:26␊
      at Test.callFn (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:622:21)␊
      at Test.run (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:635:23)␊
      at Runner.runSingle (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:299:33)␊
      at Runner.runTest (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:376:30)␊
      at async Promise.all (index 1)␊
      at async Runner.start (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:547:15) {␊
    code: [32m'ERR_REQUIRE_ESM'[39m␊
  }`

  Regular expression:

  /Throw error: Exposing token \[secure\]/

  › test/cli.test.js:219:5



  branches › branches › Enforce ranges with branching release workflow

  test/branches/branches.test.js:25

   24:   ];                                                                     
   25:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': ()…
   26:                                                                          

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant8/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:25:23



  branches › branches › Throw SemanticReleaseError for invalid configurations

  test/branches/branches.test.js:202

   201:   ];                                                                    
   202:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   203:   const errors = [...(await t.throwsAsync(getBranches('repositoryUrl', …

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant8/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:202:23



  branches › branches › Throw a SemanticReleaseError if there is duplicate branches

  test/branches/branches.test.js:232

   231:   ];                                                                    
   232:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   233:                                                                         

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant8/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:232:23



  branches › branches › Throw a SemanticReleaseError for each invalid branch name

  test/branches/branches.test.js:247

   246:   ];                                                                    
   247:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   248:                                                                         

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant8/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:247:23

  ─

  11 tests failed
  12 uncaught exceptions
----------------------------------|---------|----------|---------|---------|-------------------
File                              | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
----------------------------------|---------|----------|---------|---------|-------------------
All files                         |   36.17 |    40.67 |   33.85 |   35.78 |                   
 semantic-release                 |   16.96 |    13.95 |   33.33 |   16.77 |                   
  cli.js                          |   95.24 |      100 |     100 |      95 | 56                
  index.js                        |       6 |        0 |       0 |    6.12 | 10-279            
 semantic-release/lib             |   41.95 |    45.64 |   46.75 |   40.93 |                   
  get-commits.js                  |      20 |        0 |       0 |      20 | 11-22             
  get-config.js                   |   16.22 |        0 |       0 |   16.22 | 7-89              
  get-error.js                    |      60 |        0 |       0 |      60 | 5-6               
  get-git-auth-url.js             |     8.7 |        0 |       0 |    9.09 | 5-121             
  get-last-release.js             |     100 |      100 |     100 |     100 |                   
  get-logger.js                   |     100 |      100 |     100 |     100 |                   
  get-next-version.js             |     100 |      100 |     100 |     100 |                   
  get-release-to-add.js           |     100 |      100 |     100 |     100 |                   
  git.js                          |    5.77 |        0 |       0 |    5.77 | 4-331             
  hide-sensitive.js               |     100 |      100 |     100 |     100 |                   
  utils.js                        |   81.82 |    95.74 |   86.36 |   78.57 | 10-17             
  verify.js                       |      15 |        0 |       0 |      15 | 4-41              
 semantic-release/lib/branches    |   44.32 |    53.97 |   29.17 |   44.83 |                   
  expand.js                       |      30 |        0 |       0 |   33.33 | 5-13              
  get-tags.js                     |   38.46 |        0 |       0 |   38.46 | 7-29              
  index.js                        |   15.38 |        0 |       0 |   15.38 | 7-70              
  normalize.js                    |   96.15 |    97.14 |     100 |   96.15 | 60                
 semantic-release/lib/definitions |   38.14 |    32.56 |      15 |   37.89 |                   
  branches.js                     |     100 |    93.33 |     100 |     100 | 7                 
  constants.js                    |     100 |      100 |     100 |     100 |                   
  errors.js                       |   24.32 |        0 |       0 |      25 | 8,11,14-224       
  plugins.js                      |    5.88 |        0 |       0 |    5.88 | 5-106             
 semantic-release/lib/plugins     |   42.64 |    47.86 |   47.37 |   42.52 |                   
  index.js                        |     9.3 |        0 |       0 |     9.3 | 5-92              
  normalize.js                    |    12.5 |        0 |       0 |   12.82 | 6-66              
  pipeline.js                     |     100 |      100 |     100 |     100 |                   
  utils.js                        |     100 |      100 |     100 |     100 |                   
----------------------------------|---------|----------|---------|---------|-------------------
************* run test done *************
semantic-release is testing ./VariantsDeps/execa/variant7/execa
************* npm unlink module *************

removed 2 packages, changed 1 package, and audited 1494 packages in 4s

147 packages are looking for funding
  run `npm fund` for details

14 vulnerabilities (6 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 782ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 395ms

1 package is looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 2 packages, changed 1 package, and audited 1497 packages in 4s

148 packages are looking for funding
  run `npm fund` for details

14 vulnerabilities (6 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm link module done *************
************* start run test *************

> semantic-release@0.0.0-development pretest
> npm run lint


> semantic-release@0.0.0-development lint
> xo


> semantic-release@0.0.0-development test
> nyc ava -v


  Uncaught exception in test/get-commits.test.js

  test/get-commits.test.js:3

   2: const {stub} = require('sinon');                                          
   3: const getCommits = require('../lib/get-commits');                         
   4: const {gitRepo, gitCommits, gitDetachedHead} = require('./helpers/git-uti…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant7/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/get-commits.js:2:218)
  › Object.<anonymous> (test/get-commits.test.js:3:20)

  ✖ test/get-commits.test.js exited with a non-zero exit code: 1
  ✖ cli › Pass options to semantic-release API Rejected promise returned by test
  ✖ cli › Pass options to semantic-release API with alias arguments Rejected promise returned by test
  ✖ cli › Pass unknown options to semantic-release API Rejected promise returned by test
  ✖ cli › Pass empty Array to semantic-release API for list option set to "false" Rejected promise returned by test
  ✖ cli › Do not set properties in option for which arg is not in command line Rejected promise returned by test
  ✔ cli › Display help
  ✔ cli › Return error exitCode and prints help if called with a command
  ✔ cli › Return error exitCode if multiple plugin are set for single plugin
  ✖ cli › Return error exitCode if semantic-release throw error 
  ✖ cli › Hide sensitive environment variable values from the logs 

  Uncaught exception in test/get-config.test.js

  test/get-config.test.js:9

   8: const yaml = require('js-yaml');                                          
   9: const {gitRepo, gitTagVersion, gitCommits, gitShallowClone, gitAddConfig}…
   10:                                                                           

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant7/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/helpers/git-utils.js:2:15)
  › Object.<anonymous> (test/get-config.test.js:9:77)

  ✖ test/get-config.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/get-git-auth-url.test.js

  test/get-git-auth-url.test.js:2

   1: const test = require('ava');                          
   2: const getAuthUrl = require('../lib/get-git-auth-url');
   3: const {gitRepo} = require('./helpers/git-utils');     

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant7/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/get-git-auth-url.js:3:171)
  › Object.<anonymous> (test/get-git-auth-url.test.js:2:20)

  ✖ test/get-git-auth-url.test.js exited with a non-zero exit code: 1
  ✔ get-last-release › Get the highest non-prerelease valid tag
  ✔ get-last-release › Get the highest prerelease valid tag, ignoring other tags from other prerelease channels
  ✔ get-last-release › Return empty object if no valid tag is found
  ✔ get-last-release › Get the highest non-prerelease valid tag before a certain version
  ✔ get-logger › Expose "error", "success" and "log" functions
  ✔ get-next-version › Increase version for patch release
  ✔ get-next-version › Increase version for minor release
  ✔ get-next-version › Increase version for major release
  ✔ get-next-version › Return 1.0.0 if there is no previous release
  ✔ get-next-version › Increase version for patch release on prerelease branch
  ✔ get-next-version › Increase version for minor release on prerelease branch
  ✔ get-next-version › Increase version for major release on prerelease branch
  ✔ get-next-version › Return 1.0.0 if there is no previous release on prerelease branch
  ✔ get-next-version › Increase version for release on prerelease branch after previous commits were merged to release branch
  ✔ get-next-version › Increase version for release on prerelease branch based on highest commit type since last regular release
  ✔ get-next-version › Increase version for release on prerelease branch when there is no regular releases on other branches

  Uncaught exception in test/git.test.js

  test/git.test.js:19

   18:   fetchNotes,             
   19: } = require('../lib/git');
   20: const {                   

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant7/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (test/git.test.js:19:5)

  ✔ get-release-to-add › Return versions merged from release to maintenance branch, excluding lower than branch start range
  ✔ get-release-to-add › Return versions merged between release branches
  ✔ get-release-to-add › Return releases sorted by ascending order
  ✔ get-release-to-add › No lastRelease
  ✔ get-release-to-add › Ignore pre-release versions
  ✔ get-release-to-add › Exclude versions merged from release to maintenance branch if they have the same "channel"
  ✔ get-release-to-add › Exclude versions merged between release branches if they have the same "channel"
  ✔ get-release-to-add › Exclude versions merged between release branches if they all have "channel" set to "false"
  ✔ get-release-to-add › Exclude versions number less than the latest version already released on that branch
  ✖ test/git.test.js exited with a non-zero exit code: 1
  ✔ hide-sensitive › Replace multiple sensitive environment variable values
  ✔ hide-sensitive › Replace multiple occurences of sensitive environment variable values
  ✔ hide-sensitive › Replace sensitive environment variable matching specific regex for "private"
  ✔ hide-sensitive › Replace url-encoded environment variable
  ✔ hide-sensitive › Escape regexp special characters
  ✔ hide-sensitive › Escape regexp special characters in url-encoded environment variable
  ✔ hide-sensitive › Accept "undefined" input
  ✔ hide-sensitive › Return same string if no environment variable has to be replaced
  ✔ hide-sensitive › Exclude empty environment variables from the regexp
  ✔ hide-sensitive › Exclude empty environment variables from the regexp if there is only empty ones
  ✔ hide-sensitive › Exclude nonsensitive GOPRIVATE environment variable for Golang projects from the regexp
  ✔ hide-sensitive › Exclude environment variables with value shorter than SECRET_MIN_SIZE from the regexp

  Uncaught exception in test/index.test.js

  test/index.test.js:24

   23:   gitGetNote,                      
   24: } = require('./helpers/git-utils');
   25:                                    

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant7/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/helpers/git-utils.js:2:15)
  › Object.<anonymous> (test/index.test.js:24:5)

  ✖ test/index.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/integration.test.js

  test/integration.test.js:6

   5: const {writeJson, readJson} = require('fs-extra');       
   6: const execa = require('execa');                          
   7: const {WritableStreamBuffer} = require('stream-buffers');

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant7/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/integration.test.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/integration.test.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/integration.test.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/integration.test.js:6:15)

  ✖ test/integration.test.js exited with a non-zero exit code: 1
  ✔ utils › getLatestVersion
  ✔ utils › getEarliestVersion
  ✔ utils › extractErrors
  ✔ utils › tagsToVersions
  ✔ utils › isMajorRange
  ✔ utils › isMaintenanceRange
  ✔ utils › getUpperBound
  ✔ utils › getLowerBound
  ✔ utils › highest
  ✔ utils › lowest
  ✔ utils › getFirstVersion
  ✔ utils › getRange
  ✔ utils › makeTag
  ✔ utils › isSameChannel

  Uncaught exception in test/verify.test.js

  test/verify.test.js:3

   2: const tempy = require('tempy');                  
   3: const verify = require('../lib/verify');         
   4: const {gitRepo} = require('./helpers/git-utils');

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant7/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/verify.js:2:305)
  › Object.<anonymous> (test/verify.test.js:3:16)

  ✖ test/verify.test.js exited with a non-zero exit code: 1
  ✖ branches › branches › Enforce ranges with branching release workflow Rejected promise returned by test
  ✖ branches › branches › Throw SemanticReleaseError for invalid configurations Rejected promise returned by test
  ✖ branches › branches › Throw a SemanticReleaseError if there is duplicate branches Rejected promise returned by test
  ✖ branches › branches › Throw a SemanticReleaseError for each invalid branch name Rejected promise returned by test

  Uncaught exception in test/branches/expand.test.js

  test/branches/expand.test.js:2

   1: const test = require('ava');                                              
   2: const expand = require('../../lib/branches/expand');                      
   3: const {gitRepo, gitCommits, gitCheckout, gitPush} = require('../helpers/g…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant7/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/branches/expand.js:2:292)
  › Object.<anonymous> (test/branches/expand.test.js:2:16)

  ✖ test/branches/expand.test.js exited with a non-zero exit code: 1
  ✔ branches › normalize › Maintenance branches - initial state
  ✔ branches › normalize › Maintenance branches - cap range to first release present on default branch and not in any Maintenance one
  ✔ branches › normalize › Maintenance branches - cap range to default branch last release if all release are also present on maintenance branch
  ✔ branches › normalize › Release branches - initial state
  ✔ branches › normalize › Release branches - 3 release branches
  ✔ branches › normalize › Release branches - 2 release branches
  ✔ branches › normalize › Release branches - 1 release branches
  ✔ branches › normalize › Release branches - cap ranges to first release only present on following branch
  ✔ branches › normalize › Release branches - Handle missing previous tags in branch history
  ✔ branches › normalize › Release branches - limit releases on 2nd and 3rd branch based on 1st branch last release
  ✔ branches › normalize › Prerelease branches
  ✔ branches › normalize › Allow to set channel to "false" to prevent default

  Uncaught exception in test/branches/get-tags.test.js

  test/branches/get-tags.test.js:2

   1: const test = require('ava');                                              
   2: const getTags = require('../../lib/branches/get-tags');                   
   3: const {gitRepo, gitCommits, gitTagVersion, gitCheckout, gitAddNote} = req…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant7/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/branches/get-tags.js:2:407)
  › Object.<anonymous> (test/branches/get-tags.test.js:2:17)

  ✖ test/branches/get-tags.test.js exited with a non-zero exit code: 1
  ✔ definitions › branches › A "maintenance" branch is identified by having a "range" property or a "name" formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › A "maintenance" branches must have a "range" property formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › The "maintenance" branches must have unique ranges
  ✔ definitions › branches › A "prerelease" branch is identified by having a thruthy "prerelease" property
  ✔ definitions › branches › A "prerelease" branch must have a valid prerelease detonation in "prerelease" property or in "name" if "prerelease" is "true"
  ✔ definitions › branches › The "prerelease" branches must have unique "prerelease" property
  ✔ definitions › branches › A "release" branch is identified by not havin a "range" or "prerelease" property or a "name" formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › There must be between 1 and 3 release branches

  Uncaught exception in test/definitions/plugins.test.js

  test/definitions/plugins.test.js:2

   1: const test = require('ava');                                              
   2: const plugins = require('../../lib/definitions/plugins');                 
   3: const {RELEASE_NOTES_SEPARATOR, SECRET_REPLACEMENT} = require('../../lib/…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant7/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (test/definitions/plugins.test.js:2:17)

  ✖ test/definitions/plugins.test.js exited with a non-zero exit code: 1
  ✔ plugins › pipeline › Throw all errors from all steps throwing an AggregateError

  Uncaught exception in test/plugins/normalize.test.js

  test/plugins/normalize.test.js:4

   3: const {stub} = require('sinon');                         
   4: const normalize = require('../../lib/plugins/normalize');
   5:                                                          

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant7/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (lib/plugins/normalize.js:2:454)
  › Object.<anonymous> (test/plugins/normalize.test.js:4:19)

  ✔ plugins › pipeline › Stop execution and throw error if a step rejects
  ✔ plugins › pipeline › Throw all errors from the first step throwing an AggregateError
  ✔ plugins › pipeline › Execute each function in series passing the same input
  ✔ plugins › pipeline › Execute all even if a Promise rejects
  ✔ plugins › pipeline › Execute each function in series passing a transformed input from "getNextInput"
  ✔ plugins › pipeline › Execute each function in series passing the "lastResult" and "result" to "getNextInput"
  ✔ plugins › pipeline › Execute each function in series calling "transform" to modify the results
  ✔ plugins › pipeline › Execute each function in series calling "transform" to modify the results with "settleAll"
  ✔ plugins › pipeline › Execute each function in series passing a transformed input even if a step rejects
  ✖ test/plugins/normalize.test.js exited with a non-zero exit code: 1
  ✔ plugins › utils › validatePlugin
  ✔ plugins › utils › validateStep: optional plugin configuration
  ✔ plugins › utils › validateStep: required plugin configuration
  ✔ plugins › utils › loadPlugin
  ✔ plugins › utils › parseConfig

  Uncaught exception in test/plugins/plugins.test.js

  test/plugins/plugins.test.js:6

   5: const tempy = require('tempy');                 
   6: const getPlugins = require('../../lib/plugins');
   7:                                                 

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant7/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (lib/plugins/index.js:2:386)
  › Object.<anonymous> (test/plugins/plugins.test.js:6:20)

  ✖ test/plugins/plugins.test.js exited with a non-zero exit code: 1
  ─

  cli › Pass options to semantic-release API

  test/cli.test.js:70

   69:                                                                          
   70:   t.deepEqual(run.args[0][0].branches, ['master', 'next']);              
   71:   t.is(run.args[0][0].repositoryUrl, 'https://github/com/owner/repo.git'…

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:70:26



  cli › Pass options to semantic-release API with alias arguments

  test/cli.test.js:112

   111:                                                                         
   112:   t.deepEqual(run.args[0][0].branches, ['master']);                     
   113:   t.is(run.args[0][0].repositoryUrl, 'https://github/com/owner/repo.git…

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:112:26



  cli › Pass unknown options to semantic-release API

  test/cli.test.js:129

   128:                                              
   129:   t.is(run.args[0][0].bool, true);           
   130:   t.is(run.args[0][0].firstOption, 'value1');

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:129:19



  cli › Pass empty Array to semantic-release API for list option set to "false"

  test/cli.test.js:143

   142:                                           
   143:   t.deepEqual(run.args[0][0].publish, []);
   144:                                           

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:143:26



  cli › Do not set properties in option for which arg is not in command line

  test/cli.test.js:155

   154:                                   
   155:   t.false('ci' in run.args[0][0]);
   156:   t.false('d' in run.args[0][0]); 

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:155:30



  cli › Return error exitCode if semantic-release throw error

  test/cli.test.js:207

   206:                                                       
   207:   t.regex(t.context.errors, /semantic-release error/);
   208:   t.is(exitCode, 1);                                  

  Value must match expression:

  `Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant7/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/git.js:2:264)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/get-config.js:2:512)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/index.js:2:622)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Proxyquire._require (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mproxyquire[24m/lib/proxyquire.js:188:36)␊
      at module.exports (/data/js-variants/multee/Clients/execa/semantic-release/cli.js:7:110)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/test/cli.test.js:205:26␊
      at Test.callFn (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:622:21)␊
      at Test.run (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:635:23)␊
      at Runner.runSingle (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:299:33)␊
      at Runner.runTest (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:376:30)␊
      at async /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:508:24␊
      at async Promise.all (index 1)␊
      at async Runner.start (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:547:15) {␊
    code: [32m'ERR_REQUIRE_ESM'[39m␊
  }`

  Regular expression:

  /semantic-release error/

  › test/cli.test.js:207:5



  cli › Hide sensitive environment variable values from the logs

  test/cli.test.js:219

   218:                                                                         
   219:   t.regex(t.context.errors, new RegExp(`Throw error: Exposing token ${e…
   220:   t.is(exitCode, 1);                                                    

  Value must match expression:

  `Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant7/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/git.js:2:264)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/get-config.js:2:512)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/index.js:2:622)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Proxyquire._require (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mproxyquire[24m/lib/proxyquire.js:188:36)␊
      at module.exports (/data/js-variants/multee/Clients/execa/semantic-release/cli.js:7:110)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/test/cli.test.js:217:26␊
      at Test.callFn (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:622:21)␊
      at Test.run (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:635:23)␊
      at Runner.runSingle (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:299:33)␊
      at Runner.runTest (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:376:30)␊
      at async Promise.all (index 1)␊
      at async Runner.start (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:547:15) {␊
    code: [32m'ERR_REQUIRE_ESM'[39m␊
  }`

  Regular expression:

  /Throw error: Exposing token \[secure\]/

  › test/cli.test.js:219:5



  branches › branches › Enforce ranges with branching release workflow

  test/branches/branches.test.js:25

   24:   ];                                                                     
   25:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': ()…
   26:                                                                          

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant7/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:25:23



  branches › branches › Throw SemanticReleaseError for invalid configurations

  test/branches/branches.test.js:202

   201:   ];                                                                    
   202:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   203:   const errors = [...(await t.throwsAsync(getBranches('repositoryUrl', …

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant7/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:202:23



  branches › branches › Throw a SemanticReleaseError if there is duplicate branches

  test/branches/branches.test.js:232

   231:   ];                                                                    
   232:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   233:                                                                         

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant7/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:232:23



  branches › branches › Throw a SemanticReleaseError for each invalid branch name

  test/branches/branches.test.js:247

   246:   ];                                                                    
   247:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   248:                                                                         

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant7/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:247:23

  ─

  11 tests failed
  12 uncaught exceptions
----------------------------------|---------|----------|---------|---------|-------------------
File                              | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
----------------------------------|---------|----------|---------|---------|-------------------
All files                         |   36.17 |    40.67 |   33.85 |   35.78 |                   
 semantic-release                 |   16.96 |    13.95 |   33.33 |   16.77 |                   
  cli.js                          |   95.24 |      100 |     100 |      95 | 56                
  index.js                        |       6 |        0 |       0 |    6.12 | 10-279            
 semantic-release/lib             |   41.95 |    45.64 |   46.75 |   40.93 |                   
  get-commits.js                  |      20 |        0 |       0 |      20 | 11-22             
  get-config.js                   |   16.22 |        0 |       0 |   16.22 | 7-89              
  get-error.js                    |      60 |        0 |       0 |      60 | 5-6               
  get-git-auth-url.js             |     8.7 |        0 |       0 |    9.09 | 5-121             
  get-last-release.js             |     100 |      100 |     100 |     100 |                   
  get-logger.js                   |     100 |      100 |     100 |     100 |                   
  get-next-version.js             |     100 |      100 |     100 |     100 |                   
  get-release-to-add.js           |     100 |      100 |     100 |     100 |                   
  git.js                          |    5.77 |        0 |       0 |    5.77 | 4-331             
  hide-sensitive.js               |     100 |      100 |     100 |     100 |                   
  utils.js                        |   81.82 |    95.74 |   86.36 |   78.57 | 10-17             
  verify.js                       |      15 |        0 |       0 |      15 | 4-41              
 semantic-release/lib/branches    |   44.32 |    53.97 |   29.17 |   44.83 |                   
  expand.js                       |      30 |        0 |       0 |   33.33 | 5-13              
  get-tags.js                     |   38.46 |        0 |       0 |   38.46 | 7-29              
  index.js                        |   15.38 |        0 |       0 |   15.38 | 7-70              
  normalize.js                    |   96.15 |    97.14 |     100 |   96.15 | 60                
 semantic-release/lib/definitions |   38.14 |    32.56 |      15 |   37.89 |                   
  branches.js                     |     100 |    93.33 |     100 |     100 | 7                 
  constants.js                    |     100 |      100 |     100 |     100 |                   
  errors.js                       |   24.32 |        0 |       0 |      25 | 8,11,14-224       
  plugins.js                      |    5.88 |        0 |       0 |    5.88 | 5-106             
 semantic-release/lib/plugins     |   42.64 |    47.86 |   47.37 |   42.52 |                   
  index.js                        |     9.3 |        0 |       0 |     9.3 | 5-92              
  normalize.js                    |    12.5 |        0 |       0 |   12.82 | 6-66              
  pipeline.js                     |     100 |      100 |     100 |     100 |                   
  utils.js                        |     100 |      100 |     100 |     100 |                   
----------------------------------|---------|----------|---------|---------|-------------------
************* run test done *************
semantic-release is testing ./VariantsDeps/execa/variant6/execa
************* npm unlink module *************

removed 2 packages, changed 1 package, and audited 1494 packages in 4s

147 packages are looking for funding
  run `npm fund` for details

14 vulnerabilities (6 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 704ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 397ms

1 package is looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 2 packages, changed 1 package, and audited 1497 packages in 4s

148 packages are looking for funding
  run `npm fund` for details

14 vulnerabilities (6 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm link module done *************
************* start run test *************

> semantic-release@0.0.0-development pretest
> npm run lint


> semantic-release@0.0.0-development lint
> xo


> semantic-release@0.0.0-development test
> nyc ava -v


  Uncaught exception in test/get-commits.test.js

  test/get-commits.test.js:3

   2: const {stub} = require('sinon');                                          
   3: const getCommits = require('../lib/get-commits');                         
   4: const {gitRepo, gitCommits, gitDetachedHead} = require('./helpers/git-uti…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant6/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/get-commits.js:2:218)
  › Object.<anonymous> (test/get-commits.test.js:3:20)

  ✖ test/get-commits.test.js exited with a non-zero exit code: 1
  ✖ cli › Pass options to semantic-release API Rejected promise returned by test
  ✖ cli › Pass options to semantic-release API with alias arguments Rejected promise returned by test
  ✖ cli › Pass unknown options to semantic-release API Rejected promise returned by test
  ✖ cli › Pass empty Array to semantic-release API for list option set to "false" Rejected promise returned by test
  ✖ cli › Do not set properties in option for which arg is not in command line Rejected promise returned by test
  ✔ cli › Display help
  ✔ cli › Return error exitCode and prints help if called with a command
  ✔ cli › Return error exitCode if multiple plugin are set for single plugin
  ✖ cli › Return error exitCode if semantic-release throw error 
  ✖ cli › Hide sensitive environment variable values from the logs 

  Uncaught exception in test/get-config.test.js

  test/get-config.test.js:9

   8: const yaml = require('js-yaml');                                          
   9: const {gitRepo, gitTagVersion, gitCommits, gitShallowClone, gitAddConfig}…
   10:                                                                           

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant6/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/helpers/git-utils.js:2:15)
  › Object.<anonymous> (test/get-config.test.js:9:77)

  ✖ test/get-config.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/get-git-auth-url.test.js

  test/get-git-auth-url.test.js:2

   1: const test = require('ava');                          
   2: const getAuthUrl = require('../lib/get-git-auth-url');
   3: const {gitRepo} = require('./helpers/git-utils');     

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant6/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/get-git-auth-url.js:3:171)
  › Object.<anonymous> (test/get-git-auth-url.test.js:2:20)

  ✖ test/get-git-auth-url.test.js exited with a non-zero exit code: 1
  ✔ get-last-release › Get the highest non-prerelease valid tag
  ✔ get-last-release › Get the highest prerelease valid tag, ignoring other tags from other prerelease channels
  ✔ get-last-release › Return empty object if no valid tag is found
  ✔ get-last-release › Get the highest non-prerelease valid tag before a certain version
  ✔ get-logger › Expose "error", "success" and "log" functions
  ✔ get-next-version › Increase version for patch release
  ✔ get-next-version › Increase version for minor release
  ✔ get-next-version › Increase version for major release
  ✔ get-next-version › Return 1.0.0 if there is no previous release
  ✔ get-next-version › Increase version for patch release on prerelease branch
  ✔ get-next-version › Increase version for minor release on prerelease branch
  ✔ get-next-version › Increase version for major release on prerelease branch
  ✔ get-next-version › Return 1.0.0 if there is no previous release on prerelease branch
  ✔ get-next-version › Increase version for release on prerelease branch after previous commits were merged to release branch
  ✔ get-next-version › Increase version for release on prerelease branch based on highest commit type since last regular release
  ✔ get-next-version › Increase version for release on prerelease branch when there is no regular releases on other branches
  ✔ get-release-to-add › Return versions merged from release to maintenance branch, excluding lower than branch start range
  ✔ get-release-to-add › Return versions merged between release branches
  ✔ get-release-to-add › Return releases sorted by ascending order
  ✔ get-release-to-add › No lastRelease
  ✔ get-release-to-add › Ignore pre-release versions
  ✔ get-release-to-add › Exclude versions merged from release to maintenance branch if they have the same "channel"
  ✔ get-release-to-add › Exclude versions merged between release branches if they have the same "channel"
  ✔ get-release-to-add › Exclude versions merged between release branches if they all have "channel" set to "false"
  ✔ get-release-to-add › Exclude versions number less than the latest version already released on that branch

  Uncaught exception in test/git.test.js

  test/git.test.js:19

   18:   fetchNotes,             
   19: } = require('../lib/git');
   20: const {                   

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant6/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (test/git.test.js:19:5)

  ✖ test/git.test.js exited with a non-zero exit code: 1
  ✔ hide-sensitive › Replace multiple sensitive environment variable values
  ✔ hide-sensitive › Replace multiple occurences of sensitive environment variable values
  ✔ hide-sensitive › Replace sensitive environment variable matching specific regex for "private"
  ✔ hide-sensitive › Replace url-encoded environment variable
  ✔ hide-sensitive › Escape regexp special characters
  ✔ hide-sensitive › Escape regexp special characters in url-encoded environment variable
  ✔ hide-sensitive › Accept "undefined" input
  ✔ hide-sensitive › Return same string if no environment variable has to be replaced
  ✔ hide-sensitive › Exclude empty environment variables from the regexp
  ✔ hide-sensitive › Exclude empty environment variables from the regexp if there is only empty ones
  ✔ hide-sensitive › Exclude nonsensitive GOPRIVATE environment variable for Golang projects from the regexp
  ✔ hide-sensitive › Exclude environment variables with value shorter than SECRET_MIN_SIZE from the regexp

  Uncaught exception in test/index.test.js

  test/index.test.js:24

   23:   gitGetNote,                      
   24: } = require('./helpers/git-utils');
   25:                                    

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant6/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/helpers/git-utils.js:2:15)
  › Object.<anonymous> (test/index.test.js:24:5)

  ✖ test/index.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/integration.test.js

  test/integration.test.js:6

   5: const {writeJson, readJson} = require('fs-extra');       
   6: const execa = require('execa');                          
   7: const {WritableStreamBuffer} = require('stream-buffers');

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant6/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/integration.test.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/integration.test.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/integration.test.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/integration.test.js:6:15)

  ✖ test/integration.test.js exited with a non-zero exit code: 1
  ✔ utils › getLatestVersion
  ✔ utils › getEarliestVersion
  ✔ utils › extractErrors
  ✔ utils › tagsToVersions
  ✔ utils › isMajorRange
  ✔ utils › isMaintenanceRange
  ✔ utils › getUpperBound
  ✔ utils › getLowerBound
  ✔ utils › highest
  ✔ utils › lowest
  ✔ utils › getFirstVersion
  ✔ utils › getRange
  ✔ utils › makeTag
  ✔ utils › isSameChannel

  Uncaught exception in test/verify.test.js

  test/verify.test.js:3

   2: const tempy = require('tempy');                  
   3: const verify = require('../lib/verify');         
   4: const {gitRepo} = require('./helpers/git-utils');

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant6/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/verify.js:2:305)
  › Object.<anonymous> (test/verify.test.js:3:16)

  ✖ test/verify.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/branches/expand.test.js

  test/branches/expand.test.js:2

   1: const test = require('ava');                                              
   2: const expand = require('../../lib/branches/expand');                      
   3: const {gitRepo, gitCommits, gitCheckout, gitPush} = require('../helpers/g…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant6/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/branches/expand.js:2:292)
  › Object.<anonymous> (test/branches/expand.test.js:2:16)

  ✖ test/branches/expand.test.js exited with a non-zero exit code: 1
  ✖ branches › branches › Enforce ranges with branching release workflow Rejected promise returned by test
  ✖ branches › branches › Throw SemanticReleaseError for invalid configurations Rejected promise returned by test
  ✖ branches › branches › Throw a SemanticReleaseError if there is duplicate branches Rejected promise returned by test
  ✖ branches › branches › Throw a SemanticReleaseError for each invalid branch name Rejected promise returned by test

  Uncaught exception in test/branches/get-tags.test.js

  test/branches/get-tags.test.js:2

   1: const test = require('ava');                                              
   2: const getTags = require('../../lib/branches/get-tags');                   
   3: const {gitRepo, gitCommits, gitTagVersion, gitCheckout, gitAddNote} = req…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant6/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/branches/get-tags.js:2:407)
  › Object.<anonymous> (test/branches/get-tags.test.js:2:17)

  ✖ test/branches/get-tags.test.js exited with a non-zero exit code: 1
  ✔ branches › normalize › Maintenance branches - initial state
  ✔ branches › normalize › Maintenance branches - cap range to first release present on default branch and not in any Maintenance one
  ✔ branches › normalize › Maintenance branches - cap range to default branch last release if all release are also present on maintenance branch
  ✔ branches › normalize › Release branches - initial state
  ✔ branches › normalize › Release branches - 3 release branches
  ✔ branches › normalize › Release branches - 2 release branches
  ✔ branches › normalize › Release branches - 1 release branches
  ✔ branches › normalize › Release branches - cap ranges to first release only present on following branch
  ✔ branches › normalize › Release branches - Handle missing previous tags in branch history
  ✔ branches › normalize › Release branches - limit releases on 2nd and 3rd branch based on 1st branch last release
  ✔ branches › normalize › Prerelease branches
  ✔ branches › normalize › Allow to set channel to "false" to prevent default
  ✔ definitions › branches › A "maintenance" branch is identified by having a "range" property or a "name" formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › A "maintenance" branches must have a "range" property formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › The "maintenance" branches must have unique ranges
  ✔ definitions › branches › A "prerelease" branch is identified by having a thruthy "prerelease" property
  ✔ definitions › branches › A "prerelease" branch must have a valid prerelease detonation in "prerelease" property or in "name" if "prerelease" is "true"
  ✔ definitions › branches › The "prerelease" branches must have unique "prerelease" property
  ✔ definitions › branches › A "release" branch is identified by not havin a "range" or "prerelease" property or a "name" formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › There must be between 1 and 3 release branches

  Uncaught exception in test/definitions/plugins.test.js

  test/definitions/plugins.test.js:2

   1: const test = require('ava');                                              
   2: const plugins = require('../../lib/definitions/plugins');                 
   3: const {RELEASE_NOTES_SEPARATOR, SECRET_REPLACEMENT} = require('../../lib/…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant6/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (test/definitions/plugins.test.js:2:17)

  ✖ test/definitions/plugins.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/plugins/normalize.test.js

  test/plugins/normalize.test.js:4

   3: const {stub} = require('sinon');                         
   4: const normalize = require('../../lib/plugins/normalize');
   5:                                                          

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant6/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (lib/plugins/normalize.js:2:454)
  › Object.<anonymous> (test/plugins/normalize.test.js:4:19)

  ✖ test/plugins/normalize.test.js exited with a non-zero exit code: 1
  ✔ plugins › pipeline › Throw all errors from all steps throwing an AggregateError
  ✔ plugins › pipeline › Stop execution and throw error if a step rejects
  ✔ plugins › pipeline › Throw all errors from the first step throwing an AggregateError
  ✔ plugins › pipeline › Execute each function in series passing the same input
  ✔ plugins › pipeline › Execute all even if a Promise rejects
  ✔ plugins › pipeline › Execute each function in series passing a transformed input from "getNextInput"
  ✔ plugins › pipeline › Execute each function in series passing the "lastResult" and "result" to "getNextInput"
  ✔ plugins › pipeline › Execute each function in series calling "transform" to modify the results
  ✔ plugins › pipeline › Execute each function in series calling "transform" to modify the results with "settleAll"
  ✔ plugins › pipeline › Execute each function in series passing a transformed input even if a step rejects
  ✔ plugins › utils › validatePlugin
  ✔ plugins › utils › validateStep: optional plugin configuration
  ✔ plugins › utils › validateStep: required plugin configuration
  ✔ plugins › utils › loadPlugin
  ✔ plugins › utils › parseConfig

  Uncaught exception in test/plugins/plugins.test.js

  test/plugins/plugins.test.js:6

   5: const tempy = require('tempy');                 
   6: const getPlugins = require('../../lib/plugins');
   7:                                                 

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant6/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (lib/plugins/index.js:2:386)
  › Object.<anonymous> (test/plugins/plugins.test.js:6:20)

  ✖ test/plugins/plugins.test.js exited with a non-zero exit code: 1
  ─

  cli › Pass options to semantic-release API

  test/cli.test.js:70

   69:                                                                          
   70:   t.deepEqual(run.args[0][0].branches, ['master', 'next']);              
   71:   t.is(run.args[0][0].repositoryUrl, 'https://github/com/owner/repo.git'…

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:70:26



  cli › Pass options to semantic-release API with alias arguments

  test/cli.test.js:112

   111:                                                                         
   112:   t.deepEqual(run.args[0][0].branches, ['master']);                     
   113:   t.is(run.args[0][0].repositoryUrl, 'https://github/com/owner/repo.git…

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:112:26



  cli › Pass unknown options to semantic-release API

  test/cli.test.js:129

   128:                                              
   129:   t.is(run.args[0][0].bool, true);           
   130:   t.is(run.args[0][0].firstOption, 'value1');

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:129:19



  cli › Pass empty Array to semantic-release API for list option set to "false"

  test/cli.test.js:143

   142:                                           
   143:   t.deepEqual(run.args[0][0].publish, []);
   144:                                           

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:143:26



  cli › Do not set properties in option for which arg is not in command line

  test/cli.test.js:155

   154:                                   
   155:   t.false('ci' in run.args[0][0]);
   156:   t.false('d' in run.args[0][0]); 

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:155:30



  cli › Return error exitCode if semantic-release throw error

  test/cli.test.js:207

   206:                                                       
   207:   t.regex(t.context.errors, /semantic-release error/);
   208:   t.is(exitCode, 1);                                  

  Value must match expression:

  `Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant6/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/git.js:2:264)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/get-config.js:2:512)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/index.js:2:622)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Proxyquire._require (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mproxyquire[24m/lib/proxyquire.js:188:36)␊
      at module.exports (/data/js-variants/multee/Clients/execa/semantic-release/cli.js:7:110)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/test/cli.test.js:205:26␊
      at Test.callFn (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:622:21)␊
      at Test.run (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:635:23)␊
      at Runner.runSingle (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:299:33)␊
      at Runner.runTest (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:376:30)␊
      at async /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:508:24␊
      at async Promise.all (index 1)␊
      at async Runner.start (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:547:15) {␊
    code: [32m'ERR_REQUIRE_ESM'[39m␊
  }`

  Regular expression:

  /semantic-release error/

  › test/cli.test.js:207:5



  cli › Hide sensitive environment variable values from the logs

  test/cli.test.js:219

   218:                                                                         
   219:   t.regex(t.context.errors, new RegExp(`Throw error: Exposing token ${e…
   220:   t.is(exitCode, 1);                                                    

  Value must match expression:

  `Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant6/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/git.js:2:264)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/get-config.js:2:512)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/index.js:2:622)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Proxyquire._require (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mproxyquire[24m/lib/proxyquire.js:188:36)␊
      at module.exports (/data/js-variants/multee/Clients/execa/semantic-release/cli.js:7:110)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/test/cli.test.js:217:26␊
      at Test.callFn (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:622:21)␊
      at Test.run (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:635:23)␊
      at Runner.runSingle (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:299:33)␊
      at Runner.runTest (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:376:30)␊
      at async Promise.all (index 1)␊
      at async Runner.start (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:547:15) {␊
    code: [32m'ERR_REQUIRE_ESM'[39m␊
  }`

  Regular expression:

  /Throw error: Exposing token \[secure\]/

  › test/cli.test.js:219:5



  branches › branches › Enforce ranges with branching release workflow

  test/branches/branches.test.js:25

   24:   ];                                                                     
   25:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': ()…
   26:                                                                          

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant6/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:25:23



  branches › branches › Throw SemanticReleaseError for invalid configurations

  test/branches/branches.test.js:202

   201:   ];                                                                    
   202:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   203:   const errors = [...(await t.throwsAsync(getBranches('repositoryUrl', …

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant6/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:202:23



  branches › branches › Throw a SemanticReleaseError if there is duplicate branches

  test/branches/branches.test.js:232

   231:   ];                                                                    
   232:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   233:                                                                         

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant6/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:232:23



  branches › branches › Throw a SemanticReleaseError for each invalid branch name

  test/branches/branches.test.js:247

   246:   ];                                                                    
   247:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   248:                                                                         

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant6/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:247:23

  ─

  11 tests failed
  12 uncaught exceptions
----------------------------------|---------|----------|---------|---------|-------------------
File                              | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
----------------------------------|---------|----------|---------|---------|-------------------
All files                         |   36.17 |    40.67 |   33.85 |   35.78 |                   
 semantic-release                 |   16.96 |    13.95 |   33.33 |   16.77 |                   
  cli.js                          |   95.24 |      100 |     100 |      95 | 56                
  index.js                        |       6 |        0 |       0 |    6.12 | 10-279            
 semantic-release/lib             |   41.95 |    45.64 |   46.75 |   40.93 |                   
  get-commits.js                  |      20 |        0 |       0 |      20 | 11-22             
  get-config.js                   |   16.22 |        0 |       0 |   16.22 | 7-89              
  get-error.js                    |      60 |        0 |       0 |      60 | 5-6               
  get-git-auth-url.js             |     8.7 |        0 |       0 |    9.09 | 5-121             
  get-last-release.js             |     100 |      100 |     100 |     100 |                   
  get-logger.js                   |     100 |      100 |     100 |     100 |                   
  get-next-version.js             |     100 |      100 |     100 |     100 |                   
  get-release-to-add.js           |     100 |      100 |     100 |     100 |                   
  git.js                          |    5.77 |        0 |       0 |    5.77 | 4-331             
  hide-sensitive.js               |     100 |      100 |     100 |     100 |                   
  utils.js                        |   81.82 |    95.74 |   86.36 |   78.57 | 10-17             
  verify.js                       |      15 |        0 |       0 |      15 | 4-41              
 semantic-release/lib/branches    |   44.32 |    53.97 |   29.17 |   44.83 |                   
  expand.js                       |      30 |        0 |       0 |   33.33 | 5-13              
  get-tags.js                     |   38.46 |        0 |       0 |   38.46 | 7-29              
  index.js                        |   15.38 |        0 |       0 |   15.38 | 7-70              
  normalize.js                    |   96.15 |    97.14 |     100 |   96.15 | 60                
 semantic-release/lib/definitions |   38.14 |    32.56 |      15 |   37.89 |                   
  branches.js                     |     100 |    93.33 |     100 |     100 | 7                 
  constants.js                    |     100 |      100 |     100 |     100 |                   
  errors.js                       |   24.32 |        0 |       0 |      25 | 8,11,14-224       
  plugins.js                      |    5.88 |        0 |       0 |    5.88 | 5-106             
 semantic-release/lib/plugins     |   42.64 |    47.86 |   47.37 |   42.52 |                   
  index.js                        |     9.3 |        0 |       0 |     9.3 | 5-92              
  normalize.js                    |    12.5 |        0 |       0 |   12.82 | 6-66              
  pipeline.js                     |     100 |      100 |     100 |     100 |                   
  utils.js                        |     100 |      100 |     100 |     100 |                   
----------------------------------|---------|----------|---------|---------|-------------------
************* run test done *************
semantic-release is testing ./VariantsDeps/execa/variant5/execa
************* npm unlink module *************

removed 2 packages, changed 1 package, and audited 1494 packages in 4s

147 packages are looking for funding
  run `npm fund` for details

14 vulnerabilities (6 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 735ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 395ms

1 package is looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 2 packages, changed 1 package, and audited 1497 packages in 4s

148 packages are looking for funding
  run `npm fund` for details

14 vulnerabilities (6 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm link module done *************
************* start run test *************

> semantic-release@0.0.0-development pretest
> npm run lint


> semantic-release@0.0.0-development lint
> xo


> semantic-release@0.0.0-development test
> nyc ava -v


  Uncaught exception in test/get-commits.test.js

  test/get-commits.test.js:3

   2: const {stub} = require('sinon');                                          
   3: const getCommits = require('../lib/get-commits');                         
   4: const {gitRepo, gitCommits, gitDetachedHead} = require('./helpers/git-uti…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant5/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/get-commits.js:2:218)
  › Object.<anonymous> (test/get-commits.test.js:3:20)

  ✖ test/get-commits.test.js exited with a non-zero exit code: 1
  ✖ cli › Pass options to semantic-release API Rejected promise returned by test
  ✖ cli › Pass options to semantic-release API with alias arguments Rejected promise returned by test
  ✖ cli › Pass unknown options to semantic-release API Rejected promise returned by test
  ✖ cli › Pass empty Array to semantic-release API for list option set to "false" Rejected promise returned by test
  ✖ cli › Do not set properties in option for which arg is not in command line Rejected promise returned by test
  ✔ cli › Display help
  ✔ cli › Return error exitCode and prints help if called with a command
  ✔ cli › Return error exitCode if multiple plugin are set for single plugin
  ✖ cli › Return error exitCode if semantic-release throw error 
  ✖ cli › Hide sensitive environment variable values from the logs 

  Uncaught exception in test/get-config.test.js

  test/get-config.test.js:9

   8: const yaml = require('js-yaml');                                          
   9: const {gitRepo, gitTagVersion, gitCommits, gitShallowClone, gitAddConfig}…
   10:                                                                           

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant5/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/helpers/git-utils.js:2:15)
  › Object.<anonymous> (test/get-config.test.js:9:77)

  ✖ test/get-config.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/get-git-auth-url.test.js

  test/get-git-auth-url.test.js:2

   1: const test = require('ava');                          
   2: const getAuthUrl = require('../lib/get-git-auth-url');
   3: const {gitRepo} = require('./helpers/git-utils');     

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant5/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/get-git-auth-url.js:3:171)
  › Object.<anonymous> (test/get-git-auth-url.test.js:2:20)

  ✔ get-last-release › Get the highest non-prerelease valid tag
  ✔ get-last-release › Get the highest prerelease valid tag, ignoring other tags from other prerelease channels
  ✔ get-last-release › Return empty object if no valid tag is found
  ✔ get-last-release › Get the highest non-prerelease valid tag before a certain version
  ✖ test/get-git-auth-url.test.js exited with a non-zero exit code: 1
  ✔ get-logger › Expose "error", "success" and "log" functions
  ✔ get-next-version › Increase version for patch release
  ✔ get-next-version › Increase version for minor release
  ✔ get-next-version › Increase version for major release
  ✔ get-next-version › Return 1.0.0 if there is no previous release
  ✔ get-next-version › Increase version for patch release on prerelease branch
  ✔ get-next-version › Increase version for minor release on prerelease branch
  ✔ get-next-version › Increase version for major release on prerelease branch
  ✔ get-next-version › Return 1.0.0 if there is no previous release on prerelease branch
  ✔ get-next-version › Increase version for release on prerelease branch after previous commits were merged to release branch
  ✔ get-next-version › Increase version for release on prerelease branch based on highest commit type since last regular release
  ✔ get-next-version › Increase version for release on prerelease branch when there is no regular releases on other branches
  ✔ get-release-to-add › Return versions merged from release to maintenance branch, excluding lower than branch start range
  ✔ get-release-to-add › Return versions merged between release branches
  ✔ get-release-to-add › Return releases sorted by ascending order
  ✔ get-release-to-add › No lastRelease
  ✔ get-release-to-add › Ignore pre-release versions
  ✔ get-release-to-add › Exclude versions merged from release to maintenance branch if they have the same "channel"
  ✔ get-release-to-add › Exclude versions merged between release branches if they have the same "channel"
  ✔ get-release-to-add › Exclude versions merged between release branches if they all have "channel" set to "false"
  ✔ get-release-to-add › Exclude versions number less than the latest version already released on that branch

  Uncaught exception in test/git.test.js

  test/git.test.js:19

   18:   fetchNotes,             
   19: } = require('../lib/git');
   20: const {                   

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant5/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (test/git.test.js:19:5)

  ✖ test/git.test.js exited with a non-zero exit code: 1
  ✔ hide-sensitive › Replace multiple sensitive environment variable values
  ✔ hide-sensitive › Replace multiple occurences of sensitive environment variable values
  ✔ hide-sensitive › Replace sensitive environment variable matching specific regex for "private"
  ✔ hide-sensitive › Replace url-encoded environment variable
  ✔ hide-sensitive › Escape regexp special characters
  ✔ hide-sensitive › Escape regexp special characters in url-encoded environment variable
  ✔ hide-sensitive › Accept "undefined" input
  ✔ hide-sensitive › Return same string if no environment variable has to be replaced
  ✔ hide-sensitive › Exclude empty environment variables from the regexp
  ✔ hide-sensitive › Exclude empty environment variables from the regexp if there is only empty ones
  ✔ hide-sensitive › Exclude nonsensitive GOPRIVATE environment variable for Golang projects from the regexp
  ✔ hide-sensitive › Exclude environment variables with value shorter than SECRET_MIN_SIZE from the regexp

  Uncaught exception in test/index.test.js

  test/index.test.js:24

   23:   gitGetNote,                      
   24: } = require('./helpers/git-utils');
   25:                                    

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant5/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/helpers/git-utils.js:2:15)
  › Object.<anonymous> (test/index.test.js:24:5)

  ✖ test/index.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/integration.test.js

  test/integration.test.js:6

   5: const {writeJson, readJson} = require('fs-extra');       
   6: const execa = require('execa');                          
   7: const {WritableStreamBuffer} = require('stream-buffers');

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant5/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/integration.test.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/integration.test.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/integration.test.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/integration.test.js:6:15)

  ✖ test/integration.test.js exited with a non-zero exit code: 1
  ✔ utils › getLatestVersion
  ✔ utils › getEarliestVersion
  ✔ utils › extractErrors
  ✔ utils › tagsToVersions
  ✔ utils › isMajorRange
  ✔ utils › isMaintenanceRange
  ✔ utils › getUpperBound
  ✔ utils › getLowerBound
  ✔ utils › highest
  ✔ utils › lowest
  ✔ utils › getFirstVersion
  ✔ utils › getRange
  ✔ utils › makeTag
  ✔ utils › isSameChannel

  Uncaught exception in test/verify.test.js

  test/verify.test.js:3

   2: const tempy = require('tempy');                  
   3: const verify = require('../lib/verify');         
   4: const {gitRepo} = require('./helpers/git-utils');

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant5/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/verify.js:2:305)
  › Object.<anonymous> (test/verify.test.js:3:16)

  ✖ test/verify.test.js exited with a non-zero exit code: 1
  ✖ branches › branches › Enforce ranges with branching release workflow Rejected promise returned by test
  ✖ branches › branches › Throw SemanticReleaseError for invalid configurations Rejected promise returned by test
  ✖ branches › branches › Throw a SemanticReleaseError if there is duplicate branches Rejected promise returned by test
  ✖ branches › branches › Throw a SemanticReleaseError for each invalid branch name Rejected promise returned by test

  Uncaught exception in test/branches/expand.test.js

  test/branches/expand.test.js:2

   1: const test = require('ava');                                              
   2: const expand = require('../../lib/branches/expand');                      
   3: const {gitRepo, gitCommits, gitCheckout, gitPush} = require('../helpers/g…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant5/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/branches/expand.js:2:292)
  › Object.<anonymous> (test/branches/expand.test.js:2:16)

  ✖ test/branches/expand.test.js exited with a non-zero exit code: 1
  ✔ branches › normalize › Maintenance branches - initial state
  ✔ branches › normalize › Maintenance branches - cap range to first release present on default branch and not in any Maintenance one
  ✔ branches › normalize › Maintenance branches - cap range to default branch last release if all release are also present on maintenance branch
  ✔ branches › normalize › Release branches - initial state
  ✔ branches › normalize › Release branches - 3 release branches
  ✔ branches › normalize › Release branches - 2 release branches
  ✔ branches › normalize › Release branches - 1 release branches
  ✔ branches › normalize › Release branches - cap ranges to first release only present on following branch
  ✔ branches › normalize › Release branches - Handle missing previous tags in branch history
  ✔ branches › normalize › Release branches - limit releases on 2nd and 3rd branch based on 1st branch last release
  ✔ branches › normalize › Prerelease branches
  ✔ branches › normalize › Allow to set channel to "false" to prevent default

  Uncaught exception in test/branches/get-tags.test.js

  test/branches/get-tags.test.js:2

   1: const test = require('ava');                                              
   2: const getTags = require('../../lib/branches/get-tags');                   
   3: const {gitRepo, gitCommits, gitTagVersion, gitCheckout, gitAddNote} = req…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant5/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/branches/get-tags.js:2:407)
  › Object.<anonymous> (test/branches/get-tags.test.js:2:17)

  ✖ test/branches/get-tags.test.js exited with a non-zero exit code: 1
  ✔ definitions › branches › A "maintenance" branch is identified by having a "range" property or a "name" formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › A "maintenance" branches must have a "range" property formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › The "maintenance" branches must have unique ranges
  ✔ definitions › branches › A "prerelease" branch is identified by having a thruthy "prerelease" property
  ✔ definitions › branches › A "prerelease" branch must have a valid prerelease detonation in "prerelease" property or in "name" if "prerelease" is "true"
  ✔ definitions › branches › The "prerelease" branches must have unique "prerelease" property
  ✔ definitions › branches › A "release" branch is identified by not havin a "range" or "prerelease" property or a "name" formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › There must be between 1 and 3 release branches

  Uncaught exception in test/definitions/plugins.test.js

  test/definitions/plugins.test.js:2

   1: const test = require('ava');                                              
   2: const plugins = require('../../lib/definitions/plugins');                 
   3: const {RELEASE_NOTES_SEPARATOR, SECRET_REPLACEMENT} = require('../../lib/…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant5/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (test/definitions/plugins.test.js:2:17)

  ✖ test/definitions/plugins.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/plugins/normalize.test.js

  test/plugins/normalize.test.js:4

   3: const {stub} = require('sinon');                         
   4: const normalize = require('../../lib/plugins/normalize');
   5:                                                          

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant5/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (lib/plugins/normalize.js:2:454)
  › Object.<anonymous> (test/plugins/normalize.test.js:4:19)

  ✔ plugins › pipeline › Throw all errors from all steps throwing an AggregateError
  ✔ plugins › pipeline › Stop execution and throw error if a step rejects
  ✔ plugins › pipeline › Throw all errors from the first step throwing an AggregateError
  ✔ plugins › pipeline › Execute each function in series passing the same input
  ✔ plugins › pipeline › Execute all even if a Promise rejects
  ✔ plugins › pipeline › Execute each function in series passing a transformed input from "getNextInput"
  ✔ plugins › pipeline › Execute each function in series passing the "lastResult" and "result" to "getNextInput"
  ✔ plugins › pipeline › Execute each function in series calling "transform" to modify the results
  ✔ plugins › pipeline › Execute each function in series calling "transform" to modify the results with "settleAll"
  ✔ plugins › pipeline › Execute each function in series passing a transformed input even if a step rejects
  ✖ test/plugins/normalize.test.js exited with a non-zero exit code: 1
  ✔ plugins › utils › validatePlugin
  ✔ plugins › utils › validateStep: optional plugin configuration
  ✔ plugins › utils › validateStep: required plugin configuration
  ✔ plugins › utils › loadPlugin
  ✔ plugins › utils › parseConfig

  Uncaught exception in test/plugins/plugins.test.js

  test/plugins/plugins.test.js:6

   5: const tempy = require('tempy');                 
   6: const getPlugins = require('../../lib/plugins');
   7:                                                 

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant5/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (lib/plugins/index.js:2:386)
  › Object.<anonymous> (test/plugins/plugins.test.js:6:20)

  ✖ test/plugins/plugins.test.js exited with a non-zero exit code: 1
  ─

  cli › Pass options to semantic-release API

  test/cli.test.js:70

   69:                                                                          
   70:   t.deepEqual(run.args[0][0].branches, ['master', 'next']);              
   71:   t.is(run.args[0][0].repositoryUrl, 'https://github/com/owner/repo.git'…

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:70:26



  cli › Pass options to semantic-release API with alias arguments

  test/cli.test.js:112

   111:                                                                         
   112:   t.deepEqual(run.args[0][0].branches, ['master']);                     
   113:   t.is(run.args[0][0].repositoryUrl, 'https://github/com/owner/repo.git…

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:112:26



  cli › Pass unknown options to semantic-release API

  test/cli.test.js:129

   128:                                              
   129:   t.is(run.args[0][0].bool, true);           
   130:   t.is(run.args[0][0].firstOption, 'value1');

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:129:19



  cli › Pass empty Array to semantic-release API for list option set to "false"

  test/cli.test.js:143

   142:                                           
   143:   t.deepEqual(run.args[0][0].publish, []);
   144:                                           

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:143:26



  cli › Do not set properties in option for which arg is not in command line

  test/cli.test.js:155

   154:                                   
   155:   t.false('ci' in run.args[0][0]);
   156:   t.false('d' in run.args[0][0]); 

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:155:30



  cli › Return error exitCode if semantic-release throw error

  test/cli.test.js:207

   206:                                                       
   207:   t.regex(t.context.errors, /semantic-release error/);
   208:   t.is(exitCode, 1);                                  

  Value must match expression:

  `Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant5/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/git.js:2:264)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/get-config.js:2:512)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/index.js:2:622)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Proxyquire._require (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mproxyquire[24m/lib/proxyquire.js:188:36)␊
      at module.exports (/data/js-variants/multee/Clients/execa/semantic-release/cli.js:7:110)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/test/cli.test.js:205:26␊
      at Test.callFn (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:622:21)␊
      at Test.run (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:635:23)␊
      at Runner.runSingle (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:299:33)␊
      at Runner.runTest (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:376:30)␊
      at async /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:508:24␊
      at async Promise.all (index 1)␊
      at async Runner.start (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:547:15) {␊
    code: [32m'ERR_REQUIRE_ESM'[39m␊
  }`

  Regular expression:

  /semantic-release error/

  › test/cli.test.js:207:5



  cli › Hide sensitive environment variable values from the logs

  test/cli.test.js:219

   218:                                                                         
   219:   t.regex(t.context.errors, new RegExp(`Throw error: Exposing token ${e…
   220:   t.is(exitCode, 1);                                                    

  Value must match expression:

  `Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant5/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/git.js:2:264)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/get-config.js:2:512)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/index.js:2:622)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Proxyquire._require (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mproxyquire[24m/lib/proxyquire.js:188:36)␊
      at module.exports (/data/js-variants/multee/Clients/execa/semantic-release/cli.js:7:110)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/test/cli.test.js:217:26␊
      at Test.callFn (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:622:21)␊
      at Test.run (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:635:23)␊
      at Runner.runSingle (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:299:33)␊
      at Runner.runTest (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:376:30)␊
      at async Promise.all (index 1)␊
      at async Runner.start (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:547:15) {␊
    code: [32m'ERR_REQUIRE_ESM'[39m␊
  }`

  Regular expression:

  /Throw error: Exposing token \[secure\]/

  › test/cli.test.js:219:5



  branches › branches › Enforce ranges with branching release workflow

  test/branches/branches.test.js:25

   24:   ];                                                                     
   25:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': ()…
   26:                                                                          

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant5/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:25:23



  branches › branches › Throw SemanticReleaseError for invalid configurations

  test/branches/branches.test.js:202

   201:   ];                                                                    
   202:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   203:   const errors = [...(await t.throwsAsync(getBranches('repositoryUrl', …

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant5/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:202:23



  branches › branches › Throw a SemanticReleaseError if there is duplicate branches

  test/branches/branches.test.js:232

   231:   ];                                                                    
   232:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   233:                                                                         

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant5/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:232:23



  branches › branches › Throw a SemanticReleaseError for each invalid branch name

  test/branches/branches.test.js:247

   246:   ];                                                                    
   247:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   248:                                                                         

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant5/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:247:23

  ─

  11 tests failed
  12 uncaught exceptions
----------------------------------|---------|----------|---------|---------|-------------------
File                              | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
----------------------------------|---------|----------|---------|---------|-------------------
All files                         |   36.17 |    40.67 |   33.85 |   35.78 |                   
 semantic-release                 |   16.96 |    13.95 |   33.33 |   16.77 |                   
  cli.js                          |   95.24 |      100 |     100 |      95 | 56                
  index.js                        |       6 |        0 |       0 |    6.12 | 10-279            
 semantic-release/lib             |   41.95 |    45.64 |   46.75 |   40.93 |                   
  get-commits.js                  |      20 |        0 |       0 |      20 | 11-22             
  get-config.js                   |   16.22 |        0 |       0 |   16.22 | 7-89              
  get-error.js                    |      60 |        0 |       0 |      60 | 5-6               
  get-git-auth-url.js             |     8.7 |        0 |       0 |    9.09 | 5-121             
  get-last-release.js             |     100 |      100 |     100 |     100 |                   
  get-logger.js                   |     100 |      100 |     100 |     100 |                   
  get-next-version.js             |     100 |      100 |     100 |     100 |                   
  get-release-to-add.js           |     100 |      100 |     100 |     100 |                   
  git.js                          |    5.77 |        0 |       0 |    5.77 | 4-331             
  hide-sensitive.js               |     100 |      100 |     100 |     100 |                   
  utils.js                        |   81.82 |    95.74 |   86.36 |   78.57 | 10-17             
  verify.js                       |      15 |        0 |       0 |      15 | 4-41              
 semantic-release/lib/branches    |   44.32 |    53.97 |   29.17 |   44.83 |                   
  expand.js                       |      30 |        0 |       0 |   33.33 | 5-13              
  get-tags.js                     |   38.46 |        0 |       0 |   38.46 | 7-29              
  index.js                        |   15.38 |        0 |       0 |   15.38 | 7-70              
  normalize.js                    |   96.15 |    97.14 |     100 |   96.15 | 60                
 semantic-release/lib/definitions |   38.14 |    32.56 |      15 |   37.89 |                   
  branches.js                     |     100 |    93.33 |     100 |     100 | 7                 
  constants.js                    |     100 |      100 |     100 |     100 |                   
  errors.js                       |   24.32 |        0 |       0 |      25 | 8,11,14-224       
  plugins.js                      |    5.88 |        0 |       0 |    5.88 | 5-106             
 semantic-release/lib/plugins     |   42.64 |    47.86 |   47.37 |   42.52 |                   
  index.js                        |     9.3 |        0 |       0 |     9.3 | 5-92              
  normalize.js                    |    12.5 |        0 |       0 |   12.82 | 6-66              
  pipeline.js                     |     100 |      100 |     100 |     100 |                   
  utils.js                        |     100 |      100 |     100 |     100 |                   
----------------------------------|---------|----------|---------|---------|-------------------
************* run test done *************
semantic-release is testing ./VariantsDeps/execa/variant4/execa
************* npm unlink module *************

removed 2 packages, changed 1 package, and audited 1494 packages in 4s

147 packages are looking for funding
  run `npm fund` for details

14 vulnerabilities (6 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 703ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 401ms

1 package is looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 2 packages, changed 1 package, and audited 1497 packages in 4s

148 packages are looking for funding
  run `npm fund` for details

14 vulnerabilities (6 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm link module done *************
************* start run test *************

> semantic-release@0.0.0-development pretest
> npm run lint


> semantic-release@0.0.0-development lint
> xo


> semantic-release@0.0.0-development test
> nyc ava -v


  Uncaught exception in test/get-commits.test.js

  test/get-commits.test.js:3

   2: const {stub} = require('sinon');                                          
   3: const getCommits = require('../lib/get-commits');                         
   4: const {gitRepo, gitCommits, gitDetachedHead} = require('./helpers/git-uti…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant4/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/get-commits.js:2:218)
  › Object.<anonymous> (test/get-commits.test.js:3:20)

  ✖ test/get-commits.test.js exited with a non-zero exit code: 1
  ✖ cli › Pass options to semantic-release API Rejected promise returned by test
  ✖ cli › Pass options to semantic-release API with alias arguments Rejected promise returned by test
  ✖ cli › Pass unknown options to semantic-release API Rejected promise returned by test
  ✖ cli › Pass empty Array to semantic-release API for list option set to "false" Rejected promise returned by test
  ✖ cli › Do not set properties in option for which arg is not in command line Rejected promise returned by test
  ✔ cli › Display help
  ✔ cli › Return error exitCode and prints help if called with a command
  ✔ cli › Return error exitCode if multiple plugin are set for single plugin
  ✖ cli › Return error exitCode if semantic-release throw error 
  ✖ cli › Hide sensitive environment variable values from the logs 

  Uncaught exception in test/get-config.test.js

  test/get-config.test.js:9

   8: const yaml = require('js-yaml');                                          
   9: const {gitRepo, gitTagVersion, gitCommits, gitShallowClone, gitAddConfig}…
   10:                                                                           

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant4/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/helpers/git-utils.js:2:15)
  › Object.<anonymous> (test/get-config.test.js:9:77)

  ✖ test/get-config.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/get-git-auth-url.test.js

  test/get-git-auth-url.test.js:2

   1: const test = require('ava');                          
   2: const getAuthUrl = require('../lib/get-git-auth-url');
   3: const {gitRepo} = require('./helpers/git-utils');     

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant4/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/get-git-auth-url.js:3:171)
  › Object.<anonymous> (test/get-git-auth-url.test.js:2:20)

  ✖ test/get-git-auth-url.test.js exited with a non-zero exit code: 1
  ✔ get-last-release › Get the highest non-prerelease valid tag
  ✔ get-last-release › Get the highest prerelease valid tag, ignoring other tags from other prerelease channels
  ✔ get-last-release › Return empty object if no valid tag is found
  ✔ get-last-release › Get the highest non-prerelease valid tag before a certain version
  ✔ get-logger › Expose "error", "success" and "log" functions
  ✔ get-next-version › Increase version for patch release
  ✔ get-next-version › Increase version for minor release
  ✔ get-next-version › Increase version for major release
  ✔ get-next-version › Return 1.0.0 if there is no previous release
  ✔ get-next-version › Increase version for patch release on prerelease branch
  ✔ get-next-version › Increase version for minor release on prerelease branch
  ✔ get-next-version › Increase version for major release on prerelease branch
  ✔ get-next-version › Return 1.0.0 if there is no previous release on prerelease branch
  ✔ get-next-version › Increase version for release on prerelease branch after previous commits were merged to release branch
  ✔ get-next-version › Increase version for release on prerelease branch based on highest commit type since last regular release
  ✔ get-next-version › Increase version for release on prerelease branch when there is no regular releases on other branches
  ✔ get-release-to-add › Return versions merged from release to maintenance branch, excluding lower than branch start range
  ✔ get-release-to-add › Return versions merged between release branches
  ✔ get-release-to-add › Return releases sorted by ascending order
  ✔ get-release-to-add › No lastRelease
  ✔ get-release-to-add › Ignore pre-release versions
  ✔ get-release-to-add › Exclude versions merged from release to maintenance branch if they have the same "channel"
  ✔ get-release-to-add › Exclude versions merged between release branches if they have the same "channel"
  ✔ get-release-to-add › Exclude versions merged between release branches if they all have "channel" set to "false"
  ✔ get-release-to-add › Exclude versions number less than the latest version already released on that branch

  Uncaught exception in test/git.test.js

  test/git.test.js:19

   18:   fetchNotes,             
   19: } = require('../lib/git');
   20: const {                   

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant4/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (test/git.test.js:19:5)

  ✖ test/git.test.js exited with a non-zero exit code: 1
  ✔ hide-sensitive › Replace multiple sensitive environment variable values
  ✔ hide-sensitive › Replace multiple occurences of sensitive environment variable values
  ✔ hide-sensitive › Replace sensitive environment variable matching specific regex for "private"
  ✔ hide-sensitive › Replace url-encoded environment variable
  ✔ hide-sensitive › Escape regexp special characters
  ✔ hide-sensitive › Escape regexp special characters in url-encoded environment variable
  ✔ hide-sensitive › Accept "undefined" input
  ✔ hide-sensitive › Return same string if no environment variable has to be replaced
  ✔ hide-sensitive › Exclude empty environment variables from the regexp
  ✔ hide-sensitive › Exclude empty environment variables from the regexp if there is only empty ones
  ✔ hide-sensitive › Exclude nonsensitive GOPRIVATE environment variable for Golang projects from the regexp
  ✔ hide-sensitive › Exclude environment variables with value shorter than SECRET_MIN_SIZE from the regexp

  Uncaught exception in test/index.test.js

  test/index.test.js:24

   23:   gitGetNote,                      
   24: } = require('./helpers/git-utils');
   25:                                    

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant4/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/helpers/git-utils.js:2:15)
  › Object.<anonymous> (test/index.test.js:24:5)

  ✖ test/index.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/integration.test.js

  test/integration.test.js:6

   5: const {writeJson, readJson} = require('fs-extra');       
   6: const execa = require('execa');                          
   7: const {WritableStreamBuffer} = require('stream-buffers');

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant4/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/integration.test.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/integration.test.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/integration.test.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/integration.test.js:6:15)

  ✖ test/integration.test.js exited with a non-zero exit code: 1
  ✔ utils › getLatestVersion
  ✔ utils › getEarliestVersion
  ✔ utils › extractErrors
  ✔ utils › tagsToVersions
  ✔ utils › isMajorRange
  ✔ utils › isMaintenanceRange
  ✔ utils › getUpperBound
  ✔ utils › getLowerBound
  ✔ utils › highest
  ✔ utils › lowest
  ✔ utils › getFirstVersion
  ✔ utils › getRange
  ✔ utils › makeTag
  ✔ utils › isSameChannel

  Uncaught exception in test/verify.test.js

  test/verify.test.js:3

   2: const tempy = require('tempy');                  
   3: const verify = require('../lib/verify');         
   4: const {gitRepo} = require('./helpers/git-utils');

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant4/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/verify.js:2:305)
  › Object.<anonymous> (test/verify.test.js:3:16)

  ✖ test/verify.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/branches/expand.test.js

  test/branches/expand.test.js:2

   1: const test = require('ava');                                              
   2: const expand = require('../../lib/branches/expand');                      
   3: const {gitRepo, gitCommits, gitCheckout, gitPush} = require('../helpers/g…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant4/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/branches/expand.js:2:292)
  › Object.<anonymous> (test/branches/expand.test.js:2:16)

  ✖ test/branches/expand.test.js exited with a non-zero exit code: 1
  ✖ branches › branches › Enforce ranges with branching release workflow Rejected promise returned by test
  ✖ branches › branches › Throw SemanticReleaseError for invalid configurations Rejected promise returned by test
  ✖ branches › branches › Throw a SemanticReleaseError if there is duplicate branches Rejected promise returned by test
  ✖ branches › branches › Throw a SemanticReleaseError for each invalid branch name Rejected promise returned by test

  Uncaught exception in test/branches/get-tags.test.js

  test/branches/get-tags.test.js:2

   1: const test = require('ava');                                              
   2: const getTags = require('../../lib/branches/get-tags');                   
   3: const {gitRepo, gitCommits, gitTagVersion, gitCheckout, gitAddNote} = req…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant4/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/branches/get-tags.js:2:407)
  › Object.<anonymous> (test/branches/get-tags.test.js:2:17)

  ✖ test/branches/get-tags.test.js exited with a non-zero exit code: 1
  ✔ branches › normalize › Maintenance branches - initial state
  ✔ branches › normalize › Maintenance branches - cap range to first release present on default branch and not in any Maintenance one
  ✔ branches › normalize › Maintenance branches - cap range to default branch last release if all release are also present on maintenance branch
  ✔ branches › normalize › Release branches - initial state
  ✔ branches › normalize › Release branches - 3 release branches
  ✔ branches › normalize › Release branches - 2 release branches
  ✔ branches › normalize › Release branches - 1 release branches
  ✔ branches › normalize › Release branches - cap ranges to first release only present on following branch
  ✔ branches › normalize › Release branches - Handle missing previous tags in branch history
  ✔ branches › normalize › Release branches - limit releases on 2nd and 3rd branch based on 1st branch last release
  ✔ branches › normalize › Prerelease branches
  ✔ branches › normalize › Allow to set channel to "false" to prevent default
  ✔ definitions › branches › A "maintenance" branch is identified by having a "range" property or a "name" formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › A "maintenance" branches must have a "range" property formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › The "maintenance" branches must have unique ranges
  ✔ definitions › branches › A "prerelease" branch is identified by having a thruthy "prerelease" property
  ✔ definitions › branches › A "prerelease" branch must have a valid prerelease detonation in "prerelease" property or in "name" if "prerelease" is "true"
  ✔ definitions › branches › The "prerelease" branches must have unique "prerelease" property
  ✔ definitions › branches › A "release" branch is identified by not havin a "range" or "prerelease" property or a "name" formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › There must be between 1 and 3 release branches

  Uncaught exception in test/definitions/plugins.test.js

  test/definitions/plugins.test.js:2

   1: const test = require('ava');                                              
   2: const plugins = require('../../lib/definitions/plugins');                 
   3: const {RELEASE_NOTES_SEPARATOR, SECRET_REPLACEMENT} = require('../../lib/…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant4/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (test/definitions/plugins.test.js:2:17)

  ✖ test/definitions/plugins.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/plugins/normalize.test.js

  test/plugins/normalize.test.js:4

   3: const {stub} = require('sinon');                         
   4: const normalize = require('../../lib/plugins/normalize');
   5:                                                          

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant4/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (lib/plugins/normalize.js:2:454)
  › Object.<anonymous> (test/plugins/normalize.test.js:4:19)

  ✖ test/plugins/normalize.test.js exited with a non-zero exit code: 1
  ✔ plugins › pipeline › Throw all errors from all steps throwing an AggregateError
  ✔ plugins › pipeline › Stop execution and throw error if a step rejects
  ✔ plugins › pipeline › Throw all errors from the first step throwing an AggregateError
  ✔ plugins › pipeline › Execute each function in series passing the same input
  ✔ plugins › pipeline › Execute all even if a Promise rejects
  ✔ plugins › pipeline › Execute each function in series passing a transformed input from "getNextInput"
  ✔ plugins › pipeline › Execute each function in series passing the "lastResult" and "result" to "getNextInput"
  ✔ plugins › pipeline › Execute each function in series calling "transform" to modify the results
  ✔ plugins › pipeline › Execute each function in series calling "transform" to modify the results with "settleAll"
  ✔ plugins › pipeline › Execute each function in series passing a transformed input even if a step rejects

  Uncaught exception in test/plugins/plugins.test.js

  test/plugins/plugins.test.js:6

   5: const tempy = require('tempy');                 
   6: const getPlugins = require('../../lib/plugins');
   7:                                                 

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant4/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (lib/plugins/index.js:2:386)
  › Object.<anonymous> (test/plugins/plugins.test.js:6:20)

  ✖ test/plugins/plugins.test.js exited with a non-zero exit code: 1
  ✔ plugins › utils › validatePlugin
  ✔ plugins › utils › validateStep: optional plugin configuration
  ✔ plugins › utils › validateStep: required plugin configuration
  ✔ plugins › utils › loadPlugin
  ✔ plugins › utils › parseConfig
  ─

  cli › Pass options to semantic-release API

  test/cli.test.js:70

   69:                                                                          
   70:   t.deepEqual(run.args[0][0].branches, ['master', 'next']);              
   71:   t.is(run.args[0][0].repositoryUrl, 'https://github/com/owner/repo.git'…

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:70:26



  cli › Pass options to semantic-release API with alias arguments

  test/cli.test.js:112

   111:                                                                         
   112:   t.deepEqual(run.args[0][0].branches, ['master']);                     
   113:   t.is(run.args[0][0].repositoryUrl, 'https://github/com/owner/repo.git…

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:112:26



  cli › Pass unknown options to semantic-release API

  test/cli.test.js:129

   128:                                              
   129:   t.is(run.args[0][0].bool, true);           
   130:   t.is(run.args[0][0].firstOption, 'value1');

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:129:19



  cli › Pass empty Array to semantic-release API for list option set to "false"

  test/cli.test.js:143

   142:                                           
   143:   t.deepEqual(run.args[0][0].publish, []);
   144:                                           

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:143:26



  cli › Do not set properties in option for which arg is not in command line

  test/cli.test.js:155

   154:                                   
   155:   t.false('ci' in run.args[0][0]);
   156:   t.false('d' in run.args[0][0]); 

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:155:30



  cli › Return error exitCode if semantic-release throw error

  test/cli.test.js:207

   206:                                                       
   207:   t.regex(t.context.errors, /semantic-release error/);
   208:   t.is(exitCode, 1);                                  

  Value must match expression:

  `Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant4/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/git.js:2:264)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/get-config.js:2:512)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/index.js:2:622)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Proxyquire._require (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mproxyquire[24m/lib/proxyquire.js:188:36)␊
      at module.exports (/data/js-variants/multee/Clients/execa/semantic-release/cli.js:7:110)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/test/cli.test.js:205:26␊
      at Test.callFn (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:622:21)␊
      at Test.run (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:635:23)␊
      at Runner.runSingle (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:299:33)␊
      at Runner.runTest (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:376:30)␊
      at async /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:508:24␊
      at async Promise.all (index 1)␊
      at async Runner.start (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:547:15) {␊
    code: [32m'ERR_REQUIRE_ESM'[39m␊
  }`

  Regular expression:

  /semantic-release error/

  › test/cli.test.js:207:5



  cli › Hide sensitive environment variable values from the logs

  test/cli.test.js:219

   218:                                                                         
   219:   t.regex(t.context.errors, new RegExp(`Throw error: Exposing token ${e…
   220:   t.is(exitCode, 1);                                                    

  Value must match expression:

  `Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant4/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/git.js:2:264)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/get-config.js:2:512)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/index.js:2:622)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Proxyquire._require (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mproxyquire[24m/lib/proxyquire.js:188:36)␊
      at module.exports (/data/js-variants/multee/Clients/execa/semantic-release/cli.js:7:110)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/test/cli.test.js:217:26␊
      at Test.callFn (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:622:21)␊
      at Test.run (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:635:23)␊
      at Runner.runSingle (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:299:33)␊
      at Runner.runTest (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:376:30)␊
      at async Promise.all (index 1)␊
      at async Runner.start (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:547:15) {␊
    code: [32m'ERR_REQUIRE_ESM'[39m␊
  }`

  Regular expression:

  /Throw error: Exposing token \[secure\]/

  › test/cli.test.js:219:5



  branches › branches › Enforce ranges with branching release workflow

  test/branches/branches.test.js:25

   24:   ];                                                                     
   25:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': ()…
   26:                                                                          

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant4/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:25:23



  branches › branches › Throw SemanticReleaseError for invalid configurations

  test/branches/branches.test.js:202

   201:   ];                                                                    
   202:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   203:   const errors = [...(await t.throwsAsync(getBranches('repositoryUrl', …

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant4/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:202:23



  branches › branches › Throw a SemanticReleaseError if there is duplicate branches

  test/branches/branches.test.js:232

   231:   ];                                                                    
   232:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   233:                                                                         

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant4/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:232:23



  branches › branches › Throw a SemanticReleaseError for each invalid branch name

  test/branches/branches.test.js:247

   246:   ];                                                                    
   247:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   248:                                                                         

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant4/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:247:23

  ─

  11 tests failed
  12 uncaught exceptions
----------------------------------|---------|----------|---------|---------|-------------------
File                              | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
----------------------------------|---------|----------|---------|---------|-------------------
All files                         |   36.17 |    40.67 |   33.85 |   35.78 |                   
 semantic-release                 |   16.96 |    13.95 |   33.33 |   16.77 |                   
  cli.js                          |   95.24 |      100 |     100 |      95 | 56                
  index.js                        |       6 |        0 |       0 |    6.12 | 10-279            
 semantic-release/lib             |   41.95 |    45.64 |   46.75 |   40.93 |                   
  get-commits.js                  |      20 |        0 |       0 |      20 | 11-22             
  get-config.js                   |   16.22 |        0 |       0 |   16.22 | 7-89              
  get-error.js                    |      60 |        0 |       0 |      60 | 5-6               
  get-git-auth-url.js             |     8.7 |        0 |       0 |    9.09 | 5-121             
  get-last-release.js             |     100 |      100 |     100 |     100 |                   
  get-logger.js                   |     100 |      100 |     100 |     100 |                   
  get-next-version.js             |     100 |      100 |     100 |     100 |                   
  get-release-to-add.js           |     100 |      100 |     100 |     100 |                   
  git.js                          |    5.77 |        0 |       0 |    5.77 | 4-331             
  hide-sensitive.js               |     100 |      100 |     100 |     100 |                   
  utils.js                        |   81.82 |    95.74 |   86.36 |   78.57 | 10-17             
  verify.js                       |      15 |        0 |       0 |      15 | 4-41              
 semantic-release/lib/branches    |   44.32 |    53.97 |   29.17 |   44.83 |                   
  expand.js                       |      30 |        0 |       0 |   33.33 | 5-13              
  get-tags.js                     |   38.46 |        0 |       0 |   38.46 | 7-29              
  index.js                        |   15.38 |        0 |       0 |   15.38 | 7-70              
  normalize.js                    |   96.15 |    97.14 |     100 |   96.15 | 60                
 semantic-release/lib/definitions |   38.14 |    32.56 |      15 |   37.89 |                   
  branches.js                     |     100 |    93.33 |     100 |     100 | 7                 
  constants.js                    |     100 |      100 |     100 |     100 |                   
  errors.js                       |   24.32 |        0 |       0 |      25 | 8,11,14-224       
  plugins.js                      |    5.88 |        0 |       0 |    5.88 | 5-106             
 semantic-release/lib/plugins     |   42.64 |    47.86 |   47.37 |   42.52 |                   
  index.js                        |     9.3 |        0 |       0 |     9.3 | 5-92              
  normalize.js                    |    12.5 |        0 |       0 |   12.82 | 6-66              
  pipeline.js                     |     100 |      100 |     100 |     100 |                   
  utils.js                        |     100 |      100 |     100 |     100 |                   
----------------------------------|---------|----------|---------|---------|-------------------
************* run test done *************
semantic-release is testing ./VariantsDeps/execa/variant3/execa
************* npm unlink module *************

removed 2 packages, changed 1 package, and audited 1494 packages in 4s

147 packages are looking for funding
  run `npm fund` for details

14 vulnerabilities (6 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 734ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 418ms

1 package is looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 2 packages, changed 1 package, and audited 1497 packages in 4s

148 packages are looking for funding
  run `npm fund` for details

14 vulnerabilities (6 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm link module done *************
************* start run test *************

> semantic-release@0.0.0-development pretest
> npm run lint


> semantic-release@0.0.0-development lint
> xo


> semantic-release@0.0.0-development test
> nyc ava -v


  Uncaught exception in test/get-commits.test.js

  test/get-commits.test.js:3

   2: const {stub} = require('sinon');                                          
   3: const getCommits = require('../lib/get-commits');                         
   4: const {gitRepo, gitCommits, gitDetachedHead} = require('./helpers/git-uti…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant3/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/get-commits.js:2:218)
  › Object.<anonymous> (test/get-commits.test.js:3:20)

  ✖ test/get-commits.test.js exited with a non-zero exit code: 1
  ✖ cli › Pass options to semantic-release API Rejected promise returned by test
  ✖ cli › Pass options to semantic-release API with alias arguments Rejected promise returned by test
  ✖ cli › Pass unknown options to semantic-release API Rejected promise returned by test
  ✖ cli › Pass empty Array to semantic-release API for list option set to "false" Rejected promise returned by test
  ✖ cli › Do not set properties in option for which arg is not in command line Rejected promise returned by test
  ✔ cli › Display help
  ✔ cli › Return error exitCode and prints help if called with a command
  ✔ cli › Return error exitCode if multiple plugin are set for single plugin
  ✖ cli › Return error exitCode if semantic-release throw error 
  ✖ cli › Hide sensitive environment variable values from the logs 

  Uncaught exception in test/get-config.test.js

  test/get-config.test.js:9

   8: const yaml = require('js-yaml');                                          
   9: const {gitRepo, gitTagVersion, gitCommits, gitShallowClone, gitAddConfig}…
   10:                                                                           

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant3/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/helpers/git-utils.js:2:15)
  › Object.<anonymous> (test/get-config.test.js:9:77)

  ✖ test/get-config.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/get-git-auth-url.test.js

  test/get-git-auth-url.test.js:2

   1: const test = require('ava');                          
   2: const getAuthUrl = require('../lib/get-git-auth-url');
   3: const {gitRepo} = require('./helpers/git-utils');     

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant3/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/get-git-auth-url.js:3:171)
  › Object.<anonymous> (test/get-git-auth-url.test.js:2:20)

  ✖ test/get-git-auth-url.test.js exited with a non-zero exit code: 1
  ✔ get-last-release › Get the highest non-prerelease valid tag
  ✔ get-last-release › Get the highest prerelease valid tag, ignoring other tags from other prerelease channels
  ✔ get-last-release › Return empty object if no valid tag is found
  ✔ get-last-release › Get the highest non-prerelease valid tag before a certain version
  ✔ get-logger › Expose "error", "success" and "log" functions
  ✔ get-next-version › Increase version for patch release
  ✔ get-next-version › Increase version for minor release
  ✔ get-next-version › Increase version for major release
  ✔ get-next-version › Return 1.0.0 if there is no previous release
  ✔ get-next-version › Increase version for patch release on prerelease branch
  ✔ get-next-version › Increase version for minor release on prerelease branch
  ✔ get-next-version › Increase version for major release on prerelease branch
  ✔ get-next-version › Return 1.0.0 if there is no previous release on prerelease branch
  ✔ get-next-version › Increase version for release on prerelease branch after previous commits were merged to release branch
  ✔ get-next-version › Increase version for release on prerelease branch based on highest commit type since last regular release
  ✔ get-next-version › Increase version for release on prerelease branch when there is no regular releases on other branches
  ✔ get-release-to-add › Return versions merged from release to maintenance branch, excluding lower than branch start range
  ✔ get-release-to-add › Return versions merged between release branches
  ✔ get-release-to-add › Return releases sorted by ascending order
  ✔ get-release-to-add › No lastRelease
  ✔ get-release-to-add › Ignore pre-release versions
  ✔ get-release-to-add › Exclude versions merged from release to maintenance branch if they have the same "channel"
  ✔ get-release-to-add › Exclude versions merged between release branches if they have the same "channel"
  ✔ get-release-to-add › Exclude versions merged between release branches if they all have "channel" set to "false"
  ✔ get-release-to-add › Exclude versions number less than the latest version already released on that branch

  Uncaught exception in test/git.test.js

  test/git.test.js:19

   18:   fetchNotes,             
   19: } = require('../lib/git');
   20: const {                   

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant3/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (test/git.test.js:19:5)

  ✖ test/git.test.js exited with a non-zero exit code: 1
  ✔ hide-sensitive › Replace multiple sensitive environment variable values
  ✔ hide-sensitive › Replace multiple occurences of sensitive environment variable values
  ✔ hide-sensitive › Replace sensitive environment variable matching specific regex for "private"
  ✔ hide-sensitive › Replace url-encoded environment variable
  ✔ hide-sensitive › Escape regexp special characters
  ✔ hide-sensitive › Escape regexp special characters in url-encoded environment variable
  ✔ hide-sensitive › Accept "undefined" input
  ✔ hide-sensitive › Return same string if no environment variable has to be replaced
  ✔ hide-sensitive › Exclude empty environment variables from the regexp
  ✔ hide-sensitive › Exclude empty environment variables from the regexp if there is only empty ones
  ✔ hide-sensitive › Exclude nonsensitive GOPRIVATE environment variable for Golang projects from the regexp
  ✔ hide-sensitive › Exclude environment variables with value shorter than SECRET_MIN_SIZE from the regexp

  Uncaught exception in test/index.test.js

  test/index.test.js:24

   23:   gitGetNote,                      
   24: } = require('./helpers/git-utils');
   25:                                    

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant3/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/helpers/git-utils.js:2:15)
  › Object.<anonymous> (test/index.test.js:24:5)

  ✖ test/index.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/integration.test.js

  test/integration.test.js:6

   5: const {writeJson, readJson} = require('fs-extra');       
   6: const execa = require('execa');                          
   7: const {WritableStreamBuffer} = require('stream-buffers');

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant3/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/integration.test.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/integration.test.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/integration.test.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/integration.test.js:6:15)

  ✖ test/integration.test.js exited with a non-zero exit code: 1
  ✔ utils › getLatestVersion
  ✔ utils › getEarliestVersion
  ✔ utils › extractErrors
  ✔ utils › tagsToVersions
  ✔ utils › isMajorRange
  ✔ utils › isMaintenanceRange
  ✔ utils › getUpperBound
  ✔ utils › getLowerBound
  ✔ utils › highest
  ✔ utils › lowest
  ✔ utils › getFirstVersion
  ✔ utils › getRange
  ✔ utils › makeTag
  ✔ utils › isSameChannel

  Uncaught exception in test/verify.test.js

  test/verify.test.js:3

   2: const tempy = require('tempy');                  
   3: const verify = require('../lib/verify');         
   4: const {gitRepo} = require('./helpers/git-utils');

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant3/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/verify.js:2:305)
  › Object.<anonymous> (test/verify.test.js:3:16)

  ✖ test/verify.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/branches/expand.test.js

  test/branches/expand.test.js:2

   1: const test = require('ava');                                              
   2: const expand = require('../../lib/branches/expand');                      
   3: const {gitRepo, gitCommits, gitCheckout, gitPush} = require('../helpers/g…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant3/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/branches/expand.js:2:292)
  › Object.<anonymous> (test/branches/expand.test.js:2:16)

  ✖ test/branches/expand.test.js exited with a non-zero exit code: 1
  ✖ branches › branches › Enforce ranges with branching release workflow Rejected promise returned by test
  ✖ branches › branches › Throw SemanticReleaseError for invalid configurations Rejected promise returned by test
  ✖ branches › branches › Throw a SemanticReleaseError if there is duplicate branches Rejected promise returned by test
  ✖ branches › branches › Throw a SemanticReleaseError for each invalid branch name Rejected promise returned by test
  ✔ branches › normalize › Maintenance branches - initial state
  ✔ branches › normalize › Maintenance branches - cap range to first release present on default branch and not in any Maintenance one
  ✔ branches › normalize › Maintenance branches - cap range to default branch last release if all release are also present on maintenance branch
  ✔ branches › normalize › Release branches - initial state
  ✔ branches › normalize › Release branches - 3 release branches
  ✔ branches › normalize › Release branches - 2 release branches
  ✔ branches › normalize › Release branches - 1 release branches
  ✔ branches › normalize › Release branches - cap ranges to first release only present on following branch
  ✔ branches › normalize › Release branches - Handle missing previous tags in branch history
  ✔ branches › normalize › Release branches - limit releases on 2nd and 3rd branch based on 1st branch last release
  ✔ branches › normalize › Prerelease branches
  ✔ branches › normalize › Allow to set channel to "false" to prevent default

  Uncaught exception in test/branches/get-tags.test.js

  test/branches/get-tags.test.js:2

   1: const test = require('ava');                                              
   2: const getTags = require('../../lib/branches/get-tags');                   
   3: const {gitRepo, gitCommits, gitTagVersion, gitCheckout, gitAddNote} = req…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant3/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/branches/get-tags.js:2:407)
  › Object.<anonymous> (test/branches/get-tags.test.js:2:17)

  ✖ test/branches/get-tags.test.js exited with a non-zero exit code: 1
  ✔ definitions › branches › A "maintenance" branch is identified by having a "range" property or a "name" formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › A "maintenance" branches must have a "range" property formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › The "maintenance" branches must have unique ranges
  ✔ definitions › branches › A "prerelease" branch is identified by having a thruthy "prerelease" property
  ✔ definitions › branches › A "prerelease" branch must have a valid prerelease detonation in "prerelease" property or in "name" if "prerelease" is "true"
  ✔ definitions › branches › The "prerelease" branches must have unique "prerelease" property
  ✔ definitions › branches › A "release" branch is identified by not havin a "range" or "prerelease" property or a "name" formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › There must be between 1 and 3 release branches

  Uncaught exception in test/definitions/plugins.test.js

  test/definitions/plugins.test.js:2

   1: const test = require('ava');                                              
   2: const plugins = require('../../lib/definitions/plugins');                 
   3: const {RELEASE_NOTES_SEPARATOR, SECRET_REPLACEMENT} = require('../../lib/…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant3/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (test/definitions/plugins.test.js:2:17)

  ✖ test/definitions/plugins.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/plugins/normalize.test.js

  test/plugins/normalize.test.js:4

   3: const {stub} = require('sinon');                         
   4: const normalize = require('../../lib/plugins/normalize');
   5:                                                          

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant3/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (lib/plugins/normalize.js:2:454)
  › Object.<anonymous> (test/plugins/normalize.test.js:4:19)

  ✔ plugins › pipeline › Throw all errors from all steps throwing an AggregateError
  ✔ plugins › pipeline › Stop execution and throw error if a step rejects
  ✔ plugins › pipeline › Throw all errors from the first step throwing an AggregateError
  ✔ plugins › pipeline › Execute each function in series passing the same input
  ✔ plugins › pipeline › Execute all even if a Promise rejects
  ✔ plugins › pipeline › Execute each function in series passing a transformed input from "getNextInput"
  ✔ plugins › pipeline › Execute each function in series passing the "lastResult" and "result" to "getNextInput"
  ✔ plugins › pipeline › Execute each function in series calling "transform" to modify the results
  ✔ plugins › pipeline › Execute each function in series calling "transform" to modify the results with "settleAll"
  ✔ plugins › pipeline › Execute each function in series passing a transformed input even if a step rejects
  ✖ test/plugins/normalize.test.js exited with a non-zero exit code: 1
  ✔ plugins › utils › validatePlugin
  ✔ plugins › utils › validateStep: optional plugin configuration
  ✔ plugins › utils › validateStep: required plugin configuration
  ✔ plugins › utils › loadPlugin
  ✔ plugins › utils › parseConfig

  Uncaught exception in test/plugins/plugins.test.js

  test/plugins/plugins.test.js:6

   5: const tempy = require('tempy');                 
   6: const getPlugins = require('../../lib/plugins');
   7:                                                 

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant3/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (lib/plugins/index.js:2:386)
  › Object.<anonymous> (test/plugins/plugins.test.js:6:20)

  ✖ test/plugins/plugins.test.js exited with a non-zero exit code: 1
  ─

  cli › Pass options to semantic-release API

  test/cli.test.js:70

   69:                                                                          
   70:   t.deepEqual(run.args[0][0].branches, ['master', 'next']);              
   71:   t.is(run.args[0][0].repositoryUrl, 'https://github/com/owner/repo.git'…

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:70:26



  cli › Pass options to semantic-release API with alias arguments

  test/cli.test.js:112

   111:                                                                         
   112:   t.deepEqual(run.args[0][0].branches, ['master']);                     
   113:   t.is(run.args[0][0].repositoryUrl, 'https://github/com/owner/repo.git…

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:112:26



  cli › Pass unknown options to semantic-release API

  test/cli.test.js:129

   128:                                              
   129:   t.is(run.args[0][0].bool, true);           
   130:   t.is(run.args[0][0].firstOption, 'value1');

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:129:19



  cli › Pass empty Array to semantic-release API for list option set to "false"

  test/cli.test.js:143

   142:                                           
   143:   t.deepEqual(run.args[0][0].publish, []);
   144:                                           

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:143:26



  cli › Do not set properties in option for which arg is not in command line

  test/cli.test.js:155

   154:                                   
   155:   t.false('ci' in run.args[0][0]);
   156:   t.false('d' in run.args[0][0]); 

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:155:30



  cli › Return error exitCode if semantic-release throw error

  test/cli.test.js:207

   206:                                                       
   207:   t.regex(t.context.errors, /semantic-release error/);
   208:   t.is(exitCode, 1);                                  

  Value must match expression:

  `Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant3/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/git.js:2:264)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/get-config.js:2:512)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/index.js:2:622)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Proxyquire._require (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mproxyquire[24m/lib/proxyquire.js:188:36)␊
      at module.exports (/data/js-variants/multee/Clients/execa/semantic-release/cli.js:7:110)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/test/cli.test.js:205:26␊
      at Test.callFn (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:622:21)␊
      at Test.run (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:635:23)␊
      at Runner.runSingle (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:299:33)␊
      at Runner.runTest (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:376:30)␊
      at async /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:508:24␊
      at async Promise.all (index 1)␊
      at async Runner.start (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:547:15) {␊
    code: [32m'ERR_REQUIRE_ESM'[39m␊
  }`

  Regular expression:

  /semantic-release error/

  › test/cli.test.js:207:5



  cli › Hide sensitive environment variable values from the logs

  test/cli.test.js:219

   218:                                                                         
   219:   t.regex(t.context.errors, new RegExp(`Throw error: Exposing token ${e…
   220:   t.is(exitCode, 1);                                                    

  Value must match expression:

  `Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant3/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/git.js:2:264)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/get-config.js:2:512)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/index.js:2:622)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Proxyquire._require (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mproxyquire[24m/lib/proxyquire.js:188:36)␊
      at module.exports (/data/js-variants/multee/Clients/execa/semantic-release/cli.js:7:110)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/test/cli.test.js:217:26␊
      at Test.callFn (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:622:21)␊
      at Test.run (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:635:23)␊
      at Runner.runSingle (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:299:33)␊
      at Runner.runTest (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:376:30)␊
      at async Promise.all (index 1)␊
      at async Runner.start (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:547:15) {␊
    code: [32m'ERR_REQUIRE_ESM'[39m␊
  }`

  Regular expression:

  /Throw error: Exposing token \[secure\]/

  › test/cli.test.js:219:5



  branches › branches › Enforce ranges with branching release workflow

  test/branches/branches.test.js:25

   24:   ];                                                                     
   25:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': ()…
   26:                                                                          

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant3/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:25:23



  branches › branches › Throw SemanticReleaseError for invalid configurations

  test/branches/branches.test.js:202

   201:   ];                                                                    
   202:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   203:   const errors = [...(await t.throwsAsync(getBranches('repositoryUrl', …

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant3/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:202:23



  branches › branches › Throw a SemanticReleaseError if there is duplicate branches

  test/branches/branches.test.js:232

   231:   ];                                                                    
   232:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   233:                                                                         

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant3/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:232:23



  branches › branches › Throw a SemanticReleaseError for each invalid branch name

  test/branches/branches.test.js:247

   246:   ];                                                                    
   247:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   248:                                                                         

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant3/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:247:23

  ─

  11 tests failed
  12 uncaught exceptions
----------------------------------|---------|----------|---------|---------|-------------------
File                              | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
----------------------------------|---------|----------|---------|---------|-------------------
All files                         |   36.17 |    40.67 |   33.85 |   35.78 |                   
 semantic-release                 |   16.96 |    13.95 |   33.33 |   16.77 |                   
  cli.js                          |   95.24 |      100 |     100 |      95 | 56                
  index.js                        |       6 |        0 |       0 |    6.12 | 10-279            
 semantic-release/lib             |   41.95 |    45.64 |   46.75 |   40.93 |                   
  get-commits.js                  |      20 |        0 |       0 |      20 | 11-22             
  get-config.js                   |   16.22 |        0 |       0 |   16.22 | 7-89              
  get-error.js                    |      60 |        0 |       0 |      60 | 5-6               
  get-git-auth-url.js             |     8.7 |        0 |       0 |    9.09 | 5-121             
  get-last-release.js             |     100 |      100 |     100 |     100 |                   
  get-logger.js                   |     100 |      100 |     100 |     100 |                   
  get-next-version.js             |     100 |      100 |     100 |     100 |                   
  get-release-to-add.js           |     100 |      100 |     100 |     100 |                   
  git.js                          |    5.77 |        0 |       0 |    5.77 | 4-331             
  hide-sensitive.js               |     100 |      100 |     100 |     100 |                   
  utils.js                        |   81.82 |    95.74 |   86.36 |   78.57 | 10-17             
  verify.js                       |      15 |        0 |       0 |      15 | 4-41              
 semantic-release/lib/branches    |   44.32 |    53.97 |   29.17 |   44.83 |                   
  expand.js                       |      30 |        0 |       0 |   33.33 | 5-13              
  get-tags.js                     |   38.46 |        0 |       0 |   38.46 | 7-29              
  index.js                        |   15.38 |        0 |       0 |   15.38 | 7-70              
  normalize.js                    |   96.15 |    97.14 |     100 |   96.15 | 60                
 semantic-release/lib/definitions |   38.14 |    32.56 |      15 |   37.89 |                   
  branches.js                     |     100 |    93.33 |     100 |     100 | 7                 
  constants.js                    |     100 |      100 |     100 |     100 |                   
  errors.js                       |   24.32 |        0 |       0 |      25 | 8,11,14-224       
  plugins.js                      |    5.88 |        0 |       0 |    5.88 | 5-106             
 semantic-release/lib/plugins     |   42.64 |    47.86 |   47.37 |   42.52 |                   
  index.js                        |     9.3 |        0 |       0 |     9.3 | 5-92              
  normalize.js                    |    12.5 |        0 |       0 |   12.82 | 6-66              
  pipeline.js                     |     100 |      100 |     100 |     100 |                   
  utils.js                        |     100 |      100 |     100 |     100 |                   
----------------------------------|---------|----------|---------|---------|-------------------
************* run test done *************
semantic-release is testing ./VariantsDeps/execa/variant2/execa
************* npm unlink module *************

removed 2 packages, changed 1 package, and audited 1494 packages in 4s

147 packages are looking for funding
  run `npm fund` for details

14 vulnerabilities (6 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 712ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 479ms

1 package is looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 2 packages, changed 1 package, and audited 1497 packages in 4s

148 packages are looking for funding
  run `npm fund` for details

14 vulnerabilities (6 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm link module done *************
************* start run test *************

> semantic-release@0.0.0-development pretest
> npm run lint


> semantic-release@0.0.0-development lint
> xo


> semantic-release@0.0.0-development test
> nyc ava -v


  Uncaught exception in test/get-commits.test.js

  test/get-commits.test.js:3

   2: const {stub} = require('sinon');                                          
   3: const getCommits = require('../lib/get-commits');                         
   4: const {gitRepo, gitCommits, gitDetachedHead} = require('./helpers/git-uti…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant2/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/get-commits.js:2:218)
  › Object.<anonymous> (test/get-commits.test.js:3:20)

  ✖ test/get-commits.test.js exited with a non-zero exit code: 1
  ✖ cli › Pass options to semantic-release API Rejected promise returned by test
  ✖ cli › Pass options to semantic-release API with alias arguments Rejected promise returned by test
  ✖ cli › Pass unknown options to semantic-release API Rejected promise returned by test
  ✖ cli › Pass empty Array to semantic-release API for list option set to "false" Rejected promise returned by test
  ✖ cli › Do not set properties in option for which arg is not in command line Rejected promise returned by test
  ✔ cli › Display help
  ✔ cli › Return error exitCode and prints help if called with a command
  ✔ cli › Return error exitCode if multiple plugin are set for single plugin
  ✖ cli › Return error exitCode if semantic-release throw error 
  ✖ cli › Hide sensitive environment variable values from the logs 

  Uncaught exception in test/get-config.test.js

  test/get-config.test.js:9

   8: const yaml = require('js-yaml');                                          
   9: const {gitRepo, gitTagVersion, gitCommits, gitShallowClone, gitAddConfig}…
   10:                                                                           

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant2/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/helpers/git-utils.js:2:15)
  › Object.<anonymous> (test/get-config.test.js:9:77)

  ✖ test/get-config.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/get-git-auth-url.test.js

  test/get-git-auth-url.test.js:2

   1: const test = require('ava');                          
   2: const getAuthUrl = require('../lib/get-git-auth-url');
   3: const {gitRepo} = require('./helpers/git-utils');     

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant2/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/get-git-auth-url.js:3:171)
  › Object.<anonymous> (test/get-git-auth-url.test.js:2:20)

  ✖ test/get-git-auth-url.test.js exited with a non-zero exit code: 1
  ✔ get-last-release › Get the highest non-prerelease valid tag
  ✔ get-last-release › Get the highest prerelease valid tag, ignoring other tags from other prerelease channels
  ✔ get-last-release › Return empty object if no valid tag is found
  ✔ get-last-release › Get the highest non-prerelease valid tag before a certain version
  ✔ get-logger › Expose "error", "success" and "log" functions
  ✔ get-next-version › Increase version for patch release
  ✔ get-next-version › Increase version for minor release
  ✔ get-next-version › Increase version for major release
  ✔ get-next-version › Return 1.0.0 if there is no previous release
  ✔ get-next-version › Increase version for patch release on prerelease branch
  ✔ get-next-version › Increase version for minor release on prerelease branch
  ✔ get-next-version › Increase version for major release on prerelease branch
  ✔ get-next-version › Return 1.0.0 if there is no previous release on prerelease branch
  ✔ get-next-version › Increase version for release on prerelease branch after previous commits were merged to release branch
  ✔ get-next-version › Increase version for release on prerelease branch based on highest commit type since last regular release
  ✔ get-next-version › Increase version for release on prerelease branch when there is no regular releases on other branches
  ✔ get-release-to-add › Return versions merged from release to maintenance branch, excluding lower than branch start range
  ✔ get-release-to-add › Return versions merged between release branches
  ✔ get-release-to-add › Return releases sorted by ascending order
  ✔ get-release-to-add › No lastRelease
  ✔ get-release-to-add › Ignore pre-release versions
  ✔ get-release-to-add › Exclude versions merged from release to maintenance branch if they have the same "channel"
  ✔ get-release-to-add › Exclude versions merged between release branches if they have the same "channel"
  ✔ get-release-to-add › Exclude versions merged between release branches if they all have "channel" set to "false"
  ✔ get-release-to-add › Exclude versions number less than the latest version already released on that branch

  Uncaught exception in test/git.test.js

  test/git.test.js:19

   18:   fetchNotes,             
   19: } = require('../lib/git');
   20: const {                   

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant2/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (test/git.test.js:19:5)

  ✖ test/git.test.js exited with a non-zero exit code: 1
  ✔ hide-sensitive › Replace multiple sensitive environment variable values
  ✔ hide-sensitive › Replace multiple occurences of sensitive environment variable values
  ✔ hide-sensitive › Replace sensitive environment variable matching specific regex for "private"
  ✔ hide-sensitive › Replace url-encoded environment variable
  ✔ hide-sensitive › Escape regexp special characters
  ✔ hide-sensitive › Escape regexp special characters in url-encoded environment variable
  ✔ hide-sensitive › Accept "undefined" input
  ✔ hide-sensitive › Return same string if no environment variable has to be replaced
  ✔ hide-sensitive › Exclude empty environment variables from the regexp
  ✔ hide-sensitive › Exclude empty environment variables from the regexp if there is only empty ones
  ✔ hide-sensitive › Exclude nonsensitive GOPRIVATE environment variable for Golang projects from the regexp
  ✔ hide-sensitive › Exclude environment variables with value shorter than SECRET_MIN_SIZE from the regexp

  Uncaught exception in test/index.test.js

  test/index.test.js:24

   23:   gitGetNote,                      
   24: } = require('./helpers/git-utils');
   25:                                    

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant2/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/helpers/git-utils.js:2:15)
  › Object.<anonymous> (test/index.test.js:24:5)

  ✖ test/index.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/integration.test.js

  test/integration.test.js:6

   5: const {writeJson, readJson} = require('fs-extra');       
   6: const execa = require('execa');                          
   7: const {WritableStreamBuffer} = require('stream-buffers');

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant2/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/integration.test.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/integration.test.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/integration.test.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/integration.test.js:6:15)

  ✖ test/integration.test.js exited with a non-zero exit code: 1
  ✔ utils › getLatestVersion
  ✔ utils › getEarliestVersion
  ✔ utils › extractErrors
  ✔ utils › tagsToVersions
  ✔ utils › isMajorRange
  ✔ utils › isMaintenanceRange
  ✔ utils › getUpperBound
  ✔ utils › getLowerBound
  ✔ utils › highest
  ✔ utils › lowest
  ✔ utils › getFirstVersion
  ✔ utils › getRange
  ✔ utils › makeTag
  ✔ utils › isSameChannel

  Uncaught exception in test/verify.test.js

  test/verify.test.js:3

   2: const tempy = require('tempy');                  
   3: const verify = require('../lib/verify');         
   4: const {gitRepo} = require('./helpers/git-utils');

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant2/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/verify.js:2:305)
  › Object.<anonymous> (test/verify.test.js:3:16)

  ✖ test/verify.test.js exited with a non-zero exit code: 1
  ✖ branches › branches › Enforce ranges with branching release workflow Rejected promise returned by test
  ✖ branches › branches › Throw SemanticReleaseError for invalid configurations Rejected promise returned by test
  ✖ branches › branches › Throw a SemanticReleaseError if there is duplicate branches Rejected promise returned by test
  ✖ branches › branches › Throw a SemanticReleaseError for each invalid branch name Rejected promise returned by test

  Uncaught exception in test/branches/expand.test.js

  test/branches/expand.test.js:2

   1: const test = require('ava');                                              
   2: const expand = require('../../lib/branches/expand');                      
   3: const {gitRepo, gitCommits, gitCheckout, gitPush} = require('../helpers/g…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant2/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/branches/expand.js:2:292)
  › Object.<anonymous> (test/branches/expand.test.js:2:16)

  ✖ test/branches/expand.test.js exited with a non-zero exit code: 1
  ✔ branches › normalize › Maintenance branches - initial state
  ✔ branches › normalize › Maintenance branches - cap range to first release present on default branch and not in any Maintenance one
  ✔ branches › normalize › Maintenance branches - cap range to default branch last release if all release are also present on maintenance branch
  ✔ branches › normalize › Release branches - initial state
  ✔ branches › normalize › Release branches - 3 release branches
  ✔ branches › normalize › Release branches - 2 release branches
  ✔ branches › normalize › Release branches - 1 release branches
  ✔ branches › normalize › Release branches - cap ranges to first release only present on following branch
  ✔ branches › normalize › Release branches - Handle missing previous tags in branch history
  ✔ branches › normalize › Release branches - limit releases on 2nd and 3rd branch based on 1st branch last release
  ✔ branches › normalize › Prerelease branches
  ✔ branches › normalize › Allow to set channel to "false" to prevent default

  Uncaught exception in test/branches/get-tags.test.js

  test/branches/get-tags.test.js:2

   1: const test = require('ava');                                              
   2: const getTags = require('../../lib/branches/get-tags');                   
   3: const {gitRepo, gitCommits, gitTagVersion, gitCheckout, gitAddNote} = req…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant2/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/branches/get-tags.js:2:407)
  › Object.<anonymous> (test/branches/get-tags.test.js:2:17)

  ✖ test/branches/get-tags.test.js exited with a non-zero exit code: 1
  ✔ definitions › branches › A "maintenance" branch is identified by having a "range" property or a "name" formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › A "maintenance" branches must have a "range" property formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › The "maintenance" branches must have unique ranges
  ✔ definitions › branches › A "prerelease" branch is identified by having a thruthy "prerelease" property
  ✔ definitions › branches › A "prerelease" branch must have a valid prerelease detonation in "prerelease" property or in "name" if "prerelease" is "true"
  ✔ definitions › branches › The "prerelease" branches must have unique "prerelease" property
  ✔ definitions › branches › A "release" branch is identified by not havin a "range" or "prerelease" property or a "name" formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › There must be between 1 and 3 release branches

  Uncaught exception in test/definitions/plugins.test.js

  test/definitions/plugins.test.js:2

   1: const test = require('ava');                                              
   2: const plugins = require('../../lib/definitions/plugins');                 
   3: const {RELEASE_NOTES_SEPARATOR, SECRET_REPLACEMENT} = require('../../lib/…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant2/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (test/definitions/plugins.test.js:2:17)

  ✖ test/definitions/plugins.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/plugins/normalize.test.js

  test/plugins/normalize.test.js:4

   3: const {stub} = require('sinon');                         
   4: const normalize = require('../../lib/plugins/normalize');
   5:                                                          

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant2/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (lib/plugins/normalize.js:2:454)
  › Object.<anonymous> (test/plugins/normalize.test.js:4:19)

  ✔ plugins › pipeline › Throw all errors from all steps throwing an AggregateError
  ✔ plugins › pipeline › Stop execution and throw error if a step rejects
  ✔ plugins › pipeline › Throw all errors from the first step throwing an AggregateError
  ✔ plugins › pipeline › Execute each function in series passing the same input
  ✔ plugins › pipeline › Execute all even if a Promise rejects
  ✔ plugins › pipeline › Execute each function in series passing a transformed input from "getNextInput"
  ✔ plugins › pipeline › Execute each function in series passing the "lastResult" and "result" to "getNextInput"
  ✔ plugins › pipeline › Execute each function in series calling "transform" to modify the results
  ✔ plugins › pipeline › Execute each function in series calling "transform" to modify the results with "settleAll"
  ✔ plugins › pipeline › Execute each function in series passing a transformed input even if a step rejects
  ✖ test/plugins/normalize.test.js exited with a non-zero exit code: 1
  ✔ plugins › utils › validatePlugin
  ✔ plugins › utils › validateStep: optional plugin configuration
  ✔ plugins › utils › validateStep: required plugin configuration
  ✔ plugins › utils › loadPlugin
  ✔ plugins › utils › parseConfig

  Uncaught exception in test/plugins/plugins.test.js

  test/plugins/plugins.test.js:6

   5: const tempy = require('tempy');                 
   6: const getPlugins = require('../../lib/plugins');
   7:                                                 

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant2/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (lib/plugins/index.js:2:386)
  › Object.<anonymous> (test/plugins/plugins.test.js:6:20)

  ✖ test/plugins/plugins.test.js exited with a non-zero exit code: 1
  ─

  cli › Pass options to semantic-release API

  test/cli.test.js:70

   69:                                                                          
   70:   t.deepEqual(run.args[0][0].branches, ['master', 'next']);              
   71:   t.is(run.args[0][0].repositoryUrl, 'https://github/com/owner/repo.git'…

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:70:26



  cli › Pass options to semantic-release API with alias arguments

  test/cli.test.js:112

   111:                                                                         
   112:   t.deepEqual(run.args[0][0].branches, ['master']);                     
   113:   t.is(run.args[0][0].repositoryUrl, 'https://github/com/owner/repo.git…

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:112:26



  cli › Pass unknown options to semantic-release API

  test/cli.test.js:129

   128:                                              
   129:   t.is(run.args[0][0].bool, true);           
   130:   t.is(run.args[0][0].firstOption, 'value1');

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:129:19



  cli › Pass empty Array to semantic-release API for list option set to "false"

  test/cli.test.js:143

   142:                                           
   143:   t.deepEqual(run.args[0][0].publish, []);
   144:                                           

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:143:26



  cli › Do not set properties in option for which arg is not in command line

  test/cli.test.js:155

   154:                                   
   155:   t.false('ci' in run.args[0][0]);
   156:   t.false('d' in run.args[0][0]); 

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:155:30



  cli › Return error exitCode if semantic-release throw error

  test/cli.test.js:207

   206:                                                       
   207:   t.regex(t.context.errors, /semantic-release error/);
   208:   t.is(exitCode, 1);                                  

  Value must match expression:

  `Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant2/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/git.js:2:264)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/get-config.js:2:512)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/index.js:2:622)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Proxyquire._require (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mproxyquire[24m/lib/proxyquire.js:188:36)␊
      at module.exports (/data/js-variants/multee/Clients/execa/semantic-release/cli.js:7:110)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/test/cli.test.js:205:26␊
      at Test.callFn (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:622:21)␊
      at Test.run (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:635:23)␊
      at Runner.runSingle (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:299:33)␊
      at Runner.runTest (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:376:30)␊
      at async /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:508:24␊
      at async Promise.all (index 1)␊
      at async Runner.start (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:547:15) {␊
    code: [32m'ERR_REQUIRE_ESM'[39m␊
  }`

  Regular expression:

  /semantic-release error/

  › test/cli.test.js:207:5



  cli › Hide sensitive environment variable values from the logs

  test/cli.test.js:219

   218:                                                                         
   219:   t.regex(t.context.errors, new RegExp(`Throw error: Exposing token ${e…
   220:   t.is(exitCode, 1);                                                    

  Value must match expression:

  `Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant2/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/git.js:2:264)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/get-config.js:2:512)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/index.js:2:622)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Proxyquire._require (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mproxyquire[24m/lib/proxyquire.js:188:36)␊
      at module.exports (/data/js-variants/multee/Clients/execa/semantic-release/cli.js:7:110)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/test/cli.test.js:217:26␊
      at Test.callFn (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:622:21)␊
      at Test.run (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:635:23)␊
      at Runner.runSingle (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:299:33)␊
      at Runner.runTest (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:376:30)␊
      at async Promise.all (index 1)␊
      at async Runner.start (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:547:15) {␊
    code: [32m'ERR_REQUIRE_ESM'[39m␊
  }`

  Regular expression:

  /Throw error: Exposing token \[secure\]/

  › test/cli.test.js:219:5



  branches › branches › Enforce ranges with branching release workflow

  test/branches/branches.test.js:25

   24:   ];                                                                     
   25:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': ()…
   26:                                                                          

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant2/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:25:23



  branches › branches › Throw SemanticReleaseError for invalid configurations

  test/branches/branches.test.js:202

   201:   ];                                                                    
   202:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   203:   const errors = [...(await t.throwsAsync(getBranches('repositoryUrl', …

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant2/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:202:23



  branches › branches › Throw a SemanticReleaseError if there is duplicate branches

  test/branches/branches.test.js:232

   231:   ];                                                                    
   232:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   233:                                                                         

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant2/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:232:23



  branches › branches › Throw a SemanticReleaseError for each invalid branch name

  test/branches/branches.test.js:247

   246:   ];                                                                    
   247:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   248:                                                                         

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant2/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:247:23

  ─

  11 tests failed
  12 uncaught exceptions
----------------------------------|---------|----------|---------|---------|-------------------
File                              | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
----------------------------------|---------|----------|---------|---------|-------------------
All files                         |   36.17 |    40.67 |   33.85 |   35.78 |                   
 semantic-release                 |   16.96 |    13.95 |   33.33 |   16.77 |                   
  cli.js                          |   95.24 |      100 |     100 |      95 | 56                
  index.js                        |       6 |        0 |       0 |    6.12 | 10-279            
 semantic-release/lib             |   41.95 |    45.64 |   46.75 |   40.93 |                   
  get-commits.js                  |      20 |        0 |       0 |      20 | 11-22             
  get-config.js                   |   16.22 |        0 |       0 |   16.22 | 7-89              
  get-error.js                    |      60 |        0 |       0 |      60 | 5-6               
  get-git-auth-url.js             |     8.7 |        0 |       0 |    9.09 | 5-121             
  get-last-release.js             |     100 |      100 |     100 |     100 |                   
  get-logger.js                   |     100 |      100 |     100 |     100 |                   
  get-next-version.js             |     100 |      100 |     100 |     100 |                   
  get-release-to-add.js           |     100 |      100 |     100 |     100 |                   
  git.js                          |    5.77 |        0 |       0 |    5.77 | 4-331             
  hide-sensitive.js               |     100 |      100 |     100 |     100 |                   
  utils.js                        |   81.82 |    95.74 |   86.36 |   78.57 | 10-17             
  verify.js                       |      15 |        0 |       0 |      15 | 4-41              
 semantic-release/lib/branches    |   44.32 |    53.97 |   29.17 |   44.83 |                   
  expand.js                       |      30 |        0 |       0 |   33.33 | 5-13              
  get-tags.js                     |   38.46 |        0 |       0 |   38.46 | 7-29              
  index.js                        |   15.38 |        0 |       0 |   15.38 | 7-70              
  normalize.js                    |   96.15 |    97.14 |     100 |   96.15 | 60                
 semantic-release/lib/definitions |   38.14 |    32.56 |      15 |   37.89 |                   
  branches.js                     |     100 |    93.33 |     100 |     100 | 7                 
  constants.js                    |     100 |      100 |     100 |     100 |                   
  errors.js                       |   24.32 |        0 |       0 |      25 | 8,11,14-224       
  plugins.js                      |    5.88 |        0 |       0 |    5.88 | 5-106             
 semantic-release/lib/plugins     |   42.64 |    47.86 |   47.37 |   42.52 |                   
  index.js                        |     9.3 |        0 |       0 |     9.3 | 5-92              
  normalize.js                    |    12.5 |        0 |       0 |   12.82 | 6-66              
  pipeline.js                     |     100 |      100 |     100 |     100 |                   
  utils.js                        |     100 |      100 |     100 |     100 |                   
----------------------------------|---------|----------|---------|---------|-------------------
************* run test done *************
semantic-release is testing ./VariantsDeps/execa/variant1/execa
************* npm unlink module *************

removed 2 packages, changed 1 package, and audited 1494 packages in 4s

147 packages are looking for funding
  run `npm fund` for details

14 vulnerabilities (6 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 748ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 407ms

1 package is looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 2 packages, changed 1 package, and audited 1497 packages in 4s

148 packages are looking for funding
  run `npm fund` for details

14 vulnerabilities (6 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm link module done *************
************* start run test *************

> semantic-release@0.0.0-development pretest
> npm run lint


> semantic-release@0.0.0-development lint
> xo


> semantic-release@0.0.0-development test
> nyc ava -v


  Uncaught exception in test/get-commits.test.js

  test/get-commits.test.js:3

   2: const {stub} = require('sinon');                                          
   3: const getCommits = require('../lib/get-commits');                         
   4: const {gitRepo, gitCommits, gitDetachedHead} = require('./helpers/git-uti…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant1/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/get-commits.js:2:218)
  › Object.<anonymous> (test/get-commits.test.js:3:20)

  ✖ test/get-commits.test.js exited with a non-zero exit code: 1
  ✖ cli › Pass options to semantic-release API Rejected promise returned by test
  ✖ cli › Pass options to semantic-release API with alias arguments Rejected promise returned by test
  ✖ cli › Pass unknown options to semantic-release API Rejected promise returned by test
  ✖ cli › Pass empty Array to semantic-release API for list option set to "false" Rejected promise returned by test
  ✖ cli › Do not set properties in option for which arg is not in command line Rejected promise returned by test
  ✔ cli › Display help
  ✔ cli › Return error exitCode and prints help if called with a command
  ✔ cli › Return error exitCode if multiple plugin are set for single plugin
  ✖ cli › Return error exitCode if semantic-release throw error 
  ✖ cli › Hide sensitive environment variable values from the logs 

  Uncaught exception in test/get-config.test.js

  test/get-config.test.js:9

   8: const yaml = require('js-yaml');                                          
   9: const {gitRepo, gitTagVersion, gitCommits, gitShallowClone, gitAddConfig}…
   10:                                                                           

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant1/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/helpers/git-utils.js:2:15)
  › Object.<anonymous> (test/get-config.test.js:9:77)

  ✖ test/get-config.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/get-git-auth-url.test.js

  test/get-git-auth-url.test.js:2

   1: const test = require('ava');                          
   2: const getAuthUrl = require('../lib/get-git-auth-url');
   3: const {gitRepo} = require('./helpers/git-utils');     

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant1/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/get-git-auth-url.js:3:171)
  › Object.<anonymous> (test/get-git-auth-url.test.js:2:20)

  ✖ test/get-git-auth-url.test.js exited with a non-zero exit code: 1
  ✔ get-last-release › Get the highest non-prerelease valid tag
  ✔ get-last-release › Get the highest prerelease valid tag, ignoring other tags from other prerelease channels
  ✔ get-last-release › Return empty object if no valid tag is found
  ✔ get-last-release › Get the highest non-prerelease valid tag before a certain version
  ✔ get-logger › Expose "error", "success" and "log" functions
  ✔ get-next-version › Increase version for patch release
  ✔ get-next-version › Increase version for minor release
  ✔ get-next-version › Increase version for major release
  ✔ get-next-version › Return 1.0.0 if there is no previous release
  ✔ get-next-version › Increase version for patch release on prerelease branch
  ✔ get-next-version › Increase version for minor release on prerelease branch
  ✔ get-next-version › Increase version for major release on prerelease branch
  ✔ get-next-version › Return 1.0.0 if there is no previous release on prerelease branch
  ✔ get-next-version › Increase version for release on prerelease branch after previous commits were merged to release branch
  ✔ get-next-version › Increase version for release on prerelease branch based on highest commit type since last regular release
  ✔ get-next-version › Increase version for release on prerelease branch when there is no regular releases on other branches
  ✔ get-release-to-add › Return versions merged from release to maintenance branch, excluding lower than branch start range
  ✔ get-release-to-add › Return versions merged between release branches
  ✔ get-release-to-add › Return releases sorted by ascending order
  ✔ get-release-to-add › No lastRelease
  ✔ get-release-to-add › Ignore pre-release versions
  ✔ get-release-to-add › Exclude versions merged from release to maintenance branch if they have the same "channel"
  ✔ get-release-to-add › Exclude versions merged between release branches if they have the same "channel"
  ✔ get-release-to-add › Exclude versions merged between release branches if they all have "channel" set to "false"
  ✔ get-release-to-add › Exclude versions number less than the latest version already released on that branch

  Uncaught exception in test/git.test.js

  test/git.test.js:19

   18:   fetchNotes,             
   19: } = require('../lib/git');
   20: const {                   

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant1/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (test/git.test.js:19:5)

  ✖ test/git.test.js exited with a non-zero exit code: 1
  ✔ hide-sensitive › Replace multiple sensitive environment variable values
  ✔ hide-sensitive › Replace multiple occurences of sensitive environment variable values
  ✔ hide-sensitive › Replace sensitive environment variable matching specific regex for "private"
  ✔ hide-sensitive › Replace url-encoded environment variable
  ✔ hide-sensitive › Escape regexp special characters
  ✔ hide-sensitive › Escape regexp special characters in url-encoded environment variable
  ✔ hide-sensitive › Accept "undefined" input
  ✔ hide-sensitive › Return same string if no environment variable has to be replaced
  ✔ hide-sensitive › Exclude empty environment variables from the regexp
  ✔ hide-sensitive › Exclude empty environment variables from the regexp if there is only empty ones
  ✔ hide-sensitive › Exclude nonsensitive GOPRIVATE environment variable for Golang projects from the regexp
  ✔ hide-sensitive › Exclude environment variables with value shorter than SECRET_MIN_SIZE from the regexp

  Uncaught exception in test/index.test.js

  test/index.test.js:24

   23:   gitGetNote,                      
   24: } = require('./helpers/git-utils');
   25:                                    

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant1/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/helpers/git-utils.js:2:15)
  › Object.<anonymous> (test/index.test.js:24:5)

  ✖ test/index.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/integration.test.js

  test/integration.test.js:6

   5: const {writeJson, readJson} = require('fs-extra');       
   6: const execa = require('execa');                          
   7: const {WritableStreamBuffer} = require('stream-buffers');

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant1/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/integration.test.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/integration.test.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/integration.test.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/integration.test.js:6:15)

  ✖ test/integration.test.js exited with a non-zero exit code: 1
  ✔ utils › getLatestVersion
  ✔ utils › getEarliestVersion
  ✔ utils › extractErrors
  ✔ utils › tagsToVersions
  ✔ utils › isMajorRange
  ✔ utils › isMaintenanceRange
  ✔ utils › getUpperBound
  ✔ utils › getLowerBound
  ✔ utils › highest
  ✔ utils › lowest
  ✔ utils › getFirstVersion
  ✔ utils › getRange
  ✔ utils › makeTag
  ✔ utils › isSameChannel

  Uncaught exception in test/verify.test.js

  test/verify.test.js:3

   2: const tempy = require('tempy');                  
   3: const verify = require('../lib/verify');         
   4: const {gitRepo} = require('./helpers/git-utils');

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant1/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/verify.js:2:305)
  › Object.<anonymous> (test/verify.test.js:3:16)

  ✖ test/verify.test.js exited with a non-zero exit code: 1
  ✖ branches › branches › Enforce ranges with branching release workflow Rejected promise returned by test
  ✖ branches › branches › Throw SemanticReleaseError for invalid configurations Rejected promise returned by test
  ✖ branches › branches › Throw a SemanticReleaseError if there is duplicate branches Rejected promise returned by test
  ✖ branches › branches › Throw a SemanticReleaseError for each invalid branch name Rejected promise returned by test

  Uncaught exception in test/branches/expand.test.js

  test/branches/expand.test.js:2

   1: const test = require('ava');                                              
   2: const expand = require('../../lib/branches/expand');                      
   3: const {gitRepo, gitCommits, gitCheckout, gitPush} = require('../helpers/g…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant1/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/branches/expand.js:2:292)
  › Object.<anonymous> (test/branches/expand.test.js:2:16)

  ✖ test/branches/expand.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/branches/get-tags.test.js

  test/branches/get-tags.test.js:2

   1: const test = require('ava');                                              
   2: const getTags = require('../../lib/branches/get-tags');                   
   3: const {gitRepo, gitCommits, gitTagVersion, gitCheckout, gitAddNote} = req…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant1/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/branches/get-tags.js:2:407)
  › Object.<anonymous> (test/branches/get-tags.test.js:2:17)

  ✔ branches › normalize › Maintenance branches - initial state
  ✔ branches › normalize › Maintenance branches - cap range to first release present on default branch and not in any Maintenance one
  ✔ branches › normalize › Maintenance branches - cap range to default branch last release if all release are also present on maintenance branch
  ✔ branches › normalize › Release branches - initial state
  ✔ branches › normalize › Release branches - 3 release branches
  ✔ branches › normalize › Release branches - 2 release branches
  ✔ branches › normalize › Release branches - 1 release branches
  ✔ branches › normalize › Release branches - cap ranges to first release only present on following branch
  ✔ branches › normalize › Release branches - Handle missing previous tags in branch history
  ✔ branches › normalize › Release branches - limit releases on 2nd and 3rd branch based on 1st branch last release
  ✔ branches › normalize › Prerelease branches
  ✔ branches › normalize › Allow to set channel to "false" to prevent default
  ✖ test/branches/get-tags.test.js exited with a non-zero exit code: 1
  ✔ definitions › branches › A "maintenance" branch is identified by having a "range" property or a "name" formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › A "maintenance" branches must have a "range" property formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › The "maintenance" branches must have unique ranges
  ✔ definitions › branches › A "prerelease" branch is identified by having a thruthy "prerelease" property
  ✔ definitions › branches › A "prerelease" branch must have a valid prerelease detonation in "prerelease" property or in "name" if "prerelease" is "true"
  ✔ definitions › branches › The "prerelease" branches must have unique "prerelease" property
  ✔ definitions › branches › A "release" branch is identified by not havin a "range" or "prerelease" property or a "name" formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › There must be between 1 and 3 release branches

  Uncaught exception in test/definitions/plugins.test.js

  test/definitions/plugins.test.js:2

   1: const test = require('ava');                                              
   2: const plugins = require('../../lib/definitions/plugins');                 
   3: const {RELEASE_NOTES_SEPARATOR, SECRET_REPLACEMENT} = require('../../lib/…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant1/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (test/definitions/plugins.test.js:2:17)

  ✖ test/definitions/plugins.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/plugins/normalize.test.js

  test/plugins/normalize.test.js:4

   3: const {stub} = require('sinon');                         
   4: const normalize = require('../../lib/plugins/normalize');
   5:                                                          

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant1/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (lib/plugins/normalize.js:2:454)
  › Object.<anonymous> (test/plugins/normalize.test.js:4:19)

  ✔ plugins › pipeline › Throw all errors from all steps throwing an AggregateError
  ✔ plugins › pipeline › Stop execution and throw error if a step rejects
  ✔ plugins › pipeline › Throw all errors from the first step throwing an AggregateError
  ✔ plugins › pipeline › Execute each function in series passing the same input
  ✔ plugins › pipeline › Execute all even if a Promise rejects
  ✔ plugins › pipeline › Execute each function in series passing a transformed input from "getNextInput"
  ✔ plugins › pipeline › Execute each function in series passing the "lastResult" and "result" to "getNextInput"
  ✔ plugins › pipeline › Execute each function in series calling "transform" to modify the results
  ✔ plugins › pipeline › Execute each function in series calling "transform" to modify the results with "settleAll"
  ✔ plugins › pipeline › Execute each function in series passing a transformed input even if a step rejects
  ✖ test/plugins/normalize.test.js exited with a non-zero exit code: 1
  ✔ plugins › utils › validatePlugin
  ✔ plugins › utils › validateStep: optional plugin configuration
  ✔ plugins › utils › validateStep: required plugin configuration
  ✔ plugins › utils › loadPlugin
  ✔ plugins › utils › parseConfig

  Uncaught exception in test/plugins/plugins.test.js

  test/plugins/plugins.test.js:6

   5: const tempy = require('tempy');                 
   6: const getPlugins = require('../../lib/plugins');
   7:                                                 

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant1/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (lib/plugins/index.js:2:386)
  › Object.<anonymous> (test/plugins/plugins.test.js:6:20)

  ✖ test/plugins/plugins.test.js exited with a non-zero exit code: 1
  ─

  cli › Pass options to semantic-release API

  test/cli.test.js:70

   69:                                                                          
   70:   t.deepEqual(run.args[0][0].branches, ['master', 'next']);              
   71:   t.is(run.args[0][0].repositoryUrl, 'https://github/com/owner/repo.git'…

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:70:26



  cli › Pass options to semantic-release API with alias arguments

  test/cli.test.js:112

   111:                                                                         
   112:   t.deepEqual(run.args[0][0].branches, ['master']);                     
   113:   t.is(run.args[0][0].repositoryUrl, 'https://github/com/owner/repo.git…

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:112:26



  cli › Pass unknown options to semantic-release API

  test/cli.test.js:129

   128:                                              
   129:   t.is(run.args[0][0].bool, true);           
   130:   t.is(run.args[0][0].firstOption, 'value1');

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:129:19



  cli › Pass empty Array to semantic-release API for list option set to "false"

  test/cli.test.js:143

   142:                                           
   143:   t.deepEqual(run.args[0][0].publish, []);
   144:                                           

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:143:26



  cli › Do not set properties in option for which arg is not in command line

  test/cli.test.js:155

   154:                                   
   155:   t.false('ci' in run.args[0][0]);
   156:   t.false('d' in run.args[0][0]); 

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:155:30



  cli › Return error exitCode if semantic-release throw error

  test/cli.test.js:207

   206:                                                       
   207:   t.regex(t.context.errors, /semantic-release error/);
   208:   t.is(exitCode, 1);                                  

  Value must match expression:

  `Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant1/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/git.js:2:264)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/get-config.js:2:512)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/index.js:2:622)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Proxyquire._require (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mproxyquire[24m/lib/proxyquire.js:188:36)␊
      at module.exports (/data/js-variants/multee/Clients/execa/semantic-release/cli.js:7:110)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/test/cli.test.js:205:26␊
      at Test.callFn (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:622:21)␊
      at Test.run (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:635:23)␊
      at Runner.runSingle (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:299:33)␊
      at Runner.runTest (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:376:30)␊
      at async /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:508:24␊
      at async Promise.all (index 1)␊
      at async Runner.start (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:547:15) {␊
    code: [32m'ERR_REQUIRE_ESM'[39m␊
  }`

  Regular expression:

  /semantic-release error/

  › test/cli.test.js:207:5



  cli › Hide sensitive environment variable values from the logs

  test/cli.test.js:219

   218:                                                                         
   219:   t.regex(t.context.errors, new RegExp(`Throw error: Exposing token ${e…
   220:   t.is(exitCode, 1);                                                    

  Value must match expression:

  `Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant1/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/git.js:2:264)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/get-config.js:2:512)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/index.js:2:622)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Proxyquire._require (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mproxyquire[24m/lib/proxyquire.js:188:36)␊
      at module.exports (/data/js-variants/multee/Clients/execa/semantic-release/cli.js:7:110)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/test/cli.test.js:217:26␊
      at Test.callFn (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:622:21)␊
      at Test.run (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:635:23)␊
      at Runner.runSingle (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:299:33)␊
      at Runner.runTest (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:376:30)␊
      at async Promise.all (index 1)␊
      at async Runner.start (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:547:15) {␊
    code: [32m'ERR_REQUIRE_ESM'[39m␊
  }`

  Regular expression:

  /Throw error: Exposing token \[secure\]/

  › test/cli.test.js:219:5



  branches › branches › Enforce ranges with branching release workflow

  test/branches/branches.test.js:25

   24:   ];                                                                     
   25:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': ()…
   26:                                                                          

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant1/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:25:23



  branches › branches › Throw SemanticReleaseError for invalid configurations

  test/branches/branches.test.js:202

   201:   ];                                                                    
   202:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   203:   const errors = [...(await t.throwsAsync(getBranches('repositoryUrl', …

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant1/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:202:23



  branches › branches › Throw a SemanticReleaseError if there is duplicate branches

  test/branches/branches.test.js:232

   231:   ];                                                                    
   232:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   233:                                                                         

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant1/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:232:23



  branches › branches › Throw a SemanticReleaseError for each invalid branch name

  test/branches/branches.test.js:247

   246:   ];                                                                    
   247:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   248:                                                                         

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/VariantsDeps/execa/variant1/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:247:23

  ─

  11 tests failed
  12 uncaught exceptions
----------------------------------|---------|----------|---------|---------|-------------------
File                              | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
----------------------------------|---------|----------|---------|---------|-------------------
All files                         |   36.17 |    40.67 |   33.85 |   35.78 |                   
 semantic-release                 |   16.96 |    13.95 |   33.33 |   16.77 |                   
  cli.js                          |   95.24 |      100 |     100 |      95 | 56                
  index.js                        |       6 |        0 |       0 |    6.12 | 10-279            
 semantic-release/lib             |   41.95 |    45.64 |   46.75 |   40.93 |                   
  get-commits.js                  |      20 |        0 |       0 |      20 | 11-22             
  get-config.js                   |   16.22 |        0 |       0 |   16.22 | 7-89              
  get-error.js                    |      60 |        0 |       0 |      60 | 5-6               
  get-git-auth-url.js             |     8.7 |        0 |       0 |    9.09 | 5-121             
  get-last-release.js             |     100 |      100 |     100 |     100 |                   
  get-logger.js                   |     100 |      100 |     100 |     100 |                   
  get-next-version.js             |     100 |      100 |     100 |     100 |                   
  get-release-to-add.js           |     100 |      100 |     100 |     100 |                   
  git.js                          |    5.77 |        0 |       0 |    5.77 | 4-331             
  hide-sensitive.js               |     100 |      100 |     100 |     100 |                   
  utils.js                        |   81.82 |    95.74 |   86.36 |   78.57 | 10-17             
  verify.js                       |      15 |        0 |       0 |      15 | 4-41              
 semantic-release/lib/branches    |   44.32 |    53.97 |   29.17 |   44.83 |                   
  expand.js                       |      30 |        0 |       0 |   33.33 | 5-13              
  get-tags.js                     |   38.46 |        0 |       0 |   38.46 | 7-29              
  index.js                        |   15.38 |        0 |       0 |   15.38 | 7-70              
  normalize.js                    |   96.15 |    97.14 |     100 |   96.15 | 60                
 semantic-release/lib/definitions |   38.14 |    32.56 |      15 |   37.89 |                   
  branches.js                     |     100 |    93.33 |     100 |     100 | 7                 
  constants.js                    |     100 |      100 |     100 |     100 |                   
  errors.js                       |   24.32 |        0 |       0 |      25 | 8,11,14-224       
  plugins.js                      |    5.88 |        0 |       0 |    5.88 | 5-106             
 semantic-release/lib/plugins     |   42.64 |    47.86 |   47.37 |   42.52 |                   
  index.js                        |     9.3 |        0 |       0 |     9.3 | 5-92              
  normalize.js                    |    12.5 |        0 |       0 |   12.82 | 6-66              
  pipeline.js                     |     100 |      100 |     100 |     100 |                   
  utils.js                        |     100 |      100 |     100 |     100 |                   
----------------------------------|---------|----------|---------|---------|-------------------
************* run test done *************
/data/js-variants/multee
11
semantic-release is testing ./Variants/execa/variant11/execa
/data/js-variants/multee
************* npm unlink module *************

removed 2 packages, changed 1 package, and audited 1494 packages in 6s

147 packages are looking for funding
  run `npm fund` for details

14 vulnerabilities (6 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 701ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 409ms

1 package is looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 2 packages, changed 1 package, and audited 1497 packages in 4s

148 packages are looking for funding
  run `npm fund` for details

14 vulnerabilities (6 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm link module done *************
************* start run test *************

> semantic-release@0.0.0-development pretest
> npm run lint


> semantic-release@0.0.0-development lint
> xo


> semantic-release@0.0.0-development test
> nyc ava -v


  Uncaught exception in test/get-commits.test.js

  test/get-commits.test.js:3

   2: const {stub} = require('sinon');                                          
   3: const getCommits = require('../lib/get-commits');                         
   4: const {gitRepo, gitCommits, gitDetachedHead} = require('./helpers/git-uti…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant11/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/get-commits.js:2:218)
  › Object.<anonymous> (test/get-commits.test.js:3:20)

  ✖ test/get-commits.test.js exited with a non-zero exit code: 1
  ✖ cli › Pass options to semantic-release API Rejected promise returned by test
  ✖ cli › Pass options to semantic-release API with alias arguments Rejected promise returned by test
  ✖ cli › Pass unknown options to semantic-release API Rejected promise returned by test
  ✖ cli › Pass empty Array to semantic-release API for list option set to "false" Rejected promise returned by test
  ✖ cli › Do not set properties in option for which arg is not in command line Rejected promise returned by test
  ✔ cli › Display help
  ✔ cli › Return error exitCode and prints help if called with a command
  ✔ cli › Return error exitCode if multiple plugin are set for single plugin
  ✖ cli › Return error exitCode if semantic-release throw error 
  ✖ cli › Hide sensitive environment variable values from the logs 

  Uncaught exception in test/get-config.test.js

  test/get-config.test.js:9

   8: const yaml = require('js-yaml');                                          
   9: const {gitRepo, gitTagVersion, gitCommits, gitShallowClone, gitAddConfig}…
   10:                                                                           

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant11/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/helpers/git-utils.js:2:15)
  › Object.<anonymous> (test/get-config.test.js:9:77)

  ✖ test/get-config.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/get-git-auth-url.test.js

  test/get-git-auth-url.test.js:2

   1: const test = require('ava');                          
   2: const getAuthUrl = require('../lib/get-git-auth-url');
   3: const {gitRepo} = require('./helpers/git-utils');     

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant11/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/get-git-auth-url.js:3:171)
  › Object.<anonymous> (test/get-git-auth-url.test.js:2:20)

  ✖ test/get-git-auth-url.test.js exited with a non-zero exit code: 1
  ✔ get-last-release › Get the highest non-prerelease valid tag
  ✔ get-last-release › Get the highest prerelease valid tag, ignoring other tags from other prerelease channels
  ✔ get-last-release › Return empty object if no valid tag is found
  ✔ get-last-release › Get the highest non-prerelease valid tag before a certain version
  ✔ get-logger › Expose "error", "success" and "log" functions
  ✔ get-next-version › Increase version for patch release
  ✔ get-next-version › Increase version for minor release
  ✔ get-next-version › Increase version for major release
  ✔ get-next-version › Return 1.0.0 if there is no previous release
  ✔ get-next-version › Increase version for patch release on prerelease branch
  ✔ get-next-version › Increase version for minor release on prerelease branch
  ✔ get-next-version › Increase version for major release on prerelease branch
  ✔ get-next-version › Return 1.0.0 if there is no previous release on prerelease branch
  ✔ get-next-version › Increase version for release on prerelease branch after previous commits were merged to release branch
  ✔ get-next-version › Increase version for release on prerelease branch based on highest commit type since last regular release
  ✔ get-next-version › Increase version for release on prerelease branch when there is no regular releases on other branches
  ✔ get-release-to-add › Return versions merged from release to maintenance branch, excluding lower than branch start range
  ✔ get-release-to-add › Return versions merged between release branches
  ✔ get-release-to-add › Return releases sorted by ascending order
  ✔ get-release-to-add › No lastRelease
  ✔ get-release-to-add › Ignore pre-release versions
  ✔ get-release-to-add › Exclude versions merged from release to maintenance branch if they have the same "channel"
  ✔ get-release-to-add › Exclude versions merged between release branches if they have the same "channel"
  ✔ get-release-to-add › Exclude versions merged between release branches if they all have "channel" set to "false"
  ✔ get-release-to-add › Exclude versions number less than the latest version already released on that branch

  Uncaught exception in test/git.test.js

  test/git.test.js:19

   18:   fetchNotes,             
   19: } = require('../lib/git');
   20: const {                   

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant11/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (test/git.test.js:19:5)

  ✖ test/git.test.js exited with a non-zero exit code: 1
  ✔ hide-sensitive › Replace multiple sensitive environment variable values
  ✔ hide-sensitive › Replace multiple occurences of sensitive environment variable values
  ✔ hide-sensitive › Replace sensitive environment variable matching specific regex for "private"
  ✔ hide-sensitive › Replace url-encoded environment variable
  ✔ hide-sensitive › Escape regexp special characters
  ✔ hide-sensitive › Escape regexp special characters in url-encoded environment variable
  ✔ hide-sensitive › Accept "undefined" input
  ✔ hide-sensitive › Return same string if no environment variable has to be replaced
  ✔ hide-sensitive › Exclude empty environment variables from the regexp
  ✔ hide-sensitive › Exclude empty environment variables from the regexp if there is only empty ones
  ✔ hide-sensitive › Exclude nonsensitive GOPRIVATE environment variable for Golang projects from the regexp
  ✔ hide-sensitive › Exclude environment variables with value shorter than SECRET_MIN_SIZE from the regexp

  Uncaught exception in test/index.test.js

  test/index.test.js:24

   23:   gitGetNote,                      
   24: } = require('./helpers/git-utils');
   25:                                    

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant11/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/helpers/git-utils.js:2:15)
  › Object.<anonymous> (test/index.test.js:24:5)

  ✖ test/index.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/integration.test.js

  test/integration.test.js:6

   5: const {writeJson, readJson} = require('fs-extra');       
   6: const execa = require('execa');                          
   7: const {WritableStreamBuffer} = require('stream-buffers');

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant11/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/integration.test.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/integration.test.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/integration.test.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/integration.test.js:6:15)

  ✖ test/integration.test.js exited with a non-zero exit code: 1
  ✔ utils › getLatestVersion
  ✔ utils › getEarliestVersion
  ✔ utils › extractErrors
  ✔ utils › tagsToVersions
  ✔ utils › isMajorRange
  ✔ utils › isMaintenanceRange
  ✔ utils › getUpperBound
  ✔ utils › getLowerBound
  ✔ utils › highest
  ✔ utils › lowest
  ✔ utils › getFirstVersion
  ✔ utils › getRange
  ✔ utils › makeTag
  ✔ utils › isSameChannel

  Uncaught exception in test/verify.test.js

  test/verify.test.js:3

   2: const tempy = require('tempy');                  
   3: const verify = require('../lib/verify');         
   4: const {gitRepo} = require('./helpers/git-utils');

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant11/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/verify.js:2:305)
  › Object.<anonymous> (test/verify.test.js:3:16)

  ✖ test/verify.test.js exited with a non-zero exit code: 1
  ✖ branches › branches › Enforce ranges with branching release workflow Rejected promise returned by test
  ✖ branches › branches › Throw SemanticReleaseError for invalid configurations Rejected promise returned by test
  ✖ branches › branches › Throw a SemanticReleaseError if there is duplicate branches Rejected promise returned by test
  ✖ branches › branches › Throw a SemanticReleaseError for each invalid branch name Rejected promise returned by test

  Uncaught exception in test/branches/expand.test.js

  test/branches/expand.test.js:2

   1: const test = require('ava');                                              
   2: const expand = require('../../lib/branches/expand');                      
   3: const {gitRepo, gitCommits, gitCheckout, gitPush} = require('../helpers/g…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant11/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/branches/expand.js:2:292)
  › Object.<anonymous> (test/branches/expand.test.js:2:16)

  ✖ test/branches/expand.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/branches/get-tags.test.js

  test/branches/get-tags.test.js:2

   1: const test = require('ava');                                              
   2: const getTags = require('../../lib/branches/get-tags');                   
   3: const {gitRepo, gitCommits, gitTagVersion, gitCheckout, gitAddNote} = req…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant11/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/branches/get-tags.js:2:407)
  › Object.<anonymous> (test/branches/get-tags.test.js:2:17)

  ✔ branches › normalize › Maintenance branches - initial state
  ✔ branches › normalize › Maintenance branches - cap range to first release present on default branch and not in any Maintenance one
  ✔ branches › normalize › Maintenance branches - cap range to default branch last release if all release are also present on maintenance branch
  ✔ branches › normalize › Release branches - initial state
  ✔ branches › normalize › Release branches - 3 release branches
  ✔ branches › normalize › Release branches - 2 release branches
  ✔ branches › normalize › Release branches - 1 release branches
  ✔ branches › normalize › Release branches - cap ranges to first release only present on following branch
  ✔ branches › normalize › Release branches - Handle missing previous tags in branch history
  ✔ branches › normalize › Release branches - limit releases on 2nd and 3rd branch based on 1st branch last release
  ✔ branches › normalize › Prerelease branches
  ✔ branches › normalize › Allow to set channel to "false" to prevent default
  ✖ test/branches/get-tags.test.js exited with a non-zero exit code: 1
  ✔ definitions › branches › A "maintenance" branch is identified by having a "range" property or a "name" formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › A "maintenance" branches must have a "range" property formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › The "maintenance" branches must have unique ranges
  ✔ definitions › branches › A "prerelease" branch is identified by having a thruthy "prerelease" property
  ✔ definitions › branches › A "prerelease" branch must have a valid prerelease detonation in "prerelease" property or in "name" if "prerelease" is "true"
  ✔ definitions › branches › The "prerelease" branches must have unique "prerelease" property
  ✔ definitions › branches › A "release" branch is identified by not havin a "range" or "prerelease" property or a "name" formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › There must be between 1 and 3 release branches

  Uncaught exception in test/definitions/plugins.test.js

  test/definitions/plugins.test.js:2

   1: const test = require('ava');                                              
   2: const plugins = require('../../lib/definitions/plugins');                 
   3: const {RELEASE_NOTES_SEPARATOR, SECRET_REPLACEMENT} = require('../../lib/…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant11/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (test/definitions/plugins.test.js:2:17)

  ✖ test/definitions/plugins.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/plugins/normalize.test.js

  test/plugins/normalize.test.js:4

   3: const {stub} = require('sinon');                         
   4: const normalize = require('../../lib/plugins/normalize');
   5:                                                          

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant11/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (lib/plugins/normalize.js:2:454)
  › Object.<anonymous> (test/plugins/normalize.test.js:4:19)

  ✔ plugins › pipeline › Throw all errors from all steps throwing an AggregateError
  ✔ plugins › pipeline › Stop execution and throw error if a step rejects
  ✔ plugins › pipeline › Throw all errors from the first step throwing an AggregateError
  ✔ plugins › pipeline › Execute each function in series passing the same input
  ✔ plugins › pipeline › Execute all even if a Promise rejects
  ✔ plugins › pipeline › Execute each function in series passing a transformed input from "getNextInput"
  ✔ plugins › pipeline › Execute each function in series passing the "lastResult" and "result" to "getNextInput"
  ✔ plugins › pipeline › Execute each function in series calling "transform" to modify the results
  ✔ plugins › pipeline › Execute each function in series calling "transform" to modify the results with "settleAll"
  ✔ plugins › pipeline › Execute each function in series passing a transformed input even if a step rejects
  ✖ test/plugins/normalize.test.js exited with a non-zero exit code: 1
  ✔ plugins › utils › validatePlugin
  ✔ plugins › utils › validateStep: optional plugin configuration
  ✔ plugins › utils › validateStep: required plugin configuration
  ✔ plugins › utils › loadPlugin
  ✔ plugins › utils › parseConfig

  Uncaught exception in test/plugins/plugins.test.js

  test/plugins/plugins.test.js:6

   5: const tempy = require('tempy');                 
   6: const getPlugins = require('../../lib/plugins');
   7:                                                 

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant11/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (lib/plugins/index.js:2:386)
  › Object.<anonymous> (test/plugins/plugins.test.js:6:20)

  ✖ test/plugins/plugins.test.js exited with a non-zero exit code: 1
  ─

  cli › Pass options to semantic-release API

  test/cli.test.js:70

   69:                                                                          
   70:   t.deepEqual(run.args[0][0].branches, ['master', 'next']);              
   71:   t.is(run.args[0][0].repositoryUrl, 'https://github/com/owner/repo.git'…

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:70:26



  cli › Pass options to semantic-release API with alias arguments

  test/cli.test.js:112

   111:                                                                         
   112:   t.deepEqual(run.args[0][0].branches, ['master']);                     
   113:   t.is(run.args[0][0].repositoryUrl, 'https://github/com/owner/repo.git…

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:112:26



  cli › Pass unknown options to semantic-release API

  test/cli.test.js:129

   128:                                              
   129:   t.is(run.args[0][0].bool, true);           
   130:   t.is(run.args[0][0].firstOption, 'value1');

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:129:19



  cli › Pass empty Array to semantic-release API for list option set to "false"

  test/cli.test.js:143

   142:                                           
   143:   t.deepEqual(run.args[0][0].publish, []);
   144:                                           

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:143:26



  cli › Do not set properties in option for which arg is not in command line

  test/cli.test.js:155

   154:                                   
   155:   t.false('ci' in run.args[0][0]);
   156:   t.false('d' in run.args[0][0]); 

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:155:30



  cli › Return error exitCode if semantic-release throw error

  test/cli.test.js:207

   206:                                                       
   207:   t.regex(t.context.errors, /semantic-release error/);
   208:   t.is(exitCode, 1);                                  

  Value must match expression:

  `Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant11/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/git.js:2:264)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/get-config.js:2:512)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/index.js:2:622)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Proxyquire._require (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mproxyquire[24m/lib/proxyquire.js:188:36)␊
      at module.exports (/data/js-variants/multee/Clients/execa/semantic-release/cli.js:7:110)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/test/cli.test.js:205:26␊
      at Test.callFn (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:622:21)␊
      at Test.run (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:635:23)␊
      at Runner.runSingle (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:299:33)␊
      at Runner.runTest (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:376:30)␊
      at async /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:508:24␊
      at async Promise.all (index 1)␊
      at async Runner.start (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:547:15) {␊
    code: [32m'ERR_REQUIRE_ESM'[39m␊
  }`

  Regular expression:

  /semantic-release error/

  › test/cli.test.js:207:5



  cli › Hide sensitive environment variable values from the logs

  test/cli.test.js:219

   218:                                                                         
   219:   t.regex(t.context.errors, new RegExp(`Throw error: Exposing token ${e…
   220:   t.is(exitCode, 1);                                                    

  Value must match expression:

  `Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant11/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/git.js:2:264)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/get-config.js:2:512)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/index.js:2:622)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Proxyquire._require (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mproxyquire[24m/lib/proxyquire.js:188:36)␊
      at module.exports (/data/js-variants/multee/Clients/execa/semantic-release/cli.js:7:110)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/test/cli.test.js:217:26␊
      at Test.callFn (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:622:21)␊
      at Test.run (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:635:23)␊
      at Runner.runSingle (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:299:33)␊
      at Runner.runTest (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:376:30)␊
      at async Promise.all (index 1)␊
      at async Runner.start (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:547:15) {␊
    code: [32m'ERR_REQUIRE_ESM'[39m␊
  }`

  Regular expression:

  /Throw error: Exposing token \[secure\]/

  › test/cli.test.js:219:5



  branches › branches › Enforce ranges with branching release workflow

  test/branches/branches.test.js:25

   24:   ];                                                                     
   25:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': ()…
   26:                                                                          

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/Variants/execa/variant11/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:25:23



  branches › branches › Throw SemanticReleaseError for invalid configurations

  test/branches/branches.test.js:202

   201:   ];                                                                    
   202:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   203:   const errors = [...(await t.throwsAsync(getBranches('repositoryUrl', …

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/Variants/execa/variant11/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:202:23



  branches › branches › Throw a SemanticReleaseError if there is duplicate branches

  test/branches/branches.test.js:232

   231:   ];                                                                    
   232:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   233:                                                                         

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/Variants/execa/variant11/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:232:23



  branches › branches › Throw a SemanticReleaseError for each invalid branch name

  test/branches/branches.test.js:247

   246:   ];                                                                    
   247:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   248:                                                                         

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/Variants/execa/variant11/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:247:23

  ─

  11 tests failed
  12 uncaught exceptions
----------------------------------|---------|----------|---------|---------|-------------------
File                              | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
----------------------------------|---------|----------|---------|---------|-------------------
All files                         |   36.17 |    40.67 |   33.85 |   35.78 |                   
 semantic-release                 |   16.96 |    13.95 |   33.33 |   16.77 |                   
  cli.js                          |   95.24 |      100 |     100 |      95 | 56                
  index.js                        |       6 |        0 |       0 |    6.12 | 10-279            
 semantic-release/lib             |   41.95 |    45.64 |   46.75 |   40.93 |                   
  get-commits.js                  |      20 |        0 |       0 |      20 | 11-22             
  get-config.js                   |   16.22 |        0 |       0 |   16.22 | 7-89              
  get-error.js                    |      60 |        0 |       0 |      60 | 5-6               
  get-git-auth-url.js             |     8.7 |        0 |       0 |    9.09 | 5-121             
  get-last-release.js             |     100 |      100 |     100 |     100 |                   
  get-logger.js                   |     100 |      100 |     100 |     100 |                   
  get-next-version.js             |     100 |      100 |     100 |     100 |                   
  get-release-to-add.js           |     100 |      100 |     100 |     100 |                   
  git.js                          |    5.77 |        0 |       0 |    5.77 | 4-331             
  hide-sensitive.js               |     100 |      100 |     100 |     100 |                   
  utils.js                        |   81.82 |    95.74 |   86.36 |   78.57 | 10-17             
  verify.js                       |      15 |        0 |       0 |      15 | 4-41              
 semantic-release/lib/branches    |   44.32 |    53.97 |   29.17 |   44.83 |                   
  expand.js                       |      30 |        0 |       0 |   33.33 | 5-13              
  get-tags.js                     |   38.46 |        0 |       0 |   38.46 | 7-29              
  index.js                        |   15.38 |        0 |       0 |   15.38 | 7-70              
  normalize.js                    |   96.15 |    97.14 |     100 |   96.15 | 60                
 semantic-release/lib/definitions |   38.14 |    32.56 |      15 |   37.89 |                   
  branches.js                     |     100 |    93.33 |     100 |     100 | 7                 
  constants.js                    |     100 |      100 |     100 |     100 |                   
  errors.js                       |   24.32 |        0 |       0 |      25 | 8,11,14-224       
  plugins.js                      |    5.88 |        0 |       0 |    5.88 | 5-106             
 semantic-release/lib/plugins     |   42.64 |    47.86 |   47.37 |   42.52 |                   
  index.js                        |     9.3 |        0 |       0 |     9.3 | 5-92              
  normalize.js                    |    12.5 |        0 |       0 |   12.82 | 6-66              
  pipeline.js                     |     100 |      100 |     100 |     100 |                   
  utils.js                        |     100 |      100 |     100 |     100 |                   
----------------------------------|---------|----------|---------|---------|-------------------
************* run test done *************
semantic-release is testing ./Variants/execa/variant10/execa
/data/js-variants/multee
************* npm unlink module *************

removed 2 packages, changed 1 package, and audited 1494 packages in 4s

147 packages are looking for funding
  run `npm fund` for details

14 vulnerabilities (6 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 720ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 548ms

1 package is looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 2 packages, changed 1 package, and audited 1497 packages in 4s

148 packages are looking for funding
  run `npm fund` for details

14 vulnerabilities (6 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm link module done *************
************* start run test *************

> semantic-release@0.0.0-development pretest
> npm run lint


> semantic-release@0.0.0-development lint
> xo


> semantic-release@0.0.0-development test
> nyc ava -v


  Uncaught exception in test/get-commits.test.js

  test/get-commits.test.js:3

   2: const {stub} = require('sinon');                                          
   3: const getCommits = require('../lib/get-commits');                         
   4: const {gitRepo, gitCommits, gitDetachedHead} = require('./helpers/git-uti…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant10/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/get-commits.js:2:218)
  › Object.<anonymous> (test/get-commits.test.js:3:20)

  ✖ test/get-commits.test.js exited with a non-zero exit code: 1
  ✖ cli › Pass options to semantic-release API Rejected promise returned by test
  ✖ cli › Pass options to semantic-release API with alias arguments Rejected promise returned by test
  ✖ cli › Pass unknown options to semantic-release API Rejected promise returned by test
  ✖ cli › Pass empty Array to semantic-release API for list option set to "false" Rejected promise returned by test
  ✖ cli › Do not set properties in option for which arg is not in command line Rejected promise returned by test
  ✔ cli › Display help
  ✔ cli › Return error exitCode and prints help if called with a command
  ✔ cli › Return error exitCode if multiple plugin are set for single plugin
  ✖ cli › Return error exitCode if semantic-release throw error 
  ✖ cli › Hide sensitive environment variable values from the logs 

  Uncaught exception in test/get-config.test.js

  test/get-config.test.js:9

   8: const yaml = require('js-yaml');                                          
   9: const {gitRepo, gitTagVersion, gitCommits, gitShallowClone, gitAddConfig}…
   10:                                                                           

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant10/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/helpers/git-utils.js:2:15)
  › Object.<anonymous> (test/get-config.test.js:9:77)

  ✖ test/get-config.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/get-git-auth-url.test.js

  test/get-git-auth-url.test.js:2

   1: const test = require('ava');                          
   2: const getAuthUrl = require('../lib/get-git-auth-url');
   3: const {gitRepo} = require('./helpers/git-utils');     

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant10/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/get-git-auth-url.js:3:171)
  › Object.<anonymous> (test/get-git-auth-url.test.js:2:20)

  ✖ test/get-git-auth-url.test.js exited with a non-zero exit code: 1
  ✔ get-last-release › Get the highest non-prerelease valid tag
  ✔ get-last-release › Get the highest prerelease valid tag, ignoring other tags from other prerelease channels
  ✔ get-last-release › Return empty object if no valid tag is found
  ✔ get-last-release › Get the highest non-prerelease valid tag before a certain version
  ✔ get-logger › Expose "error", "success" and "log" functions
  ✔ get-next-version › Increase version for patch release
  ✔ get-next-version › Increase version for minor release
  ✔ get-next-version › Increase version for major release
  ✔ get-next-version › Return 1.0.0 if there is no previous release
  ✔ get-next-version › Increase version for patch release on prerelease branch
  ✔ get-next-version › Increase version for minor release on prerelease branch
  ✔ get-next-version › Increase version for major release on prerelease branch
  ✔ get-next-version › Return 1.0.0 if there is no previous release on prerelease branch
  ✔ get-next-version › Increase version for release on prerelease branch after previous commits were merged to release branch
  ✔ get-next-version › Increase version for release on prerelease branch based on highest commit type since last regular release
  ✔ get-next-version › Increase version for release on prerelease branch when there is no regular releases on other branches
  ✔ get-release-to-add › Return versions merged from release to maintenance branch, excluding lower than branch start range
  ✔ get-release-to-add › Return versions merged between release branches
  ✔ get-release-to-add › Return releases sorted by ascending order
  ✔ get-release-to-add › No lastRelease
  ✔ get-release-to-add › Ignore pre-release versions
  ✔ get-release-to-add › Exclude versions merged from release to maintenance branch if they have the same "channel"
  ✔ get-release-to-add › Exclude versions merged between release branches if they have the same "channel"
  ✔ get-release-to-add › Exclude versions merged between release branches if they all have "channel" set to "false"
  ✔ get-release-to-add › Exclude versions number less than the latest version already released on that branch

  Uncaught exception in test/git.test.js

  test/git.test.js:19

   18:   fetchNotes,             
   19: } = require('../lib/git');
   20: const {                   

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant10/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (test/git.test.js:19:5)

  ✖ test/git.test.js exited with a non-zero exit code: 1
  ✔ hide-sensitive › Replace multiple sensitive environment variable values
  ✔ hide-sensitive › Replace multiple occurences of sensitive environment variable values
  ✔ hide-sensitive › Replace sensitive environment variable matching specific regex for "private"
  ✔ hide-sensitive › Replace url-encoded environment variable
  ✔ hide-sensitive › Escape regexp special characters
  ✔ hide-sensitive › Escape regexp special characters in url-encoded environment variable
  ✔ hide-sensitive › Accept "undefined" input
  ✔ hide-sensitive › Return same string if no environment variable has to be replaced
  ✔ hide-sensitive › Exclude empty environment variables from the regexp
  ✔ hide-sensitive › Exclude empty environment variables from the regexp if there is only empty ones
  ✔ hide-sensitive › Exclude nonsensitive GOPRIVATE environment variable for Golang projects from the regexp
  ✔ hide-sensitive › Exclude environment variables with value shorter than SECRET_MIN_SIZE from the regexp

  Uncaught exception in test/index.test.js

  test/index.test.js:24

   23:   gitGetNote,                      
   24: } = require('./helpers/git-utils');
   25:                                    

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant10/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/helpers/git-utils.js:2:15)
  › Object.<anonymous> (test/index.test.js:24:5)

  ✖ test/index.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/integration.test.js

  test/integration.test.js:6

   5: const {writeJson, readJson} = require('fs-extra');       
   6: const execa = require('execa');                          
   7: const {WritableStreamBuffer} = require('stream-buffers');

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant10/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/integration.test.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/integration.test.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/integration.test.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/integration.test.js:6:15)

  ✖ test/integration.test.js exited with a non-zero exit code: 1
  ✔ utils › getLatestVersion
  ✔ utils › getEarliestVersion
  ✔ utils › extractErrors
  ✔ utils › tagsToVersions
  ✔ utils › isMajorRange
  ✔ utils › isMaintenanceRange
  ✔ utils › getUpperBound
  ✔ utils › getLowerBound
  ✔ utils › highest
  ✔ utils › lowest
  ✔ utils › getFirstVersion
  ✔ utils › getRange
  ✔ utils › makeTag
  ✔ utils › isSameChannel

  Uncaught exception in test/verify.test.js

  test/verify.test.js:3

   2: const tempy = require('tempy');                  
   3: const verify = require('../lib/verify');         
   4: const {gitRepo} = require('./helpers/git-utils');

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant10/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/verify.js:2:305)
  › Object.<anonymous> (test/verify.test.js:3:16)

  ✖ test/verify.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/branches/expand.test.js

  test/branches/expand.test.js:2

   1: const test = require('ava');                                              
   2: const expand = require('../../lib/branches/expand');                      
   3: const {gitRepo, gitCommits, gitCheckout, gitPush} = require('../helpers/g…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant10/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/branches/expand.js:2:292)
  › Object.<anonymous> (test/branches/expand.test.js:2:16)

  ✖ test/branches/expand.test.js exited with a non-zero exit code: 1
  ✖ branches › branches › Enforce ranges with branching release workflow Rejected promise returned by test
  ✖ branches › branches › Throw SemanticReleaseError for invalid configurations Rejected promise returned by test
  ✖ branches › branches › Throw a SemanticReleaseError if there is duplicate branches Rejected promise returned by test
  ✖ branches › branches › Throw a SemanticReleaseError for each invalid branch name Rejected promise returned by test

  Uncaught exception in test/branches/get-tags.test.js

  test/branches/get-tags.test.js:2

   1: const test = require('ava');                                              
   2: const getTags = require('../../lib/branches/get-tags');                   
   3: const {gitRepo, gitCommits, gitTagVersion, gitCheckout, gitAddNote} = req…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant10/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/branches/get-tags.js:2:407)
  › Object.<anonymous> (test/branches/get-tags.test.js:2:17)

  ✖ test/branches/get-tags.test.js exited with a non-zero exit code: 1
  ✔ branches › normalize › Maintenance branches - initial state
  ✔ branches › normalize › Maintenance branches - cap range to first release present on default branch and not in any Maintenance one
  ✔ branches › normalize › Maintenance branches - cap range to default branch last release if all release are also present on maintenance branch
  ✔ branches › normalize › Release branches - initial state
  ✔ branches › normalize › Release branches - 3 release branches
  ✔ branches › normalize › Release branches - 2 release branches
  ✔ branches › normalize › Release branches - 1 release branches
  ✔ branches › normalize › Release branches - cap ranges to first release only present on following branch
  ✔ branches › normalize › Release branches - Handle missing previous tags in branch history
  ✔ branches › normalize › Release branches - limit releases on 2nd and 3rd branch based on 1st branch last release
  ✔ branches › normalize › Prerelease branches
  ✔ branches › normalize › Allow to set channel to "false" to prevent default
  ✔ definitions › branches › A "maintenance" branch is identified by having a "range" property or a "name" formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › A "maintenance" branches must have a "range" property formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › The "maintenance" branches must have unique ranges
  ✔ definitions › branches › A "prerelease" branch is identified by having a thruthy "prerelease" property
  ✔ definitions › branches › A "prerelease" branch must have a valid prerelease detonation in "prerelease" property or in "name" if "prerelease" is "true"
  ✔ definitions › branches › The "prerelease" branches must have unique "prerelease" property
  ✔ definitions › branches › A "release" branch is identified by not havin a "range" or "prerelease" property or a "name" formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › There must be between 1 and 3 release branches

  Uncaught exception in test/definitions/plugins.test.js

  test/definitions/plugins.test.js:2

   1: const test = require('ava');                                              
   2: const plugins = require('../../lib/definitions/plugins');                 
   3: const {RELEASE_NOTES_SEPARATOR, SECRET_REPLACEMENT} = require('../../lib/…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant10/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (test/definitions/plugins.test.js:2:17)

  ✖ test/definitions/plugins.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/plugins/normalize.test.js

  test/plugins/normalize.test.js:4

   3: const {stub} = require('sinon');                         
   4: const normalize = require('../../lib/plugins/normalize');
   5:                                                          

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant10/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (lib/plugins/normalize.js:2:454)
  › Object.<anonymous> (test/plugins/normalize.test.js:4:19)

  ✖ test/plugins/normalize.test.js exited with a non-zero exit code: 1
  ✔ plugins › pipeline › Throw all errors from all steps throwing an AggregateError
  ✔ plugins › pipeline › Stop execution and throw error if a step rejects
  ✔ plugins › pipeline › Throw all errors from the first step throwing an AggregateError
  ✔ plugins › pipeline › Execute each function in series passing the same input
  ✔ plugins › pipeline › Execute all even if a Promise rejects
  ✔ plugins › pipeline › Execute each function in series passing a transformed input from "getNextInput"
  ✔ plugins › pipeline › Execute each function in series passing the "lastResult" and "result" to "getNextInput"
  ✔ plugins › pipeline › Execute each function in series calling "transform" to modify the results
  ✔ plugins › pipeline › Execute each function in series calling "transform" to modify the results with "settleAll"
  ✔ plugins › pipeline › Execute each function in series passing a transformed input even if a step rejects
  ✔ plugins › utils › validatePlugin
  ✔ plugins › utils › validateStep: optional plugin configuration
  ✔ plugins › utils › validateStep: required plugin configuration
  ✔ plugins › utils › loadPlugin
  ✔ plugins › utils › parseConfig

  Uncaught exception in test/plugins/plugins.test.js

  test/plugins/plugins.test.js:6

   5: const tempy = require('tempy');                 
   6: const getPlugins = require('../../lib/plugins');
   7:                                                 

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant10/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (lib/plugins/index.js:2:386)
  › Object.<anonymous> (test/plugins/plugins.test.js:6:20)

  ✖ test/plugins/plugins.test.js exited with a non-zero exit code: 1
  ─

  cli › Pass options to semantic-release API

  test/cli.test.js:70

   69:                                                                          
   70:   t.deepEqual(run.args[0][0].branches, ['master', 'next']);              
   71:   t.is(run.args[0][0].repositoryUrl, 'https://github/com/owner/repo.git'…

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:70:26



  cli › Pass options to semantic-release API with alias arguments

  test/cli.test.js:112

   111:                                                                         
   112:   t.deepEqual(run.args[0][0].branches, ['master']);                     
   113:   t.is(run.args[0][0].repositoryUrl, 'https://github/com/owner/repo.git…

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:112:26



  cli › Pass unknown options to semantic-release API

  test/cli.test.js:129

   128:                                              
   129:   t.is(run.args[0][0].bool, true);           
   130:   t.is(run.args[0][0].firstOption, 'value1');

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:129:19



  cli › Pass empty Array to semantic-release API for list option set to "false"

  test/cli.test.js:143

   142:                                           
   143:   t.deepEqual(run.args[0][0].publish, []);
   144:                                           

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:143:26



  cli › Do not set properties in option for which arg is not in command line

  test/cli.test.js:155

   154:                                   
   155:   t.false('ci' in run.args[0][0]);
   156:   t.false('d' in run.args[0][0]); 

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:155:30



  cli › Return error exitCode if semantic-release throw error

  test/cli.test.js:207

   206:                                                       
   207:   t.regex(t.context.errors, /semantic-release error/);
   208:   t.is(exitCode, 1);                                  

  Value must match expression:

  `Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant10/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/git.js:2:264)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/get-config.js:2:512)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/index.js:2:622)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Proxyquire._require (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mproxyquire[24m/lib/proxyquire.js:188:36)␊
      at module.exports (/data/js-variants/multee/Clients/execa/semantic-release/cli.js:7:110)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/test/cli.test.js:205:26␊
      at Test.callFn (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:622:21)␊
      at Test.run (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:635:23)␊
      at Runner.runSingle (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:299:33)␊
      at Runner.runTest (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:376:30)␊
      at async /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:508:24␊
      at async Promise.all (index 1)␊
      at async Runner.start (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:547:15) {␊
    code: [32m'ERR_REQUIRE_ESM'[39m␊
  }`

  Regular expression:

  /semantic-release error/

  › test/cli.test.js:207:5



  cli › Hide sensitive environment variable values from the logs

  test/cli.test.js:219

   218:                                                                         
   219:   t.regex(t.context.errors, new RegExp(`Throw error: Exposing token ${e…
   220:   t.is(exitCode, 1);                                                    

  Value must match expression:

  `Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant10/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/git.js:2:264)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/get-config.js:2:512)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/index.js:2:622)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Proxyquire._require (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mproxyquire[24m/lib/proxyquire.js:188:36)␊
      at module.exports (/data/js-variants/multee/Clients/execa/semantic-release/cli.js:7:110)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/test/cli.test.js:217:26␊
      at Test.callFn (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:622:21)␊
      at Test.run (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:635:23)␊
      at Runner.runSingle (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:299:33)␊
      at Runner.runTest (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:376:30)␊
      at async Promise.all (index 1)␊
      at async Runner.start (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:547:15) {␊
    code: [32m'ERR_REQUIRE_ESM'[39m␊
  }`

  Regular expression:

  /Throw error: Exposing token \[secure\]/

  › test/cli.test.js:219:5



  branches › branches › Enforce ranges with branching release workflow

  test/branches/branches.test.js:25

   24:   ];                                                                     
   25:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': ()…
   26:                                                                          

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/Variants/execa/variant10/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:25:23



  branches › branches › Throw SemanticReleaseError for invalid configurations

  test/branches/branches.test.js:202

   201:   ];                                                                    
   202:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   203:   const errors = [...(await t.throwsAsync(getBranches('repositoryUrl', …

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/Variants/execa/variant10/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:202:23



  branches › branches › Throw a SemanticReleaseError if there is duplicate branches

  test/branches/branches.test.js:232

   231:   ];                                                                    
   232:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   233:                                                                         

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/Variants/execa/variant10/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:232:23



  branches › branches › Throw a SemanticReleaseError for each invalid branch name

  test/branches/branches.test.js:247

   246:   ];                                                                    
   247:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   248:                                                                         

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/Variants/execa/variant10/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:247:23

  ─

  11 tests failed
  12 uncaught exceptions
----------------------------------|---------|----------|---------|---------|-------------------
File                              | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
----------------------------------|---------|----------|---------|---------|-------------------
All files                         |   36.17 |    40.67 |   33.85 |   35.78 |                   
 semantic-release                 |   16.96 |    13.95 |   33.33 |   16.77 |                   
  cli.js                          |   95.24 |      100 |     100 |      95 | 56                
  index.js                        |       6 |        0 |       0 |    6.12 | 10-279            
 semantic-release/lib             |   41.95 |    45.64 |   46.75 |   40.93 |                   
  get-commits.js                  |      20 |        0 |       0 |      20 | 11-22             
  get-config.js                   |   16.22 |        0 |       0 |   16.22 | 7-89              
  get-error.js                    |      60 |        0 |       0 |      60 | 5-6               
  get-git-auth-url.js             |     8.7 |        0 |       0 |    9.09 | 5-121             
  get-last-release.js             |     100 |      100 |     100 |     100 |                   
  get-logger.js                   |     100 |      100 |     100 |     100 |                   
  get-next-version.js             |     100 |      100 |     100 |     100 |                   
  get-release-to-add.js           |     100 |      100 |     100 |     100 |                   
  git.js                          |    5.77 |        0 |       0 |    5.77 | 4-331             
  hide-sensitive.js               |     100 |      100 |     100 |     100 |                   
  utils.js                        |   81.82 |    95.74 |   86.36 |   78.57 | 10-17             
  verify.js                       |      15 |        0 |       0 |      15 | 4-41              
 semantic-release/lib/branches    |   44.32 |    53.97 |   29.17 |   44.83 |                   
  expand.js                       |      30 |        0 |       0 |   33.33 | 5-13              
  get-tags.js                     |   38.46 |        0 |       0 |   38.46 | 7-29              
  index.js                        |   15.38 |        0 |       0 |   15.38 | 7-70              
  normalize.js                    |   96.15 |    97.14 |     100 |   96.15 | 60                
 semantic-release/lib/definitions |   38.14 |    32.56 |      15 |   37.89 |                   
  branches.js                     |     100 |    93.33 |     100 |     100 | 7                 
  constants.js                    |     100 |      100 |     100 |     100 |                   
  errors.js                       |   24.32 |        0 |       0 |      25 | 8,11,14-224       
  plugins.js                      |    5.88 |        0 |       0 |    5.88 | 5-106             
 semantic-release/lib/plugins     |   42.64 |    47.86 |   47.37 |   42.52 |                   
  index.js                        |     9.3 |        0 |       0 |     9.3 | 5-92              
  normalize.js                    |    12.5 |        0 |       0 |   12.82 | 6-66              
  pipeline.js                     |     100 |      100 |     100 |     100 |                   
  utils.js                        |     100 |      100 |     100 |     100 |                   
----------------------------------|---------|----------|---------|---------|-------------------
************* run test done *************
semantic-release is testing ./Variants/execa/variant9/execa
/data/js-variants/multee
************* npm unlink module *************

removed 2 packages, changed 1 package, and audited 1494 packages in 4s

147 packages are looking for funding
  run `npm fund` for details

14 vulnerabilities (6 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 701ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 413ms

1 package is looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 2 packages, changed 1 package, and audited 1497 packages in 4s

148 packages are looking for funding
  run `npm fund` for details

14 vulnerabilities (6 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm link module done *************
************* start run test *************

> semantic-release@0.0.0-development pretest
> npm run lint


> semantic-release@0.0.0-development lint
> xo


> semantic-release@0.0.0-development test
> nyc ava -v


  Uncaught exception in test/get-commits.test.js

  test/get-commits.test.js:3

   2: const {stub} = require('sinon');                                          
   3: const getCommits = require('../lib/get-commits');                         
   4: const {gitRepo, gitCommits, gitDetachedHead} = require('./helpers/git-uti…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant9/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/get-commits.js:2:218)
  › Object.<anonymous> (test/get-commits.test.js:3:20)

  ✖ test/get-commits.test.js exited with a non-zero exit code: 1
  ✖ cli › Pass options to semantic-release API Rejected promise returned by test
  ✖ cli › Pass options to semantic-release API with alias arguments Rejected promise returned by test
  ✖ cli › Pass unknown options to semantic-release API Rejected promise returned by test
  ✖ cli › Pass empty Array to semantic-release API for list option set to "false" Rejected promise returned by test
  ✖ cli › Do not set properties in option for which arg is not in command line Rejected promise returned by test
  ✔ cli › Display help
  ✔ cli › Return error exitCode and prints help if called with a command
  ✔ cli › Return error exitCode if multiple plugin are set for single plugin
  ✖ cli › Return error exitCode if semantic-release throw error 
  ✖ cli › Hide sensitive environment variable values from the logs 

  Uncaught exception in test/get-config.test.js

  test/get-config.test.js:9

   8: const yaml = require('js-yaml');                                          
   9: const {gitRepo, gitTagVersion, gitCommits, gitShallowClone, gitAddConfig}…
   10:                                                                           

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant9/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/helpers/git-utils.js:2:15)
  › Object.<anonymous> (test/get-config.test.js:9:77)

  ✖ test/get-config.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/get-git-auth-url.test.js

  test/get-git-auth-url.test.js:2

   1: const test = require('ava');                          
   2: const getAuthUrl = require('../lib/get-git-auth-url');
   3: const {gitRepo} = require('./helpers/git-utils');     

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant9/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/get-git-auth-url.js:3:171)
  › Object.<anonymous> (test/get-git-auth-url.test.js:2:20)

  ✖ test/get-git-auth-url.test.js exited with a non-zero exit code: 1
  ✔ get-last-release › Get the highest non-prerelease valid tag
  ✔ get-last-release › Get the highest prerelease valid tag, ignoring other tags from other prerelease channels
  ✔ get-last-release › Return empty object if no valid tag is found
  ✔ get-last-release › Get the highest non-prerelease valid tag before a certain version
  ✔ get-logger › Expose "error", "success" and "log" functions
  ✔ get-next-version › Increase version for patch release
  ✔ get-next-version › Increase version for minor release
  ✔ get-next-version › Increase version for major release
  ✔ get-next-version › Return 1.0.0 if there is no previous release
  ✔ get-next-version › Increase version for patch release on prerelease branch
  ✔ get-next-version › Increase version for minor release on prerelease branch
  ✔ get-next-version › Increase version for major release on prerelease branch
  ✔ get-next-version › Return 1.0.0 if there is no previous release on prerelease branch
  ✔ get-next-version › Increase version for release on prerelease branch after previous commits were merged to release branch
  ✔ get-next-version › Increase version for release on prerelease branch based on highest commit type since last regular release
  ✔ get-next-version › Increase version for release on prerelease branch when there is no regular releases on other branches
  ✔ get-release-to-add › Return versions merged from release to maintenance branch, excluding lower than branch start range
  ✔ get-release-to-add › Return versions merged between release branches
  ✔ get-release-to-add › Return releases sorted by ascending order
  ✔ get-release-to-add › No lastRelease
  ✔ get-release-to-add › Ignore pre-release versions
  ✔ get-release-to-add › Exclude versions merged from release to maintenance branch if they have the same "channel"
  ✔ get-release-to-add › Exclude versions merged between release branches if they have the same "channel"
  ✔ get-release-to-add › Exclude versions merged between release branches if they all have "channel" set to "false"
  ✔ get-release-to-add › Exclude versions number less than the latest version already released on that branch

  Uncaught exception in test/git.test.js

  test/git.test.js:19

   18:   fetchNotes,             
   19: } = require('../lib/git');
   20: const {                   

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant9/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (test/git.test.js:19:5)

  ✖ test/git.test.js exited with a non-zero exit code: 1
  ✔ hide-sensitive › Replace multiple sensitive environment variable values
  ✔ hide-sensitive › Replace multiple occurences of sensitive environment variable values
  ✔ hide-sensitive › Replace sensitive environment variable matching specific regex for "private"
  ✔ hide-sensitive › Replace url-encoded environment variable
  ✔ hide-sensitive › Escape regexp special characters
  ✔ hide-sensitive › Escape regexp special characters in url-encoded environment variable
  ✔ hide-sensitive › Accept "undefined" input
  ✔ hide-sensitive › Return same string if no environment variable has to be replaced
  ✔ hide-sensitive › Exclude empty environment variables from the regexp
  ✔ hide-sensitive › Exclude empty environment variables from the regexp if there is only empty ones
  ✔ hide-sensitive › Exclude nonsensitive GOPRIVATE environment variable for Golang projects from the regexp
  ✔ hide-sensitive › Exclude environment variables with value shorter than SECRET_MIN_SIZE from the regexp

  Uncaught exception in test/index.test.js

  test/index.test.js:24

   23:   gitGetNote,                      
   24: } = require('./helpers/git-utils');
   25:                                    

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant9/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/helpers/git-utils.js:2:15)
  › Object.<anonymous> (test/index.test.js:24:5)

  ✖ test/index.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/integration.test.js

  test/integration.test.js:6

   5: const {writeJson, readJson} = require('fs-extra');       
   6: const execa = require('execa');                          
   7: const {WritableStreamBuffer} = require('stream-buffers');

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant9/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/integration.test.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/integration.test.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/integration.test.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/integration.test.js:6:15)

  ✖ test/integration.test.js exited with a non-zero exit code: 1
  ✔ utils › getLatestVersion
  ✔ utils › getEarliestVersion
  ✔ utils › extractErrors
  ✔ utils › tagsToVersions
  ✔ utils › isMajorRange
  ✔ utils › isMaintenanceRange
  ✔ utils › getUpperBound
  ✔ utils › getLowerBound
  ✔ utils › highest
  ✔ utils › lowest
  ✔ utils › getFirstVersion
  ✔ utils › getRange
  ✔ utils › makeTag
  ✔ utils › isSameChannel

  Uncaught exception in test/verify.test.js

  test/verify.test.js:3

   2: const tempy = require('tempy');                  
   3: const verify = require('../lib/verify');         
   4: const {gitRepo} = require('./helpers/git-utils');

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant9/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/verify.js:2:305)
  › Object.<anonymous> (test/verify.test.js:3:16)

  ✖ test/verify.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/branches/expand.test.js

  test/branches/expand.test.js:2

   1: const test = require('ava');                                              
   2: const expand = require('../../lib/branches/expand');                      
   3: const {gitRepo, gitCommits, gitCheckout, gitPush} = require('../helpers/g…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant9/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/branches/expand.js:2:292)
  › Object.<anonymous> (test/branches/expand.test.js:2:16)

  ✖ test/branches/expand.test.js exited with a non-zero exit code: 1
  ✖ branches › branches › Enforce ranges with branching release workflow Rejected promise returned by test
  ✖ branches › branches › Throw SemanticReleaseError for invalid configurations Rejected promise returned by test
  ✖ branches › branches › Throw a SemanticReleaseError if there is duplicate branches Rejected promise returned by test
  ✖ branches › branches › Throw a SemanticReleaseError for each invalid branch name Rejected promise returned by test

  Uncaught exception in test/branches/get-tags.test.js

  test/branches/get-tags.test.js:2

   1: const test = require('ava');                                              
   2: const getTags = require('../../lib/branches/get-tags');                   
   3: const {gitRepo, gitCommits, gitTagVersion, gitCheckout, gitAddNote} = req…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant9/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/branches/get-tags.js:2:407)
  › Object.<anonymous> (test/branches/get-tags.test.js:2:17)

  ✖ test/branches/get-tags.test.js exited with a non-zero exit code: 1
  ✔ branches › normalize › Maintenance branches - initial state
  ✔ branches › normalize › Maintenance branches - cap range to first release present on default branch and not in any Maintenance one
  ✔ branches › normalize › Maintenance branches - cap range to default branch last release if all release are also present on maintenance branch
  ✔ branches › normalize › Release branches - initial state
  ✔ branches › normalize › Release branches - 3 release branches
  ✔ branches › normalize › Release branches - 2 release branches
  ✔ branches › normalize › Release branches - 1 release branches
  ✔ branches › normalize › Release branches - cap ranges to first release only present on following branch
  ✔ branches › normalize › Release branches - Handle missing previous tags in branch history
  ✔ branches › normalize › Release branches - limit releases on 2nd and 3rd branch based on 1st branch last release
  ✔ branches › normalize › Prerelease branches
  ✔ branches › normalize › Allow to set channel to "false" to prevent default
  ✔ definitions › branches › A "maintenance" branch is identified by having a "range" property or a "name" formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › A "maintenance" branches must have a "range" property formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › The "maintenance" branches must have unique ranges
  ✔ definitions › branches › A "prerelease" branch is identified by having a thruthy "prerelease" property
  ✔ definitions › branches › A "prerelease" branch must have a valid prerelease detonation in "prerelease" property or in "name" if "prerelease" is "true"
  ✔ definitions › branches › The "prerelease" branches must have unique "prerelease" property
  ✔ definitions › branches › A "release" branch is identified by not havin a "range" or "prerelease" property or a "name" formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › There must be between 1 and 3 release branches

  Uncaught exception in test/definitions/plugins.test.js

  test/definitions/plugins.test.js:2

   1: const test = require('ava');                                              
   2: const plugins = require('../../lib/definitions/plugins');                 
   3: const {RELEASE_NOTES_SEPARATOR, SECRET_REPLACEMENT} = require('../../lib/…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant9/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (test/definitions/plugins.test.js:2:17)

  ✖ test/definitions/plugins.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/plugins/normalize.test.js

  test/plugins/normalize.test.js:4

   3: const {stub} = require('sinon');                         
   4: const normalize = require('../../lib/plugins/normalize');
   5:                                                          

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant9/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (lib/plugins/normalize.js:2:454)
  › Object.<anonymous> (test/plugins/normalize.test.js:4:19)

  ✖ test/plugins/normalize.test.js exited with a non-zero exit code: 1
  ✔ plugins › pipeline › Throw all errors from all steps throwing an AggregateError
  ✔ plugins › pipeline › Stop execution and throw error if a step rejects
  ✔ plugins › pipeline › Throw all errors from the first step throwing an AggregateError
  ✔ plugins › pipeline › Execute each function in series passing the same input
  ✔ plugins › pipeline › Execute all even if a Promise rejects
  ✔ plugins › pipeline › Execute each function in series passing a transformed input from "getNextInput"
  ✔ plugins › pipeline › Execute each function in series passing the "lastResult" and "result" to "getNextInput"
  ✔ plugins › pipeline › Execute each function in series calling "transform" to modify the results
  ✔ plugins › pipeline › Execute each function in series calling "transform" to modify the results with "settleAll"
  ✔ plugins › pipeline › Execute each function in series passing a transformed input even if a step rejects

  Uncaught exception in test/plugins/plugins.test.js

  test/plugins/plugins.test.js:6

   5: const tempy = require('tempy');                 
   6: const getPlugins = require('../../lib/plugins');
   7:                                                 

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant9/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (lib/plugins/index.js:2:386)
  › Object.<anonymous> (test/plugins/plugins.test.js:6:20)

  ✖ test/plugins/plugins.test.js exited with a non-zero exit code: 1
  ✔ plugins › utils › validatePlugin
  ✔ plugins › utils › validateStep: optional plugin configuration
  ✔ plugins › utils › validateStep: required plugin configuration
  ✔ plugins › utils › loadPlugin
  ✔ plugins › utils › parseConfig
  ─

  cli › Pass options to semantic-release API

  test/cli.test.js:70

   69:                                                                          
   70:   t.deepEqual(run.args[0][0].branches, ['master', 'next']);              
   71:   t.is(run.args[0][0].repositoryUrl, 'https://github/com/owner/repo.git'…

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:70:26



  cli › Pass options to semantic-release API with alias arguments

  test/cli.test.js:112

   111:                                                                         
   112:   t.deepEqual(run.args[0][0].branches, ['master']);                     
   113:   t.is(run.args[0][0].repositoryUrl, 'https://github/com/owner/repo.git…

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:112:26



  cli › Pass unknown options to semantic-release API

  test/cli.test.js:129

   128:                                              
   129:   t.is(run.args[0][0].bool, true);           
   130:   t.is(run.args[0][0].firstOption, 'value1');

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:129:19



  cli › Pass empty Array to semantic-release API for list option set to "false"

  test/cli.test.js:143

   142:                                           
   143:   t.deepEqual(run.args[0][0].publish, []);
   144:                                           

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:143:26



  cli › Do not set properties in option for which arg is not in command line

  test/cli.test.js:155

   154:                                   
   155:   t.false('ci' in run.args[0][0]);
   156:   t.false('d' in run.args[0][0]); 

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:155:30



  cli › Return error exitCode if semantic-release throw error

  test/cli.test.js:207

   206:                                                       
   207:   t.regex(t.context.errors, /semantic-release error/);
   208:   t.is(exitCode, 1);                                  

  Value must match expression:

  `Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant9/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/git.js:2:264)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/get-config.js:2:512)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/index.js:2:622)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Proxyquire._require (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mproxyquire[24m/lib/proxyquire.js:188:36)␊
      at module.exports (/data/js-variants/multee/Clients/execa/semantic-release/cli.js:7:110)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/test/cli.test.js:205:26␊
      at Test.callFn (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:622:21)␊
      at Test.run (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:635:23)␊
      at Runner.runSingle (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:299:33)␊
      at Runner.runTest (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:376:30)␊
      at async /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:508:24␊
      at async Promise.all (index 1)␊
      at async Runner.start (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:547:15) {␊
    code: [32m'ERR_REQUIRE_ESM'[39m␊
  }`

  Regular expression:

  /semantic-release error/

  › test/cli.test.js:207:5



  cli › Hide sensitive environment variable values from the logs

  test/cli.test.js:219

   218:                                                                         
   219:   t.regex(t.context.errors, new RegExp(`Throw error: Exposing token ${e…
   220:   t.is(exitCode, 1);                                                    

  Value must match expression:

  `Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant9/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/git.js:2:264)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/get-config.js:2:512)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/index.js:2:622)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Proxyquire._require (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mproxyquire[24m/lib/proxyquire.js:188:36)␊
      at module.exports (/data/js-variants/multee/Clients/execa/semantic-release/cli.js:7:110)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/test/cli.test.js:217:26␊
      at Test.callFn (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:622:21)␊
      at Test.run (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:635:23)␊
      at Runner.runSingle (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:299:33)␊
      at Runner.runTest (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:376:30)␊
      at async Promise.all (index 1)␊
      at async Runner.start (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:547:15) {␊
    code: [32m'ERR_REQUIRE_ESM'[39m␊
  }`

  Regular expression:

  /Throw error: Exposing token \[secure\]/

  › test/cli.test.js:219:5



  branches › branches › Enforce ranges with branching release workflow

  test/branches/branches.test.js:25

   24:   ];                                                                     
   25:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': ()…
   26:                                                                          

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/Variants/execa/variant9/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:25:23



  branches › branches › Throw SemanticReleaseError for invalid configurations

  test/branches/branches.test.js:202

   201:   ];                                                                    
   202:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   203:   const errors = [...(await t.throwsAsync(getBranches('repositoryUrl', …

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/Variants/execa/variant9/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:202:23



  branches › branches › Throw a SemanticReleaseError if there is duplicate branches

  test/branches/branches.test.js:232

   231:   ];                                                                    
   232:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   233:                                                                         

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/Variants/execa/variant9/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:232:23



  branches › branches › Throw a SemanticReleaseError for each invalid branch name

  test/branches/branches.test.js:247

   246:   ];                                                                    
   247:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   248:                                                                         

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/Variants/execa/variant9/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:247:23

  ─

  11 tests failed
  12 uncaught exceptions
----------------------------------|---------|----------|---------|---------|-------------------
File                              | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
----------------------------------|---------|----------|---------|---------|-------------------
All files                         |   36.17 |    40.67 |   33.85 |   35.78 |                   
 semantic-release                 |   16.96 |    13.95 |   33.33 |   16.77 |                   
  cli.js                          |   95.24 |      100 |     100 |      95 | 56                
  index.js                        |       6 |        0 |       0 |    6.12 | 10-279            
 semantic-release/lib             |   41.95 |    45.64 |   46.75 |   40.93 |                   
  get-commits.js                  |      20 |        0 |       0 |      20 | 11-22             
  get-config.js                   |   16.22 |        0 |       0 |   16.22 | 7-89              
  get-error.js                    |      60 |        0 |       0 |      60 | 5-6               
  get-git-auth-url.js             |     8.7 |        0 |       0 |    9.09 | 5-121             
  get-last-release.js             |     100 |      100 |     100 |     100 |                   
  get-logger.js                   |     100 |      100 |     100 |     100 |                   
  get-next-version.js             |     100 |      100 |     100 |     100 |                   
  get-release-to-add.js           |     100 |      100 |     100 |     100 |                   
  git.js                          |    5.77 |        0 |       0 |    5.77 | 4-331             
  hide-sensitive.js               |     100 |      100 |     100 |     100 |                   
  utils.js                        |   81.82 |    95.74 |   86.36 |   78.57 | 10-17             
  verify.js                       |      15 |        0 |       0 |      15 | 4-41              
 semantic-release/lib/branches    |   44.32 |    53.97 |   29.17 |   44.83 |                   
  expand.js                       |      30 |        0 |       0 |   33.33 | 5-13              
  get-tags.js                     |   38.46 |        0 |       0 |   38.46 | 7-29              
  index.js                        |   15.38 |        0 |       0 |   15.38 | 7-70              
  normalize.js                    |   96.15 |    97.14 |     100 |   96.15 | 60                
 semantic-release/lib/definitions |   38.14 |    32.56 |      15 |   37.89 |                   
  branches.js                     |     100 |    93.33 |     100 |     100 | 7                 
  constants.js                    |     100 |      100 |     100 |     100 |                   
  errors.js                       |   24.32 |        0 |       0 |      25 | 8,11,14-224       
  plugins.js                      |    5.88 |        0 |       0 |    5.88 | 5-106             
 semantic-release/lib/plugins     |   42.64 |    47.86 |   47.37 |   42.52 |                   
  index.js                        |     9.3 |        0 |       0 |     9.3 | 5-92              
  normalize.js                    |    12.5 |        0 |       0 |   12.82 | 6-66              
  pipeline.js                     |     100 |      100 |     100 |     100 |                   
  utils.js                        |     100 |      100 |     100 |     100 |                   
----------------------------------|---------|----------|---------|---------|-------------------
************* run test done *************
semantic-release is testing ./Variants/execa/variant8/execa
/data/js-variants/multee
************* npm unlink module *************

removed 2 packages, changed 1 package, and audited 1494 packages in 4s

147 packages are looking for funding
  run `npm fund` for details

14 vulnerabilities (6 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 746ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 437ms

1 package is looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 2 packages, changed 1 package, and audited 1497 packages in 4s

148 packages are looking for funding
  run `npm fund` for details

14 vulnerabilities (6 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm link module done *************
************* start run test *************

> semantic-release@0.0.0-development pretest
> npm run lint


> semantic-release@0.0.0-development lint
> xo


> semantic-release@0.0.0-development test
> nyc ava -v


  Uncaught exception in test/get-commits.test.js

  test/get-commits.test.js:3

   2: const {stub} = require('sinon');                                          
   3: const getCommits = require('../lib/get-commits');                         
   4: const {gitRepo, gitCommits, gitDetachedHead} = require('./helpers/git-uti…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant8/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/get-commits.js:2:218)
  › Object.<anonymous> (test/get-commits.test.js:3:20)

  ✖ test/get-commits.test.js exited with a non-zero exit code: 1
  ✖ cli › Pass options to semantic-release API Rejected promise returned by test
  ✖ cli › Pass options to semantic-release API with alias arguments Rejected promise returned by test
  ✖ cli › Pass unknown options to semantic-release API Rejected promise returned by test
  ✖ cli › Pass empty Array to semantic-release API for list option set to "false" Rejected promise returned by test
  ✖ cli › Do not set properties in option for which arg is not in command line Rejected promise returned by test
  ✔ cli › Display help
  ✔ cli › Return error exitCode and prints help if called with a command
  ✔ cli › Return error exitCode if multiple plugin are set for single plugin
  ✖ cli › Return error exitCode if semantic-release throw error 
  ✖ cli › Hide sensitive environment variable values from the logs 

  Uncaught exception in test/get-config.test.js

  test/get-config.test.js:9

   8: const yaml = require('js-yaml');                                          
   9: const {gitRepo, gitTagVersion, gitCommits, gitShallowClone, gitAddConfig}…
   10:                                                                           

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant8/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/helpers/git-utils.js:2:15)
  › Object.<anonymous> (test/get-config.test.js:9:77)

  ✖ test/get-config.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/get-git-auth-url.test.js

  test/get-git-auth-url.test.js:2

   1: const test = require('ava');                          
   2: const getAuthUrl = require('../lib/get-git-auth-url');
   3: const {gitRepo} = require('./helpers/git-utils');     

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant8/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/get-git-auth-url.js:3:171)
  › Object.<anonymous> (test/get-git-auth-url.test.js:2:20)

  ✖ test/get-git-auth-url.test.js exited with a non-zero exit code: 1
  ✔ get-last-release › Get the highest non-prerelease valid tag
  ✔ get-last-release › Get the highest prerelease valid tag, ignoring other tags from other prerelease channels
  ✔ get-last-release › Return empty object if no valid tag is found
  ✔ get-last-release › Get the highest non-prerelease valid tag before a certain version
  ✔ get-logger › Expose "error", "success" and "log" functions
  ✔ get-next-version › Increase version for patch release
  ✔ get-next-version › Increase version for minor release
  ✔ get-next-version › Increase version for major release
  ✔ get-next-version › Return 1.0.0 if there is no previous release
  ✔ get-next-version › Increase version for patch release on prerelease branch
  ✔ get-next-version › Increase version for minor release on prerelease branch
  ✔ get-next-version › Increase version for major release on prerelease branch
  ✔ get-next-version › Return 1.0.0 if there is no previous release on prerelease branch
  ✔ get-next-version › Increase version for release on prerelease branch after previous commits were merged to release branch
  ✔ get-next-version › Increase version for release on prerelease branch based on highest commit type since last regular release
  ✔ get-next-version › Increase version for release on prerelease branch when there is no regular releases on other branches
  ✔ get-release-to-add › Return versions merged from release to maintenance branch, excluding lower than branch start range
  ✔ get-release-to-add › Return versions merged between release branches
  ✔ get-release-to-add › Return releases sorted by ascending order
  ✔ get-release-to-add › No lastRelease
  ✔ get-release-to-add › Ignore pre-release versions
  ✔ get-release-to-add › Exclude versions merged from release to maintenance branch if they have the same "channel"
  ✔ get-release-to-add › Exclude versions merged between release branches if they have the same "channel"
  ✔ get-release-to-add › Exclude versions merged between release branches if they all have "channel" set to "false"
  ✔ get-release-to-add › Exclude versions number less than the latest version already released on that branch

  Uncaught exception in test/git.test.js

  test/git.test.js:19

   18:   fetchNotes,             
   19: } = require('../lib/git');
   20: const {                   

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant8/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (test/git.test.js:19:5)

  ✖ test/git.test.js exited with a non-zero exit code: 1
  ✔ hide-sensitive › Replace multiple sensitive environment variable values
  ✔ hide-sensitive › Replace multiple occurences of sensitive environment variable values
  ✔ hide-sensitive › Replace sensitive environment variable matching specific regex for "private"
  ✔ hide-sensitive › Replace url-encoded environment variable
  ✔ hide-sensitive › Escape regexp special characters
  ✔ hide-sensitive › Escape regexp special characters in url-encoded environment variable
  ✔ hide-sensitive › Accept "undefined" input
  ✔ hide-sensitive › Return same string if no environment variable has to be replaced
  ✔ hide-sensitive › Exclude empty environment variables from the regexp
  ✔ hide-sensitive › Exclude empty environment variables from the regexp if there is only empty ones
  ✔ hide-sensitive › Exclude nonsensitive GOPRIVATE environment variable for Golang projects from the regexp
  ✔ hide-sensitive › Exclude environment variables with value shorter than SECRET_MIN_SIZE from the regexp

  Uncaught exception in test/index.test.js

  test/index.test.js:24

   23:   gitGetNote,                      
   24: } = require('./helpers/git-utils');
   25:                                    

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant8/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/helpers/git-utils.js:2:15)
  › Object.<anonymous> (test/index.test.js:24:5)

  ✖ test/index.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/integration.test.js

  test/integration.test.js:6

   5: const {writeJson, readJson} = require('fs-extra');       
   6: const execa = require('execa');                          
   7: const {WritableStreamBuffer} = require('stream-buffers');

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant8/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/integration.test.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/integration.test.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/integration.test.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/integration.test.js:6:15)

  ✖ test/integration.test.js exited with a non-zero exit code: 1
  ✔ utils › getLatestVersion
  ✔ utils › getEarliestVersion
  ✔ utils › extractErrors
  ✔ utils › tagsToVersions
  ✔ utils › isMajorRange
  ✔ utils › isMaintenanceRange
  ✔ utils › getUpperBound
  ✔ utils › getLowerBound
  ✔ utils › highest
  ✔ utils › lowest
  ✔ utils › getFirstVersion
  ✔ utils › getRange
  ✔ utils › makeTag
  ✔ utils › isSameChannel

  Uncaught exception in test/verify.test.js

  test/verify.test.js:3

   2: const tempy = require('tempy');                  
   3: const verify = require('../lib/verify');         
   4: const {gitRepo} = require('./helpers/git-utils');

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant8/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/verify.js:2:305)
  › Object.<anonymous> (test/verify.test.js:3:16)

  ✖ test/verify.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/branches/expand.test.js

  test/branches/expand.test.js:2

   1: const test = require('ava');                                              
   2: const expand = require('../../lib/branches/expand');                      
   3: const {gitRepo, gitCommits, gitCheckout, gitPush} = require('../helpers/g…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant8/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/branches/expand.js:2:292)
  › Object.<anonymous> (test/branches/expand.test.js:2:16)

  ✖ test/branches/expand.test.js exited with a non-zero exit code: 1
  ✖ branches › branches › Enforce ranges with branching release workflow Rejected promise returned by test
  ✖ branches › branches › Throw SemanticReleaseError for invalid configurations Rejected promise returned by test
  ✖ branches › branches › Throw a SemanticReleaseError if there is duplicate branches Rejected promise returned by test
  ✖ branches › branches › Throw a SemanticReleaseError for each invalid branch name Rejected promise returned by test

  Uncaught exception in test/branches/get-tags.test.js

  test/branches/get-tags.test.js:2

   1: const test = require('ava');                                              
   2: const getTags = require('../../lib/branches/get-tags');                   
   3: const {gitRepo, gitCommits, gitTagVersion, gitCheckout, gitAddNote} = req…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant8/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/branches/get-tags.js:2:407)
  › Object.<anonymous> (test/branches/get-tags.test.js:2:17)

  ✖ test/branches/get-tags.test.js exited with a non-zero exit code: 1
  ✔ branches › normalize › Maintenance branches - initial state
  ✔ branches › normalize › Maintenance branches - cap range to first release present on default branch and not in any Maintenance one
  ✔ branches › normalize › Maintenance branches - cap range to default branch last release if all release are also present on maintenance branch
  ✔ branches › normalize › Release branches - initial state
  ✔ branches › normalize › Release branches - 3 release branches
  ✔ branches › normalize › Release branches - 2 release branches
  ✔ branches › normalize › Release branches - 1 release branches
  ✔ branches › normalize › Release branches - cap ranges to first release only present on following branch
  ✔ branches › normalize › Release branches - Handle missing previous tags in branch history
  ✔ branches › normalize › Release branches - limit releases on 2nd and 3rd branch based on 1st branch last release
  ✔ branches › normalize › Prerelease branches
  ✔ branches › normalize › Allow to set channel to "false" to prevent default
  ✔ definitions › branches › A "maintenance" branch is identified by having a "range" property or a "name" formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › A "maintenance" branches must have a "range" property formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › The "maintenance" branches must have unique ranges
  ✔ definitions › branches › A "prerelease" branch is identified by having a thruthy "prerelease" property
  ✔ definitions › branches › A "prerelease" branch must have a valid prerelease detonation in "prerelease" property or in "name" if "prerelease" is "true"
  ✔ definitions › branches › The "prerelease" branches must have unique "prerelease" property
  ✔ definitions › branches › A "release" branch is identified by not havin a "range" or "prerelease" property or a "name" formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › There must be between 1 and 3 release branches

  Uncaught exception in test/definitions/plugins.test.js

  test/definitions/plugins.test.js:2

   1: const test = require('ava');                                              
   2: const plugins = require('../../lib/definitions/plugins');                 
   3: const {RELEASE_NOTES_SEPARATOR, SECRET_REPLACEMENT} = require('../../lib/…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant8/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (test/definitions/plugins.test.js:2:17)

  ✖ test/definitions/plugins.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/plugins/normalize.test.js

  test/plugins/normalize.test.js:4

   3: const {stub} = require('sinon');                         
   4: const normalize = require('../../lib/plugins/normalize');
   5:                                                          

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant8/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (lib/plugins/normalize.js:2:454)
  › Object.<anonymous> (test/plugins/normalize.test.js:4:19)

  ✖ test/plugins/normalize.test.js exited with a non-zero exit code: 1
  ✔ plugins › pipeline › Throw all errors from all steps throwing an AggregateError
  ✔ plugins › pipeline › Stop execution and throw error if a step rejects
  ✔ plugins › pipeline › Throw all errors from the first step throwing an AggregateError
  ✔ plugins › pipeline › Execute each function in series passing the same input
  ✔ plugins › pipeline › Execute all even if a Promise rejects
  ✔ plugins › pipeline › Execute each function in series passing a transformed input from "getNextInput"
  ✔ plugins › pipeline › Execute each function in series passing the "lastResult" and "result" to "getNextInput"
  ✔ plugins › pipeline › Execute each function in series calling "transform" to modify the results
  ✔ plugins › pipeline › Execute each function in series calling "transform" to modify the results with "settleAll"
  ✔ plugins › pipeline › Execute each function in series passing a transformed input even if a step rejects

  Uncaught exception in test/plugins/plugins.test.js

  test/plugins/plugins.test.js:6

   5: const tempy = require('tempy');                 
   6: const getPlugins = require('../../lib/plugins');
   7:                                                 

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant8/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (lib/plugins/index.js:2:386)
  › Object.<anonymous> (test/plugins/plugins.test.js:6:20)

  ✖ test/plugins/plugins.test.js exited with a non-zero exit code: 1
  ✔ plugins › utils › validatePlugin
  ✔ plugins › utils › validateStep: optional plugin configuration
  ✔ plugins › utils › validateStep: required plugin configuration
  ✔ plugins › utils › loadPlugin
  ✔ plugins › utils › parseConfig
  ─

  cli › Pass options to semantic-release API

  test/cli.test.js:70

   69:                                                                          
   70:   t.deepEqual(run.args[0][0].branches, ['master', 'next']);              
   71:   t.is(run.args[0][0].repositoryUrl, 'https://github/com/owner/repo.git'…

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:70:26



  cli › Pass options to semantic-release API with alias arguments

  test/cli.test.js:112

   111:                                                                         
   112:   t.deepEqual(run.args[0][0].branches, ['master']);                     
   113:   t.is(run.args[0][0].repositoryUrl, 'https://github/com/owner/repo.git…

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:112:26



  cli › Pass unknown options to semantic-release API

  test/cli.test.js:129

   128:                                              
   129:   t.is(run.args[0][0].bool, true);           
   130:   t.is(run.args[0][0].firstOption, 'value1');

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:129:19



  cli › Pass empty Array to semantic-release API for list option set to "false"

  test/cli.test.js:143

   142:                                           
   143:   t.deepEqual(run.args[0][0].publish, []);
   144:                                           

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:143:26



  cli › Do not set properties in option for which arg is not in command line

  test/cli.test.js:155

   154:                                   
   155:   t.false('ci' in run.args[0][0]);
   156:   t.false('d' in run.args[0][0]); 

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:155:30



  cli › Return error exitCode if semantic-release throw error

  test/cli.test.js:207

   206:                                                       
   207:   t.regex(t.context.errors, /semantic-release error/);
   208:   t.is(exitCode, 1);                                  

  Value must match expression:

  `Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant8/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/git.js:2:264)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/get-config.js:2:512)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/index.js:2:622)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Proxyquire._require (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mproxyquire[24m/lib/proxyquire.js:188:36)␊
      at module.exports (/data/js-variants/multee/Clients/execa/semantic-release/cli.js:7:110)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/test/cli.test.js:205:26␊
      at Test.callFn (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:622:21)␊
      at Test.run (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:635:23)␊
      at Runner.runSingle (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:299:33)␊
      at Runner.runTest (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:376:30)␊
      at async /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:508:24␊
      at async Promise.all (index 1)␊
      at async Runner.start (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:547:15) {␊
    code: [32m'ERR_REQUIRE_ESM'[39m␊
  }`

  Regular expression:

  /semantic-release error/

  › test/cli.test.js:207:5



  cli › Hide sensitive environment variable values from the logs

  test/cli.test.js:219

   218:                                                                         
   219:   t.regex(t.context.errors, new RegExp(`Throw error: Exposing token ${e…
   220:   t.is(exitCode, 1);                                                    

  Value must match expression:

  `Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant8/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/git.js:2:264)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/get-config.js:2:512)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/index.js:2:622)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Proxyquire._require (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mproxyquire[24m/lib/proxyquire.js:188:36)␊
      at module.exports (/data/js-variants/multee/Clients/execa/semantic-release/cli.js:7:110)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/test/cli.test.js:217:26␊
      at Test.callFn (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:622:21)␊
      at Test.run (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:635:23)␊
      at Runner.runSingle (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:299:33)␊
      at Runner.runTest (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:376:30)␊
      at async Promise.all (index 1)␊
      at async Runner.start (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:547:15) {␊
    code: [32m'ERR_REQUIRE_ESM'[39m␊
  }`

  Regular expression:

  /Throw error: Exposing token \[secure\]/

  › test/cli.test.js:219:5



  branches › branches › Enforce ranges with branching release workflow

  test/branches/branches.test.js:25

   24:   ];                                                                     
   25:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': ()…
   26:                                                                          

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/Variants/execa/variant8/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:25:23



  branches › branches › Throw SemanticReleaseError for invalid configurations

  test/branches/branches.test.js:202

   201:   ];                                                                    
   202:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   203:   const errors = [...(await t.throwsAsync(getBranches('repositoryUrl', …

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/Variants/execa/variant8/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:202:23



  branches › branches › Throw a SemanticReleaseError if there is duplicate branches

  test/branches/branches.test.js:232

   231:   ];                                                                    
   232:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   233:                                                                         

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/Variants/execa/variant8/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:232:23



  branches › branches › Throw a SemanticReleaseError for each invalid branch name

  test/branches/branches.test.js:247

   246:   ];                                                                    
   247:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   248:                                                                         

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/Variants/execa/variant8/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:247:23

  ─

  11 tests failed
  12 uncaught exceptions
----------------------------------|---------|----------|---------|---------|-------------------
File                              | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
----------------------------------|---------|----------|---------|---------|-------------------
All files                         |   36.17 |    40.67 |   33.85 |   35.78 |                   
 semantic-release                 |   16.96 |    13.95 |   33.33 |   16.77 |                   
  cli.js                          |   95.24 |      100 |     100 |      95 | 56                
  index.js                        |       6 |        0 |       0 |    6.12 | 10-279            
 semantic-release/lib             |   41.95 |    45.64 |   46.75 |   40.93 |                   
  get-commits.js                  |      20 |        0 |       0 |      20 | 11-22             
  get-config.js                   |   16.22 |        0 |       0 |   16.22 | 7-89              
  get-error.js                    |      60 |        0 |       0 |      60 | 5-6               
  get-git-auth-url.js             |     8.7 |        0 |       0 |    9.09 | 5-121             
  get-last-release.js             |     100 |      100 |     100 |     100 |                   
  get-logger.js                   |     100 |      100 |     100 |     100 |                   
  get-next-version.js             |     100 |      100 |     100 |     100 |                   
  get-release-to-add.js           |     100 |      100 |     100 |     100 |                   
  git.js                          |    5.77 |        0 |       0 |    5.77 | 4-331             
  hide-sensitive.js               |     100 |      100 |     100 |     100 |                   
  utils.js                        |   81.82 |    95.74 |   86.36 |   78.57 | 10-17             
  verify.js                       |      15 |        0 |       0 |      15 | 4-41              
 semantic-release/lib/branches    |   44.32 |    53.97 |   29.17 |   44.83 |                   
  expand.js                       |      30 |        0 |       0 |   33.33 | 5-13              
  get-tags.js                     |   38.46 |        0 |       0 |   38.46 | 7-29              
  index.js                        |   15.38 |        0 |       0 |   15.38 | 7-70              
  normalize.js                    |   96.15 |    97.14 |     100 |   96.15 | 60                
 semantic-release/lib/definitions |   38.14 |    32.56 |      15 |   37.89 |                   
  branches.js                     |     100 |    93.33 |     100 |     100 | 7                 
  constants.js                    |     100 |      100 |     100 |     100 |                   
  errors.js                       |   24.32 |        0 |       0 |      25 | 8,11,14-224       
  plugins.js                      |    5.88 |        0 |       0 |    5.88 | 5-106             
 semantic-release/lib/plugins     |   42.64 |    47.86 |   47.37 |   42.52 |                   
  index.js                        |     9.3 |        0 |       0 |     9.3 | 5-92              
  normalize.js                    |    12.5 |        0 |       0 |   12.82 | 6-66              
  pipeline.js                     |     100 |      100 |     100 |     100 |                   
  utils.js                        |     100 |      100 |     100 |     100 |                   
----------------------------------|---------|----------|---------|---------|-------------------
************* run test done *************
semantic-release is testing ./Variants/execa/variant7/execa
/data/js-variants/multee
************* npm unlink module *************

removed 2 packages, changed 1 package, and audited 1494 packages in 4s

147 packages are looking for funding
  run `npm fund` for details

14 vulnerabilities (6 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 698ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 428ms

1 package is looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 2 packages, changed 1 package, and audited 1497 packages in 4s

148 packages are looking for funding
  run `npm fund` for details

14 vulnerabilities (6 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm link module done *************
************* start run test *************

> semantic-release@0.0.0-development pretest
> npm run lint


> semantic-release@0.0.0-development lint
> xo


> semantic-release@0.0.0-development test
> nyc ava -v


  Uncaught exception in test/get-commits.test.js

  test/get-commits.test.js:3

   2: const {stub} = require('sinon');                                          
   3: const getCommits = require('../lib/get-commits');                         
   4: const {gitRepo, gitCommits, gitDetachedHead} = require('./helpers/git-uti…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant7/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/get-commits.js:2:218)
  › Object.<anonymous> (test/get-commits.test.js:3:20)

  ✖ test/get-commits.test.js exited with a non-zero exit code: 1
  ✖ cli › Pass options to semantic-release API Rejected promise returned by test
  ✖ cli › Pass options to semantic-release API with alias arguments Rejected promise returned by test
  ✖ cli › Pass unknown options to semantic-release API Rejected promise returned by test
  ✖ cli › Pass empty Array to semantic-release API for list option set to "false" Rejected promise returned by test
  ✖ cli › Do not set properties in option for which arg is not in command line Rejected promise returned by test
  ✔ cli › Display help
  ✔ cli › Return error exitCode and prints help if called with a command
  ✔ cli › Return error exitCode if multiple plugin are set for single plugin
  ✖ cli › Return error exitCode if semantic-release throw error 
  ✖ cli › Hide sensitive environment variable values from the logs 

  Uncaught exception in test/get-config.test.js

  test/get-config.test.js:9

   8: const yaml = require('js-yaml');                                          
   9: const {gitRepo, gitTagVersion, gitCommits, gitShallowClone, gitAddConfig}…
   10:                                                                           

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant7/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/helpers/git-utils.js:2:15)
  › Object.<anonymous> (test/get-config.test.js:9:77)

  ✖ test/get-config.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/get-git-auth-url.test.js

  test/get-git-auth-url.test.js:2

   1: const test = require('ava');                          
   2: const getAuthUrl = require('../lib/get-git-auth-url');
   3: const {gitRepo} = require('./helpers/git-utils');     

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant7/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/get-git-auth-url.js:3:171)
  › Object.<anonymous> (test/get-git-auth-url.test.js:2:20)

  ✖ test/get-git-auth-url.test.js exited with a non-zero exit code: 1
  ✔ get-last-release › Get the highest non-prerelease valid tag
  ✔ get-last-release › Get the highest prerelease valid tag, ignoring other tags from other prerelease channels
  ✔ get-last-release › Return empty object if no valid tag is found
  ✔ get-last-release › Get the highest non-prerelease valid tag before a certain version
  ✔ get-logger › Expose "error", "success" and "log" functions
  ✔ get-next-version › Increase version for patch release
  ✔ get-next-version › Increase version for minor release
  ✔ get-next-version › Increase version for major release
  ✔ get-next-version › Return 1.0.0 if there is no previous release
  ✔ get-next-version › Increase version for patch release on prerelease branch
  ✔ get-next-version › Increase version for minor release on prerelease branch
  ✔ get-next-version › Increase version for major release on prerelease branch
  ✔ get-next-version › Return 1.0.0 if there is no previous release on prerelease branch
  ✔ get-next-version › Increase version for release on prerelease branch after previous commits were merged to release branch
  ✔ get-next-version › Increase version for release on prerelease branch based on highest commit type since last regular release
  ✔ get-next-version › Increase version for release on prerelease branch when there is no regular releases on other branches
  ✔ get-release-to-add › Return versions merged from release to maintenance branch, excluding lower than branch start range
  ✔ get-release-to-add › Return versions merged between release branches
  ✔ get-release-to-add › Return releases sorted by ascending order
  ✔ get-release-to-add › No lastRelease
  ✔ get-release-to-add › Ignore pre-release versions
  ✔ get-release-to-add › Exclude versions merged from release to maintenance branch if they have the same "channel"
  ✔ get-release-to-add › Exclude versions merged between release branches if they have the same "channel"
  ✔ get-release-to-add › Exclude versions merged between release branches if they all have "channel" set to "false"
  ✔ get-release-to-add › Exclude versions number less than the latest version already released on that branch

  Uncaught exception in test/git.test.js

  test/git.test.js:19

   18:   fetchNotes,             
   19: } = require('../lib/git');
   20: const {                   

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant7/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (test/git.test.js:19:5)

  ✖ test/git.test.js exited with a non-zero exit code: 1
  ✔ hide-sensitive › Replace multiple sensitive environment variable values
  ✔ hide-sensitive › Replace multiple occurences of sensitive environment variable values
  ✔ hide-sensitive › Replace sensitive environment variable matching specific regex for "private"
  ✔ hide-sensitive › Replace url-encoded environment variable
  ✔ hide-sensitive › Escape regexp special characters
  ✔ hide-sensitive › Escape regexp special characters in url-encoded environment variable
  ✔ hide-sensitive › Accept "undefined" input
  ✔ hide-sensitive › Return same string if no environment variable has to be replaced
  ✔ hide-sensitive › Exclude empty environment variables from the regexp
  ✔ hide-sensitive › Exclude empty environment variables from the regexp if there is only empty ones
  ✔ hide-sensitive › Exclude nonsensitive GOPRIVATE environment variable for Golang projects from the regexp
  ✔ hide-sensitive › Exclude environment variables with value shorter than SECRET_MIN_SIZE from the regexp

  Uncaught exception in test/index.test.js

  test/index.test.js:24

   23:   gitGetNote,                      
   24: } = require('./helpers/git-utils');
   25:                                    

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant7/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/helpers/git-utils.js:2:15)
  › Object.<anonymous> (test/index.test.js:24:5)

  ✖ test/index.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/integration.test.js

  test/integration.test.js:6

   5: const {writeJson, readJson} = require('fs-extra');       
   6: const execa = require('execa');                          
   7: const {WritableStreamBuffer} = require('stream-buffers');

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant7/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/integration.test.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/integration.test.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/integration.test.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/integration.test.js:6:15)

  ✖ test/integration.test.js exited with a non-zero exit code: 1
  ✔ utils › getLatestVersion
  ✔ utils › getEarliestVersion
  ✔ utils › extractErrors
  ✔ utils › tagsToVersions
  ✔ utils › isMajorRange
  ✔ utils › isMaintenanceRange
  ✔ utils › getUpperBound
  ✔ utils › getLowerBound
  ✔ utils › highest
  ✔ utils › lowest
  ✔ utils › getFirstVersion
  ✔ utils › getRange
  ✔ utils › makeTag
  ✔ utils › isSameChannel

  Uncaught exception in test/verify.test.js

  test/verify.test.js:3

   2: const tempy = require('tempy');                  
   3: const verify = require('../lib/verify');         
   4: const {gitRepo} = require('./helpers/git-utils');

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant7/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/verify.js:2:305)
  › Object.<anonymous> (test/verify.test.js:3:16)

  ✖ test/verify.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/branches/expand.test.js

  test/branches/expand.test.js:2

   1: const test = require('ava');                                              
   2: const expand = require('../../lib/branches/expand');                      
   3: const {gitRepo, gitCommits, gitCheckout, gitPush} = require('../helpers/g…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant7/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/branches/expand.js:2:292)
  › Object.<anonymous> (test/branches/expand.test.js:2:16)

  ✖ test/branches/expand.test.js exited with a non-zero exit code: 1
  ✖ branches › branches › Enforce ranges with branching release workflow Rejected promise returned by test
  ✖ branches › branches › Throw SemanticReleaseError for invalid configurations Rejected promise returned by test
  ✖ branches › branches › Throw a SemanticReleaseError if there is duplicate branches Rejected promise returned by test
  ✖ branches › branches › Throw a SemanticReleaseError for each invalid branch name Rejected promise returned by test

  Uncaught exception in test/branches/get-tags.test.js

  test/branches/get-tags.test.js:2

   1: const test = require('ava');                                              
   2: const getTags = require('../../lib/branches/get-tags');                   
   3: const {gitRepo, gitCommits, gitTagVersion, gitCheckout, gitAddNote} = req…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant7/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/branches/get-tags.js:2:407)
  › Object.<anonymous> (test/branches/get-tags.test.js:2:17)

  ✖ test/branches/get-tags.test.js exited with a non-zero exit code: 1
  ✔ branches › normalize › Maintenance branches - initial state
  ✔ branches › normalize › Maintenance branches - cap range to first release present on default branch and not in any Maintenance one
  ✔ branches › normalize › Maintenance branches - cap range to default branch last release if all release are also present on maintenance branch
  ✔ branches › normalize › Release branches - initial state
  ✔ branches › normalize › Release branches - 3 release branches
  ✔ branches › normalize › Release branches - 2 release branches
  ✔ branches › normalize › Release branches - 1 release branches
  ✔ branches › normalize › Release branches - cap ranges to first release only present on following branch
  ✔ branches › normalize › Release branches - Handle missing previous tags in branch history
  ✔ branches › normalize › Release branches - limit releases on 2nd and 3rd branch based on 1st branch last release
  ✔ branches › normalize › Prerelease branches
  ✔ branches › normalize › Allow to set channel to "false" to prevent default
  ✔ definitions › branches › A "maintenance" branch is identified by having a "range" property or a "name" formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › A "maintenance" branches must have a "range" property formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › The "maintenance" branches must have unique ranges
  ✔ definitions › branches › A "prerelease" branch is identified by having a thruthy "prerelease" property
  ✔ definitions › branches › A "prerelease" branch must have a valid prerelease detonation in "prerelease" property or in "name" if "prerelease" is "true"
  ✔ definitions › branches › The "prerelease" branches must have unique "prerelease" property
  ✔ definitions › branches › A "release" branch is identified by not havin a "range" or "prerelease" property or a "name" formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › There must be between 1 and 3 release branches

  Uncaught exception in test/definitions/plugins.test.js

  test/definitions/plugins.test.js:2

   1: const test = require('ava');                                              
   2: const plugins = require('../../lib/definitions/plugins');                 
   3: const {RELEASE_NOTES_SEPARATOR, SECRET_REPLACEMENT} = require('../../lib/…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant7/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (test/definitions/plugins.test.js:2:17)

  ✖ test/definitions/plugins.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/plugins/normalize.test.js

  test/plugins/normalize.test.js:4

   3: const {stub} = require('sinon');                         
   4: const normalize = require('../../lib/plugins/normalize');
   5:                                                          

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant7/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (lib/plugins/normalize.js:2:454)
  › Object.<anonymous> (test/plugins/normalize.test.js:4:19)

  ✖ test/plugins/normalize.test.js exited with a non-zero exit code: 1
  ✔ plugins › pipeline › Throw all errors from all steps throwing an AggregateError
  ✔ plugins › pipeline › Stop execution and throw error if a step rejects
  ✔ plugins › pipeline › Throw all errors from the first step throwing an AggregateError
  ✔ plugins › pipeline › Execute each function in series passing the same input
  ✔ plugins › pipeline › Execute all even if a Promise rejects
  ✔ plugins › pipeline › Execute each function in series passing a transformed input from "getNextInput"
  ✔ plugins › pipeline › Execute each function in series passing the "lastResult" and "result" to "getNextInput"
  ✔ plugins › pipeline › Execute each function in series calling "transform" to modify the results
  ✔ plugins › pipeline › Execute each function in series calling "transform" to modify the results with "settleAll"
  ✔ plugins › pipeline › Execute each function in series passing a transformed input even if a step rejects
  ✔ plugins › utils › validatePlugin
  ✔ plugins › utils › validateStep: optional plugin configuration
  ✔ plugins › utils › validateStep: required plugin configuration
  ✔ plugins › utils › loadPlugin
  ✔ plugins › utils › parseConfig

  Uncaught exception in test/plugins/plugins.test.js

  test/plugins/plugins.test.js:6

   5: const tempy = require('tempy');                 
   6: const getPlugins = require('../../lib/plugins');
   7:                                                 

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant7/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (lib/plugins/index.js:2:386)
  › Object.<anonymous> (test/plugins/plugins.test.js:6:20)

  ✖ test/plugins/plugins.test.js exited with a non-zero exit code: 1
  ─

  cli › Pass options to semantic-release API

  test/cli.test.js:70

   69:                                                                          
   70:   t.deepEqual(run.args[0][0].branches, ['master', 'next']);              
   71:   t.is(run.args[0][0].repositoryUrl, 'https://github/com/owner/repo.git'…

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:70:26



  cli › Pass options to semantic-release API with alias arguments

  test/cli.test.js:112

   111:                                                                         
   112:   t.deepEqual(run.args[0][0].branches, ['master']);                     
   113:   t.is(run.args[0][0].repositoryUrl, 'https://github/com/owner/repo.git…

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:112:26



  cli › Pass unknown options to semantic-release API

  test/cli.test.js:129

   128:                                              
   129:   t.is(run.args[0][0].bool, true);           
   130:   t.is(run.args[0][0].firstOption, 'value1');

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:129:19



  cli › Pass empty Array to semantic-release API for list option set to "false"

  test/cli.test.js:143

   142:                                           
   143:   t.deepEqual(run.args[0][0].publish, []);
   144:                                           

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:143:26



  cli › Do not set properties in option for which arg is not in command line

  test/cli.test.js:155

   154:                                   
   155:   t.false('ci' in run.args[0][0]);
   156:   t.false('d' in run.args[0][0]); 

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:155:30



  cli › Return error exitCode if semantic-release throw error

  test/cli.test.js:207

   206:                                                       
   207:   t.regex(t.context.errors, /semantic-release error/);
   208:   t.is(exitCode, 1);                                  

  Value must match expression:

  `Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant7/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/git.js:2:264)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/get-config.js:2:512)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/index.js:2:622)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Proxyquire._require (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mproxyquire[24m/lib/proxyquire.js:188:36)␊
      at module.exports (/data/js-variants/multee/Clients/execa/semantic-release/cli.js:7:110)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/test/cli.test.js:205:26␊
      at Test.callFn (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:622:21)␊
      at Test.run (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:635:23)␊
      at Runner.runSingle (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:299:33)␊
      at Runner.runTest (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:376:30)␊
      at async /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:508:24␊
      at async Promise.all (index 1)␊
      at async Runner.start (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:547:15) {␊
    code: [32m'ERR_REQUIRE_ESM'[39m␊
  }`

  Regular expression:

  /semantic-release error/

  › test/cli.test.js:207:5



  cli › Hide sensitive environment variable values from the logs

  test/cli.test.js:219

   218:                                                                         
   219:   t.regex(t.context.errors, new RegExp(`Throw error: Exposing token ${e…
   220:   t.is(exitCode, 1);                                                    

  Value must match expression:

  `Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant7/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/git.js:2:264)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/get-config.js:2:512)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/index.js:2:622)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Proxyquire._require (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mproxyquire[24m/lib/proxyquire.js:188:36)␊
      at module.exports (/data/js-variants/multee/Clients/execa/semantic-release/cli.js:7:110)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/test/cli.test.js:217:26␊
      at Test.callFn (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:622:21)␊
      at Test.run (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:635:23)␊
      at Runner.runSingle (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:299:33)␊
      at Runner.runTest (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:376:30)␊
      at async Promise.all (index 1)␊
      at async Runner.start (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:547:15) {␊
    code: [32m'ERR_REQUIRE_ESM'[39m␊
  }`

  Regular expression:

  /Throw error: Exposing token \[secure\]/

  › test/cli.test.js:219:5



  branches › branches › Enforce ranges with branching release workflow

  test/branches/branches.test.js:25

   24:   ];                                                                     
   25:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': ()…
   26:                                                                          

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/Variants/execa/variant7/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:25:23



  branches › branches › Throw SemanticReleaseError for invalid configurations

  test/branches/branches.test.js:202

   201:   ];                                                                    
   202:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   203:   const errors = [...(await t.throwsAsync(getBranches('repositoryUrl', …

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/Variants/execa/variant7/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:202:23



  branches › branches › Throw a SemanticReleaseError if there is duplicate branches

  test/branches/branches.test.js:232

   231:   ];                                                                    
   232:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   233:                                                                         

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/Variants/execa/variant7/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:232:23



  branches › branches › Throw a SemanticReleaseError for each invalid branch name

  test/branches/branches.test.js:247

   246:   ];                                                                    
   247:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   248:                                                                         

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/Variants/execa/variant7/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:247:23

  ─

  11 tests failed
  12 uncaught exceptions
----------------------------------|---------|----------|---------|---------|-------------------
File                              | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
----------------------------------|---------|----------|---------|---------|-------------------
All files                         |   36.17 |    40.67 |   33.85 |   35.78 |                   
 semantic-release                 |   16.96 |    13.95 |   33.33 |   16.77 |                   
  cli.js                          |   95.24 |      100 |     100 |      95 | 56                
  index.js                        |       6 |        0 |       0 |    6.12 | 10-279            
 semantic-release/lib             |   41.95 |    45.64 |   46.75 |   40.93 |                   
  get-commits.js                  |      20 |        0 |       0 |      20 | 11-22             
  get-config.js                   |   16.22 |        0 |       0 |   16.22 | 7-89              
  get-error.js                    |      60 |        0 |       0 |      60 | 5-6               
  get-git-auth-url.js             |     8.7 |        0 |       0 |    9.09 | 5-121             
  get-last-release.js             |     100 |      100 |     100 |     100 |                   
  get-logger.js                   |     100 |      100 |     100 |     100 |                   
  get-next-version.js             |     100 |      100 |     100 |     100 |                   
  get-release-to-add.js           |     100 |      100 |     100 |     100 |                   
  git.js                          |    5.77 |        0 |       0 |    5.77 | 4-331             
  hide-sensitive.js               |     100 |      100 |     100 |     100 |                   
  utils.js                        |   81.82 |    95.74 |   86.36 |   78.57 | 10-17             
  verify.js                       |      15 |        0 |       0 |      15 | 4-41              
 semantic-release/lib/branches    |   44.32 |    53.97 |   29.17 |   44.83 |                   
  expand.js                       |      30 |        0 |       0 |   33.33 | 5-13              
  get-tags.js                     |   38.46 |        0 |       0 |   38.46 | 7-29              
  index.js                        |   15.38 |        0 |       0 |   15.38 | 7-70              
  normalize.js                    |   96.15 |    97.14 |     100 |   96.15 | 60                
 semantic-release/lib/definitions |   38.14 |    32.56 |      15 |   37.89 |                   
  branches.js                     |     100 |    93.33 |     100 |     100 | 7                 
  constants.js                    |     100 |      100 |     100 |     100 |                   
  errors.js                       |   24.32 |        0 |       0 |      25 | 8,11,14-224       
  plugins.js                      |    5.88 |        0 |       0 |    5.88 | 5-106             
 semantic-release/lib/plugins     |   42.64 |    47.86 |   47.37 |   42.52 |                   
  index.js                        |     9.3 |        0 |       0 |     9.3 | 5-92              
  normalize.js                    |    12.5 |        0 |       0 |   12.82 | 6-66              
  pipeline.js                     |     100 |      100 |     100 |     100 |                   
  utils.js                        |     100 |      100 |     100 |     100 |                   
----------------------------------|---------|----------|---------|---------|-------------------
************* run test done *************
semantic-release is testing ./Variants/execa/variant6/execa
/data/js-variants/multee
************* npm unlink module *************

removed 2 packages, changed 1 package, and audited 1494 packages in 4s

147 packages are looking for funding
  run `npm fund` for details

14 vulnerabilities (6 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 721ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 393ms

1 package is looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 2 packages, changed 1 package, and audited 1497 packages in 4s

148 packages are looking for funding
  run `npm fund` for details

14 vulnerabilities (6 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm link module done *************
************* start run test *************

> semantic-release@0.0.0-development pretest
> npm run lint


> semantic-release@0.0.0-development lint
> xo


> semantic-release@0.0.0-development test
> nyc ava -v


  Uncaught exception in test/get-commits.test.js

  test/get-commits.test.js:3

   2: const {stub} = require('sinon');                                          
   3: const getCommits = require('../lib/get-commits');                         
   4: const {gitRepo, gitCommits, gitDetachedHead} = require('./helpers/git-uti…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant6/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/get-commits.js:2:218)
  › Object.<anonymous> (test/get-commits.test.js:3:20)

  ✖ test/get-commits.test.js exited with a non-zero exit code: 1
  ✖ cli › Pass options to semantic-release API Rejected promise returned by test
  ✖ cli › Pass options to semantic-release API with alias arguments Rejected promise returned by test
  ✖ cli › Pass unknown options to semantic-release API Rejected promise returned by test
  ✖ cli › Pass empty Array to semantic-release API for list option set to "false" Rejected promise returned by test
  ✖ cli › Do not set properties in option for which arg is not in command line Rejected promise returned by test
  ✔ cli › Display help
  ✔ cli › Return error exitCode and prints help if called with a command
  ✔ cli › Return error exitCode if multiple plugin are set for single plugin
  ✖ cli › Return error exitCode if semantic-release throw error 
  ✖ cli › Hide sensitive environment variable values from the logs 

  Uncaught exception in test/get-config.test.js

  test/get-config.test.js:9

   8: const yaml = require('js-yaml');                                          
   9: const {gitRepo, gitTagVersion, gitCommits, gitShallowClone, gitAddConfig}…
   10:                                                                           

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant6/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/helpers/git-utils.js:2:15)
  › Object.<anonymous> (test/get-config.test.js:9:77)

  ✖ test/get-config.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/get-git-auth-url.test.js

  test/get-git-auth-url.test.js:2

   1: const test = require('ava');                          
   2: const getAuthUrl = require('../lib/get-git-auth-url');
   3: const {gitRepo} = require('./helpers/git-utils');     

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant6/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/get-git-auth-url.js:3:171)
  › Object.<anonymous> (test/get-git-auth-url.test.js:2:20)

  ✖ test/get-git-auth-url.test.js exited with a non-zero exit code: 1
  ✔ get-last-release › Get the highest non-prerelease valid tag
  ✔ get-last-release › Get the highest prerelease valid tag, ignoring other tags from other prerelease channels
  ✔ get-last-release › Return empty object if no valid tag is found
  ✔ get-last-release › Get the highest non-prerelease valid tag before a certain version
  ✔ get-logger › Expose "error", "success" and "log" functions
  ✔ get-next-version › Increase version for patch release
  ✔ get-next-version › Increase version for minor release
  ✔ get-next-version › Increase version for major release
  ✔ get-next-version › Return 1.0.0 if there is no previous release
  ✔ get-next-version › Increase version for patch release on prerelease branch
  ✔ get-next-version › Increase version for minor release on prerelease branch
  ✔ get-next-version › Increase version for major release on prerelease branch
  ✔ get-next-version › Return 1.0.0 if there is no previous release on prerelease branch
  ✔ get-next-version › Increase version for release on prerelease branch after previous commits were merged to release branch
  ✔ get-next-version › Increase version for release on prerelease branch based on highest commit type since last regular release
  ✔ get-next-version › Increase version for release on prerelease branch when there is no regular releases on other branches
  ✔ get-release-to-add › Return versions merged from release to maintenance branch, excluding lower than branch start range
  ✔ get-release-to-add › Return versions merged between release branches
  ✔ get-release-to-add › Return releases sorted by ascending order
  ✔ get-release-to-add › No lastRelease
  ✔ get-release-to-add › Ignore pre-release versions
  ✔ get-release-to-add › Exclude versions merged from release to maintenance branch if they have the same "channel"
  ✔ get-release-to-add › Exclude versions merged between release branches if they have the same "channel"
  ✔ get-release-to-add › Exclude versions merged between release branches if they all have "channel" set to "false"
  ✔ get-release-to-add › Exclude versions number less than the latest version already released on that branch

  Uncaught exception in test/git.test.js

  test/git.test.js:19

   18:   fetchNotes,             
   19: } = require('../lib/git');
   20: const {                   

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant6/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (test/git.test.js:19:5)

  ✖ test/git.test.js exited with a non-zero exit code: 1
  ✔ hide-sensitive › Replace multiple sensitive environment variable values
  ✔ hide-sensitive › Replace multiple occurences of sensitive environment variable values
  ✔ hide-sensitive › Replace sensitive environment variable matching specific regex for "private"
  ✔ hide-sensitive › Replace url-encoded environment variable
  ✔ hide-sensitive › Escape regexp special characters
  ✔ hide-sensitive › Escape regexp special characters in url-encoded environment variable
  ✔ hide-sensitive › Accept "undefined" input
  ✔ hide-sensitive › Return same string if no environment variable has to be replaced
  ✔ hide-sensitive › Exclude empty environment variables from the regexp
  ✔ hide-sensitive › Exclude empty environment variables from the regexp if there is only empty ones
  ✔ hide-sensitive › Exclude nonsensitive GOPRIVATE environment variable for Golang projects from the regexp
  ✔ hide-sensitive › Exclude environment variables with value shorter than SECRET_MIN_SIZE from the regexp

  Uncaught exception in test/index.test.js

  test/index.test.js:24

   23:   gitGetNote,                      
   24: } = require('./helpers/git-utils');
   25:                                    

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant6/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/helpers/git-utils.js:2:15)
  › Object.<anonymous> (test/index.test.js:24:5)

  ✖ test/index.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/integration.test.js

  test/integration.test.js:6

   5: const {writeJson, readJson} = require('fs-extra');       
   6: const execa = require('execa');                          
   7: const {WritableStreamBuffer} = require('stream-buffers');

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant6/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/integration.test.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/integration.test.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/integration.test.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/integration.test.js:6:15)

  ✖ test/integration.test.js exited with a non-zero exit code: 1
  ✔ utils › getLatestVersion
  ✔ utils › getEarliestVersion
  ✔ utils › extractErrors
  ✔ utils › tagsToVersions
  ✔ utils › isMajorRange
  ✔ utils › isMaintenanceRange
  ✔ utils › getUpperBound
  ✔ utils › getLowerBound
  ✔ utils › highest
  ✔ utils › lowest
  ✔ utils › getFirstVersion
  ✔ utils › getRange
  ✔ utils › makeTag
  ✔ utils › isSameChannel

  Uncaught exception in test/verify.test.js

  test/verify.test.js:3

   2: const tempy = require('tempy');                  
   3: const verify = require('../lib/verify');         
   4: const {gitRepo} = require('./helpers/git-utils');

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant6/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/verify.js:2:305)
  › Object.<anonymous> (test/verify.test.js:3:16)

  ✖ test/verify.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/branches/expand.test.js

  test/branches/expand.test.js:2

   1: const test = require('ava');                                              
   2: const expand = require('../../lib/branches/expand');                      
   3: const {gitRepo, gitCommits, gitCheckout, gitPush} = require('../helpers/g…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant6/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/branches/expand.js:2:292)
  › Object.<anonymous> (test/branches/expand.test.js:2:16)

  ✖ test/branches/expand.test.js exited with a non-zero exit code: 1
  ✖ branches › branches › Enforce ranges with branching release workflow Rejected promise returned by test
  ✖ branches › branches › Throw SemanticReleaseError for invalid configurations Rejected promise returned by test
  ✖ branches › branches › Throw a SemanticReleaseError if there is duplicate branches Rejected promise returned by test
  ✖ branches › branches › Throw a SemanticReleaseError for each invalid branch name Rejected promise returned by test

  Uncaught exception in test/branches/get-tags.test.js

  test/branches/get-tags.test.js:2

   1: const test = require('ava');                                              
   2: const getTags = require('../../lib/branches/get-tags');                   
   3: const {gitRepo, gitCommits, gitTagVersion, gitCheckout, gitAddNote} = req…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant6/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/branches/get-tags.js:2:407)
  › Object.<anonymous> (test/branches/get-tags.test.js:2:17)

  ✖ test/branches/get-tags.test.js exited with a non-zero exit code: 1
  ✔ branches › normalize › Maintenance branches - initial state
  ✔ branches › normalize › Maintenance branches - cap range to first release present on default branch and not in any Maintenance one
  ✔ branches › normalize › Maintenance branches - cap range to default branch last release if all release are also present on maintenance branch
  ✔ branches › normalize › Release branches - initial state
  ✔ branches › normalize › Release branches - 3 release branches
  ✔ branches › normalize › Release branches - 2 release branches
  ✔ branches › normalize › Release branches - 1 release branches
  ✔ branches › normalize › Release branches - cap ranges to first release only present on following branch
  ✔ branches › normalize › Release branches - Handle missing previous tags in branch history
  ✔ branches › normalize › Release branches - limit releases on 2nd and 3rd branch based on 1st branch last release
  ✔ branches › normalize › Prerelease branches
  ✔ branches › normalize › Allow to set channel to "false" to prevent default
  ✔ definitions › branches › A "maintenance" branch is identified by having a "range" property or a "name" formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › A "maintenance" branches must have a "range" property formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › The "maintenance" branches must have unique ranges
  ✔ definitions › branches › A "prerelease" branch is identified by having a thruthy "prerelease" property
  ✔ definitions › branches › A "prerelease" branch must have a valid prerelease detonation in "prerelease" property or in "name" if "prerelease" is "true"
  ✔ definitions › branches › The "prerelease" branches must have unique "prerelease" property
  ✔ definitions › branches › A "release" branch is identified by not havin a "range" or "prerelease" property or a "name" formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › There must be between 1 and 3 release branches

  Uncaught exception in test/definitions/plugins.test.js

  test/definitions/plugins.test.js:2

   1: const test = require('ava');                                              
   2: const plugins = require('../../lib/definitions/plugins');                 
   3: const {RELEASE_NOTES_SEPARATOR, SECRET_REPLACEMENT} = require('../../lib/…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant6/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (test/definitions/plugins.test.js:2:17)

  ✖ test/definitions/plugins.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/plugins/normalize.test.js

  test/plugins/normalize.test.js:4

   3: const {stub} = require('sinon');                         
   4: const normalize = require('../../lib/plugins/normalize');
   5:                                                          

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant6/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (lib/plugins/normalize.js:2:454)
  › Object.<anonymous> (test/plugins/normalize.test.js:4:19)

  ✖ test/plugins/normalize.test.js exited with a non-zero exit code: 1
  ✔ plugins › pipeline › Throw all errors from all steps throwing an AggregateError
  ✔ plugins › pipeline › Stop execution and throw error if a step rejects
  ✔ plugins › pipeline › Throw all errors from the first step throwing an AggregateError
  ✔ plugins › pipeline › Execute each function in series passing the same input
  ✔ plugins › pipeline › Execute all even if a Promise rejects
  ✔ plugins › pipeline › Execute each function in series passing a transformed input from "getNextInput"
  ✔ plugins › pipeline › Execute each function in series passing the "lastResult" and "result" to "getNextInput"
  ✔ plugins › pipeline › Execute each function in series calling "transform" to modify the results
  ✔ plugins › pipeline › Execute each function in series calling "transform" to modify the results with "settleAll"
  ✔ plugins › pipeline › Execute each function in series passing a transformed input even if a step rejects
  ✔ plugins › utils › validatePlugin
  ✔ plugins › utils › validateStep: optional plugin configuration
  ✔ plugins › utils › validateStep: required plugin configuration
  ✔ plugins › utils › loadPlugin
  ✔ plugins › utils › parseConfig

  Uncaught exception in test/plugins/plugins.test.js

  test/plugins/plugins.test.js:6

   5: const tempy = require('tempy');                 
   6: const getPlugins = require('../../lib/plugins');
   7:                                                 

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant6/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (lib/plugins/index.js:2:386)
  › Object.<anonymous> (test/plugins/plugins.test.js:6:20)

  ✖ test/plugins/plugins.test.js exited with a non-zero exit code: 1
  ─

  cli › Pass options to semantic-release API

  test/cli.test.js:70

   69:                                                                          
   70:   t.deepEqual(run.args[0][0].branches, ['master', 'next']);              
   71:   t.is(run.args[0][0].repositoryUrl, 'https://github/com/owner/repo.git'…

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:70:26



  cli › Pass options to semantic-release API with alias arguments

  test/cli.test.js:112

   111:                                                                         
   112:   t.deepEqual(run.args[0][0].branches, ['master']);                     
   113:   t.is(run.args[0][0].repositoryUrl, 'https://github/com/owner/repo.git…

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:112:26



  cli › Pass unknown options to semantic-release API

  test/cli.test.js:129

   128:                                              
   129:   t.is(run.args[0][0].bool, true);           
   130:   t.is(run.args[0][0].firstOption, 'value1');

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:129:19



  cli › Pass empty Array to semantic-release API for list option set to "false"

  test/cli.test.js:143

   142:                                           
   143:   t.deepEqual(run.args[0][0].publish, []);
   144:                                           

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:143:26



  cli › Do not set properties in option for which arg is not in command line

  test/cli.test.js:155

   154:                                   
   155:   t.false('ci' in run.args[0][0]);
   156:   t.false('d' in run.args[0][0]); 

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:155:30



  cli › Return error exitCode if semantic-release throw error

  test/cli.test.js:207

   206:                                                       
   207:   t.regex(t.context.errors, /semantic-release error/);
   208:   t.is(exitCode, 1);                                  

  Value must match expression:

  `Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant6/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/git.js:2:264)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/get-config.js:2:512)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/index.js:2:622)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Proxyquire._require (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mproxyquire[24m/lib/proxyquire.js:188:36)␊
      at module.exports (/data/js-variants/multee/Clients/execa/semantic-release/cli.js:7:110)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/test/cli.test.js:205:26␊
      at Test.callFn (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:622:21)␊
      at Test.run (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:635:23)␊
      at Runner.runSingle (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:299:33)␊
      at Runner.runTest (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:376:30)␊
      at async /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:508:24␊
      at async Promise.all (index 1)␊
      at async Runner.start (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:547:15) {␊
    code: [32m'ERR_REQUIRE_ESM'[39m␊
  }`

  Regular expression:

  /semantic-release error/

  › test/cli.test.js:207:5



  cli › Hide sensitive environment variable values from the logs

  test/cli.test.js:219

   218:                                                                         
   219:   t.regex(t.context.errors, new RegExp(`Throw error: Exposing token ${e…
   220:   t.is(exitCode, 1);                                                    

  Value must match expression:

  `Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant6/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/git.js:2:264)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/get-config.js:2:512)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/index.js:2:622)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Proxyquire._require (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mproxyquire[24m/lib/proxyquire.js:188:36)␊
      at module.exports (/data/js-variants/multee/Clients/execa/semantic-release/cli.js:7:110)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/test/cli.test.js:217:26␊
      at Test.callFn (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:622:21)␊
      at Test.run (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:635:23)␊
      at Runner.runSingle (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:299:33)␊
      at Runner.runTest (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:376:30)␊
      at async Promise.all (index 1)␊
      at async Runner.start (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:547:15) {␊
    code: [32m'ERR_REQUIRE_ESM'[39m␊
  }`

  Regular expression:

  /Throw error: Exposing token \[secure\]/

  › test/cli.test.js:219:5



  branches › branches › Enforce ranges with branching release workflow

  test/branches/branches.test.js:25

   24:   ];                                                                     
   25:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': ()…
   26:                                                                          

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/Variants/execa/variant6/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:25:23



  branches › branches › Throw SemanticReleaseError for invalid configurations

  test/branches/branches.test.js:202

   201:   ];                                                                    
   202:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   203:   const errors = [...(await t.throwsAsync(getBranches('repositoryUrl', …

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/Variants/execa/variant6/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:202:23



  branches › branches › Throw a SemanticReleaseError if there is duplicate branches

  test/branches/branches.test.js:232

   231:   ];                                                                    
   232:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   233:                                                                         

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/Variants/execa/variant6/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:232:23



  branches › branches › Throw a SemanticReleaseError for each invalid branch name

  test/branches/branches.test.js:247

   246:   ];                                                                    
   247:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   248:                                                                         

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/Variants/execa/variant6/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:247:23

  ─

  11 tests failed
  12 uncaught exceptions
----------------------------------|---------|----------|---------|---------|-------------------
File                              | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
----------------------------------|---------|----------|---------|---------|-------------------
All files                         |   36.17 |    40.67 |   33.85 |   35.78 |                   
 semantic-release                 |   16.96 |    13.95 |   33.33 |   16.77 |                   
  cli.js                          |   95.24 |      100 |     100 |      95 | 56                
  index.js                        |       6 |        0 |       0 |    6.12 | 10-279            
 semantic-release/lib             |   41.95 |    45.64 |   46.75 |   40.93 |                   
  get-commits.js                  |      20 |        0 |       0 |      20 | 11-22             
  get-config.js                   |   16.22 |        0 |       0 |   16.22 | 7-89              
  get-error.js                    |      60 |        0 |       0 |      60 | 5-6               
  get-git-auth-url.js             |     8.7 |        0 |       0 |    9.09 | 5-121             
  get-last-release.js             |     100 |      100 |     100 |     100 |                   
  get-logger.js                   |     100 |      100 |     100 |     100 |                   
  get-next-version.js             |     100 |      100 |     100 |     100 |                   
  get-release-to-add.js           |     100 |      100 |     100 |     100 |                   
  git.js                          |    5.77 |        0 |       0 |    5.77 | 4-331             
  hide-sensitive.js               |     100 |      100 |     100 |     100 |                   
  utils.js                        |   81.82 |    95.74 |   86.36 |   78.57 | 10-17             
  verify.js                       |      15 |        0 |       0 |      15 | 4-41              
 semantic-release/lib/branches    |   44.32 |    53.97 |   29.17 |   44.83 |                   
  expand.js                       |      30 |        0 |       0 |   33.33 | 5-13              
  get-tags.js                     |   38.46 |        0 |       0 |   38.46 | 7-29              
  index.js                        |   15.38 |        0 |       0 |   15.38 | 7-70              
  normalize.js                    |   96.15 |    97.14 |     100 |   96.15 | 60                
 semantic-release/lib/definitions |   38.14 |    32.56 |      15 |   37.89 |                   
  branches.js                     |     100 |    93.33 |     100 |     100 | 7                 
  constants.js                    |     100 |      100 |     100 |     100 |                   
  errors.js                       |   24.32 |        0 |       0 |      25 | 8,11,14-224       
  plugins.js                      |    5.88 |        0 |       0 |    5.88 | 5-106             
 semantic-release/lib/plugins     |   42.64 |    47.86 |   47.37 |   42.52 |                   
  index.js                        |     9.3 |        0 |       0 |     9.3 | 5-92              
  normalize.js                    |    12.5 |        0 |       0 |   12.82 | 6-66              
  pipeline.js                     |     100 |      100 |     100 |     100 |                   
  utils.js                        |     100 |      100 |     100 |     100 |                   
----------------------------------|---------|----------|---------|---------|-------------------
************* run test done *************
semantic-release is testing ./Variants/execa/variant5/execa
/data/js-variants/multee
************* npm unlink module *************

removed 2 packages, changed 1 package, and audited 1494 packages in 4s

147 packages are looking for funding
  run `npm fund` for details

14 vulnerabilities (6 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 717ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 423ms

1 package is looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 2 packages, changed 1 package, and audited 1497 packages in 4s

148 packages are looking for funding
  run `npm fund` for details

14 vulnerabilities (6 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm link module done *************
************* start run test *************

> semantic-release@0.0.0-development pretest
> npm run lint


> semantic-release@0.0.0-development lint
> xo


> semantic-release@0.0.0-development test
> nyc ava -v


  Uncaught exception in test/get-commits.test.js

  test/get-commits.test.js:3

   2: const {stub} = require('sinon');                                          
   3: const getCommits = require('../lib/get-commits');                         
   4: const {gitRepo, gitCommits, gitDetachedHead} = require('./helpers/git-uti…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant5/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/get-commits.js:2:218)
  › Object.<anonymous> (test/get-commits.test.js:3:20)

  ✖ test/get-commits.test.js exited with a non-zero exit code: 1
  ✖ cli › Pass options to semantic-release API Rejected promise returned by test
  ✖ cli › Pass options to semantic-release API with alias arguments Rejected promise returned by test
  ✖ cli › Pass unknown options to semantic-release API Rejected promise returned by test
  ✖ cli › Pass empty Array to semantic-release API for list option set to "false" Rejected promise returned by test
  ✖ cli › Do not set properties in option for which arg is not in command line Rejected promise returned by test
  ✔ cli › Display help
  ✔ cli › Return error exitCode and prints help if called with a command
  ✔ cli › Return error exitCode if multiple plugin are set for single plugin
  ✖ cli › Return error exitCode if semantic-release throw error 
  ✖ cli › Hide sensitive environment variable values from the logs 

  Uncaught exception in test/get-config.test.js

  test/get-config.test.js:9

   8: const yaml = require('js-yaml');                                          
   9: const {gitRepo, gitTagVersion, gitCommits, gitShallowClone, gitAddConfig}…
   10:                                                                           

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant5/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/helpers/git-utils.js:2:15)
  › Object.<anonymous> (test/get-config.test.js:9:77)

  ✖ test/get-config.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/get-git-auth-url.test.js

  test/get-git-auth-url.test.js:2

   1: const test = require('ava');                          
   2: const getAuthUrl = require('../lib/get-git-auth-url');
   3: const {gitRepo} = require('./helpers/git-utils');     

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant5/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/get-git-auth-url.js:3:171)
  › Object.<anonymous> (test/get-git-auth-url.test.js:2:20)

  ✖ test/get-git-auth-url.test.js exited with a non-zero exit code: 1
  ✔ get-last-release › Get the highest non-prerelease valid tag
  ✔ get-last-release › Get the highest prerelease valid tag, ignoring other tags from other prerelease channels
  ✔ get-last-release › Return empty object if no valid tag is found
  ✔ get-last-release › Get the highest non-prerelease valid tag before a certain version
  ✔ get-logger › Expose "error", "success" and "log" functions
  ✔ get-next-version › Increase version for patch release
  ✔ get-next-version › Increase version for minor release
  ✔ get-next-version › Increase version for major release
  ✔ get-next-version › Return 1.0.0 if there is no previous release
  ✔ get-next-version › Increase version for patch release on prerelease branch
  ✔ get-next-version › Increase version for minor release on prerelease branch
  ✔ get-next-version › Increase version for major release on prerelease branch
  ✔ get-next-version › Return 1.0.0 if there is no previous release on prerelease branch
  ✔ get-next-version › Increase version for release on prerelease branch after previous commits were merged to release branch
  ✔ get-next-version › Increase version for release on prerelease branch based on highest commit type since last regular release
  ✔ get-next-version › Increase version for release on prerelease branch when there is no regular releases on other branches
  ✔ get-release-to-add › Return versions merged from release to maintenance branch, excluding lower than branch start range
  ✔ get-release-to-add › Return versions merged between release branches
  ✔ get-release-to-add › Return releases sorted by ascending order
  ✔ get-release-to-add › No lastRelease
  ✔ get-release-to-add › Ignore pre-release versions
  ✔ get-release-to-add › Exclude versions merged from release to maintenance branch if they have the same "channel"
  ✔ get-release-to-add › Exclude versions merged between release branches if they have the same "channel"
  ✔ get-release-to-add › Exclude versions merged between release branches if they all have "channel" set to "false"
  ✔ get-release-to-add › Exclude versions number less than the latest version already released on that branch

  Uncaught exception in test/git.test.js

  test/git.test.js:19

   18:   fetchNotes,             
   19: } = require('../lib/git');
   20: const {                   

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant5/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (test/git.test.js:19:5)

  ✖ test/git.test.js exited with a non-zero exit code: 1
  ✔ hide-sensitive › Replace multiple sensitive environment variable values
  ✔ hide-sensitive › Replace multiple occurences of sensitive environment variable values
  ✔ hide-sensitive › Replace sensitive environment variable matching specific regex for "private"
  ✔ hide-sensitive › Replace url-encoded environment variable
  ✔ hide-sensitive › Escape regexp special characters
  ✔ hide-sensitive › Escape regexp special characters in url-encoded environment variable
  ✔ hide-sensitive › Accept "undefined" input
  ✔ hide-sensitive › Return same string if no environment variable has to be replaced
  ✔ hide-sensitive › Exclude empty environment variables from the regexp
  ✔ hide-sensitive › Exclude empty environment variables from the regexp if there is only empty ones
  ✔ hide-sensitive › Exclude nonsensitive GOPRIVATE environment variable for Golang projects from the regexp
  ✔ hide-sensitive › Exclude environment variables with value shorter than SECRET_MIN_SIZE from the regexp

  Uncaught exception in test/index.test.js

  test/index.test.js:24

   23:   gitGetNote,                      
   24: } = require('./helpers/git-utils');
   25:                                    

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant5/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/helpers/git-utils.js:2:15)
  › Object.<anonymous> (test/index.test.js:24:5)

  ✖ test/index.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/integration.test.js

  test/integration.test.js:6

   5: const {writeJson, readJson} = require('fs-extra');       
   6: const execa = require('execa');                          
   7: const {WritableStreamBuffer} = require('stream-buffers');

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant5/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/integration.test.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/integration.test.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/integration.test.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/integration.test.js:6:15)

  ✖ test/integration.test.js exited with a non-zero exit code: 1
  ✔ utils › getLatestVersion
  ✔ utils › getEarliestVersion
  ✔ utils › extractErrors
  ✔ utils › tagsToVersions
  ✔ utils › isMajorRange
  ✔ utils › isMaintenanceRange
  ✔ utils › getUpperBound
  ✔ utils › getLowerBound
  ✔ utils › highest
  ✔ utils › lowest
  ✔ utils › getFirstVersion
  ✔ utils › getRange
  ✔ utils › makeTag
  ✔ utils › isSameChannel

  Uncaught exception in test/verify.test.js

  test/verify.test.js:3

   2: const tempy = require('tempy');                  
   3: const verify = require('../lib/verify');         
   4: const {gitRepo} = require('./helpers/git-utils');

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant5/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/verify.js:2:305)
  › Object.<anonymous> (test/verify.test.js:3:16)

  ✖ test/verify.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/branches/expand.test.js

  test/branches/expand.test.js:2

   1: const test = require('ava');                                              
   2: const expand = require('../../lib/branches/expand');                      
   3: const {gitRepo, gitCommits, gitCheckout, gitPush} = require('../helpers/g…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant5/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/branches/expand.js:2:292)
  › Object.<anonymous> (test/branches/expand.test.js:2:16)

  ✖ test/branches/expand.test.js exited with a non-zero exit code: 1
  ✖ branches › branches › Enforce ranges with branching release workflow Rejected promise returned by test
  ✖ branches › branches › Throw SemanticReleaseError for invalid configurations Rejected promise returned by test
  ✖ branches › branches › Throw a SemanticReleaseError if there is duplicate branches Rejected promise returned by test
  ✖ branches › branches › Throw a SemanticReleaseError for each invalid branch name Rejected promise returned by test

  Uncaught exception in test/branches/get-tags.test.js

  test/branches/get-tags.test.js:2

   1: const test = require('ava');                                              
   2: const getTags = require('../../lib/branches/get-tags');                   
   3: const {gitRepo, gitCommits, gitTagVersion, gitCheckout, gitAddNote} = req…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant5/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/branches/get-tags.js:2:407)
  › Object.<anonymous> (test/branches/get-tags.test.js:2:17)

  ✖ test/branches/get-tags.test.js exited with a non-zero exit code: 1
  ✔ branches › normalize › Maintenance branches - initial state
  ✔ branches › normalize › Maintenance branches - cap range to first release present on default branch and not in any Maintenance one
  ✔ branches › normalize › Maintenance branches - cap range to default branch last release if all release are also present on maintenance branch
  ✔ branches › normalize › Release branches - initial state
  ✔ branches › normalize › Release branches - 3 release branches
  ✔ branches › normalize › Release branches - 2 release branches
  ✔ branches › normalize › Release branches - 1 release branches
  ✔ branches › normalize › Release branches - cap ranges to first release only present on following branch
  ✔ branches › normalize › Release branches - Handle missing previous tags in branch history
  ✔ branches › normalize › Release branches - limit releases on 2nd and 3rd branch based on 1st branch last release
  ✔ branches › normalize › Prerelease branches
  ✔ branches › normalize › Allow to set channel to "false" to prevent default
  ✔ definitions › branches › A "maintenance" branch is identified by having a "range" property or a "name" formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › A "maintenance" branches must have a "range" property formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › The "maintenance" branches must have unique ranges
  ✔ definitions › branches › A "prerelease" branch is identified by having a thruthy "prerelease" property
  ✔ definitions › branches › A "prerelease" branch must have a valid prerelease detonation in "prerelease" property or in "name" if "prerelease" is "true"
  ✔ definitions › branches › The "prerelease" branches must have unique "prerelease" property
  ✔ definitions › branches › A "release" branch is identified by not havin a "range" or "prerelease" property or a "name" formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › There must be between 1 and 3 release branches

  Uncaught exception in test/definitions/plugins.test.js

  test/definitions/plugins.test.js:2

   1: const test = require('ava');                                              
   2: const plugins = require('../../lib/definitions/plugins');                 
   3: const {RELEASE_NOTES_SEPARATOR, SECRET_REPLACEMENT} = require('../../lib/…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant5/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (test/definitions/plugins.test.js:2:17)

  ✖ test/definitions/plugins.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/plugins/normalize.test.js

  test/plugins/normalize.test.js:4

   3: const {stub} = require('sinon');                         
   4: const normalize = require('../../lib/plugins/normalize');
   5:                                                          

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant5/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (lib/plugins/normalize.js:2:454)
  › Object.<anonymous> (test/plugins/normalize.test.js:4:19)

  ✖ test/plugins/normalize.test.js exited with a non-zero exit code: 1
  ✔ plugins › pipeline › Throw all errors from all steps throwing an AggregateError
  ✔ plugins › pipeline › Stop execution and throw error if a step rejects
  ✔ plugins › pipeline › Throw all errors from the first step throwing an AggregateError
  ✔ plugins › pipeline › Execute each function in series passing the same input
  ✔ plugins › pipeline › Execute all even if a Promise rejects
  ✔ plugins › pipeline › Execute each function in series passing a transformed input from "getNextInput"
  ✔ plugins › pipeline › Execute each function in series passing the "lastResult" and "result" to "getNextInput"
  ✔ plugins › pipeline › Execute each function in series calling "transform" to modify the results
  ✔ plugins › pipeline › Execute each function in series calling "transform" to modify the results with "settleAll"
  ✔ plugins › pipeline › Execute each function in series passing a transformed input even if a step rejects
  ✔ plugins › utils › validatePlugin
  ✔ plugins › utils › validateStep: optional plugin configuration
  ✔ plugins › utils › validateStep: required plugin configuration
  ✔ plugins › utils › loadPlugin
  ✔ plugins › utils › parseConfig

  Uncaught exception in test/plugins/plugins.test.js

  test/plugins/plugins.test.js:6

   5: const tempy = require('tempy');                 
   6: const getPlugins = require('../../lib/plugins');
   7:                                                 

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant5/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (lib/plugins/index.js:2:386)
  › Object.<anonymous> (test/plugins/plugins.test.js:6:20)

  ✖ test/plugins/plugins.test.js exited with a non-zero exit code: 1
  ─

  cli › Pass options to semantic-release API

  test/cli.test.js:70

   69:                                                                          
   70:   t.deepEqual(run.args[0][0].branches, ['master', 'next']);              
   71:   t.is(run.args[0][0].repositoryUrl, 'https://github/com/owner/repo.git'…

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:70:26



  cli › Pass options to semantic-release API with alias arguments

  test/cli.test.js:112

   111:                                                                         
   112:   t.deepEqual(run.args[0][0].branches, ['master']);                     
   113:   t.is(run.args[0][0].repositoryUrl, 'https://github/com/owner/repo.git…

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:112:26



  cli › Pass unknown options to semantic-release API

  test/cli.test.js:129

   128:                                              
   129:   t.is(run.args[0][0].bool, true);           
   130:   t.is(run.args[0][0].firstOption, 'value1');

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:129:19



  cli › Pass empty Array to semantic-release API for list option set to "false"

  test/cli.test.js:143

   142:                                           
   143:   t.deepEqual(run.args[0][0].publish, []);
   144:                                           

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:143:26



  cli › Do not set properties in option for which arg is not in command line

  test/cli.test.js:155

   154:                                   
   155:   t.false('ci' in run.args[0][0]);
   156:   t.false('d' in run.args[0][0]); 

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:155:30



  cli › Return error exitCode if semantic-release throw error

  test/cli.test.js:207

   206:                                                       
   207:   t.regex(t.context.errors, /semantic-release error/);
   208:   t.is(exitCode, 1);                                  

  Value must match expression:

  `Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant5/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/git.js:2:264)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/get-config.js:2:512)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/index.js:2:622)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Proxyquire._require (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mproxyquire[24m/lib/proxyquire.js:188:36)␊
      at module.exports (/data/js-variants/multee/Clients/execa/semantic-release/cli.js:7:110)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/test/cli.test.js:205:26␊
      at Test.callFn (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:622:21)␊
      at Test.run (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:635:23)␊
      at Runner.runSingle (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:299:33)␊
      at Runner.runTest (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:376:30)␊
      at async /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:508:24␊
      at async Promise.all (index 1)␊
      at async Runner.start (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:547:15) {␊
    code: [32m'ERR_REQUIRE_ESM'[39m␊
  }`

  Regular expression:

  /semantic-release error/

  › test/cli.test.js:207:5



  cli › Hide sensitive environment variable values from the logs

  test/cli.test.js:219

   218:                                                                         
   219:   t.regex(t.context.errors, new RegExp(`Throw error: Exposing token ${e…
   220:   t.is(exitCode, 1);                                                    

  Value must match expression:

  `Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant5/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/git.js:2:264)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/get-config.js:2:512)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/index.js:2:622)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Proxyquire._require (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mproxyquire[24m/lib/proxyquire.js:188:36)␊
      at module.exports (/data/js-variants/multee/Clients/execa/semantic-release/cli.js:7:110)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/test/cli.test.js:217:26␊
      at Test.callFn (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:622:21)␊
      at Test.run (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:635:23)␊
      at Runner.runSingle (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:299:33)␊
      at Runner.runTest (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:376:30)␊
      at async Promise.all (index 1)␊
      at async Runner.start (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:547:15) {␊
    code: [32m'ERR_REQUIRE_ESM'[39m␊
  }`

  Regular expression:

  /Throw error: Exposing token \[secure\]/

  › test/cli.test.js:219:5



  branches › branches › Enforce ranges with branching release workflow

  test/branches/branches.test.js:25

   24:   ];                                                                     
   25:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': ()…
   26:                                                                          

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/Variants/execa/variant5/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:25:23



  branches › branches › Throw SemanticReleaseError for invalid configurations

  test/branches/branches.test.js:202

   201:   ];                                                                    
   202:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   203:   const errors = [...(await t.throwsAsync(getBranches('repositoryUrl', …

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/Variants/execa/variant5/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:202:23



  branches › branches › Throw a SemanticReleaseError if there is duplicate branches

  test/branches/branches.test.js:232

   231:   ];                                                                    
   232:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   233:                                                                         

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/Variants/execa/variant5/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:232:23



  branches › branches › Throw a SemanticReleaseError for each invalid branch name

  test/branches/branches.test.js:247

   246:   ];                                                                    
   247:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   248:                                                                         

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/Variants/execa/variant5/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:247:23

  ─

  11 tests failed
  12 uncaught exceptions
----------------------------------|---------|----------|---------|---------|-------------------
File                              | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
----------------------------------|---------|----------|---------|---------|-------------------
All files                         |   36.17 |    40.67 |   33.85 |   35.78 |                   
 semantic-release                 |   16.96 |    13.95 |   33.33 |   16.77 |                   
  cli.js                          |   95.24 |      100 |     100 |      95 | 56                
  index.js                        |       6 |        0 |       0 |    6.12 | 10-279            
 semantic-release/lib             |   41.95 |    45.64 |   46.75 |   40.93 |                   
  get-commits.js                  |      20 |        0 |       0 |      20 | 11-22             
  get-config.js                   |   16.22 |        0 |       0 |   16.22 | 7-89              
  get-error.js                    |      60 |        0 |       0 |      60 | 5-6               
  get-git-auth-url.js             |     8.7 |        0 |       0 |    9.09 | 5-121             
  get-last-release.js             |     100 |      100 |     100 |     100 |                   
  get-logger.js                   |     100 |      100 |     100 |     100 |                   
  get-next-version.js             |     100 |      100 |     100 |     100 |                   
  get-release-to-add.js           |     100 |      100 |     100 |     100 |                   
  git.js                          |    5.77 |        0 |       0 |    5.77 | 4-331             
  hide-sensitive.js               |     100 |      100 |     100 |     100 |                   
  utils.js                        |   81.82 |    95.74 |   86.36 |   78.57 | 10-17             
  verify.js                       |      15 |        0 |       0 |      15 | 4-41              
 semantic-release/lib/branches    |   44.32 |    53.97 |   29.17 |   44.83 |                   
  expand.js                       |      30 |        0 |       0 |   33.33 | 5-13              
  get-tags.js                     |   38.46 |        0 |       0 |   38.46 | 7-29              
  index.js                        |   15.38 |        0 |       0 |   15.38 | 7-70              
  normalize.js                    |   96.15 |    97.14 |     100 |   96.15 | 60                
 semantic-release/lib/definitions |   38.14 |    32.56 |      15 |   37.89 |                   
  branches.js                     |     100 |    93.33 |     100 |     100 | 7                 
  constants.js                    |     100 |      100 |     100 |     100 |                   
  errors.js                       |   24.32 |        0 |       0 |      25 | 8,11,14-224       
  plugins.js                      |    5.88 |        0 |       0 |    5.88 | 5-106             
 semantic-release/lib/plugins     |   42.64 |    47.86 |   47.37 |   42.52 |                   
  index.js                        |     9.3 |        0 |       0 |     9.3 | 5-92              
  normalize.js                    |    12.5 |        0 |       0 |   12.82 | 6-66              
  pipeline.js                     |     100 |      100 |     100 |     100 |                   
  utils.js                        |     100 |      100 |     100 |     100 |                   
----------------------------------|---------|----------|---------|---------|-------------------
************* run test done *************
semantic-release is testing ./Variants/execa/variant4/execa
/data/js-variants/multee
************* npm unlink module *************

removed 2 packages, changed 1 package, and audited 1494 packages in 4s

147 packages are looking for funding
  run `npm fund` for details

14 vulnerabilities (6 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 747ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 401ms

1 package is looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 2 packages, changed 1 package, and audited 1497 packages in 4s

148 packages are looking for funding
  run `npm fund` for details

14 vulnerabilities (6 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm link module done *************
************* start run test *************

> semantic-release@0.0.0-development pretest
> npm run lint


> semantic-release@0.0.0-development lint
> xo


> semantic-release@0.0.0-development test
> nyc ava -v


  Uncaught exception in test/get-commits.test.js

  test/get-commits.test.js:3

   2: const {stub} = require('sinon');                                          
   3: const getCommits = require('../lib/get-commits');                         
   4: const {gitRepo, gitCommits, gitDetachedHead} = require('./helpers/git-uti…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant4/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/get-commits.js:2:218)
  › Object.<anonymous> (test/get-commits.test.js:3:20)

  ✖ test/get-commits.test.js exited with a non-zero exit code: 1
  ✖ cli › Pass options to semantic-release API Rejected promise returned by test
  ✖ cli › Pass options to semantic-release API with alias arguments Rejected promise returned by test
  ✖ cli › Pass unknown options to semantic-release API Rejected promise returned by test
  ✖ cli › Pass empty Array to semantic-release API for list option set to "false" Rejected promise returned by test
  ✖ cli › Do not set properties in option for which arg is not in command line Rejected promise returned by test
  ✔ cli › Display help
  ✔ cli › Return error exitCode and prints help if called with a command
  ✔ cli › Return error exitCode if multiple plugin are set for single plugin
  ✖ cli › Return error exitCode if semantic-release throw error 
  ✖ cli › Hide sensitive environment variable values from the logs 

  Uncaught exception in test/get-config.test.js

  test/get-config.test.js:9

   8: const yaml = require('js-yaml');                                          
   9: const {gitRepo, gitTagVersion, gitCommits, gitShallowClone, gitAddConfig}…
   10:                                                                           

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant4/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/helpers/git-utils.js:2:15)
  › Object.<anonymous> (test/get-config.test.js:9:77)

  ✖ test/get-config.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/get-git-auth-url.test.js

  test/get-git-auth-url.test.js:2

   1: const test = require('ava');                          
   2: const getAuthUrl = require('../lib/get-git-auth-url');
   3: const {gitRepo} = require('./helpers/git-utils');     

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant4/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/get-git-auth-url.js:3:171)
  › Object.<anonymous> (test/get-git-auth-url.test.js:2:20)

  ✖ test/get-git-auth-url.test.js exited with a non-zero exit code: 1
  ✔ get-last-release › Get the highest non-prerelease valid tag
  ✔ get-last-release › Get the highest prerelease valid tag, ignoring other tags from other prerelease channels
  ✔ get-last-release › Return empty object if no valid tag is found
  ✔ get-last-release › Get the highest non-prerelease valid tag before a certain version
  ✔ get-logger › Expose "error", "success" and "log" functions
  ✔ get-next-version › Increase version for patch release
  ✔ get-next-version › Increase version for minor release
  ✔ get-next-version › Increase version for major release
  ✔ get-next-version › Return 1.0.0 if there is no previous release
  ✔ get-next-version › Increase version for patch release on prerelease branch
  ✔ get-next-version › Increase version for minor release on prerelease branch
  ✔ get-next-version › Increase version for major release on prerelease branch
  ✔ get-next-version › Return 1.0.0 if there is no previous release on prerelease branch
  ✔ get-next-version › Increase version for release on prerelease branch after previous commits were merged to release branch
  ✔ get-next-version › Increase version for release on prerelease branch based on highest commit type since last regular release
  ✔ get-next-version › Increase version for release on prerelease branch when there is no regular releases on other branches
  ✔ get-release-to-add › Return versions merged from release to maintenance branch, excluding lower than branch start range
  ✔ get-release-to-add › Return versions merged between release branches
  ✔ get-release-to-add › Return releases sorted by ascending order
  ✔ get-release-to-add › No lastRelease
  ✔ get-release-to-add › Ignore pre-release versions
  ✔ get-release-to-add › Exclude versions merged from release to maintenance branch if they have the same "channel"
  ✔ get-release-to-add › Exclude versions merged between release branches if they have the same "channel"
  ✔ get-release-to-add › Exclude versions merged between release branches if they all have "channel" set to "false"
  ✔ get-release-to-add › Exclude versions number less than the latest version already released on that branch

  Uncaught exception in test/git.test.js

  test/git.test.js:19

   18:   fetchNotes,             
   19: } = require('../lib/git');
   20: const {                   

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant4/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (test/git.test.js:19:5)

  ✖ test/git.test.js exited with a non-zero exit code: 1
  ✔ hide-sensitive › Replace multiple sensitive environment variable values
  ✔ hide-sensitive › Replace multiple occurences of sensitive environment variable values
  ✔ hide-sensitive › Replace sensitive environment variable matching specific regex for "private"
  ✔ hide-sensitive › Replace url-encoded environment variable
  ✔ hide-sensitive › Escape regexp special characters
  ✔ hide-sensitive › Escape regexp special characters in url-encoded environment variable
  ✔ hide-sensitive › Accept "undefined" input
  ✔ hide-sensitive › Return same string if no environment variable has to be replaced
  ✔ hide-sensitive › Exclude empty environment variables from the regexp
  ✔ hide-sensitive › Exclude empty environment variables from the regexp if there is only empty ones
  ✔ hide-sensitive › Exclude nonsensitive GOPRIVATE environment variable for Golang projects from the regexp
  ✔ hide-sensitive › Exclude environment variables with value shorter than SECRET_MIN_SIZE from the regexp

  Uncaught exception in test/index.test.js

  test/index.test.js:24

   23:   gitGetNote,                      
   24: } = require('./helpers/git-utils');
   25:                                    

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant4/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/helpers/git-utils.js:2:15)
  › Object.<anonymous> (test/index.test.js:24:5)

  ✖ test/index.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/integration.test.js

  test/integration.test.js:6

   5: const {writeJson, readJson} = require('fs-extra');       
   6: const execa = require('execa');                          
   7: const {WritableStreamBuffer} = require('stream-buffers');

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant4/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/integration.test.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/integration.test.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/integration.test.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/integration.test.js:6:15)

  ✖ test/integration.test.js exited with a non-zero exit code: 1
  ✔ utils › getLatestVersion
  ✔ utils › getEarliestVersion
  ✔ utils › extractErrors
  ✔ utils › tagsToVersions
  ✔ utils › isMajorRange
  ✔ utils › isMaintenanceRange
  ✔ utils › getUpperBound
  ✔ utils › getLowerBound
  ✔ utils › highest
  ✔ utils › lowest
  ✔ utils › getFirstVersion
  ✔ utils › getRange
  ✔ utils › makeTag
  ✔ utils › isSameChannel

  Uncaught exception in test/verify.test.js

  test/verify.test.js:3

   2: const tempy = require('tempy');                  
   3: const verify = require('../lib/verify');         
   4: const {gitRepo} = require('./helpers/git-utils');

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant4/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/verify.js:2:305)
  › Object.<anonymous> (test/verify.test.js:3:16)

  ✖ test/verify.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/branches/expand.test.js

  test/branches/expand.test.js:2

   1: const test = require('ava');                                              
   2: const expand = require('../../lib/branches/expand');                      
   3: const {gitRepo, gitCommits, gitCheckout, gitPush} = require('../helpers/g…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant4/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/branches/expand.js:2:292)
  › Object.<anonymous> (test/branches/expand.test.js:2:16)

  ✖ test/branches/expand.test.js exited with a non-zero exit code: 1
  ✖ branches › branches › Enforce ranges with branching release workflow Rejected promise returned by test
  ✖ branches › branches › Throw SemanticReleaseError for invalid configurations Rejected promise returned by test
  ✖ branches › branches › Throw a SemanticReleaseError if there is duplicate branches Rejected promise returned by test
  ✖ branches › branches › Throw a SemanticReleaseError for each invalid branch name Rejected promise returned by test

  Uncaught exception in test/branches/get-tags.test.js

  test/branches/get-tags.test.js:2

   1: const test = require('ava');                                              
   2: const getTags = require('../../lib/branches/get-tags');                   
   3: const {gitRepo, gitCommits, gitTagVersion, gitCheckout, gitAddNote} = req…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant4/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/branches/get-tags.js:2:407)
  › Object.<anonymous> (test/branches/get-tags.test.js:2:17)

  ✖ test/branches/get-tags.test.js exited with a non-zero exit code: 1
  ✔ branches › normalize › Maintenance branches - initial state
  ✔ branches › normalize › Maintenance branches - cap range to first release present on default branch and not in any Maintenance one
  ✔ branches › normalize › Maintenance branches - cap range to default branch last release if all release are also present on maintenance branch
  ✔ branches › normalize › Release branches - initial state
  ✔ branches › normalize › Release branches - 3 release branches
  ✔ branches › normalize › Release branches - 2 release branches
  ✔ branches › normalize › Release branches - 1 release branches
  ✔ branches › normalize › Release branches - cap ranges to first release only present on following branch
  ✔ branches › normalize › Release branches - Handle missing previous tags in branch history
  ✔ branches › normalize › Release branches - limit releases on 2nd and 3rd branch based on 1st branch last release
  ✔ branches › normalize › Prerelease branches
  ✔ branches › normalize › Allow to set channel to "false" to prevent default
  ✔ definitions › branches › A "maintenance" branch is identified by having a "range" property or a "name" formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › A "maintenance" branches must have a "range" property formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › The "maintenance" branches must have unique ranges
  ✔ definitions › branches › A "prerelease" branch is identified by having a thruthy "prerelease" property
  ✔ definitions › branches › A "prerelease" branch must have a valid prerelease detonation in "prerelease" property or in "name" if "prerelease" is "true"
  ✔ definitions › branches › The "prerelease" branches must have unique "prerelease" property
  ✔ definitions › branches › A "release" branch is identified by not havin a "range" or "prerelease" property or a "name" formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › There must be between 1 and 3 release branches

  Uncaught exception in test/definitions/plugins.test.js

  test/definitions/plugins.test.js:2

   1: const test = require('ava');                                              
   2: const plugins = require('../../lib/definitions/plugins');                 
   3: const {RELEASE_NOTES_SEPARATOR, SECRET_REPLACEMENT} = require('../../lib/…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant4/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (test/definitions/plugins.test.js:2:17)

  ✖ test/definitions/plugins.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/plugins/normalize.test.js

  test/plugins/normalize.test.js:4

   3: const {stub} = require('sinon');                         
   4: const normalize = require('../../lib/plugins/normalize');
   5:                                                          

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant4/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (lib/plugins/normalize.js:2:454)
  › Object.<anonymous> (test/plugins/normalize.test.js:4:19)

  ✖ test/plugins/normalize.test.js exited with a non-zero exit code: 1
  ✔ plugins › pipeline › Throw all errors from all steps throwing an AggregateError
  ✔ plugins › pipeline › Stop execution and throw error if a step rejects
  ✔ plugins › pipeline › Throw all errors from the first step throwing an AggregateError
  ✔ plugins › pipeline › Execute each function in series passing the same input
  ✔ plugins › pipeline › Execute all even if a Promise rejects
  ✔ plugins › pipeline › Execute each function in series passing a transformed input from "getNextInput"
  ✔ plugins › pipeline › Execute each function in series passing the "lastResult" and "result" to "getNextInput"
  ✔ plugins › pipeline › Execute each function in series calling "transform" to modify the results
  ✔ plugins › pipeline › Execute each function in series calling "transform" to modify the results with "settleAll"
  ✔ plugins › pipeline › Execute each function in series passing a transformed input even if a step rejects
  ✔ plugins › utils › validatePlugin
  ✔ plugins › utils › validateStep: optional plugin configuration
  ✔ plugins › utils › validateStep: required plugin configuration
  ✔ plugins › utils › loadPlugin
  ✔ plugins › utils › parseConfig

  Uncaught exception in test/plugins/plugins.test.js

  test/plugins/plugins.test.js:6

   5: const tempy = require('tempy');                 
   6: const getPlugins = require('../../lib/plugins');
   7:                                                 

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant4/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (lib/plugins/index.js:2:386)
  › Object.<anonymous> (test/plugins/plugins.test.js:6:20)

  ✖ test/plugins/plugins.test.js exited with a non-zero exit code: 1
  ─

  cli › Pass options to semantic-release API

  test/cli.test.js:70

   69:                                                                          
   70:   t.deepEqual(run.args[0][0].branches, ['master', 'next']);              
   71:   t.is(run.args[0][0].repositoryUrl, 'https://github/com/owner/repo.git'…

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:70:26



  cli › Pass options to semantic-release API with alias arguments

  test/cli.test.js:112

   111:                                                                         
   112:   t.deepEqual(run.args[0][0].branches, ['master']);                     
   113:   t.is(run.args[0][0].repositoryUrl, 'https://github/com/owner/repo.git…

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:112:26



  cli › Pass unknown options to semantic-release API

  test/cli.test.js:129

   128:                                              
   129:   t.is(run.args[0][0].bool, true);           
   130:   t.is(run.args[0][0].firstOption, 'value1');

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:129:19



  cli › Pass empty Array to semantic-release API for list option set to "false"

  test/cli.test.js:143

   142:                                           
   143:   t.deepEqual(run.args[0][0].publish, []);
   144:                                           

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:143:26



  cli › Do not set properties in option for which arg is not in command line

  test/cli.test.js:155

   154:                                   
   155:   t.false('ci' in run.args[0][0]);
   156:   t.false('d' in run.args[0][0]); 

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:155:30



  cli › Return error exitCode if semantic-release throw error

  test/cli.test.js:207

   206:                                                       
   207:   t.regex(t.context.errors, /semantic-release error/);
   208:   t.is(exitCode, 1);                                  

  Value must match expression:

  `Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant4/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/git.js:2:264)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/get-config.js:2:512)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/index.js:2:622)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Proxyquire._require (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mproxyquire[24m/lib/proxyquire.js:188:36)␊
      at module.exports (/data/js-variants/multee/Clients/execa/semantic-release/cli.js:7:110)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/test/cli.test.js:205:26␊
      at Test.callFn (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:622:21)␊
      at Test.run (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:635:23)␊
      at Runner.runSingle (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:299:33)␊
      at Runner.runTest (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:376:30)␊
      at async /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:508:24␊
      at async Promise.all (index 1)␊
      at async Runner.start (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:547:15) {␊
    code: [32m'ERR_REQUIRE_ESM'[39m␊
  }`

  Regular expression:

  /semantic-release error/

  › test/cli.test.js:207:5



  cli › Hide sensitive environment variable values from the logs

  test/cli.test.js:219

   218:                                                                         
   219:   t.regex(t.context.errors, new RegExp(`Throw error: Exposing token ${e…
   220:   t.is(exitCode, 1);                                                    

  Value must match expression:

  `Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant4/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/git.js:2:264)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/get-config.js:2:512)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/index.js:2:622)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Proxyquire._require (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mproxyquire[24m/lib/proxyquire.js:188:36)␊
      at module.exports (/data/js-variants/multee/Clients/execa/semantic-release/cli.js:7:110)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/test/cli.test.js:217:26␊
      at Test.callFn (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:622:21)␊
      at Test.run (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:635:23)␊
      at Runner.runSingle (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:299:33)␊
      at Runner.runTest (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:376:30)␊
      at async Promise.all (index 1)␊
      at async Runner.start (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:547:15) {␊
    code: [32m'ERR_REQUIRE_ESM'[39m␊
  }`

  Regular expression:

  /Throw error: Exposing token \[secure\]/

  › test/cli.test.js:219:5



  branches › branches › Enforce ranges with branching release workflow

  test/branches/branches.test.js:25

   24:   ];                                                                     
   25:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': ()…
   26:                                                                          

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/Variants/execa/variant4/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:25:23



  branches › branches › Throw SemanticReleaseError for invalid configurations

  test/branches/branches.test.js:202

   201:   ];                                                                    
   202:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   203:   const errors = [...(await t.throwsAsync(getBranches('repositoryUrl', …

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/Variants/execa/variant4/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:202:23



  branches › branches › Throw a SemanticReleaseError if there is duplicate branches

  test/branches/branches.test.js:232

   231:   ];                                                                    
   232:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   233:                                                                         

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/Variants/execa/variant4/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:232:23



  branches › branches › Throw a SemanticReleaseError for each invalid branch name

  test/branches/branches.test.js:247

   246:   ];                                                                    
   247:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   248:                                                                         

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/Variants/execa/variant4/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:247:23

  ─

  11 tests failed
  12 uncaught exceptions
----------------------------------|---------|----------|---------|---------|-------------------
File                              | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
----------------------------------|---------|----------|---------|---------|-------------------
All files                         |   36.17 |    40.67 |   33.85 |   35.78 |                   
 semantic-release                 |   16.96 |    13.95 |   33.33 |   16.77 |                   
  cli.js                          |   95.24 |      100 |     100 |      95 | 56                
  index.js                        |       6 |        0 |       0 |    6.12 | 10-279            
 semantic-release/lib             |   41.95 |    45.64 |   46.75 |   40.93 |                   
  get-commits.js                  |      20 |        0 |       0 |      20 | 11-22             
  get-config.js                   |   16.22 |        0 |       0 |   16.22 | 7-89              
  get-error.js                    |      60 |        0 |       0 |      60 | 5-6               
  get-git-auth-url.js             |     8.7 |        0 |       0 |    9.09 | 5-121             
  get-last-release.js             |     100 |      100 |     100 |     100 |                   
  get-logger.js                   |     100 |      100 |     100 |     100 |                   
  get-next-version.js             |     100 |      100 |     100 |     100 |                   
  get-release-to-add.js           |     100 |      100 |     100 |     100 |                   
  git.js                          |    5.77 |        0 |       0 |    5.77 | 4-331             
  hide-sensitive.js               |     100 |      100 |     100 |     100 |                   
  utils.js                        |   81.82 |    95.74 |   86.36 |   78.57 | 10-17             
  verify.js                       |      15 |        0 |       0 |      15 | 4-41              
 semantic-release/lib/branches    |   44.32 |    53.97 |   29.17 |   44.83 |                   
  expand.js                       |      30 |        0 |       0 |   33.33 | 5-13              
  get-tags.js                     |   38.46 |        0 |       0 |   38.46 | 7-29              
  index.js                        |   15.38 |        0 |       0 |   15.38 | 7-70              
  normalize.js                    |   96.15 |    97.14 |     100 |   96.15 | 60                
 semantic-release/lib/definitions |   38.14 |    32.56 |      15 |   37.89 |                   
  branches.js                     |     100 |    93.33 |     100 |     100 | 7                 
  constants.js                    |     100 |      100 |     100 |     100 |                   
  errors.js                       |   24.32 |        0 |       0 |      25 | 8,11,14-224       
  plugins.js                      |    5.88 |        0 |       0 |    5.88 | 5-106             
 semantic-release/lib/plugins     |   42.64 |    47.86 |   47.37 |   42.52 |                   
  index.js                        |     9.3 |        0 |       0 |     9.3 | 5-92              
  normalize.js                    |    12.5 |        0 |       0 |   12.82 | 6-66              
  pipeline.js                     |     100 |      100 |     100 |     100 |                   
  utils.js                        |     100 |      100 |     100 |     100 |                   
----------------------------------|---------|----------|---------|---------|-------------------
************* run test done *************
semantic-release is testing ./Variants/execa/variant3/execa
/data/js-variants/multee
************* npm unlink module *************

removed 2 packages, changed 1 package, and audited 1494 packages in 4s

147 packages are looking for funding
  run `npm fund` for details

14 vulnerabilities (6 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 708ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 488ms

1 package is looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 2 packages, changed 1 package, and audited 1497 packages in 4s

148 packages are looking for funding
  run `npm fund` for details

14 vulnerabilities (6 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm link module done *************
************* start run test *************

> semantic-release@0.0.0-development pretest
> npm run lint


> semantic-release@0.0.0-development lint
> xo


> semantic-release@0.0.0-development test
> nyc ava -v


  Uncaught exception in test/get-commits.test.js

  test/get-commits.test.js:3

   2: const {stub} = require('sinon');                                          
   3: const getCommits = require('../lib/get-commits');                         
   4: const {gitRepo, gitCommits, gitDetachedHead} = require('./helpers/git-uti…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant3/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/get-commits.js:2:218)
  › Object.<anonymous> (test/get-commits.test.js:3:20)

  ✖ test/get-commits.test.js exited with a non-zero exit code: 1
  ✖ cli › Pass options to semantic-release API Rejected promise returned by test
  ✖ cli › Pass options to semantic-release API with alias arguments Rejected promise returned by test
  ✖ cli › Pass unknown options to semantic-release API Rejected promise returned by test
  ✖ cli › Pass empty Array to semantic-release API for list option set to "false" Rejected promise returned by test
  ✖ cli › Do not set properties in option for which arg is not in command line Rejected promise returned by test
  ✔ cli › Display help
  ✔ cli › Return error exitCode and prints help if called with a command
  ✔ cli › Return error exitCode if multiple plugin are set for single plugin
  ✖ cli › Return error exitCode if semantic-release throw error 
  ✖ cli › Hide sensitive environment variable values from the logs 

  Uncaught exception in test/get-config.test.js

  test/get-config.test.js:9

   8: const yaml = require('js-yaml');                                          
   9: const {gitRepo, gitTagVersion, gitCommits, gitShallowClone, gitAddConfig}…
   10:                                                                           

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant3/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/helpers/git-utils.js:2:15)
  › Object.<anonymous> (test/get-config.test.js:9:77)

  ✖ test/get-config.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/get-git-auth-url.test.js

  test/get-git-auth-url.test.js:2

   1: const test = require('ava');                          
   2: const getAuthUrl = require('../lib/get-git-auth-url');
   3: const {gitRepo} = require('./helpers/git-utils');     

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant3/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/get-git-auth-url.js:3:171)
  › Object.<anonymous> (test/get-git-auth-url.test.js:2:20)

  ✔ get-last-release › Get the highest non-prerelease valid tag
  ✔ get-last-release › Get the highest prerelease valid tag, ignoring other tags from other prerelease channels
  ✔ get-last-release › Return empty object if no valid tag is found
  ✔ get-last-release › Get the highest non-prerelease valid tag before a certain version
  ✖ test/get-git-auth-url.test.js exited with a non-zero exit code: 1
  ✔ get-next-version › Increase version for patch release
  ✔ get-next-version › Increase version for minor release
  ✔ get-next-version › Increase version for major release
  ✔ get-next-version › Return 1.0.0 if there is no previous release
  ✔ get-next-version › Increase version for patch release on prerelease branch
  ✔ get-logger › Expose "error", "success" and "log" functions
  ✔ get-next-version › Increase version for minor release on prerelease branch
  ✔ get-next-version › Increase version for major release on prerelease branch
  ✔ get-next-version › Return 1.0.0 if there is no previous release on prerelease branch
  ✔ get-next-version › Increase version for release on prerelease branch after previous commits were merged to release branch
  ✔ get-next-version › Increase version for release on prerelease branch based on highest commit type since last regular release
  ✔ get-next-version › Increase version for release on prerelease branch when there is no regular releases on other branches

  Uncaught exception in test/git.test.js

  test/git.test.js:19

   18:   fetchNotes,             
   19: } = require('../lib/git');
   20: const {                   

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant3/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (test/git.test.js:19:5)

  ✔ get-release-to-add › Return versions merged from release to maintenance branch, excluding lower than branch start range
  ✔ get-release-to-add › Return versions merged between release branches
  ✔ get-release-to-add › Return releases sorted by ascending order
  ✔ get-release-to-add › No lastRelease
  ✔ get-release-to-add › Ignore pre-release versions
  ✔ get-release-to-add › Exclude versions merged from release to maintenance branch if they have the same "channel"
  ✔ get-release-to-add › Exclude versions merged between release branches if they have the same "channel"
  ✔ get-release-to-add › Exclude versions merged between release branches if they all have "channel" set to "false"
  ✔ get-release-to-add › Exclude versions number less than the latest version already released on that branch
  ✖ test/git.test.js exited with a non-zero exit code: 1
  ✔ hide-sensitive › Replace multiple sensitive environment variable values
  ✔ hide-sensitive › Replace multiple occurences of sensitive environment variable values
  ✔ hide-sensitive › Replace sensitive environment variable matching specific regex for "private"
  ✔ hide-sensitive › Replace url-encoded environment variable
  ✔ hide-sensitive › Escape regexp special characters
  ✔ hide-sensitive › Escape regexp special characters in url-encoded environment variable
  ✔ hide-sensitive › Accept "undefined" input
  ✔ hide-sensitive › Return same string if no environment variable has to be replaced
  ✔ hide-sensitive › Exclude empty environment variables from the regexp
  ✔ hide-sensitive › Exclude empty environment variables from the regexp if there is only empty ones
  ✔ hide-sensitive › Exclude nonsensitive GOPRIVATE environment variable for Golang projects from the regexp
  ✔ hide-sensitive › Exclude environment variables with value shorter than SECRET_MIN_SIZE from the regexp

  Uncaught exception in test/index.test.js

  test/index.test.js:24

   23:   gitGetNote,                      
   24: } = require('./helpers/git-utils');
   25:                                    

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant3/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/helpers/git-utils.js:2:15)
  › Object.<anonymous> (test/index.test.js:24:5)

  ✖ test/index.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/integration.test.js

  test/integration.test.js:6

   5: const {writeJson, readJson} = require('fs-extra');       
   6: const execa = require('execa');                          
   7: const {WritableStreamBuffer} = require('stream-buffers');

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant3/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/integration.test.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/integration.test.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/integration.test.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/integration.test.js:6:15)

  ✖ test/integration.test.js exited with a non-zero exit code: 1
  ✔ utils › getLatestVersion
  ✔ utils › getEarliestVersion
  ✔ utils › extractErrors
  ✔ utils › tagsToVersions
  ✔ utils › isMajorRange
  ✔ utils › isMaintenanceRange
  ✔ utils › getUpperBound
  ✔ utils › getLowerBound
  ✔ utils › highest
  ✔ utils › lowest
  ✔ utils › getFirstVersion
  ✔ utils › getRange
  ✔ utils › makeTag
  ✔ utils › isSameChannel

  Uncaught exception in test/verify.test.js

  test/verify.test.js:3

   2: const tempy = require('tempy');                  
   3: const verify = require('../lib/verify');         
   4: const {gitRepo} = require('./helpers/git-utils');

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant3/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/verify.js:2:305)
  › Object.<anonymous> (test/verify.test.js:3:16)

  ✖ test/verify.test.js exited with a non-zero exit code: 1
  ✖ branches › branches › Enforce ranges with branching release workflow Rejected promise returned by test
  ✖ branches › branches › Throw SemanticReleaseError for invalid configurations Rejected promise returned by test
  ✖ branches › branches › Throw a SemanticReleaseError if there is duplicate branches Rejected promise returned by test
  ✖ branches › branches › Throw a SemanticReleaseError for each invalid branch name Rejected promise returned by test

  Uncaught exception in test/branches/expand.test.js

  test/branches/expand.test.js:2

   1: const test = require('ava');                                              
   2: const expand = require('../../lib/branches/expand');                      
   3: const {gitRepo, gitCommits, gitCheckout, gitPush} = require('../helpers/g…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant3/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/branches/expand.js:2:292)
  › Object.<anonymous> (test/branches/expand.test.js:2:16)

  ✖ test/branches/expand.test.js exited with a non-zero exit code: 1
  ✔ branches › normalize › Maintenance branches - initial state
  ✔ branches › normalize › Maintenance branches - cap range to first release present on default branch and not in any Maintenance one
  ✔ branches › normalize › Maintenance branches - cap range to default branch last release if all release are also present on maintenance branch
  ✔ branches › normalize › Release branches - initial state
  ✔ branches › normalize › Release branches - 3 release branches
  ✔ branches › normalize › Release branches - 2 release branches
  ✔ branches › normalize › Release branches - 1 release branches
  ✔ branches › normalize › Release branches - cap ranges to first release only present on following branch
  ✔ branches › normalize › Release branches - Handle missing previous tags in branch history
  ✔ branches › normalize › Release branches - limit releases on 2nd and 3rd branch based on 1st branch last release
  ✔ branches › normalize › Prerelease branches
  ✔ branches › normalize › Allow to set channel to "false" to prevent default

  Uncaught exception in test/branches/get-tags.test.js

  test/branches/get-tags.test.js:2

   1: const test = require('ava');                                              
   2: const getTags = require('../../lib/branches/get-tags');                   
   3: const {gitRepo, gitCommits, gitTagVersion, gitCheckout, gitAddNote} = req…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant3/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/branches/get-tags.js:2:407)
  › Object.<anonymous> (test/branches/get-tags.test.js:2:17)

  ✖ test/branches/get-tags.test.js exited with a non-zero exit code: 1
  ✔ definitions › branches › A "maintenance" branch is identified by having a "range" property or a "name" formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › A "maintenance" branches must have a "range" property formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › The "maintenance" branches must have unique ranges
  ✔ definitions › branches › A "prerelease" branch is identified by having a thruthy "prerelease" property
  ✔ definitions › branches › A "prerelease" branch must have a valid prerelease detonation in "prerelease" property or in "name" if "prerelease" is "true"
  ✔ definitions › branches › The "prerelease" branches must have unique "prerelease" property
  ✔ definitions › branches › A "release" branch is identified by not havin a "range" or "prerelease" property or a "name" formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › There must be between 1 and 3 release branches

  Uncaught exception in test/definitions/plugins.test.js

  test/definitions/plugins.test.js:2

   1: const test = require('ava');                                              
   2: const plugins = require('../../lib/definitions/plugins');                 
   3: const {RELEASE_NOTES_SEPARATOR, SECRET_REPLACEMENT} = require('../../lib/…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant3/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (test/definitions/plugins.test.js:2:17)

  ✖ test/definitions/plugins.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/plugins/normalize.test.js

  test/plugins/normalize.test.js:4

   3: const {stub} = require('sinon');                         
   4: const normalize = require('../../lib/plugins/normalize');
   5:                                                          

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant3/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (lib/plugins/normalize.js:2:454)
  › Object.<anonymous> (test/plugins/normalize.test.js:4:19)

  ✔ plugins › pipeline › Throw all errors from all steps throwing an AggregateError
  ✔ plugins › pipeline › Stop execution and throw error if a step rejects
  ✔ plugins › pipeline › Throw all errors from the first step throwing an AggregateError
  ✔ plugins › pipeline › Execute each function in series passing the same input
  ✔ plugins › pipeline › Execute all even if a Promise rejects
  ✔ plugins › pipeline › Execute each function in series passing a transformed input from "getNextInput"
  ✔ plugins › pipeline › Execute each function in series passing the "lastResult" and "result" to "getNextInput"
  ✔ plugins › pipeline › Execute each function in series calling "transform" to modify the results
  ✔ plugins › pipeline › Execute each function in series calling "transform" to modify the results with "settleAll"
  ✔ plugins › pipeline › Execute each function in series passing a transformed input even if a step rejects
  ✖ test/plugins/normalize.test.js exited with a non-zero exit code: 1
  ✔ plugins › utils › validatePlugin
  ✔ plugins › utils › validateStep: optional plugin configuration
  ✔ plugins › utils › validateStep: required plugin configuration
  ✔ plugins › utils › loadPlugin
  ✔ plugins › utils › parseConfig

  Uncaught exception in test/plugins/plugins.test.js

  test/plugins/plugins.test.js:6

   5: const tempy = require('tempy');                 
   6: const getPlugins = require('../../lib/plugins');
   7:                                                 

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant3/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (lib/plugins/index.js:2:386)
  › Object.<anonymous> (test/plugins/plugins.test.js:6:20)

  ✖ test/plugins/plugins.test.js exited with a non-zero exit code: 1
  ─

  cli › Pass options to semantic-release API

  test/cli.test.js:70

   69:                                                                          
   70:   t.deepEqual(run.args[0][0].branches, ['master', 'next']);              
   71:   t.is(run.args[0][0].repositoryUrl, 'https://github/com/owner/repo.git'…

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:70:26



  cli › Pass options to semantic-release API with alias arguments

  test/cli.test.js:112

   111:                                                                         
   112:   t.deepEqual(run.args[0][0].branches, ['master']);                     
   113:   t.is(run.args[0][0].repositoryUrl, 'https://github/com/owner/repo.git…

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:112:26



  cli › Pass unknown options to semantic-release API

  test/cli.test.js:129

   128:                                              
   129:   t.is(run.args[0][0].bool, true);           
   130:   t.is(run.args[0][0].firstOption, 'value1');

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:129:19



  cli › Pass empty Array to semantic-release API for list option set to "false"

  test/cli.test.js:143

   142:                                           
   143:   t.deepEqual(run.args[0][0].publish, []);
   144:                                           

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:143:26



  cli › Do not set properties in option for which arg is not in command line

  test/cli.test.js:155

   154:                                   
   155:   t.false('ci' in run.args[0][0]);
   156:   t.false('d' in run.args[0][0]); 

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:155:30



  cli › Return error exitCode if semantic-release throw error

  test/cli.test.js:207

   206:                                                       
   207:   t.regex(t.context.errors, /semantic-release error/);
   208:   t.is(exitCode, 1);                                  

  Value must match expression:

  `Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant3/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/git.js:2:264)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/get-config.js:2:512)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/index.js:2:622)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Proxyquire._require (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mproxyquire[24m/lib/proxyquire.js:188:36)␊
      at module.exports (/data/js-variants/multee/Clients/execa/semantic-release/cli.js:7:110)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/test/cli.test.js:205:26␊
      at Test.callFn (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:622:21)␊
      at Test.run (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:635:23)␊
      at Runner.runSingle (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:299:33)␊
      at Runner.runTest (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:376:30)␊
      at async /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:508:24␊
      at async Promise.all (index 1)␊
      at async Runner.start (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:547:15) {␊
    code: [32m'ERR_REQUIRE_ESM'[39m␊
  }`

  Regular expression:

  /semantic-release error/

  › test/cli.test.js:207:5



  cli › Hide sensitive environment variable values from the logs

  test/cli.test.js:219

   218:                                                                         
   219:   t.regex(t.context.errors, new RegExp(`Throw error: Exposing token ${e…
   220:   t.is(exitCode, 1);                                                    

  Value must match expression:

  `Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant3/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/git.js:2:264)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/get-config.js:2:512)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/index.js:2:622)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Proxyquire._require (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mproxyquire[24m/lib/proxyquire.js:188:36)␊
      at module.exports (/data/js-variants/multee/Clients/execa/semantic-release/cli.js:7:110)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/test/cli.test.js:217:26␊
      at Test.callFn (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:622:21)␊
      at Test.run (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:635:23)␊
      at Runner.runSingle (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:299:33)␊
      at Runner.runTest (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:376:30)␊
      at async Promise.all (index 1)␊
      at async Runner.start (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:547:15) {␊
    code: [32m'ERR_REQUIRE_ESM'[39m␊
  }`

  Regular expression:

  /Throw error: Exposing token \[secure\]/

  › test/cli.test.js:219:5



  branches › branches › Enforce ranges with branching release workflow

  test/branches/branches.test.js:25

   24:   ];                                                                     
   25:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': ()…
   26:                                                                          

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/Variants/execa/variant3/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:25:23



  branches › branches › Throw SemanticReleaseError for invalid configurations

  test/branches/branches.test.js:202

   201:   ];                                                                    
   202:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   203:   const errors = [...(await t.throwsAsync(getBranches('repositoryUrl', …

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/Variants/execa/variant3/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:202:23



  branches › branches › Throw a SemanticReleaseError if there is duplicate branches

  test/branches/branches.test.js:232

   231:   ];                                                                    
   232:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   233:                                                                         

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/Variants/execa/variant3/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:232:23



  branches › branches › Throw a SemanticReleaseError for each invalid branch name

  test/branches/branches.test.js:247

   246:   ];                                                                    
   247:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   248:                                                                         

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/Variants/execa/variant3/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:247:23

  ─

  11 tests failed
  12 uncaught exceptions
----------------------------------|---------|----------|---------|---------|-------------------
File                              | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
----------------------------------|---------|----------|---------|---------|-------------------
All files                         |   36.17 |    40.67 |   33.85 |   35.78 |                   
 semantic-release                 |   16.96 |    13.95 |   33.33 |   16.77 |                   
  cli.js                          |   95.24 |      100 |     100 |      95 | 56                
  index.js                        |       6 |        0 |       0 |    6.12 | 10-279            
 semantic-release/lib             |   41.95 |    45.64 |   46.75 |   40.93 |                   
  get-commits.js                  |      20 |        0 |       0 |      20 | 11-22             
  get-config.js                   |   16.22 |        0 |       0 |   16.22 | 7-89              
  get-error.js                    |      60 |        0 |       0 |      60 | 5-6               
  get-git-auth-url.js             |     8.7 |        0 |       0 |    9.09 | 5-121             
  get-last-release.js             |     100 |      100 |     100 |     100 |                   
  get-logger.js                   |     100 |      100 |     100 |     100 |                   
  get-next-version.js             |     100 |      100 |     100 |     100 |                   
  get-release-to-add.js           |     100 |      100 |     100 |     100 |                   
  git.js                          |    5.77 |        0 |       0 |    5.77 | 4-331             
  hide-sensitive.js               |     100 |      100 |     100 |     100 |                   
  utils.js                        |   81.82 |    95.74 |   86.36 |   78.57 | 10-17             
  verify.js                       |      15 |        0 |       0 |      15 | 4-41              
 semantic-release/lib/branches    |   44.32 |    53.97 |   29.17 |   44.83 |                   
  expand.js                       |      30 |        0 |       0 |   33.33 | 5-13              
  get-tags.js                     |   38.46 |        0 |       0 |   38.46 | 7-29              
  index.js                        |   15.38 |        0 |       0 |   15.38 | 7-70              
  normalize.js                    |   96.15 |    97.14 |     100 |   96.15 | 60                
 semantic-release/lib/definitions |   38.14 |    32.56 |      15 |   37.89 |                   
  branches.js                     |     100 |    93.33 |     100 |     100 | 7                 
  constants.js                    |     100 |      100 |     100 |     100 |                   
  errors.js                       |   24.32 |        0 |       0 |      25 | 8,11,14-224       
  plugins.js                      |    5.88 |        0 |       0 |    5.88 | 5-106             
 semantic-release/lib/plugins     |   42.64 |    47.86 |   47.37 |   42.52 |                   
  index.js                        |     9.3 |        0 |       0 |     9.3 | 5-92              
  normalize.js                    |    12.5 |        0 |       0 |   12.82 | 6-66              
  pipeline.js                     |     100 |      100 |     100 |     100 |                   
  utils.js                        |     100 |      100 |     100 |     100 |                   
----------------------------------|---------|----------|---------|---------|-------------------
************* run test done *************
semantic-release is testing ./Variants/execa/variant2/execa
/data/js-variants/multee
************* npm unlink module *************

removed 2 packages, changed 1 package, and audited 1494 packages in 4s

147 packages are looking for funding
  run `npm fund` for details

14 vulnerabilities (6 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 715ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 404ms

1 package is looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 2 packages, changed 1 package, and audited 1497 packages in 4s

148 packages are looking for funding
  run `npm fund` for details

14 vulnerabilities (6 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm link module done *************
************* start run test *************

> semantic-release@0.0.0-development pretest
> npm run lint


> semantic-release@0.0.0-development lint
> xo


> semantic-release@0.0.0-development test
> nyc ava -v


  Uncaught exception in test/get-commits.test.js

  test/get-commits.test.js:3

   2: const {stub} = require('sinon');                                          
   3: const getCommits = require('../lib/get-commits');                         
   4: const {gitRepo, gitCommits, gitDetachedHead} = require('./helpers/git-uti…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant2/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/get-commits.js:2:218)
  › Object.<anonymous> (test/get-commits.test.js:3:20)

  ✖ test/get-commits.test.js exited with a non-zero exit code: 1
  ✖ cli › Pass options to semantic-release API Rejected promise returned by test
  ✖ cli › Pass options to semantic-release API with alias arguments Rejected promise returned by test
  ✖ cli › Pass unknown options to semantic-release API Rejected promise returned by test
  ✖ cli › Pass empty Array to semantic-release API for list option set to "false" Rejected promise returned by test
  ✖ cli › Do not set properties in option for which arg is not in command line Rejected promise returned by test
  ✔ cli › Display help
  ✔ cli › Return error exitCode and prints help if called with a command
  ✔ cli › Return error exitCode if multiple plugin are set for single plugin
  ✖ cli › Return error exitCode if semantic-release throw error 
  ✖ cli › Hide sensitive environment variable values from the logs 

  Uncaught exception in test/get-config.test.js

  test/get-config.test.js:9

   8: const yaml = require('js-yaml');                                          
   9: const {gitRepo, gitTagVersion, gitCommits, gitShallowClone, gitAddConfig}…
   10:                                                                           

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant2/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/helpers/git-utils.js:2:15)
  › Object.<anonymous> (test/get-config.test.js:9:77)

  ✖ test/get-config.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/get-git-auth-url.test.js

  test/get-git-auth-url.test.js:2

   1: const test = require('ava');                          
   2: const getAuthUrl = require('../lib/get-git-auth-url');
   3: const {gitRepo} = require('./helpers/git-utils');     

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant2/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/get-git-auth-url.js:3:171)
  › Object.<anonymous> (test/get-git-auth-url.test.js:2:20)

  ✖ test/get-git-auth-url.test.js exited with a non-zero exit code: 1
  ✔ get-last-release › Get the highest non-prerelease valid tag
  ✔ get-last-release › Get the highest prerelease valid tag, ignoring other tags from other prerelease channels
  ✔ get-last-release › Return empty object if no valid tag is found
  ✔ get-last-release › Get the highest non-prerelease valid tag before a certain version
  ✔ get-logger › Expose "error", "success" and "log" functions
  ✔ get-next-version › Increase version for patch release
  ✔ get-next-version › Increase version for minor release
  ✔ get-next-version › Increase version for major release
  ✔ get-next-version › Return 1.0.0 if there is no previous release
  ✔ get-next-version › Increase version for patch release on prerelease branch
  ✔ get-next-version › Increase version for minor release on prerelease branch
  ✔ get-next-version › Increase version for major release on prerelease branch
  ✔ get-next-version › Return 1.0.0 if there is no previous release on prerelease branch
  ✔ get-next-version › Increase version for release on prerelease branch after previous commits were merged to release branch
  ✔ get-next-version › Increase version for release on prerelease branch based on highest commit type since last regular release
  ✔ get-next-version › Increase version for release on prerelease branch when there is no regular releases on other branches
  ✔ get-release-to-add › Return versions merged from release to maintenance branch, excluding lower than branch start range
  ✔ get-release-to-add › Return versions merged between release branches
  ✔ get-release-to-add › Return releases sorted by ascending order
  ✔ get-release-to-add › No lastRelease
  ✔ get-release-to-add › Ignore pre-release versions
  ✔ get-release-to-add › Exclude versions merged from release to maintenance branch if they have the same "channel"
  ✔ get-release-to-add › Exclude versions merged between release branches if they have the same "channel"
  ✔ get-release-to-add › Exclude versions merged between release branches if they all have "channel" set to "false"
  ✔ get-release-to-add › Exclude versions number less than the latest version already released on that branch

  Uncaught exception in test/git.test.js

  test/git.test.js:19

   18:   fetchNotes,             
   19: } = require('../lib/git');
   20: const {                   

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant2/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (test/git.test.js:19:5)

  ✖ test/git.test.js exited with a non-zero exit code: 1
  ✔ hide-sensitive › Replace multiple sensitive environment variable values
  ✔ hide-sensitive › Replace multiple occurences of sensitive environment variable values
  ✔ hide-sensitive › Replace sensitive environment variable matching specific regex for "private"
  ✔ hide-sensitive › Replace url-encoded environment variable
  ✔ hide-sensitive › Escape regexp special characters
  ✔ hide-sensitive › Escape regexp special characters in url-encoded environment variable
  ✔ hide-sensitive › Accept "undefined" input
  ✔ hide-sensitive › Return same string if no environment variable has to be replaced
  ✔ hide-sensitive › Exclude empty environment variables from the regexp
  ✔ hide-sensitive › Exclude empty environment variables from the regexp if there is only empty ones
  ✔ hide-sensitive › Exclude nonsensitive GOPRIVATE environment variable for Golang projects from the regexp
  ✔ hide-sensitive › Exclude environment variables with value shorter than SECRET_MIN_SIZE from the regexp

  Uncaught exception in test/index.test.js

  test/index.test.js:24

   23:   gitGetNote,                      
   24: } = require('./helpers/git-utils');
   25:                                    

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant2/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/helpers/git-utils.js:2:15)
  › Object.<anonymous> (test/index.test.js:24:5)

  ✖ test/index.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/integration.test.js

  test/integration.test.js:6

   5: const {writeJson, readJson} = require('fs-extra');       
   6: const execa = require('execa');                          
   7: const {WritableStreamBuffer} = require('stream-buffers');

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant2/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/integration.test.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/integration.test.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/integration.test.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/integration.test.js:6:15)

  ✖ test/integration.test.js exited with a non-zero exit code: 1
  ✔ utils › getLatestVersion
  ✔ utils › getEarliestVersion
  ✔ utils › extractErrors
  ✔ utils › tagsToVersions
  ✔ utils › isMajorRange
  ✔ utils › isMaintenanceRange
  ✔ utils › getUpperBound
  ✔ utils › getLowerBound
  ✔ utils › highest
  ✔ utils › lowest
  ✔ utils › getFirstVersion
  ✔ utils › getRange
  ✔ utils › makeTag
  ✔ utils › isSameChannel

  Uncaught exception in test/verify.test.js

  test/verify.test.js:3

   2: const tempy = require('tempy');                  
   3: const verify = require('../lib/verify');         
   4: const {gitRepo} = require('./helpers/git-utils');

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant2/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/verify.js:2:305)
  › Object.<anonymous> (test/verify.test.js:3:16)

  ✖ test/verify.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/branches/expand.test.js

  test/branches/expand.test.js:2

   1: const test = require('ava');                                              
   2: const expand = require('../../lib/branches/expand');                      
   3: const {gitRepo, gitCommits, gitCheckout, gitPush} = require('../helpers/g…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant2/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/branches/expand.js:2:292)
  › Object.<anonymous> (test/branches/expand.test.js:2:16)

  ✖ test/branches/expand.test.js exited with a non-zero exit code: 1
  ✖ branches › branches › Enforce ranges with branching release workflow Rejected promise returned by test
  ✖ branches › branches › Throw SemanticReleaseError for invalid configurations Rejected promise returned by test
  ✖ branches › branches › Throw a SemanticReleaseError if there is duplicate branches Rejected promise returned by test
  ✖ branches › branches › Throw a SemanticReleaseError for each invalid branch name Rejected promise returned by test

  Uncaught exception in test/branches/get-tags.test.js

  test/branches/get-tags.test.js:2

   1: const test = require('ava');                                              
   2: const getTags = require('../../lib/branches/get-tags');                   
   3: const {gitRepo, gitCommits, gitTagVersion, gitCheckout, gitAddNote} = req…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant2/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/branches/get-tags.js:2:407)
  › Object.<anonymous> (test/branches/get-tags.test.js:2:17)

  ✖ test/branches/get-tags.test.js exited with a non-zero exit code: 1
  ✔ branches › normalize › Maintenance branches - initial state
  ✔ branches › normalize › Maintenance branches - cap range to first release present on default branch and not in any Maintenance one
  ✔ branches › normalize › Maintenance branches - cap range to default branch last release if all release are also present on maintenance branch
  ✔ branches › normalize › Release branches - initial state
  ✔ branches › normalize › Release branches - 3 release branches
  ✔ branches › normalize › Release branches - 2 release branches
  ✔ branches › normalize › Release branches - 1 release branches
  ✔ branches › normalize › Release branches - cap ranges to first release only present on following branch
  ✔ branches › normalize › Release branches - Handle missing previous tags in branch history
  ✔ branches › normalize › Release branches - limit releases on 2nd and 3rd branch based on 1st branch last release
  ✔ branches › normalize › Prerelease branches
  ✔ branches › normalize › Allow to set channel to "false" to prevent default
  ✔ definitions › branches › A "maintenance" branch is identified by having a "range" property or a "name" formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › A "maintenance" branches must have a "range" property formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › The "maintenance" branches must have unique ranges
  ✔ definitions › branches › A "prerelease" branch is identified by having a thruthy "prerelease" property
  ✔ definitions › branches › A "prerelease" branch must have a valid prerelease detonation in "prerelease" property or in "name" if "prerelease" is "true"
  ✔ definitions › branches › The "prerelease" branches must have unique "prerelease" property
  ✔ definitions › branches › A "release" branch is identified by not havin a "range" or "prerelease" property or a "name" formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › There must be between 1 and 3 release branches

  Uncaught exception in test/definitions/plugins.test.js

  test/definitions/plugins.test.js:2

   1: const test = require('ava');                                              
   2: const plugins = require('../../lib/definitions/plugins');                 
   3: const {RELEASE_NOTES_SEPARATOR, SECRET_REPLACEMENT} = require('../../lib/…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant2/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (test/definitions/plugins.test.js:2:17)

  ✖ test/definitions/plugins.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/plugins/normalize.test.js

  test/plugins/normalize.test.js:4

   3: const {stub} = require('sinon');                         
   4: const normalize = require('../../lib/plugins/normalize');
   5:                                                          

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant2/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (lib/plugins/normalize.js:2:454)
  › Object.<anonymous> (test/plugins/normalize.test.js:4:19)

  ✖ test/plugins/normalize.test.js exited with a non-zero exit code: 1
  ✔ plugins › pipeline › Throw all errors from all steps throwing an AggregateError
  ✔ plugins › pipeline › Stop execution and throw error if a step rejects
  ✔ plugins › pipeline › Throw all errors from the first step throwing an AggregateError
  ✔ plugins › pipeline › Execute each function in series passing the same input
  ✔ plugins › pipeline › Execute all even if a Promise rejects
  ✔ plugins › pipeline › Execute each function in series passing a transformed input from "getNextInput"
  ✔ plugins › pipeline › Execute each function in series passing the "lastResult" and "result" to "getNextInput"
  ✔ plugins › pipeline › Execute each function in series calling "transform" to modify the results
  ✔ plugins › pipeline › Execute each function in series calling "transform" to modify the results with "settleAll"
  ✔ plugins › pipeline › Execute each function in series passing a transformed input even if a step rejects
  ✔ plugins › utils › validatePlugin
  ✔ plugins › utils › validateStep: optional plugin configuration
  ✔ plugins › utils › validateStep: required plugin configuration
  ✔ plugins › utils › loadPlugin
  ✔ plugins › utils › parseConfig

  Uncaught exception in test/plugins/plugins.test.js

  test/plugins/plugins.test.js:6

   5: const tempy = require('tempy');                 
   6: const getPlugins = require('../../lib/plugins');
   7:                                                 

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant2/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (lib/plugins/index.js:2:386)
  › Object.<anonymous> (test/plugins/plugins.test.js:6:20)

  ✖ test/plugins/plugins.test.js exited with a non-zero exit code: 1
  ─

  cli › Pass options to semantic-release API

  test/cli.test.js:70

   69:                                                                          
   70:   t.deepEqual(run.args[0][0].branches, ['master', 'next']);              
   71:   t.is(run.args[0][0].repositoryUrl, 'https://github/com/owner/repo.git'…

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:70:26



  cli › Pass options to semantic-release API with alias arguments

  test/cli.test.js:112

   111:                                                                         
   112:   t.deepEqual(run.args[0][0].branches, ['master']);                     
   113:   t.is(run.args[0][0].repositoryUrl, 'https://github/com/owner/repo.git…

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:112:26



  cli › Pass unknown options to semantic-release API

  test/cli.test.js:129

   128:                                              
   129:   t.is(run.args[0][0].bool, true);           
   130:   t.is(run.args[0][0].firstOption, 'value1');

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:129:19



  cli › Pass empty Array to semantic-release API for list option set to "false"

  test/cli.test.js:143

   142:                                           
   143:   t.deepEqual(run.args[0][0].publish, []);
   144:                                           

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:143:26



  cli › Do not set properties in option for which arg is not in command line

  test/cli.test.js:155

   154:                                   
   155:   t.false('ci' in run.args[0][0]);
   156:   t.false('d' in run.args[0][0]); 

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:155:30



  cli › Return error exitCode if semantic-release throw error

  test/cli.test.js:207

   206:                                                       
   207:   t.regex(t.context.errors, /semantic-release error/);
   208:   t.is(exitCode, 1);                                  

  Value must match expression:

  `Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant2/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/git.js:2:264)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/get-config.js:2:512)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/index.js:2:622)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Proxyquire._require (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mproxyquire[24m/lib/proxyquire.js:188:36)␊
      at module.exports (/data/js-variants/multee/Clients/execa/semantic-release/cli.js:7:110)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/test/cli.test.js:205:26␊
      at Test.callFn (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:622:21)␊
      at Test.run (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:635:23)␊
      at Runner.runSingle (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:299:33)␊
      at Runner.runTest (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:376:30)␊
      at async /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:508:24␊
      at async Promise.all (index 1)␊
      at async Runner.start (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:547:15) {␊
    code: [32m'ERR_REQUIRE_ESM'[39m␊
  }`

  Regular expression:

  /semantic-release error/

  › test/cli.test.js:207:5



  cli › Hide sensitive environment variable values from the logs

  test/cli.test.js:219

   218:                                                                         
   219:   t.regex(t.context.errors, new RegExp(`Throw error: Exposing token ${e…
   220:   t.is(exitCode, 1);                                                    

  Value must match expression:

  `Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant2/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/git.js:2:264)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/get-config.js:2:512)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/index.js:2:622)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Proxyquire._require (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mproxyquire[24m/lib/proxyquire.js:188:36)␊
      at module.exports (/data/js-variants/multee/Clients/execa/semantic-release/cli.js:7:110)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/test/cli.test.js:217:26␊
      at Test.callFn (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:622:21)␊
      at Test.run (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:635:23)␊
      at Runner.runSingle (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:299:33)␊
      at Runner.runTest (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:376:30)␊
      at async Promise.all (index 1)␊
      at async Runner.start (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:547:15) {␊
    code: [32m'ERR_REQUIRE_ESM'[39m␊
  }`

  Regular expression:

  /Throw error: Exposing token \[secure\]/

  › test/cli.test.js:219:5



  branches › branches › Enforce ranges with branching release workflow

  test/branches/branches.test.js:25

   24:   ];                                                                     
   25:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': ()…
   26:                                                                          

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/Variants/execa/variant2/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:25:23



  branches › branches › Throw SemanticReleaseError for invalid configurations

  test/branches/branches.test.js:202

   201:   ];                                                                    
   202:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   203:   const errors = [...(await t.throwsAsync(getBranches('repositoryUrl', …

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/Variants/execa/variant2/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:202:23



  branches › branches › Throw a SemanticReleaseError if there is duplicate branches

  test/branches/branches.test.js:232

   231:   ];                                                                    
   232:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   233:                                                                         

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/Variants/execa/variant2/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:232:23



  branches › branches › Throw a SemanticReleaseError for each invalid branch name

  test/branches/branches.test.js:247

   246:   ];                                                                    
   247:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   248:                                                                         

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/Variants/execa/variant2/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:247:23

  ─

  11 tests failed
  12 uncaught exceptions
----------------------------------|---------|----------|---------|---------|-------------------
File                              | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
----------------------------------|---------|----------|---------|---------|-------------------
All files                         |   36.17 |    40.67 |   33.85 |   35.78 |                   
 semantic-release                 |   16.96 |    13.95 |   33.33 |   16.77 |                   
  cli.js                          |   95.24 |      100 |     100 |      95 | 56                
  index.js                        |       6 |        0 |       0 |    6.12 | 10-279            
 semantic-release/lib             |   41.95 |    45.64 |   46.75 |   40.93 |                   
  get-commits.js                  |      20 |        0 |       0 |      20 | 11-22             
  get-config.js                   |   16.22 |        0 |       0 |   16.22 | 7-89              
  get-error.js                    |      60 |        0 |       0 |      60 | 5-6               
  get-git-auth-url.js             |     8.7 |        0 |       0 |    9.09 | 5-121             
  get-last-release.js             |     100 |      100 |     100 |     100 |                   
  get-logger.js                   |     100 |      100 |     100 |     100 |                   
  get-next-version.js             |     100 |      100 |     100 |     100 |                   
  get-release-to-add.js           |     100 |      100 |     100 |     100 |                   
  git.js                          |    5.77 |        0 |       0 |    5.77 | 4-331             
  hide-sensitive.js               |     100 |      100 |     100 |     100 |                   
  utils.js                        |   81.82 |    95.74 |   86.36 |   78.57 | 10-17             
  verify.js                       |      15 |        0 |       0 |      15 | 4-41              
 semantic-release/lib/branches    |   44.32 |    53.97 |   29.17 |   44.83 |                   
  expand.js                       |      30 |        0 |       0 |   33.33 | 5-13              
  get-tags.js                     |   38.46 |        0 |       0 |   38.46 | 7-29              
  index.js                        |   15.38 |        0 |       0 |   15.38 | 7-70              
  normalize.js                    |   96.15 |    97.14 |     100 |   96.15 | 60                
 semantic-release/lib/definitions |   38.14 |    32.56 |      15 |   37.89 |                   
  branches.js                     |     100 |    93.33 |     100 |     100 | 7                 
  constants.js                    |     100 |      100 |     100 |     100 |                   
  errors.js                       |   24.32 |        0 |       0 |      25 | 8,11,14-224       
  plugins.js                      |    5.88 |        0 |       0 |    5.88 | 5-106             
 semantic-release/lib/plugins     |   42.64 |    47.86 |   47.37 |   42.52 |                   
  index.js                        |     9.3 |        0 |       0 |     9.3 | 5-92              
  normalize.js                    |    12.5 |        0 |       0 |   12.82 | 6-66              
  pipeline.js                     |     100 |      100 |     100 |     100 |                   
  utils.js                        |     100 |      100 |     100 |     100 |                   
----------------------------------|---------|----------|---------|---------|-------------------
************* run test done *************
semantic-release is testing ./Variants/execa/variant1/execa
/data/js-variants/multee
************* npm unlink module *************

removed 2 packages, changed 1 package, and audited 1494 packages in 4s

147 packages are looking for funding
  run `npm fund` for details

14 vulnerabilities (6 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 710ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 424ms

1 package is looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 2 packages, changed 1 package, and audited 1497 packages in 4s

148 packages are looking for funding
  run `npm fund` for details

14 vulnerabilities (6 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
************* npm link module done *************
************* start run test *************

> semantic-release@0.0.0-development pretest
> npm run lint


> semantic-release@0.0.0-development lint
> xo


> semantic-release@0.0.0-development test
> nyc ava -v


  Uncaught exception in test/get-commits.test.js

  test/get-commits.test.js:3

   2: const {stub} = require('sinon');                                          
   3: const getCommits = require('../lib/get-commits');                         
   4: const {gitRepo, gitCommits, gitDetachedHead} = require('./helpers/git-uti…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant1/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/get-commits.js:2:218)
  › Object.<anonymous> (test/get-commits.test.js:3:20)

  ✖ test/get-commits.test.js exited with a non-zero exit code: 1
  ✖ cli › Pass options to semantic-release API Rejected promise returned by test
  ✖ cli › Pass options to semantic-release API with alias arguments Rejected promise returned by test
  ✖ cli › Pass unknown options to semantic-release API Rejected promise returned by test
  ✖ cli › Pass empty Array to semantic-release API for list option set to "false" Rejected promise returned by test
  ✖ cli › Do not set properties in option for which arg is not in command line Rejected promise returned by test
  ✔ cli › Display help
  ✔ cli › Return error exitCode and prints help if called with a command
  ✔ cli › Return error exitCode if multiple plugin are set for single plugin
  ✖ cli › Return error exitCode if semantic-release throw error 
  ✖ cli › Hide sensitive environment variable values from the logs 

  Uncaught exception in test/get-config.test.js

  test/get-config.test.js:9

   8: const yaml = require('js-yaml');                                          
   9: const {gitRepo, gitTagVersion, gitCommits, gitShallowClone, gitAddConfig}…
   10:                                                                           

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant1/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/helpers/git-utils.js:2:15)
  › Object.<anonymous> (test/get-config.test.js:9:77)

  ✖ test/get-config.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/get-git-auth-url.test.js

  test/get-git-auth-url.test.js:2

   1: const test = require('ava');                          
   2: const getAuthUrl = require('../lib/get-git-auth-url');
   3: const {gitRepo} = require('./helpers/git-utils');     

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant1/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/get-git-auth-url.js:3:171)
  › Object.<anonymous> (test/get-git-auth-url.test.js:2:20)

  ✖ test/get-git-auth-url.test.js exited with a non-zero exit code: 1
  ✔ get-last-release › Get the highest non-prerelease valid tag
  ✔ get-last-release › Get the highest prerelease valid tag, ignoring other tags from other prerelease channels
  ✔ get-last-release › Return empty object if no valid tag is found
  ✔ get-last-release › Get the highest non-prerelease valid tag before a certain version
  ✔ get-logger › Expose "error", "success" and "log" functions
  ✔ get-next-version › Increase version for patch release
  ✔ get-next-version › Increase version for minor release
  ✔ get-next-version › Increase version for major release
  ✔ get-next-version › Return 1.0.0 if there is no previous release
  ✔ get-next-version › Increase version for patch release on prerelease branch
  ✔ get-next-version › Increase version for minor release on prerelease branch
  ✔ get-next-version › Increase version for major release on prerelease branch
  ✔ get-next-version › Return 1.0.0 if there is no previous release on prerelease branch
  ✔ get-next-version › Increase version for release on prerelease branch after previous commits were merged to release branch
  ✔ get-next-version › Increase version for release on prerelease branch based on highest commit type since last regular release
  ✔ get-next-version › Increase version for release on prerelease branch when there is no regular releases on other branches
  ✔ get-release-to-add › Return versions merged from release to maintenance branch, excluding lower than branch start range
  ✔ get-release-to-add › Return versions merged between release branches
  ✔ get-release-to-add › Return releases sorted by ascending order
  ✔ get-release-to-add › No lastRelease
  ✔ get-release-to-add › Ignore pre-release versions
  ✔ get-release-to-add › Exclude versions merged from release to maintenance branch if they have the same "channel"
  ✔ get-release-to-add › Exclude versions merged between release branches if they have the same "channel"
  ✔ get-release-to-add › Exclude versions merged between release branches if they all have "channel" set to "false"
  ✔ get-release-to-add › Exclude versions number less than the latest version already released on that branch

  Uncaught exception in test/git.test.js

  test/git.test.js:19

   18:   fetchNotes,             
   19: } = require('../lib/git');
   20: const {                   

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant1/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (test/git.test.js:19:5)

  ✖ test/git.test.js exited with a non-zero exit code: 1
  ✔ hide-sensitive › Replace multiple sensitive environment variable values
  ✔ hide-sensitive › Replace multiple occurences of sensitive environment variable values
  ✔ hide-sensitive › Replace sensitive environment variable matching specific regex for "private"
  ✔ hide-sensitive › Replace url-encoded environment variable
  ✔ hide-sensitive › Escape regexp special characters
  ✔ hide-sensitive › Escape regexp special characters in url-encoded environment variable
  ✔ hide-sensitive › Accept "undefined" input
  ✔ hide-sensitive › Return same string if no environment variable has to be replaced
  ✔ hide-sensitive › Exclude empty environment variables from the regexp
  ✔ hide-sensitive › Exclude empty environment variables from the regexp if there is only empty ones
  ✔ hide-sensitive › Exclude nonsensitive GOPRIVATE environment variable for Golang projects from the regexp
  ✔ hide-sensitive › Exclude environment variables with value shorter than SECRET_MIN_SIZE from the regexp

  Uncaught exception in test/index.test.js

  test/index.test.js:24

   23:   gitGetNote,                      
   24: } = require('./helpers/git-utils');
   25:                                    

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant1/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/helpers/git-utils.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/helpers/git-utils.js:2:15)
  › Object.<anonymous> (test/index.test.js:24:5)

  ✖ test/index.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/integration.test.js

  test/integration.test.js:6

   5: const {writeJson, readJson} = require('fs-extra');       
   6: const execa = require('execa');                          
   7: const {WritableStreamBuffer} = require('stream-buffers');

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant1/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/test/integration.test.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/test/integration.test.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in test/integration.test.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (test/integration.test.js:6:15)

  ✖ test/integration.test.js exited with a non-zero exit code: 1
  ✔ utils › getLatestVersion
  ✔ utils › getEarliestVersion
  ✔ utils › extractErrors
  ✔ utils › tagsToVersions
  ✔ utils › isMajorRange
  ✔ utils › isMaintenanceRange
  ✔ utils › getUpperBound
  ✔ utils › getLowerBound
  ✔ utils › highest
  ✔ utils › lowest
  ✔ utils › getFirstVersion
  ✔ utils › getRange
  ✔ utils › makeTag
  ✔ utils › isSameChannel

  Uncaught exception in test/verify.test.js

  test/verify.test.js:3

   2: const tempy = require('tempy');                  
   3: const verify = require('../lib/verify');         
   4: const {gitRepo} = require('./helpers/git-utils');

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant1/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/verify.js:2:305)
  › Object.<anonymous> (test/verify.test.js:3:16)

  ✖ test/verify.test.js exited with a non-zero exit code: 1
  ✖ branches › branches › Enforce ranges with branching release workflow Rejected promise returned by test
  ✖ branches › branches › Throw SemanticReleaseError for invalid configurations Rejected promise returned by test
  ✖ branches › branches › Throw a SemanticReleaseError if there is duplicate branches Rejected promise returned by test
  ✖ branches › branches › Throw a SemanticReleaseError for each invalid branch name Rejected promise returned by test

  Uncaught exception in test/branches/expand.test.js

  test/branches/expand.test.js:2

   1: const test = require('ava');                                              
   2: const expand = require('../../lib/branches/expand');                      
   3: const {gitRepo, gitCommits, gitCheckout, gitPush} = require('../helpers/g…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant1/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/branches/expand.js:2:292)
  › Object.<anonymous> (test/branches/expand.test.js:2:16)

  ✖ test/branches/expand.test.js exited with a non-zero exit code: 1
  ✔ branches › normalize › Maintenance branches - initial state
  ✔ branches › normalize › Maintenance branches - cap range to first release present on default branch and not in any Maintenance one
  ✔ branches › normalize › Maintenance branches - cap range to default branch last release if all release are also present on maintenance branch
  ✔ branches › normalize › Release branches - initial state
  ✔ branches › normalize › Release branches - 3 release branches
  ✔ branches › normalize › Release branches - 2 release branches
  ✔ branches › normalize › Release branches - 1 release branches
  ✔ branches › normalize › Release branches - cap ranges to first release only present on following branch
  ✔ branches › normalize › Release branches - Handle missing previous tags in branch history
  ✔ branches › normalize › Release branches - limit releases on 2nd and 3rd branch based on 1st branch last release
  ✔ branches › normalize › Prerelease branches
  ✔ branches › normalize › Allow to set channel to "false" to prevent default

  Uncaught exception in test/branches/get-tags.test.js

  test/branches/get-tags.test.js:2

   1: const test = require('ava');                                              
   2: const getTags = require('../../lib/branches/get-tags');                   
   3: const {gitRepo, gitCommits, gitTagVersion, gitCheckout, gitAddNote} = req…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant1/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/branches/get-tags.js:2:407)
  › Object.<anonymous> (test/branches/get-tags.test.js:2:17)

  ✖ test/branches/get-tags.test.js exited with a non-zero exit code: 1
  ✔ definitions › branches › A "maintenance" branch is identified by having a "range" property or a "name" formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › A "maintenance" branches must have a "range" property formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › The "maintenance" branches must have unique ranges
  ✔ definitions › branches › A "prerelease" branch is identified by having a thruthy "prerelease" property
  ✔ definitions › branches › A "prerelease" branch must have a valid prerelease detonation in "prerelease" property or in "name" if "prerelease" is "true"
  ✔ definitions › branches › The "prerelease" branches must have unique "prerelease" property
  ✔ definitions › branches › A "release" branch is identified by not havin a "range" or "prerelease" property or a "name" formatted like "N.x", "N.x.x" or "N.N.x"
  ✔ definitions › branches › There must be between 1 and 3 release branches

  Uncaught exception in test/definitions/plugins.test.js

  test/definitions/plugins.test.js:2

   1: const test = require('ava');                                              
   2: const plugins = require('../../lib/definitions/plugins');                 
   3: const {RELEASE_NOTES_SEPARATOR, SECRET_REPLACEMENT} = require('../../lib/…

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant1/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (test/definitions/plugins.test.js:2:17)

  ✖ test/definitions/plugins.test.js exited with a non-zero exit code: 1

  Uncaught exception in test/plugins/normalize.test.js

  test/plugins/normalize.test.js:4

   3: const {stub} = require('sinon');                         
   4: const normalize = require('../../lib/plugins/normalize');
   5:                                                          

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant1/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (lib/plugins/normalize.js:2:454)
  › Object.<anonymous> (test/plugins/normalize.test.js:4:19)

  ✔ plugins › pipeline › Throw all errors from all steps throwing an AggregateError
  ✔ plugins › pipeline › Stop execution and throw error if a step rejects
  ✔ plugins › pipeline › Throw all errors from the first step throwing an AggregateError
  ✔ plugins › pipeline › Execute each function in series passing the same input
  ✔ plugins › pipeline › Execute all even if a Promise rejects
  ✔ plugins › pipeline › Execute each function in series passing a transformed input from "getNextInput"
  ✔ plugins › pipeline › Execute each function in series passing the "lastResult" and "result" to "getNextInput"
  ✔ plugins › pipeline › Execute each function in series calling "transform" to modify the results
  ✔ plugins › pipeline › Execute each function in series calling "transform" to modify the results with "settleAll"
  ✔ plugins › pipeline › Execute each function in series passing a transformed input even if a step rejects
  ✖ test/plugins/normalize.test.js exited with a non-zero exit code: 1
  ✔ plugins › utils › validatePlugin
  ✔ plugins › utils › validateStep: optional plugin configuration
  ✔ plugins › utils › validateStep: required plugin configuration
  ✔ plugins › utils › loadPlugin
  ✔ plugins › utils › parseConfig

  Uncaught exception in test/plugins/plugins.test.js

  test/plugins/plugins.test.js:6

   5: const tempy = require('tempy');                 
   6: const getPlugins = require('../../lib/plugins');
   7:                                                 

  Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant1/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › Object.<anonymous> (lib/git.js:2:264)
  › Object.<anonymous> (lib/definitions/plugins.js:2:245)
  › Object.<anonymous> (lib/plugins/index.js:2:386)
  › Object.<anonymous> (test/plugins/plugins.test.js:6:20)

  ✖ test/plugins/plugins.test.js exited with a non-zero exit code: 1
  ─

  cli › Pass options to semantic-release API

  test/cli.test.js:70

   69:                                                                          
   70:   t.deepEqual(run.args[0][0].branches, ['master', 'next']);              
   71:   t.is(run.args[0][0].repositoryUrl, 'https://github/com/owner/repo.git'…

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:70:26



  cli › Pass options to semantic-release API with alias arguments

  test/cli.test.js:112

   111:                                                                         
   112:   t.deepEqual(run.args[0][0].branches, ['master']);                     
   113:   t.is(run.args[0][0].repositoryUrl, 'https://github/com/owner/repo.git…

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:112:26



  cli › Pass unknown options to semantic-release API

  test/cli.test.js:129

   128:                                              
   129:   t.is(run.args[0][0].bool, true);           
   130:   t.is(run.args[0][0].firstOption, 'value1');

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:129:19



  cli › Pass empty Array to semantic-release API for list option set to "false"

  test/cli.test.js:143

   142:                                           
   143:   t.deepEqual(run.args[0][0].publish, []);
   144:                                           

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:143:26



  cli › Do not set properties in option for which arg is not in command line

  test/cli.test.js:155

   154:                                   
   155:   t.false('ci' in run.args[0][0]);
   156:   t.false('d' in run.args[0][0]); 

  Rejected promise returned by test. Reason:

  TypeError {
    message: 'Cannot read properties of undefined (reading \'0\')',
  }

  › test/cli.test.js:155:30



  cli › Return error exitCode if semantic-release throw error

  test/cli.test.js:207

   206:                                                       
   207:   t.regex(t.context.errors, /semantic-release error/);
   208:   t.is(exitCode, 1);                                  

  Value must match expression:

  `Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant1/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/git.js:2:264)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/get-config.js:2:512)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/index.js:2:622)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Proxyquire._require (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mproxyquire[24m/lib/proxyquire.js:188:36)␊
      at module.exports (/data/js-variants/multee/Clients/execa/semantic-release/cli.js:7:110)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/test/cli.test.js:205:26␊
      at Test.callFn (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:622:21)␊
      at Test.run (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:635:23)␊
      at Runner.runSingle (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:299:33)␊
      at Runner.runTest (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:376:30)␊
      at async /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:508:24␊
      at async Promise.all (index 1)␊
      at async Runner.start (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:547:15) {␊
    code: [32m'ERR_REQUIRE_ESM'[39m␊
  }`

  Regular expression:

  /semantic-release error/

  › test/cli.test.js:207:5



  cli › Hide sensitive environment variable values from the logs

  test/cli.test.js:219

   218:                                                                         
   219:   t.regex(t.context.errors, new RegExp(`Throw error: Exposing token ${e…
   220:   t.is(exitCode, 1);                                                    

  Value must match expression:

  `Error [ERR_REQUIRE_ESM]: require() of ES Module /data/js-variants/multee/Variants/execa/variant1/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
  Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/git.js:2:264)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/lib/get-config.js:2:512)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/index.js:2:622)␊
      at Module.replacementCompile (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:60:13)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4␊
      at require.extensions.<computed> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/worker/dependency-tracker.js:42:4)␊
      at Object.<anonymous> (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mappend-transform[24m/index.js:64:4)␊
      at Proxyquire._require (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mproxyquire[24m/lib/proxyquire.js:188:36)␊
      at module.exports (/data/js-variants/multee/Clients/execa/semantic-release/cli.js:7:110)␊
      at /data/js-variants/multee/Clients/execa/semantic-release/test/cli.test.js:217:26␊
      at Test.callFn (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:622:21)␊
      at Test.run (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/test.js:635:23)␊
      at Runner.runSingle (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:299:33)␊
      at Runner.runTest (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:376:30)␊
      at async Promise.all (index 1)␊
      at async Runner.start (/data/js-variants/multee/Clients/execa/semantic-release/node_modules/[4mava[24m/lib/runner.js:547:15) {␊
    code: [32m'ERR_REQUIRE_ESM'[39m␊
  }`

  Regular expression:

  /Throw error: Exposing token \[secure\]/

  › test/cli.test.js:219:5



  branches › branches › Enforce ranges with branching release workflow

  test/branches/branches.test.js:25

   24:   ];                                                                     
   25:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': ()…
   26:                                                                          

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/Variants/execa/variant1/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:25:23



  branches › branches › Throw SemanticReleaseError for invalid configurations

  test/branches/branches.test.js:202

   201:   ];                                                                    
   202:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   203:   const errors = [...(await t.throwsAsync(getBranches('repositoryUrl', …

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/Variants/execa/variant1/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:202:23



  branches › branches › Throw a SemanticReleaseError if there is duplicate branches

  test/branches/branches.test.js:232

   231:   ];                                                                    
   232:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   233:                                                                         

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/Variants/execa/variant1/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:232:23



  branches › branches › Throw a SemanticReleaseError for each invalid branch name

  test/branches/branches.test.js:247

   246:   ];                                                                    
   247:   const getBranches = proxyquire('../../lib/branches', {'./get-tags': (…
   248:                                                                         

  Rejected promise returned by test. Reason:

  Error {
    code: 'ERR_REQUIRE_ESM',
    message: `require() of ES Module /data/js-variants/multee/Variants/execa/variant1/execa/index.js from /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js not supported.␊
    Instead change the require of index.js in /data/js-variants/multee/Clients/execa/semantic-release/lib/git.js to a dynamic import() which is available in all CommonJS modules.`,
  }

  › Instead change the require of index.js in lib/git.js to a dynamic import() which is available in all CommonJS modules.
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/git.js:2:264)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
  › Object.<anonymous> (lib/branches/index.js:2:514)
  › require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
  › Proxyquire._withoutCache (node_modules/proxyquire/lib/proxyquire.js:222:12)
  › Proxyquire.load (node_modules/proxyquire/lib/proxyquire.js:129:15)
  › test/branches/branches.test.js:247:23

  ─

  11 tests failed
  12 uncaught exceptions
----------------------------------|---------|----------|---------|---------|-------------------
File                              | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
----------------------------------|---------|----------|---------|---------|-------------------
All files                         |   36.17 |    40.67 |   33.85 |   35.78 |                   
 semantic-release                 |   16.96 |    13.95 |   33.33 |   16.77 |                   
  cli.js                          |   95.24 |      100 |     100 |      95 | 56                
  index.js                        |       6 |        0 |       0 |    6.12 | 10-279            
 semantic-release/lib             |   41.95 |    45.64 |   46.75 |   40.93 |                   
  get-commits.js                  |      20 |        0 |       0 |      20 | 11-22             
  get-config.js                   |   16.22 |        0 |       0 |   16.22 | 7-89              
  get-error.js                    |      60 |        0 |       0 |      60 | 5-6               
  get-git-auth-url.js             |     8.7 |        0 |       0 |    9.09 | 5-121             
  get-last-release.js             |     100 |      100 |     100 |     100 |                   
  get-logger.js                   |     100 |      100 |     100 |     100 |                   
  get-next-version.js             |     100 |      100 |     100 |     100 |                   
  get-release-to-add.js           |     100 |      100 |     100 |     100 |                   
  git.js                          |    5.77 |        0 |       0 |    5.77 | 4-331             
  hide-sensitive.js               |     100 |      100 |     100 |     100 |                   
  utils.js                        |   81.82 |    95.74 |   86.36 |   78.57 | 10-17             
  verify.js                       |      15 |        0 |       0 |      15 | 4-41              
 semantic-release/lib/branches    |   44.32 |    53.97 |   29.17 |   44.83 |                   
  expand.js                       |      30 |        0 |       0 |   33.33 | 5-13              
  get-tags.js                     |   38.46 |        0 |       0 |   38.46 | 7-29              
  index.js                        |   15.38 |        0 |       0 |   15.38 | 7-70              
  normalize.js                    |   96.15 |    97.14 |     100 |   96.15 | 60                
 semantic-release/lib/definitions |   38.14 |    32.56 |      15 |   37.89 |                   
  branches.js                     |     100 |    93.33 |     100 |     100 | 7                 
  constants.js                    |     100 |      100 |     100 |     100 |                   
  errors.js                       |   24.32 |        0 |       0 |      25 | 8,11,14-224       
  plugins.js                      |    5.88 |        0 |       0 |    5.88 | 5-106             
 semantic-release/lib/plugins     |   42.64 |    47.86 |   47.37 |   42.52 |                   
  index.js                        |     9.3 |        0 |       0 |     9.3 | 5-92              
  normalize.js                    |    12.5 |        0 |       0 |   12.82 | 6-66              
  pipeline.js                     |     100 |      100 |     100 |     100 |                   
  utils.js                        |     100 |      100 |     100 |     100 |                   
----------------------------------|---------|----------|---------|---------|-------------------
************* run test done *************
