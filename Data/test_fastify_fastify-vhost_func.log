/data/js-variants/multee
84
fastify-vhost is testing ./Variants/fastify/variant84/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 854ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 415ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30031.355ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=157.516ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=12.238ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=12.238ms
}

1..2
# failed 1 of 2 tests
# time=30079.915ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant83/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 923ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 409ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30031.939ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=129.09ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=16.167ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=16.167ms
}

1..2
# failed 1 of 2 tests
# time=30067.769ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant82/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 888ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 440ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30041.195ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=128.187ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=9.824ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=9.824ms
}

1..2
# failed 1 of 2 tests
# time=30075.837ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant81/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 866ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 429ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30031.279ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=123.676ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=8.866ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.866ms
}

1..2
# failed 1 of 2 tests
# time=30067.201ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant80/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 886ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 394ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30040.201ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=171.934ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=16.562ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=16.562ms
}

1..2
# failed 1 of 2 tests
# time=30075.81ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant79/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 867ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 436ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30031.347ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=127.886ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=11.473ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=11.473ms
}

1..2
# failed 1 of 2 tests
# time=30070.536ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant78/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 860ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 402ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30037.942ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=125.681ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=16.293ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=16.293ms
}

1..2
# failed 1 of 2 tests
# time=30073.073ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant77/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 848ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 397ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30029.881ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=127.058ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=11.793ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=11.793ms
}

1..2
# failed 1 of 2 tests
# time=30068.631ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant76/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 885ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 418ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30029.698ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=127.343ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=16.431ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=16.431ms
}

1..2
# failed 1 of 2 tests
# time=30068.154ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant75/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 922ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 412ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30046.696ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=126.913ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=16.346ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=16.346ms
}

1..2
# failed 1 of 2 tests
# time=30082.673ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant74/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 851ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 426ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30045.23ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=120.481ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=9.038ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=9.038ms
}

1..2
# failed 1 of 2 tests
# time=30080.811ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant73/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 861ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 399ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30039.214ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=128.087ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=11.489ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=11.489ms
}

1..2
# failed 1 of 2 tests
# time=30084.821ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant72/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 889ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 407ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30046.189ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=125.491ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=23.514ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=23.514ms
}

1..2
# failed 1 of 2 tests
# time=30079.392ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant71/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 862ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 392ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30033.546ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=131.127ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=22.886ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=22.886ms
}

1..2
# failed 1 of 2 tests
# time=30069.074ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant70/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 858ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 571ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30031.771ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=128.558ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=16.435ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=16.435ms
}

1..2
# failed 1 of 2 tests
# time=30072.827ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant69/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 896ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 466ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30038.674ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=124.213ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=16.303ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=16.303ms
}

1..2
# failed 1 of 2 tests
# time=30074.084ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant68/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 880ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 409ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30031.329ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=128.01ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=16.148ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=16.148ms
}

1..2
# failed 1 of 2 tests
# time=30070.289ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant67/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 876ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 403ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30038.467ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=123.217ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
        
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=16.07ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=16.07ms
}

1..2
# failed 1 of 2 tests
# time=30073.622ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant66/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 857ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 436ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30041.438ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=125.547ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=16.245ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=16.245ms
}

1..2
# failed 1 of 2 tests
# time=30075.324ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant65/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 857ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 439ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30030.145ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=124.91ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=15.671ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=15.671ms
}

1..2
# failed 1 of 2 tests
# time=30067.336ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant64/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 863ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 1s

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30046.145ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=126.535ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=8.955ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.955ms
}

1..2
# failed 1 of 2 tests
# time=30082.06ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant63/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 844ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 404ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30038.017ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=126.358ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=8.582ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.582ms
}

1..2
# failed 1 of 2 tests
# time=30082.226ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant62/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 869ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 421ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30031.444ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=157.747ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=16.295ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=16.295ms
}

1..2
# failed 1 of 2 tests
# time=30070.509ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant61/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 855ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 405ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30038.625ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=120.683ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=15.907ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=15.907ms
}

1..2
# failed 1 of 2 tests
# time=30071.87ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant60/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 879ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 422ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30029.45ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=127.218ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=16.507ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=16.507ms
}

1..2
# failed 1 of 2 tests
# time=30073.217ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant59/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 916ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 406ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30037.768ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=124.63ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=8.852ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.852ms
}

1..2
# failed 1 of 2 tests
# time=30073.316ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant58/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 857ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 410ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30032.257ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=128.529ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=15.977ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=15.977ms
}

1..2
# failed 1 of 2 tests
# time=30068.43ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant57/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 877ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 406ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30029.405ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=129.18ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=16.195ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=16.195ms
}

1..2
# failed 1 of 2 tests
# time=30067.385ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant56/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 905ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 412ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30034.656ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=127.162ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=8.957ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.957ms
}

1..2
# failed 1 of 2 tests
# time=30070.988ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant55/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 3s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 846ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 454ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30030.4ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=127.641ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=15.946ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=15.946ms
}

1..2
# failed 1 of 2 tests
# time=30069.048ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant54/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 856ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 418ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30038.709ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=132.005ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=16.474ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=16.474ms
}

1..2
# failed 1 of 2 tests
# time=30071.245ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant53/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 909ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 401ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30038.555ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=124.92ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
        
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=9.018ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=9.018ms
}

1..2
# failed 1 of 2 tests
# time=30074.505ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant52/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 899ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 398ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30038.741ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=123.871ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
        
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=11.969ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=11.969ms
}

1..2
# failed 1 of 2 tests
# time=30074.306ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant51/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 905ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 417ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30045.487ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=120.332ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=8.85ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.85ms
}

1..2
# failed 1 of 2 tests
# time=30078.577ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant50/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 875ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 418ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30023.523ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        not ok 1 - Failed building the validation schema for DELETE: /, due to error lyx is not defined
          ---
          stack: >
            Boot.<anonymous>
            (/data/js-variants/multee/Variants/fastify/variant50/fastify/lib/route.js:319:21)
          
            /data/js-variants/multee/Variants/fastify/variant50/fastify/node_modules/avvio/boot.js:160:12
          
            /data/js-variants/multee/Variants/fastify/variant50/fastify/node_modules/avvio/plugin.js:275:7
          
            done (/data/js-variants/multee/Variants/fastify/variant50/fastify/node_modules/avvio/plugin.js:200:5)
          
            check (/data/js-variants/multee/Variants/fastify/variant50/fastify/node_modules/avvio/plugin.js:224:9)
          at:
            line: 319
            column: 21
            file: /data/js-variants/multee/Variants/fastify/variant50/fastify/lib/route.js
            function: Boot.<anonymous>
          type: FastifyError
          code: FST_ERR_SCH_VALIDATION_BUILD
          statusCode: 500
          tapCaught: returnedPromiseRejection
          test: listen
          source: >2
                        } catch (error) {
                          throw new FST_ERR_SCH_VALIDATION_BUILD(opts.method, url, error.message)
            --------------------^
                        }
          ...
        
        1..1
        # failed 1 test
    not ok 13 - listen # time=124.624ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
        
        1..1
        # failed 1 test
    # test count(13) != plan(null)
    # failed 2 of 13 tests
}

ok 2 - lib/matches.test.js # time=16.191ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=16.191ms
}

1..2
# failed 1 of 2 tests
# time=30059.31ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |   78.33 |    86.04 |      50 |   78.33 |                   
 index.js   |   73.46 |    82.35 |      25 |   73.46 | 55-69,89-100      
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant49/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 873ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 395ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30036.604ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=123.261ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=17.31ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=17.31ms
}

1..2
# failed 1 of 2 tests
# time=30076.134ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant48/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 853ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 426ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30031.22ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=133.928ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=16.14ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=16.14ms
}

1..2
# failed 1 of 2 tests
# time=30070.324ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant47/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 856ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 427ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30024.986ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        not ok 1 - Failed building the validation schema for DELETE: /, due to error lyx is not defined
          ---
          stack: >
            Boot.<anonymous>
            (/data/js-variants/multee/Variants/fastify/variant47/fastify/lib/route.js:319:21)
          
            /data/js-variants/multee/Variants/fastify/variant47/fastify/node_modules/avvio/boot.js:160:12
          
            /data/js-variants/multee/Variants/fastify/variant47/fastify/node_modules/avvio/plugin.js:275:7
          
            done (/data/js-variants/multee/Variants/fastify/variant47/fastify/node_modules/avvio/plugin.js:200:5)
          
            check (/data/js-variants/multee/Variants/fastify/variant47/fastify/node_modules/avvio/plugin.js:224:9)
          at:
            line: 319
            column: 21
            file: /data/js-variants/multee/Variants/fastify/variant47/fastify/lib/route.js
            function: Boot.<anonymous>
          type: FastifyError
          code: FST_ERR_SCH_VALIDATION_BUILD
          statusCode: 500
          tapCaught: returnedPromiseRejection
          test: listen
          source: >2
                        } catch (error) {
                          throw new FST_ERR_SCH_VALIDATION_BUILD(opts.method, url, error.message)
            --------------------^
                        }
          ...
        
        1..1
        # failed 1 test
    not ok 13 - listen # time=123.174ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
        
        1..1
        # failed 1 test
    # test count(13) != plan(null)
    # failed 2 of 13 tests
}

ok 2 - lib/matches.test.js # time=30.189ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=30.189ms
}

1..2
# failed 1 of 2 tests
# time=30062.384ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |   78.33 |    86.04 |      50 |   78.33 |                   
 index.js   |   73.46 |    82.35 |      25 |   73.46 | 55-69,89-100      
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant46/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 891ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 410ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30037.744ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=123.453ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=16.121ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=16.121ms
}

1..2
# failed 1 of 2 tests
# time=30071.214ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant45/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 891ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 413ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30027.063ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=122.944ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=16.382ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=16.382ms
}

1..2
# failed 1 of 2 tests
# time=30065.821ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant44/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 889ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 1s

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30019.786ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        not ok 1 - Failed building the validation schema for DELETE: /, due to error lyx is not defined
          ---
          stack: >
            Boot.<anonymous>
            (/data/js-variants/multee/Variants/fastify/variant44/fastify/lib/route.js:319:21)
          
            /data/js-variants/multee/Variants/fastify/variant44/fastify/node_modules/avvio/boot.js:160:12
          
            /data/js-variants/multee/Variants/fastify/variant44/fastify/node_modules/avvio/plugin.js:275:7
          
            done (/data/js-variants/multee/Variants/fastify/variant44/fastify/node_modules/avvio/plugin.js:200:5)
          
            check (/data/js-variants/multee/Variants/fastify/variant44/fastify/node_modules/avvio/plugin.js:224:9)
          at:
            line: 319
            column: 21
            file: /data/js-variants/multee/Variants/fastify/variant44/fastify/lib/route.js
            function: Boot.<anonymous>
          type: FastifyError
          code: FST_ERR_SCH_VALIDATION_BUILD
          statusCode: 500
          tapCaught: returnedPromiseRejection
          test: listen
          source: >2
                        } catch (error) {
                          throw new FST_ERR_SCH_VALIDATION_BUILD(opts.method, url, error.message)
            --------------------^
                        }
          ...
        
        1..1
        # failed 1 test
    not ok 13 - listen # time=125.049ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
        
        1..1
        # failed 1 test
    # test count(13) != plan(null)
    # failed 2 of 13 tests
}

ok 2 - lib/matches.test.js # time=15.984ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=15.984ms
}

1..2
# failed 1 of 2 tests
# time=30055.743ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |   78.33 |    86.04 |      50 |   78.33 |                   
 index.js   |   73.46 |    82.35 |      25 |   73.46 | 55-69,89-100      
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant43/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 857ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 437ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30029.603ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=123.502ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=8.937ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.937ms
}

1..2
# failed 1 of 2 tests
# time=30068.652ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant42/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 851ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 445ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30042.815ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=122.703ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
        
        1..1
        # failed 1 test
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=16.211ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=16.211ms
}

1..2
# failed 1 of 2 tests
# time=30078.377ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |   78.33 |    86.04 |      50 |   78.33 |                   
 index.js   |   73.46 |    82.35 |      25 |   73.46 | 55-69,89-100      
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant41/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 911ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 399ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30030.49ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=123.2ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=32.141ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=32.141ms
}

1..2
# failed 1 of 2 tests
# time=30067.685ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant40/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 922ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 421ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30031.539ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=123.254ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=15.796ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=15.796ms
}

1..2
# failed 1 of 2 tests
# time=30068.687ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant39/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 886ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 414ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30033.099ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=124.032ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=16.503ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=16.503ms
}

1..2
# failed 1 of 2 tests
# time=30069.873ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant38/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 907ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 416ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30038.605ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=123.226ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=11.951ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=11.951ms
}

1..2
# failed 1 of 2 tests
# time=30071.289ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant37/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 884ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 418ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30038.666ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=128.526ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=8.838ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.838ms
}

1..2
# failed 1 of 2 tests
# time=30074.507ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant36/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 865ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 405ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30030.199ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=131.152ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=16.102ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=16.102ms
}

1..2
# failed 1 of 2 tests
# time=30068.736ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant35/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 878ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 415ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30040.635ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=133.828ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=16.031ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=16.031ms
}

1..2
# failed 1 of 2 tests
# time=30074.267ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant34/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 853ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 411ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30037.687ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=150.524ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=11.987ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=11.987ms
}

1..2
# failed 1 of 2 tests
# time=30071.282ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant33/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 887ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 460ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30031.046ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=123.495ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=15.896ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=15.896ms
}

1..2
# failed 1 of 2 tests
# time=30070.141ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant32/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 860ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 416ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30038.538ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=133.76ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=16.161ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=16.161ms
}

1..2
# failed 1 of 2 tests
# time=30073.681ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant31/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 884ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 399ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30038.705ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=126.247ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=12.202ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=12.202ms
}

1..2
# failed 1 of 2 tests
# time=30073.747ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant30/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 900ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 403ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30030.25ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=128.353ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=16.06ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=16.06ms
}

1..2
# failed 1 of 2 tests
# time=30072.572ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant29/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 890ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 414ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30038.097ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=121.848ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
        
        1..1
        # failed 1 test
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=16.138ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=16.138ms
}

1..2
# failed 1 of 2 tests
# time=30072.874ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant28/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 873ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 406ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30031.476ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=126.192ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=11.359ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=11.359ms
}

1..2
# failed 1 of 2 tests
# time=30072.007ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant27/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 863ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 498ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30045.125ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=121.524ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=11.697ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=11.697ms
}

1..2
# failed 1 of 2 tests
# time=30080.996ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant26/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 873ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 461ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30038.374ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=128.208ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=15.959ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=15.959ms
}

1..2
# failed 1 of 2 tests
# time=30073.823ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant25/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 860ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 406ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30031.983ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=124.978ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=18.421ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=18.421ms
}

1..2
# failed 1 of 2 tests
# time=30071.567ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant24/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 897ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 412ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30040.244ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=130.75ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
        
        1..1
        # failed 1 test
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=12.057ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=12.057ms
}

1..2
# failed 1 of 2 tests
# time=30073.518ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant23/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 896ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 408ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30038.187ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=124.362ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=11.747ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=11.747ms
}

1..2
# failed 1 of 2 tests
# time=30071.778ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant22/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 890ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 416ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30037.757ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=124.181ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=8.943ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.943ms
}

1..2
# failed 1 of 2 tests
# time=30072.934ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant21/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 850ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 405ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30031.397ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=130.349ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=8.513ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.513ms
}

1..2
# failed 1 of 2 tests
# time=30069.098ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant20/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 868ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 548ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30031.17ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=128.104ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=15.928ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=15.928ms
}

1..2
# failed 1 of 2 tests
# time=30069.801ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant19/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 857ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 426ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30040.891ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=131.032ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=22.423ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=22.423ms
}

1..2
# failed 1 of 2 tests
# time=30075.506ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant18/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 866ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 566ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30029.748ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=127.916ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=16.36ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=16.36ms
}

1..2
# failed 1 of 2 tests
# time=30070.089ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant17/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 893ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 417ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30055.148ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=123.995ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=11.888ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=11.888ms
}

1..2
# failed 1 of 2 tests
# time=30089.841ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant16/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 897ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 714ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30045.719ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=129.614ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=16.167ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=16.167ms
}

1..2
# failed 1 of 2 tests
# time=30083.939ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant15/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 851ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 517ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30032.2ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=156.126ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=16.229ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=16.229ms
}

1..2
# failed 1 of 2 tests
# time=30071.135ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant14/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 864ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 444ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30030.711ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=127.826ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=16.117ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=16.117ms
}

1..2
# failed 1 of 2 tests
# time=30069.392ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant13/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 855ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 426ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30039.137ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=129.429ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=16.504ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=16.504ms
}

1..2
# failed 1 of 2 tests
# time=30078.25ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant12/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 872ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 407ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30038.327ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=125.346ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=16.917ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=16.917ms
}

1..2
# failed 1 of 2 tests
# time=30072.47ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant11/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 902ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 404ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30038.036ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=121.335ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
        
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=16.276ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=16.276ms
}

1..2
# failed 1 of 2 tests
# time=30073.333ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant10/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 898ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 417ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30037.826ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=123.135ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=8.448ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.448ms
}

1..2
# failed 1 of 2 tests
# time=30070.403ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant9/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 901ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 411ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30032.587ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=122.66ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=15.881ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=15.881ms
}

1..2
# failed 1 of 2 tests
# time=30080.462ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant8/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 893ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 430ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30031.389ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=121.939ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=12.245ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=12.245ms
}

1..2
# failed 1 of 2 tests
# time=30070.708ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant7/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 854ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 415ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30030.005ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=126.849ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=16.012ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=16.012ms
}

1..2
# failed 1 of 2 tests
# time=30068.972ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant6/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 854ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 399ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30038.831ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=134.235ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
        
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=8.925ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.925ms
}

1..2
# failed 1 of 2 tests
# time=30073.967ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant5/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 849ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 435ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30030.206ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=128.766ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=16.519ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=16.519ms
}

1..2
# failed 1 of 2 tests
# time=30066.452ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant4/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 862ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 413ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30038.467ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=123.852ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=9.027ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=9.027ms
}

1..2
# failed 1 of 2 tests
# time=30072.635ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant3/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 894ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 405ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30030.553ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=134.337ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=16.492ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=16.492ms
}

1..2
# failed 1 of 2 tests
# time=30068.65ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant2/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 881ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 434ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30045.386ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=126.784ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=16.008ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=16.008ms
}

1..2
# failed 1 of 2 tests
# time=30084.79ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant1/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 884ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 407ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30029.886ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=127.19ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=11.995ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=11.995ms
}

1..2
# failed 1 of 2 tests
# time=30069.275ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
variantsDepsNum: 14
/data/js-variants/multee
14
fastify-vhost is testing ./VariantsDeps/fastify/variant14/fastify
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 846ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 409ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30032.153ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=128.421ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=17.312ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=17.312ms
}

1..2
# failed 1 of 2 tests
# time=30068.48ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./VariantsDeps/fastify/variant13/fastify
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 879ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 395ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30030.982ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=128.808ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=24.101ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=24.101ms
}

1..2
# failed 1 of 2 tests
# time=30069.762ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./VariantsDeps/fastify/variant12/fastify
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 876ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 400ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30045.168ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=128.248ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=11.783ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=11.783ms
}

1..2
# failed 1 of 2 tests
# time=30078.83ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./VariantsDeps/fastify/variant11/fastify
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 887ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 402ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30029.348ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=124.253ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=16.196ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=16.196ms
}

1..2
# failed 1 of 2 tests
# time=30068.464ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./VariantsDeps/fastify/variant10/fastify
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 873ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 399ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30038.561ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=123.454ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
        
        1..1
        # failed 1 test
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=16.151ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=16.151ms
}

1..2
# failed 1 of 2 tests
# time=30080.607ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |   78.33 |    86.04 |      50 |   78.33 |                   
 index.js   |   73.46 |    82.35 |      25 |   73.46 | 55-69,89-100      
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./VariantsDeps/fastify/variant9/fastify
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 893ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 407ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30031.529ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        not ok 1 - Failed building the validation schema for DELETE: /, due to error lyx is not defined
          ---
          stack: >
            Boot.<anonymous>
            (/data/js-variants/multee/VariantsDeps/fastify/variant9/fastify/lib/route.js:319:21)
          
            /data/js-variants/multee/VariantsDeps/fastify/variant9/fastify/node_modules/avvio/boot.js:160:12
          
            /data/js-variants/multee/VariantsDeps/fastify/variant9/fastify/node_modules/avvio/plugin.js:275:7
          
            done (/data/js-variants/multee/VariantsDeps/fastify/variant9/fastify/node_modules/avvio/plugin.js:200:5)
          
            check (/data/js-variants/multee/VariantsDeps/fastify/variant9/fastify/node_modules/avvio/plugin.js:224:9)
          at:
            line: 319
            column: 21
            file: /data/js-variants/multee/VariantsDeps/fastify/variant9/fastify/lib/route.js
            function: Boot.<anonymous>
          type: FastifyError
          code: FST_ERR_SCH_VALIDATION_BUILD
          statusCode: 500
          tapCaught: returnedPromiseRejection
          test: listen
          source: >2
                        } catch (error) {
                          throw new FST_ERR_SCH_VALIDATION_BUILD(opts.method, url, error.message)
            --------------------^
                        }
          ...
        
        1..1
        # failed 1 test
    not ok 13 - listen # time=129.685ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
        
    # test count(13) != plan(null)
    # failed 2 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=15.844ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=15.844ms
}

1..2
# failed 1 of 2 tests
# time=30067.799ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./VariantsDeps/fastify/variant8/fastify
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 868ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 433ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30031.105ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=127.514ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=15.922ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=15.922ms
}

1..2
# failed 1 of 2 tests
# time=30069.946ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./VariantsDeps/fastify/variant7/fastify
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 875ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 407ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30037.065ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=122.764ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=16.544ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=16.544ms
}

1..2
# failed 1 of 2 tests
# time=30082.6ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./VariantsDeps/fastify/variant6/fastify
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 862ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 422ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30046.341ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=119.48ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=8.888ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.888ms
}

1..2
# failed 1 of 2 tests
# time=30080.769ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./VariantsDeps/fastify/variant5/fastify
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 896ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 423ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30039.681ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=124.507ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=16.548ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=16.548ms
}

1..2
# failed 1 of 2 tests
# time=30072.902ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./VariantsDeps/fastify/variant4/fastify
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 897ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 421ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30031.516ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=128.839ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=16.165ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=16.165ms
}

1..2
# failed 1 of 2 tests
# time=30067.922ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./VariantsDeps/fastify/variant3/fastify
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 907ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 403ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30029.829ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=129.648ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=16.163ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=16.163ms
}

1..2
# failed 1 of 2 tests
# time=30068.657ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./VariantsDeps/fastify/variant2/fastify
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 892ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 544ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30033.468ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=124.416ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=12.056ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=12.056ms
}

1..2
# failed 1 of 2 tests
# time=30068.139ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./VariantsDeps/fastify/variant1/fastify
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 857ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 400ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30055.108ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=134.235ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=11.736ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=11.736ms
}

1..2
# failed 1 of 2 tests
# time=30095.693ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
