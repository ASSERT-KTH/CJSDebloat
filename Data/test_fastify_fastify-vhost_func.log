/data/js-variants/multee
84
fastify-vhost is testing ./Variants/fastify/variant84/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 3s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

up to date, audited 1 package in 138ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 439ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 3s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30041.417ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=174.383ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=8.578ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.578ms
}

1..2
# failed 1 of 2 tests
# time=30087.282ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant83/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 3s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 1s

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 415ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 3s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30038.294ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=194.364ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=11.271ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=11.271ms
}

1..2
# failed 1 of 2 tests
# time=30077.097ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant82/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 3s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 1s

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 425ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 3s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30051.465ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=176.515ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
        
        1..1
        # failed 1 test
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=21.858ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=21.858ms
}

1..2
# failed 1 of 2 tests
# time=30094.899ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |   78.33 |    86.04 |      50 |   78.33 |                   
 index.js   |   73.46 |    82.35 |      25 |   73.46 | 55-69,89-100      
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant81/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 3s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 1s

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 409ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 3s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30049.398ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=185.072ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=17.123ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=17.123ms
}

1..2
# failed 1 of 2 tests
# time=30088.627ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant80/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 3s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 1s

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 403ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 3s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30045.264ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=160.441ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=10.362ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=10.362ms
}

1..2
# failed 1 of 2 tests
# time=30079.649ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant79/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 910ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 402ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30033.74ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=135.678ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=8.93ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.93ms
}

1..2
# failed 1 of 2 tests
# time=30070.522ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant78/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 908ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 370ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30032.134ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=135.697ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=8.377ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.377ms
}

1..2
# failed 1 of 2 tests
# time=30067.205ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant77/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 920ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 382ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30034.996ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=130.442ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=8.163ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.163ms
}

1..2
# failed 1 of 2 tests
# time=30079.677ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant76/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 885ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 372ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30038.816ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=135.561ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=8.293ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.293ms
}

1..2
# failed 1 of 2 tests
# time=30070.373ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant75/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 917ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 353ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30033.666ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=132.832ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=8.167ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.167ms
}

1..2
# failed 1 of 2 tests
# time=30078.1ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant74/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 918ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 365ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30031.278ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=160.414ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=8.102ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.102ms
}

1..2
# failed 1 of 2 tests
# time=30066.147ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant73/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 896ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 358ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30026.802ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=125.461ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=8.101ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.101ms
}

1..2
# failed 1 of 2 tests
# time=30061.792ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant72/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 877ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 393ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30031.046ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=132.305ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=11.071ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=11.071ms
}

1..2
# failed 1 of 2 tests
# time=30065.175ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant71/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 917ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 385ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30031.093ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=136.298ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=7.868ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=7.868ms
}

1..2
# failed 1 of 2 tests
# time=30066.134ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant70/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 897ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 383ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30030.853ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=133.506ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=8.317ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.317ms
}

1..2
# failed 1 of 2 tests
# time=30067.787ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant69/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 896ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 380ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30035.348ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=131.822ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=8.194ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.194ms
}

1..2
# failed 1 of 2 tests
# time=30067.828ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant68/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 939ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 383ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30031.776ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=150.732ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=8.466ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.466ms
}

1..2
# failed 1 of 2 tests
# time=30067.111ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant67/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 873ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 836ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30031.617ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=139.868ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=8.832ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.832ms
}

1..2
# failed 1 of 2 tests
# time=30066.211ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant66/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 894ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 390ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30038.967ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=132.092ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=8.033ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.033ms
}

1..2
# failed 1 of 2 tests
# time=30070.079ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant65/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 907ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 378ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30031.569ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=134.361ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=8.283ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.283ms
}

1..2
# failed 1 of 2 tests
# time=30066.072ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant64/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 887ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 385ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30030.098ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=127.366ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=7.977ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=7.977ms
}

1..2
# failed 1 of 2 tests
# time=30064.834ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant63/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 865ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 371ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30035.922ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=130.776ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=7.911ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=7.911ms
}

1..2
# failed 1 of 2 tests
# time=30070.298ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant62/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 913ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 376ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30029.732ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=126.189ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=8.395ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.395ms
}

1..2
# failed 1 of 2 tests
# time=30066.074ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant61/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 873ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 366ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30034.042ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=137.536ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=8.401ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.401ms
}

1..2
# failed 1 of 2 tests
# time=30069.376ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant60/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 879ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 374ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30031.434ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=131.3ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=8.559ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.559ms
}

1..2
# failed 1 of 2 tests
# time=30066.255ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant59/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 869ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 385ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30030.76ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=143.324ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=7.989ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=7.989ms
}

1..2
# failed 1 of 2 tests
# time=30066.515ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant58/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 913ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 377ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30029.971ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=135.266ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=8.05ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.05ms
}

1..2
# failed 1 of 2 tests
# time=30064.429ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant57/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 859ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 393ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30037.749ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=130.774ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=9.07ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=9.07ms
}

1..2
# failed 1 of 2 tests
# time=30068.974ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant56/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 879ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 609ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30030.448ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=131.598ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=8.146ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.146ms
}

1..2
# failed 1 of 2 tests
# time=30065.2ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant55/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 888ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 369ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30027.115ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=131.378ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=7.995ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=7.995ms
}

1..2
# failed 1 of 2 tests
# time=30061.839ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant54/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 913ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 389ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30029.24ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=135.854ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=9.02ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=9.02ms
}

1..2
# failed 1 of 2 tests
# time=30063.857ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant53/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 897ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 376ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30037.59ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=132.87ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=7.933ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=7.933ms
}

1..2
# failed 1 of 2 tests
# time=30068.251ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant52/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 897ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 368ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30032.652ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=133.888ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=10.523ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=10.523ms
}

1..2
# failed 1 of 2 tests
# time=30067.08ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant51/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 894ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 478ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30042.323ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=136.192ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=8.268ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.268ms
}

1..2
# failed 1 of 2 tests
# time=30073.742ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant50/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 871ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 385ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30023.5ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        not ok 1 - Failed building the validation schema for DELETE: /, due to error lyx is not defined
          ---
          stack: >
            Boot.<anonymous>
            (/data/js-variants/multee/Variants/fastify/variant50/fastify/lib/route.js:319:21)
          
            /data/js-variants/multee/Variants/fastify/variant50/fastify/node_modules/avvio/boot.js:160:12
          
            /data/js-variants/multee/Variants/fastify/variant50/fastify/node_modules/avvio/plugin.js:275:7
          
            done (/data/js-variants/multee/Variants/fastify/variant50/fastify/node_modules/avvio/plugin.js:200:5)
          
            check (/data/js-variants/multee/Variants/fastify/variant50/fastify/node_modules/avvio/plugin.js:224:9)
          at:
            line: 319
            column: 21
            file: /data/js-variants/multee/Variants/fastify/variant50/fastify/lib/route.js
            function: Boot.<anonymous>
          type: FastifyError
          code: FST_ERR_SCH_VALIDATION_BUILD
          statusCode: 500
          tapCaught: returnedPromiseRejection
          test: listen
          source: >2
                        } catch (error) {
                          throw new FST_ERR_SCH_VALIDATION_BUILD(opts.method, url, error.message)
            --------------------^
                        }
          ...
        
        1..1
        # failed 1 test
    not ok 13 - listen # time=125.357ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
        
        1..1
        # failed 1 test
    # test count(13) != plan(null)
    # failed 2 of 13 tests
}

ok 2 - lib/matches.test.js # time=8.463ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.463ms
}

1..2
# failed 1 of 2 tests
# time=30055.463ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |   78.33 |    86.04 |      50 |   78.33 |                   
 index.js   |   73.46 |    82.35 |      25 |   73.46 | 55-69,89-100      
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant49/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 917ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 398ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30041.889ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=134.429ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=8.519ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.519ms
}

1..2
# failed 1 of 2 tests
# time=30072.73ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant48/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 897ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 412ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30034.921ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=159.395ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=8.396ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.396ms
}

1..2
# failed 1 of 2 tests
# time=30065.846ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant47/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 874ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 374ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30029.842ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        not ok 1 - Failed building the validation schema for DELETE: /, due to error lyx is not defined
          ---
          stack: >
            Boot.<anonymous>
            (/data/js-variants/multee/Variants/fastify/variant47/fastify/lib/route.js:319:21)
          
            /data/js-variants/multee/Variants/fastify/variant47/fastify/node_modules/avvio/boot.js:160:12
          
            /data/js-variants/multee/Variants/fastify/variant47/fastify/node_modules/avvio/plugin.js:275:7
          
            done (/data/js-variants/multee/Variants/fastify/variant47/fastify/node_modules/avvio/plugin.js:200:5)
          
            check (/data/js-variants/multee/Variants/fastify/variant47/fastify/node_modules/avvio/plugin.js:224:9)
          at:
            line: 319
            column: 21
            file: /data/js-variants/multee/Variants/fastify/variant47/fastify/lib/route.js
            function: Boot.<anonymous>
          type: FastifyError
          code: FST_ERR_SCH_VALIDATION_BUILD
          statusCode: 500
          tapCaught: returnedPromiseRejection
          test: listen
          source: >2
                        } catch (error) {
                          throw new FST_ERR_SCH_VALIDATION_BUILD(opts.method, url, error.message)
            --------------------^
                        }
          ...
        
        1..1
        # failed 1 test
    not ok 13 - listen # time=124.106ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
        
    # test count(13) != plan(null)
    # failed 2 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=8.232ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.232ms
}

1..2
# failed 1 of 2 tests
# time=30061.904ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant46/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 861ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 366ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30043.82ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=137.977ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=7.915ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=7.915ms
}

1..2
# failed 1 of 2 tests
# time=30083.789ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant45/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 907ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 371ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30027.254ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=196.458ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=9.051ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=9.051ms
}

1..2
# failed 1 of 2 tests
# time=30061.946ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant44/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 871ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 384ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30031.365ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        not ok 1 - Failed building the validation schema for DELETE: /, due to error lyx is not defined
          ---
          stack: >
            Boot.<anonymous>
            (/data/js-variants/multee/Variants/fastify/variant44/fastify/lib/route.js:319:21)
          
            /data/js-variants/multee/Variants/fastify/variant44/fastify/node_modules/avvio/boot.js:160:12
          
            /data/js-variants/multee/Variants/fastify/variant44/fastify/node_modules/avvio/plugin.js:275:7
          
            done (/data/js-variants/multee/Variants/fastify/variant44/fastify/node_modules/avvio/plugin.js:200:5)
          
            check (/data/js-variants/multee/Variants/fastify/variant44/fastify/node_modules/avvio/plugin.js:224:9)
          at:
            line: 319
            column: 21
            file: /data/js-variants/multee/Variants/fastify/variant44/fastify/lib/route.js
            function: Boot.<anonymous>
          type: FastifyError
          code: FST_ERR_SCH_VALIDATION_BUILD
          statusCode: 500
          tapCaught: returnedPromiseRejection
          test: listen
          source: >2
                        } catch (error) {
                          throw new FST_ERR_SCH_VALIDATION_BUILD(opts.method, url, error.message)
            --------------------^
                        }
          ...
        
        1..1
        # failed 1 test
    not ok 13 - listen # time=126.265ms
    
    # test count(13) != plan(null)
    # failed 2 of 13 tests
}

ok 2 - lib/matches.test.js # time=8.239ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.239ms
}

1..2
# failed 1 of 2 tests
# time=30062.868ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant43/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 894ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 383ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30035.808ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=133.186ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
        
        1..1
        # failed 1 test
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=8.308ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.308ms
}

1..2
# failed 1 of 2 tests
# time=30066.974ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant42/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 910ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 372ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30028.297ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=156.143ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=8.564ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.564ms
}

1..2
# failed 1 of 2 tests
# time=30064.696ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant41/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 877ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 362ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30031.623ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=136.251ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=7.905ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=7.905ms
}

1..2
# failed 1 of 2 tests
# time=30066.955ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant40/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 3s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 899ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 359ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30046.238ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=141.76ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=7.976ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=7.976ms
}

1..2
# failed 1 of 2 tests
# time=30077.866ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant39/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 913ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 417ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30039.91ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=146.334ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=7.971ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=7.971ms
}

1..2
# failed 1 of 2 tests
# time=30071.195ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant38/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 889ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 398ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30037.073ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=128.847ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=10.541ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=10.541ms
}

1..2
# failed 1 of 2 tests
# time=30076.042ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant37/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 881ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 367ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30045.796ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=131.724ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=7.957ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=7.957ms
}

1..2
# failed 1 of 2 tests
# time=30077.027ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant36/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 944ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 370ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30030.845ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=135.385ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=7.995ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=7.995ms
}

1..2
# failed 1 of 2 tests
# time=30066.411ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant35/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 865ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 373ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30035.079ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=134.007ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
        
        1..1
        # failed 1 test
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=8.263ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.263ms
}

1..2
# failed 1 of 2 tests
# time=30068.404ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant34/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 904ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 381ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30031.597ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=135.363ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=8.89ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.89ms
}

1..2
# failed 1 of 2 tests
# time=30066.464ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant33/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 910ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 378ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30031.621ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=182.532ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=8.429ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.429ms
}

1..2
# failed 1 of 2 tests
# time=30066.345ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant32/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 854ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 356ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30031.045ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=133.272ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=7.929ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=7.929ms
}

1..2
# failed 1 of 2 tests
# time=30069.92ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant31/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 867ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 365ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30031.355ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=137.379ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=11.675ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=11.675ms
}

1..2
# failed 1 of 2 tests
# time=30067.862ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant30/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 897ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 928ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30035.842ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=132.935ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=7.882ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=7.882ms
}

1..2
# failed 1 of 2 tests
# time=30080.189ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant29/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 856ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 365ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30031.786ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=130.089ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=7.904ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=7.904ms
}

1..2
# failed 1 of 2 tests
# time=30068.21ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant28/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 905ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 384ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 3s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30045.331ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=157.883ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=7.951ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=7.951ms
}

1..2
# failed 1 of 2 tests
# time=30076.663ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant27/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 880ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 363ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30030.972ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=131.938ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=8.181ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.181ms
}

1..2
# failed 1 of 2 tests
# time=30065.158ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant26/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 866ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 412ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30029.883ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=129.435ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=8.29ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.29ms
}

1..2
# failed 1 of 2 tests
# time=30064.736ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant25/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 862ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 384ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30045.459ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=136.527ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=8.214ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.214ms
}

1..2
# failed 1 of 2 tests
# time=30076.468ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant24/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 884ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 389ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 3s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30036.432ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=135.869ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=8.626ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.626ms
}

1..2
# failed 1 of 2 tests
# time=30070.955ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant23/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 867ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 376ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30046.112ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=131.989ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=8.271ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.271ms
}

1..2
# failed 1 of 2 tests
# time=30077.044ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant22/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 866ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 381ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30027.157ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=144.688ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=8.12ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.12ms
}

1..2
# failed 1 of 2 tests
# time=30061.822ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant21/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 889ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 375ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30031.03ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=131.08ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=8.539ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.539ms
}

1..2
# failed 1 of 2 tests
# time=30066.111ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant20/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 920ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 372ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30032.204ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=135.33ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=8.155ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.155ms
}

1..2
# failed 1 of 2 tests
# time=30070.101ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant19/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 865ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 371ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30031.687ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=136.519ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=7.852ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=7.852ms
}

1..2
# failed 1 of 2 tests
# time=30068.235ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant18/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 881ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 398ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30052.998ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=130.91ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=8.615ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.615ms
}

1..2
# failed 1 of 2 tests
# time=30096.107ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant17/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 896ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 400ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30060.407ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=162.259ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
        
        1..1
        # failed 1 test
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=8.67ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.67ms
}

1..2
# failed 1 of 2 tests
# time=30100.585ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |   78.33 |    86.04 |      50 |   78.33 |                   
 index.js   |   73.46 |    82.35 |      25 |   73.46 | 55-69,89-100      
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant16/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 878ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 382ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30030.02ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=131.95ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=8.786ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.786ms
}

1..2
# failed 1 of 2 tests
# time=30064.843ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant15/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 876ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 361ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30036.917ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=132.774ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=8.103ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.103ms
}

1..2
# failed 1 of 2 tests
# time=30072.26ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant14/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 888ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 396ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30037.89ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=159.422ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=8.171ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.171ms
}

1..2
# failed 1 of 2 tests
# time=30070.398ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant13/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 865ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 378ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30045.828ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=148.717ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=8.36ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.36ms
}

1..2
# failed 1 of 2 tests
# time=30089.181ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant12/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 876ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 390ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30029.612ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=129.588ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=8.403ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.403ms
}

1..2
# failed 1 of 2 tests
# time=30066.17ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant11/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 897ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 378ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30030.863ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=130.268ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=7.952ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=7.952ms
}

1..2
# failed 1 of 2 tests
# time=30065.445ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant10/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 868ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 359ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30038.163ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=155.394ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=8.254ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.254ms
}

1..2
# failed 1 of 2 tests
# time=30069.491ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant9/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 885ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 400ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30030.706ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=132.91ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=8.385ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.385ms
}

1..2
# failed 1 of 2 tests
# time=30065.62ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant8/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 895ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 368ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30045.44ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=131.795ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=8.137ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.137ms
}

1..2
# failed 1 of 2 tests
# time=30079.122ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant7/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 912ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 361ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30034.348ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=159.288ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=8.085ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.085ms
}

1..2
# failed 1 of 2 tests
# time=30065.187ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant6/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 870ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 374ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30030.142ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=131.598ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=8.389ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.389ms
}

1..2
# failed 1 of 2 tests
# time=30064.872ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant5/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 873ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 362ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30040.236ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=132.04ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=7.877ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=7.877ms
}

1..2
# failed 1 of 2 tests
# time=30079.457ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant4/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 894ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 401ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30031.731ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=131.169ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=8.562ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.562ms
}

1..2
# failed 1 of 2 tests
# time=30066.258ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant3/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 872ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 381ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30031.315ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=131.714ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=8.025ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.025ms
}

1..2
# failed 1 of 2 tests
# time=30066.14ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant2/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 849ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 356ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30053.963ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=131.724ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=8.293ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.293ms
}

1..2
# failed 1 of 2 tests
# time=30086.009ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./Variants/fastify/variant1/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 906ms

found 0 vulnerabilities
************* npm unlink globally done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 382ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30031.223ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=141.407ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=8.512ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.512ms
}

1..2
# failed 1 of 2 tests
# time=30065.728ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
variantsDepsNum: 14
/data/js-variants/multee
14
fastify-vhost is testing ./VariantsDeps/fastify/variant14/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 873ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 396ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30030.997ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=142.395ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=8.439ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.439ms
}

1..2
# failed 1 of 2 tests
# time=30065.19ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./VariantsDeps/fastify/variant13/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 869ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 385ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30030.89ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=130.482ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=11.386ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=11.386ms
}

1..2
# failed 1 of 2 tests
# time=30065.484ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./VariantsDeps/fastify/variant12/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 880ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 369ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30026.249ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=138.045ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=11.822ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=11.822ms
}

1..2
# failed 1 of 2 tests
# time=30060.34ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./VariantsDeps/fastify/variant11/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 902ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 381ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30031.269ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=132.098ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=14.595ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=14.595ms
}

1..2
# failed 1 of 2 tests
# time=30066.115ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./VariantsDeps/fastify/variant10/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 883ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 361ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30030.417ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=131.649ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=8.669ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.669ms
}

1..2
# failed 1 of 2 tests
# time=30065.074ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./VariantsDeps/fastify/variant9/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 871ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 367ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30029.92ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        not ok 1 - Failed building the validation schema for DELETE: /, due to error lyx is not defined
          ---
          stack: >
            Boot.<anonymous>
            (/data/js-variants/multee/VariantsDeps/fastify/variant9/fastify/lib/route.js:319:21)
          
            /data/js-variants/multee/VariantsDeps/fastify/variant9/fastify/node_modules/avvio/boot.js:160:12
          
            /data/js-variants/multee/VariantsDeps/fastify/variant9/fastify/node_modules/avvio/plugin.js:275:7
          
            done (/data/js-variants/multee/VariantsDeps/fastify/variant9/fastify/node_modules/avvio/plugin.js:200:5)
          
            check (/data/js-variants/multee/VariantsDeps/fastify/variant9/fastify/node_modules/avvio/plugin.js:224:9)
          at:
            line: 319
            column: 21
            file: /data/js-variants/multee/VariantsDeps/fastify/variant9/fastify/lib/route.js
            function: Boot.<anonymous>
          type: FastifyError
          code: FST_ERR_SCH_VALIDATION_BUILD
          statusCode: 500
          tapCaught: returnedPromiseRejection
          test: listen
          source: >2
                        } catch (error) {
                          throw new FST_ERR_SCH_VALIDATION_BUILD(opts.method, url, error.message)
            --------------------^
                        }
          ...
        
        1..1
        # failed 1 test
    not ok 13 - listen # time=129.456ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 2 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=9.964ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=9.964ms
}

1..2
# failed 1 of 2 tests
# time=30061.323ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./VariantsDeps/fastify/variant8/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 859ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 356ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30030.36ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=131.592ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=13.276ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=13.276ms
}

1..2
# failed 1 of 2 tests
# time=30064.899ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./VariantsDeps/fastify/variant7/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 928ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 379ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30032.07ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=129.866ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=8.547ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.547ms
}

1..2
# failed 1 of 2 tests
# time=30066.872ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./VariantsDeps/fastify/variant6/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 880ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 358ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30040.233ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=132.115ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=9.412ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=9.412ms
}

1..2
# failed 1 of 2 tests
# time=30073.065ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./VariantsDeps/fastify/variant5/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 877ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 358ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30031.259ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=158.025ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=8.386ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.386ms
}

1..2
# failed 1 of 2 tests
# time=30067.467ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./VariantsDeps/fastify/variant4/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 956ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 392ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30030.203ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=129.214ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=8.498ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.498ms
}

1..2
# failed 1 of 2 tests
# time=30069.616ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./VariantsDeps/fastify/variant3/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 929ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 458ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30037.389ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=129.393ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=11.242ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=11.242ms
}

1..2
# failed 1 of 2 tests
# time=30072.451ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./VariantsDeps/fastify/variant2/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 864ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 367ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30034.379ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=130.923ms
    
    # Subtest: GET domain
        not ok 1 - timeout!
          ---
          signal: SIGTERM
          requests:
            - type: TCPConnectWrap
          handles:
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3000
            - type: Server
              events:
                - request
                - connection
                - clientError
              connectionKey: 4:0.0.0.0:3001
            - type: Socket
              events:
                - end
                - connect
                - free
                - close
                - timeout
                - agentRemove
                - error
                - data
                - drain
          expired: TAP
          stack: |
            emit (node_modules/signal-exit/index.js:105:13)
            process.listener (node_modules/signal-exit/index.js:123:9)
          test: GET domain
          ...
    # test count(13) != plan(null)
    # failed 1 of 13 tests
        # test count(1) != plan(null)
        # failed 2 test
}

ok 2 - lib/matches.test.js # time=8.384ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.384ms
}

1..2
# failed 1 of 2 tests
# time=30065.48ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
fastify-vhost is testing ./VariantsDeps/fastify/variant1/fastify
/data/js-variants/multee
************* npm unlink module *************

removed 1 package, and audited 428 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm unlink module done *************
************* npm unlink globally *************

removed 1 package, and audited 1 package in 871ms

found 0 vulnerabilities
************* npm unlink module done *************
************* npm link globally *************

added 1 package, and audited 3 packages in 350ms

found 0 vulnerabilities
************* npm link globally done *************
************* npm link module *************

added 1 package, and audited 430 packages in 2s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
************* npm link module done *************
************* start run test *************

> fastify-vhost@1.3.2 test
> tap test.js lib/*.test.js --100

TAP version 13
not ok 1 - test.js # time=30030.52ms
  ---
  env: {}
  file: test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/Clients/fastify/fastify-vhost
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...
{
    ok 1 - null options should throw
    ok 2 - options missing upstream should throw
    ok 3 - options missing host should throw
    ok 4 - options containing subdomain should throw
    ok 5 - non-string host should throw
    ok 6 - tld-missing host should throw
    ok 7 - invalid timeout should throw
    ok 8 - negative timeout should throw
    ok 9 - timeout=0 should throw
    ok 10 - with both host and hosts should throw
    ok 11 - empty hosts should throw
    ok 12 - expected to not throw
    # Subtest: listen
        1..0
    ok 13 - listen # time=131.853ms
    
    # test count(13) != plan(null)
    # failed 1 of 13 tests
}

ok 2 - lib/matches.test.js # time=8.551ms {
    ok 1 - null returns null
    ok 2 - missing header returns null
    ok 3 - null header returns null
    ok 4 - invalid header returns null
    ok 5 - undefined header returns null
    ok 6 - null expected returns null
    ok 7 - root domain should not match
    ok 8 - test subdomain should match
    ok 9 - root domain should not match
    ok 10 - host + port should match
    ok 11 - case insensitive should match
    ok 12 - host with whitespaces should match
    ok 13 - [strict] host + port should not match
    ok 14 - [strict] case insensitive should not match
    ok 15 - [strict] host containing whitespaces should not match
    1..15
    # time=8.551ms
}

1..2
# failed 1 of 2 tests
# time=30064.993ms
------------|---------|----------|---------|---------|-------------------
File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------|---------|----------|---------|---------|-------------------
All files   |     100 |      100 |     100 |     100 |                   
 matches.js |     100 |      100 |     100 |     100 |                   
------------|---------|----------|---------|---------|-------------------
************* run test done *************
