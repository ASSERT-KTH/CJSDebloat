14
./VariantsPureDep/fastify/variant14/fastify

> fastify@4.3.0 test
> npm run lint && npm run unit && npm run test:typescript


> fastify@4.3.0 lint
> npm run lint:standard && npm run lint:typescript && npm run lint:markdown


> fastify@4.3.0 lint:standard
> standard | snazzy


> fastify@4.3.0 lint:typescript
> eslint -c types/.eslintrc.json types/**/*.d.ts test/types/**/*.test-d.ts

./VariantsPureDep/fastify/variant13/fastify

> fastify@4.3.0 test
> npm run lint && npm run unit && npm run test:typescript


> fastify@4.3.0 lint
> npm run lint:standard && npm run lint:typescript && npm run lint:markdown


> fastify@4.3.0 lint:standard
> standard | snazzy


> fastify@4.3.0 lint:typescript
> eslint -c types/.eslintrc.json types/**/*.d.ts test/types/**/*.test-d.ts


> fastify@4.3.0 lint:markdown
> markdownlint-cli2

markdownlint-cli2 v0.4.0 (markdownlint v0.25.1)

> fastify@4.3.0 unit
> tap

TAP version 13
# Subtest: test/404s.test.js
    # Subtest: default 404
        1..4
        ok 1 - should not error
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - unsupported method # time=29.698ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - framework-unsupported method # time=7.385ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - unsupported route # time=5.909ms
        
    ok 1 - default 404 # time=193.677ms
    
    # Subtest: customized 404
        1..6
        ok 1 - should not error
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - unsupported method # time=10.682ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - framework-unsupported method # time=5.141ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - unsupported route # time=4.455ms
        
        # Subtest: with error object
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - with error object # time=11.694ms
        
        # Subtest: error object with headers property
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 6 - error object with headers property # time=5.186ms
        
    ok 2 - customized 404 # time=51.978ms
    
    # Subtest: custom header in notFound handler
        1..2
        ok 1 - should not error
        # Subtest: not found with custom header
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
        ok 2 - not found with custom header # time=22.237ms
        
    ok 3 - custom header in notFound handler # time=43.316ms
    
    # Subtest: setting a custom 404 handler multiple times is an error
        1..5
        # Subtest: at the root level
            1..2
            ok 1 - type is Error
            ok 2 - should be equal
        ok 1 - at the root level # time=2.806ms
        
        # Subtest: at the plugin level
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 2 - at the plugin level # time=36.405ms
        
        # Subtest: at multiple levels
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 3 - at multiple levels # time=13.688ms
        
        # Subtest: at multiple levels / 2
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 4 - at multiple levels / 2 # time=20.822ms
        
        # Subtest: in separate plugins at the same level
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 5 - in separate plugins at the same level # time=12.449ms
        
    ok 4 - setting a custom 404 handler multiple times is an error # time=96.448ms
    
    # Subtest: encapsulated 404
        1..13
        ok 1 - should not error
        # Subtest: root unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - root unsupported method # time=31.896ms
        
        # Subtest: root framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - root framework-unsupported method # time=3.63ms
        
        # Subtest: root unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - root unsupported route # time=3.998ms
        
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 5 - unsupported method # time=4.744ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 6 - framework-unsupported method # time=4.427ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 7 - unsupported route # time=4.141ms
        
        # Subtest: unsupported method 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 8 - unsupported method 2 # time=4.479ms
        
        # Subtest: framework-unsupported method 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 9 - framework-unsupported method 2 # time=4.092ms
        
        # Subtest: unsupported route 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 10 - unsupported route 2 # time=4.096ms
        
        # Subtest: unsupported method 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 11 - unsupported method 3 # time=4.581ms
        
        # Subtest: framework-unsupported method 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 12 - framework-unsupported method 3 # time=3.953ms
        
        # Subtest: unsupported route 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 13 - unsupported route 3 # time=4.091ms
        
    ok 5 - encapsulated 404 # time=137.979ms
    
    # Subtest: custom 404 hook and handler context
        1..21
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should not error
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equal
    ok 6 - custom 404 hook and handler context # time=56.149ms
    
    # Subtest: encapsulated custom 404 without - prefix hook and handler context
        1..13
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equal
    ok 7 - encapsulated custom 404 without - prefix hook and handler context # time=11.516ms
    
    # Subtest: run hooks on default 404
        1..7
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - preHandler called
        ok 4 - onSend called
        ok 5 - onResponse called
        ok 6 - should not error
        ok 7 - should be equal
    ok 8 - run hooks on default 404 # time=15.511ms
    
    # Subtest: run non-encapsulated plugin hooks on default 404
        1..6
        ok 1 - onRequest called
        ok 2 - preHandler called
        ok 3 - onSend called
        ok 4 - onResponse called
        ok 5 - should not error
        ok 6 - should be equal
    ok 9 - run non-encapsulated plugin hooks on default 404 # time=10.419ms
    
    # Subtest: run non-encapsulated plugin hooks on custom 404
        1..11
        ok 1 - onRequest called
        ok 2 - onRequest called
        ok 3 - preHandler called
        ok 4 - preHandler called
        ok 5 - onSend called
        ok 6 - onSend called
        ok 7 - onResponse called
        ok 8 - onResponse called
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
    ok 10 - run non-encapsulated plugin hooks on custom 404 # time=28.154ms
    
    # Subtest: run hook with encapsulated 404
        1..11
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - onRequest 2 called
        ok 4 - preHandler called
        ok 5 - preHandler 2 called
        ok 6 - onSend called
        ok 7 - onSend 2 called
        ok 8 - onResponse called
        ok 9 - onResponse 2 called
        ok 10 - should not error
        ok 11 - should be equal
    ok 11 - run hook with encapsulated 404 # time=33.593ms
    
    # Subtest: run hook with encapsulated 404 and framework-unsupported method
        1..11
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - onRequest 2 called
        ok 4 - preHandler called
        ok 5 - preHandler 2 called
        ok 6 - onSend called
        ok 7 - onSend 2 called
        ok 8 - onResponse called
        ok 9 - onResponse 2 called
        ok 10 - should not error
        ok 11 - should be equal
    ok 12 - run hook with encapsulated 404 and framework-unsupported method # time=12.854ms
    
    # Subtest: hooks check 404
        1..13
        ok 1 - should not error
        ok 2 - onRequest
        ok 3 - should be equivalent
        ok 4 - onSend
        ok 5 - onResponse
        ok 6 - onRequest
        ok 7 - should be equivalent
        ok 8 - onSend
        ok 9 - onResponse
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should not error
        ok 13 - should be equal
    ok 13 - hooks check 404 # time=28.023ms
    
    # Subtest: setNotFoundHandler should not suppress duplicated routes checking
        1..1
        ok 1 - expect truthy value
    ok 14 - setNotFoundHandler should not suppress duplicated routes checking # time=3.537ms
    
    # Subtest: log debug for 404
        1..1
        # Subtest: log debug
            1..7
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
        ok 1 - log debug # time=8.049ms
        
    ok 15 - log debug for 404 # time=14.913ms
    
    # Subtest: Unknown method
        1..5
        ok 1 - should not error
        ok 2 - expected to throw
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent strictly
    ok 16 - Unknown method # time=39.823ms
    
    # Subtest: recognizes errors from the http-errors module
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent strictly
    ok 17 - recognizes errors from the http-errors module # time=14.918ms
    
    # Subtest: the default 404 handler can be invoked inside a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
    ok 18 - the default 404 handler can be invoked inside a prefixed plugin # time=6.517ms
    
    # Subtest: an inherited custom 404 handler can be invoked inside a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - an inherited custom 404 handler can be invoked inside a prefixed plugin # time=6.607ms
    
    # Subtest: encapsulated custom 404 handler without a prefix is the handler for the entire 404 level
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 20 - encapsulated custom 404 handler without a prefix is the handler for the entire 404 level # time=17.006ms
    
    # Subtest: cannot set notFoundHandler after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 21 - cannot set notFoundHandler after binding # time=4.642ms
    
    # Subtest: 404 inside onSend
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 22 - 404 inside onSend # time=34.229ms
    
    # Subtest: onSend hooks run when an encapsulated route invokes the notFound handler
        1..3
        ok 1 - onSend hook called
        ok 2 - should not error
        ok 3 - should be equal
    ok 23 - onSend hooks run when an encapsulated route invokes the notFound handler # time=12.265ms
    
    # Subtest: preHandler option for setNotFoundHandler
        1..10
        # Subtest: preHandler option
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 1 - preHandler option # time=64.674ms
        
        # Subtest: preHandler hook in setNotFoundHandler should be called when callNotFound
            1..3
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 2 - preHandler hook in setNotFoundHandler should be called when callNotFound # time=31.265ms
        
        # Subtest: preHandler hook in setNotFoundHandler should accept an array of functions and be called when callNotFound
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 3 - preHandler hook in setNotFoundHandler should accept an array of functions and be called when callNotFound # time=15.907ms
        
        # Subtest: preHandler option should be called after preHandler hook
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 4 - preHandler option should be called after preHandler hook # time=9.173ms
        
        # Subtest: preHandler option should be unique per prefix
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 5 - preHandler option should be unique per prefix # time=16.921ms
        
        # Subtest: preHandler option should handle errors
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 6 - preHandler option should handle errors # time=5.981ms
        
        # Subtest: preHandler option should handle errors with custom status code
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 7 - preHandler option should handle errors with custom status code # time=5.743ms
        
        # Subtest: preHandler option could accept an array of functions
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 8 - preHandler option could accept an array of functions # time=5.285ms
        
        # Subtest: preHandler option does not interfere with preHandler
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 9 - preHandler option does not interfere with preHandler # time=9.636ms
        
        # Subtest: preHandler option should keep the context
            1..3
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 10 - preHandler option should keep the context # time=5.292ms
        
    ok 24 - preHandler option for setNotFoundHandler # time=188.663ms
    
    # Subtest: reply.notFound invoked the notFound handler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - reply.notFound invoked the notFound handler # time=5.243ms
    
    # Subtest: The custom error handler should be invoked after the custom not found handler
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - type is Error
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 26 - The custom error handler should be invoked after the custom not found handler # time=5.766ms
    
    # Subtest: If the custom not found handler does not use an Error, the custom error handler should not be called
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 27 - If the custom not found handler does not use an Error, the custom error handler should not be called # time=3.962ms
    
    # Subtest: preValidation option
        1..3
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 28 - preValidation option # time=13.095ms
    
    # Subtest: preValidation option could accept an array of functions
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 29 - preValidation option could accept an array of functions # time=5.509ms
    
    # Subtest: Should fail to invoke callNotFound inside a 404 handler
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 30 - Should fail to invoke callNotFound inside a 404 handler # time=9.071ms
    
    # Subtest: 400 in case of bad url (pre find-my-way v2.2.0 was a 404)
        # Subtest: Dynamic route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 1 - Dynamic route # time=20.451ms
        
        # Subtest: Wildcard
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - Wildcard # time=5.74ms
        
        # Subtest: No route registered
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - No route registered # time=33.037ms
        
        # Subtest: Only / is registered
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - Only / is registered # time=13.607ms
        
        # Subtest: customized 404
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - customized 404 # time=6.843ms
        
        1..5
    ok 31 - 400 in case of bad url (pre find-my-way v2.2.0 was a 404) # time=98.953ms
    
    # Subtest: setNotFoundHandler should be chaining fastify instance
        # Subtest: Register route after setNotFoundHandler
            1..6
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should not error
            ok 5 - should be equal
            ok 6 - should be equal
        ok 1 - Register route after setNotFoundHandler # time=22.958ms
        
        1..1
    ok 32 - setNotFoundHandler should be chaining fastify instance # time=33.048ms
    
    # Subtest: Send 404 when frameworkError calls reply.callNotFound
        # Subtest: Dynamic route
            1..4
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 1 - Dynamic route # time=6.149ms
        
        1..1
    ok 33 - Send 404 when frameworkError calls reply.callNotFound # time=11.515ms
    
    1..33
    # time=1292.135ms
ok 1 - test/404s.test.js # time=1292.135ms

# Subtest: test/500s.test.js
    # Subtest: default 500
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - default 500 # time=76.422ms
    
    # Subtest: custom 500
        1..6
        ok 1 - type is object
        ok 2 - type is Request
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 2 - custom 500 # time=10.581ms
    
    # Subtest: encapsulated 500
        1..10
        ok 1 - type is object
        ok 2 - type is Request
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 3 - encapsulated 500 # time=19.506ms
    
    # Subtest: custom 500 with hooks
        1..7
        ok 1 - onRequest
        ok 2 - onSend
        ok 3 - onResponse
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 4 - custom 500 with hooks # time=16.307ms
    
    # Subtest: cannot set errorHandler after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 5 - cannot set errorHandler after binding # time=25.603ms
    
    1..5
    # time=160.452ms
ok 2 - test/500s.test.js # time=160.452ms

# Subtest: test/allowUnsafeRegex.test.js
    # Subtest: allow unsafe regex
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - allow unsafe regex # time=72.487ms
    
    # Subtest: allow unsafe regex not match
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 2 - allow unsafe regex not match # time=13.286ms
    
    # Subtest: allow unsafe regex not safe
        1..1
        ok 1 - expected to throw
    ok 3 - allow unsafe regex not safe # time=88.018ms
    
    # Subtest: allow unsafe regex not safe by default
        1..1
        ok 1 - expected to throw
    ok 4 - allow unsafe regex not safe by default # time=3.553ms
    
    # Subtest: allow unsafe regex allow unsafe
        1..5
        ok 1 - expected to not throw
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 5 - allow unsafe regex allow unsafe # time=11.99ms
    
    1..5
    # time=225.517ms
ok 3 - test/allowUnsafeRegex.test.js # time=225.517ms

# Subtest: test/als.test.js
    ok 1 - should not error
    ok 2 - expect truthy value
    ok 3 - should not error
    ok 4 - should be equal
    ok 5 - should be equivalent
    ok 6 - expect truthy value
    ok 7 - should not error
    ok 8 - should be equal
    ok 9 - should be equivalent
    ok 10 - expect truthy value
    ok 11 - should not error
    ok 12 - should be equal
    ok 13 - should be equivalent
    1..13
    # time=45.367ms
ok 4 - test/als.test.js # time=45.367ms

# Subtest: test/async-await.test.js
    # Subtest: async await
        1..11
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 1 - async await # time=319.181ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (undefined)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 2 - ignore the result of the promise if reply.send is called beforehand (undefined) # time=15.986ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (object)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 3 - ignore the result of the promise if reply.send is called beforehand (object) # time=23.823ms
    
    # Subtest: server logs an error if reply.send is called and a value is returned via async/await
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 4 - server logs an error if reply.send is called and a value is returned via async/await # time=89.421ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (undefined)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 5 - ignore the result of the promise if reply.send is called beforehand (undefined) # time=9.552ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (object)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 6 - ignore the result of the promise if reply.send is called beforehand (object) # time=11.705ms
    
    # Subtest: await reply if we will be calling reply.send in the future
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 7 - await reply if we will be calling reply.send in the future # time=7.695ms
    
    # Subtest: await reply if we will be calling reply.send in the future (error case)
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 8 - await reply if we will be calling reply.send in the future (error case) # time=9.195ms
    
    # Subtest: support reply decorators with await
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 9 - support reply decorators with await # time=7.885ms
    
    # Subtest: inject async await
        1..1
        ok 1 - should be equivalent
    ok 10 - inject async await # time=7.827ms
    
    # Subtest: inject async await - when the server equal up
        1..2
        ok 1 - should be equivalent
        ok 2 - should be equivalent
    ok 11 - inject async await - when the server equal up # time=207.386ms
    
    # Subtest: async await plugin
        1..1
        ok 1 - should be equivalent
    ok 12 - async await plugin # time=213.042ms
    
    # Subtest: does not call reply.send() twice if 204 response equal already sent
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - does not call reply.send() twice if 204 response equal already sent # time=48.011ms
    
    # Subtest: promise was fulfilled with undefined
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - promise was fulfilled with undefined # time=46.367ms
    
    # Subtest: error is not logged because promise was fulfilled with undefined but response was sent before promise resolution
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 15 - error is not logged because promise was fulfilled with undefined but response was sent before promise resolution # time=13.311ms
    
    # Subtest: Thrown Error instance sets HTTP status code
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - Thrown Error instance sets HTTP status code # time=8.049ms
    
    # Subtest: customErrorHandler support
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 17 - customErrorHandler support # time=7.239ms
    
    # Subtest: customErrorHandler support without throwing
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - customErrorHandler support without throwing # time=13.382ms
    
    # Subtest: customErrorHandler only called if reply not already sent
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - customErrorHandler only called if reply not already sent # time=4.772ms
    
    # Subtest: setNotFoundHandler should accept return value
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - setNotFoundHandler should accept return value # time=27.195ms
    
    # Subtest: customErrorHandler should accept return value
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 21 - customErrorHandler should accept return value # time=80.635ms
    
    # Subtest: await self
        ok 1 - should be equal
        1..1
    ok 22 - await self # time=13.523ms
    
    1..22
    # time=1208.518ms
ok 5 - test/async-await.test.js # time=1208.518ms

# Subtest: test/bodyLimit.test.js
    # Subtest: bodyLimit
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should not error
        ok 5 - should be equal
    ok 1 - bodyLimit # time=37.72ms
    
    1..1
    # time=42.363ms
ok 6 - test/bodyLimit.test.js # time=42.363ms

# Subtest: test/build/error-serializer.test.js
    # Subtest: check generated code syntax
        1..1
        ok 1 - should be equal
    ok 1 - check generated code syntax # time=3999.316ms
    
    ok 2 - ensure the current error serializer is latest # SKIP
    1..2
    # skip: 1
    # time=4067.425ms
ok 7 - test/build/error-serializer.test.js # time=4067.425ms

# Subtest: test/build/version.test.js
    # Subtest: should be the same as package.json
        1..1
        ok 1 - should be equal
    ok 1 - should be the same as package.json # time=6.104ms
    
    1..1
    # time=13.572ms
ok 8 - test/build/version.test.js # time=13.572ms

# Subtest: test/case-insensitive.test.js
    # Subtest: case insensitive
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - case insensitive # time=69.521ms
    
    # Subtest: case insensitive inject
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - case insensitive inject # time=31.635ms
    
    # Subtest: case insensitive (parametric)
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 3 - case insensitive (parametric) # time=12.626ms
    
    # Subtest: case insensitive (wildcard)
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 4 - case insensitive (wildcard) # time=37.76ms
    
    1..4
    # time=167.191ms
ok 9 - test/case-insensitive.test.js # time=167.191ms

# Subtest: test/chainable.test.js
    # Subtest: chainable - get
        1..1
        ok 1 - type is [object Object]
    ok 1 - chainable - get # time=10.319ms
    
    # Subtest: chainable - post
        1..1
        ok 1 - type is [object Object]
    ok 2 - chainable - post # time=10.022ms
    
    # Subtest: chainable - route
        1..1
        ok 1 - type is [object Object]
    ok 3 - chainable - route # time=5.593ms
    
    1..3
    # time=48.829ms
ok 10 - test/chainable.test.js # time=48.829ms

# Subtest: test/close-pipelining.test.js
    # Subtest: Should return 503 while closing - pipelining
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        1..3
    ok 1 - Should return 503 while closing - pipelining # time=97.345ms
    
    # Subtest: Should not return 503 while closing - pipelining - return503OnClosing
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        1..3
    ok 2 - Should not return 503 while closing - pipelining - return503OnClosing # time=22.021ms
    
    1..2
    # time=156.016ms
ok 11 - test/close-pipelining.test.js # time=156.016ms

# Subtest: test/close.test.js
    # Subtest: close callback
        1..4
        ok 1 - should not error
        ok 2 - type is [object Object]
        ok 3 - should not error
        ok 4 - expect truthy value
    ok 1 - close callback # time=96.415ms
    
    # Subtest: inside register
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - expect truthy value
    ok 2 - inside register # time=22.622ms
    
    # Subtest: close order
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 3 - close order # time=23.767ms
    
    # Subtest: close order - async
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 4 - close order - async # time=8.456ms
    
    # Subtest: should not throw an error if the server is not listening
        1..2
        ok 1 - type is [object Object]
        ok 2 - should not error
    ok 5 - should not throw an error if the server is not listening # time=3.496ms
    
    # Subtest: onClose should keep the context
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
    ok 6 - onClose should keep the context # time=12.8ms
    
    # Subtest: Should return error while closing (promise) - injection
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 7 - Should return error while closing (promise) - injection # time=76.504ms
    
    # Subtest: Should return error while closing (callback) - injection
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 8 - Should return error while closing (callback) - injection # time=108.523ms
    
    # Subtest: Current opened connection should continue to work after closing and return "connection: close" header - return503OnClosing: false
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        1..5
    ok 9 - Current opened connection should continue to work after closing and return "connection: close" header - return503OnClosing: false # time=25.425ms
    
    # Subtest: Current opened connection should not accept new incoming connections
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 10 - Current opened connection should not accept new incoming connections # time=283.218ms
    
    # Subtest: Cannot be reopened the closed server without listen callback
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 11 - Cannot be reopened the closed server without listen callback # time=21.63ms
    
    # Subtest: Cannot be reopened the closed server has listen callback
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 12 - Cannot be reopened the closed server has listen callback # time=7.956ms
    
    ok 13 - shutsdown while keep-alive connections are active (non-async, native) # SKIP
    ok 14 - shutsdown while keep-alive connections are active (non-async, idle, native) # SKIP
    # Subtest: shutsdown while keep-alive connections are active (non-async, custom)
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 15 - shutsdown while keep-alive connections are active (non-async, custom) # time=19.827ms
    
    1..15
    # skip: 2
    # time=728.526ms
ok 12 - test/close.test.js # time=728.526ms

# Subtest: test/connectionTimeout.test.js
    # Subtest: connectionTimeout
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 1 - connectionTimeout # time=54.254ms
    
    1..1
    # time=63.83ms
ok 13 - test/connectionTimeout.test.js # time=63.83ms

# Subtest: test/constrained-routes.test.js
    # Subtest: Should register a host constrained route
        1..7
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 1 - Should register a host constrained route # time=102.587ms
    
    # Subtest: Should register the same route with host constraints
        1..8
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 2 - Should register the same route with host constraints # time=11.802ms
    
    # Subtest: Should allow registering custom constrained routes
        1..8
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 3 - Should allow registering custom constrained routes # time=29.324ms
    
    # Subtest: Should allow registering custom constrained routes outside constructor
        1..8
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 4 - Should allow registering custom constrained routes outside constructor # time=23.322ms
    
    # Subtest: Add a constraint strategy after fastify instance was started
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - Cannot add constraint strategy when fastify instance is already started!
    ok 5 - Add a constraint strategy after fastify instance was started # time=6.286ms
    
    # Subtest: Add a constraint strategy should throw an error if there already exist custom strategy with the same name
        1..1
        ok 1 - There already exists a custom constraint with the name secret.
    ok 6 - Add a constraint strategy should throw an error if there already exist custom strategy with the same name # time=1.628ms
    
    # Subtest: Add a constraint strategy shouldn't throw an error if default constraint with the same name isn't used
        1..1
        ok 1 - (unnamed test)
    ok 7 - Add a constraint strategy shouldn't throw an error if default constraint with the same name isn't used # time=1.31ms
    
    # Subtest: Add a constraint strategy should throw an error if default constraint with the same name is used
        1..1
        ok 1 - There already exists a route with version constraint.
    ok 8 - Add a constraint strategy should throw an error if default constraint with the same name is used # time=2.498ms
    
    # Subtest: The hasConstraintStrategy should return false for default constraints until they are used
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 9 - The hasConstraintStrategy should return false for default constraints until they are used # time=4.263ms
    
    # Subtest: The hasConstraintStrategy should return true if there already exist a custom constraint with the same name
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 10 - The hasConstraintStrategy should return true if there already exist a custom constraint with the same name # time=2.387ms
    
    # Subtest: Should allow registering an unconstrained route after a constrained route
        1..6
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
    ok 11 - Should allow registering an unconstrained route after a constrained route # time=8.614ms
    
    # Subtest: Should allow registering constrained routes in a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 12 - Should allow registering constrained routes in a prefixed plugin # time=21.33ms
    
    # Subtest: Should allow registering a constrained GET route after a constrained HEAD route
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 13 - Should allow registering a constrained GET route after a constrained HEAD route # time=13.438ms
    
    # Subtest: Should allow registering a constrained GET route after an unconstrained HEAD route
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 14 - Should allow registering a constrained GET route after an unconstrained HEAD route # time=5.015ms
    
    # Subtest: Will not try to re-createprefixed HEAD route if it already exists and exposeHeadRoutes is true for constrained routes
        1..1
        ok 1 - expect truthy value
    ok 15 - Will not try to re-createprefixed HEAD route if it already exists and exposeHeadRoutes is true for constrained routes # time=21.624ms
    
    # Subtest: allows separate constrained and unconstrained HEAD routes
        1..1
        ok 1 - expect truthy value
    ok 16 - allows separate constrained and unconstrained HEAD routes # time=4.958ms
    
    1..16
    # time=272.585ms
ok 14 - test/constrained-routes.test.js # time=272.585ms

# Subtest: test/content-length.test.js
    # Subtest: default 413 with bodyLimit option
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - default 413 with bodyLimit option # time=84.84ms
    
    # Subtest: default 400 with wrong content-length
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - default 400 with wrong content-length # time=14.616ms
    
    # Subtest: custom 413 with bodyLimit option
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 3 - custom 413 with bodyLimit option # time=20.307ms
    
    # Subtest: custom 400 with wrong content-length
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 4 - custom 400 with wrong content-length # time=8.766ms
    
    # Subtest: \#2214 - wrong content-length
        ok 1 - should be equal
        1..1
    ok 5 - \#2214 - wrong content-length # time=12.273ms
    
    # Subtest: \#2543 - wrong content-length with errorHandler
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 6 - \#2543 - wrong content-length with errorHandler # time=6.179ms
    
    1..6
    # time=154.054ms
ok 15 - test/content-length.test.js # time=154.054ms

# Subtest: test/content-parser.test.js
    # Subtest: hasContentTypeParser
        1..0
    ok 1 - hasContentTypeParser # time=29.162ms
    
    # Subtest: should know about internal parsers
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
    ok 2 - should know about internal parsers # time=51.923ms
    
    # Subtest: should work with string and RegExp
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect falsey value
    ok 3 - should work with string and RegExp # time=9.177ms
    
    # Subtest: getParser
        1..0
    ok 4 - getParser # time=141.345ms
    
    # Subtest: existingParser
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect falsey value
        1..7
    ok 5 - existingParser # time=18.502ms
    
    # Subtest: add
        1..0
    ok 6 - add # time=19.822ms
    
    # Subtest: non-Error thrown from content parser is properly handled
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 7 - non-Error thrown from content parser is properly handled # time=51.654ms
    
    # Subtest: Error thrown 415 from content type is null and make post request to server
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 8 - Error thrown 415 from content type is null and make post request to server # time=11.344ms
    
    # Subtest: remove
        1..0
    ok 9 - remove # time=34.295ms
    
    # Subtest: remove all should remove all existing parsers and reset cache
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
    ok 10 - remove all should remove all existing parsers and reset cache # time=6.048ms
    
    # Subtest: should return matching parser
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 11 - should return matching parser # time=2.895ms
    
    # Subtest: should return matching parser with caching
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 12 - should return matching parser with caching # time=3.283ms
    
    # Subtest: should prefer content type parser with string value
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 13 - should prefer content type parser with string value # time=2.845ms
    
    # Subtest: should return parser that catches all if no other is set
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 14 - should return parser that catches all if no other is set # time=3.543ms
    
    # Subtest: should return undefined if no matching parser exist
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 15 - should return undefined if no matching parser exist # time=2.726ms
    
    # Subtest: returns always false for "*"
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 16 - returns always false for "*" # time=2.071ms
    
    # Subtest: let you override the default parser once
        1..2
        ok 1 - Content type parser 'application/json' already present
        ok 2 - Content type parser 'text/plain' already present
    ok 17 - let you override the default parser once # time=5.363ms
    
    # Subtest: should only accept string and RegExp
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - The content type should be a string or a RegExp
        ok 4 - The content type should be a string or a RegExp
    ok 18 - should only accept string and RegExp # time=3.723ms
    
    # Subtest: should set "*" as parser that catches all
        1..1
        ok 1 - should be equal
    ok 19 - should set "*" as parser that catches all # time=1.498ms
    
    # Subtest: should remove default parser
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 20 - should remove default parser # time=2.082ms
    
    # Subtest: should remove RegExp parser
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 21 - should remove RegExp parser # time=1.212ms
    
    # Subtest: should throw an error if content type is neither string nor RegExp
        1..1
        ok 1 - expected to throw
    ok 22 - should throw an error if content type is neither string nor RegExp # time=1.284ms
    
    # Subtest: should not throw error if content type does not exist
        1..1
        ok 1 - expected to not throw
    ok 23 - should not throw error if content type does not exist # time=1.216ms
    
    # Subtest: should not remove any content type parser if content type does not exist
        1..1
        ok 1 - should be equivalent
    ok 24 - should not remove any content type parser if content type does not exist # time=1.887ms
    
    1..24
    # time=436.468ms
ok 16 - test/content-parser.test.js # time=436.468ms

# Subtest: test/context-config.test.js
    # Subtest: config
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 1 - config # time=95.149ms
    
    # Subtest: config with exposeHeadRoutes
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 2 - config with exposeHeadRoutes # time=21.885ms
    
    # Subtest: config without exposeHeadRoutes
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 3 - config without exposeHeadRoutes # time=38.664ms
    
    1..3
    # time=176.734ms
ok 17 - test/context-config.test.js # time=176.734ms

# Subtest: test/custom-http-server.test.js
    # Subtest: Should support a custom http server
        1..4
        ok 1 - it is called twice for every HOST interface
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - Should support a custom http server # time=65.513ms
    
    # Subtest: Should not allow forceCloseConnection=idle if the server does not support closeIdleConnections
        1..1
        ok 1 - Cannot set forceCloseConnections to 'idle' as your HTTP server does not support closeIdleConnections method
    ok 2 - Should not allow forceCloseConnection=idle if the server does not support closeIdleConnections # time=3.984ms
    
    1..2
    # time=77.93ms
ok 18 - test/custom-http-server.test.js # time=77.93ms

# Subtest: test/custom-parser-async.test.js
    # Subtest: contentTypeParser should add a custom async parser
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=32.089ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=7.245ms
        
    ok 1 - contentTypeParser should add a custom async parser # time=107.116ms
    
    1..1
    # time=112.286ms
ok 19 - test/custom-parser-async.test.js # time=112.286ms

# Subtest: test/custom-parser.test.js
    # Subtest: contentTypeParser method should exist
        1..1
        ok 1 - expect truthy value
    ok 1 - contentTypeParser method should exist # time=14.797ms
    
    # Subtest: contentTypeParser should add a custom parser
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=78.47ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=53.633ms
        
    ok 2 - contentTypeParser should add a custom parser # time=286.593ms
    
    # Subtest: contentTypeParser should handle multiple custom parsers
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 3 - contentTypeParser should handle multiple custom parsers # time=21.516ms
    
    # Subtest: contentTypeParser should handle an array of custom contentTypes
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 4 - contentTypeParser should handle an array of custom contentTypes # time=43.84ms
    
    # Subtest: contentTypeParser should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 5 - contentTypeParser should handle errors # time=13.559ms
    
    # Subtest: contentTypeParser should support encapsulation
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - expect falsey value
        ok 6 - expect falsey value
    ok 6 - contentTypeParser should support encapsulation # time=8.087ms
    
    # Subtest: contentTypeParser should support encapsulation, second try
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - contentTypeParser should support encapsulation, second try # time=42.828ms
    
    # Subtest: contentTypeParser shouldn't support request with undefined "Content-Type"
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 8 - contentTypeParser shouldn't support request with undefined "Content-Type" # time=25.19ms
    
    # Subtest: the content type should be a string or RegExp
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 9 - the content type should be a string or RegExp # time=2.223ms
    
    # Subtest: the content type cannot be an empty string
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 10 - the content type cannot be an empty string # time=2.55ms
    
    # Subtest: the content type handler should be a function
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 11 - the content type handler should be a function # time=2.138ms
    
    # Subtest: catch all content type parser
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 12 - catch all content type parser # time=12.784ms
    
    # Subtest: catch all content type parser should not interfere with other conte type parsers
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 13 - catch all content type parser should not interfere with other conte type parsers # time=14.505ms
    
    # Subtest: '*' catch undefined Content-Type requests
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - '*' catch undefined Content-Type requests # time=19.745ms
    
    # Subtest: cannot add custom parser after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 15 - cannot add custom parser after binding # time=10.698ms
    
    # Subtest: Can override the default json parser
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 16 - Can override the default json parser # time=18.604ms
    
    # Subtest: Can override the default plain text parser
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 17 - Can override the default plain text parser # time=32.753ms
    
    # Subtest: Can override the default json parser in a plugin
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 18 - Can override the default json parser in a plugin # time=11.26ms
    
    # Subtest: Can't override the json parser multiple times
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 19 - Can't override the json parser multiple times # time=1.775ms
    
    # Subtest: Can't override the plain text parser multiple times
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 20 - Can't override the plain text parser multiple times # time=2.033ms
    
    # Subtest: Should get the body as string
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 21 - Should get the body as string # time=32.501ms
    
    # Subtest: Should return defined body with no custom parser defined and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 22 - Should return defined body with no custom parser defined and content type = 'text/plain' # time=14.494ms
    
    # Subtest: Should have typeof body object with no custom parser defined, no body defined and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 23 - Should have typeof body object with no custom parser defined, no body defined and content type = 'text/plain' # time=7.375ms
    
    # Subtest: Should have typeof body object with no custom parser defined, null body and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 24 - Should have typeof body object with no custom parser defined, null body and content type = 'text/plain' # time=8.49ms
    
    # Subtest: Should have typeof body object with no custom parser defined, undefined body and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 25 - Should have typeof body object with no custom parser defined, undefined body and content type = 'text/plain' # time=7.416ms
    
    # Subtest: Should get the body as string
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 26 - Should get the body as string # time=25.546ms
    
    # Subtest: Should get the body as buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 27 - Should get the body as buffer # time=8.44ms
    
    # Subtest: Should get the body as buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 28 - Should get the body as buffer # time=7.245ms
    
    # Subtest: Should parse empty bodies as a string
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 29 - Should parse empty bodies as a string # time=47.051ms
    
    # Subtest: Should parse empty bodies as a buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 30 - Should parse empty bodies as a buffer # time=7.092ms
    
    # Subtest: The charset should not interfere with the content type handling
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 31 - The charset should not interfere with the content type handling # time=6.322ms
    
    # Subtest: Wrong parseAs parameter
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 32 - Wrong parseAs parameter # time=1.549ms
    
    # Subtest: Should allow defining the bodyLimit per parser
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent strictly
    ok 33 - Should allow defining the bodyLimit per parser # time=8.212ms
    
    # Subtest: route bodyLimit should take precedence over a custom parser bodyLimit
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent strictly
    ok 34 - route bodyLimit should take precedence over a custom parser bodyLimit # time=6.256ms
    
    # Subtest: should be able to use default parser for extra content type
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent strictly
    ok 35 - should be able to use default parser for extra content type # time=6.723ms
    
    # Subtest: contentTypeParser should add a custom parser with RegExp value
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=4.54ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=3.698ms
        
    ok 36 - contentTypeParser should add a custom parser with RegExp value # time=14.115ms
    
    # Subtest: contentTypeParser should add multiple custom parsers with RegExp values
        1..6
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 37 - contentTypeParser should add multiple custom parsers with RegExp values # time=48.193ms
    
    # Subtest: catch all content type parser should not interfere with content type parser
        1..10
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 38 - catch all content type parser should not interfere with content type parser # time=11.154ms
    
    # Subtest: should prefer string content types over RegExp ones
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 39 - should prefer string content types over RegExp ones # time=8.571ms
    
    # Subtest: removeContentTypeParser should support arrays of content types to remove
        1..8
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 40 - removeContentTypeParser should support arrays of content types to remove # time=9.938ms
    
    # Subtest: removeContentTypeParser should support encapsulation
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 41 - removeContentTypeParser should support encapsulation # time=9.07ms
    
    # Subtest: removeAllContentTypeParsers should support encapsulation
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 42 - removeAllContentTypeParsers should support encapsulation # time=13.089ms
    
    # Subtest: cannot remove all content type parsers after binding
        1..2
        ok 1 - should not error
        ok 2 - expected to throw
    ok 43 - cannot remove all content type parsers after binding # time=3.602ms
    
    # Subtest: cannot remove content type parsers after binding
        1..2
        ok 1 - should not error
        ok 2 - expected to throw
    ok 44 - cannot remove content type parsers after binding # time=2.738ms
    
    # Subtest: should be able to override the default json parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 45 - should be able to override the default json parser after removeAllContentTypeParsers # time=5.913ms
    
    # Subtest: should be able to override the default plain text parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 46 - should be able to override the default plain text parser after removeAllContentTypeParsers # time=11.336ms
    
    # Subtest: should be able to add a custom content type parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 47 - should be able to add a custom content type parser after removeAllContentTypeParsers # time=7.09ms
    
    1..47
    # time=977.189ms
ok 20 - test/custom-parser.test.js # time=977.189ms

# Subtest: test/custom-querystring-parser.test.js
    # Subtest: Custom querystring parser
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 1 - Custom querystring parser # time=113.627ms
    
    # Subtest: Custom querystring parser should be called also if there is nothing to parse
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 2 - Custom querystring parser should be called also if there is nothing to parse # time=19.877ms
    
    # Subtest: Querystring without value
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 3 - Querystring without value # time=49.808ms
    
    # Subtest: Custom querystring parser should be a function
        1..1
        ok 1 - should be equal
    ok 4 - Custom querystring parser should be a function # time=2.173ms
    
    1..4
    # time=197.743ms
ok 21 - test/custom-querystring-parser.test.js # time=197.743ms

# Subtest: test/decorator.test.js
    # Subtest: server methods should exist
        1..2
        ok 1 - expect truthy value
        ok 2 - expect truthy value
    ok 1 - server methods should exist # time=14.745ms
    
    # Subtest: should check if the given decoration already exist when null
        1..1
        ok 1 - expect truthy value
    ok 2 - should check if the given decoration already exist when null # time=81.064ms
    
    # Subtest: server methods should be encapsulated via .register
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 3 - server methods should be encapsulated via .register # time=8.711ms
    
    # Subtest: hasServerMethod should check if the given method already exist
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 4 - hasServerMethod should check if the given method already exist # time=9.279ms
    
    # Subtest: decorate should throw if a declared dependency is not present
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - (unnamed test)
    ok 5 - decorate should throw if a declared dependency is not present # time=9.419ms
    
    # Subtest: decorate should throw if declared dependency is not array
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - (unnamed test)
    ok 6 - decorate should throw if declared dependency is not array # time=6.696ms
    
    # Subtest: should pass error for missing request decorator
        1..2
        ok 1 - type is Error
        ok 2 - should match pattern provided
    ok 7 - should pass error for missing request decorator # time=7.472ms
    
    # Subtest: decorateReply inside register
        1..11
        ok 1 - should not error
        ok 2 - test exists
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 8 - decorateReply inside register # time=54.375ms
    
    # Subtest: decorateReply as plugin (inside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 9 - decorateReply as plugin (inside .after) # time=24.805ms
    
    # Subtest: decorateReply as plugin (outside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 10 - decorateReply as plugin (outside .after) # time=16.844ms
    
    # Subtest: decorateRequest inside register
        1..11
        ok 1 - should not error
        ok 2 - test exists
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 11 - decorateRequest inside register # time=18.359ms
    
    # Subtest: decorateRequest as plugin (inside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 12 - decorateRequest as plugin (inside .after) # time=16.293ms
    
    # Subtest: decorateRequest as plugin (outside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 13 - decorateRequest as plugin (outside .after) # time=37.974ms
    
    # Subtest: decorators should be instance separated
        1..1
        ok 1 - (unnamed test)
    ok 14 - decorators should be instance separated # time=2.178ms
    
    # Subtest: hasRequestDecorator
        # Subtest: is a function
            1..1
            ok 1 - expect truthy value
        ok 1 - is a function # time=1.294ms
        
        # Subtest: should check if the given request decoration already exist
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 2 - should check if the given request decoration already exist # time=1.815ms
        
        # Subtest: should check if the given request decoration already exist when null
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 3 - should check if the given request decoration already exist when null # time=1.711ms
        
        # Subtest: should be plugin encapsulable
            1..4
            ok 1 - expect falsey value
            ok 2 - expect falsey value
            ok 3 - expect truthy value
            ok 4 - expect falsey value
        ok 4 - should be plugin encapsulable # time=10.318ms
        
        # Subtest: should be inherited
            1..2
            ok 1 - expect truthy value
            ok 2 - expect truthy value
        ok 5 - should be inherited # time=8.922ms
        
        1..5
    ok 15 - hasRequestDecorator # time=44.976ms
    
    # Subtest: hasReplyDecorator
        # Subtest: is a function
            1..1
            ok 1 - expect truthy value
        ok 1 - is a function # time=1.399ms
        
        # Subtest: should check if the given reply decoration already exist
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 2 - should check if the given reply decoration already exist # time=1.744ms
        
        # Subtest: should check if the given reply decoration already exist when null
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 3 - should check if the given reply decoration already exist when null # time=1.673ms
        
        # Subtest: should be plugin encapsulable
            1..4
            ok 1 - expect falsey value
            ok 2 - expect falsey value
            ok 3 - expect truthy value
            ok 4 - expect falsey value
        ok 4 - should be plugin encapsulable # time=10.401ms
        
        # Subtest: should be inherited
            1..2
            ok 1 - expect truthy value
            ok 2 - expect truthy value
        ok 5 - should be inherited # time=11.341ms
        
        1..5
    ok 16 - hasReplyDecorator # time=133.382ms
    
    # Subtest: should register properties via getter/setter objects
        1..3
        ok 1 - expect truthy value
        ok 2 - a getter
        ok 3 - expect falsey value
    ok 17 - should register properties via getter/setter objects # time=6.938ms
    
    # Subtest: decorateRequest should work with getter/setter
        1..5
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - (unnamed test)
    ok 18 - decorateRequest should work with getter/setter # time=31.599ms
    
    # Subtest: decorateReply should work with getter/setter
        1..5
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - (unnamed test)
    ok 19 - decorateReply should work with getter/setter # time=9.617ms
    
    # Subtest: should register empty values
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 20 - should register empty values # time=3.157ms
    
    # Subtest: nested plugins can override things
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 21 - nested plugins can override things # time=4.026ms
    
    # Subtest: a decorator should addSchema to all the encapsulated tree
        1..1
        ok 1 - should not error
    ok 22 - a decorator should addSchema to all the encapsulated tree # time=4.178ms
    
    # Subtest: after can access to a decorated instance and previous plugin decoration
        1..11
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
    ok 23 - after can access to a decorated instance and previous plugin decoration # time=7.915ms
    
    # Subtest: decorate* should throw if called after ready
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 24 - decorate* should throw if called after ready # time=22.306ms
    
    # Subtest: decorate* should emit warning if an array is passed
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 25 - decorate* should emit warning if an array is passed # time=27.64ms
    
    # Subtest: decorate* should emit warning if object type is passed
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 26 - decorate* should emit warning if object type is passed # time=23.106ms
    
    # Subtest: decorate* should not emit warning if object with getter/setter is passed
        1..0
    ok 27 - decorate* should not emit warning if object with getter/setter is passed # time=22.722ms
    
    # Subtest: decorate* should not emit warning if string,bool,numbers are passed
        1..0
    ok 28 - decorate* should not emit warning if string,bool,numbers are passed # time=21.894ms
    
    # Subtest: Request/reply decorators should be able to access the server instance
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not be equal
        ok 4 - should be equal
        ok 5 - should not be equal
        ok 6 - should be equal
    ok 29 - Request/reply decorators should be able to access the server instance # time=7.833ms
    
    # Subtest: plugin required decorators
        1..0
    ok 30 - plugin required decorators # time=3.453ms
    
    # Subtest: decorateRequest/decorateReply empty string
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 31 - decorateRequest/decorateReply empty string # time=7.116ms
    
    # Subtest: decorateRequest/decorateReply is undefined
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 32 - decorateRequest/decorateReply is undefined # time=8.207ms
    
    # Subtest: decorateRequest/decorateReply is not set to a value
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 33 - decorateRequest/decorateReply is not set to a value # time=23.888ms
    
    # Subtest: decorateRequest with dependencies
        1..2
        ok 1 - expected to not throw
        ok 2 - expect truthy value
    ok 34 - decorateRequest with dependencies # time=2.193ms
    
    # Subtest: decorateRequest with dependencies (functions)
        1..2
        ok 1 - expected to not throw
        ok 2 - expect truthy value
    ok 35 - decorateRequest with dependencies (functions) # time=1.779ms
    
    # Subtest: chain of decorators on Request
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        1..6
    ok 36 - chain of decorators on Request # time=18.397ms
    
    # Subtest: chain of decorators on Reply
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        1..6
    ok 37 - chain of decorators on Reply # time=15.212ms
    
    1..37
    # time=801.279ms
ok 22 - test/decorator.test.js # time=801.279ms

# Subtest: test/default-route.test.js
    # Subtest: should fail if defaultRoute is not a function
        1..1
        ok 1 - should be equal
    ok 1 - should fail if defaultRoute is not a function # time=30.323ms
    
    # Subtest: correctly sets, returns, and calls defaultRoute
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 2 - correctly sets, returns, and calls defaultRoute # time=39.449ms
    
    1..2
    # time=81.041ms
ok 23 - test/default-route.test.js # time=81.041ms

# Subtest: test/delete.test.js
    # Subtest: shorthand - delete
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - delete # time=17.667ms
    
    # Subtest: shorthand - delete params
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - delete params # time=5.883ms
    
    # Subtest: shorthand - delete, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - delete, querystring schema # time=1.938ms
    
    # Subtest: shorthand - get, headers schema
        1..1
        ok 1 - (unnamed test)
    ok 4 - shorthand - get, headers schema # time=3.004ms
    
    # Subtest: missing schema - delete
        1..1
        ok 1 - (unnamed test)
    ok 5 - missing schema - delete # time=1.86ms
    
    # Subtest: body - delete
        1..1
        ok 1 - (unnamed test)
    ok 6 - body - delete # time=2.21ms
    
    # Subtest: shorthand - delete with application/json Content-Type header and without body
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - shorthand - delete with application/json Content-Type header and without body # time=59.149ms
    
    ok 8 - should not error
    # Subtest: shorthand - request delete
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 9 - shorthand - request delete # time=37.718ms
    
    # Subtest: shorthand - request delete params schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 10 - shorthand - request delete params schema # time=7.311ms
    
    # Subtest: shorthand - request delete params schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 11 - shorthand - request delete params schema error # time=6.946ms
    
    # Subtest: shorthand - request delete headers schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 12 - shorthand - request delete headers schema # time=6.312ms
    
    # Subtest: shorthand - request delete headers schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 13 - shorthand - request delete headers schema error # time=5.28ms
    
    # Subtest: shorthand - request delete querystring schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 14 - shorthand - request delete querystring schema # time=5.732ms
    
    # Subtest: shorthand - request delete querystring schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 15 - shorthand - request delete querystring schema error # time=4.869ms
    
    # Subtest: shorthand - request delete missing schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 16 - shorthand - request delete missing schema # time=5.324ms
    
    # Subtest: shorthand - delete with body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - shorthand - delete with body # time=8.135ms
    
    1..17
    # time=369.24ms
ok 24 - test/delete.test.js # time=369.24ms

# Subtest: test/diagnostics-channel.test.js
    # Subtest: diagnostics_channel when present and subscribers
        1..3
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should be equal
    ok 1 - diagnostics_channel when present and subscribers # time=991.028ms
    
    # Subtest: diagnostics_channel when present and no subscribers
        1..1
        ok 1 - should be equal
    ok 2 - diagnostics_channel when present and no subscribers # time=18.738ms
    
    # Subtest: diagnostics_channel when not present
        1..1
        ok 1 - expected to not throw
    ok 3 - diagnostics_channel when not present # time=17.529ms
    
    1..3
    # time=1042.698ms
ok 25 - test/diagnostics-channel.test.js # time=1042.698ms

# Subtest: test/encapsulated-error-handler.test.js
    # Subtest: encapuslates an error handler
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 1 - encapuslates an error handler # time=67.274ms
    
    # Subtest: onError hook nested
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 2 - onError hook nested # time=11.301ms
    
    1..2
    # time=84.952ms
ok 26 - test/encapsulated-error-handler.test.js # time=84.952ms

# Subtest: test/esm/index.test.js
    # Subtest: named exports support
        ok 1 - should be equal
        1..1
    ok 1 - named exports support # time=36.867ms
    
    ok 2 - should be equal
    1..2
    # time=41.756ms
ok 27 - test/esm/index.test.js # time=41.756ms

# Subtest: test/fastify-instance.test.js
    # Subtest: root fastify instance is an object
        1..1
        ok 1 - type is object
    ok 1 - root fastify instance is an object # time=16.199ms
    
    # Subtest: fastify instance should contains ajv options
        1..1
        ok 1 - should be equivalent
    ok 2 - fastify instance should contains ajv options # time=6.48ms
    
    # Subtest: fastify instance should contains ajv options.plugins nested arrays
        1..1
        ok 1 - should be equivalent
    ok 3 - fastify instance should contains ajv options.plugins nested arrays # time=3.036ms
    
    # Subtest: fastify instance get invalid ajv options
        1..1
        ok 1 - expected to throw
    ok 4 - fastify instance get invalid ajv options # time=1.759ms
    
    # Subtest: fastify instance get invalid ajv options.plugins
        1..1
        ok 1 - expected to throw
    ok 5 - fastify instance get invalid ajv options.plugins # time=1.164ms
    
    # Subtest: fastify instance should contain default errorHandler
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 6 - fastify instance should contain default errorHandler # time=2.71ms
    
    # Subtest: errorHandler in plugin should be separate from the external one
        1..4
        ok 1 - should not be equivalent
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equivalent
    ok 7 - errorHandler in plugin should be separate from the external one # time=15.626ms
    
    1..7
    # time=71.818ms
ok 28 - test/fastify-instance.test.js # time=71.818ms

# Subtest: test/fluent-schema.test.js
    # Subtest: use fluent-json-schema object
        1..15
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equivalent
    ok 1 - use fluent-json-schema object # time=209.705ms
    
    # Subtest: use complex fluent-json-schema object
        1..1
        ok 1 - should not error
    ok 2 - use complex fluent-json-schema object # time=45.884ms
    
    # Subtest: use fluent schema and plain JSON schema
        1..1
        ok 1 - should not error
    ok 3 - use fluent schema and plain JSON schema # time=84.027ms
    
    # Subtest: Should call valueOf internally
        1..1
        ok 1 - should not error
    ok 4 - Should call valueOf internally # time=61.031ms
    
    1..4
    # time=409.728ms
ok 29 - test/fluent-schema.test.js # time=409.728ms

# Subtest: test/genReqId.test.js
    # Subtest: Should accept a custom genReqId function
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 1 - Should accept a custom genReqId function # time=67.289ms
    
    1..1
    # time=73.686ms
ok 30 - test/genReqId.test.js # time=73.686ms

# Subtest: test/get.test.js
    # Subtest: shorthand - get
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - get # time=10.347ms
    
    # Subtest: shorthand - get (return null)
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - get (return null) # time=2.534ms
    
    # Subtest: shorthand - get params
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - get params # time=2.671ms
    
    # Subtest: shorthand - get, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 4 - shorthand - get, querystring schema # time=2.329ms
    
    # Subtest: shorthand - get, headers schema
        1..1
        ok 1 - (unnamed test)
    ok 5 - shorthand - get, headers schema # time=2.273ms
    
    # Subtest: missing schema - get
        1..1
        ok 1 - (unnamed test)
    ok 6 - missing schema - get # time=1.798ms
    
    # Subtest: custom serializer - get
        1..1
        ok 1 - (unnamed test)
    ok 7 - custom serializer - get # time=2.337ms
    
    # Subtest: empty response
        1..1
        ok 1 - (unnamed test)
    ok 8 - empty response # time=1.759ms
    
    # Subtest: send a falsy boolean
        1..1
        ok 1 - (unnamed test)
    ok 9 - send a falsy boolean # time=1.72ms
    
    ok 10 - should not error
    # Subtest: shorthand - request get
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - shorthand - request get # time=40.509ms
    
    # Subtest: shorthand - request get params schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 12 - shorthand - request get params schema # time=7.555ms
    
    # Subtest: shorthand - request get params schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 13 - shorthand - request get params schema error # time=6.961ms
    
    # Subtest: shorthand - request get headers schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - shorthand - request get headers schema # time=5.535ms
    
    # Subtest: shorthand - request get headers schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 15 - shorthand - request get headers schema error # time=32.354ms
    
    # Subtest: shorthand - request get querystring schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 16 - shorthand - request get querystring schema # time=5.804ms
    
    # Subtest: shorthand - request get querystring schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - shorthand - request get querystring schema error # time=4.927ms
    
    # Subtest: shorthand - request get missing schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - shorthand - request get missing schema # time=4.94ms
    
    # Subtest: shorthand - custom serializer
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 19 - shorthand - custom serializer # time=5.69ms
    
    # Subtest: shorthand - empty response
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 20 - shorthand - empty response # time=4.733ms
    
    # Subtest: shorthand - send a falsy boolean
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - shorthand - send a falsy boolean # time=4.325ms
    
    # Subtest: shorthand - send null value
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - shorthand - send null value # time=10.285ms
    
    1..22
    # time=354.509ms
ok 31 - test/get.test.js # time=354.509ms

# Subtest: test/handler-context.test.js
    # Subtest: handlers receive correct `this` context
        1..4
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 1 - handlers receive correct `this` context # time=51.199ms
    
    # Subtest: handlers have access to the internal context
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - type is Object
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 2 - handlers have access to the internal context # time=18.233ms
    
    1..2
    # time=76.972ms
ok 32 - test/handler-context.test.js # time=76.972ms

# Subtest: test/head.test.js
    # Subtest: shorthand - head
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - head # time=9.12ms
    
    # Subtest: shorthand - head params
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - head params # time=2.65ms
    
    # Subtest: shorthand - head, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - head, querystring schema # time=2.348ms
    
    # Subtest: missing schema - head
        1..1
        ok 1 - (unnamed test)
    ok 4 - missing schema - head # time=1.566ms
    
    ok 5 - should not error
    # Subtest: shorthand - request head
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 6 - shorthand - request head # time=40.631ms
    
    # Subtest: shorthand - request head params schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 7 - shorthand - request head params schema # time=15.939ms
    
    # Subtest: shorthand - request head params schema error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 8 - shorthand - request head params schema error # time=11.808ms
    
    # Subtest: shorthand - request head querystring schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 9 - shorthand - request head querystring schema # time=5.588ms
    
    # Subtest: shorthand - request head querystring schema error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - shorthand - request head querystring schema error # time=5.11ms
    
    # Subtest: shorthand - request head missing schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 11 - shorthand - request head missing schema # time=4.841ms
    
    1..11
    # time=324.052ms
ok 33 - test/head.test.js # time=324.052ms

# Subtest: test/hooks-async.test.js
    # Subtest: async hooks
        1..21
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - should not error
        ok 13 - should be equal
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equivalent
        ok 18 - should not error
        ok 19 - should be equal
        ok 20 - expect truthy value
        ok 21 - expect truthy value
    ok 1 - async hooks # time=122.413ms
    
    # Subtest: modify payload
        1..10
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - expect truthy value
        ok 4 - should be equivalent
        ok 5 - expect truthy value
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
    ok 2 - modify payload # time=39.569ms
    
    # Subtest: onRequest hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 3 - onRequest hooks should be able to block a request # time=27.418ms
    
    # Subtest: preParsing hooks should be able to modify the payload
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 4 - preParsing hooks should be able to modify the payload # time=10.332ms
    
    # Subtest: preParsing hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 5 - preParsing hooks should handle errors # time=7.075ms
    
    # Subtest: preHandler hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 6 - preHandler hooks should be able to block a request # time=7.184ms
    
    # Subtest: preValidation hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 7 - preValidation hooks should be able to block a request # time=36.098ms
    
    # Subtest: preValidation hooks should be able to change request body before validation
        1..4
        ok 1 - (unnamed test)
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - preValidation hooks should be able to change request body before validation # time=99.497ms
    
    # Subtest: preSerialization hooks should be able to modify the payload
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - preSerialization hooks should be able to modify the payload # time=7.924ms
    
    # Subtest: preSerialization hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - preSerialization hooks should handle errors # time=7.95ms
    
    # Subtest: preValidation hooks should handle throwing null
        1..4
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - preValidation hooks should handle throwing null # time=27.285ms
    
    # Subtest: preValidation hooks should handle throwing a string
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 12 - preValidation hooks should handle throwing a string # time=13.273ms
    
    # Subtest: onRequest hooks should be able to block a request (last hook)
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 13 - onRequest hooks should be able to block a request (last hook) # time=7.51ms
    
    # Subtest: preHandler hooks should be able to block a request (last hook)
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 14 - preHandler hooks should be able to block a request (last hook) # time=28.519ms
    
    # Subtest: onRequest respond with a stream
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - onRequest respond with a stream # time=15.079ms
    
    # Subtest: preHandler respond with a stream
        1..7
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 16 - preHandler respond with a stream # time=17.244ms
    
    # Subtest: Should log a warning if is an async function with `done`
        # Subtest: 3 arguments
            1..1
            ok 1 - expect truthy value
        ok 1 - 3 arguments # time=2.822ms
        
        # Subtest: 4 arguments
            1..3
            ok 1 - expect truthy value
            ok 2 - expect truthy value
            ok 3 - expect truthy value
        ok 2 - 4 arguments # time=2.796ms
        
        1..2
    ok 17 - Should log a warning if is an async function with `done` # time=17.469ms
    
    # Subtest: early termination, onRequest async
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 18 - early termination, onRequest async # time=6.215ms
    
    # Subtest: The this should be the same of the encapsulation level
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        1..4
    ok 19 - The this should be the same of the encapsulation level # time=13.343ms
    
    # Subtest: preSerializationEnd should handle errors if the serialize method throws
        # Subtest: works with sync preSerialization
            1..2
            ok 1 - should not error
            ok 2 - should not be equal
        ok 1 - works with sync preSerialization # time=14.894ms
        
        # Subtest: works with async preSerialization
            1..2
            ok 1 - should not error
            ok 2 - should not be equal
        ok 2 - works with async preSerialization # time=6.702ms
        
        1..2
    ok 20 - preSerializationEnd should handle errors if the serialize method throws # time=26.781ms
    
    1..20
    # time=570.311ms
ok 34 - test/hooks-async.test.js # time=570.311ms

# Subtest: test/hooks.on-ready.test.js
    # Subtest: onReady should be called in order
        1..7
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
        ok 7 - should not error
    ok 1 - onReady should be called in order # time=67.438ms
    
    # Subtest: async onReady should be called in order
        1..7
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
        ok 7 - ready
    ok 2 - async onReady should be called in order # time=10.453ms
    
    # Subtest: mix ready and onReady
        1..2
        ok 1 - should be equal
        ok 2 - ready hooks execute once
    ok 3 - mix ready and onReady # time=21.099ms
    
    # Subtest: listen and onReady order
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - trigger the onReady
        ok 9 - do not trigger the onReady
    ok 4 - listen and onReady order # time=20.13ms
    
    # Subtest: multiple ready calls
        1..11
        ok 1 - ready and hooks not triggered yet
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - trigger the onReady
        ok 10 - do not trigger the onReady
        ok 11 - do not trigger the onReady
    ok 5 - multiple ready calls # time=9.54ms
    
    # Subtest: onReady should manage error in sync
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 6 - onReady should manage error in sync # time=6.352ms
    
    # Subtest: onReady should manage error in async
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 7 - onReady should manage error in async # time=26.353ms
    
    # Subtest: onReady should manage sync error
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 8 - onReady should manage sync error # time=5.397ms
    
    # Subtest: onReady can not add decorators or application hooks
        1..3
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should not error
    ok 9 - onReady can not add decorators or application hooks # time=5.071ms
    
    # Subtest: onReady cannot add lifecycle hooks
        1..5
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 10 - onReady cannot add lifecycle hooks # time=9.569ms
    
    # Subtest: onReady throw loading error
        1..1
        ok 1 - expect truthy value
    ok 11 - onReady throw loading error # time=1.892ms
    
    # Subtest: onReady does not call done
        1..6
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
        ok 6 - should be equal
    ok 12 - onReady does not call done # time=519.175ms
    
    # Subtest: onReady execution order
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 13 - onReady execution order # time=3.334ms
    
    # Subtest: ready return the server with callback
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 14 - ready return the server with callback # time=33.222ms
    
    # Subtest: ready return the server with Promise
        1..1
        ok 1 - should be equivalent
    ok 15 - ready return the server with Promise # time=5.879ms
    
    # Subtest: ready return registered
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
    ok 16 - ready return registered # time=9.316ms
    
    1..16
    # time=767.235ms
ok 35 - test/hooks.on-ready.test.js # time=767.235ms

# Subtest: test/hooks.test.js
    # Subtest: hooks
        1..43
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - (unnamed test)
        ok 4 - (unnamed test)
        ok 5 - (unnamed test)
        ok 6 - (unnamed test)
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - expect truthy value
        ok 20 - expect truthy value
        ok 21 - expect truthy value
        ok 22 - expect truthy value
        ok 23 - should be equal
        ok 24 - should be equal
        ok 25 - should be equal
        ok 26 - should be equal
        ok 27 - should be equal
        ok 28 - should be equal
        ok 29 - should be equal
        ok 30 - should be equal
        ok 31 - should be equal
        ok 32 - expect truthy value
        ok 33 - expect truthy value
        ok 34 - expect truthy value
        ok 35 - expect truthy value
        ok 36 - should not error
        ok 37 - should be equal
        ok 38 - should be equal
        ok 39 - should be equivalent
        ok 40 - should not error
        ok 41 - should be equal
        ok 42 - should not error
        ok 43 - should be equal
    ok 1 - hooks # time=273.613ms
    
    # Subtest: onRequest hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 2 - onRequest hook should support encapsulation / 1 # time=38.891ms
    
    # Subtest: onRequest hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 3 - onRequest hook should support encapsulation / 2 # time=21.722ms
    
    # Subtest: onRequest hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 4 - onRequest hook should support encapsulation / 3 # time=20.308ms
    
    # Subtest: preHandler hook should support encapsulation / 5
        1..17
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equivalent
    ok 5 - preHandler hook should support encapsulation / 5 # time=26.595ms
    
    # Subtest: onRoute hook should be called / 1
        1..2
        ok 1 - (unnamed test)
        ok 2 - should not error
    ok 6 - onRoute hook should be called / 1 # time=18.111ms
    
    # Subtest: onRoute hook should be called / 2
        1..5
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 7 - onRoute hook should be called / 2 # time=11.493ms
    
    # Subtest: onRoute hook should be called / 3
        1..5
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - (unnamed test)
        ok 5 - should not error
    ok 8 - onRoute hook should be called / 3 # time=18.382ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 4
        1..4
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - (unnamed test)
        ok 4 - should not error
    ok 9 - onRoute hook should be called (encapsulation support) / 4 # time=14.543ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 5
        1..2
        ok 1 - (unnamed test)
        ok 2 - should not error
    ok 10 - onRoute hook should be called (encapsulation support) / 5 # time=17.63ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 6
        1..1
        ok 1 - should not error
    ok 11 - onRoute hook should be called (encapsulation support) / 6 # time=5.265ms
    
    # Subtest: onRoute should keep the context
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
    ok 12 - onRoute should keep the context # time=6.26ms
    
    # Subtest: onRoute hook should pass correct route
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should not error
    ok 13 - onRoute hook should pass correct route # time=11.191ms
    
    # Subtest: onRoute hook should pass correct route with custom prefix
        1..11
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
    ok 14 - onRoute hook should pass correct route with custom prefix # time=8.357ms
    
    # Subtest: onRoute hook should pass correct route with custom options
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - type is function
        ok 6 - should not error
    ok 15 - onRoute hook should pass correct route with custom options # time=20.969ms
    
    # Subtest: onRoute hook should receive any route option
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 16 - onRoute hook should receive any route option # time=35.312ms
    
    # Subtest: onRoute hook should preserve system route configuration
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 17 - onRoute hook should preserve system route configuration # time=5.141ms
    
    # Subtest: onRoute hook should preserve handler function in options of shorthand route system configuration
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 18 - onRoute hook should preserve handler function in options of shorthand route system configuration # time=4.301ms
    
    # Subtest: onRoute hook should be called once when prefixTrailingSlash
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 19 - onRoute hook should be called once when prefixTrailingSlash # time=5.666ms
    
    # Subtest: onRoute hook should able to change the route url
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 20 - onRoute hook should able to change the route url # time=10.204ms
    
    # Subtest: onRoute hook that throws should be caught
        1..1
        ok 1 - expect truthy value
    ok 21 - onRoute hook that throws should be caught # time=3.477ms
    
    # Subtest: onRoute hook with many prefix
        1..3
        ok 1 - should match pattern provided
        ok 2 - should match pattern provided
        ok 3 - should not error
    ok 22 - onRoute hook with many prefix # time=7.54ms
    
    # Subtest: onRoute hook should not be called when it registered after route
        1..3
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
    ok 23 - onRoute hook should not be called when it registered after route # time=4.125ms
    
    # Subtest: onResponse hook should log request error
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 24 - onResponse hook should log request error # time=93.263ms
    
    # Subtest: onResponse hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 25 - onResponse hook should support encapsulation / 1 # time=7.587ms
    
    # Subtest: onResponse hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 26 - onResponse hook should support encapsulation / 2 # time=4.196ms
    
    # Subtest: onResponse hook should support encapsulation / 3
        1..16
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 27 - onResponse hook should support encapsulation / 3 # time=25.358ms
    
    # Subtest: onSend hook should support encapsulation / 1
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 28 - onSend hook should support encapsulation / 1 # time=4.307ms
    
    # Subtest: onSend hook should support encapsulation / 2
        1..16
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 29 - onSend hook should support encapsulation / 2 # time=15.691ms
    
    # Subtest: onSend hook is called after payload is serialized and headers are set
        1..30
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should be equal
        ok 15 - should not error
        ok 16 - should be equal
        ok 17 - should be equivalent
        ok 18 - should be equal
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equivalent
        ok 22 - should be equal
        ok 23 - should not error
        ok 24 - should be equal
        ok 25 - should be equivalent
        ok 26 - should be equal
        ok 27 - should not error
        ok 28 - should be equal
        ok 29 - should be equivalent
        ok 30 - should be equal
    ok 30 - onSend hook is called after payload is serialized and headers are set # time=27.759ms
    
    # Subtest: modify payload
        1..10
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - expect truthy value
        ok 4 - should be equivalent
        ok 5 - expect truthy value
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
    ok 31 - modify payload # time=8.282ms
    
    # Subtest: clear payload
        1..6
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 32 - clear payload # time=5.294ms
    
    # Subtest: onSend hook throws
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 33 - onSend hook throws # time=30.652ms
    
    # Subtest: onSend hook should receive valid request and reply objects if onRequest hook fails
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 34 - onSend hook should receive valid request and reply objects if onRequest hook fails # time=7.595ms
    
    # Subtest: onSend hook should receive valid request and reply objects if a custom content type parser fails
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 35 - onSend hook should receive valid request and reply objects if a custom content type parser fails # time=32.747ms
    
    # Subtest: Content-Length header should be updated if onSend hook modifies the payload
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 36 - Content-Length header should be updated if onSend hook modifies the payload # time=12.912ms
    
    # Subtest: cannot add hook after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 37 - cannot add hook after binding # time=6.335ms
    
    # Subtest: onRequest hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 38 - onRequest hooks should be able to block a request # time=4.888ms
    
    # Subtest: preValidation hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 39 - preValidation hooks should be able to block a request # time=5.977ms
    
    # Subtest: preValidation hooks should be able to change request body before validation
        1..4
        ok 1 - (unnamed test)
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 40 - preValidation hooks should be able to change request body before validation # time=89.187ms
    
    # Subtest: preParsing hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 41 - preParsing hooks should be able to block a request # time=7.895ms
    
    # Subtest: preHandler hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 42 - preHandler hooks should be able to block a request # time=4.73ms
    
    # Subtest: onRequest hooks should be able to block a request (last hook)
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 43 - onRequest hooks should be able to block a request (last hook) # time=4.348ms
    
    # Subtest: preHandler hooks should be able to block a request (last hook)
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 44 - preHandler hooks should be able to block a request (last hook) # time=9.295ms
    
    # Subtest: preParsing hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 45 - preParsing hooks should handle errors # time=9.155ms
    
    # Subtest: onRequest respond with a stream
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 46 - onRequest respond with a stream # time=18.343ms
    
    # Subtest: preHandler respond with a stream
        1..7
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 47 - preHandler respond with a stream # time=16.08ms
    
    # Subtest: Register an hook after a plugin inside a plugin
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 48 - Register an hook after a plugin inside a plugin # time=7.428ms
    
    # Subtest: Register an hook after a plugin inside a plugin (with preHandler option)
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 49 - Register an hook after a plugin inside a plugin (with preHandler option) # time=5.955ms
    
    # Subtest: Register hooks inside a plugin after an encapsulated plugin
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 50 - Register hooks inside a plugin after an encapsulated plugin # time=6.577ms
    
    # Subtest: onRequest hooks should run in the order in which they are defined
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 51 - onRequest hooks should run in the order in which they are defined # time=9.008ms
    
    # Subtest: preHandler hooks should run in the order in which they are defined
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 52 - preHandler hooks should run in the order in which they are defined # time=29.761ms
    
    # Subtest: onSend hooks should run in the order in which they are defined
        1..8
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equivalent
    ok 53 - onSend hooks should run in the order in which they are defined # time=9.744ms
    
    # Subtest: onResponse hooks should run in the order in which they are defined
        1..8
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equivalent
    ok 54 - onResponse hooks should run in the order in which they are defined # time=7.829ms
    
    # Subtest: onRequest, preHandler, and onResponse hooks that resolve to a value do not cause an error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 55 - onRequest, preHandler, and onResponse hooks that resolve to a value do not cause an error # time=4.689ms
    
    # Subtest: If a response header has been set inside an hook it shoulod not be overwritten by the final response handler
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 56 - If a response header has been set inside an hook it shoulod not be overwritten by the final response handler # time=3.797ms
    
    # Subtest: If the content type has been set inside an hook it should not be changed
        1..5
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 57 - If the content type has been set inside an hook it should not be changed # time=3.837ms
    
    # Subtest: request in onRequest, preParsing, preValidation and onResponse
        1..18
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equivalent
        ok 10 - should be equivalent
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equivalent
        ok 14 - should be equivalent
        ok 15 - should be equivalent
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
    ok 58 - request in onRequest, preParsing, preValidation and onResponse # time=12.569ms
    
    # Subtest: preValidation hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 59 - preValidation hook should support encapsulation / 1 # time=10.141ms
    
    # Subtest: preValidation hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 60 - preValidation hook should support encapsulation / 2 # time=3.674ms
    
    # Subtest: preValidation hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 61 - preValidation hook should support encapsulation / 3 # time=15.348ms
    
    # Subtest: onError hook
        1..3
        ok 1 - should match pattern provided
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 62 - onError hook # time=6.265ms
    
    # Subtest: reply.send should throw if called inside the onError hook
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 63 - reply.send should throw if called inside the onError hook # time=11.998ms
    
    # Subtest: onError hook with setErrorHandler
        # Subtest: Send error
            1..3
            ok 1 - should match pattern provided
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 1 - Send error # time=5.74ms
        
        1..1
    ok 64 - onError hook with setErrorHandler # time=10.669ms
    
    # Subtest: preParsing hook should run before parsing and be able to modify the payload
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 65 - preParsing hook should run before parsing and be able to modify the payload # time=9.471ms
    
    # Subtest: preParsing hooks should run in the order in which they are defined
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 66 - preParsing hooks should run in the order in which they are defined # time=7.37ms
    
    # Subtest: preParsing hooks should support encapsulation
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 67 - preParsing hooks should support encapsulation # time=11.543ms
    
    # Subtest: preParsing hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 68 - preParsing hook should support encapsulation / 1 # time=5.926ms
    
    # Subtest: preParsing hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 69 - preParsing hook should support encapsulation / 2 # time=5.575ms
    
    # Subtest: preParsing hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 70 - preParsing hook should support encapsulation / 3 # time=59.77ms
    
    # Subtest: preSerialization hook should run before serialization and be able to modify the payload
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 71 - preSerialization hook should run before serialization and be able to modify the payload # time=15.997ms
    
    # Subtest: preSerialization hook should be able to throw errors which are validated against schema response
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        1..6
    ok 72 - preSerialization hook should be able to throw errors which are validated against schema response # time=10.163ms
    
    # Subtest: preSerialization hook which returned error should still run onError hooks
        1..4
        ok 1 - should not error
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - should be equal
    ok 73 - preSerialization hook which returned error should still run onError hooks # time=6.6ms
    
    # Subtest: preSerialization hooks should run in the order in which they are defined
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 74 - preSerialization hooks should run in the order in which they are defined # time=14.118ms
    
    # Subtest: preSerialization hooks should support encapsulation
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 75 - preSerialization hooks should support encapsulation # time=10.903ms
    
    # Subtest: onRegister hook should be called / 1
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should not error
    ok 76 - onRegister hook should be called / 1 # time=4.007ms
    
    # Subtest: onRegister hook should be called / 2
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
    ok 77 - onRegister hook should be called / 2 # time=5.067ms
    
    # Subtest: onRegister hook should be called / 3
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
    ok 78 - onRegister hook should be called / 3 # time=5.485ms
    
    # Subtest: onRegister hook should be called (encapsulation)
        1..1
        ok 1 - should not error
    ok 79 - onRegister hook should be called (encapsulation) # time=2.541ms
    
    # Subtest: early termination, onRequest
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 80 - early termination, onRequest # time=5.765ms
    
    # Subtest: reply.send should throw if undefined error is thrown
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 81 - reply.send should throw if undefined error is thrown # time=18.555ms
    
    # Subtest: reply.send should throw if undefined error is thrown at preParsing hook
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 82 - reply.send should throw if undefined error is thrown at preParsing hook # time=6.787ms
    
    # Subtest: reply.send should throw if undefined error is thrown at onSend hook
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 83 - reply.send should throw if undefined error is thrown at onSend hook # time=4.196ms
    
    # Subtest: onTimeout should be triggered
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - onTimeout
        ok 5 - type is Error
        ok 6 - should be equal
    ok 84 - onTimeout should be triggered # time=508.641ms
    
    # Subtest: onTimeout should be triggered and socket _meta is set
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - onTimeout
        ok 5 - type is Error
        ok 6 - should be equal
    ok 85 - onTimeout should be triggered and socket _meta is set # time=506.847ms
    
    1..85
    # time=2484.138ms
ok 36 - test/hooks.test.js # time=2484.138ms

# Subtest: test/http2/closing.test.js
    # Subtest: http/2 request while fastify closing
        ok 1 - http2 successfully loaded
        ok 2 - should not error
        # Subtest: return 200
            ok 1 - should be equal
            1..1
        ok 3 - return 200 # time=11.735ms
        
        1..3
    ok 1 - http/2 request while fastify closing # time=56.845ms
    
    # Subtest: http/2 request while fastify closing - return503OnClosing: false
        ok 1 - http2 successfully loaded
        ok 2 - should not error
        # Subtest: return 200
            ok 1 - should be equal
            1..1
        ok 3 - return 200 # time=4.733ms
        
        1..3
    ok 2 - http/2 request while fastify closing - return503OnClosing: false # time=13.287ms
    
    # Subtest: http/2 closes successfully with async await
        1..0
    ok 3 - http/2 closes successfully with async await # time=109.545ms
    
    # Subtest: https/2 closes successfully with async await
        1..0
    ok 4 - https/2 closes successfully with async await # time=12.711ms
    
    # Subtest: http/2 server side session emits a timeout event
        ok 1 - should be equal
        1..1
    ok 5 - http/2 server side session emits a timeout event # time=107.367ms
    
    1..5
    # time=328.709ms
ok 37 - test/http2/closing.test.js # time=328.709ms

# Subtest: test/http2/constraint.test.js
    # Subtest: A route supports host constraints under http2 protocol and secure connection
        1..5
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request - no constrain
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - https get request - no constrain # time=41.325ms
        
        # Subtest: https get request - constrain
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - https get request - constrain # time=13.44ms
        
        # Subtest: https get request - constrain - not found
            1..1
            ok 1 - should be equal
        ok 5 - https get request - constrain - not found # time=10.187ms
        
    ok 1 - A route supports host constraints under http2 protocol and secure connection # time=149.275ms
    
    1..1
    # time=178.615ms
ok 38 - test/http2/constraint.test.js # time=178.615ms

# Subtest: test/http2/head.test.js
    ok 1 - http2 successfully loaded
    ok 2 - should not error
    # Subtest: http HEAD request
        1..1
        ok 1 - should be equal
    ok 3 - http HEAD request # time=61.702ms
    
    1..3
    # time=140.71ms
ok 39 - test/http2/head.test.js # time=140.71ms

# Subtest: test/http2/missing-http2-module.test.js
    # Subtest: should throw when http2 module cannot be found
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - should throw when http2 module cannot be found # time=11.595ms
    
    1..1
    # time=17.314ms
ok 40 - test/http2/missing-http2-module.test.js # time=17.314ms

# Subtest: test/http2/plain.test.js
    ok 1 - http2 successfully loaded
    ok 2 - should not error
    # Subtest: http get request
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 3 - http get request # time=34.908ms
    
    # Subtest: http hostname
        1..1
        ok 1 - should be equal
    ok 4 - http hostname # time=7.652ms
    
    1..4
    # time=126.187ms
ok 41 - test/http2/plain.test.js # time=126.187ms

# Subtest: test/http2/secure-with-fallback.test.js
    # Subtest: secure with fallback
        1..7
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get error
            1..1
            ok 1 - should be equal
        ok 3 - https get error # time=39.073ms
        
        # Subtest: https post
            1..2
            ok 1 - should be equal
            ok 2 - should be equivalent
        ok 4 - https post # time=19.342ms
        
        # Subtest: https get request
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - https get request # time=11.899ms
        
        # Subtest: http1 get request
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 6 - http1 get request # time=21.165ms
        
        # Subtest: http1 get error
            1..2
            ok 1 - should not error
            ok 2 - should be equal
        ok 7 - http1 get error # time=8.779ms
        
    ok 1 - secure with fallback # time=191.766ms
    
    1..1
    # time=221.881ms
ok 42 - test/http2/secure-with-fallback.test.js # time=221.881ms

# Subtest: test/http2/secure.test.js
    # Subtest: secure
        1..4
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - https get request # time=41.902ms
        
        # Subtest: https get request without trust proxy - protocol
            1..2
            ok 1 - should be equivalent
            ok 2 - should be equivalent
        ok 4 - https get request without trust proxy - protocol # time=23.041ms
        
    ok 1 - secure # time=147.473ms
    
    1..1
    # time=177.89ms
ok 43 - test/http2/secure.test.js # time=177.89ms

# Subtest: test/http2/unknown-http-method.test.js
    ok 1 - should not error
    # Subtest: http UNKNOWN_METHOD request
        1..2
        ok 1 - should be equal
        ok 2 - should be equivalent
    ok 2 - http UNKNOWN_METHOD request # time=34.412ms
    
    1..2
    # time=96.635ms
ok 44 - test/http2/unknown-http-method.test.js # time=96.635ms

# Subtest: test/https/custom-https-server.test.js
    # Subtest: Should support a custom https server
        1..4
        ok 1 - it is called twice for every HOST interface
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - Should support a custom https server # time=83.093ms
    
    1..1
    # time=115.372ms
ok 45 - test/https/custom-https-server.test.js # time=115.372ms

# Subtest: test/https/https.test.js
    # Subtest: https
        1..4
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 3 - https get request # time=39.826ms
        
        # Subtest: https get request without trust proxy - protocol
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 4 - https get request without trust proxy - protocol # time=17.62ms
        
    ok 1 - https # time=143.47ms
    
    1..1
    # time=173.467ms
ok 46 - test/https/https.test.js # time=173.467ms

# Subtest: test/imports.test.js
    # Subtest: should import as default
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 1 - should import as default # time=711.099ms
    
    # Subtest: should import as esm
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 2 - should import as esm # time=1.517ms
    
    1..2
    # time=727.442ms
ok 47 - test/imports.test.js # time=727.442ms

# Subtest: test/inject.test.js
    # Subtest: inject should exist
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 1 - inject should exist # time=16.189ms
    
    # Subtest: should wait for the ready event
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 2 - should wait for the ready event # time=596.009ms
    
    # Subtest: inject get request
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 3 - inject get request # time=8.337ms
    
    # Subtest: inject get request - code check
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 4 - inject get request - code check # time=20.57ms
    
    # Subtest: inject get request - headers check
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 5 - inject get request - headers check # time=7.454ms
    
    # Subtest: inject get request - querystring
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 6 - inject get request - querystring # time=7.324ms
    
    # Subtest: inject get request - params
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 7 - inject get request - params # time=6.717ms
    
    # Subtest: inject get request - wildcard
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - inject get request - wildcard # time=7.575ms
    
    # Subtest: inject get request - headers
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 9 - inject get request - headers # time=11.498ms
    
    # Subtest: inject post request
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 10 - inject post request # time=12.922ms
    
    # Subtest: inject post request - send stream
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 11 - inject post request - send stream # time=12.234ms
    
    # Subtest: inject get request - reply stream
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 12 - inject get request - reply stream # time=17.461ms
    
    # Subtest: inject promisify - waiting for ready event
        1..1
        ok 1 - should be equal
    ok 13 - inject promisify - waiting for ready event # time=7.27ms
    
    # Subtest: inject promisify - after the ready event
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 14 - inject promisify - after the ready event # time=10.663ms
    
    # Subtest: inject promisify - when the server is up
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 15 - inject promisify - when the server is up # time=17.782ms
    
    # Subtest: should reject in error case
        1..1
        ok 1 - should be equal
    ok 16 - should reject in error case # time=506.025ms
    
    # Subtest: inject a multipart request using form-body
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 17 - inject a multipart request using form-body # time=37.748ms
    
    # Subtest: should error the promise if ready errors
        1..3
        ok 1 - after is called
        ok 2 - expect truthy value
        ok 3 - should be equal
    ok 18 - should error the promise if ready errors # time=17.661ms
    
    # Subtest: should throw error if callback specified and if ready errors
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 19 - should throw error if callback specified and if ready errors # time=28.893ms
    
    # Subtest: should support builder-style injection with ready app
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
    ok 20 - should support builder-style injection with ready app # time=5.91ms
    
    # Subtest: should support builder-style injection with non-ready app
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
    ok 21 - should support builder-style injection with non-ready app # time=5.512ms
    
    # Subtest: should handle errors in builder-style injection correctly
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 22 - should handle errors in builder-style injection correctly # time=4.241ms
    
    1..22
    # time=1394.203ms
ok 48 - test/inject.test.js # time=1394.203ms

# Subtest: test/internals/all.test.js
    # Subtest: fastify.all should add all the methods to the same url
        1..14
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equivalent
    ok 1 - fastify.all should add all the methods to the same url # time=52.101ms
    
    1..1
    # time=55.898ms
ok 49 - test/internals/all.test.js # time=55.898ms

# Subtest: test/internals/contentTypeParser.test.js
    # Subtest: rawBody function
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - rawBody function # time=24.705ms
    
    # Subtest: Should support Webpack and faux modules
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - Should support Webpack and faux modules # time=12.555ms
    
    1..2
    # time=47.682ms
ok 50 - test/internals/contentTypeParser.test.js # time=47.682ms

# Subtest: test/internals/decorator.test.js
    # Subtest: decorate should add the given method to its instance
        1..1
        ok 1 - expect truthy value
    ok 1 - decorate should add the given method to its instance # time=6.577ms
    
    # Subtest: decorate is chainable
        1..3
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
    ok 2 - decorate is chainable # time=3.664ms
    
    # Subtest: checkExistence should check if a property is part of the given instance
        1..1
        ok 1 - expect truthy value
    ok 3 - checkExistence should check if a property is part of the given instance # time=1.38ms
    
    # Subtest: checkExistence should find the instance if not given
        1..1
        ok 1 - expect truthy value
    ok 4 - checkExistence should find the instance if not given # time=1.218ms
    
    # Subtest: checkExistence should check the prototype as well
        1..1
        ok 1 - expect truthy value
    ok 5 - checkExistence should check the prototype as well # time=1.077ms
    
    # Subtest: checkDependencies should throw if a dependency is not present
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 6 - checkDependencies should throw if a dependency is not present # time=1.65ms
    
    # Subtest: decorate should internally call checkDependencies
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 7 - decorate should internally call checkDependencies # time=0.967ms
    
    # Subtest: decorate should recognize getter/setter objects
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - (unnamed test)
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 8 - decorate should recognize getter/setter objects # time=2.387ms
    
    1..8
    # time=76.214ms
ok 51 - test/internals/decorator.test.js # time=76.214ms

# Subtest: test/internals/handleRequest.test.js
    # Subtest: handleRequest function - sent reply
        1..1
        ok 1 - should be equal
    ok 1 - handleRequest function - sent reply # time=5.694ms
    
    # Subtest: handleRequest function - invoke with error
        1..1
        ok 1 - should be equal
    ok 2 - handleRequest function - invoke with error # time=1.32ms
    
    # Subtest: handler function - invalid schema
        1..1
        ok 1 - errorHandler called
    ok 3 - handler function - invalid schema # time=70.767ms
    
    # Subtest: handler function - reply
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - (unnamed test)
    ok 4 - handler function - reply # time=3.433ms
    
    # Subtest: handler function - preValidationCallback with finished response
        1..0
    ok 5 - handler function - preValidationCallback with finished response # time=1.021ms
    
    # Subtest: request should be defined in onSend Hook on post request with content type application/json
        1..8
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - should not error
        ok 8 - should be equal
    ok 6 - request should be defined in onSend Hook on post request with content type application/json # time=427.206ms
    
    # Subtest: request should be defined in onSend Hook on post request with content type application/x-www-form-urlencoded
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - should be equal
    ok 7 - request should be defined in onSend Hook on post request with content type application/x-www-form-urlencoded # time=12.658ms
    
    # Subtest: request should be defined in onSend Hook on options request with content type application/x-www-form-urlencoded
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - should be equal
    ok 8 - request should be defined in onSend Hook on options request with content type application/x-www-form-urlencoded # time=27.857ms
    
    # Subtest: request should respond with an error if an unserialized payload is sent inside an async handler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
    ok 9 - request should respond with an error if an unserialized payload is sent inside an async handler # time=36.544ms
    
    1..9
    # time=613.266ms
ok 52 - test/internals/handleRequest.test.js # time=613.266ms

# Subtest: test/internals/hookRunner.test.js
    # Subtest: hookRunner - Basic
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 1 - hookRunner - Basic # time=9.2ms
    
    # Subtest: hookRunner - In case of error should skip to done
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 2 - hookRunner - In case of error should skip to done # time=2.702ms
    
    # Subtest: hookRunner - Should handle throw
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 3 - hookRunner - Should handle throw # time=2.567ms
    
    # Subtest: hookRunner - Should handle promises
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 4 - hookRunner - Should handle promises # time=26.699ms
    
    # Subtest: hookRunner - In case of error should skip to done (with promises)
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 5 - hookRunner - In case of error should skip to done (with promises) # time=2.079ms
    
    # Subtest: hookRunner - Be able to exit before its natural end
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 6 - hookRunner - Be able to exit before its natural end # time=1.236ms
    
    # Subtest: hookRunner - Promises that resolve to a value do not change the state
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 7 - hookRunner - Promises that resolve to a value do not change the state # time=1.48ms
    
    # Subtest: onSendHookRunner - Basic
        1..13
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equal
        ok 10 - should not error
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equal
    ok 8 - onSendHookRunner - Basic # time=7.606ms
    
    # Subtest: onSendHookRunner - Can change the payload
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 9 - onSendHookRunner - Can change the payload # time=3.512ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 10 - onSendHookRunner - In case of error should skip to done # time=2.52ms
    
    # Subtest: onSendHookRunner - Should handle promises
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 11 - onSendHookRunner - Should handle promises # time=2.902ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done (with promises)
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 12 - onSendHookRunner - In case of error should skip to done (with promises) # time=2.522ms
    
    # Subtest: onSendHookRunner - Be able to exit before its natural end
        1..2
        ok 1 - should be equivalent
        ok 2 - should be equivalent
    ok 13 - onSendHookRunner - Be able to exit before its natural end # time=0.903ms
    
    1..13
    # time=109.749ms
ok 53 - test/internals/hookRunner.test.js # time=109.749ms

# Subtest: test/internals/hooks.test.js
    # Subtest: hooks should have 4 array with the registered hooks
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        1..8
    ok 1 - hooks should have 4 array with the registered hooks # time=8.55ms
    
    # Subtest: hooks.add should add a hook to the given hook
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        1..14
    ok 2 - hooks.add should add a hook to the given hook # time=3.699ms
    
    # Subtest: hooks should throw on unexisting handler
        1..1
        ok 1 - (unnamed test)
    ok 3 - hooks should throw on unexisting handler # time=0.993ms
    
    # Subtest: should throw on wrong parameters
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 4 - should throw on wrong parameters # time=1.527ms
    
    1..4
    # time=53.028ms
ok 54 - test/internals/hooks.test.js # time=53.028ms

# Subtest: test/internals/initialConfig.test.js
    # Subtest: Fastify.initialConfig is an object
        1..1
        ok 1 - type is object
    ok 1 - Fastify.initialConfig is an object # time=15.239ms
    
    # Subtest: without options passed to Fastify, initialConfig should expose default values
        1..1
        ok 1 - should be equivalent
    ok 2 - without options passed to Fastify, initialConfig should expose default values # time=8.143ms
    
    # Subtest: Fastify.initialConfig should expose all options
        1..20
        ok 1 - should be equal
        ok 2 - for security reason the key cert is hidden
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - expect truthy value
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equal
    ok 3 - Fastify.initialConfig should expose all options # time=10.408ms
    
    # Subtest: Should throw if you try to modify Fastify.initialConfig
        1..4
        ok 1 - type is TypeError
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - (unnamed test)
    ok 4 - Should throw if you try to modify Fastify.initialConfig # time=3.233ms
    
    # Subtest: We must avoid shallow freezing and ensure that the whole object is freezed
        1..4
        ok 1 - type is TypeError
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - key cert removed
    ok 5 - We must avoid shallow freezing and ensure that the whole object is freezed # time=15.903ms
    
    # Subtest: https value check
        1..1
        ok 1 - expect falsey value
    ok 6 - https value check # time=1.396ms
    
    # Subtest: Return an error if options do not match the validation schema
        1..6
        ok 1 - type is Error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
        ok 6 - (unnamed test)
    ok 7 - Return an error if options do not match the validation schema # time=60.177ms
    
    # Subtest: Original options must not be frozen
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - Original options must not be frozen # time=2.794ms
    
    # Subtest: Original options must not be altered (test deep cloning)
        1..3
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 9 - Original options must not be altered (test deep cloning) # time=4.775ms
    
    # Subtest: Should not have issues when passing stream options to Pino.js
        1..15
        ok 1 - type is object
        ok 2 - should be equivalent
        ok 3 - listen at log message is ok
        ok 4 - should not error
        ok 5 - reqId is defined
        ok 6 - req is defined
        ok 7 - message is set
        ok 8 - method is get
        ok 9 - expect truthy value
        ok 10 - should be equal
        ok 11 - reqId is defined
        ok 12 - res is defined
        ok 13 - message is set
        ok 14 - statusCode is 200
        ok 15 - responseTime is defined
    ok 10 - Should not have issues when passing stream options to Pino.js # time=46.71ms
    
    # Subtest: deepFreezeObject() should not throw on TypedArray
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - (unnamed test)
    ok 11 - deepFreezeObject() should not throw on TypedArray # time=1.602ms
    
    # Subtest: Fastify.initialConfig should accept the deprecated versioning option
        1..1
        ok 1 - should be equal
    ok 12 - Fastify.initialConfig should accept the deprecated versioning option # time=4.619ms
    
    # Subtest: pluginTimeout should be parsed correctly
        ok 1 - should be equal
        ok 2 - should be equal
        1..2
    ok 13 - pluginTimeout should be parsed correctly # time=2.681ms
    
    1..13
    # time=252.783ms
ok 55 - test/internals/initialConfig.test.js # time=252.783ms

# Subtest: test/internals/logger.test.js
    # Subtest: time resolution
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - time resolution # time=7.585ms
    
    # Subtest: The logger should add a unique id for every request
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - the id should not be duplicated
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - the id should not be duplicated
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - the id should not be duplicated
        ok 11 - expect truthy value
        ok 12 - should not error
        ok 13 - the id should not be duplicated
        ok 14 - expect truthy value
        ok 15 - should not error
        ok 16 - the id should not be duplicated
        ok 17 - expect truthy value
        ok 18 - should not error
        ok 19 - the id should not be duplicated
        ok 20 - expect truthy value
        ok 21 - should not error
        ok 22 - the id should not be duplicated
        ok 23 - expect truthy value
        ok 24 - should not error
        ok 25 - the id should not be duplicated
        ok 26 - expect truthy value
        ok 27 - should not error
        ok 28 - the id should not be duplicated
        ok 29 - expect truthy value
        ok 30 - should not error
        ok 31 - the id should not be duplicated
        1..31
    ok 2 - The logger should add a unique id for every request # time=83.899ms
    
    # Subtest: The logger should reuse request id header for req.id
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - the request id from the header should be returned
        1..4
    ok 3 - The logger should reuse request id header for req.id # time=8.758ms
    
    # Subtest: The logger should error if both stream and file destination are given
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - The logger should error if both stream and file destination are given # time=1.723ms
    
    # Subtest: The serializer prevent fails if the request socket is undefined
        1..1
        ok 1 - should be equivalent
    ok 5 - The serializer prevent fails if the request socket is undefined # time=4.753ms
    
    1..5
    # time=117.564ms
ok 56 - test/internals/logger.test.js # time=117.564ms

# Subtest: test/internals/plugin.test.js
    # Subtest: shouldSkipOverride should check the 'skip-override' symbol
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 1 - shouldSkipOverride should check the 'skip-override' symbol # time=5.665ms
    
    # Subtest: getPluginName should return plugin name if the file is cached
        1..1
        ok 1 - should be equal
    ok 2 - getPluginName should return plugin name if the file is cached # time=1.797ms
    
    # Subtest: getMeta should return the object stored with the 'plugin-meta' symbol
        1..1
        ok 1 - should be equivalent
    ok 3 - getMeta should return the object stored with the 'plugin-meta' symbol # time=4.561ms
    
    # Subtest: checkDecorators should check if the given decorator is present in the instance
        1..1
        ok 1 - Everything ok
    ok 4 - checkDecorators should check if the given decorator is present in the instance # time=10.163ms
    
    # Subtest: checkDecorators should check if the given decorator is present in the instance (errored)
        1..1
        ok 1 - should be equal
    ok 5 - checkDecorators should check if the given decorator is present in the instance (errored) # time=1.446ms
    
    # Subtest: checkDecorators should accept optional decorators
        1..1
        ok 1 - Everything ok
    ok 6 - checkDecorators should accept optional decorators # time=1.183ms
    
    # Subtest: checkDependencies should check if the given dependency is present in the instance
        1..1
        ok 1 - Everything ok
    ok 7 - checkDependencies should check if the given dependency is present in the instance # time=1.284ms
    
    # Subtest: checkDependencies should check if the given dependency is present in the instance (errored)
        1..1
        ok 1 - should be equal
    ok 8 - checkDependencies should check if the given dependency is present in the instance (errored) # time=17.492ms
    
    1..8
    # time=104.502ms
ok 57 - test/internals/plugin.test.js # time=104.502ms

# Subtest: test/internals/reply-serialize.test.js
    # Subtest: Reply\#compileSerializationSchema
        1..4
        # Subtest: Should return a serialization function
            1..4
            ok 1 - type is Function
            ok 2 - type is string
            ok 3 - should be equal
            ok 4 - should be equal
        ok 1 - Should return a serialization function # time=78.629ms
        
        # Subtest: Should reuse the serialize fn across multiple invocations - Route without schema
            1..17
            ok 1 - build the schema compilation function
            ok 2 - type is Function
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - Are the same validate function
            ok 6 - type is Function
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - Are the same validate function
            ok 10 - type is Function
            ok 11 - should be equal
            ok 12 - should be equal
            ok 13 - Are the same validate function
            ok 14 - type is Function
            ok 15 - should be equal
            ok 16 - should be equal
            ok 17 - should be equal
        ok 2 - Should reuse the serialize fn across multiple invocations - Route without schema # time=17.49ms
        
        # Subtest: Should use the custom serializer compiler for the route
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equivalent
            ok 7 - {"hello":"world"}
            ok 8 - should be equivalent
            ok 9 - {"hello":"world"}
            ok 10 - should be equal
        ok 3 - Should use the custom serializer compiler for the route # time=16.234ms
        
        # Subtest: Should build a WeakMap for cache when called
            1..4
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
            ok 4 - should be equal
        ok 4 - Should build a WeakMap for cache when called # time=8.664ms
        
    ok 1 - Reply\#compileSerializationSchema # time=138.912ms
    
    # Subtest: Reply\#getSerializationFunction
        1..3
        # Subtest: Should retrieve the serialization function from the Schema definition
            1..9
            ok 1 - type is Function
            ok 2 - type is Function
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - expect falsey value
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
        ok 1 - Should retrieve the serialization function from the Schema definition # time=25.347ms
        
        # Subtest: Should retrieve the serialization function from the cached one
            1..6
            ok 1 - type is Function
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
        ok 2 - Should retrieve the serialization function from the cached one # time=8.89ms
        
        # Subtest: Should not instantiate a WeakMap if it is not needed
            1..4
            ok 1 - expect falsey value
            ok 2 - should be equal
            ok 3 - expect falsey value
            ok 4 - should be equal
        ok 3 - Should not instantiate a WeakMap if it is not needed # time=27.564ms
        
    ok 2 - Reply\#getSerializationFunction # time=83.273ms
    
    # Subtest: Reply\#serializeInput
        1..5
        # Subtest: Should throw if missed serialization function from HTTP status
            1..2
            ok 1 - should be equal
            ok 2 - should be equivalent
        ok 1 - Should throw if missed serialization function from HTTP status # time=30.902ms
        
        # Subtest: Should use a serializer fn from HTTP status
            1..4
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
        ok 2 - Should use a serializer fn from HTTP status # time=24.217ms
        
        # Subtest: Should compile a serializer out of a schema if serializer fn missed
            1..10
            ok 1 - should be equal
            ok 2 - expect falsey value
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 3 - Should compile a serializer out of a schema if serializer fn missed # time=9.015ms
        
        # Subtest: Should use a cached serializer fn
            1..12
            ok 1 - should be equal
            ok 2 - expect falsey value
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
            ok 11 - should be equal
            ok 12 - should be equal
        ok 4 - Should use a cached serializer fn # time=9.009ms
        
        # Subtest: Should instantiate a WeakMap after first call
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
        ok 5 - Should instantiate a WeakMap after first call # time=6.246ms
        
    ok 3 - Reply\#serializeInput # time=88.435ms
    
    1..3
    # time=322.414ms
ok 58 - test/internals/reply-serialize.test.js # time=322.414ms

# Subtest: test/internals/reply.test.js
    # Subtest: Once called, Reply should return an object with methods
        1..13
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should be equal
        ok 13 - should be equal
    ok 1 - Once called, Reply should return an object with methods # time=13.144ms
    
    # Subtest: reply.send will logStream error and destroy the stream
        1..1
        ok 1 - Error not logged and not streamed
    ok 2 - reply.send will logStream error and destroy the stream # time=6.849ms
    
    # Subtest: reply.send throw with circular JSON
        1..1
        ok 1 - Converting circular structure to JSON
    ok 3 - reply.send throw with circular JSON # time=1.411ms
    
    # Subtest: reply.send returns itself
        1..1
        ok 1 - should be equal
    ok 4 - reply.send returns itself # time=1.295ms
    
    # Subtest: reply.serializer should set a custom serializer
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 5 - reply.serializer should set a custom serializer # time=1.055ms
    
    # Subtest: reply.serializer should support running preSerialization hooks
        1..3
        ok 1 - preSerialization
        ok 2 - should not error
        ok 3 - should be equal
    ok 6 - reply.serializer should support running preSerialization hooks # time=744.844ms
    
    # Subtest: reply.serialize should serialize payload
        1..1
        ok 1 - should be equal
    ok 7 - reply.serialize should serialize payload # time=0.996ms
    
    # Subtest: reply.serialize should serialize payload with a custom serializer
        1..2
        ok 1 - should be equal
        ok 2 - custom serializer not called
    ok 8 - reply.serialize should serialize payload with a custom serializer # time=0.872ms
    
    # Subtest: reply.serialize should serialize payload with a context default serializer
        1..2
        ok 1 - should be equal
        ok 2 - custom serializer not called
    ok 9 - reply.serialize should serialize payload with a context default serializer # time=0.973ms
    
    # Subtest: reply.serialize should serialize payload with Fastify instance
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - reply.serialize should serialize payload with Fastify instance # time=34.532ms
    
    # Subtest: within an instance
        ok 1 - should not error
        # Subtest: custom serializer should be used
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - custom serializer should be used # time=31.348ms
        
        # Subtest: status code and content-type should be correct
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 3 - status code and content-type should be correct # time=6.498ms
        
        # Subtest: auto status code shoud be 200
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - auto status code shoud be 200 # time=5.462ms
        
        # Subtest: auto type shoud be text/plain
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - auto type shoud be text/plain # time=11.937ms
        
        # Subtest: redirect to `/` - 1
            1..1
            ok 1 - should be equal
        ok 6 - redirect to `/` - 1 # time=4.141ms
        
        # Subtest: redirect to `/` - 2
            1..1
            ok 1 - should be equal
        ok 7 - redirect to `/` - 2 # time=3.606ms
        
        # Subtest: redirect to `/` - 3
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 8 - redirect to `/` - 3 # time=8.057ms
        
        # Subtest: redirect to `/` - 4
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 9 - redirect to `/` - 4 # time=7.355ms
        
        # Subtest: redirect to `/` - 5
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
        ok 10 - redirect to `/` - 5 # time=3.461ms
        
        # Subtest: redirect to `/` - 6
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 11 - redirect to `/` - 6 # time=6.49ms
        
        # Subtest: redirect to `/` - 7
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 12 - redirect to `/` - 7 # time=6.885ms
        
        # Subtest: redirect to `/` - 8
            1..1
            ok 1 - should be equal
        ok 13 - redirect to `/` - 8 # time=2.922ms
        
        # Subtest: redirect to `/` - 9
            1..1
            ok 1 - should be equal
        ok 14 - redirect to `/` - 9 # time=3.054ms
        
        # Subtest: redirect with async function to `/` - 10
            1..1
            ok 1 - should be equal
        ok 15 - redirect with async function to `/` - 10 # time=3.131ms
        
        1..15
    ok 11 - within an instance # time=176.615ms
    
    # Subtest: buffer without content type should send a application/octet-stream and raw buffer
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 12 - buffer without content type should send a application/octet-stream and raw buffer # time=15.444ms
    
    # Subtest: buffer with content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 13 - buffer with content type should not send application/octet-stream # time=9.49ms
    
    # Subtest: stream with content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 14 - stream with content type should not send application/octet-stream # time=43.708ms
    
    # Subtest: stream without content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 15 - stream without content type should not send application/octet-stream # time=75.836ms
    
    # Subtest: stream using reply.raw.writeHead should return customize headers
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 16 - stream using reply.raw.writeHead should return customize headers # time=17.122ms
    
    # Subtest: plain string without content type should send a text/plain
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 17 - plain string without content type should send a text/plain # time=11.025ms
    
    # Subtest: plain string with content type should be sent unmodified
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - plain string with content type should be sent unmodified # time=7.742ms
    
    # Subtest: plain string with content type and custom serializer should be serialized
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 19 - plain string with content type and custom serializer should be serialized # time=7.449ms
    
    # Subtest: plain string with content type application/json should NOT be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 20 - plain string with content type application/json should NOT be serialized as json # time=7.414ms
    
    # Subtest: plain string with custom json content type should NOT be serialized as json
        1..19
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equivalent
    ok 21 - plain string with custom json content type should NOT be serialized as json # time=28.925ms
    
    # Subtest: non-string with content type application/json SHOULD be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 22 - non-string with content type application/json SHOULD be serialized as json # time=8.689ms
    
    # Subtest: non-string with custom json's content-type SHOULD be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 23 - non-string with custom json's content-type SHOULD be serialized as json # time=22.638ms
    
    # Subtest: non-string with custom json content type SHOULD be serialized as json
        1..16
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 24 - non-string with custom json content type SHOULD be serialized as json # time=24.391ms
    
    # Subtest: error object with a content type that is not application/json should work
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 25 - error object with a content type that is not application/json should work # time=11.072ms
    
    # Subtest: undefined payload should be sent as-is
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 26 - undefined payload should be sent as-is # time=8.108ms
    
    # Subtest: for HEAD method, no body should be sent but content-length should be
        1..11
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
    ok 27 - for HEAD method, no body should be sent but content-length should be # time=9.574ms
    
    # Subtest: reply.send(new NotFound()) should not invoke the 404 handler
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 28 - reply.send(new NotFound()) should not invoke the 404 handler # time=14.534ms
    
    # Subtest: reply can set multiple instances of same header
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - expect truthy value
        ok 4 - should be equivalent strictly
    ok 29 - reply can set multiple instances of same header # time=8.26ms
    
    # Subtest: reply.hasHeader returns correct values
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 30 - reply.hasHeader returns correct values # time=5.112ms
    
    # Subtest: reply.getHeader returns correct values
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
        ok 4 - should be equivalent strictly
    ok 31 - reply.getHeader returns correct values # time=7.709ms
    
    # Subtest: reply.getHeader returns raw header if there is not in the reply headers
        1..1
        ok 1 - should be equal
    ok 32 - reply.getHeader returns raw header if there is not in the reply headers # time=0.64ms
    
    # Subtest: reply.getHeaders returns correct values
        1..3
        ok 1 - should be equivalent strictly
        ok 2 - should be equivalent strictly
        ok 3 - should not error
    ok 33 - reply.getHeaders returns correct values # time=5.038ms
    
    # Subtest: reply.removeHeader can remove the value
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent strictly
        ok 5 - (unnamed test)
    ok 34 - reply.removeHeader can remove the value # time=6.755ms
    
    # Subtest: reply.header can reset the value
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent strictly
        ok 3 - (unnamed test)
    ok 35 - reply.header can reset the value # time=6.17ms
    
    # Subtest: reply.hasHeader computes raw and fastify headers
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - (unnamed test)
    ok 36 - reply.hasHeader computes raw and fastify headers # time=5.675ms
    
    # Subtest: Reply should handle JSON content type with a charset
        1..16
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should not error
        ok 16 - should be equal
    ok 37 - Reply should handle JSON content type with a charset # time=15.646ms
    
    # Subtest: Content type and charset set previously
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 38 - Content type and charset set previously # time=4.136ms
    
    # Subtest: .status() is an alias for .code()
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 39 - .status() is an alias for .code() # time=3.463ms
    
    # Subtest: .statusCode is getter and setter
        1..4
        ok 1 - 200
        ok 2 - 418
        ok 3 - should not error
        ok 4 - should be equal
    ok 40 - .statusCode is getter and setter # time=5.853ms
    
    # Subtest: reply.header setting multiple cookies as multiple Set-Cookie headers
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equivalent strictly
        ok 4 - should not error
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - should be equivalent strictly
    ok 41 - reply.header setting multiple cookies as multiple Set-Cookie headers # time=8.82ms
    
    # Subtest: should emit deprecation warning when trying to modify the reply.sent property
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 42 - should emit deprecation warning when trying to modify the reply.sent property # time=4.086ms
    
    # Subtest: should throw error when passing falsy value to reply.sent
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 43 - should throw error when passing falsy value to reply.sent # time=3.95ms
    
    # Subtest: should throw error when attempting to set reply.sent more than once
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 44 - should throw error when attempting to set reply.sent more than once # time=5.021ms
    
    # Subtest: should not throw error when attempting to set reply.sent if the underlining request was sent
        1..3
        ok 1 - expected to not throw
        ok 2 - should not error
        ok 3 - (unnamed test)
    ok 45 - should not throw error when attempting to set reply.sent if the underlining request was sent # time=4.153ms
    
    # Subtest: reply.getResponseTime() should return 0 before the timer is initialised on the reply by setting up response listeners
        1..1
        ok 1 - should be equal
    ok 46 - reply.getResponseTime() should return 0 before the timer is initialised on the reply by setting up response listeners # time=0.534ms
    
    # Subtest: reply.getResponseTime() should return a number greater than 0 after the timer is initialised on the reply by setting up response listeners
        1..1
        ok 1 - expect truthy value
    ok 47 - reply.getResponseTime() should return a number greater than 0 after the timer is initialised on the reply by setting up response listeners # time=4.165ms
    
    # Subtest: reply.getResponseTime() should return the time since a request started while inflight
        1..1
        ok 1 - should not be equal
    ok 48 - reply.getResponseTime() should return the time since a request started while inflight # time=3.476ms
    
    # Subtest: reply.getResponseTime() should return the same value after a request is finished
        1..1
        ok 1 - should be equal
    ok 49 - reply.getResponseTime() should return the same value after a request is finished # time=3.648ms
    
    # Subtest: reply should use the custom serializer
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 50 - reply should use the custom serializer # time=5.122ms
    
    # Subtest: reply should use the right serializer in encapsulated context
        1..9
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 51 - reply should use the right serializer in encapsulated context # time=24.958ms
    
    # Subtest: reply should use the right serializer in deep encapsulated context
        1..8
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 52 - reply should use the right serializer in deep encapsulated context # time=9.109ms
    
    # Subtest: reply should use the route serializer
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equal
    ok 53 - reply should use the route serializer # time=3.53ms
    
    # Subtest: cannot set the replySerializer when the server is running
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 54 - cannot set the replySerializer when the server is running # time=4.821ms
    
    # Subtest: reply should not call the custom serializer for errors and not found
        1..9
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 55 - reply should not call the custom serializer for errors and not found # time=6.68ms
    
    # Subtest: reply.then
        1..4
        # Subtest: without an error
            1..1
            ok 1 - fulfilled called
        ok 1 - without an error # time=10.187ms
        
        # Subtest: with an error
            1..1
            ok 1 - should be equal
        ok 2 - with an error # time=1.107ms
        
        # Subtest: with error but without reject callback
            1..1
            ok 1 - (unnamed test)
        ok 3 - with error but without reject callback # time=0.646ms
        
        # Subtest: with error, without reject callback, with logger
            1..1
            ok 1 - should be equal
        ok 4 - with error, without reject callback, with logger # time=1.261ms
        
    ok 56 - reply.then # time=19.406ms
    
    # Subtest: reply.sent should read from response.writableEnded if it is defined
        1..1
        ok 1 - should be equal
    ok 57 - reply.sent should read from response.writableEnded if it is defined # time=0.469ms
    
    # Subtest: redirect to an invalid URL should not crash the server
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        1..7
    ok 58 - redirect to an invalid URL should not crash the server # time=13.405ms
    
    # Subtest: invalid response headers should not crash the server
        ok 1 - only the first invalid header is logged
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 59 - invalid response headers should not crash the server # time=7.098ms
    
    # Subtest: invalid response headers when sending back an error
        ok 1 - only the first invalid header is logged
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 60 - invalid response headers when sending back an error # time=6.49ms
    
    # Subtest: invalid response headers and custom error handler
        ok 1 - custom error handler receives the error
        ok 2 - only the first invalid header is logged
        ok 3 - should be equal
        ok 4 - should be equivalent
        1..4
    ok 61 - invalid response headers and custom error handler # time=6.29ms
    
    1..61
    # time=1601.705ms
ok 59 - test/internals/reply.test.js # time=1601.705ms

# Subtest: test/internals/request-validate.test.js
    # Subtest: \#compileValidationSchema
        1..5
        # Subtest: Should return a function - Route without schema
            1..3
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
        ok 1 - Should return a function - Route without schema # time=149.529ms
        
        # Subtest: Should reuse the validate fn across multiple invocations - Route without schema
            1..16
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
            ok 4 - Are the same validate function
            ok 5 - type is Function
            ok 6 - expect truthy value
            ok 7 - expect falsey value
            ok 8 - Are the same validate function
            ok 9 - type is Function
            ok 10 - expect truthy value
            ok 11 - expect falsey value
            ok 12 - Are the same validate function
            ok 13 - type is Function
            ok 14 - expect truthy value
            ok 15 - expect falsey value
            ok 16 - should be equal
        ok 2 - Should reuse the validate fn across multiple invocations - Route without schema # time=60.847ms
        
        # Subtest: Should return a function - Route with schema
            1..3
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
        ok 3 - Should return a function - Route with schema # time=68.846ms
        
        # Subtest: Should use the custom validator compiler for the route
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equivalent
            ok 7 - expect truthy value
            ok 8 - should be equivalent
            ok 9 - expect truthy value
            ok 10 - should be equal
        ok 4 - Should use the custom validator compiler for the route # time=11.93ms
        
        # Subtest: Should instantiate a WeakMap when executed for first time
            1..5
            ok 1 - should be equal
            ok 2 - type is Function
            ok 3 - type is WeakMap
            ok 4 - type is Function
            ok 5 - type is WeakMap
        ok 5 - Should instantiate a WeakMap when executed for first time # time=34.588ms
        
    ok 1 - \#compileValidationSchema # time=351.812ms
    
    # Subtest: \#getValidationFunction
        1..4
        # Subtest: Should return a validation function
            1..1
            ok 1 - should be equal
        ok 1 - Should return a validation function # time=66.25ms
        
        # Subtest: Should return undefined if no schema compiled
            1..2
            ok 1 - expect falsey value
            ok 2 - expect falsey value
        ok 2 - Should return undefined if no schema compiled # time=5.586ms
        
        # Subtest: Should return the validation function from each HTTP part
            1..15
            ok 1 - expect truthy value
            ok 2 - expect truthy value
            ok 3 - expect falsey value
            ok 4 - expect truthy value
            ok 5 - expect truthy value
            ok 6 - expect falsey value
            ok 7 - expect truthy value
            ok 8 - expect truthy value
            ok 9 - expect truthy value
            ok 10 - expect truthy value
            ok 11 - expect falsey value
            ok 12 - should be equal
            ok 13 - expect truthy value
            ok 14 - expect falsey value
            ok 15 - should be equal
        ok 3 - Should return the validation function from each HTTP part # time=61.605ms
        
        # Subtest: Should not set a WeakMap if there is no schema
            1..1
            ok 1 - should be equal
        ok 4 - Should not set a WeakMap if there is no schema # time=15.868ms
        
    ok 2 - \#getValidationFunction # time=158.908ms
    
    # Subtest: \#validate
        1..7
        # Subtest: Should return true/false if input valid - Route without schema
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 1 - Should return true/false if input valid - Route without schema # time=69.58ms
        
        # Subtest: Should use the custom validator compiler for the route
            1..9
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equivalent
            ok 6 - should be equivalent
            ok 7 - expect truthy value
            ok 8 - expect truthy value
            ok 9 - should be equal
        ok 2 - Should use the custom validator compiler for the route # time=8.491ms
        
        # Subtest: Should return true/false if input valid - With Schema for Route defined
            1..8
            ok 1 - expect truthy value
            ok 2 - expect falsey value
            ok 3 - expect falsey value
            ok 4 - expect truthy value
            ok 5 - expect falsey value
            ok 6 - expect truthy value
            ok 7 - expect truthy value
            ok 8 - expect falsey value
        ok 3 - Should return true/false if input valid - With Schema for Route defined # time=92.465ms
        
        # Subtest: Should throw if missing validation fn for HTTP part and not schema provided
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 4 - Should throw if missing validation fn for HTTP part and not schema provided # time=12.121ms
        
        # Subtest: Should throw if missing validation fn for HTTP part and not valid schema provided
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 5 - Should throw if missing validation fn for HTTP part and not valid schema provided # time=14.466ms
        
        # Subtest: Should throw if invalid schema passed
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 6 - Should throw if invalid schema passed # time=10.673ms
        
        # Subtest: Should set a WeakMap if compiling the very first schema
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
        ok 7 - Should set a WeakMap if compiling the very first schema # time=25.988ms
        
    ok 3 - \#validate # time=244.5ms
    
    # Subtest: Nested Context
        1..1
        # Subtest: Level_1
            1..3
            # Subtest: \#compileValidationSchema
                1..4
                # Subtest: Should return a function - Route without schema
                    1..3
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                ok 1 - Should return a function - Route without schema # time=91.632ms
                
                # Subtest: Should reuse the validate fn across multiple invocations - Route without schema
                    1..16
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                    ok 4 - Are the same validate function
                    ok 5 - type is Function
                    ok 6 - expect truthy value
                    ok 7 - expect falsey value
                    ok 8 - Are the same validate function
                    ok 9 - type is Function
                    ok 10 - expect truthy value
                    ok 11 - expect falsey value
                    ok 12 - Are the same validate function
                    ok 13 - type is Function
                    ok 14 - expect truthy value
                    ok 15 - expect falsey value
                    ok 16 - should be equal
                ok 2 - Should reuse the validate fn across multiple invocations - Route without schema # time=77.489ms
                
                # Subtest: Should return a function - Route with schema
                    1..3
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                ok 3 - Should return a function - Route with schema # time=40.552ms
                
                # Subtest: Should use the custom validator compiler for the route
                    1..10
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - should be equal
                    ok 5 - should be equal
                    ok 6 - should be equivalent
                    ok 7 - expect truthy value
                    ok 8 - should be equivalent
                    ok 9 - expect truthy value
                    ok 10 - should be equal
                ok 4 - Should use the custom validator compiler for the route # time=8.54ms
                
            ok 1 - \#compileValidationSchema # time=228.608ms
            
            # Subtest: \#getValidationFunction
                1..6
                # Subtest: Should return a validation function
                    1..1
                    ok 1 - should be equal
                ok 1 - Should return a validation function # time=76.752ms
                
                # Subtest: Should return undefined if no schema compiled
                    1..1
                    ok 1 - expect falsey value
                ok 2 - Should return undefined if no schema compiled # time=18.421ms
                
                # Subtest: Should return the validation function from each HTTP part
                    1..15
                    ok 1 - expect truthy value
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                    ok 4 - expect truthy value
                    ok 5 - expect truthy value
                    ok 6 - expect falsey value
                    ok 7 - expect truthy value
                    ok 8 - expect truthy value
                    ok 9 - expect truthy value
                    ok 10 - expect truthy value
                    ok 11 - expect falsey value
                    ok 12 - should be equal
                    ok 13 - expect truthy value
                    ok 14 - expect falsey value
                    ok 15 - should be equal
                ok 3 - Should return the validation function from each HTTP part # time=54.491ms
                
                # Subtest: Should return a validation function - nested
                    1..6
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - expect falsey value
                    ok 5 - should be equal
                    ok 6 - should be equal
                ok 4 - Should return a validation function - nested # time=13.215ms
                
                # Subtest: Should return undefined if no schema compiled - nested
                    1..3
                    ok 1 - should be equal
                    ok 2 - expect falsey value
                    ok 3 - should be equal
                ok 5 - Should return undefined if no schema compiled - nested # time=8.224ms
                
                # Subtest: Should per-route defined validation compiler
                    1..5
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should not be equal
                    ok 4 - should be equal
                    ok 5 - should be equal
                ok 6 - Should per-route defined validation compiler # time=8.571ms
                
            ok 2 - \#getValidationFunction # time=191.28ms
            
            # Subtest: \#validate
                1..3
                # Subtest: Should return true/false if input valid - Route without schema
                    1..2
                    ok 1 - expect falsey value
                    ok 2 - expect truthy value
                ok 1 - Should return true/false if input valid - Route without schema # time=78.753ms
                
                # Subtest: Should use the custom validator compiler for the route
                    1..10
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - should be equal
                    ok 5 - should be equivalent
                    ok 6 - should be equivalent
                    ok 7 - expect truthy value
                    ok 8 - expect truthy value
                    ok 9 - should be equal
                    ok 10 - should be equal
                ok 2 - Should use the custom validator compiler for the route # time=7.601ms
                
                # Subtest: Should return true/false if input valid - With Schema for Route defined and scoped validator compiler
                    1..13
                    ok 1 - expect truthy value
                    ok 2 - expect falsey value
                    ok 3 - expect falsey value
                    ok 4 - expect truthy value
                    ok 5 - expect falsey value
                    ok 6 - expect truthy value
                    ok 7 - expect truthy value
                    ok 8 - expect falsey value
                    ok 9 - should be equal
                    ok 10 - should be equal
                    ok 11 - should be equal
                    ok 12 - should be equal
                    ok 13 - should be equal
                ok 3 - Should return true/false if input valid - With Schema for Route defined and scoped validator compiler # time=85.472ms
                
            ok 3 - \#validate # time=179.289ms
            
        ok 1 - Level_1 # time=606.403ms
        
    ok 4 - Nested Context # time=615.423ms
    
    1..4
    # time=1380.72ms
ok 60 - test/internals/request-validate.test.js # time=1380.72ms

# Subtest: test/internals/request.test.js
    # Subtest: Regular request
        ok 1 - type is Request
        ok 2 - type is Function
        ok 3 - type is Function
        ok 4 - type is Function
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        1..19
    ok 1 - Regular request # time=29.624ms
    
    # Subtest: Regular request - hostname from authority
        1..2
        ok 1 - type is Request
        ok 2 - should be equal
    ok 2 - Regular request - hostname from authority # time=1.698ms
    
    # Subtest: Regular request - host header has precedence over authority
        1..2
        ok 1 - type is Request
        ok 2 - should be equal
    ok 3 - Regular request - host header has precedence over authority # time=1.124ms
    
    # Subtest: Request with trust proxy
        1..18
        ok 1 - type is _Request
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - type is Function
        ok 17 - type is Function
        ok 18 - type is Function
    ok 4 - Request with trust proxy # time=12.077ms
    
    # Subtest: Request with trust proxy, encrypted
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 5 - Request with trust proxy, encrypted # time=1.352ms
    
    # Subtest: Request with trust proxy - no x-forwarded-host header
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 6 - Request with trust proxy - no x-forwarded-host header # time=1.436ms
    
    # Subtest: Request with trust proxy - no x-forwarded-host header and fallback to authority
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 7 - Request with trust proxy - no x-forwarded-host header and fallback to authority # time=1.233ms
    
    # Subtest: Request with trust proxy - x-forwarded-host header has precedence over host
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 8 - Request with trust proxy - x-forwarded-host header has precedence over host # time=1.325ms
    
    # Subtest: Request with trust proxy - handles multiple entries in x-forwarded-host/proto
        1..3
        ok 1 - type is _Request
        ok 2 - should be equal
        ok 3 - should be equal
    ok 9 - Request with trust proxy - handles multiple entries in x-forwarded-host/proto # time=1.592ms
    
    # Subtest: Request with trust proxy - plain
        1..1
        ok 1 - should be equivalent
    ok 10 - Request with trust proxy - plain # time=1.269ms
    
    # Subtest: Request with undefined socket
        1..18
        ok 1 - type is Request
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equivalent
        ok 16 - type is Function
        ok 17 - type is Function
        ok 18 - type is Function
    ok 11 - Request with undefined socket # time=6.035ms
    
    # Subtest: Request with trust proxy and undefined socket
        1..1
        ok 1 - should be equivalent
    ok 12 - Request with trust proxy and undefined socket # time=1.143ms
    
    1..12
    # time=127.412ms
ok 61 - test/internals/request.test.js # time=127.412ms

# Subtest: test/internals/server.test.js
    # Subtest: start listening
        ok 1 - server started
        1..1
    ok 1 - start listening # time=41.116ms
    
    # Subtest: DNS errors does not stop the main server on localhost - promise interface
        ok 1 - server started
        1..1
    ok 2 - DNS errors does not stop the main server on localhost - promise interface # time=16.834ms
    
    # Subtest: DNS errors does not stop the main server on localhost - callback interface
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 3 - DNS errors does not stop the main server on localhost - callback interface # time=30.86ms
    
    # Subtest: DNS returns empty binding
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 4 - DNS returns empty binding # time=20.863ms
    
    # Subtest: DNS returns more than two binding
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 5 - DNS returns more than two binding # time=14.154ms
    
    1..5
    # time=131.407ms
ok 62 - test/internals/server.test.js # time=131.407ms

# Subtest: test/internals/validation.test.js
    # Subtest: Symbols
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 1 - Symbols # time=6.854ms
    
    # Subtest: compileSchemasForValidation schema - missing schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - compileSchemasForValidation schema - missing schema # time=1.874ms
    
    # Subtest: compileSchemasForValidation schema - missing output schema
        1..1
        ok 1 - should be equal
    ok 3 - compileSchemasForValidation schema - missing output schema # time=0.835ms
    
    # Subtest: compileSchemasForSerialization schema - missing schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - compileSchemasForSerialization schema - missing schema # time=1.151ms
    
    # Subtest: compileSchemasForSerialization schema - missing output schema
        1..1
        ok 1 - should be equal
    ok 5 - compileSchemasForSerialization schema - missing output schema # time=0.562ms
    
    # Subtest: build schema - output schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 6 - build schema - output schema # time=63.481ms
    
    # Subtest: build schema - payload schema
        1..1
        ok 1 - should be equal
    ok 7 - build schema - payload schema # time=2.068ms
    
    # Subtest: build schema - avoid repeated normalize schema
        1..3
        ok 1 - should not be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 8 - build schema - avoid repeated normalize schema # time=1.495ms
    
    # Subtest: build schema - query schema
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 9 - build schema - query schema # time=2.52ms
    
    # Subtest: build schema - query schema abbreviated
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 10 - build schema - query schema abbreviated # time=13.581ms
    
    # Subtest: build schema - querystring schema
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 11 - build schema - querystring schema # time=2.691ms
    
    # Subtest: build schema - querystring schema abbreviated
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 12 - build schema - querystring schema abbreviated # time=2.574ms
    
    # Subtest: build schema - must throw if querystring and query schema exist
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 13 - build schema - must throw if querystring and query schema exist # time=1.595ms
    
    # Subtest: build schema - params schema
        1..1
        ok 1 - should be equal
    ok 14 - build schema - params schema # time=2.298ms
    
    # Subtest: build schema - headers schema
        1..1
        ok 1 - should be equal
    ok 15 - build schema - headers schema # time=2.407ms
    
    # Subtest: build schema - headers are lowercase
        1..1
        ok 1 - lowercase content-type exists
    ok 16 - build schema - headers are lowercase # time=1.079ms
    
    # Subtest: build schema - headers are not lowercased in case of custom object
        1..1
        ok 1 - type is Headers
    ok 17 - build schema - headers are not lowercased in case of custom object # time=0.993ms
    
    # Subtest: build schema - uppercased headers are not included
        1..1
        ok 1 - uppercase does not exist
    ok 18 - build schema - uppercased headers are not included # time=0.91ms
    
    1..18
    # time=174.348ms
ok 63 - test/internals/validation.test.js # time=174.348ms

# Subtest: test/keepAliveTimeout.test.js
    # Subtest: keepAliveTimeout
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not be equal
        ok 6 - should be equal
    ok 1 - keepAliveTimeout # time=41.883ms
    
    1..1
    # time=52.201ms
ok 64 - test/keepAliveTimeout.test.js # time=52.201ms

# Subtest: test/listen.deprecated.test.js
    # Subtest: listen accepts a port and a callback
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 1 - listen accepts a port and a callback # time=31.116ms
    
    # Subtest: listen accepts a port and a callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 2 - listen accepts a port and a callback with (err, address) # time=5.471ms
    
    # Subtest: listen accepts a port, address, and callback
        1..1
        ok 1 - should not error
    ok 3 - listen accepts a port, address, and callback # time=17.237ms
    
    # Subtest: listen accepts options, backlog and a callback
        1..1
        ok 1 - should not error
    ok 4 - listen accepts options, backlog and a callback # time=17.641ms
    
    # Subtest: listen accepts options (no port), backlog and a callback
        1..1
        ok 1 - should not error
    ok 5 - listen accepts options (no port), backlog and a callback # time=4.461ms
    
    # Subtest: listen accepts options (no host), backlog and a callback
        1..1
        ok 1 - should not error
    ok 6 - listen accepts options (no host), backlog and a callback # time=3.943ms
    
    # Subtest: listen accepts options (no port, no host), backlog and a callback
        1..1
        ok 1 - should not error
    ok 7 - listen accepts options (no port, no host), backlog and a callback # time=7.169ms
    
    # Subtest: listen accepts a port, address and a callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 8 - listen accepts a port, address and a callback with (err, address) # time=3.266ms
    
    # Subtest: listen accepts a port, address, backlog and callback
        1..1
        ok 1 - should not error
    ok 9 - listen accepts a port, address, backlog and callback # time=4.477ms
    
    # Subtest: listen accepts a port, address, backlog and callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 10 - listen accepts a port, address, backlog and callback with (err, address) # time=4.754ms
    
    # Subtest: listen without callback (port zero)
        1..1
        ok 1 - should be equal
    ok 11 - listen without callback (port zero) # time=6.71ms
    
    # Subtest: listen without callback (port not given)
        1..1
        ok 1 - should be equal
    ok 12 - listen without callback (port not given) # time=4.119ms
    
    # Subtest: listen null without callback with (address)
        1..1
        ok 1 - should be equal
    ok 13 - listen null without callback with (address) # time=4.426ms
    
    # Subtest: listen without port without callback with (address)
        1..1
        ok 1 - should be equal
    ok 14 - listen without port without callback with (address) # time=3.815ms
    
    # Subtest: listen with undefined without callback with (address)
        1..1
        ok 1 - should be equal
    ok 15 - listen with undefined without callback with (address) # time=17.632ms
    
    # Subtest: listen when firstArg is string(pipe) and without backlog
        1..1
        ok 1 - should be equal
    ok 16 - listen when firstArg is string(pipe) and without backlog # time=18.995ms
    
    # Subtest: listen when firstArg is string(pipe) and with backlog
        1..1
        ok 1 - should be equal
    ok 17 - listen when firstArg is string(pipe) and with backlog # time=4.983ms
    
    # Subtest: listen when firstArg is { path: string(pipe) } and with backlog and callback
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 18 - listen when firstArg is { path: string(pipe) } and with backlog and callback # time=3.859ms
    
    1..18
    # time=271.4ms
ok 65 - test/listen.deprecated.test.js # time=271.4ms

# Subtest: test/listen.test.js
    # Subtest: listen works without arguments
        ok 1 - should be equal
        ok 2 - expect truthy value
        1..2
    ok 1 - listen works without arguments # time=30.627ms
    
    # Subtest: Async/await listen with arguments
        1..1
        ok 1 - should be equal
    ok 2 - Async/await listen with arguments # time=5.183ms
    
    # Subtest: Promise listen with arguments
        1..1
        ok 1 - should be equal
    ok 3 - Promise listen with arguments # time=7.985ms
    
    # Subtest: listen accepts a callback
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 4 - listen accepts a callback # time=17.063ms
    
    # Subtest: listen accepts options and a callback
        1..1
        ok 1 - should not error
    ok 5 - listen accepts options and a callback # time=4.761ms
    
    # Subtest: listen after Promise.resolve()
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 6 - listen after Promise.resolve() # time=4.707ms
    
    # Subtest: register after listen using Promise.resolve()
        1..1
        ok 1 - resolved
    ok 7 - register after listen using Promise.resolve() # time=11.058ms
    
    # Subtest: double listen errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
    ok 8 - double listen errors # time=5.069ms
    
    # Subtest: double listen errors callback with (err, address)
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 9 - double listen errors callback with (err, address) # time=5.71ms
    
    # Subtest: listen twice on the same port
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 10 - listen twice on the same port # time=11.893ms
    
    # Subtest: listen twice on the same port callback with (err, address)
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 11 - listen twice on the same port callback with (err, address) # time=7.505ms
    
    # Subtest: listen on socket
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent strictly
        ok 3 - should be equal
    ok 12 - listen on socket # time=11.102ms
    
    # Subtest: listen without callback with (address)
        1..1
        ok 1 - should be equal
    ok 13 - listen without callback with (address) # time=4.103ms
    
    # Subtest: double listen without callback rejects
        1..1
        ok 1 - expect truthy value
    ok 14 - double listen without callback rejects # time=8.174ms
    
    # Subtest: double listen without callback with (address)
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 15 - double listen without callback with (address) # time=17.829ms
    
    # Subtest: listen twice on the same port without callback rejects
        1..1
        ok 1 - expect truthy value
    ok 16 - listen twice on the same port without callback rejects # time=13.064ms
    
    # Subtest: listen twice on the same port without callback rejects with (address)
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 17 - listen twice on the same port without callback rejects with (address) # time=10.664ms
    
    # Subtest: listen on invalid port without callback rejects
        ok 1 - expect truthy value
        1..1
    ok 18 - listen on invalid port without callback rejects # time=3.563ms
    
    # Subtest: listen logs the port as info
        1..1
        ok 1 - expect truthy value
    ok 19 - listen logs the port as info # time=3.817ms
    
    # Subtest: listen on localhost binds IPv4 and IPv6 - promise interface
        1..2
        ok 1 - should be equal
        ok 2 - should be equivalent
    ok 20 - listen on localhost binds IPv4 and IPv6 - promise interface # time=24.98ms
    
    # Subtest: listen on localhost binds to all interfaces (both IPv4 and IPv6 if present) - callback interface
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 21 - listen on localhost binds to all interfaces (both IPv4 and IPv6 if present) - callback interface # time=10.094ms
    
    # Subtest: addresses getter
        1..4
        ok 1 - before ready
        ok 2 - after ready
        ok 3 - after listen
        ok 4 - after close
    ok 22 - addresses getter # time=8.199ms
    
    1..22
    # time=324.273ms
ok 66 - test/listen.test.js # time=324.273ms

# Subtest: test/logger.test.js
    # Subtest: defaults to info level
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
        ok 13 - responseTime is defined
        1..13
    ok 1 - defaults to info level # time=57.345ms
    
    # Subtest: test log stream
        1..12
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
    ok 2 - test log stream # time=24.069ms
    
    # Subtest: test error log stream
        1..11
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - reqId is defined
        ok 9 - res is defined
        ok 10 - message is set
        ok 11 - statusCode is 500
    ok 3 - test error log stream # time=67.258ms
    
    # Subtest: can use external logger instance
        1..6
        ok 1 - "Server listening at http://127.0.0.1:44177" dont match "/^Server listening at /"
        ok 2 - should not error
        ok 3 - "incoming request" dont match "/^incoming request$/"
        ok 4 - expect truthy value
        ok 5 - "log success" dont match "/^log success$/"
        ok 6 - "request completed" dont match "/^request completed$/"
    ok 4 - can use external logger instance # time=27.156ms
    
    # Subtest: can use external logger instance with custom serializer
        1..6
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - expect truthy value
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 5 - can use external logger instance with custom serializer # time=23.409ms
    
    # Subtest: expose the logger
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equivalent
    ok 6 - expose the logger # time=2.48ms
    
    # Subtest: The request id header key can be customized
        1..9
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - message is set
        ok 6 - should be equal
        ok 7 - message is set
        ok 8 - should be equal
        ok 9 - message is set
    ok 7 - The request id header key can be customized # time=31.693ms
    
    # Subtest: The request id header key can be customized along with a custom id generator
        1..12
        ok 1 - should match pattern provided
        ok 2 - should be equal
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should be equal
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
    ok 8 - The request id header key can be customized along with a custom id generator # time=36.295ms
    
    # Subtest: The request id log label can be changed
        1..6
        ok 1 - should match pattern provided
        ok 2 - should be equal
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should not error
        ok 6 - should be equal
    ok 9 - The request id log label can be changed # time=10.674ms
    
    # Subtest: The logger should accept custom serializer
        1..9
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - req is defined
        ok 4 - message is set
        ok 5 - custom req serializer is use
        ok 6 - expect truthy value
        ok 7 - res is defined
        ok 8 - message is set
        ok 9 - default res serializer is use
    ok 10 - The logger should accept custom serializer # time=34.074ms
    
    # Subtest: reply.send logs an error if called twice in a row
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
    ok 11 - reply.send logs an error if called twice in a row # time=53.142ms
    
    # Subtest: logger can be silented
        1..17
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equivalent
        ok 10 - should be equivalent
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equivalent
        ok 14 - should be equivalent
        ok 15 - should be equivalent
        ok 16 - should be equivalent
        ok 17 - should be equivalent
    ok 12 - logger can be silented # time=5.657ms
    
    # Subtest: Should set a custom logLevel for a plugin
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equivalent
    ok 13 - Should set a custom logLevel for a plugin # time=13.464ms
    
    # Subtest: Should set a custom logSerializers for a plugin
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 14 - Should set a custom logSerializers for a plugin # time=36.081ms
    
    # Subtest: Should set a custom logLevel for every plugin
        1..18
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equivalent
        ok 15 - should not error
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equivalent
    ok 15 - Should set a custom logLevel for every plugin # time=19.816ms
    
    # Subtest: Should set a custom logSerializers for every plugin
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 16 - Should set a custom logSerializers for every plugin # time=13.625ms
    
    # Subtest: Should override serializers from route
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 17 - Should override serializers from route # time=10.724ms
    
    # Subtest: Should override serializers from plugin
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 18 - Should override serializers from plugin # time=20.467ms
    
    # Subtest: Should use serializers from plugin and route
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 19 - Should use serializers from plugin and route # time=7.051ms
    
    # Subtest: Should use serializers from instance fastify and route
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 20 - Should use serializers from instance fastify and route # time=6.064ms
    
    # Subtest: Should use serializers inherit from contexts
        1..5
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 21 - Should use serializers inherit from contexts # time=6.515ms
    
    # Subtest: Should increase the log level for a specific plugin
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 22 - Should increase the log level for a specific plugin # time=5.563ms
    
    # Subtest: Should set the log level for the customized 404 handler
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 23 - Should set the log level for the customized 404 handler # time=5.835ms
    
    # Subtest: Should set the log level for the customized 500 handler
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 24 - Should set the log level for the customized 500 handler # time=5.941ms
    
    # Subtest: Should set a custom log level for a specific route
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equivalent
    ok 25 - Should set a custom log level for a specific route # time=7.351ms
    
    # Subtest: The default 404 handler logs the incoming request
        1..5
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
    ok 26 - The default 404 handler logs the incoming request # time=4.97ms
    
    # Subtest: should serialize request and response
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 27 - should serialize request and response # time=5.541ms
    
    # Subtest: Wrap IPv6 address in listening log message
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 28 - Wrap IPv6 address in listening log message # time=3.336ms
    
    # Subtest: Do not wrap IPv4 address
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 29 - Do not wrap IPv4 address # time=3.383ms
    
    # Subtest: file option
        1..13
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - listen at log message is ok
        ok 4 - reqId is defined
        ok 5 - req is defined
        ok 6 - message is set
        ok 7 - method is get
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
        ok 13 - responseTime is defined
    ok 30 - file option # time=15.468ms
    
    # Subtest: should log the error if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 31 - should log the error if no error handler is defined # time=9.861ms
    
    # Subtest: should log as info if error status code >= 400 and < 500 if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 32 - should log as info if error status code >= 400 and < 500 if no error handler is defined # time=28.227ms
    
    # Subtest: should log as error if error status code >= 500 if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 33 - should log as error if error status code >= 500 if no error handler is defined # time=26.448ms
    
    # Subtest: should not log the error if error handler is defined and it does not error
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - level is correct
        ok 7 - message is set
        ok 8 - status code is set
    ok 34 - should not log the error if error handler is defined and it does not error # time=8.96ms
    
    # Subtest: should not rely on raw request to log errors
        1..7
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - status code is set
    ok 35 - should not rely on raw request to log errors # time=7.466ms
    
    # Subtest: should redact the authorization header if so specified
        1..7
        ok 1 - listen at log message is ok
        ok 2 - should not error
        ok 3 - authorization is redacted
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 36 - should redact the authorization header if so specified # time=17.305ms
    
    # Subtest: should not log incoming request and outgoing response when disabled
        1..3
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should be equivalent
    ok 37 - should not log incoming request and outgoing response when disabled # time=7.037ms
    
    # Subtest: should not log incoming request and outgoing response for 404 onBadUrl when disabled
        1..1
        ok 1 - should be equivalent
    ok 38 - should not log incoming request and outgoing response for 404 onBadUrl when disabled # time=3.741ms
    
    # Subtest: should pass when using unWritable props in the logger option
        1..1
        ok 1 - (unnamed test)
    ok 39 - should pass when using unWritable props in the logger option # time=6.294ms
    
    # Subtest: should be able to use a custom logger
        1..1
        ok 1 - (unnamed test)
    ok 40 - should be able to use a custom logger # time=12.878ms
    
    # Subtest: should create a default logger if provided one is invalid
        1..1
        ok 1 - (unnamed test)
    ok 41 - should create a default logger if provided one is invalid # time=1.374ms
    
    # Subtest: should not throw error when serializing custom req
        1..1
        ok 1 - should be equivalent
    ok 42 - should not throw error when serializing custom req # time=1.654ms
    
    1..42
    # time=827.836ms
ok 67 - test/logger.test.js # time=827.836ms

# Subtest: test/maxRequestsPerSocket.test.js
    # Subtest: maxRequestsPerSocket on node version >= 16.10.0
        1..8
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should match pattern provided
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
    ok 1 - maxRequestsPerSocket on node version >= 16.10.0 # time=71.501ms
    
    # Subtest: maxRequestsPerSocket zero should behave same as null
        1..10
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should match pattern provided
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
        ok 9 - should match pattern provided
        ok 10 - should match pattern provided
    ok 2 - maxRequestsPerSocket zero should behave same as null # time=18.257ms
    
    # Subtest: maxRequestsPerSocket should be set
        1..1
        ok 1 - should be equivalent
    ok 3 - maxRequestsPerSocket should be set # time=2.595ms
    
    # Subtest: maxRequestsPerSocket should 0
        1..1
        ok 1 - should be equivalent
    ok 4 - maxRequestsPerSocket should 0 # time=1.812ms
    
    # Subtest: requestTimeout passed to server
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 5 - requestTimeout passed to server # time=14.714ms
    
    1..5
    # time=120.822ms
ok 68 - test/maxRequestsPerSocket.test.js # time=120.822ms

# Subtest: test/middleware.test.js
    # Subtest: Should be able to override the default use API
        1..1
        ok 1 - should be equal
    ok 1 - Should be able to override the default use API # time=15.138ms
    
    # Subtest: Cannot decorate use twice
        1..1
        ok 1 - expect truthy value
    ok 2 - Cannot decorate use twice # time=2.755ms
    
    # Subtest: Encapsulation works
        1..1
        ok 1 - should be equal
    ok 3 - Encapsulation works # time=12.311ms
    
    1..3
    # time=42.941ms
ok 69 - test/middleware.test.js # time=42.941ms

# Subtest: test/noop-set.test.js
    # Subtest: does a lot of nothing
        ok 1 - type is object
        ok 2 - should be equal
        1..2
    ok 1 - does a lot of nothing # time=7.226ms
    
    1..1
    # time=13.099ms
ok 70 - test/noop-set.test.js # time=13.099ms

# Subtest: test/nullable-validation.test.js
    # Subtest: nullable string
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 1 - nullable string # time=134.246ms
    
    # Subtest: object or null body
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 2 - object or null body # time=56.582ms
    
    # Subtest: nullable body
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 3 - nullable body # time=69.729ms
    
    # Subtest: Nullable body with 204
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 4 - Nullable body with 204 # time=34.303ms
    
    1..4
    # time=301.99ms
ok 71 - test/nullable-validation.test.js # time=301.99ms

# Subtest: test/options.error-handler.test.js
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - OPTIONS can be created # time=9.557ms
    
    # Subtest: OPTIONS without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - OPTIONS without schema can be created # time=2.34ms
    
    # Subtest: OPTIONS with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - OPTIONS with body and querystring # time=1.848ms
    
    # Subtest: OPTIONS with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - OPTIONS with bodyLimit option # time=2.014ms
    
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - OPTIONS can be created # time=2.565ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - OPTIONS - correctly replies # time=60.548ms
    
    # Subtest: OPTIONS - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - OPTIONS - correctly replies with very large body # time=9.802ms
    
    # Subtest: OPTIONS - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - OPTIONS - correctly replies if the content type has the charset # time=5.938ms
    
    # Subtest: OPTIONS without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - OPTIONS without schema - correctly replies # time=4.788ms
    
    # Subtest: OPTIONS with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - OPTIONS with body and querystring - correctly replies # time=5.242ms
    
    # Subtest: OPTIONS with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - OPTIONS with no body - correctly replies # time=32.06ms
    
    # Subtest: OPTIONS returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - OPTIONS returns 415 - incorrect media type if body is not json # time=5.125ms
    
    # Subtest: OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text # time=11.296ms
    
    # Subtest: OPTIONS returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 14 - OPTIONS returns 400 - Bad Request # time=14.106ms
    
    # Subtest: OPTIONS returns 413 - Payload Too Large
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - OPTIONS returns 413 - Payload Too Large # time=7.231ms
    
    # Subtest: OPTIONS should fail with empty body and application/json content-type
        1..0
    ok 16 - OPTIONS should fail with empty body and application/json content-type # time=0.754ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - OPTIONS - correctly replies # time=4.826ms
    
    # Subtest: OPTIONS - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - OPTIONS - 400 on bad parameters # time=5.57ms
    
    # Subtest: OPTIONS - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - OPTIONS - input-validation coerce # time=4.479ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - OPTIONS - input-validation custom schema compiler # time=4.482ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - OPTIONS - input-validation joi schema compiler ok # time=6.326ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - OPTIONS - input-validation joi schema compiler ko # time=6.584ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - OPTIONS - input-validation yup schema compiler ok # time=6.585ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - OPTIONS - input-validation yup schema compiler ko # time=5.801ms
    
    # Subtest: OPTIONS - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - OPTIONS - input-validation instance custom schema compiler encapsulated # time=4.227ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 26 - OPTIONS - input-validation custom schema compiler encapsulated # time=4.307ms
    
    ok 27 - type is object
    ok 28 - type is Request
    ok 29 - type is object
    ok 30 - type is Request
    ok 31 - type is object
    ok 32 - type is Request
    ok 33 - type is object
    ok 34 - type is Request
    ok 35 - type is object
    ok 36 - type is Request
    1..36
    # time=1395.736ms
ok 72 - test/options.error-handler.test.js # time=1395.736ms

# Subtest: test/options.test.js
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - OPTIONS can be created # time=8.952ms
    
    # Subtest: OPTIONS without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - OPTIONS without schema can be created # time=1.92ms
    
    # Subtest: OPTIONS with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - OPTIONS with body and querystring # time=1.505ms
    
    # Subtest: OPTIONS with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - OPTIONS with bodyLimit option # time=1.664ms
    
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - OPTIONS can be created # time=3.034ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - OPTIONS - correctly replies # time=63.158ms
    
    # Subtest: OPTIONS - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - OPTIONS - correctly replies with very large body # time=9.477ms
    
    # Subtest: OPTIONS - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - OPTIONS - correctly replies if the content type has the charset # time=5.857ms
    
    # Subtest: OPTIONS without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - OPTIONS without schema - correctly replies # time=5.625ms
    
    # Subtest: OPTIONS with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - OPTIONS with body and querystring - correctly replies # time=5.151ms
    
    # Subtest: OPTIONS with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - OPTIONS with no body - correctly replies # time=31.07ms
    
    # Subtest: OPTIONS returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - OPTIONS returns 415 - incorrect media type if body is not json # time=3.994ms
    
    # Subtest: OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text # time=5.059ms
    
    # Subtest: OPTIONS returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 14 - OPTIONS returns 400 - Bad Request # time=6.996ms
    
    # Subtest: OPTIONS returns 413 - Payload Too Large
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - OPTIONS returns 413 - Payload Too Large # time=6.344ms
    
    # Subtest: OPTIONS should fail with empty body and application/json content-type
        1..0
    ok 16 - OPTIONS should fail with empty body and application/json content-type # time=0.623ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - OPTIONS - correctly replies # time=4.541ms
    
    # Subtest: OPTIONS - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - OPTIONS - 400 on bad parameters # time=4.926ms
    
    # Subtest: OPTIONS - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - OPTIONS - input-validation coerce # time=4.757ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - OPTIONS - input-validation custom schema compiler # time=4.518ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - OPTIONS - input-validation joi schema compiler ok # time=6.165ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - OPTIONS - input-validation joi schema compiler ko # time=5.973ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - OPTIONS - input-validation yup schema compiler ok # time=6.012ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - OPTIONS - input-validation yup schema compiler ko # time=5.185ms
    
    # Subtest: OPTIONS - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - OPTIONS - input-validation instance custom schema compiler encapsulated # time=3.681ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 26 - OPTIONS - input-validation custom schema compiler encapsulated # time=3.854ms
    
    1..26
    # time=1004.893ms
ok 73 - test/options.test.js # time=1004.893ms

# Subtest: test/output-validation.test.js
    # Subtest: shorthand - output string
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - output string # time=10.428ms
    
    # Subtest: shorthand - output number
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - output number # time=2.286ms
    
    # Subtest: wrong object for schema - output
        1..1
        ok 1 - (unnamed test)
    ok 3 - wrong object for schema - output # time=2.117ms
    
    # Subtest: empty response
        1..1
        ok 1 - (unnamed test)
    ok 4 - empty response # time=2.221ms
    
    # Subtest: unlisted response code
        1..1
        ok 1 - (unnamed test)
    ok 5 - unlisted response code # time=1.854ms
    
    ok 6 - should not error
    # Subtest: shorthand - string get ok
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - shorthand - string get ok # time=39.615ms
    
    # Subtest: shorthand - number get ok
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 8 - shorthand - number get ok # time=6.29ms
    
    # Subtest: shorthand - wrong-object-for-schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 9 - shorthand - wrong-object-for-schema # time=6.9ms
    
    # Subtest: shorthand - empty
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - shorthand - empty # time=4.406ms
    
    # Subtest: shorthand - 400
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - shorthand - 400 # time=11.656ms
    
    1..11
    # time=242.805ms
ok 74 - test/output-validation.test.js # time=242.805ms

# Subtest: test/patch.error-handler.test.js
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PATCH can be created # time=9.199ms
    
    # Subtest: PATCH without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PATCH without schema can be created # time=1.907ms
    
    # Subtest: PATCH with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PATCH with body and querystring # time=1.464ms
    
    # Subtest: PATCH with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PATCH with bodyLimit option # time=1.655ms
    
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - PATCH can be created # time=2.687ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - PATCH - correctly replies # time=60.354ms
    
    # Subtest: PATCH - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - PATCH - correctly replies with very large body # time=9.098ms
    
    # Subtest: PATCH - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - PATCH - correctly replies if the content type has the charset # time=5.343ms
    
    # Subtest: PATCH without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - PATCH without schema - correctly replies # time=5.134ms
    
    # Subtest: PATCH with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - PATCH with body and querystring - correctly replies # time=5.487ms
    
    # Subtest: PATCH with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - PATCH with no body - correctly replies # time=27.188ms
    
    # Subtest: PATCH returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - PATCH returns 415 - incorrect media type if body is not json # time=6.077ms
    
    # Subtest: PATCH returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 13 - PATCH returns 400 - Bad Request # time=7.705ms
    
    # Subtest: PATCH returns 413 - Payload Too Large
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 14 - PATCH returns 413 - Payload Too Large # time=13.891ms
    
    # Subtest: PATCH should fail with empty body and application/json content-type
        1..12
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
    ok 15 - PATCH should fail with empty body and application/json content-type # time=19.986ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - PATCH - correctly replies # time=4.766ms
    
    # Subtest: PATCH - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - PATCH - 400 on bad parameters # time=4.398ms
    
    # Subtest: PATCH - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - PATCH - input-validation coerce # time=3.941ms
    
    # Subtest: PATCH - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - PATCH - input-validation custom schema compiler # time=4.074ms
    
    # Subtest: PATCH - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - PATCH - input-validation joi schema compiler ok # time=5.665ms
    
    # Subtest: PATCH - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - PATCH - input-validation joi schema compiler ko # time=5.268ms
    
    # Subtest: PATCH - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - PATCH - input-validation yup schema compiler ok # time=5.104ms
    
    # Subtest: PATCH - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - PATCH - input-validation yup schema compiler ko # time=5.061ms
    
    # Subtest: PATCH - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - PATCH - input-validation instance custom schema compiler encapsulated # time=3.993ms
    
    # Subtest: PATCH - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - PATCH - input-validation custom schema compiler encapsulated # time=10.229ms
    
    ok 26 - type is object
    ok 27 - type is Request
    ok 28 - type is object
    ok 29 - type is Request
    ok 30 - type is object
    ok 31 - type is Request
    ok 32 - type is object
    ok 33 - type is Request
    ok 34 - type is object
    ok 35 - type is Request
    ok 36 - type is object
    ok 37 - type is Request
    ok 38 - type is object
    ok 39 - type is Request
    ok 40 - type is object
    ok 41 - type is Request
    ok 42 - type is object
    ok 43 - type is Request
    ok 44 - type is object
    ok 45 - type is Request
    ok 46 - type is object
    ok 47 - type is Request
    ok 48 - type is object
    ok 49 - type is Request
    1..49
    # time=1019.233ms
ok 75 - test/patch.error-handler.test.js # time=1019.233ms

# Subtest: test/patch.test.js
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PATCH can be created # time=9.604ms
    
    # Subtest: PATCH without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PATCH without schema can be created # time=2.146ms
    
    # Subtest: PATCH with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PATCH with body and querystring # time=1.745ms
    
    # Subtest: PATCH with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PATCH with bodyLimit option # time=1.681ms
    
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - PATCH can be created # time=2.629ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - PATCH - correctly replies # time=55.642ms
    
    # Subtest: PATCH - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - PATCH - correctly replies with very large body # time=9.293ms
    
    # Subtest: PATCH - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - PATCH - correctly replies if the content type has the charset # time=5.542ms
    
    # Subtest: PATCH without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - PATCH without schema - correctly replies # time=5.302ms
    
    # Subtest: PATCH with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - PATCH with body and querystring - correctly replies # time=5.619ms
    
    # Subtest: PATCH with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - PATCH with no body - correctly replies # time=30.574ms
    
    # Subtest: PATCH returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - PATCH returns 415 - incorrect media type if body is not json # time=5.863ms
    
    # Subtest: PATCH returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 13 - PATCH returns 400 - Bad Request # time=8.334ms
    
    # Subtest: PATCH returns 413 - Payload Too Large
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 14 - PATCH returns 413 - Payload Too Large # time=13.954ms
    
    # Subtest: PATCH should fail with empty body and application/json content-type
        1..12
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
    ok 15 - PATCH should fail with empty body and application/json content-type # time=20.992ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - PATCH - correctly replies # time=5.603ms
    
    # Subtest: PATCH - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - PATCH - 400 on bad parameters # time=5.287ms
    
    # Subtest: PATCH - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - PATCH - input-validation coerce # time=4.552ms
    
    # Subtest: PATCH - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - PATCH - input-validation custom schema compiler # time=4.666ms
    
    # Subtest: PATCH - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - PATCH - input-validation joi schema compiler ok # time=6.344ms
    
    # Subtest: PATCH - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - PATCH - input-validation joi schema compiler ko # time=6.321ms
    
    # Subtest: PATCH - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - PATCH - input-validation yup schema compiler ok # time=6.043ms
    
    # Subtest: PATCH - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - PATCH - input-validation yup schema compiler ko # time=5.992ms
    
    # Subtest: PATCH - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - PATCH - input-validation instance custom schema compiler encapsulated # time=4.344ms
    
    # Subtest: PATCH - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - PATCH - input-validation custom schema compiler encapsulated # time=4.409ms
    
    1..25
    # time=1024.196ms
ok 76 - test/patch.test.js # time=1024.196ms

# Subtest: test/plugin.test.js
    # Subtest: require a plugin
        1..1
        ok 1 - expect truthy value
    ok 1 - require a plugin # time=101.838ms
    
    # Subtest: plugin metadata - ignore prefix
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 2 - plugin metadata - ignore prefix # time=40.876ms
    
    # Subtest: plugin metadata - naming plugins
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 3 - plugin metadata - naming plugins # time=10.814ms
    
    # Subtest: fastify.register with fastify-plugin should not encapsulate his code
        1..10
        ok 1 - expect falsey value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 4 - fastify.register with fastify-plugin should not encapsulate his code # time=48.195ms
    
    # Subtest: fastify.register with fastify-plugin should provide access to external fastify instance if opts argument is a function
        1..22
        ok 1 - expect falsey value
        ok 2 - expect falsey value
        ok 3 - expect falsey value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect falsey value
        ok 10 - expect truthy value
        ok 11 - expect falsey value
        ok 12 - expect truthy value
        ok 13 - expect truthy value
        ok 14 - should be equal
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - should not error
        ok 18 - expect truthy value
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equal
        ok 22 - should be equivalent
    ok 5 - fastify.register with fastify-plugin should provide access to external fastify instance if opts argument is a function # time=34.333ms
    
    # Subtest: fastify.register with fastify-plugin registers fastify level plugins
        1..15
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should not error
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equivalent
    ok 6 - fastify.register with fastify-plugin registers fastify level plugins # time=18.179ms
    
    # Subtest: check dependencies - should not throw
        1..12
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - should not error
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
    ok 7 - check dependencies - should not throw # time=20.256ms
    
    # Subtest: check dependencies - should throw
        1..12
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - should not error
        ok 7 - expect truthy value
        ok 8 - expect falsey value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
    ok 8 - check dependencies - should throw # time=26.15ms
    
    # Subtest: set the plugin name based on the plugin displayName symbol
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
    ok 9 - set the plugin name based on the plugin displayName symbol # time=7.237ms
    
    # Subtest: plugin name will change when using no encapsulation
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
    ok 10 - plugin name will change when using no encapsulation # time=6.63ms
    
    # Subtest: plugin name is undefined when accessing in no plugin context
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 11 - plugin name is undefined when accessing in no plugin context # time=7.587ms
    
    # Subtest: set the plugin name based on the plugin function name
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 12 - set the plugin name based on the plugin function name # time=7.124ms
    
    # Subtest: approximate a plugin name when no meta data is available
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
    ok 13 - approximate a plugin name when no meta data is available # time=7.669ms
    
    # Subtest: approximate a plugin name also when fastify-plugin has no meta data
        1..4
        ok 1 - should match pattern provided
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should not error
    ok 14 - approximate a plugin name also when fastify-plugin has no meta data # time=7.19ms
    
    # Subtest: plugin encapsulation
        1..10
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 15 - plugin encapsulation # time=22.96ms
    
    # Subtest: if a plugin raises an error and there is not a callback to handle it, the server must not start
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 16 - if a plugin raises an error and there is not a callback to handle it, the server must not start # time=4.993ms
    
    # Subtest: add hooks after route declaration
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 17 - add hooks after route declaration # time=15.707ms
    
    # Subtest: nested plugins
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 18 - nested plugins # time=16.487ms
    
    # Subtest: nested plugins awaited
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 19 - nested plugins awaited # time=15.982ms
    
    # Subtest: plugin metadata - decorators
        1..1
        ok 1 - expect truthy value
    ok 20 - plugin metadata - decorators # time=4.442ms
    
    # Subtest: plugin metadata - decorators - should throw
        1..1
        ok 1 - should be equal
    ok 21 - plugin metadata - decorators - should throw # time=6.719ms
    
    # Subtest: plugin metadata - decorators - should throw with plugin name
        1..1
        ok 1 - should be equal
    ok 22 - plugin metadata - decorators - should throw with plugin name # time=3.474ms
    
    # Subtest: plugin metadata - dependencies
        1..1
        ok 1 - everything right
    ok 23 - plugin metadata - dependencies # time=3.607ms
    
    # Subtest: plugin metadata - dependencies (nested)
        1..1
        ok 1 - everything right
    ok 24 - plugin metadata - dependencies (nested) # time=4.292ms
    
    # Subtest: pluginTimeout
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 25 - pluginTimeout # time=14.233ms
    
    # "pluginTimeout - named function" has `only` set but all tests run
    # Subtest: pluginTimeout - named function
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 26 - pluginTimeout - named function # time=14.369ms
    
    # Subtest: pluginTimeout default
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 27 - pluginTimeout default # time=-66574599.233ms
    
    # Subtest: plugin metadata - version
        1..1
        ok 1 - everything right
    ok 28 - plugin metadata - version # time=13.685ms
    
    # Subtest: plugin metadata - version range
        1..1
        ok 1 - everything right
    ok 29 - plugin metadata - version range # time=3.852ms
    
    # Subtest: plugin metadata - version not matching requirement
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 30 - plugin metadata - version not matching requirement # time=2.95ms
    
    # Subtest: plugin metadata - version not matching requirement 2
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 31 - plugin metadata - version not matching requirement 2 # time=2.969ms
    
    # Subtest: plugin metadata - version not matching requirement 3
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 32 - plugin metadata - version not matching requirement 3 # time=2.737ms
    
    # Subtest: plugin metadata - release candidate
        1..2
        ok 1 - should not error
        ok 2 - everything right
    ok 33 - plugin metadata - release candidate # time=4.116ms
    
    # Subtest: fastify-rc loads prior version plugins
        1..2
        ok 1 - should not error
        ok 2 - everything right
    ok 34 - fastify-rc loads prior version plugins # time=3.294ms
    
    # Subtest: hasPlugin method exists as a function
        1..1
        ok 1 - should be equal
    ok 35 - hasPlugin method exists as a function # time=1.049ms
    
    # Subtest: hasPlugin returns true if the specified plugin has been registered
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
    ok 36 - hasPlugin returns true if the specified plugin has been registered # time=5.247ms
    
    # Subtest: hasPlugin returns false if the specified plugin has not been registered
        1..1
        ok 1 - expect falsey value
    ok 37 - hasPlugin returns false if the specified plugin has not been registered # time=1.002ms
    
    # Subtest: hasPlugin returns false when using encapsulation
        1..25
        ok 1 - expect truthy value
        ok 2 - expect falsey value
        ok 3 - expect falsey value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect truthy value
        ok 8 - expect falsey value
        ok 9 - expect falsey value
        ok 10 - expect falsey value
        ok 11 - expect falsey value
        ok 12 - expect falsey value
        ok 13 - expect truthy value
        ok 14 - expect falsey value
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - expect falsey value
        ok 18 - expect falsey value
        ok 19 - expect truthy value
        ok 20 - expect falsey value
        ok 21 - expect falsey value
        ok 22 - expect falsey value
        ok 23 - expect falsey value
        ok 24 - expect falsey value
        ok 25 - expect truthy value
    ok 38 - hasPlugin returns false when using encapsulation # time=32.711ms
    
    # Subtest: hasPlugin returns true when using no encapsulation
        1..26
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect falsey value
        ok 10 - expect falsey value
        ok 11 - expect falsey value
        ok 12 - expect truthy value
        ok 13 - expect truthy value
        ok 14 - expect truthy value
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - expect truthy value
        ok 18 - expect truthy value
        ok 19 - expect truthy value
        ok 20 - expect truthy value
        ok 21 - expect falsey value
        ok 22 - expect truthy value
        ok 23 - expect truthy value
        ok 24 - expect truthy value
        ok 25 - expect truthy value
        ok 26 - expect truthy value
    ok 39 - hasPlugin returns true when using no encapsulation # time=6.895ms
    
    1..39
    # time=594.248ms
ok 77 - test/plugin.test.js # time=594.248ms

# Subtest: test/pretty-print.test.js
    # Subtest: pretty print - static routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - pretty print - static routes # time=58.843ms
    
    # Subtest: pretty print - parametric routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - pretty print - parametric routes # time=7.098ms
    
    # Subtest: pretty print - mixed parametric routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 3 - pretty print - mixed parametric routes # time=7.111ms
    
    # Subtest: pretty print - wildcard routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - pretty print - wildcard routes # time=9.666ms
    
    # Subtest: pretty print - empty plugins
        1..2
        ok 1 - should be equal
        ok 2 - should match pattern provided
    ok 5 - pretty print - empty plugins # time=29.223ms
    
    # Subtest: pretty print - nested plugins
        1..4
        ok 1 - should be equal
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
    ok 6 - pretty print - nested plugins # time=20.733ms
    
    # Subtest: pretty print - commonPrefix
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 7 - pretty print - commonPrefix # time=30.832ms
    
    # Subtest: pretty print - includeMeta, includeHooks
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 8 - pretty print - includeMeta, includeHooks # time=27.683ms
    
    1..8
    # time=209.893ms
ok 78 - test/pretty-print.test.js # time=209.893ms

# Subtest: test/promises.test.js
    ok 1 - should not error
    # Subtest: shorthand - sget return promise es6 get
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - shorthand - sget return promise es6 get # time=41.32ms
    
    # Subtest: shorthand - sget promise es6 get return error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 3 - shorthand - sget promise es6 get return error # time=8.22ms
    
    # Subtest: sget promise double send
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 4 - sget promise double send # time=6.722ms
    
    # Subtest: thenable
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 5 - thenable # time=7.254ms
    
    # Subtest: thenable (error)
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 6 - thenable (error) # time=4.752ms
    
    # Subtest: return-reply
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - return-reply # time=6.423ms
    
    1..7
    # time=142.033ms
ok 79 - test/promises.test.js # time=142.033ms

# Subtest: test/proto-poisoning.test.js
    # Subtest: proto-poisoning error
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 1 - proto-poisoning error # time=71.528ms
    
    # Subtest: proto-poisoning remove
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 2 - proto-poisoning remove # time=12.86ms
    
    # Subtest: proto-poisoning ignore
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 3 - proto-poisoning ignore # time=23.365ms
    
    # Subtest: constructor-poisoning error (default in v3)
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 4 - constructor-poisoning error (default in v3) # time=15.065ms
    
    # Subtest: constructor-poisoning error
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 5 - constructor-poisoning error # time=7.984ms
    
    # Subtest: constructor-poisoning remove
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 6 - constructor-poisoning remove # time=7.555ms
    
    1..6
    # time=148.806ms
ok 80 - test/proto-poisoning.test.js # time=148.806ms

# Subtest: test/put.error-handler.test.js
    # Subtest: PUT can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PUT can be created # time=10.62ms
    
    # Subtest: PUT without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PUT without schema can be created # time=2.178ms
    
    # Subtest: PUT with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PUT with body and querystring # time=1.742ms
    
    # Subtest: PUT with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PUT with bodyLimit option # time=1.917ms
    
    # Subtest: PUT can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - PUT can be created # time=2.593ms
    
    # Subtest: PUT - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - PUT - correctly replies # time=60.948ms
    
    # Subtest: PUT - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - PUT - correctly replies with very large body # time=9.997ms
    
    # Subtest: PUT - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - PUT - correctly replies if the content type has the charset # time=6.852ms
    
    # Subtest: PUT without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - PUT without schema - correctly replies # time=6.437ms
    
    # Subtest: PUT with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - PUT with body and querystring - correctly replies # time=6.705ms
    
    # Subtest: PUT with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - PUT with no body - correctly replies # time=35.931ms
    
    # Subtest: PUT returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - PUT returns 415 - incorrect media type if body is not json # time=7.399ms
    
    # Subtest: PUT returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 13 - PUT returns 400 - Bad Request # time=11.146ms
    
    # Subtest: PUT returns 413 - Payload Too Large
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 14 - PUT returns 413 - Payload Too Large # time=16.911ms
    
    # Subtest: PUT should fail with empty body and application/json content-type
        1..12
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
    ok 15 - PUT should fail with empty body and application/json content-type # time=25.184ms
    
    # Subtest: PUT - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - PUT - correctly replies # time=4.897ms
    
    # Subtest: PUT - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - PUT - 400 on bad parameters # time=4.408ms
    
    # Subtest: PUT - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - PUT - input-validation coerce # time=3.985ms
    
    # Subtest: PUT - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - PUT - input-validation custom schema compiler # time=4.097ms
    
    # Subtest: PUT - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - PUT - input-validation joi schema compiler ok # time=5.424ms
    
    # Subtest: PUT - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - PUT - input-validation joi schema compiler ko # time=5.14ms
    
    # Subtest: PUT - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - PUT - input-validation yup schema compiler ok # time=5.177ms
    
    # Subtest: PUT - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - PUT - input-validation yup schema compiler ko # time=5.035ms
    
    # Subtest: PUT - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - PUT - input-validation instance custom schema compiler encapsulated # time=4.432ms
    
    # Subtest: PUT - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - PUT - input-validation custom schema compiler encapsulated # time=3.348ms
    
    ok 26 - type is object
    ok 27 - type is Request
    ok 28 - type is object
    ok 29 - type is Request
    ok 30 - type is object
    ok 31 - type is Request
    ok 32 - type is object
    ok 33 - type is Request
    ok 34 - type is object
    ok 35 - type is Request
    ok 36 - type is object
    ok 37 - type is Request
    ok 38 - type is object
    ok 39 - type is Request
    ok 40 - type is object
    ok 41 - type is Request
    ok 42 - type is object
    ok 43 - type is Request
    ok 44 - type is object
    ok 45 - type is Request
    ok 46 - type is object
    ok 47 - type is Request
    ok 48 - type is object
    ok 49 - type is Request
    1..49
    # time=1048.617ms
ok 81 - test/put.error-handler.test.js # time=1048.617ms

# Subtest: test/put.test.js
    # Subtest: PUT can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PUT can be created # time=9.044ms
    
    # Subtest: PUT without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PUT without schema can be created # time=1.898ms
    
    # Subtest: PUT with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PUT with body and querystring # time=1.484ms
    
    # Subtest: PUT with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PUT with bodyLimit option # time=1.652ms
    
    # Subtest: PUT can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - PUT can be created # time=2.875ms
    
    # Subtest: PUT - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - PUT - correctly replies # time=66.808ms
    
    # Subtest: PUT - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - PUT - correctly replies with very large body # time=9.342ms
    
    # Subtest: PUT - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - PUT - correctly replies if the content type has the charset # time=5.429ms
    
    # Subtest: PUT without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - PUT without schema - correctly replies # time=5.362ms
    
    # Subtest: PUT with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - PUT with body and querystring - correctly replies # time=5.498ms
    
    # Subtest: PUT with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - PUT with no body - correctly replies # time=27.291ms
    
    # Subtest: PUT returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - PUT returns 415 - incorrect media type if body is not json # time=6.148ms
    
    # Subtest: PUT returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 13 - PUT returns 400 - Bad Request # time=7.722ms
    
    # Subtest: PUT returns 413 - Payload Too Large
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 14 - PUT returns 413 - Payload Too Large # time=13.724ms
    
    # Subtest: PUT should fail with empty body and application/json content-type
        1..12
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
    ok 15 - PUT should fail with empty body and application/json content-type # time=21.525ms
    
    # Subtest: PUT - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - PUT - correctly replies # time=5.183ms
    
    # Subtest: PUT - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - PUT - 400 on bad parameters # time=4.776ms
    
    # Subtest: PUT - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - PUT - input-validation coerce # time=4.167ms
    
    # Subtest: PUT - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - PUT - input-validation custom schema compiler # time=4.201ms
    
    # Subtest: PUT - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - PUT - input-validation joi schema compiler ok # time=7.193ms
    
    # Subtest: PUT - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - PUT - input-validation joi schema compiler ko # time=5.555ms
    
    # Subtest: PUT - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - PUT - input-validation yup schema compiler ok # time=5.582ms
    
    # Subtest: PUT - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - PUT - input-validation yup schema compiler ko # time=5.517ms
    
    # Subtest: PUT - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - PUT - input-validation instance custom schema compiler encapsulated # time=10.484ms
    
    # Subtest: PUT - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - PUT - input-validation custom schema compiler encapsulated # time=4.305ms
    
    1..25
    # time=1008.57ms
ok 82 - test/put.test.js # time=1008.57ms

./VariantsPureDep/fastify/variant12/fastify

> fastify@4.3.0 test
> npm run lint && npm run unit && npm run test:typescript


> fastify@4.3.0 lint
> npm run lint:standard && npm run lint:typescript && npm run lint:markdown


> fastify@4.3.0 lint:standard
> standard | snazzy

-----------------------------|---------|----------|---------|---------|-----------------------------
File                         | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s           
-----------------------------|---------|----------|---------|---------|-----------------------------
All files                    |   92.78 |    92.03 |    92.3 |   92.91 |                             
 fastify                     |   85.23 |    88.12 |   82.14 |    84.9 |                             
  fastify.js                 |   85.23 |    88.12 |   82.14 |    84.9 | ...,676-695,721-724,732-743 
 fastify/lib                 |   93.85 |    92.55 |   94.23 |   94.06 |                             
  contentTypeParser.js       |    97.8 |    99.15 |     100 |   97.64 | 233-236                     
  context.js                 |     100 |      100 |     100 |     100 |                             
  decorate.js                |   98.21 |    98.03 |     100 |   98.07 | 41                          
  error-handler.js           |    94.2 |    93.61 |     100 |    94.2 | 108-110,118                 
  errors.js                  |     100 |      100 |     100 |     100 |                             
  fourOhFour.js              |     100 |      100 |     100 |     100 |                             
  handleRequest.js           |   98.48 |    98.03 |     100 |   98.41 | 97                          
  headRoute.js               |      20 |     12.5 |   33.33 |   14.28 | 4-21,26                     
  hooks.js                   |     100 |      100 |     100 |     100 |                             
  initialConfigValidation.js |     100 |      100 |     100 |     100 |                             
  logger.js                  |     100 |      100 |     100 |     100 |                             
  noop-set.js                |     100 |      100 |     100 |     100 |                             
  pluginOverride.js          |   97.56 |       90 |     100 |    97.5 | 75                          
  pluginUtils.js             |     100 |      100 |     100 |     100 |                             
  reply.js                   |    87.7 |    84.86 |   88.88 |   88.76 | ...-618,622-627,648-654,659 
  reqIdGenFactory.js         |     100 |      100 |     100 |     100 |                             
  request.js                 |   87.96 |    90.62 |      80 |   89.42 | 45-54,157-167,206,211       
  route.js                   |   88.84 |    88.04 |     100 |   88.69 | ...,355-362,396-397,461,465 
  schema-controller.js       |    92.3 |    79.41 |   84.61 |    92.3 | 23,58,71                    
  schemas.js                 |   92.64 |    93.65 |   88.88 |   94.02 | 28,32,43,147                
  server.js                  |     100 |      100 |     100 |     100 |                             
  symbols.js                 |     100 |      100 |     100 |     100 |                             
  validation.js              |   98.55 |    96.55 |     100 |   98.43 | 22                          
  warnings.js                |     100 |      100 |     100 |     100 |                             
  wrapThenable.js            |   93.33 |       90 |     100 |   93.33 | 11                          
-----------------------------|---------|----------|---------|---------|-----------------------------

> fastify@4.3.0 lint:typescript
> eslint -c types/.eslintrc.json types/**/*.d.ts test/types/**/*.test-d.ts


> fastify@4.3.0 lint:markdown
> markdownlint-cli2

markdownlint-cli2 v0.4.0 (markdownlint v0.25.1)

> fastify@4.3.0 unit
> tap

TAP version 13
# Subtest: test/404s.test.js
    # Subtest: default 404
        1..4
        ok 1 - should not error
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - unsupported method # time=30.787ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - framework-unsupported method # time=6.088ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - unsupported route # time=4.966ms
        
    ok 1 - default 404 # time=194.866ms
    
    # Subtest: customized 404
        1..6
        ok 1 - should not error
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - unsupported method # time=10.502ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - framework-unsupported method # time=6.288ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - unsupported route # time=3.595ms
        
        # Subtest: with error object
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - with error object # time=8.734ms
        
        # Subtest: error object with headers property
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 6 - error object with headers property # time=4.869ms
        
    ok 2 - customized 404 # time=47.851ms
    
    # Subtest: custom header in notFound handler
        1..2
        ok 1 - should not error
        # Subtest: not found with custom header
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
        ok 2 - not found with custom header # time=13.76ms
        
    ok 3 - custom header in notFound handler # time=36.723ms
    
    # Subtest: setting a custom 404 handler multiple times is an error
        1..5
        # Subtest: at the root level
            1..2
            ok 1 - type is Error
            ok 2 - should be equal
        ok 1 - at the root level # time=2.864ms
        
        # Subtest: at the plugin level
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 2 - at the plugin level # time=24.311ms
        
        # Subtest: at multiple levels
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 3 - at multiple levels # time=7.167ms
        
        # Subtest: at multiple levels / 2
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 4 - at multiple levels / 2 # time=11.821ms
        
        # Subtest: in separate plugins at the same level
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 5 - in separate plugins at the same level # time=18.421ms
        
    ok 4 - setting a custom 404 handler multiple times is an error # time=75.097ms
    
    # Subtest: encapsulated 404
        1..13
        ok 1 - should not error
        # Subtest: root unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - root unsupported method # time=19.071ms
        
        # Subtest: root framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - root framework-unsupported method # time=3.855ms
        
        # Subtest: root unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - root unsupported route # time=3.72ms
        
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 5 - unsupported method # time=4.194ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 6 - framework-unsupported method # time=3.888ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 7 - unsupported route # time=3.618ms
        
        # Subtest: unsupported method 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 8 - unsupported method 2 # time=3.685ms
        
        # Subtest: framework-unsupported method 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 9 - framework-unsupported method 2 # time=3.529ms
        
        # Subtest: unsupported route 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 10 - unsupported route 2 # time=3.514ms
        
        # Subtest: unsupported method 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 11 - unsupported method 3 # time=3.855ms
        
        # Subtest: framework-unsupported method 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 12 - framework-unsupported method 3 # time=3.184ms
        
        # Subtest: unsupported route 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 13 - unsupported route 3 # time=3.301ms
        
    ok 5 - encapsulated 404 # time=105.732ms
    
    # Subtest: custom 404 hook and handler context
        1..21
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should not error
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equal
    ok 6 - custom 404 hook and handler context # time=73.055ms
    
    # Subtest: encapsulated custom 404 without - prefix hook and handler context
        1..13
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equal
    ok 7 - encapsulated custom 404 without - prefix hook and handler context # time=11.91ms
    
    # Subtest: run hooks on default 404
        1..7
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - preHandler called
        ok 4 - onSend called
        ok 5 - onResponse called
        ok 6 - should not error
        ok 7 - should be equal
    ok 8 - run hooks on default 404 # time=45.935ms
    
    # Subtest: run non-encapsulated plugin hooks on default 404
        1..6
        ok 1 - onRequest called
        ok 2 - preHandler called
        ok 3 - onSend called
        ok 4 - onResponse called
        ok 5 - should not error
        ok 6 - should be equal
    ok 9 - run non-encapsulated plugin hooks on default 404 # time=11.356ms
    
    # Subtest: run non-encapsulated plugin hooks on custom 404
        1..11
        ok 1 - onRequest called
        ok 2 - onRequest called
        ok 3 - preHandler called
        ok 4 - preHandler called
        ok 5 - onSend called
        ok 6 - onSend called
        ok 7 - onResponse called
        ok 8 - onResponse called
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
    ok 10 - run non-encapsulated plugin hooks on custom 404 # time=13.858ms
    
    # Subtest: run hook with encapsulated 404
        1..11
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - onRequest 2 called
        ok 4 - preHandler called
        ok 5 - preHandler 2 called
        ok 6 - onSend called
        ok 7 - onSend 2 called
        ok 8 - onResponse called
        ok 9 - onResponse 2 called
        ok 10 - should not error
        ok 11 - should be equal
    ok 11 - run hook with encapsulated 404 # time=14.683ms
    
    # Subtest: run hook with encapsulated 404 and framework-unsupported method
        1..11
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - onRequest 2 called
        ok 4 - preHandler called
        ok 5 - preHandler 2 called
        ok 6 - onSend called
        ok 7 - onSend 2 called
        ok 8 - onResponse called
        ok 9 - onResponse 2 called
        ok 10 - should not error
        ok 11 - should be equal
    ok 12 - run hook with encapsulated 404 and framework-unsupported method # time=13.064ms
    
    # Subtest: hooks check 404
        1..13
        ok 1 - should not error
        ok 2 - onRequest
        ok 3 - should be equivalent
        ok 4 - onSend
        ok 5 - onResponse
        ok 6 - onRequest
        ok 7 - should be equivalent
        ok 8 - onSend
        ok 9 - onResponse
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should not error
        ok 13 - should be equal
    ok 13 - hooks check 404 # time=28.41ms
    
    # Subtest: setNotFoundHandler should not suppress duplicated routes checking
        1..1
        ok 1 - expect truthy value
    ok 14 - setNotFoundHandler should not suppress duplicated routes checking # time=3.561ms
    
    # Subtest: log debug for 404
        1..1
        # Subtest: log debug
            1..7
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
        ok 1 - log debug # time=8.191ms
        
    ok 15 - log debug for 404 # time=14.968ms
    
    # Subtest: Unknown method
        1..5
        ok 1 - should not error
        ok 2 - expected to throw
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent strictly
    ok 16 - Unknown method # time=45.67ms
    
    # Subtest: recognizes errors from the http-errors module
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent strictly
    ok 17 - recognizes errors from the http-errors module # time=14.35ms
    
    # Subtest: the default 404 handler can be invoked inside a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
    ok 18 - the default 404 handler can be invoked inside a prefixed plugin # time=6.585ms
    
    # Subtest: an inherited custom 404 handler can be invoked inside a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - an inherited custom 404 handler can be invoked inside a prefixed plugin # time=6.468ms
    
    # Subtest: encapsulated custom 404 handler without a prefix is the handler for the entire 404 level
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 20 - encapsulated custom 404 handler without a prefix is the handler for the entire 404 level # time=10.029ms
    
    # Subtest: cannot set notFoundHandler after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 21 - cannot set notFoundHandler after binding # time=4.231ms
    
    # Subtest: 404 inside onSend
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 22 - 404 inside onSend # time=6.441ms
    
    # Subtest: onSend hooks run when an encapsulated route invokes the notFound handler
        1..3
        ok 1 - onSend hook called
        ok 2 - should not error
        ok 3 - should be equal
    ok 23 - onSend hooks run when an encapsulated route invokes the notFound handler # time=5.525ms
    
    # Subtest: preHandler option for setNotFoundHandler
        1..10
        # Subtest: preHandler option
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 1 - preHandler option # time=51.985ms
        
        # Subtest: preHandler hook in setNotFoundHandler should be called when callNotFound
            1..3
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 2 - preHandler hook in setNotFoundHandler should be called when callNotFound # time=6.559ms
        
        # Subtest: preHandler hook in setNotFoundHandler should accept an array of functions and be called when callNotFound
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 3 - preHandler hook in setNotFoundHandler should accept an array of functions and be called when callNotFound # time=5.339ms
        
        # Subtest: preHandler option should be called after preHandler hook
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 4 - preHandler option should be called after preHandler hook # time=5.043ms
        
        # Subtest: preHandler option should be unique per prefix
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 5 - preHandler option should be unique per prefix # time=15.775ms
        
        # Subtest: preHandler option should handle errors
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 6 - preHandler option should handle errors # time=5.354ms
        
        # Subtest: preHandler option should handle errors with custom status code
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 7 - preHandler option should handle errors with custom status code # time=5.268ms
        
        # Subtest: preHandler option could accept an array of functions
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 8 - preHandler option could accept an array of functions # time=4.654ms
        
        # Subtest: preHandler option does not interfere with preHandler
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 9 - preHandler option does not interfere with preHandler # time=9.094ms
        
        # Subtest: preHandler option should keep the context
            1..3
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 10 - preHandler option should keep the context # time=4.994ms
        
    ok 24 - preHandler option for setNotFoundHandler # time=126.179ms
    
    # Subtest: reply.notFound invoked the notFound handler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - reply.notFound invoked the notFound handler # time=4.991ms
    
    # Subtest: The custom error handler should be invoked after the custom not found handler
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - type is Error
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 26 - The custom error handler should be invoked after the custom not found handler # time=5.983ms
    
    # Subtest: If the custom not found handler does not use an Error, the custom error handler should not be called
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 27 - If the custom not found handler does not use an Error, the custom error handler should not be called # time=4.208ms
    
    # Subtest: preValidation option
        1..3
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 28 - preValidation option # time=4.983ms
    
    # Subtest: preValidation option could accept an array of functions
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 29 - preValidation option could accept an array of functions # time=4.898ms
    
    # Subtest: Should fail to invoke callNotFound inside a 404 handler
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 30 - Should fail to invoke callNotFound inside a 404 handler # time=6.559ms
    
    # Subtest: 400 in case of bad url (pre find-my-way v2.2.0 was a 404)
        # Subtest: Dynamic route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 1 - Dynamic route # time=18.871ms
        
        # Subtest: Wildcard
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - Wildcard # time=5.542ms
        
        # Subtest: No route registered
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - No route registered # time=25.67ms
        
        # Subtest: Only / is registered
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - Only / is registered # time=13.389ms
        
        # Subtest: customized 404
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - customized 404 # time=15.355ms
        
        1..5
    ok 31 - 400 in case of bad url (pre find-my-way v2.2.0 was a 404) # time=109.634ms
    
    # Subtest: setNotFoundHandler should be chaining fastify instance
        # Subtest: Register route after setNotFoundHandler
            1..6
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should not error
            ok 5 - should be equal
            ok 6 - should be equal
        ok 1 - Register route after setNotFoundHandler # time=7.224ms
        
        1..1
    ok 32 - setNotFoundHandler should be chaining fastify instance # time=13.587ms
    
    # Subtest: Send 404 when frameworkError calls reply.callNotFound
        # Subtest: Dynamic route
            1..4
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 1 - Dynamic route # time=5.819ms
        
        1..1
    ok 33 - Send 404 when frameworkError calls reply.callNotFound # time=10.987ms
    
    1..33
    # time=1112.806ms
ok 1 - test/404s.test.js # time=1112.806ms

# Subtest: test/500s.test.js
    # Subtest: default 500
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - default 500 # time=76.602ms
    
    # Subtest: custom 500
        1..6
        ok 1 - type is object
        ok 2 - type is Request
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 2 - custom 500 # time=11.486ms
    
    # Subtest: encapsulated 500
        1..10
        ok 1 - type is object
        ok 2 - type is Request
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 3 - encapsulated 500 # time=20.844ms
    
    # Subtest: custom 500 with hooks
        1..7
        ok 1 - onRequest
        ok 2 - onSend
        ok 3 - onResponse
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 4 - custom 500 with hooks # time=9.913ms
    
    # Subtest: cannot set errorHandler after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 5 - cannot set errorHandler after binding # time=30.739ms
    
    1..5
    # time=160.075ms
ok 2 - test/500s.test.js # time=160.075ms

# Subtest: test/allowUnsafeRegex.test.js
    # Subtest: allow unsafe regex
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - allow unsafe regex # time=69.789ms
    
    # Subtest: allow unsafe regex not match
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 2 - allow unsafe regex not match # time=11.531ms
    
    # Subtest: allow unsafe regex not safe
        1..1
        ok 1 - expected to throw
    ok 3 - allow unsafe regex not safe # time=92.301ms
    
    # Subtest: allow unsafe regex not safe by default
        1..1
        ok 1 - expected to throw
    ok 4 - allow unsafe regex not safe by default # time=3.094ms
    
    # Subtest: allow unsafe regex allow unsafe
        1..5
        ok 1 - expected to not throw
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 5 - allow unsafe regex allow unsafe # time=16.428ms
    
    1..5
    # time=229.258ms
ok 3 - test/allowUnsafeRegex.test.js # time=229.258ms

# Subtest: test/als.test.js
    ok 1 - should not error
    ok 2 - expect truthy value
    ok 3 - should not error
    ok 4 - should be equal
    ok 5 - should be equivalent
    ok 6 - expect truthy value
    ok 7 - should not error
    ok 8 - should be equal
    ok 9 - should be equivalent
    ok 10 - expect truthy value
    ok 11 - should not error
    ok 12 - should be equal
    ok 13 - should be equivalent
    1..13
    # time=44.317ms
ok 4 - test/als.test.js # time=44.317ms

# Subtest: test/async-await.test.js
    # Subtest: async await
        1..11
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 1 - async await # time=309.703ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (undefined)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 2 - ignore the result of the promise if reply.send is called beforehand (undefined) # time=12.729ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (object)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 3 - ignore the result of the promise if reply.send is called beforehand (object) # time=13.466ms
    
    # Subtest: server logs an error if reply.send is called and a value is returned via async/await
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 4 - server logs an error if reply.send is called and a value is returned via async/await # time=95.209ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (undefined)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 5 - ignore the result of the promise if reply.send is called beforehand (undefined) # time=17.293ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (object)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 6 - ignore the result of the promise if reply.send is called beforehand (object) # time=25.987ms
    
    # Subtest: await reply if we will be calling reply.send in the future
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 7 - await reply if we will be calling reply.send in the future # time=13.848ms
    
    # Subtest: await reply if we will be calling reply.send in the future (error case)
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 8 - await reply if we will be calling reply.send in the future (error case) # time=18.862ms
    
    # Subtest: support reply decorators with await
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 9 - support reply decorators with await # time=24.203ms
    
    # Subtest: inject async await
        1..1
        ok 1 - should be equivalent
    ok 10 - inject async await # time=13.226ms
    
    # Subtest: inject async await - when the server equal up
        1..2
        ok 1 - should be equivalent
        ok 2 - should be equivalent
    ok 11 - inject async await - when the server equal up # time=207.31ms
    
    # Subtest: async await plugin
        1..1
        ok 1 - should be equivalent
    ok 12 - async await plugin # time=222.469ms
    
    # Subtest: does not call reply.send() twice if 204 response equal already sent
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - does not call reply.send() twice if 204 response equal already sent # time=30.219ms
    
    # Subtest: promise was fulfilled with undefined
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - promise was fulfilled with undefined # time=27.287ms
    
    # Subtest: error is not logged because promise was fulfilled with undefined but response was sent before promise resolution
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 15 - error is not logged because promise was fulfilled with undefined but response was sent before promise resolution # time=24.681ms
    
    # Subtest: Thrown Error instance sets HTTP status code
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - Thrown Error instance sets HTTP status code # time=17.355ms
    
    # Subtest: customErrorHandler support
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 17 - customErrorHandler support # time=6.772ms
    
    # Subtest: customErrorHandler support without throwing
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - customErrorHandler support without throwing # time=5.725ms
    
    # Subtest: customErrorHandler only called if reply not already sent
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - customErrorHandler only called if reply not already sent # time=5.294ms
    
    # Subtest: setNotFoundHandler should accept return value
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - setNotFoundHandler should accept return value # time=7.239ms
    
    # Subtest: customErrorHandler should accept return value
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 21 - customErrorHandler should accept return value # time=6.416ms
    
    # Subtest: await self
        ok 1 - should be equal
        1..1
    ok 22 - await self # time=2.586ms
    
    1..22
    # time=1128.149ms
ok 5 - test/async-await.test.js # time=1128.149ms

# Subtest: test/bodyLimit.test.js
    # Subtest: bodyLimit
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should not error
        ok 5 - should be equal
    ok 1 - bodyLimit # time=38.828ms
    
    1..1
    # time=43.49ms
ok 6 - test/bodyLimit.test.js # time=43.49ms

# Subtest: test/build/error-serializer.test.js
    # Subtest: check generated code syntax
        1..1
        ok 1 - should be equal
    ok 1 - check generated code syntax # time=3843.358ms
    
    ok 2 - ensure the current error serializer is latest # SKIP
    1..2
    # skip: 1
    # time=3910.894ms
ok 7 - test/build/error-serializer.test.js # time=3910.894ms

# Subtest: test/build/version.test.js
    # Subtest: should be the same as package.json
        1..1
        ok 1 - should be equal
    ok 1 - should be the same as package.json # time=6.685ms
    
    1..1
    # time=12.975ms
ok 8 - test/build/version.test.js # time=12.975ms

# Subtest: test/case-insensitive.test.js
    # Subtest: case insensitive
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - case insensitive # time=67.421ms
    
    # Subtest: case insensitive inject
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - case insensitive inject # time=33.678ms
    
    # Subtest: case insensitive (parametric)
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 3 - case insensitive (parametric) # time=10.866ms
    
    # Subtest: case insensitive (wildcard)
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 4 - case insensitive (wildcard) # time=22.003ms
    
    1..4
    # time=155.907ms
ok 9 - test/case-insensitive.test.js # time=155.907ms

# Subtest: test/chainable.test.js
    # Subtest: chainable - get
        1..1
        ok 1 - type is [object Object]
    ok 1 - chainable - get # time=10.415ms
    
    # Subtest: chainable - post
        1..1
        ok 1 - type is [object Object]
    ok 2 - chainable - post # time=2.498ms
    
    # Subtest: chainable - route
        1..1
        ok 1 - type is [object Object]
    ok 3 - chainable - route # time=2.571ms
    
    1..3
    # time=28.49ms
ok 10 - test/chainable.test.js # time=28.49ms

# Subtest: test/close-pipelining.test.js
    # Subtest: Should return 503 while closing - pipelining
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        1..3
    ok 1 - Should return 503 while closing - pipelining # time=129.684ms
    
    # Subtest: Should not return 503 while closing - pipelining - return503OnClosing
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        1..3
    ok 2 - Should not return 503 while closing - pipelining - return503OnClosing # time=13.27ms
    
    1..2
    # time=147.945ms
ok 11 - test/close-pipelining.test.js # time=147.945ms

# Subtest: test/close.test.js
    # Subtest: close callback
        1..4
        ok 1 - should not error
        ok 2 - type is [object Object]
        ok 3 - should not error
        ok 4 - expect truthy value
    ok 1 - close callback # time=75.259ms
    
    # Subtest: inside register
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - expect truthy value
    ok 2 - inside register # time=36.203ms
    
    # Subtest: close order
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 3 - close order # time=32.011ms
    
    # Subtest: close order - async
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 4 - close order - async # time=12.956ms
    
    # Subtest: should not throw an error if the server is not listening
        1..2
        ok 1 - type is [object Object]
        ok 2 - should not error
    ok 5 - should not throw an error if the server is not listening # time=3.611ms
    
    # Subtest: onClose should keep the context
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
    ok 6 - onClose should keep the context # time=14.146ms
    
    # Subtest: Should return error while closing (promise) - injection
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 7 - Should return error while closing (promise) - injection # time=108.704ms
    
    # Subtest: Should return error while closing (callback) - injection
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 8 - Should return error while closing (callback) - injection # time=110.407ms
    
    # Subtest: Current opened connection should continue to work after closing and return "connection: close" header - return503OnClosing: false
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        1..5
    ok 9 - Current opened connection should continue to work after closing and return "connection: close" header - return503OnClosing: false # time=24.617ms
    
    # Subtest: Current opened connection should not accept new incoming connections
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 10 - Current opened connection should not accept new incoming connections # time=269.422ms
    
    # Subtest: Cannot be reopened the closed server without listen callback
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 11 - Cannot be reopened the closed server without listen callback # time=8.645ms
    
    # Subtest: Cannot be reopened the closed server has listen callback
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 12 - Cannot be reopened the closed server has listen callback # time=4.646ms
    
    ok 13 - shutsdown while keep-alive connections are active (non-async, native) # SKIP
    ok 14 - shutsdown while keep-alive connections are active (non-async, idle, native) # SKIP
    # Subtest: shutsdown while keep-alive connections are active (non-async, custom)
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 15 - shutsdown while keep-alive connections are active (non-async, custom) # time=9.388ms
    
    1..15
    # skip: 2
    # time=748.217ms
ok 12 - test/close.test.js # time=748.217ms

# Subtest: test/connectionTimeout.test.js
    # Subtest: connectionTimeout
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 1 - connectionTimeout # time=42.698ms
    
    1..1
    # time=49.064ms
ok 13 - test/connectionTimeout.test.js # time=49.064ms

# Subtest: test/constrained-routes.test.js
    # Subtest: Should register a host constrained route
        1..7
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 1 - Should register a host constrained route # time=112.304ms
    
    # Subtest: Should register the same route with host constraints
        1..8
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 2 - Should register the same route with host constraints # time=13.226ms
    
    # Subtest: Should allow registering custom constrained routes
        1..8
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 3 - Should allow registering custom constrained routes # time=38.073ms
    
    # Subtest: Should allow registering custom constrained routes outside constructor
        1..8
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 4 - Should allow registering custom constrained routes outside constructor # time=18.901ms
    
    # Subtest: Add a constraint strategy after fastify instance was started
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - Cannot add constraint strategy when fastify instance is already started!
    ok 5 - Add a constraint strategy after fastify instance was started # time=7.377ms
    
    # Subtest: Add a constraint strategy should throw an error if there already exist custom strategy with the same name
        1..1
        ok 1 - There already exists a custom constraint with the name secret.
    ok 6 - Add a constraint strategy should throw an error if there already exist custom strategy with the same name # time=2.049ms
    
    # Subtest: Add a constraint strategy shouldn't throw an error if default constraint with the same name isn't used
        1..1
        ok 1 - (unnamed test)
    ok 7 - Add a constraint strategy shouldn't throw an error if default constraint with the same name isn't used # time=1.829ms
    
    # Subtest: Add a constraint strategy should throw an error if default constraint with the same name is used
        1..1
        ok 1 - There already exists a route with version constraint.
    ok 8 - Add a constraint strategy should throw an error if default constraint with the same name is used # time=2.827ms
    
    # Subtest: The hasConstraintStrategy should return false for default constraints until they are used
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 9 - The hasConstraintStrategy should return false for default constraints until they are used # time=5.481ms
    
    # Subtest: The hasConstraintStrategy should return true if there already exist a custom constraint with the same name
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 10 - The hasConstraintStrategy should return true if there already exist a custom constraint with the same name # time=3.029ms
    
    # Subtest: Should allow registering an unconstrained route after a constrained route
        1..6
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
    ok 11 - Should allow registering an unconstrained route after a constrained route # time=17.245ms
    
    # Subtest: Should allow registering constrained routes in a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 12 - Should allow registering constrained routes in a prefixed plugin # time=29.342ms
    
    # Subtest: Should allow registering a constrained GET route after a constrained HEAD route
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 13 - Should allow registering a constrained GET route after a constrained HEAD route # time=16.22ms
    
    # Subtest: Should allow registering a constrained GET route after an unconstrained HEAD route
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 14 - Should allow registering a constrained GET route after an unconstrained HEAD route # time=15.997ms
    
    # Subtest: Will not try to re-createprefixed HEAD route if it already exists and exposeHeadRoutes is true for constrained routes
        1..1
        ok 1 - expect truthy value
    ok 15 - Will not try to re-createprefixed HEAD route if it already exists and exposeHeadRoutes is true for constrained routes # time=7.885ms
    
    # Subtest: allows separate constrained and unconstrained HEAD routes
        1..1
        ok 1 - expect truthy value
    ok 16 - allows separate constrained and unconstrained HEAD routes # time=6.572ms
    
    1..16
    # time=321.454ms
ok 14 - test/constrained-routes.test.js # time=321.454ms

# Subtest: test/content-length.test.js
    # Subtest: default 413 with bodyLimit option
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - default 413 with bodyLimit option # time=73.471ms
    
    # Subtest: default 400 with wrong content-length
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - default 400 with wrong content-length # time=11.619ms
    
    # Subtest: custom 413 with bodyLimit option
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 3 - custom 413 with bodyLimit option # time=17.075ms
    
    # Subtest: custom 400 with wrong content-length
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 4 - custom 400 with wrong content-length # time=15.291ms
    
    # Subtest: \#2214 - wrong content-length
        ok 1 - should be equal
        1..1
    ok 5 - \#2214 - wrong content-length # time=11.301ms
    
    # Subtest: \#2543 - wrong content-length with errorHandler
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 6 - \#2543 - wrong content-length with errorHandler # time=6.443ms
    
    1..6
    # time=142.405ms
ok 15 - test/content-length.test.js # time=142.405ms

# Subtest: test/content-parser.test.js
    # Subtest: hasContentTypeParser
        1..0
    ok 1 - hasContentTypeParser # time=13.815ms
    
    # Subtest: should know about internal parsers
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
    ok 2 - should know about internal parsers # time=42.034ms
    
    # Subtest: should work with string and RegExp
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect falsey value
    ok 3 - should work with string and RegExp # time=5.317ms
    
    # Subtest: getParser
        1..0
    ok 4 - getParser # time=88.906ms
    
    # Subtest: existingParser
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect falsey value
        1..7
    ok 5 - existingParser # time=15.689ms
    
    # Subtest: add
        1..0
    ok 6 - add # time=9.184ms
    
    # Subtest: non-Error thrown from content parser is properly handled
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 7 - non-Error thrown from content parser is properly handled # time=38.508ms
    
    # Subtest: Error thrown 415 from content type is null and make post request to server
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 8 - Error thrown 415 from content type is null and make post request to server # time=17.684ms
    
    # Subtest: remove
        1..0
    ok 9 - remove # time=18.311ms
    
    # Subtest: remove all should remove all existing parsers and reset cache
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
    ok 10 - remove all should remove all existing parsers and reset cache # time=5.634ms
    
    # Subtest: should return matching parser
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 11 - should return matching parser # time=2.332ms
    
    # Subtest: should return matching parser with caching
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 12 - should return matching parser with caching # time=2.374ms
    
    # Subtest: should prefer content type parser with string value
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 13 - should prefer content type parser with string value # time=2.42ms
    
    # Subtest: should return parser that catches all if no other is set
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 14 - should return parser that catches all if no other is set # time=3.049ms
    
    # Subtest: should return undefined if no matching parser exist
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 15 - should return undefined if no matching parser exist # time=2.401ms
    
    # Subtest: returns always false for "*"
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 16 - returns always false for "*" # time=1.609ms
    
    # Subtest: let you override the default parser once
        1..2
        ok 1 - Content type parser 'application/json' already present
        ok 2 - Content type parser 'text/plain' already present
    ok 17 - let you override the default parser once # time=4.952ms
    
    # Subtest: should only accept string and RegExp
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - The content type should be a string or a RegExp
        ok 4 - The content type should be a string or a RegExp
    ok 18 - should only accept string and RegExp # time=4.447ms
    
    # Subtest: should set "*" as parser that catches all
        1..1
        ok 1 - should be equal
    ok 19 - should set "*" as parser that catches all # time=1.362ms
    
    # Subtest: should remove default parser
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 20 - should remove default parser # time=1.547ms
    
    # Subtest: should remove RegExp parser
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 21 - should remove RegExp parser # time=1.475ms
    
    # Subtest: should throw an error if content type is neither string nor RegExp
        1..1
        ok 1 - expected to throw
    ok 22 - should throw an error if content type is neither string nor RegExp # time=1.81ms
    
    # Subtest: should not throw error if content type does not exist
        1..1
        ok 1 - expected to not throw
    ok 23 - should not throw error if content type does not exist # time=1.424ms
    
    # Subtest: should not remove any content type parser if content type does not exist
        1..1
        ok 1 - should be equivalent
    ok 24 - should not remove any content type parser if content type does not exist # time=1.984ms
    
    1..24
    # time=319.252ms
ok 16 - test/content-parser.test.js # time=319.252ms

# Subtest: test/context-config.test.js
    # Subtest: config
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 1 - config # time=78.67ms
    
    # Subtest: config with exposeHeadRoutes
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 2 - config with exposeHeadRoutes # time=13.735ms
    
    # Subtest: config without exposeHeadRoutes
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 3 - config without exposeHeadRoutes # time=23.078ms
    
    1..3
    # time=129.841ms
ok 17 - test/context-config.test.js # time=129.841ms

# Subtest: test/custom-http-server.test.js
    # Subtest: Should support a custom http server
        1..4
        ok 1 - it is called twice for every HOST interface
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - Should support a custom http server # time=64.972ms
    
    # Subtest: Should not allow forceCloseConnection=idle if the server does not support closeIdleConnections
        1..1
        ok 1 - Cannot set forceCloseConnections to 'idle' as your HTTP server does not support closeIdleConnections method
    ok 2 - Should not allow forceCloseConnection=idle if the server does not support closeIdleConnections # time=4.246ms
    
    1..2
    # time=77.891ms
ok 18 - test/custom-http-server.test.js # time=77.891ms

# Subtest: test/custom-parser-async.test.js
    # Subtest: contentTypeParser should add a custom async parser
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=31.118ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=7.414ms
        
    ok 1 - contentTypeParser should add a custom async parser # time=109.575ms
    
    1..1
    # time=114.887ms
ok 19 - test/custom-parser-async.test.js # time=114.887ms

# Subtest: test/custom-parser.test.js
    # Subtest: contentTypeParser method should exist
        1..1
        ok 1 - expect truthy value
    ok 1 - contentTypeParser method should exist # time=15.082ms
    
    # Subtest: contentTypeParser should add a custom parser
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=35.28ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=6.701ms
        
    ok 2 - contentTypeParser should add a custom parser # time=195.413ms
    
    # Subtest: contentTypeParser should handle multiple custom parsers
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 3 - contentTypeParser should handle multiple custom parsers # time=14.319ms
    
    # Subtest: contentTypeParser should handle an array of custom contentTypes
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 4 - contentTypeParser should handle an array of custom contentTypes # time=36.515ms
    
    # Subtest: contentTypeParser should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 5 - contentTypeParser should handle errors # time=10.111ms
    
    # Subtest: contentTypeParser should support encapsulation
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - expect falsey value
        ok 6 - expect falsey value
    ok 6 - contentTypeParser should support encapsulation # time=8.745ms
    
    # Subtest: contentTypeParser should support encapsulation, second try
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - contentTypeParser should support encapsulation, second try # time=28.896ms
    
    # Subtest: contentTypeParser shouldn't support request with undefined "Content-Type"
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 8 - contentTypeParser shouldn't support request with undefined "Content-Type" # time=12.037ms
    
    # Subtest: the content type should be a string or RegExp
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 9 - the content type should be a string or RegExp # time=2.584ms
    
    # Subtest: the content type cannot be an empty string
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 10 - the content type cannot be an empty string # time=2.905ms
    
    # Subtest: the content type handler should be a function
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 11 - the content type handler should be a function # time=2.568ms
    
    # Subtest: catch all content type parser
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 12 - catch all content type parser # time=12.832ms
    
    # Subtest: catch all content type parser should not interfere with other conte type parsers
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 13 - catch all content type parser should not interfere with other conte type parsers # time=36.018ms
    
    # Subtest: '*' catch undefined Content-Type requests
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - '*' catch undefined Content-Type requests # time=14.194ms
    
    # Subtest: cannot add custom parser after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 15 - cannot add custom parser after binding # time=5.524ms
    
    # Subtest: Can override the default json parser
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 16 - Can override the default json parser # time=22.083ms
    
    # Subtest: Can override the default plain text parser
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 17 - Can override the default plain text parser # time=18.514ms
    
    # Subtest: Can override the default json parser in a plugin
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 18 - Can override the default json parser in a plugin # time=10.673ms
    
    # Subtest: Can't override the json parser multiple times
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 19 - Can't override the json parser multiple times # time=2.398ms
    
    # Subtest: Can't override the plain text parser multiple times
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 20 - Can't override the plain text parser multiple times # time=2.524ms
    
    # Subtest: Should get the body as string
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 21 - Should get the body as string # time=18.122ms
    
    # Subtest: Should return defined body with no custom parser defined and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 22 - Should return defined body with no custom parser defined and content type = 'text/plain' # time=7.697ms
    
    # Subtest: Should have typeof body object with no custom parser defined, no body defined and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 23 - Should have typeof body object with no custom parser defined, no body defined and content type = 'text/plain' # time=6.37ms
    
    # Subtest: Should have typeof body object with no custom parser defined, null body and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 24 - Should have typeof body object with no custom parser defined, null body and content type = 'text/plain' # time=6.526ms
    
    # Subtest: Should have typeof body object with no custom parser defined, undefined body and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 25 - Should have typeof body object with no custom parser defined, undefined body and content type = 'text/plain' # time=6.47ms
    
    # Subtest: Should get the body as string
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 26 - Should get the body as string # time=6.674ms
    
    # Subtest: Should get the body as buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 27 - Should get the body as buffer # time=7.406ms
    
    # Subtest: Should get the body as buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 28 - Should get the body as buffer # time=6.701ms
    
    # Subtest: Should parse empty bodies as a string
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 29 - Should parse empty bodies as a string # time=11.411ms
    
    # Subtest: Should parse empty bodies as a buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 30 - Should parse empty bodies as a buffer # time=16.571ms
    
    # Subtest: The charset should not interfere with the content type handling
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 31 - The charset should not interfere with the content type handling # time=6.587ms
    
    # Subtest: Wrong parseAs parameter
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 32 - Wrong parseAs parameter # time=1.497ms
    
    # Subtest: Should allow defining the bodyLimit per parser
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent strictly
    ok 33 - Should allow defining the bodyLimit per parser # time=8.715ms
    
    # Subtest: route bodyLimit should take precedence over a custom parser bodyLimit
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent strictly
    ok 34 - route bodyLimit should take precedence over a custom parser bodyLimit # time=22.35ms
    
    # Subtest: should be able to use default parser for extra content type
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent strictly
    ok 35 - should be able to use default parser for extra content type # time=7.169ms
    
    # Subtest: contentTypeParser should add a custom parser with RegExp value
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=4.706ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=3.456ms
        
    ok 36 - contentTypeParser should add a custom parser with RegExp value # time=14.471ms
    
    # Subtest: contentTypeParser should add multiple custom parsers with RegExp values
        1..6
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 37 - contentTypeParser should add multiple custom parsers with RegExp values # time=35.493ms
    
    # Subtest: catch all content type parser should not interfere with content type parser
        1..10
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 38 - catch all content type parser should not interfere with content type parser # time=13.363ms
    
    # Subtest: should prefer string content types over RegExp ones
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 39 - should prefer string content types over RegExp ones # time=22.72ms
    
    # Subtest: removeContentTypeParser should support arrays of content types to remove
        1..8
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 40 - removeContentTypeParser should support arrays of content types to remove # time=9.288ms
    
    # Subtest: removeContentTypeParser should support encapsulation
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 41 - removeContentTypeParser should support encapsulation # time=8.819ms
    
    # Subtest: removeAllContentTypeParsers should support encapsulation
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 42 - removeAllContentTypeParsers should support encapsulation # time=13.264ms
    
    # Subtest: cannot remove all content type parsers after binding
        1..2
        ok 1 - should not error
        ok 2 - expected to throw
    ok 43 - cannot remove all content type parsers after binding # time=3.594ms
    
    # Subtest: cannot remove content type parsers after binding
        1..2
        ok 1 - should not error
        ok 2 - expected to throw
    ok 44 - cannot remove content type parsers after binding # time=2.723ms
    
    # Subtest: should be able to override the default json parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 45 - should be able to override the default json parser after removeAllContentTypeParsers # time=5.859ms
    
    # Subtest: should be able to override the default plain text parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 46 - should be able to override the default plain text parser after removeAllContentTypeParsers # time=5.615ms
    
    # Subtest: should be able to add a custom content type parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 47 - should be able to add a custom content type parser after removeAllContentTypeParsers # time=6.936ms
    
    1..47
    # time=771.621ms
ok 20 - test/custom-parser.test.js # time=771.621ms

# Subtest: test/custom-querystring-parser.test.js
    # Subtest: Custom querystring parser
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 1 - Custom querystring parser # time=125.366ms
    
    # Subtest: Custom querystring parser should be called also if there is nothing to parse
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 2 - Custom querystring parser should be called also if there is nothing to parse # time=33.601ms
    
    # Subtest: Querystring without value
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 3 - Querystring without value # time=18.238ms
    
    # Subtest: Custom querystring parser should be a function
        1..1
        ok 1 - should be equal
    ok 4 - Custom querystring parser should be a function # time=1.414ms
    
    1..4
    # time=218.775ms
ok 21 - test/custom-querystring-parser.test.js # time=218.775ms

# Subtest: test/decorator.test.js
    # Subtest: server methods should exist
        1..2
        ok 1 - expect truthy value
        ok 2 - expect truthy value
    ok 1 - server methods should exist # time=15.246ms
    
    # Subtest: should check if the given decoration already exist when null
        1..1
        ok 1 - expect truthy value
    ok 2 - should check if the given decoration already exist when null # time=75.686ms
    
    # Subtest: server methods should be encapsulated via .register
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 3 - server methods should be encapsulated via .register # time=7.928ms
    
    # Subtest: hasServerMethod should check if the given method already exist
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 4 - hasServerMethod should check if the given method already exist # time=19.053ms
    
    # Subtest: decorate should throw if a declared dependency is not present
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - (unnamed test)
    ok 5 - decorate should throw if a declared dependency is not present # time=13.832ms
    
    # Subtest: decorate should throw if declared dependency is not array
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - (unnamed test)
    ok 6 - decorate should throw if declared dependency is not array # time=6.273ms
    
    # Subtest: should pass error for missing request decorator
        1..2
        ok 1 - type is Error
        ok 2 - should match pattern provided
    ok 7 - should pass error for missing request decorator # time=7.157ms
    
    # Subtest: decorateReply inside register
        1..11
        ok 1 - should not error
        ok 2 - test exists
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 8 - decorateReply inside register # time=50.639ms
    
    # Subtest: decorateReply as plugin (inside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 9 - decorateReply as plugin (inside .after) # time=38.042ms
    
    # Subtest: decorateReply as plugin (outside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 10 - decorateReply as plugin (outside .after) # time=16.463ms
    
    # Subtest: decorateRequest inside register
        1..11
        ok 1 - should not error
        ok 2 - test exists
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 11 - decorateRequest inside register # time=17.921ms
    
    # Subtest: decorateRequest as plugin (inside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 12 - decorateRequest as plugin (inside .after) # time=39.911ms
    
    # Subtest: decorateRequest as plugin (outside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 13 - decorateRequest as plugin (outside .after) # time=17.014ms
    
    # Subtest: decorators should be instance separated
        1..1
        ok 1 - (unnamed test)
    ok 14 - decorators should be instance separated # time=2.492ms
    
    # Subtest: hasRequestDecorator
        # Subtest: is a function
            1..1
            ok 1 - expect truthy value
        ok 1 - is a function # time=1.949ms
        
        # Subtest: should check if the given request decoration already exist
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 2 - should check if the given request decoration already exist # time=2.555ms
        
        # Subtest: should check if the given request decoration already exist when null
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 3 - should check if the given request decoration already exist when null # time=2.609ms
        
        # Subtest: should be plugin encapsulable
            1..4
            ok 1 - expect falsey value
            ok 2 - expect falsey value
            ok 3 - expect truthy value
            ok 4 - expect falsey value
        ok 4 - should be plugin encapsulable # time=15.195ms
        
        # Subtest: should be inherited
            1..2
            ok 1 - expect truthy value
            ok 2 - expect truthy value
        ok 5 - should be inherited # time=6.194ms
        
        1..5
    ok 15 - hasRequestDecorator # time=51.857ms
    
    # Subtest: hasReplyDecorator
        # Subtest: is a function
            1..1
            ok 1 - expect truthy value
        ok 1 - is a function # time=1.884ms
        
        # Subtest: should check if the given reply decoration already exist
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 2 - should check if the given reply decoration already exist # time=2.344ms
        
        # Subtest: should check if the given reply decoration already exist when null
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 3 - should check if the given reply decoration already exist when null # time=2.548ms
        
        # Subtest: should be plugin encapsulable
            1..4
            ok 1 - expect falsey value
            ok 2 - expect falsey value
            ok 3 - expect truthy value
            ok 4 - expect falsey value
        ok 4 - should be plugin encapsulable # time=10.697ms
        
        # Subtest: should be inherited
            1..2
            ok 1 - expect truthy value
            ok 2 - expect truthy value
        ok 5 - should be inherited # time=5.113ms
        
        1..5
    ok 16 - hasReplyDecorator # time=125.979ms
    
    # Subtest: should register properties via getter/setter objects
        1..3
        ok 1 - expect truthy value
        ok 2 - a getter
        ok 3 - expect falsey value
    ok 17 - should register properties via getter/setter objects # time=4.2ms
    
    # Subtest: decorateRequest should work with getter/setter
        1..5
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - (unnamed test)
    ok 18 - decorateRequest should work with getter/setter # time=32.162ms
    
    # Subtest: decorateReply should work with getter/setter
        1..5
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - (unnamed test)
    ok 19 - decorateReply should work with getter/setter # time=15.465ms
    
    # Subtest: should register empty values
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 20 - should register empty values # time=3.62ms
    
    # Subtest: nested plugins can override things
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 21 - nested plugins can override things # time=5.034ms
    
    # Subtest: a decorator should addSchema to all the encapsulated tree
        1..1
        ok 1 - should not error
    ok 22 - a decorator should addSchema to all the encapsulated tree # time=4.565ms
    
    # Subtest: after can access to a decorated instance and previous plugin decoration
        1..11
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
    ok 23 - after can access to a decorated instance and previous plugin decoration # time=9.587ms
    
    # Subtest: decorate* should throw if called after ready
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 24 - decorate* should throw if called after ready # time=22.062ms
    
    # Subtest: decorate* should emit warning if an array is passed
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 25 - decorate* should emit warning if an array is passed # time=27.586ms
    
    # Subtest: decorate* should emit warning if object type is passed
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 26 - decorate* should emit warning if object type is passed # time=22.684ms
    
    # Subtest: decorate* should not emit warning if object with getter/setter is passed
        1..0
    ok 27 - decorate* should not emit warning if object with getter/setter is passed # time=22.872ms
    
    # Subtest: decorate* should not emit warning if string,bool,numbers are passed
        1..0
    ok 28 - decorate* should not emit warning if string,bool,numbers are passed # time=29.869ms
    
    # Subtest: Request/reply decorators should be able to access the server instance
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not be equal
        ok 4 - should be equal
        ok 5 - should not be equal
        ok 6 - should be equal
    ok 29 - Request/reply decorators should be able to access the server instance # time=10.21ms
    
    # Subtest: plugin required decorators
        1..0
    ok 30 - plugin required decorators # time=5.454ms
    
    # Subtest: decorateRequest/decorateReply empty string
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 31 - decorateRequest/decorateReply empty string # time=7.459ms
    
    # Subtest: decorateRequest/decorateReply is undefined
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 32 - decorateRequest/decorateReply is undefined # time=7.108ms
    
    # Subtest: decorateRequest/decorateReply is not set to a value
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 33 - decorateRequest/decorateReply is not set to a value # time=7.497ms
    
    # Subtest: decorateRequest with dependencies
        1..2
        ok 1 - expected to not throw
        ok 2 - expect truthy value
    ok 34 - decorateRequest with dependencies # time=1.389ms
    
    # Subtest: decorateRequest with dependencies (functions)
        1..2
        ok 1 - expected to not throw
        ok 2 - expect truthy value
    ok 35 - decorateRequest with dependencies (functions) # time=1.24ms
    
    # Subtest: chain of decorators on Request
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        1..6
    ok 36 - chain of decorators on Request # time=17.006ms
    
    # Subtest: chain of decorators on Reply
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        1..6
    ok 37 - chain of decorators on Reply # time=16.659ms
    
    1..37
    # time=818.31ms
ok 22 - test/decorator.test.js # time=818.31ms

# Subtest: test/default-route.test.js
    # Subtest: should fail if defaultRoute is not a function
        1..1
        ok 1 - should be equal
    ok 1 - should fail if defaultRoute is not a function # time=20.096ms
    
    # Subtest: correctly sets, returns, and calls defaultRoute
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 2 - correctly sets, returns, and calls defaultRoute # time=40.41ms
    
    1..2
    # time=70.713ms
ok 23 - test/default-route.test.js # time=70.713ms

# Subtest: test/delete.test.js
    # Subtest: shorthand - delete
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - delete # time=9.031ms
    
    # Subtest: shorthand - delete params
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - delete params # time=2.039ms
    
    # Subtest: shorthand - delete, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - delete, querystring schema # time=1.5ms
    
    # Subtest: shorthand - get, headers schema
        1..1
        ok 1 - (unnamed test)
    ok 4 - shorthand - get, headers schema # time=1.421ms
    
    # Subtest: missing schema - delete
        1..1
        ok 1 - (unnamed test)
    ok 5 - missing schema - delete # time=1.431ms
    
    # Subtest: body - delete
        1..1
        ok 1 - (unnamed test)
    ok 6 - body - delete # time=1.137ms
    
    # Subtest: shorthand - delete with application/json Content-Type header and without body
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - shorthand - delete with application/json Content-Type header and without body # time=54.712ms
    
    ok 8 - should not error
    # Subtest: shorthand - request delete
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 9 - shorthand - request delete # time=54.19ms
    
    # Subtest: shorthand - request delete params schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 10 - shorthand - request delete params schema # time=17.878ms
    
    # Subtest: shorthand - request delete params schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 11 - shorthand - request delete params schema error # time=7.217ms
    
    # Subtest: shorthand - request delete headers schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 12 - shorthand - request delete headers schema # time=5.708ms
    
    # Subtest: shorthand - request delete headers schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 13 - shorthand - request delete headers schema error # time=5.401ms
    
    # Subtest: shorthand - request delete querystring schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 14 - shorthand - request delete querystring schema # time=13.997ms
    
    # Subtest: shorthand - request delete querystring schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 15 - shorthand - request delete querystring schema error # time=4.351ms
    
    # Subtest: shorthand - request delete missing schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 16 - shorthand - request delete missing schema # time=4.755ms
    
    # Subtest: shorthand - delete with body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - shorthand - delete with body # time=6.831ms
    
    1..17
    # time=340.872ms
ok 24 - test/delete.test.js # time=340.872ms

# Subtest: test/diagnostics-channel.test.js
    # Subtest: diagnostics_channel when present and subscribers
        1..3
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should be equal
    ok 1 - diagnostics_channel when present and subscribers # time=900.864ms
    
    # Subtest: diagnostics_channel when present and no subscribers
        1..1
        ok 1 - should be equal
    ok 2 - diagnostics_channel when present and no subscribers # time=23.28ms
    
    # Subtest: diagnostics_channel when not present
        1..1
        ok 1 - expected to not throw
    ok 3 - diagnostics_channel when not present # time=29.019ms
    
    1..3
    # time=967.545ms
ok 25 - test/diagnostics-channel.test.js # time=967.545ms

# Subtest: test/encapsulated-error-handler.test.js
    # Subtest: encapuslates an error handler
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 1 - encapuslates an error handler # time=76.842ms
    
    # Subtest: onError hook nested
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 2 - onError hook nested # time=9.766ms
    
    1..2
    # time=97.66ms
ok 26 - test/encapsulated-error-handler.test.js # time=97.66ms

# Subtest: test/esm/index.test.js
    # Subtest: named exports support
        ok 1 - should be equal
        1..1
    ok 1 - named exports support # time=33.988ms
    
    ok 2 - should be equal
    1..2
    # time=39.225ms
ok 27 - test/esm/index.test.js # time=39.225ms

# Subtest: test/fastify-instance.test.js
    # Subtest: root fastify instance is an object
        1..1
        ok 1 - type is object
    ok 1 - root fastify instance is an object # time=14.95ms
    
    # Subtest: fastify instance should contains ajv options
        1..1
        ok 1 - should be equivalent
    ok 2 - fastify instance should contains ajv options # time=5.812ms
    
    # Subtest: fastify instance should contains ajv options.plugins nested arrays
        1..1
        ok 1 - should be equivalent
    ok 3 - fastify instance should contains ajv options.plugins nested arrays # time=2.819ms
    
    # Subtest: fastify instance get invalid ajv options
        1..1
        ok 1 - expected to throw
    ok 4 - fastify instance get invalid ajv options # time=4.863ms
    
    # Subtest: fastify instance get invalid ajv options.plugins
        1..1
        ok 1 - expected to throw
    ok 5 - fastify instance get invalid ajv options.plugins # time=1.005ms
    
    # Subtest: fastify instance should contain default errorHandler
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 6 - fastify instance should contain default errorHandler # time=2.662ms
    
    # Subtest: errorHandler in plugin should be separate from the external one
        1..4
        ok 1 - should not be equivalent
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equivalent
    ok 7 - errorHandler in plugin should be separate from the external one # time=15.334ms
    
    1..7
    # time=72.27ms
ok 28 - test/fastify-instance.test.js # time=72.27ms

# Subtest: test/fluent-schema.test.js
    # Subtest: use fluent-json-schema object
        1..15
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equivalent
    ok 1 - use fluent-json-schema object # time=183.403ms
    
    # Subtest: use complex fluent-json-schema object
        1..1
        ok 1 - should not error
    ok 2 - use complex fluent-json-schema object # time=47.318ms
    
    # Subtest: use fluent schema and plain JSON schema
        1..1
        ok 1 - should not error
    ok 3 - use fluent schema and plain JSON schema # time=37.526ms
    
    # Subtest: Should call valueOf internally
        1..1
        ok 1 - should not error
    ok 4 - Should call valueOf internally # time=64.227ms
    
    1..4
    # time=341.18ms
ok 29 - test/fluent-schema.test.js # time=341.18ms

# Subtest: test/genReqId.test.js
    # Subtest: Should accept a custom genReqId function
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 1 - Should accept a custom genReqId function # time=65.27ms
    
    1..1
    # time=74.671ms
ok 30 - test/genReqId.test.js # time=74.671ms

# Subtest: test/get.test.js
    # Subtest: shorthand - get
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - get # time=9.459ms
    
    # Subtest: shorthand - get (return null)
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - get (return null) # time=2.092ms
    
    # Subtest: shorthand - get params
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - get params # time=3.487ms
    
    # Subtest: shorthand - get, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 4 - shorthand - get, querystring schema # time=1.944ms
    
    # Subtest: shorthand - get, headers schema
        1..1
        ok 1 - (unnamed test)
    ok 5 - shorthand - get, headers schema # time=1.906ms
    
    # Subtest: missing schema - get
        1..1
        ok 1 - (unnamed test)
    ok 6 - missing schema - get # time=1.504ms
    
    # Subtest: custom serializer - get
        1..1
        ok 1 - (unnamed test)
    ok 7 - custom serializer - get # time=2.026ms
    
    # Subtest: empty response
        1..1
        ok 1 - (unnamed test)
    ok 8 - empty response # time=1.445ms
    
    # Subtest: send a falsy boolean
        1..1
        ok 1 - (unnamed test)
    ok 9 - send a falsy boolean # time=1.414ms
    
    ok 10 - should not error
    # Subtest: shorthand - request get
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - shorthand - request get # time=61.98ms
    
    # Subtest: shorthand - request get params schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 12 - shorthand - request get params schema # time=6.748ms
    
    # Subtest: shorthand - request get params schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 13 - shorthand - request get params schema error # time=6.32ms
    
    # Subtest: shorthand - request get headers schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - shorthand - request get headers schema # time=4.749ms
    
    # Subtest: shorthand - request get headers schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 15 - shorthand - request get headers schema error # time=17.02ms
    
    # Subtest: shorthand - request get querystring schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 16 - shorthand - request get querystring schema # time=5.178ms
    
    # Subtest: shorthand - request get querystring schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - shorthand - request get querystring schema error # time=4.392ms
    
    # Subtest: shorthand - request get missing schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - shorthand - request get missing schema # time=4.31ms
    
    # Subtest: shorthand - custom serializer
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 19 - shorthand - custom serializer # time=5.105ms
    
    # Subtest: shorthand - empty response
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 20 - shorthand - empty response # time=4.154ms
    
    # Subtest: shorthand - send a falsy boolean
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - shorthand - send a falsy boolean # time=3.85ms
    
    # Subtest: shorthand - send null value
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - shorthand - send null value # time=3.688ms
    
    1..22
    # time=318.88ms
ok 31 - test/get.test.js # time=318.88ms

# Subtest: test/handler-context.test.js
    # Subtest: handlers receive correct `this` context
        1..4
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 1 - handlers receive correct `this` context # time=56.095ms
    
    # Subtest: handlers have access to the internal context
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - type is Object
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 2 - handlers have access to the internal context # time=16.622ms
    
    1..2
    # time=82.897ms
ok 32 - test/handler-context.test.js # time=82.897ms

# Subtest: test/head.test.js
    # Subtest: shorthand - head
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - head # time=9.992ms
    
    # Subtest: shorthand - head params
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - head params # time=2.549ms
    
    # Subtest: shorthand - head, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - head, querystring schema # time=1.572ms
    
    # Subtest: missing schema - head
        1..1
        ok 1 - (unnamed test)
    ok 4 - missing schema - head # time=1.545ms
    
    ok 5 - should not error
    # Subtest: shorthand - request head
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 6 - shorthand - request head # time=38.548ms
    
    # Subtest: shorthand - request head params schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 7 - shorthand - request head params schema # time=6.298ms
    
    # Subtest: shorthand - request head params schema error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 8 - shorthand - request head params schema error # time=6.414ms
    
    # Subtest: shorthand - request head querystring schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 9 - shorthand - request head querystring schema # time=6.496ms
    
    # Subtest: shorthand - request head querystring schema error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - shorthand - request head querystring schema error # time=4.834ms
    
    # Subtest: shorthand - request head missing schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 11 - shorthand - request head missing schema # time=4.353ms
    
    1..11
    # time=226.996ms
ok 33 - test/head.test.js # time=226.996ms

# Subtest: test/hooks-async.test.js
    # Subtest: async hooks
        1..21
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - should not error
        ok 13 - should be equal
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equivalent
        ok 18 - should not error
        ok 19 - should be equal
        ok 20 - expect truthy value
        ok 21 - expect truthy value
    ok 1 - async hooks # time=116.994ms
    
    # Subtest: modify payload
        1..10
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - expect truthy value
        ok 4 - should be equivalent
        ok 5 - expect truthy value
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
    ok 2 - modify payload # time=37.836ms
    
    # Subtest: onRequest hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 3 - onRequest hooks should be able to block a request # time=21.033ms
    
    # Subtest: preParsing hooks should be able to modify the payload
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 4 - preParsing hooks should be able to modify the payload # time=15.379ms
    
    # Subtest: preParsing hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 5 - preParsing hooks should handle errors # time=6.958ms
    
    # Subtest: preHandler hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 6 - preHandler hooks should be able to block a request # time=19.483ms
    
    # Subtest: preValidation hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 7 - preValidation hooks should be able to block a request # time=14.075ms
    
    # Subtest: preValidation hooks should be able to change request body before validation
        1..4
        ok 1 - (unnamed test)
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - preValidation hooks should be able to change request body before validation # time=85.905ms
    
    # Subtest: preSerialization hooks should be able to modify the payload
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - preSerialization hooks should be able to modify the payload # time=8.596ms
    
    # Subtest: preSerialization hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - preSerialization hooks should handle errors # time=7.663ms
    
    # Subtest: preValidation hooks should handle throwing null
        1..4
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - preValidation hooks should handle throwing null # time=24.404ms
    
    # Subtest: preValidation hooks should handle throwing a string
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 12 - preValidation hooks should handle throwing a string # time=6.305ms
    
    # Subtest: onRequest hooks should be able to block a request (last hook)
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 13 - onRequest hooks should be able to block a request (last hook) # time=9.723ms
    
    # Subtest: preHandler hooks should be able to block a request (last hook)
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 14 - preHandler hooks should be able to block a request (last hook) # time=6.134ms
    
    # Subtest: onRequest respond with a stream
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - onRequest respond with a stream # time=11.227ms
    
    # Subtest: preHandler respond with a stream
        1..7
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 16 - preHandler respond with a stream # time=9.685ms
    
    # Subtest: Should log a warning if is an async function with `done`
        # Subtest: 3 arguments
            1..1
            ok 1 - expect truthy value
        ok 1 - 3 arguments # time=2.157ms
        
        # Subtest: 4 arguments
            1..3
            ok 1 - expect truthy value
            ok 2 - expect truthy value
            ok 3 - expect truthy value
        ok 2 - 4 arguments # time=2.566ms
        
        1..2
    ok 17 - Should log a warning if is an async function with `done` # time=16.074ms
    
    # Subtest: early termination, onRequest async
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 18 - early termination, onRequest async # time=6.387ms
    
    # Subtest: The this should be the same of the encapsulation level
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        1..4
    ok 19 - The this should be the same of the encapsulation level # time=27.61ms
    
    # Subtest: preSerializationEnd should handle errors if the serialize method throws
        # Subtest: works with sync preSerialization
            1..2
            ok 1 - should not error
            ok 2 - should not be equal
        ok 1 - works with sync preSerialization # time=13.011ms
        
        # Subtest: works with async preSerialization
            1..2
            ok 1 - should not error
            ok 2 - should not be equal
        ok 2 - works with async preSerialization # time=5.377ms
        
        1..2
    ok 20 - preSerializationEnd should handle errors if the serialize method throws # time=29.073ms
    
    1..20
    # time=498.6ms
ok 34 - test/hooks-async.test.js # time=498.6ms

# Subtest: test/hooks.on-ready.test.js
    # Subtest: onReady should be called in order
        1..7
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
        ok 7 - should not error
    ok 1 - onReady should be called in order # time=68.697ms
    
    # Subtest: async onReady should be called in order
        1..7
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
        ok 7 - ready
    ok 2 - async onReady should be called in order # time=11.414ms
    
    # Subtest: mix ready and onReady
        1..2
        ok 1 - should be equal
        ok 2 - ready hooks execute once
    ok 3 - mix ready and onReady # time=16.146ms
    
    # Subtest: listen and onReady order
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - trigger the onReady
        ok 9 - do not trigger the onReady
    ok 4 - listen and onReady order # time=19.77ms
    
    # Subtest: multiple ready calls
        1..11
        ok 1 - ready and hooks not triggered yet
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - trigger the onReady
        ok 10 - do not trigger the onReady
        ok 11 - do not trigger the onReady
    ok 5 - multiple ready calls # time=10.542ms
    
    # Subtest: onReady should manage error in sync
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 6 - onReady should manage error in sync # time=32.788ms
    
    # Subtest: onReady should manage error in async
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 7 - onReady should manage error in async # time=15.72ms
    
    # Subtest: onReady should manage sync error
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 8 - onReady should manage sync error # time=6.335ms
    
    # Subtest: onReady can not add decorators or application hooks
        1..3
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should not error
    ok 9 - onReady can not add decorators or application hooks # time=5.74ms
    
    # Subtest: onReady cannot add lifecycle hooks
        1..5
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 10 - onReady cannot add lifecycle hooks # time=31.541ms
    
    # Subtest: onReady throw loading error
        1..1
        ok 1 - expect truthy value
    ok 11 - onReady throw loading error # time=2.403ms
    
    # Subtest: onReady does not call done
        1..6
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
        ok 6 - should be equal
    ok 12 - onReady does not call done # time=505.322ms
    
    # Subtest: onReady execution order
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 13 - onReady execution order # time=3.791ms
    
    # Subtest: ready return the server with callback
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 14 - ready return the server with callback # time=17.473ms
    
    # Subtest: ready return the server with Promise
        1..1
        ok 1 - should be equivalent
    ok 15 - ready return the server with Promise # time=16.022ms
    
    # Subtest: ready return registered
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
    ok 16 - ready return registered # time=10.223ms
    
    1..16
    # time=798.415ms
ok 35 - test/hooks.on-ready.test.js # time=798.415ms

# Subtest: test/hooks.test.js
    # Subtest: hooks
        1..43
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - (unnamed test)
        ok 4 - (unnamed test)
        ok 5 - (unnamed test)
        ok 6 - (unnamed test)
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - expect truthy value
        ok 20 - expect truthy value
        ok 21 - expect truthy value
        ok 22 - expect truthy value
        ok 23 - should be equal
        ok 24 - should be equal
        ok 25 - should be equal
        ok 26 - should be equal
        ok 27 - should be equal
        ok 28 - should be equal
        ok 29 - should be equal
        ok 30 - should be equal
        ok 31 - should be equal
        ok 32 - expect truthy value
        ok 33 - expect truthy value
        ok 34 - expect truthy value
        ok 35 - expect truthy value
        ok 36 - should not error
        ok 37 - should be equal
        ok 38 - should be equal
        ok 39 - should be equivalent
        ok 40 - should not error
        ok 41 - should be equal
        ok 42 - should not error
        ok 43 - should be equal
    ok 1 - hooks # time=189.755ms
    
    # Subtest: onRequest hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 2 - onRequest hook should support encapsulation / 1 # time=34.682ms
    
    # Subtest: onRequest hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 3 - onRequest hook should support encapsulation / 2 # time=19.358ms
    
    # Subtest: onRequest hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 4 - onRequest hook should support encapsulation / 3 # time=51.417ms
    
    # Subtest: preHandler hook should support encapsulation / 5
        1..17
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equivalent
    ok 5 - preHandler hook should support encapsulation / 5 # time=20.762ms
    
    # Subtest: onRoute hook should be called / 1
        1..2
        ok 1 - (unnamed test)
        ok 2 - should not error
    ok 6 - onRoute hook should be called / 1 # time=9.584ms
    
    # Subtest: onRoute hook should be called / 2
        1..5
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 7 - onRoute hook should be called / 2 # time=7.031ms
    
    # Subtest: onRoute hook should be called / 3
        1..5
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - (unnamed test)
        ok 5 - should not error
    ok 8 - onRoute hook should be called / 3 # time=17.648ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 4
        1..4
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - (unnamed test)
        ok 4 - should not error
    ok 9 - onRoute hook should be called (encapsulation support) / 4 # time=8.408ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 5
        1..2
        ok 1 - (unnamed test)
        ok 2 - should not error
    ok 10 - onRoute hook should be called (encapsulation support) / 5 # time=11.894ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 6
        1..1
        ok 1 - should not error
    ok 11 - onRoute hook should be called (encapsulation support) / 6 # time=5.069ms
    
    # Subtest: onRoute should keep the context
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
    ok 12 - onRoute should keep the context # time=6.345ms
    
    # Subtest: onRoute hook should pass correct route
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should not error
    ok 13 - onRoute hook should pass correct route # time=7.408ms
    
    # Subtest: onRoute hook should pass correct route with custom prefix
        1..11
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
    ok 14 - onRoute hook should pass correct route with custom prefix # time=7.755ms
    
    # Subtest: onRoute hook should pass correct route with custom options
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - type is function
        ok 6 - should not error
    ok 15 - onRoute hook should pass correct route with custom options # time=6.168ms
    
    # Subtest: onRoute hook should receive any route option
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 16 - onRoute hook should receive any route option # time=17.78ms
    
    # Subtest: onRoute hook should preserve system route configuration
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 17 - onRoute hook should preserve system route configuration # time=19.44ms
    
    # Subtest: onRoute hook should preserve handler function in options of shorthand route system configuration
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 18 - onRoute hook should preserve handler function in options of shorthand route system configuration # time=4.579ms
    
    # Subtest: onRoute hook should be called once when prefixTrailingSlash
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 19 - onRoute hook should be called once when prefixTrailingSlash # time=8.014ms
    
    # Subtest: onRoute hook should able to change the route url
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 20 - onRoute hook should able to change the route url # time=9.633ms
    
    # Subtest: onRoute hook that throws should be caught
        1..1
        ok 1 - expect truthy value
    ok 21 - onRoute hook that throws should be caught # time=3.738ms
    
    # Subtest: onRoute hook with many prefix
        1..3
        ok 1 - should match pattern provided
        ok 2 - should match pattern provided
        ok 3 - should not error
    ok 22 - onRoute hook with many prefix # time=8.541ms
    
    # Subtest: onRoute hook should not be called when it registered after route
        1..3
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
    ok 23 - onRoute hook should not be called when it registered after route # time=4.281ms
    
    # Subtest: onResponse hook should log request error
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 24 - onResponse hook should log request error # time=69.134ms
    
    # Subtest: onResponse hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 25 - onResponse hook should support encapsulation / 1 # time=11.259ms
    
    # Subtest: onResponse hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 26 - onResponse hook should support encapsulation / 2 # time=4.62ms
    
    # Subtest: onResponse hook should support encapsulation / 3
        1..16
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 27 - onResponse hook should support encapsulation / 3 # time=20.025ms
    
    # Subtest: onSend hook should support encapsulation / 1
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 28 - onSend hook should support encapsulation / 1 # time=4.828ms
    
    # Subtest: onSend hook should support encapsulation / 2
        1..16
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 29 - onSend hook should support encapsulation / 2 # time=16.832ms
    
    # Subtest: onSend hook is called after payload is serialized and headers are set
        1..30
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should be equal
        ok 15 - should not error
        ok 16 - should be equal
        ok 17 - should be equivalent
        ok 18 - should be equal
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equivalent
        ok 22 - should be equal
        ok 23 - should not error
        ok 24 - should be equal
        ok 25 - should be equivalent
        ok 26 - should be equal
        ok 27 - should not error
        ok 28 - should be equal
        ok 29 - should be equivalent
        ok 30 - should be equal
    ok 30 - onSend hook is called after payload is serialized and headers are set # time=22.296ms
    
    # Subtest: modify payload
        1..10
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - expect truthy value
        ok 4 - should be equivalent
        ok 5 - expect truthy value
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
    ok 31 - modify payload # time=6.541ms
    
    # Subtest: clear payload
        1..6
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 32 - clear payload # time=4.436ms
    
    # Subtest: onSend hook throws
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 33 - onSend hook throws # time=25.184ms
    
    # Subtest: onSend hook should receive valid request and reply objects if onRequest hook fails
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 34 - onSend hook should receive valid request and reply objects if onRequest hook fails # time=6.088ms
    
    # Subtest: onSend hook should receive valid request and reply objects if a custom content type parser fails
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 35 - onSend hook should receive valid request and reply objects if a custom content type parser fails # time=26.165ms
    
    # Subtest: Content-Length header should be updated if onSend hook modifies the payload
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 36 - Content-Length header should be updated if onSend hook modifies the payload # time=13.031ms
    
    # Subtest: cannot add hook after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 37 - cannot add hook after binding # time=6.211ms
    
    # Subtest: onRequest hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 38 - onRequest hooks should be able to block a request # time=4.753ms
    
    # Subtest: preValidation hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 39 - preValidation hooks should be able to block a request # time=4.474ms
    
    # Subtest: preValidation hooks should be able to change request body before validation
        1..4
        ok 1 - (unnamed test)
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 40 - preValidation hooks should be able to change request body before validation # time=75.834ms
    
    # Subtest: preParsing hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 41 - preParsing hooks should be able to block a request # time=4.788ms
    
    # Subtest: preHandler hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 42 - preHandler hooks should be able to block a request # time=4.888ms
    
    # Subtest: onRequest hooks should be able to block a request (last hook)
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 43 - onRequest hooks should be able to block a request (last hook) # time=4.01ms
    
    # Subtest: preHandler hooks should be able to block a request (last hook)
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 44 - preHandler hooks should be able to block a request (last hook) # time=4.191ms
    
    # Subtest: preParsing hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 45 - preParsing hooks should handle errors # time=4.029ms
    
    # Subtest: onRequest respond with a stream
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 46 - onRequest respond with a stream # time=9.808ms
    
    # Subtest: preHandler respond with a stream
        1..7
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 47 - preHandler respond with a stream # time=5.968ms
    
    # Subtest: Register an hook after a plugin inside a plugin
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 48 - Register an hook after a plugin inside a plugin # time=7.075ms
    
    # Subtest: Register an hook after a plugin inside a plugin (with preHandler option)
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 49 - Register an hook after a plugin inside a plugin (with preHandler option) # time=6.191ms
    
    # Subtest: Register hooks inside a plugin after an encapsulated plugin
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 50 - Register hooks inside a plugin after an encapsulated plugin # time=6.595ms
    
    # Subtest: onRequest hooks should run in the order in which they are defined
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 51 - onRequest hooks should run in the order in which they are defined # time=7.516ms
    
    # Subtest: preHandler hooks should run in the order in which they are defined
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 52 - preHandler hooks should run in the order in which they are defined # time=26.094ms
    
    # Subtest: onSend hooks should run in the order in which they are defined
        1..8
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equivalent
    ok 53 - onSend hooks should run in the order in which they are defined # time=8.059ms
    
    # Subtest: onResponse hooks should run in the order in which they are defined
        1..8
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equivalent
    ok 54 - onResponse hooks should run in the order in which they are defined # time=8.567ms
    
    # Subtest: onRequest, preHandler, and onResponse hooks that resolve to a value do not cause an error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 55 - onRequest, preHandler, and onResponse hooks that resolve to a value do not cause an error # time=4.346ms
    
    # Subtest: If a response header has been set inside an hook it shoulod not be overwritten by the final response handler
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 56 - If a response header has been set inside an hook it shoulod not be overwritten by the final response handler # time=3.51ms
    
    # Subtest: If the content type has been set inside an hook it should not be changed
        1..5
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 57 - If the content type has been set inside an hook it should not be changed # time=3.705ms
    
    # Subtest: request in onRequest, preParsing, preValidation and onResponse
        1..18
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equivalent
        ok 10 - should be equivalent
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equivalent
        ok 14 - should be equivalent
        ok 15 - should be equivalent
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
    ok 58 - request in onRequest, preParsing, preValidation and onResponse # time=12.321ms
    
    # Subtest: preValidation hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 59 - preValidation hook should support encapsulation / 1 # time=5.88ms
    
    # Subtest: preValidation hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 60 - preValidation hook should support encapsulation / 2 # time=17.12ms
    
    # Subtest: preValidation hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 61 - preValidation hook should support encapsulation / 3 # time=34.454ms
    
    # Subtest: onError hook
        1..3
        ok 1 - should match pattern provided
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 62 - onError hook # time=5.194ms
    
    # Subtest: reply.send should throw if called inside the onError hook
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 63 - reply.send should throw if called inside the onError hook # time=5.326ms
    
    # Subtest: onError hook with setErrorHandler
        # Subtest: Send error
            1..3
            ok 1 - should match pattern provided
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 1 - Send error # time=4.652ms
        
        1..1
    ok 64 - onError hook with setErrorHandler # time=9.412ms
    
    # Subtest: preParsing hook should run before parsing and be able to modify the payload
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 65 - preParsing hook should run before parsing and be able to modify the payload # time=9.636ms
    
    # Subtest: preParsing hooks should run in the order in which they are defined
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 66 - preParsing hooks should run in the order in which they are defined # time=7.016ms
    
    # Subtest: preParsing hooks should support encapsulation
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 67 - preParsing hooks should support encapsulation # time=10.608ms
    
    # Subtest: preParsing hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 68 - preParsing hook should support encapsulation / 1 # time=5.433ms
    
    # Subtest: preParsing hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 69 - preParsing hook should support encapsulation / 2 # time=5.187ms
    
    # Subtest: preParsing hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 70 - preParsing hook should support encapsulation / 3 # time=58.084ms
    
    # Subtest: preSerialization hook should run before serialization and be able to modify the payload
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 71 - preSerialization hook should run before serialization and be able to modify the payload # time=33.489ms
    
    # Subtest: preSerialization hook should be able to throw errors which are validated against schema response
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        1..6
    ok 72 - preSerialization hook should be able to throw errors which are validated against schema response # time=10.433ms
    
    # Subtest: preSerialization hook which returned error should still run onError hooks
        1..4
        ok 1 - should not error
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - should be equal
    ok 73 - preSerialization hook which returned error should still run onError hooks # time=6.624ms
    
    # Subtest: preSerialization hooks should run in the order in which they are defined
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 74 - preSerialization hooks should run in the order in which they are defined # time=13.673ms
    
    # Subtest: preSerialization hooks should support encapsulation
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 75 - preSerialization hooks should support encapsulation # time=12.197ms
    
    # Subtest: onRegister hook should be called / 1
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should not error
    ok 76 - onRegister hook should be called / 1 # time=3.734ms
    
    # Subtest: onRegister hook should be called / 2
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
    ok 77 - onRegister hook should be called / 2 # time=5.297ms
    
    # Subtest: onRegister hook should be called / 3
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
    ok 78 - onRegister hook should be called / 3 # time=5.341ms
    
    # Subtest: onRegister hook should be called (encapsulation)
        1..1
        ok 1 - should not error
    ok 79 - onRegister hook should be called (encapsulation) # time=2.313ms
    
    # Subtest: early termination, onRequest
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 80 - early termination, onRequest # time=5.42ms
    
    # Subtest: reply.send should throw if undefined error is thrown
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 81 - reply.send should throw if undefined error is thrown # time=14.052ms
    
    # Subtest: reply.send should throw if undefined error is thrown at preParsing hook
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 82 - reply.send should throw if undefined error is thrown at preParsing hook # time=19.657ms
    
    # Subtest: reply.send should throw if undefined error is thrown at onSend hook
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 83 - reply.send should throw if undefined error is thrown at onSend hook # time=4.172ms
    
    # Subtest: onTimeout should be triggered
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - onTimeout
        ok 5 - type is Error
        ok 6 - should be equal
    ok 84 - onTimeout should be triggered # time=508.147ms
    
    # Subtest: onTimeout should be triggered and socket _meta is set
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - onTimeout
        ok 5 - type is Error
        ok 6 - should be equal
    ok 85 - onTimeout should be triggered and socket _meta is set # time=508.643ms
    
    1..85
    # time=2312.486ms
ok 36 - test/hooks.test.js # time=2312.486ms

# Subtest: test/http2/closing.test.js
    # Subtest: http/2 request while fastify closing
        ok 1 - http2 successfully loaded
        ok 2 - should not error
        # Subtest: return 200
            ok 1 - should be equal
            1..1
        ok 3 - return 200 # time=11.855ms
        
        1..3
    ok 1 - http/2 request while fastify closing # time=57.953ms
    
    # Subtest: http/2 request while fastify closing - return503OnClosing: false
        ok 1 - http2 successfully loaded
        ok 2 - should not error
        # Subtest: return 200
            ok 1 - should be equal
            1..1
        ok 3 - return 200 # time=4.756ms
        
        1..3
    ok 2 - http/2 request while fastify closing - return503OnClosing: false # time=13.237ms
    
    # Subtest: http/2 closes successfully with async await
        1..0
    ok 3 - http/2 closes successfully with async await # time=109.342ms
    
    # Subtest: https/2 closes successfully with async await
        1..0
    ok 4 - https/2 closes successfully with async await # time=12.588ms
    
    # Subtest: http/2 server side session emits a timeout event
        ok 1 - should be equal
        1..1
    ok 5 - http/2 server side session emits a timeout event # time=107.783ms
    
    1..5
    # time=330.774ms
ok 37 - test/http2/closing.test.js # time=330.774ms

# Subtest: test/http2/constraint.test.js
    # Subtest: A route supports host constraints under http2 protocol and secure connection
        1..5
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request - no constrain
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - https get request - no constrain # time=48.172ms
        
        # Subtest: https get request - constrain
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - https get request - constrain # time=12.274ms
        
        # Subtest: https get request - constrain - not found
            1..1
            ok 1 - should be equal
        ok 5 - https get request - constrain - not found # time=13.701ms
        
    ok 1 - A route supports host constraints under http2 protocol and secure connection # time=177.899ms
    
    1..1
    # time=208.06ms
ok 38 - test/http2/constraint.test.js # time=208.06ms

# Subtest: test/http2/head.test.js
    ok 1 - http2 successfully loaded
    ok 2 - should not error
    # Subtest: http HEAD request
        1..1
        ok 1 - should be equal
    ok 3 - http HEAD request # time=85.82ms
    
    1..3
    # time=197.176ms
ok 39 - test/http2/head.test.js # time=197.176ms

# Subtest: test/http2/missing-http2-module.test.js
    # Subtest: should throw when http2 module cannot be found
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - should throw when http2 module cannot be found # time=11.808ms
    
    1..1
    # time=18.912ms
ok 40 - test/http2/missing-http2-module.test.js # time=18.912ms

# Subtest: test/http2/plain.test.js
    ok 1 - http2 successfully loaded
    ok 2 - should not error
    # Subtest: http get request
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 3 - http get request # time=34.141ms
    
    # Subtest: http hostname
        1..1
        ok 1 - should be equal
    ok 4 - http hostname # time=10.268ms
    
    1..4
    # time=137.191ms
ok 41 - test/http2/plain.test.js # time=137.191ms

# Subtest: test/http2/secure-with-fallback.test.js
    # Subtest: secure with fallback
        1..7
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get error
            1..1
            ok 1 - should be equal
        ok 3 - https get error # time=40.413ms
        
        # Subtest: https post
            1..2
            ok 1 - should be equal
            ok 2 - should be equivalent
        ok 4 - https post # time=19.905ms
        
        # Subtest: https get request
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - https get request # time=11.073ms
        
        # Subtest: http1 get request
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 6 - http1 get request # time=19.303ms
        
        # Subtest: http1 get error
            1..2
            ok 1 - should not error
            ok 2 - should be equal
        ok 7 - http1 get error # time=7.807ms
        
    ok 1 - secure with fallback # time=222.106ms
    
    1..1
    # time=279.986ms
ok 42 - test/http2/secure-with-fallback.test.js # time=279.986ms

# Subtest: test/http2/secure.test.js
    # Subtest: secure
        1..4
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - https get request # time=41.032ms
        
        # Subtest: https get request without trust proxy - protocol
            1..2
            ok 1 - should be equivalent
            ok 2 - should be equivalent
        ok 4 - https get request without trust proxy - protocol # time=24.403ms
        
    ok 1 - secure # time=158.224ms
    
    1..1
    # time=188.809ms
ok 43 - test/http2/secure.test.js # time=188.809ms

# Subtest: test/http2/unknown-http-method.test.js
    ok 1 - should not error
    # Subtest: http UNKNOWN_METHOD request
        1..2
        ok 1 - should be equal
        ok 2 - should be equivalent
    ok 2 - http UNKNOWN_METHOD request # time=40.545ms
    
    1..2
    # time=102.784ms
ok 44 - test/http2/unknown-http-method.test.js # time=102.784ms

# Subtest: test/https/custom-https-server.test.js
    # Subtest: Should support a custom https server
        1..4
        ok 1 - it is called twice for every HOST interface
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - Should support a custom https server # time=83.67ms
    
    1..1
    # time=118.301ms
ok 45 - test/https/custom-https-server.test.js # time=118.301ms

# Subtest: test/https/https.test.js
    # Subtest: https
        1..4
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 3 - https get request # time=47.057ms
        
        # Subtest: https get request without trust proxy - protocol
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 4 - https get request without trust proxy - protocol # time=16.712ms
        
    ok 1 - https # time=146.791ms
    
    1..1
    # time=176.835ms
ok 46 - test/https/https.test.js # time=176.835ms

# Subtest: test/imports.test.js
    # Subtest: should import as default
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 1 - should import as default # time=748.525ms
    
    # Subtest: should import as esm
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 2 - should import as esm # time=1.971ms
    
    1..2
    # time=760.822ms
ok 47 - test/imports.test.js # time=760.822ms

# Subtest: test/inject.test.js
    # Subtest: inject should exist
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 1 - inject should exist # time=16.752ms
    
    # Subtest: should wait for the ready event
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 2 - should wait for the ready event # time=595.993ms
    
    # Subtest: inject get request
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 3 - inject get request # time=8.721ms
    
    # Subtest: inject get request - code check
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 4 - inject get request - code check # time=19.24ms
    
    # Subtest: inject get request - headers check
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 5 - inject get request - headers check # time=7.743ms
    
    # Subtest: inject get request - querystring
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 6 - inject get request - querystring # time=7.396ms
    
    # Subtest: inject get request - params
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 7 - inject get request - params # time=7.094ms
    
    # Subtest: inject get request - wildcard
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - inject get request - wildcard # time=7.183ms
    
    # Subtest: inject get request - headers
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 9 - inject get request - headers # time=14.522ms
    
    # Subtest: inject post request
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 10 - inject post request # time=11.103ms
    
    # Subtest: inject post request - send stream
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 11 - inject post request - send stream # time=9.675ms
    
    # Subtest: inject get request - reply stream
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 12 - inject get request - reply stream # time=8.278ms
    
    # Subtest: inject promisify - waiting for ready event
        1..1
        ok 1 - should be equal
    ok 13 - inject promisify - waiting for ready event # time=57.094ms
    
    # Subtest: inject promisify - after the ready event
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 14 - inject promisify - after the ready event # time=41.853ms
    
    # Subtest: inject promisify - when the server is up
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 15 - inject promisify - when the server is up # time=26.417ms
    
    # Subtest: should reject in error case
        1..1
        ok 1 - should be equal
    ok 16 - should reject in error case # time=505.431ms
    
    # Subtest: inject a multipart request using form-body
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 17 - inject a multipart request using form-body # time=13.642ms
    
    # Subtest: should error the promise if ready errors
        1..3
        ok 1 - after is called
        ok 2 - expect truthy value
        ok 3 - should be equal
    ok 18 - should error the promise if ready errors # time=8.437ms
    
    # Subtest: should throw error if callback specified and if ready errors
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 19 - should throw error if callback specified and if ready errors # time=3.849ms
    
    # Subtest: should support builder-style injection with ready app
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
    ok 20 - should support builder-style injection with ready app # time=6.515ms
    
    # Subtest: should support builder-style injection with non-ready app
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
    ok 21 - should support builder-style injection with non-ready app # time=5.502ms
    
    # Subtest: should handle errors in builder-style injection correctly
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 22 - should handle errors in builder-style injection correctly # time=4.32ms
    
    1..22
    # time=1416.266ms
ok 48 - test/inject.test.js # time=1416.266ms

# Subtest: test/internals/all.test.js
    # Subtest: fastify.all should add all the methods to the same url
        1..14
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equivalent
    ok 1 - fastify.all should add all the methods to the same url # time=52.199ms
    
    1..1
    # time=55.95ms
ok 49 - test/internals/all.test.js # time=55.95ms

# Subtest: test/internals/contentTypeParser.test.js
    # Subtest: rawBody function
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - rawBody function # time=20.998ms
    
    # Subtest: Should support Webpack and faux modules
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - Should support Webpack and faux modules # time=16.818ms
    
    1..2
    # time=46.692ms
ok 50 - test/internals/contentTypeParser.test.js # time=46.692ms

# Subtest: test/internals/decorator.test.js
    # Subtest: decorate should add the given method to its instance
        1..1
        ok 1 - expect truthy value
    ok 1 - decorate should add the given method to its instance # time=6.317ms
    
    # Subtest: decorate is chainable
        1..3
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
    ok 2 - decorate is chainable # time=2.446ms
    
    # Subtest: checkExistence should check if a property is part of the given instance
        1..1
        ok 1 - expect truthy value
    ok 3 - checkExistence should check if a property is part of the given instance # time=1.605ms
    
    # Subtest: checkExistence should find the instance if not given
        1..1
        ok 1 - expect truthy value
    ok 4 - checkExistence should find the instance if not given # time=1.162ms
    
    # Subtest: checkExistence should check the prototype as well
        1..1
        ok 1 - expect truthy value
    ok 5 - checkExistence should check the prototype as well # time=0.998ms
    
    # Subtest: checkDependencies should throw if a dependency is not present
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 6 - checkDependencies should throw if a dependency is not present # time=1.556ms
    
    # Subtest: decorate should internally call checkDependencies
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 7 - decorate should internally call checkDependencies # time=0.942ms
    
    # Subtest: decorate should recognize getter/setter objects
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - (unnamed test)
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 8 - decorate should recognize getter/setter objects # time=2.017ms
    
    1..8
    # time=79.606ms
ok 51 - test/internals/decorator.test.js # time=79.606ms

# Subtest: test/internals/handleRequest.test.js
    # Subtest: handleRequest function - sent reply
        1..1
        ok 1 - should be equal
    ok 1 - handleRequest function - sent reply # time=5.677ms
    
    # Subtest: handleRequest function - invoke with error
        1..1
        ok 1 - should be equal
    ok 2 - handleRequest function - invoke with error # time=1.32ms
    
    # Subtest: handler function - invalid schema
        1..1
        ok 1 - errorHandler called
    ok 3 - handler function - invalid schema # time=61.949ms
    
    # Subtest: handler function - reply
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - (unnamed test)
    ok 4 - handler function - reply # time=2.777ms
    
    # Subtest: handler function - preValidationCallback with finished response
        1..0
    ok 5 - handler function - preValidationCallback with finished response # time=0.756ms
    
    # Subtest: request should be defined in onSend Hook on post request with content type application/json
        1..8
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - should not error
        ok 8 - should be equal
    ok 6 - request should be defined in onSend Hook on post request with content type application/json # time=301.484ms
    
    # Subtest: request should be defined in onSend Hook on post request with content type application/x-www-form-urlencoded
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - should be equal
    ok 7 - request should be defined in onSend Hook on post request with content type application/x-www-form-urlencoded # time=11.59ms
    
    # Subtest: request should be defined in onSend Hook on options request with content type application/x-www-form-urlencoded
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - should be equal
    ok 8 - request should be defined in onSend Hook on options request with content type application/x-www-form-urlencoded # time=24.935ms
    
    # Subtest: request should respond with an error if an unserialized payload is sent inside an async handler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
    ok 9 - request should respond with an error if an unserialized payload is sent inside an async handler # time=40.297ms
    
    1..9
    # time=476.224ms
ok 52 - test/internals/handleRequest.test.js # time=476.224ms

# Subtest: test/internals/hookRunner.test.js
    # Subtest: hookRunner - Basic
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 1 - hookRunner - Basic # time=9.07ms
    
    # Subtest: hookRunner - In case of error should skip to done
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 2 - hookRunner - In case of error should skip to done # time=2.704ms
    
    # Subtest: hookRunner - Should handle throw
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 3 - hookRunner - Should handle throw # time=2.178ms
    
    # Subtest: hookRunner - Should handle promises
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 4 - hookRunner - Should handle promises # time=23.294ms
    
    # Subtest: hookRunner - In case of error should skip to done (with promises)
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 5 - hookRunner - In case of error should skip to done (with promises) # time=2.473ms
    
    # Subtest: hookRunner - Be able to exit before its natural end
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 6 - hookRunner - Be able to exit before its natural end # time=1.315ms
    
    # Subtest: hookRunner - Promises that resolve to a value do not change the state
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 7 - hookRunner - Promises that resolve to a value do not change the state # time=1.573ms
    
    # Subtest: onSendHookRunner - Basic
        1..13
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equal
        ok 10 - should not error
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equal
    ok 8 - onSendHookRunner - Basic # time=8.178ms
    
    # Subtest: onSendHookRunner - Can change the payload
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 9 - onSendHookRunner - Can change the payload # time=3.616ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 10 - onSendHookRunner - In case of error should skip to done # time=2.515ms
    
    # Subtest: onSendHookRunner - Should handle promises
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 11 - onSendHookRunner - Should handle promises # time=2.881ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done (with promises)
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 12 - onSendHookRunner - In case of error should skip to done (with promises) # time=2.649ms
    
    # Subtest: onSendHookRunner - Be able to exit before its natural end
        1..2
        ok 1 - should be equivalent
        ok 2 - should be equivalent
    ok 13 - onSendHookRunner - Be able to exit before its natural end # time=1.064ms
    
    1..13
    # time=109.876ms
ok 53 - test/internals/hookRunner.test.js # time=109.876ms

# Subtest: test/internals/hooks.test.js
    # Subtest: hooks should have 4 array with the registered hooks
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        1..8
    ok 1 - hooks should have 4 array with the registered hooks # time=9.469ms
    
    # Subtest: hooks.add should add a hook to the given hook
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        1..14
    ok 2 - hooks.add should add a hook to the given hook # time=8.244ms
    
    # Subtest: hooks should throw on unexisting handler
        1..1
        ok 1 - (unnamed test)
    ok 3 - hooks should throw on unexisting handler # time=1.362ms
    
    # Subtest: should throw on wrong parameters
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 4 - should throw on wrong parameters # time=2.272ms
    
    1..4
    # time=55.164ms
ok 54 - test/internals/hooks.test.js # time=55.164ms

# Subtest: test/internals/initialConfig.test.js
    # Subtest: Fastify.initialConfig is an object
        1..1
        ok 1 - type is object
    ok 1 - Fastify.initialConfig is an object # time=14.835ms
    
    # Subtest: without options passed to Fastify, initialConfig should expose default values
        1..1
        ok 1 - should be equivalent
    ok 2 - without options passed to Fastify, initialConfig should expose default values # time=7.573ms
    
    # Subtest: Fastify.initialConfig should expose all options
        1..20
        ok 1 - should be equal
        ok 2 - for security reason the key cert is hidden
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - expect truthy value
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equal
    ok 3 - Fastify.initialConfig should expose all options # time=10.198ms
    
    # Subtest: Should throw if you try to modify Fastify.initialConfig
        1..4
        ok 1 - type is TypeError
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - (unnamed test)
    ok 4 - Should throw if you try to modify Fastify.initialConfig # time=3.145ms
    
    # Subtest: We must avoid shallow freezing and ensure that the whole object is freezed
        1..4
        ok 1 - type is TypeError
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - key cert removed
    ok 5 - We must avoid shallow freezing and ensure that the whole object is freezed # time=15.597ms
    
    # Subtest: https value check
        1..1
        ok 1 - expect falsey value
    ok 6 - https value check # time=1.344ms
    
    # Subtest: Return an error if options do not match the validation schema
        1..6
        ok 1 - type is Error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
        ok 6 - (unnamed test)
    ok 7 - Return an error if options do not match the validation schema # time=50.77ms
    
    # Subtest: Original options must not be frozen
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - Original options must not be frozen # time=2.84ms
    
    # Subtest: Original options must not be altered (test deep cloning)
        1..3
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 9 - Original options must not be altered (test deep cloning) # time=4.694ms
    
    # Subtest: Should not have issues when passing stream options to Pino.js
        1..15
        ok 1 - type is object
        ok 2 - should be equivalent
        ok 3 - listen at log message is ok
        ok 4 - should not error
        ok 5 - reqId is defined
        ok 6 - req is defined
        ok 7 - message is set
        ok 8 - method is get
        ok 9 - expect truthy value
        ok 10 - should be equal
        ok 11 - reqId is defined
        ok 12 - res is defined
        ok 13 - message is set
        ok 14 - statusCode is 200
        ok 15 - responseTime is defined
    ok 10 - Should not have issues when passing stream options to Pino.js # time=52.58ms
    
    # Subtest: deepFreezeObject() should not throw on TypedArray
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - (unnamed test)
    ok 11 - deepFreezeObject() should not throw on TypedArray # time=1.559ms
    
    # Subtest: Fastify.initialConfig should accept the deprecated versioning option
        1..1
        ok 1 - should be equal
    ok 12 - Fastify.initialConfig should accept the deprecated versioning option # time=4.283ms
    
    # Subtest: pluginTimeout should be parsed correctly
        ok 1 - should be equal
        ok 2 - should be equal
        1..2
    ok 13 - pluginTimeout should be parsed correctly # time=2.89ms
    
    1..13
    # time=244.19ms
ok 55 - test/internals/initialConfig.test.js # time=244.19ms

# Subtest: test/internals/logger.test.js
    # Subtest: time resolution
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - time resolution # time=7.077ms
    
    # Subtest: The logger should add a unique id for every request
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - the id should not be duplicated
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - the id should not be duplicated
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - the id should not be duplicated
        ok 11 - expect truthy value
        ok 12 - should not error
        ok 13 - the id should not be duplicated
        ok 14 - expect truthy value
        ok 15 - should not error
        ok 16 - the id should not be duplicated
        ok 17 - expect truthy value
        ok 18 - should not error
        ok 19 - the id should not be duplicated
        ok 20 - expect truthy value
        ok 21 - should not error
        ok 22 - the id should not be duplicated
        ok 23 - expect truthy value
        ok 24 - should not error
        ok 25 - the id should not be duplicated
        ok 26 - expect truthy value
        ok 27 - should not error
        ok 28 - the id should not be duplicated
        ok 29 - expect truthy value
        ok 30 - should not error
        ok 31 - the id should not be duplicated
        1..31
    ok 2 - The logger should add a unique id for every request # time=117.844ms
    
    # Subtest: The logger should reuse request id header for req.id
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - the request id from the header should be returned
        1..4
    ok 3 - The logger should reuse request id header for req.id # time=9.438ms
    
    # Subtest: The logger should error if both stream and file destination are given
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - The logger should error if both stream and file destination are given # time=6.948ms
    
    # Subtest: The serializer prevent fails if the request socket is undefined
        1..1
        ok 1 - should be equivalent
    ok 5 - The serializer prevent fails if the request socket is undefined # time=4.978ms
    
    1..5
    # time=156.623ms
ok 56 - test/internals/logger.test.js # time=156.623ms

# Subtest: test/internals/plugin.test.js
    # Subtest: shouldSkipOverride should check the 'skip-override' symbol
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 1 - shouldSkipOverride should check the 'skip-override' symbol # time=6.099ms
    
    # Subtest: getPluginName should return plugin name if the file is cached
        1..1
        ok 1 - should be equal
    ok 2 - getPluginName should return plugin name if the file is cached # time=1.73ms
    
    # Subtest: getMeta should return the object stored with the 'plugin-meta' symbol
        1..1
        ok 1 - should be equivalent
    ok 3 - getMeta should return the object stored with the 'plugin-meta' symbol # time=4.683ms
    
    # Subtest: checkDecorators should check if the given decorator is present in the instance
        1..1
        ok 1 - Everything ok
    ok 4 - checkDecorators should check if the given decorator is present in the instance # time=1.629ms
    
    # Subtest: checkDecorators should check if the given decorator is present in the instance (errored)
        1..1
        ok 1 - should be equal
    ok 5 - checkDecorators should check if the given decorator is present in the instance (errored) # time=1.426ms
    
    # Subtest: checkDecorators should accept optional decorators
        1..1
        ok 1 - Everything ok
    ok 6 - checkDecorators should accept optional decorators # time=0.99ms
    
    # Subtest: checkDependencies should check if the given dependency is present in the instance
        1..1
        ok 1 - Everything ok
    ok 7 - checkDependencies should check if the given dependency is present in the instance # time=1.744ms
    
    # Subtest: checkDependencies should check if the given dependency is present in the instance (errored)
        1..1
        ok 1 - should be equal
    ok 8 - checkDependencies should check if the given dependency is present in the instance (errored) # time=15.926ms
    
    1..8
    # time=95.766ms
ok 57 - test/internals/plugin.test.js # time=95.766ms

# Subtest: test/internals/reply-serialize.test.js
    # Subtest: Reply\#compileSerializationSchema
        1..4
        # Subtest: Should return a serialization function
            1..4
            ok 1 - type is Function
            ok 2 - type is string
            ok 3 - should be equal
            ok 4 - should be equal
        ok 1 - Should return a serialization function # time=83.787ms
        
        # Subtest: Should reuse the serialize fn across multiple invocations - Route without schema
            1..17
            ok 1 - build the schema compilation function
            ok 2 - type is Function
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - Are the same validate function
            ok 6 - type is Function
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - Are the same validate function
            ok 10 - type is Function
            ok 11 - should be equal
            ok 12 - should be equal
            ok 13 - Are the same validate function
            ok 14 - type is Function
            ok 15 - should be equal
            ok 16 - should be equal
            ok 17 - should be equal
        ok 2 - Should reuse the serialize fn across multiple invocations - Route without schema # time=17.36ms
        
        # Subtest: Should use the custom serializer compiler for the route
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equivalent
            ok 7 - {"hello":"world"}
            ok 8 - should be equivalent
            ok 9 - {"hello":"world"}
            ok 10 - should be equal
        ok 3 - Should use the custom serializer compiler for the route # time=33.109ms
        
        # Subtest: Should build a WeakMap for cache when called
            1..4
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
            ok 4 - should be equal
        ok 4 - Should build a WeakMap for cache when called # time=11.388ms
        
    ok 1 - Reply\#compileSerializationSchema # time=176.436ms
    
    # Subtest: Reply\#getSerializationFunction
        1..3
        # Subtest: Should retrieve the serialization function from the Schema definition
            1..9
            ok 1 - type is Function
            ok 2 - type is Function
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - expect falsey value
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
        ok 1 - Should retrieve the serialization function from the Schema definition # time=22.527ms
        
        # Subtest: Should retrieve the serialization function from the cached one
            1..6
            ok 1 - type is Function
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
        ok 2 - Should retrieve the serialization function from the cached one # time=12.487ms
        
        # Subtest: Should not instantiate a WeakMap if it is not needed
            1..4
            ok 1 - expect falsey value
            ok 2 - should be equal
            ok 3 - expect falsey value
            ok 4 - should be equal
        ok 3 - Should not instantiate a WeakMap if it is not needed # time=17.231ms
        
    ok 2 - Reply\#getSerializationFunction # time=62.579ms
    
    # Subtest: Reply\#serializeInput
        1..5
        # Subtest: Should throw if missed serialization function from HTTP status
            1..2
            ok 1 - should be equal
            ok 2 - should be equivalent
        ok 1 - Should throw if missed serialization function from HTTP status # time=41.712ms
        
        # Subtest: Should use a serializer fn from HTTP status
            1..4
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
        ok 2 - Should use a serializer fn from HTTP status # time=15.446ms
        
        # Subtest: Should compile a serializer out of a schema if serializer fn missed
            1..10
            ok 1 - should be equal
            ok 2 - expect falsey value
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 3 - Should compile a serializer out of a schema if serializer fn missed # time=8.952ms
        
        # Subtest: Should use a cached serializer fn
            1..12
            ok 1 - should be equal
            ok 2 - expect falsey value
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
            ok 11 - should be equal
            ok 12 - should be equal
        ok 4 - Should use a cached serializer fn # time=9.722ms
        
        # Subtest: Should instantiate a WeakMap after first call
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
        ok 5 - Should instantiate a WeakMap after first call # time=6.371ms
        
    ok 3 - Reply\#serializeInput # time=91.459ms
    
    1..3
    # time=340.566ms
ok 58 - test/internals/reply-serialize.test.js # time=340.566ms

# Subtest: test/internals/reply.test.js
    # Subtest: Once called, Reply should return an object with methods
        1..13
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should be equal
        ok 13 - should be equal
    ok 1 - Once called, Reply should return an object with methods # time=13.54ms
    
    # Subtest: reply.send will logStream error and destroy the stream
        1..1
        ok 1 - Error not logged and not streamed
    ok 2 - reply.send will logStream error and destroy the stream # time=4.961ms
    
    # Subtest: reply.send throw with circular JSON
        1..1
        ok 1 - Converting circular structure to JSON
    ok 3 - reply.send throw with circular JSON # time=1.362ms
    
    # Subtest: reply.send returns itself
        1..1
        ok 1 - should be equal
    ok 4 - reply.send returns itself # time=1.311ms
    
    # Subtest: reply.serializer should set a custom serializer
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 5 - reply.serializer should set a custom serializer # time=1.065ms
    
    # Subtest: reply.serializer should support running preSerialization hooks
        1..3
        ok 1 - preSerialization
        ok 2 - should not error
        ok 3 - should be equal
    ok 6 - reply.serializer should support running preSerialization hooks # time=745.496ms
    
    # Subtest: reply.serialize should serialize payload
        1..1
        ok 1 - should be equal
    ok 7 - reply.serialize should serialize payload # time=3.147ms
    
    # Subtest: reply.serialize should serialize payload with a custom serializer
        1..2
        ok 1 - should be equal
        ok 2 - custom serializer not called
    ok 8 - reply.serialize should serialize payload with a custom serializer # time=1.299ms
    
    # Subtest: reply.serialize should serialize payload with a context default serializer
        1..2
        ok 1 - should be equal
        ok 2 - custom serializer not called
    ok 9 - reply.serialize should serialize payload with a context default serializer # time=1.303ms
    
    # Subtest: reply.serialize should serialize payload with Fastify instance
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - reply.serialize should serialize payload with Fastify instance # time=20.841ms
    
    # Subtest: within an instance
        ok 1 - should not error
        # Subtest: custom serializer should be used
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - custom serializer should be used # time=32.429ms
        
        # Subtest: status code and content-type should be correct
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 3 - status code and content-type should be correct # time=6.524ms
        
        # Subtest: auto status code shoud be 200
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - auto status code shoud be 200 # time=5.189ms
        
        # Subtest: auto type shoud be text/plain
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - auto type shoud be text/plain # time=4.741ms
        
        # Subtest: redirect to `/` - 1
            1..1
            ok 1 - should be equal
        ok 6 - redirect to `/` - 1 # time=4.246ms
        
        # Subtest: redirect to `/` - 2
            1..1
            ok 1 - should be equal
        ok 7 - redirect to `/` - 2 # time=3.563ms
        
        # Subtest: redirect to `/` - 3
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 8 - redirect to `/` - 3 # time=7.836ms
        
        # Subtest: redirect to `/` - 4
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 9 - redirect to `/` - 4 # time=7.961ms
        
        # Subtest: redirect to `/` - 5
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
        ok 10 - redirect to `/` - 5 # time=3.873ms
        
        # Subtest: redirect to `/` - 6
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 11 - redirect to `/` - 6 # time=7.078ms
        
        # Subtest: redirect to `/` - 7
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 12 - redirect to `/` - 7 # time=7.463ms
        
        # Subtest: redirect to `/` - 8
            1..1
            ok 1 - should be equal
        ok 13 - redirect to `/` - 8 # time=3.206ms
        
        # Subtest: redirect to `/` - 9
            1..1
            ok 1 - should be equal
        ok 14 - redirect to `/` - 9 # time=3.365ms
        
        # Subtest: redirect with async function to `/` - 10
            1..1
            ok 1 - should be equal
        ok 15 - redirect with async function to `/` - 10 # time=3.492ms
        
        1..15
    ok 11 - within an instance # time=190.425ms
    
    # Subtest: buffer without content type should send a application/octet-stream and raw buffer
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 12 - buffer without content type should send a application/octet-stream and raw buffer # time=31.568ms
    
    # Subtest: buffer with content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 13 - buffer with content type should not send application/octet-stream # time=13.431ms
    
    # Subtest: stream with content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 14 - stream with content type should not send application/octet-stream # time=23.56ms
    
    # Subtest: stream without content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 15 - stream without content type should not send application/octet-stream # time=92.757ms
    
    # Subtest: stream using reply.raw.writeHead should return customize headers
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 16 - stream using reply.raw.writeHead should return customize headers # time=48.991ms
    
    # Subtest: plain string without content type should send a text/plain
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 17 - plain string without content type should send a text/plain # time=8.52ms
    
    # Subtest: plain string with content type should be sent unmodified
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - plain string with content type should be sent unmodified # time=24.525ms
    
    # Subtest: plain string with content type and custom serializer should be serialized
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 19 - plain string with content type and custom serializer should be serialized # time=15.418ms
    
    # Subtest: plain string with content type application/json should NOT be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 20 - plain string with content type application/json should NOT be serialized as json # time=8.491ms
    
    # Subtest: plain string with custom json content type should NOT be serialized as json
        1..19
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equivalent
    ok 21 - plain string with custom json content type should NOT be serialized as json # time=22.638ms
    
    # Subtest: non-string with content type application/json SHOULD be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 22 - non-string with content type application/json SHOULD be serialized as json # time=25.331ms
    
    # Subtest: non-string with custom json's content-type SHOULD be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 23 - non-string with custom json's content-type SHOULD be serialized as json # time=19.44ms
    
    # Subtest: non-string with custom json content type SHOULD be serialized as json
        1..16
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 24 - non-string with custom json content type SHOULD be serialized as json # time=17.66ms
    
    # Subtest: error object with a content type that is not application/json should work
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 25 - error object with a content type that is not application/json should work # time=8.381ms
    
    # Subtest: undefined payload should be sent as-is
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 26 - undefined payload should be sent as-is # time=20.305ms
    
    # Subtest: for HEAD method, no body should be sent but content-length should be
        1..11
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
    ok 27 - for HEAD method, no body should be sent but content-length should be # time=10.512ms
    
    # Subtest: reply.send(new NotFound()) should not invoke the 404 handler
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 28 - reply.send(new NotFound()) should not invoke the 404 handler # time=14.25ms
    
    # Subtest: reply can set multiple instances of same header
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - expect truthy value
        ok 4 - should be equivalent strictly
    ok 29 - reply can set multiple instances of same header # time=8.223ms
    
    # Subtest: reply.hasHeader returns correct values
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 30 - reply.hasHeader returns correct values # time=5.308ms
    
    # Subtest: reply.getHeader returns correct values
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
        ok 4 - should be equivalent strictly
    ok 31 - reply.getHeader returns correct values # time=14.656ms
    
    # Subtest: reply.getHeader returns raw header if there is not in the reply headers
        1..1
        ok 1 - should be equal
    ok 32 - reply.getHeader returns raw header if there is not in the reply headers # time=5.881ms
    
    # Subtest: reply.getHeaders returns correct values
        1..3
        ok 1 - should be equivalent strictly
        ok 2 - should be equivalent strictly
        ok 3 - should not error
    ok 33 - reply.getHeaders returns correct values # time=5.438ms
    
    # Subtest: reply.removeHeader can remove the value
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent strictly
        ok 5 - (unnamed test)
    ok 34 - reply.removeHeader can remove the value # time=7.083ms
    
    # Subtest: reply.header can reset the value
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent strictly
        ok 3 - (unnamed test)
    ok 35 - reply.header can reset the value # time=6.084ms
    
    # Subtest: reply.hasHeader computes raw and fastify headers
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - (unnamed test)
    ok 36 - reply.hasHeader computes raw and fastify headers # time=5.86ms
    
    # Subtest: Reply should handle JSON content type with a charset
        1..16
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should not error
        ok 16 - should be equal
    ok 37 - Reply should handle JSON content type with a charset # time=16.748ms
    
    # Subtest: Content type and charset set previously
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 38 - Content type and charset set previously # time=4.462ms
    
    # Subtest: .status() is an alias for .code()
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 39 - .status() is an alias for .code() # time=3.722ms
    
    # Subtest: .statusCode is getter and setter
        1..4
        ok 1 - 200
        ok 2 - 418
        ok 3 - should not error
        ok 4 - should be equal
    ok 40 - .statusCode is getter and setter # time=4.855ms
    
    # Subtest: reply.header setting multiple cookies as multiple Set-Cookie headers
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equivalent strictly
        ok 4 - should not error
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - should be equivalent strictly
    ok 41 - reply.header setting multiple cookies as multiple Set-Cookie headers # time=9.394ms
    
    # Subtest: should emit deprecation warning when trying to modify the reply.sent property
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 42 - should emit deprecation warning when trying to modify the reply.sent property # time=5.519ms
    
    # Subtest: should throw error when passing falsy value to reply.sent
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 43 - should throw error when passing falsy value to reply.sent # time=4.073ms
    
    # Subtest: should throw error when attempting to set reply.sent more than once
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 44 - should throw error when attempting to set reply.sent more than once # time=5.062ms
    
    # Subtest: should not throw error when attempting to set reply.sent if the underlining request was sent
        1..3
        ok 1 - expected to not throw
        ok 2 - should not error
        ok 3 - (unnamed test)
    ok 45 - should not throw error when attempting to set reply.sent if the underlining request was sent # time=7.196ms
    
    # Subtest: reply.getResponseTime() should return 0 before the timer is initialised on the reply by setting up response listeners
        1..1
        ok 1 - should be equal
    ok 46 - reply.getResponseTime() should return 0 before the timer is initialised on the reply by setting up response listeners # time=0.795ms
    
    # Subtest: reply.getResponseTime() should return a number greater than 0 after the timer is initialised on the reply by setting up response listeners
        1..1
        ok 1 - expect truthy value
    ok 47 - reply.getResponseTime() should return a number greater than 0 after the timer is initialised on the reply by setting up response listeners # time=4.082ms
    
    # Subtest: reply.getResponseTime() should return the time since a request started while inflight
        1..1
        ok 1 - should not be equal
    ok 48 - reply.getResponseTime() should return the time since a request started while inflight # time=3.466ms
    
    # Subtest: reply.getResponseTime() should return the same value after a request is finished
        1..1
        ok 1 - should be equal
    ok 49 - reply.getResponseTime() should return the same value after a request is finished # time=3.661ms
    
    # Subtest: reply should use the custom serializer
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 50 - reply should use the custom serializer # time=6.65ms
    
    # Subtest: reply should use the right serializer in encapsulated context
        1..9
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 51 - reply should use the right serializer in encapsulated context # time=10.155ms
    
    # Subtest: reply should use the right serializer in deep encapsulated context
        1..8
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 52 - reply should use the right serializer in deep encapsulated context # time=10.509ms
    
    # Subtest: reply should use the route serializer
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equal
    ok 53 - reply should use the route serializer # time=4.005ms
    
    # Subtest: cannot set the replySerializer when the server is running
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 54 - cannot set the replySerializer when the server is running # time=15.223ms
    
    # Subtest: reply should not call the custom serializer for errors and not found
        1..9
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 55 - reply should not call the custom serializer for errors and not found # time=7.951ms
    
    # Subtest: reply.then
        1..4
        # Subtest: without an error
            1..1
            ok 1 - fulfilled called
        ok 1 - without an error # time=10.53ms
        
        # Subtest: with an error
            1..1
            ok 1 - should be equal
        ok 2 - with an error # time=1.357ms
        
        # Subtest: with error but without reject callback
            1..1
            ok 1 - (unnamed test)
        ok 3 - with error but without reject callback # time=0.907ms
        
        # Subtest: with error, without reject callback, with logger
            1..1
            ok 1 - should be equal
        ok 4 - with error, without reject callback, with logger # time=1.408ms
        
    ok 56 - reply.then # time=21.196ms
    
    # Subtest: reply.sent should read from response.writableEnded if it is defined
        1..1
        ok 1 - should be equal
    ok 57 - reply.sent should read from response.writableEnded if it is defined # time=0.754ms
    
    # Subtest: redirect to an invalid URL should not crash the server
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        1..7
    ok 58 - redirect to an invalid URL should not crash the server # time=13.553ms
    
    # Subtest: invalid response headers should not crash the server
        ok 1 - only the first invalid header is logged
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 59 - invalid response headers should not crash the server # time=6.893ms
    
    # Subtest: invalid response headers when sending back an error
        ok 1 - only the first invalid header is logged
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 60 - invalid response headers when sending back an error # time=6.564ms
    
    # Subtest: invalid response headers and custom error handler
        ok 1 - custom error handler receives the error
        ok 2 - only the first invalid header is logged
        ok 3 - should be equal
        ok 4 - should be equivalent
        1..4
    ok 61 - invalid response headers and custom error handler # time=7.116ms
    
    1..61
    # time=1721.656ms
ok 59 - test/internals/reply.test.js # time=1721.656ms

# Subtest: test/internals/request-validate.test.js
    # Subtest: \#compileValidationSchema
        1..5
        # Subtest: Should return a function - Route without schema
            1..3
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
        ok 1 - Should return a function - Route without schema # time=149.95ms
        
        # Subtest: Should reuse the validate fn across multiple invocations - Route without schema
            1..16
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
            ok 4 - Are the same validate function
            ok 5 - type is Function
            ok 6 - expect truthy value
            ok 7 - expect falsey value
            ok 8 - Are the same validate function
            ok 9 - type is Function
            ok 10 - expect truthy value
            ok 11 - expect falsey value
            ok 12 - Are the same validate function
            ok 13 - type is Function
            ok 14 - expect truthy value
            ok 15 - expect falsey value
            ok 16 - should be equal
        ok 2 - Should reuse the validate fn across multiple invocations - Route without schema # time=68.268ms
        
        # Subtest: Should return a function - Route with schema
            1..3
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
        ok 3 - Should return a function - Route with schema # time=78.034ms
        
        # Subtest: Should use the custom validator compiler for the route
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equivalent
            ok 7 - expect truthy value
            ok 8 - should be equivalent
            ok 9 - expect truthy value
            ok 10 - should be equal
        ok 4 - Should use the custom validator compiler for the route # time=13.528ms
        
        # Subtest: Should instantiate a WeakMap when executed for first time
            1..5
            ok 1 - should be equal
            ok 2 - type is Function
            ok 3 - type is WeakMap
            ok 4 - type is Function
            ok 5 - type is WeakMap
        ok 5 - Should instantiate a WeakMap when executed for first time # time=39.932ms
        
    ok 1 - \#compileValidationSchema # time=369.919ms
    
    # Subtest: \#getValidationFunction
        1..4
        # Subtest: Should return a validation function
            1..1
            ok 1 - should be equal
        ok 1 - Should return a validation function # time=102.654ms
        
        # Subtest: Should return undefined if no schema compiled
            1..2
            ok 1 - expect falsey value
            ok 2 - expect falsey value
        ok 2 - Should return undefined if no schema compiled # time=6.916ms
        
        # Subtest: Should return the validation function from each HTTP part
            1..15
            ok 1 - expect truthy value
            ok 2 - expect truthy value
            ok 3 - expect falsey value
            ok 4 - expect truthy value
            ok 5 - expect truthy value
            ok 6 - expect falsey value
            ok 7 - expect truthy value
            ok 8 - expect truthy value
            ok 9 - expect truthy value
            ok 10 - expect truthy value
            ok 11 - expect falsey value
            ok 12 - should be equal
            ok 13 - expect truthy value
            ok 14 - expect falsey value
            ok 15 - should be equal
        ok 3 - Should return the validation function from each HTTP part # time=85.032ms
        
        # Subtest: Should not set a WeakMap if there is no schema
            1..1
            ok 1 - should be equal
        ok 4 - Should not set a WeakMap if there is no schema # time=23.456ms
        
    ok 2 - \#getValidationFunction # time=234.602ms
    
    # Subtest: \#validate
        1..7
        # Subtest: Should return true/false if input valid - Route without schema
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 1 - Should return true/false if input valid - Route without schema # time=63.622ms
        
        # Subtest: Should use the custom validator compiler for the route
            1..9
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equivalent
            ok 6 - should be equivalent
            ok 7 - expect truthy value
            ok 8 - expect truthy value
            ok 9 - should be equal
        ok 2 - Should use the custom validator compiler for the route # time=9.451ms
        
        # Subtest: Should return true/false if input valid - With Schema for Route defined
            1..8
            ok 1 - expect truthy value
            ok 2 - expect falsey value
            ok 3 - expect falsey value
            ok 4 - expect truthy value
            ok 5 - expect falsey value
            ok 6 - expect truthy value
            ok 7 - expect truthy value
            ok 8 - expect falsey value
        ok 3 - Should return true/false if input valid - With Schema for Route defined # time=108.023ms
        
        # Subtest: Should throw if missing validation fn for HTTP part and not schema provided
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 4 - Should throw if missing validation fn for HTTP part and not schema provided # time=11.803ms
        
        # Subtest: Should throw if missing validation fn for HTTP part and not valid schema provided
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 5 - Should throw if missing validation fn for HTTP part and not valid schema provided # time=29.213ms
        
        # Subtest: Should throw if invalid schema passed
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 6 - Should throw if invalid schema passed # time=18.873ms
        
        # Subtest: Should set a WeakMap if compiling the very first schema
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
        ok 7 - Should set a WeakMap if compiling the very first schema # time=25.687ms
        
    ok 3 - \#validate # time=282.546ms
    
    # Subtest: Nested Context
        1..1
        # Subtest: Level_1
            1..3
            # Subtest: \#compileValidationSchema
                1..4
                # Subtest: Should return a function - Route without schema
                    1..3
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                ok 1 - Should return a function - Route without schema # time=105.811ms
                
                # Subtest: Should reuse the validate fn across multiple invocations - Route without schema
                    1..16
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                    ok 4 - Are the same validate function
                    ok 5 - type is Function
                    ok 6 - expect truthy value
                    ok 7 - expect falsey value
                    ok 8 - Are the same validate function
                    ok 9 - type is Function
                    ok 10 - expect truthy value
                    ok 11 - expect falsey value
                    ok 12 - Are the same validate function
                    ok 13 - type is Function
                    ok 14 - expect truthy value
                    ok 15 - expect falsey value
                    ok 16 - should be equal
                ok 2 - Should reuse the validate fn across multiple invocations - Route without schema # time=48.699ms
                
                # Subtest: Should return a function - Route with schema
                    1..3
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                ok 3 - Should return a function - Route with schema # time=33.479ms
                
                # Subtest: Should use the custom validator compiler for the route
                    1..10
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - should be equal
                    ok 5 - should be equal
                    ok 6 - should be equivalent
                    ok 7 - expect truthy value
                    ok 8 - should be equivalent
                    ok 9 - expect truthy value
                    ok 10 - should be equal
                ok 4 - Should use the custom validator compiler for the route # time=9.923ms
                
            ok 1 - \#compileValidationSchema # time=208.523ms
            
            # Subtest: \#getValidationFunction
                1..6
                # Subtest: Should return a validation function
                    1..1
                    ok 1 - should be equal
                ok 1 - Should return a validation function # time=56.219ms
                
                # Subtest: Should return undefined if no schema compiled
                    1..1
                    ok 1 - expect falsey value
                ok 2 - Should return undefined if no schema compiled # time=4.508ms
                
                # Subtest: Should return the validation function from each HTTP part
                    1..15
                    ok 1 - expect truthy value
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                    ok 4 - expect truthy value
                    ok 5 - expect truthy value
                    ok 6 - expect falsey value
                    ok 7 - expect truthy value
                    ok 8 - expect truthy value
                    ok 9 - expect truthy value
                    ok 10 - expect truthy value
                    ok 11 - expect falsey value
                    ok 12 - should be equal
                    ok 13 - expect truthy value
                    ok 14 - expect falsey value
                    ok 15 - should be equal
                ok 3 - Should return the validation function from each HTTP part # time=42.894ms
                
                # Subtest: Should return a validation function - nested
                    1..6
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - expect falsey value
                    ok 5 - should be equal
                    ok 6 - should be equal
                ok 4 - Should return a validation function - nested # time=6.419ms
                
                # Subtest: Should return undefined if no schema compiled - nested
                    1..3
                    ok 1 - should be equal
                    ok 2 - expect falsey value
                    ok 3 - should be equal
                ok 5 - Should return undefined if no schema compiled - nested # time=27.349ms
                
                # Subtest: Should per-route defined validation compiler
                    1..5
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should not be equal
                    ok 4 - should be equal
                    ok 5 - should be equal
                ok 6 - Should per-route defined validation compiler # time=16.229ms
                
            ok 2 - \#getValidationFunction # time=163.331ms
            
            # Subtest: \#validate
                1..3
                # Subtest: Should return true/false if input valid - Route without schema
                    1..2
                    ok 1 - expect falsey value
                    ok 2 - expect truthy value
                ok 1 - Should return true/false if input valid - Route without schema # time=45.857ms
                
                # Subtest: Should use the custom validator compiler for the route
                    1..10
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - should be equal
                    ok 5 - should be equivalent
                    ok 6 - should be equivalent
                    ok 7 - expect truthy value
                    ok 8 - expect truthy value
                    ok 9 - should be equal
                    ok 10 - should be equal
                ok 2 - Should use the custom validator compiler for the route # time=7.62ms
                
                # Subtest: Should return true/false if input valid - With Schema for Route defined and scoped validator compiler
                    1..13
                    ok 1 - expect truthy value
                    ok 2 - expect falsey value
                    ok 3 - expect falsey value
                    ok 4 - expect truthy value
                    ok 5 - expect falsey value
                    ok 6 - expect truthy value
                    ok 7 - expect truthy value
                    ok 8 - expect falsey value
                    ok 9 - should be equal
                    ok 10 - should be equal
                    ok 11 - should be equal
                    ok 12 - should be equal
                    ok 13 - should be equal
                ok 3 - Should return true/false if input valid - With Schema for Route defined and scoped validator compiler # time=97.721ms
                
            ok 3 - \#validate # time=164.03ms
            
        ok 1 - Level_1 # time=542.709ms
        
    ok 4 - Nested Context # time=547.646ms
    
    1..4
    # time=1442.678ms
ok 60 - test/internals/request-validate.test.js # time=1442.678ms

# Subtest: test/internals/request.test.js
    # Subtest: Regular request
        ok 1 - type is Request
        ok 2 - type is Function
        ok 3 - type is Function
        ok 4 - type is Function
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        1..19
    ok 1 - Regular request # time=12.157ms
    
    # Subtest: Regular request - hostname from authority
        1..2
        ok 1 - type is Request
        ok 2 - should be equal
    ok 2 - Regular request - hostname from authority # time=1.322ms
    
    # Subtest: Regular request - host header has precedence over authority
        1..2
        ok 1 - type is Request
        ok 2 - should be equal
    ok 3 - Regular request - host header has precedence over authority # time=0.788ms
    
    # Subtest: Request with trust proxy
        1..18
        ok 1 - type is _Request
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - type is Function
        ok 17 - type is Function
        ok 18 - type is Function
    ok 4 - Request with trust proxy # time=10.23ms
    
    # Subtest: Request with trust proxy, encrypted
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 5 - Request with trust proxy, encrypted # time=1.064ms
    
    # Subtest: Request with trust proxy - no x-forwarded-host header
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 6 - Request with trust proxy - no x-forwarded-host header # time=0.703ms
    
    # Subtest: Request with trust proxy - no x-forwarded-host header and fallback to authority
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 7 - Request with trust proxy - no x-forwarded-host header and fallback to authority # time=0.664ms
    
    # Subtest: Request with trust proxy - x-forwarded-host header has precedence over host
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 8 - Request with trust proxy - x-forwarded-host header has precedence over host # time=0.933ms
    
    # Subtest: Request with trust proxy - handles multiple entries in x-forwarded-host/proto
        1..3
        ok 1 - type is _Request
        ok 2 - should be equal
        ok 3 - should be equal
    ok 9 - Request with trust proxy - handles multiple entries in x-forwarded-host/proto # time=1.115ms
    
    # Subtest: Request with trust proxy - plain
        1..1
        ok 1 - should be equivalent
    ok 10 - Request with trust proxy - plain # time=0.957ms
    
    # Subtest: Request with undefined socket
        1..18
        ok 1 - type is Request
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equivalent
        ok 16 - type is Function
        ok 17 - type is Function
        ok 18 - type is Function
    ok 11 - Request with undefined socket # time=3.828ms
    
    # Subtest: Request with trust proxy and undefined socket
        1..1
        ok 1 - should be equivalent
    ok 12 - Request with trust proxy and undefined socket # time=0.743ms
    
    1..12
    # time=123.454ms
ok 61 - test/internals/request.test.js # time=123.454ms

# Subtest: test/internals/server.test.js
    # Subtest: start listening
        ok 1 - server started
        1..1
    ok 1 - start listening # time=56.181ms
    
    # Subtest: DNS errors does not stop the main server on localhost - promise interface
        ok 1 - server started
        1..1
    ok 2 - DNS errors does not stop the main server on localhost - promise interface # time=20.146ms
    
    # Subtest: DNS errors does not stop the main server on localhost - callback interface
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 3 - DNS errors does not stop the main server on localhost - callback interface # time=17.029ms
    
    # Subtest: DNS returns empty binding
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 4 - DNS returns empty binding # time=13.582ms
    
    # Subtest: DNS returns more than two binding
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 5 - DNS returns more than two binding # time=14.22ms
    
    1..5
    # time=128.862ms
ok 62 - test/internals/server.test.js # time=128.862ms

# Subtest: test/internals/validation.test.js
    # Subtest: Symbols
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 1 - Symbols # time=7.089ms
    
    # Subtest: compileSchemasForValidation schema - missing schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - compileSchemasForValidation schema - missing schema # time=1.813ms
    
    # Subtest: compileSchemasForValidation schema - missing output schema
        1..1
        ok 1 - should be equal
    ok 3 - compileSchemasForValidation schema - missing output schema # time=0.957ms
    
    # Subtest: compileSchemasForSerialization schema - missing schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - compileSchemasForSerialization schema - missing schema # time=1.292ms
    
    # Subtest: compileSchemasForSerialization schema - missing output schema
        1..1
        ok 1 - should be equal
    ok 5 - compileSchemasForSerialization schema - missing output schema # time=0.581ms
    
    # Subtest: build schema - output schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 6 - build schema - output schema # time=62.256ms
    
    # Subtest: build schema - payload schema
        1..1
        ok 1 - should be equal
    ok 7 - build schema - payload schema # time=1.917ms
    
    # Subtest: build schema - avoid repeated normalize schema
        1..3
        ok 1 - should not be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 8 - build schema - avoid repeated normalize schema # time=1.554ms
    
    # Subtest: build schema - query schema
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 9 - build schema - query schema # time=8.555ms
    
    # Subtest: build schema - query schema abbreviated
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 10 - build schema - query schema abbreviated # time=2.267ms
    
    # Subtest: build schema - querystring schema
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 11 - build schema - querystring schema # time=2.245ms
    
    # Subtest: build schema - querystring schema abbreviated
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 12 - build schema - querystring schema abbreviated # time=2.151ms
    
    # Subtest: build schema - must throw if querystring and query schema exist
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 13 - build schema - must throw if querystring and query schema exist # time=1.242ms
    
    # Subtest: build schema - params schema
        1..1
        ok 1 - should be equal
    ok 14 - build schema - params schema # time=1.892ms
    
    # Subtest: build schema - headers schema
        1..1
        ok 1 - should be equal
    ok 15 - build schema - headers schema # time=2.013ms
    
    # Subtest: build schema - headers are lowercase
        1..1
        ok 1 - lowercase content-type exists
    ok 16 - build schema - headers are lowercase # time=0.737ms
    
    # Subtest: build schema - headers are not lowercased in case of custom object
        1..1
        ok 1 - type is Headers
    ok 17 - build schema - headers are not lowercased in case of custom object # time=0.599ms
    
    # Subtest: build schema - uppercased headers are not included
        1..1
        ok 1 - uppercase does not exist
    ok 18 - build schema - uppercased headers are not included # time=0.667ms
    
    1..18
    # time=170.887ms
ok 63 - test/internals/validation.test.js # time=170.887ms

# Subtest: test/keepAliveTimeout.test.js
    # Subtest: keepAliveTimeout
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not be equal
        ok 6 - should be equal
    ok 1 - keepAliveTimeout # time=40.195ms
    
    1..1
    # time=45.682ms
ok 64 - test/keepAliveTimeout.test.js # time=45.682ms

# Subtest: test/listen.deprecated.test.js
    # Subtest: listen accepts a port and a callback
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 1 - listen accepts a port and a callback # time=35.687ms
    
    # Subtest: listen accepts a port and a callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 2 - listen accepts a port and a callback with (err, address) # time=26.116ms
    
    # Subtest: listen accepts a port, address, and callback
        1..1
        ok 1 - should not error
    ok 3 - listen accepts a port, address, and callback # time=16.306ms
    
    # Subtest: listen accepts options, backlog and a callback
        1..1
        ok 1 - should not error
    ok 4 - listen accepts options, backlog and a callback # time=12.855ms
    
    # Subtest: listen accepts options (no port), backlog and a callback
        1..1
        ok 1 - should not error
    ok 5 - listen accepts options (no port), backlog and a callback # time=10.914ms
    
    # Subtest: listen accepts options (no host), backlog and a callback
        1..1
        ok 1 - should not error
    ok 6 - listen accepts options (no host), backlog and a callback # time=10.061ms
    
    # Subtest: listen accepts options (no port, no host), backlog and a callback
        1..1
        ok 1 - should not error
    ok 7 - listen accepts options (no port, no host), backlog and a callback # time=22.276ms
    
    # Subtest: listen accepts a port, address and a callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 8 - listen accepts a port, address and a callback with (err, address) # time=3.51ms
    
    # Subtest: listen accepts a port, address, backlog and callback
        1..1
        ok 1 - should not error
    ok 9 - listen accepts a port, address, backlog and callback # time=11.612ms
    
    # Subtest: listen accepts a port, address, backlog and callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 10 - listen accepts a port, address, backlog and callback with (err, address) # time=4.6ms
    
    # Subtest: listen without callback (port zero)
        1..1
        ok 1 - should be equal
    ok 11 - listen without callback (port zero) # time=9.709ms
    
    # Subtest: listen without callback (port not given)
        1..1
        ok 1 - should be equal
    ok 12 - listen without callback (port not given) # time=6.725ms
    
    # Subtest: listen null without callback with (address)
        1..1
        ok 1 - should be equal
    ok 13 - listen null without callback with (address) # time=3.737ms
    
    # Subtest: listen without port without callback with (address)
        1..1
        ok 1 - should be equal
    ok 14 - listen without port without callback with (address) # time=3.415ms
    
    # Subtest: listen with undefined without callback with (address)
        1..1
        ok 1 - should be equal
    ok 15 - listen with undefined without callback with (address) # time=3.666ms
    
    # Subtest: listen when firstArg is string(pipe) and without backlog
        1..1
        ok 1 - should be equal
    ok 16 - listen when firstArg is string(pipe) and without backlog # time=4.487ms
    
    # Subtest: listen when firstArg is string(pipe) and with backlog
        1..1
        ok 1 - should be equal
    ok 17 - listen when firstArg is string(pipe) and with backlog # time=3.326ms
    
    # Subtest: listen when firstArg is { path: string(pipe) } and with backlog and callback
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 18 - listen when firstArg is { path: string(pipe) } and with backlog and callback # time=3.223ms
    
    1..18
    # time=288.663ms
ok 65 - test/listen.deprecated.test.js # time=288.663ms

# Subtest: test/listen.test.js
    # Subtest: listen works without arguments
        ok 1 - should be equal
        ok 2 - expect truthy value
        1..2
    ok 1 - listen works without arguments # time=30.101ms
    
    # Subtest: Async/await listen with arguments
        1..1
        ok 1 - should be equal
    ok 2 - Async/await listen with arguments # time=5.1ms
    
    # Subtest: Promise listen with arguments
        1..1
        ok 1 - should be equal
    ok 3 - Promise listen with arguments # time=15.831ms
    
    # Subtest: listen accepts a callback
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 4 - listen accepts a callback # time=12.737ms
    
    # Subtest: listen accepts options and a callback
        1..1
        ok 1 - should not error
    ok 5 - listen accepts options and a callback # time=4.467ms
    
    # Subtest: listen after Promise.resolve()
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 6 - listen after Promise.resolve() # time=16.81ms
    
    # Subtest: register after listen using Promise.resolve()
        1..1
        ok 1 - resolved
    ok 7 - register after listen using Promise.resolve() # time=20.195ms
    
    # Subtest: double listen errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
    ok 8 - double listen errors # time=13.93ms
    
    # Subtest: double listen errors callback with (err, address)
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 9 - double listen errors callback with (err, address) # time=6.135ms
    
    # Subtest: listen twice on the same port
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 10 - listen twice on the same port # time=26.603ms
    
    # Subtest: listen twice on the same port callback with (err, address)
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 11 - listen twice on the same port callback with (err, address) # time=29.863ms
    
    # Subtest: listen on socket
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent strictly
        ok 3 - should be equal
    ok 12 - listen on socket # time=13.125ms
    
    # Subtest: listen without callback with (address)
        1..1
        ok 1 - should be equal
    ok 13 - listen without callback with (address) # time=3.623ms
    
    # Subtest: double listen without callback rejects
        1..1
        ok 1 - expect truthy value
    ok 14 - double listen without callback rejects # time=11.11ms
    
    # Subtest: double listen without callback with (address)
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 15 - double listen without callback with (address) # time=4.345ms
    
    # Subtest: listen twice on the same port without callback rejects
        1..1
        ok 1 - expect truthy value
    ok 16 - listen twice on the same port without callback rejects # time=5.533ms
    
    # Subtest: listen twice on the same port without callback rejects with (address)
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 17 - listen twice on the same port without callback rejects with (address) # time=6.425ms
    
    # Subtest: listen on invalid port without callback rejects
        ok 1 - expect truthy value
        1..1
    ok 18 - listen on invalid port without callback rejects # time=3.22ms
    
    # Subtest: listen logs the port as info
        1..1
        ok 1 - expect truthy value
    ok 19 - listen logs the port as info # time=3.591ms
    
    # Subtest: listen on localhost binds IPv4 and IPv6 - promise interface
        1..2
        ok 1 - should be equal
        ok 2 - should be equivalent
    ok 20 - listen on localhost binds IPv4 and IPv6 - promise interface # time=25.367ms
    
    # Subtest: listen on localhost binds to all interfaces (both IPv4 and IPv6 if present) - callback interface
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 21 - listen on localhost binds to all interfaces (both IPv4 and IPv6 if present) - callback interface # time=10.303ms
    
    # Subtest: addresses getter
        1..4
        ok 1 - before ready
        ok 2 - after ready
        ok 3 - after listen
        ok 4 - after close
    ok 22 - addresses getter # time=8.971ms
    
    1..22
    # time=374.588ms
ok 66 - test/listen.test.js # time=374.588ms

# Subtest: test/logger.test.js
    # Subtest: defaults to info level
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
        ok 13 - responseTime is defined
        1..13
    ok 1 - defaults to info level # time=57.062ms
    
    # Subtest: test log stream
        1..12
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
    ok 2 - test log stream # time=14.897ms
    
    # Subtest: test error log stream
        1..11
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - reqId is defined
        ok 9 - res is defined
        ok 10 - message is set
        ok 11 - statusCode is 500
    ok 3 - test error log stream # time=76.074ms
    
    # Subtest: can use external logger instance
        1..6
        ok 1 - "Server listening at http://127.0.0.1:38097" dont match "/^Server listening at /"
        ok 2 - should not error
        ok 3 - "incoming request" dont match "/^incoming request$/"
        ok 4 - expect truthy value
        ok 5 - "log success" dont match "/^log success$/"
        ok 6 - "request completed" dont match "/^request completed$/"
    ok 4 - can use external logger instance # time=28.333ms
    
    # Subtest: can use external logger instance with custom serializer
        1..6
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - expect truthy value
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 5 - can use external logger instance with custom serializer # time=22.448ms
    
    # Subtest: expose the logger
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equivalent
    ok 6 - expose the logger # time=2.478ms
    
    # Subtest: The request id header key can be customized
        1..9
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - message is set
        ok 6 - should be equal
        ok 7 - message is set
        ok 8 - should be equal
        ok 9 - message is set
    ok 7 - The request id header key can be customized # time=29.286ms
    
    # Subtest: The request id header key can be customized along with a custom id generator
        1..12
        ok 1 - should match pattern provided
        ok 2 - should be equal
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should be equal
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
    ok 8 - The request id header key can be customized along with a custom id generator # time=17.798ms
    
    # Subtest: The request id log label can be changed
        1..6
        ok 1 - should match pattern provided
        ok 2 - should be equal
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should not error
        ok 6 - should be equal
    ok 9 - The request id log label can be changed # time=10.222ms
    
    # Subtest: The logger should accept custom serializer
        1..9
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - req is defined
        ok 4 - message is set
        ok 5 - custom req serializer is use
        ok 6 - expect truthy value
        ok 7 - res is defined
        ok 8 - message is set
        ok 9 - default res serializer is use
    ok 10 - The logger should accept custom serializer # time=15.558ms
    
    # Subtest: reply.send logs an error if called twice in a row
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
    ok 11 - reply.send logs an error if called twice in a row # time=41.294ms
    
    # Subtest: logger can be silented
        1..17
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equivalent
        ok 10 - should be equivalent
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equivalent
        ok 14 - should be equivalent
        ok 15 - should be equivalent
        ok 16 - should be equivalent
        ok 17 - should be equivalent
    ok 12 - logger can be silented # time=7.581ms
    
    # Subtest: Should set a custom logLevel for a plugin
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equivalent
    ok 13 - Should set a custom logLevel for a plugin # time=17.222ms
    
    # Subtest: Should set a custom logSerializers for a plugin
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 14 - Should set a custom logSerializers for a plugin # time=8.818ms
    
    # Subtest: Should set a custom logLevel for every plugin
        1..18
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equivalent
        ok 15 - should not error
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equivalent
    ok 15 - Should set a custom logLevel for every plugin # time=18.556ms
    
    # Subtest: Should set a custom logSerializers for every plugin
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 16 - Should set a custom logSerializers for every plugin # time=37.493ms
    
    # Subtest: Should override serializers from route
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 17 - Should override serializers from route # time=27.495ms
    
    # Subtest: Should override serializers from plugin
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 18 - Should override serializers from plugin # time=24.774ms
    
    # Subtest: Should use serializers from plugin and route
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 19 - Should use serializers from plugin and route # time=10.29ms
    
    # Subtest: Should use serializers from instance fastify and route
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 20 - Should use serializers from instance fastify and route # time=7.057ms
    
    # Subtest: Should use serializers inherit from contexts
        1..5
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 21 - Should use serializers inherit from contexts # time=7.615ms
    
    # Subtest: Should increase the log level for a specific plugin
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 22 - Should increase the log level for a specific plugin # time=6.528ms
    
    # Subtest: Should set the log level for the customized 404 handler
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 23 - Should set the log level for the customized 404 handler # time=17.096ms
    
    # Subtest: Should set the log level for the customized 500 handler
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 24 - Should set the log level for the customized 500 handler # time=7.093ms
    
    # Subtest: Should set a custom log level for a specific route
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equivalent
    ok 25 - Should set a custom log level for a specific route # time=8.418ms
    
    # Subtest: The default 404 handler logs the incoming request
        1..5
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
    ok 26 - The default 404 handler logs the incoming request # time=5.834ms
    
    # Subtest: should serialize request and response
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 27 - should serialize request and response # time=6.31ms
    
    # Subtest: Wrap IPv6 address in listening log message
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 28 - Wrap IPv6 address in listening log message # time=3.933ms
    
    # Subtest: Do not wrap IPv4 address
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 29 - Do not wrap IPv4 address # time=3.849ms
    
    # Subtest: file option
        1..13
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - listen at log message is ok
        ok 4 - reqId is defined
        ok 5 - req is defined
        ok 6 - message is set
        ok 7 - method is get
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
        ok 13 - responseTime is defined
    ok 30 - file option # time=24.063ms
    
    # Subtest: should log the error if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 31 - should log the error if no error handler is defined # time=11.494ms
    
    # Subtest: should log as info if error status code >= 400 and < 500 if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 32 - should log as info if error status code >= 400 and < 500 if no error handler is defined # time=12.184ms
    
    # Subtest: should log as error if error status code >= 500 if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 33 - should log as error if error status code >= 500 if no error handler is defined # time=10.508ms
    
    # Subtest: should not log the error if error handler is defined and it does not error
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - level is correct
        ok 7 - message is set
        ok 8 - status code is set
    ok 34 - should not log the error if error handler is defined and it does not error # time=9.597ms
    
    # Subtest: should not rely on raw request to log errors
        1..7
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - status code is set
    ok 35 - should not rely on raw request to log errors # time=9.521ms
    
    # Subtest: should redact the authorization header if so specified
        1..7
        ok 1 - listen at log message is ok
        ok 2 - should not error
        ok 3 - authorization is redacted
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 36 - should redact the authorization header if so specified # time=19.495ms
    
    # Subtest: should not log incoming request and outgoing response when disabled
        1..3
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should be equivalent
    ok 37 - should not log incoming request and outgoing response when disabled # time=6.801ms
    
    # Subtest: should not log incoming request and outgoing response for 404 onBadUrl when disabled
        1..1
        ok 1 - should be equivalent
    ok 38 - should not log incoming request and outgoing response for 404 onBadUrl when disabled # time=4.194ms
    
    # Subtest: should pass when using unWritable props in the logger option
        1..1
        ok 1 - (unnamed test)
    ok 39 - should pass when using unWritable props in the logger option # time=2.576ms
    
    # Subtest: should be able to use a custom logger
        1..1
        ok 1 - (unnamed test)
    ok 40 - should be able to use a custom logger # time=2.913ms
    
    # Subtest: should create a default logger if provided one is invalid
        1..1
        ok 1 - (unnamed test)
    ok 41 - should create a default logger if provided one is invalid # time=1.26ms
    
    # Subtest: should not throw error when serializing custom req
        1..1
        ok 1 - should be equivalent
    ok 42 - should not throw error when serializing custom req # time=1.572ms
    
    1..42
    # time=810.682ms
ok 67 - test/logger.test.js # time=810.682ms

# Subtest: test/maxRequestsPerSocket.test.js
    # Subtest: maxRequestsPerSocket on node version >= 16.10.0
        1..8
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should match pattern provided
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
    ok 1 - maxRequestsPerSocket on node version >= 16.10.0 # time=69.085ms
    
    # Subtest: maxRequestsPerSocket zero should behave same as null
        1..10
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should match pattern provided
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
        ok 9 - should match pattern provided
        ok 10 - should match pattern provided
    ok 2 - maxRequestsPerSocket zero should behave same as null # time=17.676ms
    
    # Subtest: maxRequestsPerSocket should be set
        1..1
        ok 1 - should be equivalent
    ok 3 - maxRequestsPerSocket should be set # time=2.102ms
    
    # Subtest: maxRequestsPerSocket should 0
        1..1
        ok 1 - should be equivalent
    ok 4 - maxRequestsPerSocket should 0 # time=1.408ms
    
    # Subtest: requestTimeout passed to server
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 5 - requestTimeout passed to server # time=14.279ms
    
    1..5
    # time=114.458ms
ok 68 - test/maxRequestsPerSocket.test.js # time=114.458ms

# Subtest: test/middleware.test.js
    # Subtest: Should be able to override the default use API
        1..1
        ok 1 - should be equal
    ok 1 - Should be able to override the default use API # time=24.187ms
    
    # Subtest: Cannot decorate use twice
        1..1
        ok 1 - expect truthy value
    ok 2 - Cannot decorate use twice # time=5.354ms
    
    # Subtest: Encapsulation works
        1..1
        ok 1 - should be equal
    ok 3 - Encapsulation works # time=12.504ms
    
    1..3
    # time=69.613ms
ok 69 - test/middleware.test.js # time=69.613ms

# Subtest: test/noop-set.test.js
    # Subtest: does a lot of nothing
        ok 1 - type is object
        ok 2 - should be equal
        1..2
    ok 1 - does a lot of nothing # time=6.611ms
    
    1..1
    # time=11.835ms
ok 70 - test/noop-set.test.js # time=11.835ms

# Subtest: test/nullable-validation.test.js
    # Subtest: nullable string
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 1 - nullable string # time=137.559ms
    
    # Subtest: object or null body
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 2 - object or null body # time=53.997ms
    
    # Subtest: nullable body
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 3 - nullable body # time=49.383ms
    
    # Subtest: Nullable body with 204
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 4 - Nullable body with 204 # time=29.224ms
    
    1..4
    # time=277.406ms
ok 71 - test/nullable-validation.test.js # time=277.406ms

# Subtest: test/options.error-handler.test.js
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - OPTIONS can be created # time=8.691ms
    
    # Subtest: OPTIONS without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - OPTIONS without schema can be created # time=1.834ms
    
    # Subtest: OPTIONS with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - OPTIONS with body and querystring # time=1.422ms
    
    # Subtest: OPTIONS with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - OPTIONS with bodyLimit option # time=1.595ms
    
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - OPTIONS can be created # time=3.488ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - OPTIONS - correctly replies # time=55.147ms
    
    # Subtest: OPTIONS - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - OPTIONS - correctly replies with very large body # time=8.991ms
    
    # Subtest: OPTIONS - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - OPTIONS - correctly replies if the content type has the charset # time=5.231ms
    
    # Subtest: OPTIONS without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - OPTIONS without schema - correctly replies # time=4.857ms
    
    # Subtest: OPTIONS with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - OPTIONS with body and querystring - correctly replies # time=5.122ms
    
    # Subtest: OPTIONS with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - OPTIONS with no body - correctly replies # time=31.855ms
    
    # Subtest: OPTIONS returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - OPTIONS returns 415 - incorrect media type if body is not json # time=3.868ms
    
    # Subtest: OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text # time=5.132ms
    
    # Subtest: OPTIONS returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 14 - OPTIONS returns 400 - Bad Request # time=7.221ms
    
    # Subtest: OPTIONS returns 413 - Payload Too Large
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - OPTIONS returns 413 - Payload Too Large # time=6.441ms
    
    # Subtest: OPTIONS should fail with empty body and application/json content-type
        1..0
    ok 16 - OPTIONS should fail with empty body and application/json content-type # time=0.591ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - OPTIONS - correctly replies # time=4.317ms
    
    # Subtest: OPTIONS - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - OPTIONS - 400 on bad parameters # time=5.009ms
    
    # Subtest: OPTIONS - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - OPTIONS - input-validation coerce # time=4.067ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - OPTIONS - input-validation custom schema compiler # time=4.183ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - OPTIONS - input-validation joi schema compiler ok # time=5.945ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - OPTIONS - input-validation joi schema compiler ko # time=6.01ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - OPTIONS - input-validation yup schema compiler ok # time=6.014ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - OPTIONS - input-validation yup schema compiler ko # time=5.329ms
    
    # Subtest: OPTIONS - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - OPTIONS - input-validation instance custom schema compiler encapsulated # time=3.763ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 26 - OPTIONS - input-validation custom schema compiler encapsulated # time=3.763ms
    
    ok 27 - type is object
    ok 28 - type is Request
    ok 29 - type is object
    ok 30 - type is Request
    ok 31 - type is object
    ok 32 - type is Request
    ok 33 - type is object
    ok 34 - type is Request
    ok 35 - type is object
    ok 36 - type is Request
    1..36
    # time=1373.479ms
ok 72 - test/options.error-handler.test.js # time=1373.479ms

# Subtest: test/options.test.js
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - OPTIONS can be created # time=8.966ms
    
    # Subtest: OPTIONS without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - OPTIONS without schema can be created # time=1.882ms
    
    # Subtest: OPTIONS with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - OPTIONS with body and querystring # time=1.464ms
    
    # Subtest: OPTIONS with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - OPTIONS with bodyLimit option # time=1.669ms
    
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - OPTIONS can be created # time=3.15ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - OPTIONS - correctly replies # time=63.947ms
    
    # Subtest: OPTIONS - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - OPTIONS - correctly replies with very large body # time=9.693ms
    
    # Subtest: OPTIONS - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - OPTIONS - correctly replies if the content type has the charset # time=5.699ms
    
    # Subtest: OPTIONS without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - OPTIONS without schema - correctly replies # time=5.481ms
    
    # Subtest: OPTIONS with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - OPTIONS with body and querystring - correctly replies # time=5.814ms
    
    # Subtest: OPTIONS with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - OPTIONS with no body - correctly replies # time=27.79ms
    
    # Subtest: OPTIONS returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - OPTIONS returns 415 - incorrect media type if body is not json # time=4.574ms
    
    # Subtest: OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text # time=5.436ms
    
    # Subtest: OPTIONS returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 14 - OPTIONS returns 400 - Bad Request # time=7.982ms
    
    # Subtest: OPTIONS returns 413 - Payload Too Large
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - OPTIONS returns 413 - Payload Too Large # time=7.27ms
    
    # Subtest: OPTIONS should fail with empty body and application/json content-type
        1..0
    ok 16 - OPTIONS should fail with empty body and application/json content-type # time=0.788ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - OPTIONS - correctly replies # time=5.303ms
    
    # Subtest: OPTIONS - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - OPTIONS - 400 on bad parameters # time=5.786ms
    
    # Subtest: OPTIONS - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - OPTIONS - input-validation coerce # time=4.876ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - OPTIONS - input-validation custom schema compiler # time=4.91ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - OPTIONS - input-validation joi schema compiler ok # time=6.555ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - OPTIONS - input-validation joi schema compiler ko # time=6.696ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - OPTIONS - input-validation yup schema compiler ok # time=6.678ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - OPTIONS - input-validation yup schema compiler ko # time=5.866ms
    
    # Subtest: OPTIONS - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - OPTIONS - input-validation instance custom schema compiler encapsulated # time=4.34ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 26 - OPTIONS - input-validation custom schema compiler encapsulated # time=4.493ms
    
    1..26
    # time=1158.561ms
ok 73 - test/options.test.js # time=1158.561ms

# Subtest: test/output-validation.test.js
    # Subtest: shorthand - output string
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - output string # time=9.836ms
    
    # Subtest: shorthand - output number
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - output number # time=2.24ms
    
    # Subtest: wrong object for schema - output
        1..1
        ok 1 - (unnamed test)
    ok 3 - wrong object for schema - output # time=2.074ms
    
    # Subtest: empty response
        1..1
        ok 1 - (unnamed test)
    ok 4 - empty response # time=2.051ms
    
    # Subtest: unlisted response code
        1..1
        ok 1 - (unnamed test)
    ok 5 - unlisted response code # time=1.769ms
    
    ok 6 - should not error
    # Subtest: shorthand - string get ok
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - shorthand - string get ok # time=40.749ms
    
    # Subtest: shorthand - number get ok
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 8 - shorthand - number get ok # time=6.57ms
    
    # Subtest: shorthand - wrong-object-for-schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 9 - shorthand - wrong-object-for-schema # time=6.578ms
    
    # Subtest: shorthand - empty
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - shorthand - empty # time=4.265ms
    
    # Subtest: shorthand - 400
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - shorthand - 400 # time=5.114ms
    
    1..11
    # time=217.184ms
ok 74 - test/output-validation.test.js # time=217.184ms

# Subtest: test/patch.error-handler.test.js
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PATCH can be created # time=9.412ms
    
    # Subtest: PATCH without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PATCH without schema can be created # time=2.263ms
    
    # Subtest: PATCH with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PATCH with body and querystring # time=2.702ms
    
    # Subtest: PATCH with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PATCH with bodyLimit option # time=2.01ms
    
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - PATCH can be created # time=3.06ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - PATCH - correctly replies # time=64.495ms
    
    # Subtest: PATCH - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - PATCH - correctly replies with very large body # time=10.028ms
    
    # Subtest: PATCH - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - PATCH - correctly replies if the content type has the charset # time=6.127ms
    
    # Subtest: PATCH without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - PATCH without schema - correctly replies # time=5.768ms
    
    # Subtest: PATCH with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - PATCH with body and querystring - correctly replies # time=6.785ms
    
    # Subtest: PATCH with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - PATCH with no body - correctly replies # time=27.335ms
    
    # Subtest: PATCH returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - PATCH returns 415 - incorrect media type if body is not json # time=6.167ms
    
    # Subtest: PATCH returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 13 - PATCH returns 400 - Bad Request # time=7.71ms
    
    # Subtest: PATCH returns 413 - Payload Too Large
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 14 - PATCH returns 413 - Payload Too Large # time=14.251ms
    
    # Subtest: PATCH should fail with empty body and application/json content-type
        1..12
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
    ok 15 - PATCH should fail with empty body and application/json content-type # time=20.618ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - PATCH - correctly replies # time=4.945ms
    
    # Subtest: PATCH - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - PATCH - 400 on bad parameters # time=4.547ms
    
    # Subtest: PATCH - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - PATCH - input-validation coerce # time=4.095ms
    
    # Subtest: PATCH - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - PATCH - input-validation custom schema compiler # time=4.196ms
    
    # Subtest: PATCH - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - PATCH - input-validation joi schema compiler ok # time=5.904ms
    
    # Subtest: PATCH - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - PATCH - input-validation joi schema compiler ko # time=5.414ms
    
    # Subtest: PATCH - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - PATCH - input-validation yup schema compiler ok # time=5.26ms
    
    # Subtest: PATCH - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - PATCH - input-validation yup schema compiler ko # time=5.125ms
    
    # Subtest: PATCH - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - PATCH - input-validation instance custom schema compiler encapsulated # time=3.586ms
    
    # Subtest: PATCH - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - PATCH - input-validation custom schema compiler encapsulated # time=3.951ms
    
    ok 26 - type is object
    ok 27 - type is Request
    ok 28 - type is object
    ok 29 - type is Request
    ok 30 - type is object
    ok 31 - type is Request
    ok 32 - type is object
    ok 33 - type is Request
    ok 34 - type is object
    ok 35 - type is Request
    ok 36 - type is object
    ok 37 - type is Request
    ok 38 - type is object
    ok 39 - type is Request
    ok 40 - type is object
    ok 41 - type is Request
    ok 42 - type is object
    ok 43 - type is Request
    ok 44 - type is object
    ok 45 - type is Request
    ok 46 - type is object
    ok 47 - type is Request
    ok 48 - type is object
    ok 49 - type is Request
    1..49
    # time=1001.956ms
ok 75 - test/patch.error-handler.test.js # time=1001.956ms

# Subtest: test/patch.test.js
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PATCH can be created # time=8.932ms
    
    # Subtest: PATCH without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PATCH without schema can be created # time=1.839ms
    
    # Subtest: PATCH with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PATCH with body and querystring # time=1.415ms
    
    # Subtest: PATCH with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PATCH with bodyLimit option # time=1.65ms
    
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - PATCH can be created # time=2.941ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - PATCH - correctly replies # time=60.993ms
    
    # Subtest: PATCH - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - PATCH - correctly replies with very large body # time=9.684ms
    
    # Subtest: PATCH - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - PATCH - correctly replies if the content type has the charset # time=6.383ms
    
    # Subtest: PATCH without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - PATCH without schema - correctly replies # time=5.251ms
    
    # Subtest: PATCH with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - PATCH with body and querystring - correctly replies # time=6.449ms
    
    # Subtest: PATCH with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - PATCH with no body - correctly replies # time=26.31ms
    
    # Subtest: PATCH returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - PATCH returns 415 - incorrect media type if body is not json # time=5.758ms
    
    # Subtest: PATCH returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 13 - PATCH returns 400 - Bad Request # time=16.522ms
    
    # Subtest: PATCH returns 413 - Payload Too Large
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 14 - PATCH returns 413 - Payload Too Large # time=14.82ms
    
    # Subtest: PATCH should fail with empty body and application/json content-type
        1..12
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
    ok 15 - PATCH should fail with empty body and application/json content-type # time=21.021ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - PATCH - correctly replies # time=5.352ms
    
    # Subtest: PATCH - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - PATCH - 400 on bad parameters # time=5.087ms
    
    # Subtest: PATCH - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - PATCH - input-validation coerce # time=4.356ms
    
    # Subtest: PATCH - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - PATCH - input-validation custom schema compiler # time=4.447ms
    
    # Subtest: PATCH - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - PATCH - input-validation joi schema compiler ok # time=10.393ms
    
    # Subtest: PATCH - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - PATCH - input-validation joi schema compiler ko # time=5.939ms
    
    # Subtest: PATCH - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - PATCH - input-validation yup schema compiler ok # time=5.619ms
    
    # Subtest: PATCH - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - PATCH - input-validation yup schema compiler ko # time=5.494ms
    
    # Subtest: PATCH - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - PATCH - input-validation instance custom schema compiler encapsulated # time=3.981ms
    
    # Subtest: PATCH - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - PATCH - input-validation custom schema compiler encapsulated # time=3.861ms
    
    1..25
    # time=1013.885ms
ok 76 - test/patch.test.js # time=1013.885ms

# Subtest: test/plugin.test.js
    # Subtest: require a plugin
        1..1
        ok 1 - expect truthy value
    ok 1 - require a plugin # time=101.419ms
    
    # Subtest: plugin metadata - ignore prefix
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 2 - plugin metadata - ignore prefix # time=38.415ms
    
    # Subtest: plugin metadata - naming plugins
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 3 - plugin metadata - naming plugins # time=9.694ms
    
    # Subtest: fastify.register with fastify-plugin should not encapsulate his code
        1..10
        ok 1 - expect falsey value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 4 - fastify.register with fastify-plugin should not encapsulate his code # time=56.09ms
    
    # Subtest: fastify.register with fastify-plugin should provide access to external fastify instance if opts argument is a function
        1..22
        ok 1 - expect falsey value
        ok 2 - expect falsey value
        ok 3 - expect falsey value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect falsey value
        ok 10 - expect truthy value
        ok 11 - expect falsey value
        ok 12 - expect truthy value
        ok 13 - expect truthy value
        ok 14 - should be equal
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - should not error
        ok 18 - expect truthy value
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equal
        ok 22 - should be equivalent
    ok 5 - fastify.register with fastify-plugin should provide access to external fastify instance if opts argument is a function # time=29.366ms
    
    # Subtest: fastify.register with fastify-plugin registers fastify level plugins
        1..15
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should not error
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equivalent
    ok 6 - fastify.register with fastify-plugin registers fastify level plugins # time=17.657ms
    
    # Subtest: check dependencies - should not throw
        1..12
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - should not error
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
    ok 7 - check dependencies - should not throw # time=12.696ms
    
    # Subtest: check dependencies - should throw
        1..12
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - should not error
        ok 7 - expect truthy value
        ok 8 - expect falsey value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
    ok 8 - check dependencies - should throw # time=32.178ms
    
    # Subtest: set the plugin name based on the plugin displayName symbol
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
    ok 9 - set the plugin name based on the plugin displayName symbol # time=19.008ms
    
    # Subtest: plugin name will change when using no encapsulation
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
    ok 10 - plugin name will change when using no encapsulation # time=6.506ms
    
    # Subtest: plugin name is undefined when accessing in no plugin context
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 11 - plugin name is undefined when accessing in no plugin context # time=21.065ms
    
    # Subtest: set the plugin name based on the plugin function name
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 12 - set the plugin name based on the plugin function name # time=11.932ms
    
    # Subtest: approximate a plugin name when no meta data is available
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
    ok 13 - approximate a plugin name when no meta data is available # time=7.201ms
    
    # Subtest: approximate a plugin name also when fastify-plugin has no meta data
        1..4
        ok 1 - should match pattern provided
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should not error
    ok 14 - approximate a plugin name also when fastify-plugin has no meta data # time=10.508ms
    
    # Subtest: plugin encapsulation
        1..10
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 15 - plugin encapsulation # time=18.87ms
    
    # Subtest: if a plugin raises an error and there is not a callback to handle it, the server must not start
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 16 - if a plugin raises an error and there is not a callback to handle it, the server must not start # time=11.613ms
    
    # Subtest: add hooks after route declaration
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 17 - add hooks after route declaration # time=12.198ms
    
    # Subtest: nested plugins
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 18 - nested plugins # time=14.784ms
    
    # Subtest: nested plugins awaited
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 19 - nested plugins awaited # time=14.035ms
    
    # Subtest: plugin metadata - decorators
        1..1
        ok 1 - expect truthy value
    ok 20 - plugin metadata - decorators # time=13.953ms
    
    # Subtest: plugin metadata - decorators - should throw
        1..1
        ok 1 - should be equal
    ok 21 - plugin metadata - decorators - should throw # time=3.249ms
    
    # Subtest: plugin metadata - decorators - should throw with plugin name
        1..1
        ok 1 - should be equal
    ok 22 - plugin metadata - decorators - should throw with plugin name # time=11.203ms
    
    # Subtest: plugin metadata - dependencies
        1..1
        ok 1 - everything right
    ok 23 - plugin metadata - dependencies # time=3.273ms
    
    # Subtest: plugin metadata - dependencies (nested)
        1..1
        ok 1 - everything right
    ok 24 - plugin metadata - dependencies (nested) # time=7.214ms
    
    # Subtest: pluginTimeout
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 25 - pluginTimeout # time=14.459ms
    
    # "pluginTimeout - named function" has `only` set but all tests run
    # Subtest: pluginTimeout - named function
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 26 - pluginTimeout - named function # time=13.944ms
    
    # Subtest: pluginTimeout default
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 27 - pluginTimeout default # time=-66695922.989ms
    
    # Subtest: plugin metadata - version
        1..1
        ok 1 - everything right
    ok 28 - plugin metadata - version # time=7.603ms
    
    # Subtest: plugin metadata - version range
        1..1
        ok 1 - everything right
    ok 29 - plugin metadata - version range # time=3.773ms
    
    # Subtest: plugin metadata - version not matching requirement
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 30 - plugin metadata - version not matching requirement # time=4.112ms
    
    # Subtest: plugin metadata - version not matching requirement 2
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 31 - plugin metadata - version not matching requirement 2 # time=3.08ms
    
    # Subtest: plugin metadata - version not matching requirement 3
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 32 - plugin metadata - version not matching requirement 3 # time=3.034ms
    
    # Subtest: plugin metadata - release candidate
        1..2
        ok 1 - should not error
        ok 2 - everything right
    ok 33 - plugin metadata - release candidate # time=4.435ms
    
    # Subtest: fastify-rc loads prior version plugins
        1..2
        ok 1 - should not error
        ok 2 - everything right
    ok 34 - fastify-rc loads prior version plugins # time=3.974ms
    
    # Subtest: hasPlugin method exists as a function
        1..1
        ok 1 - should be equal
    ok 35 - hasPlugin method exists as a function # time=1.301ms
    
    # Subtest: hasPlugin returns true if the specified plugin has been registered
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
    ok 36 - hasPlugin returns true if the specified plugin has been registered # time=5.787ms
    
    # Subtest: hasPlugin returns false if the specified plugin has not been registered
        1..1
        ok 1 - expect falsey value
    ok 37 - hasPlugin returns false if the specified plugin has not been registered # time=1.295ms
    
    # Subtest: hasPlugin returns false when using encapsulation
        1..25
        ok 1 - expect truthy value
        ok 2 - expect falsey value
        ok 3 - expect falsey value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect truthy value
        ok 8 - expect falsey value
        ok 9 - expect falsey value
        ok 10 - expect falsey value
        ok 11 - expect falsey value
        ok 12 - expect falsey value
        ok 13 - expect truthy value
        ok 14 - expect falsey value
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - expect falsey value
        ok 18 - expect falsey value
        ok 19 - expect truthy value
        ok 20 - expect falsey value
        ok 21 - expect falsey value
        ok 22 - expect falsey value
        ok 23 - expect falsey value
        ok 24 - expect falsey value
        ok 25 - expect truthy value
    ok 38 - hasPlugin returns false when using encapsulation # time=14.558ms
    
    # Subtest: hasPlugin returns true when using no encapsulation
        1..26
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect falsey value
        ok 10 - expect falsey value
        ok 11 - expect falsey value
        ok 12 - expect truthy value
        ok 13 - expect truthy value
        ok 14 - expect truthy value
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - expect truthy value
        ok 18 - expect truthy value
        ok 19 - expect truthy value
        ok 20 - expect truthy value
        ok 21 - expect falsey value
        ok 22 - expect truthy value
        ok 23 - expect truthy value
        ok 24 - expect truthy value
        ok 25 - expect truthy value
        ok 26 - expect truthy value
    ok 39 - hasPlugin returns true when using no encapsulation # time=9.967ms
    
    1..39
    # time=617.575ms
ok 77 - test/plugin.test.js # time=617.575ms

# Subtest: test/pretty-print.test.js
    # Subtest: pretty print - static routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - pretty print - static routes # time=53.925ms
    
    # Subtest: pretty print - parametric routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - pretty print - parametric routes # time=8.075ms
    
    # Subtest: pretty print - mixed parametric routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 3 - pretty print - mixed parametric routes # time=8.127ms
    
    # Subtest: pretty print - wildcard routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - pretty print - wildcard routes # time=17.95ms
    
    # Subtest: pretty print - empty plugins
        1..2
        ok 1 - should be equal
        ok 2 - should match pattern provided
    ok 5 - pretty print - empty plugins # time=7.613ms
    
    # Subtest: pretty print - nested plugins
        1..4
        ok 1 - should be equal
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
    ok 6 - pretty print - nested plugins # time=12.523ms
    
    # Subtest: pretty print - commonPrefix
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 7 - pretty print - commonPrefix # time=23.546ms
    
    # Subtest: pretty print - includeMeta, includeHooks
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 8 - pretty print - includeMeta, includeHooks # time=19.546ms
    
    1..8
    # time=182.35ms
ok 78 - test/pretty-print.test.js # time=182.35ms

# Subtest: test/promises.test.js
    ok 1 - should not error
    # Subtest: shorthand - sget return promise es6 get
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - shorthand - sget return promise es6 get # time=44.316ms
    
    # Subtest: shorthand - sget promise es6 get return error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 3 - shorthand - sget promise es6 get return error # time=9.032ms
    
    # Subtest: sget promise double send
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 4 - sget promise double send # time=6.25ms
    
    # Subtest: thenable
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 5 - thenable # time=6.416ms
    
    # Subtest: thenable (error)
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 6 - thenable (error) # time=4.545ms
    
    # Subtest: return-reply
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - return-reply # time=5.207ms
    
    1..7
    # time=141.586ms
ok 79 - test/promises.test.js # time=141.586ms

# Subtest: test/proto-poisoning.test.js
    # Subtest: proto-poisoning error
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 1 - proto-poisoning error # time=69.482ms
    
    # Subtest: proto-poisoning remove
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 2 - proto-poisoning remove # time=12.227ms
    
    # Subtest: proto-poisoning ignore
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 3 - proto-poisoning ignore # time=22.033ms
    
    # Subtest: constructor-poisoning error (default in v3)
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 4 - constructor-poisoning error (default in v3) # time=15.45ms
    
    # Subtest: constructor-poisoning error
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 5 - constructor-poisoning error # time=8.828ms
    
    # Subtest: constructor-poisoning remove
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 6 - constructor-poisoning remove # time=7.85ms
    
    1..6
    # time=146.111ms
ok 80 - test/proto-poisoning.test.js # time=146.111ms

./VariantsPureDep/fastify/variant11/fastify

> fastify@4.3.0 test
> npm run lint && npm run unit && npm run test:typescript


> fastify@4.3.0 lint
> npm run lint:standard && npm run lint:typescript && npm run lint:markdown


> fastify@4.3.0 lint:standard
> standard | snazzy

-----------------------------|---------|----------|---------|---------|-----------------------------
File                         | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s           
-----------------------------|---------|----------|---------|---------|-----------------------------
All files                    |   92.78 |    92.03 |    92.3 |   92.91 |                             
 fastify                     |   85.23 |    88.12 |   82.14 |    84.9 |                             
  fastify.js                 |   85.23 |    88.12 |   82.14 |    84.9 | ...,676-695,721-724,732-743 
 fastify/lib                 |   93.85 |    92.55 |   94.23 |   94.06 |                             
  contentTypeParser.js       |    97.8 |    99.15 |     100 |   97.64 | 233-236                     
  context.js                 |     100 |      100 |     100 |     100 |                             
  decorate.js                |   98.21 |    98.03 |     100 |   98.07 | 41                          
  error-handler.js           |    94.2 |    93.61 |     100 |    94.2 | 108-110,118                 
  errors.js                  |     100 |      100 |     100 |     100 |                             
  fourOhFour.js              |     100 |      100 |     100 |     100 |                             
  handleRequest.js           |   98.48 |    98.03 |     100 |   98.41 | 97                          
  headRoute.js               |      20 |     12.5 |   33.33 |   14.28 | 4-21,26                     
  hooks.js                   |     100 |      100 |     100 |     100 |                             
  initialConfigValidation.js |     100 |      100 |     100 |     100 |                             
  logger.js                  |     100 |      100 |     100 |     100 |                             
  noop-set.js                |     100 |      100 |     100 |     100 |                             
  pluginOverride.js          |   97.56 |       90 |     100 |    97.5 | 75                          
  pluginUtils.js             |     100 |      100 |     100 |     100 |                             
  reply.js                   |    87.7 |    84.86 |   88.88 |   88.76 | ...-618,622-627,648-654,659 
  reqIdGenFactory.js         |     100 |      100 |     100 |     100 |                             
  request.js                 |   87.96 |    90.62 |      80 |   89.42 | 45-54,157-167,206,211       
  route.js                   |   88.84 |    88.04 |     100 |   88.69 | ...,355-362,396-397,461,465 
  schema-controller.js       |    92.3 |    79.41 |   84.61 |    92.3 | 23,58,71                    
  schemas.js                 |   92.64 |    93.65 |   88.88 |   94.02 | 28,32,43,147                
  server.js                  |     100 |      100 |     100 |     100 |                             
  symbols.js                 |     100 |      100 |     100 |     100 |                             
  validation.js              |   98.55 |    96.55 |     100 |   98.43 | 22                          
  warnings.js                |     100 |      100 |     100 |     100 |                             
  wrapThenable.js            |   93.33 |       90 |     100 |   93.33 | 11                          
-----------------------------|---------|----------|---------|---------|-----------------------------

> fastify@4.3.0 lint:typescript
> eslint -c types/.eslintrc.json types/**/*.d.ts test/types/**/*.test-d.ts


> fastify@4.3.0 lint:markdown
> markdownlint-cli2

markdownlint-cli2 v0.4.0 (markdownlint v0.25.1)

> fastify@4.3.0 unit
> tap

TAP version 13
# Subtest: test/404s.test.js
    1..0 # no tests found
not ok 1 - test/404s.test.js # time=1620.159ms
  ---
  env: {}
  file: test/404s.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/404s.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/500s.test.js
    1..0 # no tests found
not ok 2 - test/500s.test.js # time=1618.931ms
  ---
  env: {}
  file: test/500s.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/500s.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/allowUnsafeRegex.test.js
    1..0 # no tests found
not ok 3 - test/allowUnsafeRegex.test.js # time=1461.334ms
  ---
  env: {}
  file: test/allowUnsafeRegex.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/allowUnsafeRegex.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/als.test.js
    1..0 # no tests found
not ok 4 - test/als.test.js # time=1424.948ms
  ---
  env: {}
  file: test/als.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/als.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/async-await.test.js
    1..0 # no tests found
not ok 5 - test/async-await.test.js # time=1453.541ms
  ---
  env: {}
  file: test/async-await.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/async-await.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/bodyLimit.test.js
    1..0 # no tests found
not ok 6 - test/bodyLimit.test.js # time=1223.585ms
  ---
  env: {}
  file: test/bodyLimit.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/bodyLimit.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/build/error-serializer.test.js
    # Subtest: check generated code syntax
        1..1
        ok 1 - should be equal
    ok 1 - check generated code syntax # time=3843.92ms
    
    ok 2 - ensure the current error serializer is latest # SKIP
    1..2
    # skip: 1
    # time=3914.406ms
ok 7 - test/build/error-serializer.test.js # time=3914.406ms

# Subtest: test/build/version.test.js
    1..0 # no tests found
not ok 8 - test/build/version.test.js # time=1408.603ms
  ---
  env: {}
  file: test/build/version.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/build/version.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/case-insensitive.test.js
    1..0 # no tests found
not ok 9 - test/case-insensitive.test.js # time=1511.825ms
  ---
  env: {}
  file: test/case-insensitive.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/case-insensitive.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/chainable.test.js
    1..0 # no tests found
not ok 10 - test/chainable.test.js # time=1401.564ms
  ---
  env: {}
  file: test/chainable.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/chainable.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/close-pipelining.test.js
    1..0 # no tests found
not ok 11 - test/close-pipelining.test.js # time=1563.265ms
  ---
  env: {}
  file: test/close-pipelining.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/close-pipelining.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/close.test.js
    1..0 # no tests found
not ok 12 - test/close.test.js # time=1447.608ms
  ---
  env: {}
  file: test/close.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/close.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/connectionTimeout.test.js
    1..0 # no tests found
not ok 13 - test/connectionTimeout.test.js # time=1330.969ms
  ---
  env: {}
  file: test/connectionTimeout.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/connectionTimeout.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/constrained-routes.test.js
    1..0 # no tests found
not ok 14 - test/constrained-routes.test.js # time=1463.654ms
  ---
  env: {}
  file: test/constrained-routes.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/constrained-routes.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/content-length.test.js
    1..0 # no tests found
not ok 15 - test/content-length.test.js # time=1399.761ms
  ---
  env: {}
  file: test/content-length.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/content-length.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/content-parser.test.js
    1..0 # no tests found
not ok 16 - test/content-parser.test.js # time=1463.112ms
  ---
  env: {}
  file: test/content-parser.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/content-parser.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/context-config.test.js
    1..0 # no tests found
not ok 17 - test/context-config.test.js # time=1768.089ms
  ---
  env: {}
  file: test/context-config.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/context-config.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/custom-http-server.test.js
    1..0 # no tests found
not ok 18 - test/custom-http-server.test.js # time=1562.618ms
  ---
  env: {}
  file: test/custom-http-server.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/custom-http-server.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/custom-parser-async.test.js
    1..0 # no tests found
not ok 19 - test/custom-parser-async.test.js # time=1468.631ms
  ---
  env: {}
  file: test/custom-parser-async.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/custom-parser-async.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/custom-parser.test.js
    1..0 # no tests found
not ok 20 - test/custom-parser.test.js # time=1517.44ms
  ---
  env: {}
  file: test/custom-parser.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/custom-parser.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/custom-querystring-parser.test.js
    1..0 # no tests found
not ok 21 - test/custom-querystring-parser.test.js # time=2049.014ms
  ---
  env: {}
  file: test/custom-querystring-parser.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/custom-querystring-parser.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/decorator.test.js
    1..0 # no tests found
not ok 22 - test/decorator.test.js # time=1954.258ms
  ---
  env: {}
  file: test/decorator.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/decorator.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/default-route.test.js
    1..0 # no tests found
not ok 23 - test/default-route.test.js # time=1806.356ms
  ---
  env: {}
  file: test/default-route.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/default-route.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/delete.test.js
    1..0 # no tests found
not ok 24 - test/delete.test.js # time=1697.42ms
  ---
  env: {}
  file: test/delete.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/delete.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/diagnostics-channel.test.js
    # Subtest: diagnostics_channel when present and subscribers
        1..3
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: >
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
          
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
          
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
          
            Object..js (node_modules/append-transform/index.js:64:4)
          
            require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
          
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: diagnostics_channel when present and subscribers
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 1 - diagnostics_channel when present and subscribers # time=948.565ms
    
    # Subtest: diagnostics_channel when present and no subscribers
        1..1
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: >
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
          
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
          
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
          
            Object..js (node_modules/append-transform/index.js:64:4)
          
            require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
          
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: diagnostics_channel when present and no subscribers
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # failed 1 test
    not ok 2 - diagnostics_channel when present and no subscribers # time=159.136ms
    
    # Subtest: diagnostics_channel when not present
        1..1
        not ok 1 - expected to not throw
          ---
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          stack: >
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
          
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
          
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
          
            Object..js (node_modules/append-transform/index.js:64:4)
          
            require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
          
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          message: the FULL_PATH_REGEXP is not safe, update this module
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # failed 1 test
    not ok 3 - diagnostics_channel when not present # time=46.408ms
    
    1..3
    # failed 3 of 3 tests
    # time=1170.2ms
not ok 25 - test/diagnostics-channel.test.js # time=1170.2ms
  ---
  env: {}
  file: test/diagnostics-channel.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/diagnostics-channel.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/encapsulated-error-handler.test.js
    1..0 # no tests found
not ok 26 - test/encapsulated-error-handler.test.js # time=1471.507ms
  ---
  env: {}
  file: test/encapsulated-error-handler.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/encapsulated-error-handler.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/esm/index.test.js
    1..0 # no tests found
not ok 27 - test/esm/index.test.js # time=2287.732ms
  ---
  env: {}
  file: test/esm/index.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/esm/index.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/fastify-instance.test.js
    1..0 # no tests found
not ok 28 - test/fastify-instance.test.js # time=2117.31ms
  ---
  env: {}
  file: test/fastify-instance.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/fastify-instance.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/fluent-schema.test.js
    1..0 # no tests found
not ok 29 - test/fluent-schema.test.js # time=1479.169ms
  ---
  env: {}
  file: test/fluent-schema.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/fluent-schema.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/genReqId.test.js
    1..0 # no tests found
not ok 30 - test/genReqId.test.js # time=1390.978ms
  ---
  env: {}
  file: test/genReqId.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/genReqId.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/get.test.js
    1..0 # no tests found
not ok 31 - test/get.test.js # time=1496.378ms
  ---
  env: {}
  file: test/get.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/get.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/handler-context.test.js
    1..0 # no tests found
not ok 32 - test/handler-context.test.js # time=1421.374ms
  ---
  env: {}
  file: test/handler-context.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/handler-context.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/head.test.js
    1..0 # no tests found
not ok 33 - test/head.test.js # time=1615.52ms
  ---
  env: {}
  file: test/head.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/head.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/hooks-async.test.js
    1..0 # no tests found
not ok 34 - test/hooks-async.test.js # time=1473.16ms
  ---
  env: {}
  file: test/hooks-async.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/hooks-async.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/hooks.on-ready.test.js
    1..0 # no tests found
not ok 35 - test/hooks.on-ready.test.js # time=1418.122ms
  ---
  env: {}
  file: test/hooks.on-ready.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/hooks.on-ready.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/hooks.test.js
    1..0 # no tests found
not ok 36 - test/hooks.test.js # time=1426.794ms
  ---
  env: {}
  file: test/hooks.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/hooks.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/http2/closing.test.js
    1..0 # no tests found
not ok 37 - test/http2/closing.test.js # time=1470.346ms
  ---
  env: {}
  file: test/http2/closing.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/http2/closing.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/http2/constraint.test.js
    1..0 # no tests found
not ok 38 - test/http2/constraint.test.js # time=1448.23ms
  ---
  env: {}
  file: test/http2/constraint.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/http2/constraint.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/http2/head.test.js
    1..0 # no tests found
not ok 39 - test/http2/head.test.js # time=1420.513ms
  ---
  env: {}
  file: test/http2/head.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/http2/head.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/http2/missing-http2-module.test.js
    1..0 # no tests found
not ok 40 - test/http2/missing-http2-module.test.js # time=1726.916ms
  ---
  env: {}
  file: test/http2/missing-http2-module.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/http2/missing-http2-module.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/http2/plain.test.js
    1..0 # no tests found
not ok 41 - test/http2/plain.test.js # time=1436.811ms
  ---
  env: {}
  file: test/http2/plain.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/http2/plain.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/http2/secure-with-fallback.test.js
    1..0 # no tests found
not ok 42 - test/http2/secure-with-fallback.test.js # time=1416.614ms
  ---
  env: {}
  file: test/http2/secure-with-fallback.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/http2/secure-with-fallback.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/http2/secure.test.js
    1..0 # no tests found
not ok 43 - test/http2/secure.test.js # time=1484.315ms
  ---
  env: {}
  file: test/http2/secure.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/http2/secure.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/http2/unknown-http-method.test.js
    1..0 # no tests found
not ok 44 - test/http2/unknown-http-method.test.js # time=1481.176ms
  ---
  env: {}
  file: test/http2/unknown-http-method.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/http2/unknown-http-method.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/https/custom-https-server.test.js
    1..0 # no tests found
not ok 45 - test/https/custom-https-server.test.js # time=1381.043ms
  ---
  env: {}
  file: test/https/custom-https-server.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/https/custom-https-server.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/https/https.test.js
    1..0 # no tests found
not ok 46 - test/https/https.test.js # time=1435.73ms
  ---
  env: {}
  file: test/https/https.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/https/https.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/imports.test.js
    # Subtest: should import as default
        1..2
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: should import as default
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(2)
        # failed 1 test
    not ok 1 - should import as default # time=736.504ms
    
    # Subtest: should import as esm
        1..2
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: should import as esm
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(2)
        # failed 1 test
    not ok 2 - should import as esm # time=28.98ms
    
    1..2
    # failed 2 of 2 tests
    # time=774.829ms
not ok 47 - test/imports.test.js # time=774.829ms
  ---
  env: {}
  file: test/imports.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/imports.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/inject.test.js
    1..0 # no tests found
not ok 48 - test/inject.test.js # time=1435.145ms
  ---
  env: {}
  file: test/inject.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/inject.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/internals/all.test.js
    1..0 # no tests found
not ok 49 - test/internals/all.test.js # time=1532.846ms
  ---
  env: {}
  file: test/internals/all.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/internals/all.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/internals/contentTypeParser.test.js
    # Subtest: rawBody function
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - rawBody function # time=30.258ms
    
    # Subtest: Should support Webpack and faux modules
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - Should support Webpack and faux modules # time=17.163ms
    
    1..2
    # time=69.317ms
ok 50 - test/internals/contentTypeParser.test.js # time=69.317ms

# Subtest: test/internals/decorator.test.js
    # Subtest: decorate should add the given method to its instance
        1..1
        ok 1 - expect truthy value
    ok 1 - decorate should add the given method to its instance # time=5.776ms
    
    # Subtest: decorate is chainable
        1..3
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
    ok 2 - decorate is chainable # time=1.836ms
    
    # Subtest: checkExistence should check if a property is part of the given instance
        1..1
        ok 1 - expect truthy value
    ok 3 - checkExistence should check if a property is part of the given instance # time=1.238ms
    
    # Subtest: checkExistence should find the instance if not given
        1..1
        ok 1 - expect truthy value
    ok 4 - checkExistence should find the instance if not given # time=1.168ms
    
    # Subtest: checkExistence should check the prototype as well
        1..1
        ok 1 - expect truthy value
    ok 5 - checkExistence should check the prototype as well # time=1.537ms
    
    # Subtest: checkDependencies should throw if a dependency is not present
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 6 - checkDependencies should throw if a dependency is not present # time=2.193ms
    
    # Subtest: decorate should internally call checkDependencies
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 7 - decorate should internally call checkDependencies # time=1.55ms
    
    # Subtest: decorate should recognize getter/setter objects
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - (unnamed test)
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 8 - decorate should recognize getter/setter objects # time=3.078ms
    
    1..8
    # time=68.049ms
ok 51 - test/internals/decorator.test.js # time=68.049ms

# Subtest: test/internals/handleRequest.test.js
    # Subtest: handleRequest function - sent reply
        1..1
        ok 1 - should be equal
    ok 1 - handleRequest function - sent reply # time=6.456ms
    
    # Subtest: handleRequest function - invoke with error
        1..1
        ok 1 - should be equal
    ok 2 - handleRequest function - invoke with error # time=1.84ms
    
    # Subtest: handler function - invalid schema
        1..1
        ok 1 - errorHandler called
    ok 3 - handler function - invalid schema # time=77.548ms
    
    # Subtest: handler function - reply
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - (unnamed test)
    ok 4 - handler function - reply # time=2.846ms
    
    # Subtest: handler function - preValidationCallback with finished response
        1..0
    ok 5 - handler function - preValidationCallback with finished response # time=0.78ms
    
    # Subtest: request should be defined in onSend Hook on post request with content type application/json
        1..8
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: request should be defined in onSend Hook on post request with content type
            application/json
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(8)
        # failed 1 test
    not ok 6 - request should be defined in onSend Hook on post request with content type application/json # time=280.116ms
    
    # Subtest: request should be defined in onSend Hook on post request with content type application/x-www-form-urlencoded
        1..7
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: request should be defined in onSend Hook on post request with content type
            application/x-www-form-urlencoded
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(7)
        # failed 1 test
    not ok 7 - request should be defined in onSend Hook on post request with content type application/x-www-form-urlencoded # time=31.731ms
    
    # Subtest: request should be defined in onSend Hook on options request with content type application/x-www-form-urlencoded
        1..7
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: request should be defined in onSend Hook on options request with content
            type application/x-www-form-urlencoded
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(7)
        # failed 1 test
    not ok 8 - request should be defined in onSend Hook on options request with content type application/x-www-form-urlencoded # time=29.816ms
    
    # Subtest: request should respond with an error if an unserialized payload is sent inside an async handler
        1..3
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: request should respond with an error if an unserialized payload is sent
            inside an async handler
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 9 - request should respond with an error if an unserialized payload is sent inside an async handler # time=32.415ms
    
    1..9
    # failed 4 of 9 tests
    # time=496.059ms
not ok 52 - test/internals/handleRequest.test.js # time=496.059ms
  ---
  env: {}
  file: test/internals/handleRequest.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/internals/handleRequest.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/internals/hookRunner.test.js
    # Subtest: hookRunner - Basic
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 1 - hookRunner - Basic # time=9.043ms
    
    # Subtest: hookRunner - In case of error should skip to done
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 2 - hookRunner - In case of error should skip to done # time=2.71ms
    
    # Subtest: hookRunner - Should handle throw
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 3 - hookRunner - Should handle throw # time=1.966ms
    
    # Subtest: hookRunner - Should handle promises
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 4 - hookRunner - Should handle promises # time=24.791ms
    
    # Subtest: hookRunner - In case of error should skip to done (with promises)
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 5 - hookRunner - In case of error should skip to done (with promises) # time=3.129ms
    
    # Subtest: hookRunner - Be able to exit before its natural end
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 6 - hookRunner - Be able to exit before its natural end # time=1.291ms
    
    # Subtest: hookRunner - Promises that resolve to a value do not change the state
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 7 - hookRunner - Promises that resolve to a value do not change the state # time=2.28ms
    
    # Subtest: onSendHookRunner - Basic
        1..13
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equal
        ok 10 - should not error
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equal
    ok 8 - onSendHookRunner - Basic # time=8.677ms
    
    # Subtest: onSendHookRunner - Can change the payload
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 9 - onSendHookRunner - Can change the payload # time=6.424ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 10 - onSendHookRunner - In case of error should skip to done # time=2.621ms
    
    # Subtest: onSendHookRunner - Should handle promises
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 11 - onSendHookRunner - Should handle promises # time=3.022ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done (with promises)
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 12 - onSendHookRunner - In case of error should skip to done (with promises) # time=2.801ms
    
    # Subtest: onSendHookRunner - Be able to exit before its natural end
        1..2
        ok 1 - should be equivalent
        ok 2 - should be equivalent
    ok 13 - onSendHookRunner - Be able to exit before its natural end # time=1.116ms
    
    1..13
    # time=112.233ms
ok 53 - test/internals/hookRunner.test.js # time=112.233ms

# Subtest: test/internals/hooks.test.js
    # Subtest: hooks should have 4 array with the registered hooks
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        1..8
    ok 1 - hooks should have 4 array with the registered hooks # time=10.176ms
    
    # Subtest: hooks.add should add a hook to the given hook
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        1..14
    ok 2 - hooks.add should add a hook to the given hook # time=4.294ms
    
    # Subtest: hooks should throw on unexisting handler
        1..1
        ok 1 - (unnamed test)
    ok 3 - hooks should throw on unexisting handler # time=0.99ms
    
    # Subtest: should throw on wrong parameters
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 4 - should throw on wrong parameters # time=1.61ms
    
    1..4
    # time=49.042ms
ok 54 - test/internals/hooks.test.js # time=49.042ms

# Subtest: test/internals/initialConfig.test.js
    1..0 # no tests found
not ok 55 - test/internals/initialConfig.test.js # time=1585.443ms
  ---
  env: {}
  file: test/internals/initialConfig.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/internals/initialConfig.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/internals/logger.test.js
    1..0 # no tests found
not ok 56 - test/internals/logger.test.js # time=2186.973ms
  ---
  env: {}
  file: test/internals/logger.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/internals/logger.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/internals/plugin.test.js
    # Subtest: shouldSkipOverride should check the 'skip-override' symbol
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 1 - shouldSkipOverride should check the 'skip-override' symbol # time=6.58ms
    
    # Subtest: getPluginName should return plugin name if the file is cached
        1..1
        ok 1 - should be equal
    ok 2 - getPluginName should return plugin name if the file is cached # time=2.389ms
    
    # Subtest: getMeta should return the object stored with the 'plugin-meta' symbol
        1..1
        ok 1 - should be equivalent
    ok 3 - getMeta should return the object stored with the 'plugin-meta' symbol # time=4.506ms
    
    # Subtest: checkDecorators should check if the given decorator is present in the instance
        1..1
        ok 1 - Everything ok
    ok 4 - checkDecorators should check if the given decorator is present in the instance # time=9.631ms
    
    # Subtest: checkDecorators should check if the given decorator is present in the instance (errored)
        1..1
        ok 1 - should be equal
    ok 5 - checkDecorators should check if the given decorator is present in the instance (errored) # time=1.847ms
    
    # Subtest: checkDecorators should accept optional decorators
        1..1
        ok 1 - Everything ok
    ok 6 - checkDecorators should accept optional decorators # time=5.33ms
    
    # Subtest: checkDependencies should check if the given dependency is present in the instance
        1..1
        ok 1 - Everything ok
    ok 7 - checkDependencies should check if the given dependency is present in the instance # time=1.386ms
    
    # Subtest: checkDependencies should check if the given dependency is present in the instance (errored)
        1..1
        ok 1 - should be equal
    ok 8 - checkDependencies should check if the given dependency is present in the instance (errored) # time=18.993ms
    
    1..8
    # time=124.218ms
ok 57 - test/internals/plugin.test.js # time=124.218ms

# Subtest: test/internals/reply-serialize.test.js
    1..0 # no tests found
not ok 58 - test/internals/reply-serialize.test.js # time=1564.72ms
  ---
  env: {}
  file: test/internals/reply-serialize.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/internals/reply-serialize.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/internals/reply.test.js
    # Subtest: Once called, Reply should return an object with methods
        1..13
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should be equal
        ok 13 - should be equal
    ok 1 - Once called, Reply should return an object with methods # time=15.933ms
    
    # Subtest: reply.send will logStream error and destroy the stream
        1..1
        ok 1 - Error not logged and not streamed
    ok 2 - reply.send will logStream error and destroy the stream # time=26.153ms
    
    # Subtest: reply.send throw with circular JSON
        1..1
        ok 1 - Converting circular structure to JSON
    ok 3 - reply.send throw with circular JSON # time=6.81ms
    
    # Subtest: reply.send returns itself
        1..1
        ok 1 - should be equal
    ok 4 - reply.send returns itself # time=1.92ms
    
    # Subtest: reply.serializer should set a custom serializer
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 5 - reply.serializer should set a custom serializer # time=1.607ms
    
    # Subtest: reply.serializer should support running preSerialization hooks
        1..3
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: reply.serializer should support running preSerialization hooks
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 6 - reply.serializer should support running preSerialization hooks # time=620.835ms
    
    # Subtest: reply.serialize should serialize payload
        1..1
        ok 1 - should be equal
    ok 7 - reply.serialize should serialize payload # time=0.993ms
    
    # Subtest: reply.serialize should serialize payload with a custom serializer
        1..2
        ok 1 - should be equal
        ok 2 - custom serializer not called
    ok 8 - reply.serialize should serialize payload with a custom serializer # time=0.814ms
    
    # Subtest: reply.serialize should serialize payload with a context default serializer
        1..2
        ok 1 - should be equal
        ok 2 - custom serializer not called
    ok 9 - reply.serialize should serialize payload with a context default serializer # time=0.968ms
    
    # Subtest: reply.serialize should serialize payload with Fastify instance
        1..2
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: reply.serialize should serialize payload with Fastify instance
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(2)
        # failed 1 test
    not ok 10 - reply.serialize should serialize payload with Fastify instance # time=34.044ms
    
    # Subtest: within an instance
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: within an instance
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        1..1
        # failed 1 test
    not ok 11 - within an instance # time=28.102ms
    
    # Subtest: buffer without content type should send a application/octet-stream and raw buffer
        1..4
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: buffer without content type should send a application/octet-stream and raw
            buffer
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 12 - buffer without content type should send a application/octet-stream and raw buffer # time=38.077ms
    
    # Subtest: buffer with content type should not send application/octet-stream
        1..4
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: buffer with content type should not send application/octet-stream
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 13 - buffer with content type should not send application/octet-stream # time=32.581ms
    
    # Subtest: stream with content type should not send application/octet-stream
        1..4
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: stream with content type should not send application/octet-stream
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 14 - stream with content type should not send application/octet-stream # time=28.519ms
    
    # Subtest: stream without content type should not send application/octet-stream
        1..4
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: stream without content type should not send application/octet-stream
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 15 - stream without content type should not send application/octet-stream # time=32.865ms
    
    # Subtest: stream using reply.raw.writeHead should return customize headers
        1..6
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: stream using reply.raw.writeHead should return customize headers
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(6)
        # failed 1 test
    not ok 16 - stream using reply.raw.writeHead should return customize headers # time=29.837ms
    
    # Subtest: plain string without content type should send a text/plain
        1..4
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: plain string without content type should send a text/plain
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 17 - plain string without content type should send a text/plain # time=62.94ms
    
    # Subtest: plain string with content type should be sent unmodified
        1..4
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: plain string with content type should be sent unmodified
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 18 - plain string with content type should be sent unmodified # time=35.336ms
    
    # Subtest: plain string with content type and custom serializer should be serialized
        1..4
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: plain string with content type and custom serializer should be serialized
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 19 - plain string with content type and custom serializer should be serialized # time=37.33ms
    
    # Subtest: plain string with content type application/json should NOT be serialized as json
        1..4
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: plain string with content type application/json should NOT be serialized
            as json
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 20 - plain string with content type application/json should NOT be serialized as json # time=67.144ms
    
    # Subtest: plain string with custom json content type should NOT be serialized as json
        1..19
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: plain string with custom json content type should NOT be serialized as json
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(19)
        # failed 1 test
    not ok 21 - plain string with custom json content type should NOT be serialized as json # time=45.012ms
    
    # Subtest: non-string with content type application/json SHOULD be serialized as json
        1..4
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: non-string with content type application/json SHOULD be serialized as json
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 22 - non-string with content type application/json SHOULD be serialized as json # time=44.227ms
    
    # Subtest: non-string with custom json's content-type SHOULD be serialized as json
        1..4
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: non-string with custom json's content-type SHOULD be serialized as json
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 23 - non-string with custom json's content-type SHOULD be serialized as json # time=26.851ms
    
    # Subtest: non-string with custom json content type SHOULD be serialized as json
        1..16
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: non-string with custom json content type SHOULD be serialized as json
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(16)
        # failed 1 test
    not ok 24 - non-string with custom json content type SHOULD be serialized as json # time=27.744ms
    
    # Subtest: error object with a content type that is not application/json should work
        1..6
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: error object with a content type that is not application/json should work
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(6)
        # failed 1 test
    not ok 25 - error object with a content type that is not application/json should work # time=27.016ms
    
    # Subtest: undefined payload should be sent as-is
        1..6
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: undefined payload should be sent as-is
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(6)
        # failed 1 test
    not ok 26 - undefined payload should be sent as-is # time=40.361ms
    
    # Subtest: for HEAD method, no body should be sent but content-length should be
        1..11
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: for HEAD method, no body should be sent but content-length should be
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(11)
        # failed 1 test
    not ok 27 - for HEAD method, no body should be sent but content-length should be # time=25.512ms
    
    # Subtest: reply.send(new NotFound()) should not invoke the 404 handler
        1..9
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: reply.send(new NotFound()) should not invoke the 404 handler
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(9)
        # failed 1 test
    not ok 28 - reply.send(new NotFound()) should not invoke the 404 handler # time=38.975ms
    
    # Subtest: reply can set multiple instances of same header
        1..4
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: reply can set multiple instances of same header
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 29 - reply can set multiple instances of same header # time=30.759ms
    
    # Subtest: reply.hasHeader returns correct values
        1..3
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: reply.hasHeader returns correct values
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 30 - reply.hasHeader returns correct values # time=41.533ms
    
    # Subtest: reply.getHeader returns correct values
        1..4
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: reply.getHeader returns correct values
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 31 - reply.getHeader returns correct values # time=40.378ms
    
    # Subtest: reply.getHeader returns raw header if there is not in the reply headers
        1..1
        ok 1 - should be equal
    ok 32 - reply.getHeader returns raw header if there is not in the reply headers # time=0.628ms
    
    # Subtest: reply.getHeaders returns correct values
        1..3
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: reply.getHeaders returns correct values
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 33 - reply.getHeaders returns correct values # time=32ms
    
    # Subtest: reply.removeHeader can remove the value
        1..5
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: reply.removeHeader can remove the value
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(5)
        # failed 1 test
    not ok 34 - reply.removeHeader can remove the value # time=37.485ms
    
    # Subtest: reply.header can reset the value
        1..3
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: reply.header can reset the value
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 35 - reply.header can reset the value # time=30.316ms
    
    # Subtest: reply.hasHeader computes raw and fastify headers
        1..4
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: reply.hasHeader computes raw and fastify headers
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 36 - reply.hasHeader computes raw and fastify headers # time=32.529ms
    
    # Subtest: Reply should handle JSON content type with a charset
        1..16
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: Reply should handle JSON content type with a charset
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(16)
        # failed 1 test
    not ok 37 - Reply should handle JSON content type with a charset # time=36.567ms
    
    # Subtest: Content type and charset set previously
        1..2
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: Content type and charset set previously
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(2)
        # failed 1 test
    not ok 38 - Content type and charset set previously # time=34.557ms
    
    # Subtest: .status() is an alias for .code()
        1..2
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: .status() is an alias for .code()
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(2)
        # failed 1 test
    not ok 39 - .status() is an alias for .code() # time=38.264ms
    
    # Subtest: .statusCode is getter and setter
        1..4
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: .statusCode is getter and setter
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 40 - .statusCode is getter and setter # time=46.12ms
    
    # Subtest: reply.header setting multiple cookies as multiple Set-Cookie headers
        1..7
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: reply.header setting multiple cookies as multiple Set-Cookie headers
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(7)
        # failed 1 test
    not ok 41 - reply.header setting multiple cookies as multiple Set-Cookie headers # time=31.571ms
    
    # Subtest: should emit deprecation warning when trying to modify the reply.sent property
        1..4
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: should emit deprecation warning when trying to modify the reply.sent property
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 42 - should emit deprecation warning when trying to modify the reply.sent property # time=48.063ms
    
    # Subtest: should throw error when passing falsy value to reply.sent
        1..4
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: should throw error when passing falsy value to reply.sent
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 43 - should throw error when passing falsy value to reply.sent # time=27.858ms
    
    # Subtest: should throw error when attempting to set reply.sent more than once
        1..4
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: should throw error when attempting to set reply.sent more than once
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 44 - should throw error when attempting to set reply.sent more than once # time=28.679ms
    
    # Subtest: should not throw error when attempting to set reply.sent if the underlining request was sent
        1..3
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: should not throw error when attempting to set reply.sent if the
            underlining request was sent
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 45 - should not throw error when attempting to set reply.sent if the underlining request was sent # time=27.304ms
    
    # Subtest: reply.getResponseTime() should return 0 before the timer is initialised on the reply by setting up response listeners
        1..1
        ok 1 - should be equal
    ok 46 - reply.getResponseTime() should return 0 before the timer is initialised on the reply by setting up response listeners # time=0.591ms
    
    # Subtest: reply.getResponseTime() should return a number greater than 0 after the timer is initialised on the reply by setting up response listeners
        1..1
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: reply.getResponseTime() should return a number greater than 0 after the
            timer is initialised on the reply by setting up response listeners
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # failed 1 test
    not ok 47 - reply.getResponseTime() should return a number greater than 0 after the timer is initialised on the reply by setting up response listeners # time=95.432ms
    
    # Subtest: reply.getResponseTime() should return the time since a request started while inflight
        1..1
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: reply.getResponseTime() should return the time since a request started
            while inflight
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # failed 1 test
    not ok 48 - reply.getResponseTime() should return the time since a request started while inflight # time=74.235ms
    
    # Subtest: reply.getResponseTime() should return the same value after a request is finished
        1..1
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: reply.getResponseTime() should return the same value after a request is
            finished
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # failed 1 test
    not ok 49 - reply.getResponseTime() should return the same value after a request is finished # time=25.444ms
    
    # Subtest: reply should use the custom serializer
        1..4
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: reply should use the custom serializer
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 50 - reply should use the custom serializer # time=26.929ms
    
    # Subtest: reply should use the right serializer in encapsulated context
        1..9
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: reply should use the right serializer in encapsulated context
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(9)
        # failed 1 test
    not ok 51 - reply should use the right serializer in encapsulated context # time=33.879ms
    
    # Subtest: reply should use the right serializer in deep encapsulated context
        1..8
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: reply should use the right serializer in deep encapsulated context
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(8)
        # failed 1 test
    not ok 52 - reply should use the right serializer in deep encapsulated context # time=34.393ms
    
    # Subtest: reply should use the route serializer
        1..3
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: reply should use the route serializer
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 53 - reply should use the route serializer # time=72.971ms
    
    # Subtest: cannot set the replySerializer when the server is running
        1..2
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: cannot set the replySerializer when the server is running
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(2)
        # failed 1 test
    not ok 54 - cannot set the replySerializer when the server is running # time=30.468ms
    
    # Subtest: reply should not call the custom serializer for errors and not found
        1..9
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: reply should not call the custom serializer for errors and not found
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(9)
        # failed 1 test
    not ok 55 - reply should not call the custom serializer for errors and not found # time=38.194ms
    
    # Subtest: reply.then
        1..4
        # Subtest: without an error
            1..1
            ok 1 - fulfilled called
        ok 1 - without an error # time=21.188ms
        
        # Subtest: with an error
            1..1
            ok 1 - should be equal
        ok 2 - with an error # time=2.43ms
        
        # Subtest: with error but without reject callback
            1..1
            ok 1 - (unnamed test)
        ok 3 - with error but without reject callback # time=0.748ms
        
        # Subtest: with error, without reject callback, with logger
            1..1
            ok 1 - should be equal
        ok 4 - with error, without reject callback, with logger # time=1.173ms
        
    ok 56 - reply.then # time=32.175ms
    
    # Subtest: reply.sent should read from response.writableEnded if it is defined
        1..1
        ok 1 - should be equal
    ok 57 - reply.sent should read from response.writableEnded if it is defined # time=0.377ms
    
    # Subtest: redirect to an invalid URL should not crash the server
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: returnedPromiseRejection
          test: redirect to an invalid URL should not crash the server
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        1..1
        # failed 1 test
    not ok 58 - redirect to an invalid URL should not crash the server # time=61.231ms
    
    # Subtest: invalid response headers should not crash the server
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: returnedPromiseRejection
          test: invalid response headers should not crash the server
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        1..1
        # failed 1 test
    not ok 59 - invalid response headers should not crash the server # time=43.079ms
    
    # Subtest: invalid response headers when sending back an error
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: returnedPromiseRejection
          test: invalid response headers when sending back an error
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        1..1
        # failed 1 test
    not ok 60 - invalid response headers when sending back an error # time=34.419ms
    
    # Subtest: invalid response headers and custom error handler
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: returnedPromiseRejection
          test: invalid response headers and custom error handler
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        1..1
        # failed 1 test
    not ok 61 - invalid response headers and custom error handler # time=29.371ms
    
    1..61
    # failed 49 of 61 tests
    # time=2755.187ms
not ok 59 - test/internals/reply.test.js # time=2755.187ms
  ---
  env: {}
  file: test/internals/reply.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/internals/reply.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/internals/request-validate.test.js
    1..0 # no tests found
not ok 60 - test/internals/request-validate.test.js # time=1641.317ms
  ---
  env: {}
  file: test/internals/request-validate.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/internals/request-validate.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/internals/request.test.js
    # Subtest: Regular request
        ok 1 - type is Request
        ok 2 - type is Function
        ok 3 - type is Function
        ok 4 - type is Function
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        1..19
    ok 1 - Regular request # time=13.91ms
    
    # Subtest: Regular request - hostname from authority
        1..2
        ok 1 - type is Request
        ok 2 - should be equal
    ok 2 - Regular request - hostname from authority # time=1.578ms
    
    # Subtest: Regular request - host header has precedence over authority
        1..2
        ok 1 - type is Request
        ok 2 - should be equal
    ok 3 - Regular request - host header has precedence over authority # time=0.919ms
    
    # Subtest: Request with trust proxy
        1..18
        ok 1 - type is _Request
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - type is Function
        ok 17 - type is Function
        ok 18 - type is Function
    ok 4 - Request with trust proxy # time=35.373ms
    
    # Subtest: Request with trust proxy, encrypted
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 5 - Request with trust proxy, encrypted # time=1.057ms
    
    # Subtest: Request with trust proxy - no x-forwarded-host header
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 6 - Request with trust proxy - no x-forwarded-host header # time=15.032ms
    
    # Subtest: Request with trust proxy - no x-forwarded-host header and fallback to authority
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 7 - Request with trust proxy - no x-forwarded-host header and fallback to authority # time=1.179ms
    
    # Subtest: Request with trust proxy - x-forwarded-host header has precedence over host
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 8 - Request with trust proxy - x-forwarded-host header has precedence over host # time=0.861ms
    
    # Subtest: Request with trust proxy - handles multiple entries in x-forwarded-host/proto
        1..3
        ok 1 - type is _Request
        ok 2 - should be equal
        ok 3 - should be equal
    ok 9 - Request with trust proxy - handles multiple entries in x-forwarded-host/proto # time=1.179ms
    
    # Subtest: Request with trust proxy - plain
        1..1
        ok 1 - should be equivalent
    ok 10 - Request with trust proxy - plain # time=1.015ms
    
    # Subtest: Request with undefined socket
        1..18
        ok 1 - type is Request
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equivalent
        ok 16 - type is Function
        ok 17 - type is Function
        ok 18 - type is Function
    ok 11 - Request with undefined socket # time=4.482ms
    
    # Subtest: Request with trust proxy and undefined socket
        1..1
        ok 1 - should be equivalent
    ok 12 - Request with trust proxy and undefined socket # time=0.753ms
    
    1..12
    # time=195.358ms
ok 61 - test/internals/request.test.js # time=195.358ms

# Subtest: test/internals/server.test.js
    1..0 # no tests found
not ok 62 - test/internals/server.test.js # time=2358.529ms
  ---
  env: {}
  file: test/internals/server.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/internals/server.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/internals/validation.test.js
    # Subtest: Symbols
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 1 - Symbols # time=15.015ms
    
    # Subtest: compileSchemasForValidation schema - missing schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - compileSchemasForValidation schema - missing schema # time=9.891ms
    
    # Subtest: compileSchemasForValidation schema - missing output schema
        1..1
        ok 1 - should be equal
    ok 3 - compileSchemasForValidation schema - missing output schema # time=0.893ms
    
    # Subtest: compileSchemasForSerialization schema - missing schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - compileSchemasForSerialization schema - missing schema # time=9.317ms
    
    # Subtest: compileSchemasForSerialization schema - missing output schema
        1..1
        ok 1 - should be equal
    ok 5 - compileSchemasForSerialization schema - missing output schema # time=0.584ms
    
    # Subtest: build schema - output schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 6 - build schema - output schema # time=112.048ms
    
    # Subtest: build schema - payload schema
        1..1
        ok 1 - should be equal
    ok 7 - build schema - payload schema # time=2.334ms
    
    # Subtest: build schema - avoid repeated normalize schema
        1..3
        ok 1 - should not be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 8 - build schema - avoid repeated normalize schema # time=2.163ms
    
    # Subtest: build schema - query schema
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 9 - build schema - query schema # time=2.733ms
    
    # Subtest: build schema - query schema abbreviated
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 10 - build schema - query schema abbreviated # time=2.457ms
    
    # Subtest: build schema - querystring schema
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 11 - build schema - querystring schema # time=2.481ms
    
    # Subtest: build schema - querystring schema abbreviated
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 12 - build schema - querystring schema abbreviated # time=2.226ms
    
    # Subtest: build schema - must throw if querystring and query schema exist
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 13 - build schema - must throw if querystring and query schema exist # time=1.233ms
    
    # Subtest: build schema - params schema
        1..1
        ok 1 - should be equal
    ok 14 - build schema - params schema # time=1.982ms
    
    # Subtest: build schema - headers schema
        1..1
        ok 1 - should be equal
    ok 15 - build schema - headers schema # time=2.098ms
    
    # Subtest: build schema - headers are lowercase
        1..1
        ok 1 - lowercase content-type exists
    ok 16 - build schema - headers are lowercase # time=0.786ms
    
    # Subtest: build schema - headers are not lowercased in case of custom object
        1..1
        ok 1 - type is Headers
    ok 17 - build schema - headers are not lowercased in case of custom object # time=0.66ms
    
    # Subtest: build schema - uppercased headers are not included
        1..1
        ok 1 - uppercase does not exist
    ok 18 - build schema - uppercased headers are not included # time=0.665ms
    
    1..18
    # time=307.135ms
ok 63 - test/internals/validation.test.js # time=307.135ms

# Subtest: test/keepAliveTimeout.test.js
    1..0 # no tests found
not ok 64 - test/keepAliveTimeout.test.js # time=1465.856ms
  ---
  env: {}
  file: test/keepAliveTimeout.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/keepAliveTimeout.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/listen.deprecated.test.js
    1..0 # no tests found
not ok 65 - test/listen.deprecated.test.js # time=1483.659ms
  ---
  env: {}
  file: test/listen.deprecated.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/listen.deprecated.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/listen.test.js
    1..0 # no tests found
not ok 66 - test/listen.test.js # time=1408.496ms
  ---
  env: {}
  file: test/listen.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/listen.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/logger.test.js
    1..0 # no tests found
not ok 67 - test/logger.test.js # time=1441.803ms
  ---
  env: {}
  file: test/logger.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/logger.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/maxRequestsPerSocket.test.js
    1..0 # no tests found
not ok 68 - test/maxRequestsPerSocket.test.js # time=1387.732ms
  ---
  env: {}
  file: test/maxRequestsPerSocket.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/maxRequestsPerSocket.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/middleware.test.js
    1..0 # no tests found
not ok 69 - test/middleware.test.js # time=1551.484ms
  ---
  env: {}
  file: test/middleware.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/middleware.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/noop-set.test.js
    # Subtest: does a lot of nothing
        ok 1 - type is object
        ok 2 - should be equal
        1..2
    ok 1 - does a lot of nothing # time=7.608ms
    
    1..1
    # time=13.541ms
ok 70 - test/noop-set.test.js # time=13.541ms

# Subtest: test/nullable-validation.test.js
    1..0 # no tests found
not ok 71 - test/nullable-validation.test.js # time=1400.302ms
  ---
  env: {}
  file: test/nullable-validation.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/nullable-validation.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/options.error-handler.test.js
    1..0 # no tests found
not ok 72 - test/options.error-handler.test.js # time=1427.654ms
  ---
  env: {}
  file: test/options.error-handler.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/options.error-handler.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/options.test.js
    1..0 # no tests found
not ok 73 - test/options.test.js # time=1444.502ms
  ---
  env: {}
  file: test/options.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/options.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/output-validation.test.js
    1..0 # no tests found
not ok 74 - test/output-validation.test.js # time=1398.159ms
  ---
  env: {}
  file: test/output-validation.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/output-validation.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/patch.error-handler.test.js
    1..0 # no tests found
not ok 75 - test/patch.error-handler.test.js # time=1500.621ms
  ---
  env: {}
  file: test/patch.error-handler.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/patch.error-handler.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/patch.test.js
    1..0 # no tests found
not ok 76 - test/patch.test.js # time=1523.849ms
  ---
  env: {}
  file: test/patch.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/patch.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/plugin.test.js
    1..0 # no tests found
not ok 77 - test/plugin.test.js # time=1458.549ms
  ---
  env: {}
  file: test/plugin.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/plugin.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/pretty-print.test.js
    1..0 # no tests found
not ok 78 - test/pretty-print.test.js # time=1364.402ms
  ---
  env: {}
  file: test/pretty-print.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/pretty-print.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/promises.test.js
    1..0 # no tests found
not ok 79 - test/promises.test.js # time=1445.935ms
  ---
  env: {}
  file: test/promises.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/promises.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/proto-poisoning.test.js
    1..0 # no tests found
not ok 80 - test/proto-poisoning.test.js # time=1220.347ms
  ---
  env: {}
  file: test/proto-poisoning.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/proto-poisoning.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/put.error-handler.test.js
    1..0 # no tests found
not ok 81 - test/put.error-handler.test.js # time=1504.018ms
  ---
  env: {}
  file: test/put.error-handler.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/put.error-handler.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/put.test.js
    1..0 # no tests found
not ok 82 - test/put.test.js # time=1489.186ms
  ---
  env: {}
  file: test/put.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/put.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/register.test.js
    1..0 # no tests found
not ok 83 - test/register.test.js # time=1394.388ms
  ---
  env: {}
  file: test/register.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/register.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/reply-error.test.js
    1..0 # no tests found
not ok 84 - test/reply-error.test.js # time=1442.733ms
  ---
  env: {}
  file: test/reply-error.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/reply-error.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/reply-trailers.test.js
    1..0 # no tests found
not ok 85 - test/reply-trailers.test.js # time=1432.877ms
  ---
  env: {}
  file: test/reply-trailers.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/reply-trailers.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/request-error.test.js
    1..0 # no tests found
not ok 86 - test/request-error.test.js # time=1411.219ms
  ---
  env: {}
  file: test/request-error.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/request-error.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/requestTimeout.test.js
    1..0 # no tests found
not ok 87 - test/requestTimeout.test.js # time=1509.48ms
  ---
  env: {}
  file: test/requestTimeout.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/requestTimeout.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/route-hooks.test.js
    1..0 # no tests found
not ok 88 - test/route-hooks.test.js # time=1480.462ms
  ---
  env: {}
  file: test/route-hooks.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/route-hooks.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/route-prefix.test.js
    1..0 # no tests found
not ok 89 - test/route-prefix.test.js # time=1351.326ms
  ---
  env: {}
  file: test/route-prefix.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/route-prefix.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/route.test.js
    1..0 # no tests found
not ok 90 - test/route.test.js # time=1689.791ms
  ---
  env: {}
  file: test/route.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/route.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/router-options.test.js
    1..0 # no tests found
not ok 91 - test/router-options.test.js # time=1634.058ms
  ---
  env: {}
  file: test/router-options.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/router-options.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/same-shape.test.js
    1..0 # no tests found
not ok 92 - test/same-shape.test.js # time=1443.99ms
  ---
  env: {}
  file: test/same-shape.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/same-shape.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/schema-examples.test.js
    1..0 # no tests found
not ok 93 - test/schema-examples.test.js # time=1587.062ms
  ---
  env: {}
  file: test/schema-examples.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/schema-examples.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/schema-feature.test.js
    1..0 # no tests found
not ok 94 - test/schema-feature.test.js # time=1374.124ms
  ---
  env: {}
  file: test/schema-feature.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/schema-feature.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/schema-serialization.test.js
    1..0 # no tests found
not ok 95 - test/schema-serialization.test.js # time=1461.997ms
  ---
  env: {}
  file: test/schema-serialization.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/schema-serialization.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/schema-special-usage.test.js
    1..0 # no tests found
not ok 96 - test/schema-special-usage.test.js # time=1665.945ms
  ---
  env: {}
  file: test/schema-special-usage.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/schema-special-usage.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/schema-validation.test.js
    1..0 # no tests found
not ok 97 - test/schema-validation.test.js # time=1512.256ms
  ---
  env: {}
  file: test/schema-validation.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/schema-validation.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/skip-reply-send.test.js
    1..0 # no tests found
not ok 98 - test/skip-reply-send.test.js # time=1604.11ms
  ---
  env: {}
  file: test/skip-reply-send.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/skip-reply-send.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/stream.test.js
    1..0 # no tests found
not ok 99 - test/stream.test.js # time=1503.375ms
  ---
  env: {}
  file: test/stream.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/stream.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/sync-routes.test.js
    1..0 # no tests found
not ok 100 - test/sync-routes.test.js # time=1348.983ms
  ---
  env: {}
  file: test/sync-routes.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/sync-routes.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

./VariantsPureDep/fastify/variant10/fastify

> fastify@4.3.0 test
> npm run lint && npm run unit && npm run test:typescript


> fastify@4.3.0 lint
> npm run lint:standard && npm run lint:typescript && npm run lint:markdown


> fastify@4.3.0 lint:standard
> standard | snazzy

-----------------------|---------|----------|---------|---------|-----------------------------------
File                   | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s                 
-----------------------|---------|----------|---------|---------|-----------------------------------
All files              |   30.23 |    22.18 |   29.66 |   30.45 |                                   
 fastify               |     5.9 |        0 |       0 |    6.03 |                                   
  fastify.js           |     5.9 |        0 |       0 |    6.03 | 46-760                            
 fastify/lib           |   34.09 |    25.35 |   35.79 |   34.38 |                                   
  contentTypeParser.js |   25.27 |    20.33 |   15.38 |   26.47 | ...23,233-236,244-245,249,260-341 
  decorate.js          |   53.57 |    52.94 |   61.53 |   55.76 | 23,39-61,102,114-124,129          
  error-handler.js     |   26.08 |    10.63 |   14.28 |   26.08 | 20,29-41,53-55,60-152             
  errors.js            |      60 |      100 |       0 |      60 | 288-290                           
  handleRequest.js     |   46.96 |    29.41 |     100 |   46.03 | ...97,110,118-120,128-130,134-137 
  hooks.js             |   48.76 |    44.82 |   57.89 |    48.3 | 64-158,190,221-222,235,245-246    
  logger.js            |   10.52 |        0 |       0 |    10.9 | 15-45,50-116                      
  noop-set.js          |     100 |      100 |     100 |     100 |                                   
  pluginUtils.js       |    58.1 |     42.1 |   64.28 |    62.9 | 19,35-44,101-136                  
  reply.js             |   42.89 |    33.02 |   42.59 |   43.53 | ...37-638,648-654,659,673-780,797 
  reqIdGenFactory.js   |   16.66 |      100 |       0 |   16.66 | 9-13                              
  request.js           |   60.18 |    39.06 |   66.66 |   60.57 | ...,80-81,142,157-167,206,211-291 
  route.js             |    0.42 |        0 |       0 |    0.43 | 4-550                             
  schema-controller.js |   12.82 |        0 |       0 |   12.82 | 14-114                            
  schemas.js           |   52.94 |    50.79 |   44.44 |   53.73 | ...2,86-88,99,104-107,139-149,153 
  server.js            |    4.93 |        0 |       0 |       5 | 15-365                            
  symbols.js           |     100 |      100 |     100 |     100 |                                   
  validation.js        |   84.05 |    72.41 |   88.88 |    87.5 | 22,53,90,98,102,109-111           
  warnings.js          |     100 |      100 |     100 |     100 |                                   
  wrapThenable.js      |   13.33 |        0 |       0 |   13.33 | 9-38                              
-----------------------|---------|----------|---------|---------|-----------------------------------

> fastify@4.3.0 lint:typescript
> eslint -c types/.eslintrc.json types/**/*.d.ts test/types/**/*.test-d.ts


> fastify@4.3.0 lint:markdown
> markdownlint-cli2

markdownlint-cli2 v0.4.0 (markdownlint v0.25.1)

> fastify@4.3.0 unit
> tap

TAP version 13
# Subtest: test/404s.test.js
    # Subtest: default 404
        1..4
        ok 1 - should not error
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - unsupported method # time=32.963ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - framework-unsupported method # time=7.139ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - unsupported route # time=5.766ms
        
    ok 1 - default 404 # time=204.388ms
    
    # Subtest: customized 404
        1..6
        ok 1 - should not error
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - unsupported method # time=10.517ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - framework-unsupported method # time=4.061ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - unsupported route # time=3.934ms
        
        # Subtest: with error object
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - with error object # time=8.266ms
        
        # Subtest: error object with headers property
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 6 - error object with headers property # time=5.773ms
        
    ok 2 - customized 404 # time=46.135ms
    
    # Subtest: custom header in notFound handler
        1..2
        ok 1 - should not error
        # Subtest: not found with custom header
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
        ok 2 - not found with custom header # time=5.852ms
        
    ok 3 - custom header in notFound handler # time=15.964ms
    
    # Subtest: setting a custom 404 handler multiple times is an error
        1..5
        # Subtest: at the root level
            1..2
            ok 1 - type is Error
            ok 2 - should be equal
        ok 1 - at the root level # time=2.65ms
        
        # Subtest: at the plugin level
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 2 - at the plugin level # time=48.221ms
        
        # Subtest: at multiple levels
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 3 - at multiple levels # time=10.454ms
        
        # Subtest: at multiple levels / 2
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 4 - at multiple levels / 2 # time=32.221ms
        
        # Subtest: in separate plugins at the same level
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 5 - in separate plugins at the same level # time=30.251ms
        
    ok 4 - setting a custom 404 handler multiple times is an error # time=133.487ms
    
    # Subtest: encapsulated 404
        1..13
        ok 1 - should not error
        # Subtest: root unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - root unsupported method # time=19.49ms
        
        # Subtest: root framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - root framework-unsupported method # time=5.53ms
        
        # Subtest: root unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - root unsupported route # time=4.955ms
        
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 5 - unsupported method # time=5.295ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 6 - framework-unsupported method # time=4.99ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 7 - unsupported route # time=4.654ms
        
        # Subtest: unsupported method 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 8 - unsupported method 2 # time=4.978ms
        
        # Subtest: framework-unsupported method 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 9 - framework-unsupported method 2 # time=4.635ms
        
        # Subtest: unsupported route 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 10 - unsupported route 2 # time=4.143ms
        
        # Subtest: unsupported method 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 11 - unsupported method 3 # time=5.028ms
        
        # Subtest: framework-unsupported method 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 12 - framework-unsupported method 3 # time=4.284ms
        
        # Subtest: unsupported route 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 13 - unsupported route 3 # time=4.182ms
        
    ok 5 - encapsulated 404 # time=112.689ms
    
    # Subtest: custom 404 hook and handler context
        1..21
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should not error
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equal
    ok 6 - custom 404 hook and handler context # time=90.911ms
    
    # Subtest: encapsulated custom 404 without - prefix hook and handler context
        1..13
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equal
    ok 7 - encapsulated custom 404 without - prefix hook and handler context # time=11.394ms
    
    # Subtest: run hooks on default 404
        1..7
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - preHandler called
        ok 4 - onSend called
        ok 5 - onResponse called
        ok 6 - should not error
        ok 7 - should be equal
    ok 8 - run hooks on default 404 # time=14.339ms
    
    # Subtest: run non-encapsulated plugin hooks on default 404
        1..6
        ok 1 - onRequest called
        ok 2 - preHandler called
        ok 3 - onSend called
        ok 4 - onResponse called
        ok 5 - should not error
        ok 6 - should be equal
    ok 9 - run non-encapsulated plugin hooks on default 404 # time=10.159ms
    
    # Subtest: run non-encapsulated plugin hooks on custom 404
        1..11
        ok 1 - onRequest called
        ok 2 - onRequest called
        ok 3 - preHandler called
        ok 4 - preHandler called
        ok 5 - onSend called
        ok 6 - onSend called
        ok 7 - onResponse called
        ok 8 - onResponse called
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
    ok 10 - run non-encapsulated plugin hooks on custom 404 # time=10.848ms
    
    # Subtest: run hook with encapsulated 404
        1..11
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - onRequest 2 called
        ok 4 - preHandler called
        ok 5 - preHandler 2 called
        ok 6 - onSend called
        ok 7 - onSend 2 called
        ok 8 - onResponse called
        ok 9 - onResponse 2 called
        ok 10 - should not error
        ok 11 - should be equal
    ok 11 - run hook with encapsulated 404 # time=13.742ms
    
    # Subtest: run hook with encapsulated 404 and framework-unsupported method
        1..11
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - onRequest 2 called
        ok 4 - preHandler called
        ok 5 - preHandler 2 called
        ok 6 - onSend called
        ok 7 - onSend 2 called
        ok 8 - onResponse called
        ok 9 - onResponse 2 called
        ok 10 - should not error
        ok 11 - should be equal
    ok 12 - run hook with encapsulated 404 and framework-unsupported method # time=12.666ms
    
    # Subtest: hooks check 404
        1..13
        ok 1 - should not error
        ok 2 - onRequest
        ok 3 - should be equivalent
        ok 4 - onSend
        ok 5 - onResponse
        ok 6 - onRequest
        ok 7 - should be equivalent
        ok 8 - onSend
        ok 9 - onResponse
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should not error
        ok 13 - should be equal
    ok 13 - hooks check 404 # time=30.291ms
    
    # Subtest: setNotFoundHandler should not suppress duplicated routes checking
        1..1
        ok 1 - expect truthy value
    ok 14 - setNotFoundHandler should not suppress duplicated routes checking # time=3.664ms
    
    # Subtest: log debug for 404
        1..1
        # Subtest: log debug
            1..7
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
        ok 1 - log debug # time=11.681ms
        
    ok 15 - log debug for 404 # time=18.514ms
    
    # Subtest: Unknown method
        1..5
        ok 1 - should not error
        ok 2 - expected to throw
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent strictly
    ok 16 - Unknown method # time=18.119ms
    
    # Subtest: recognizes errors from the http-errors module
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent strictly
    ok 17 - recognizes errors from the http-errors module # time=40.382ms
    
    # Subtest: the default 404 handler can be invoked inside a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
    ok 18 - the default 404 handler can be invoked inside a prefixed plugin # time=6.923ms
    
    # Subtest: an inherited custom 404 handler can be invoked inside a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - an inherited custom 404 handler can be invoked inside a prefixed plugin # time=6.627ms
    
    # Subtest: encapsulated custom 404 handler without a prefix is the handler for the entire 404 level
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 20 - encapsulated custom 404 handler without a prefix is the handler for the entire 404 level # time=10.212ms
    
    # Subtest: cannot set notFoundHandler after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 21 - cannot set notFoundHandler after binding # time=4.23ms
    
    # Subtest: 404 inside onSend
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 22 - 404 inside onSend # time=6.625ms
    
    # Subtest: onSend hooks run when an encapsulated route invokes the notFound handler
        1..3
        ok 1 - onSend hook called
        ok 2 - should not error
        ok 3 - should be equal
    ok 23 - onSend hooks run when an encapsulated route invokes the notFound handler # time=5.594ms
    
    # Subtest: preHandler option for setNotFoundHandler
        1..10
        # Subtest: preHandler option
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 1 - preHandler option # time=53.315ms
        
        # Subtest: preHandler hook in setNotFoundHandler should be called when callNotFound
            1..3
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 2 - preHandler hook in setNotFoundHandler should be called when callNotFound # time=6.787ms
        
        # Subtest: preHandler hook in setNotFoundHandler should accept an array of functions and be called when callNotFound
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 3 - preHandler hook in setNotFoundHandler should accept an array of functions and be called when callNotFound # time=5.584ms
        
        # Subtest: preHandler option should be called after preHandler hook
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 4 - preHandler option should be called after preHandler hook # time=5.373ms
        
        # Subtest: preHandler option should be unique per prefix
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 5 - preHandler option should be unique per prefix # time=15.648ms
        
        # Subtest: preHandler option should handle errors
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 6 - preHandler option should handle errors # time=5.66ms
        
        # Subtest: preHandler option should handle errors with custom status code
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 7 - preHandler option should handle errors with custom status code # time=5.458ms
        
        # Subtest: preHandler option could accept an array of functions
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 8 - preHandler option could accept an array of functions # time=4.891ms
        
        # Subtest: preHandler option does not interfere with preHandler
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 9 - preHandler option does not interfere with preHandler # time=9.496ms
        
        # Subtest: preHandler option should keep the context
            1..3
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 10 - preHandler option should keep the context # time=5.126ms
        
    ok 24 - preHandler option for setNotFoundHandler # time=129.223ms
    
    # Subtest: reply.notFound invoked the notFound handler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - reply.notFound invoked the notFound handler # time=5.057ms
    
    # Subtest: The custom error handler should be invoked after the custom not found handler
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - type is Error
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 26 - The custom error handler should be invoked after the custom not found handler # time=6.479ms
    
    # Subtest: If the custom not found handler does not use an Error, the custom error handler should not be called
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 27 - If the custom not found handler does not use an Error, the custom error handler should not be called # time=4.652ms
    
    # Subtest: preValidation option
        1..3
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 28 - preValidation option # time=5.413ms
    
    # Subtest: preValidation option could accept an array of functions
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 29 - preValidation option could accept an array of functions # time=5.346ms
    
    # Subtest: Should fail to invoke callNotFound inside a 404 handler
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 30 - Should fail to invoke callNotFound inside a 404 handler # time=7.155ms
    
    # Subtest: 400 in case of bad url (pre find-my-way v2.2.0 was a 404)
        # Subtest: Dynamic route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 1 - Dynamic route # time=19.663ms
        
        # Subtest: Wildcard
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - Wildcard # time=5.796ms
        
        # Subtest: No route registered
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - No route registered # time=21.318ms
        
        # Subtest: Only / is registered
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - Only / is registered # time=18.385ms
        
        # Subtest: customized 404
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - customized 404 # time=14.722ms
        
        1..5
    ok 31 - 400 in case of bad url (pre find-my-way v2.2.0 was a 404) # time=87.465ms
    
    # Subtest: setNotFoundHandler should be chaining fastify instance
        # Subtest: Register route after setNotFoundHandler
            1..6
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should not error
            ok 5 - should be equal
            ok 6 - should be equal
        ok 1 - Register route after setNotFoundHandler # time=7.542ms
        
        1..1
    ok 32 - setNotFoundHandler should be chaining fastify instance # time=21.084ms
    
    # Subtest: Send 404 when frameworkError calls reply.callNotFound
        # Subtest: Dynamic route
            1..4
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 1 - Dynamic route # time=5.909ms
        
        1..1
    ok 33 - Send 404 when frameworkError calls reply.callNotFound # time=11.358ms
    
    1..33
    # time=1142.988ms
ok 1 - test/404s.test.js # time=1142.988ms

# Subtest: test/500s.test.js
    # Subtest: default 500
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - default 500 # time=82.293ms
    
    # Subtest: custom 500
        1..6
        ok 1 - type is object
        ok 2 - type is Request
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 2 - custom 500 # time=9.352ms
    
    # Subtest: encapsulated 500
        1..10
        ok 1 - type is object
        ok 2 - type is Request
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 3 - encapsulated 500 # time=17.814ms
    
    # Subtest: custom 500 with hooks
        1..7
        ok 1 - onRequest
        ok 2 - onSend
        ok 3 - onResponse
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 4 - custom 500 with hooks # time=10.079ms
    
    # Subtest: cannot set errorHandler after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 5 - cannot set errorHandler after binding # time=14.205ms
    
    1..5
    # time=156.924ms
ok 2 - test/500s.test.js # time=156.924ms

# Subtest: test/allowUnsafeRegex.test.js
    # Subtest: allow unsafe regex
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - allow unsafe regex # time=76.306ms
    
    # Subtest: allow unsafe regex not match
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 2 - allow unsafe regex not match # time=11.638ms
    
    # Subtest: allow unsafe regex not safe
        1..1
        ok 1 - expected to throw
    ok 3 - allow unsafe regex not safe # time=96.45ms
    
    # Subtest: allow unsafe regex not safe by default
        1..1
        ok 1 - expected to throw
    ok 4 - allow unsafe regex not safe by default # time=11.356ms
    
    # Subtest: allow unsafe regex allow unsafe
        1..5
        ok 1 - expected to not throw
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 5 - allow unsafe regex allow unsafe # time=19.129ms
    
    1..5
    # time=246.329ms
ok 3 - test/allowUnsafeRegex.test.js # time=246.329ms

# Subtest: test/als.test.js
    ok 1 - should not error
    ok 2 - expect truthy value
    ok 3 - should not error
    ok 4 - should be equal
    ok 5 - should be equivalent
    ok 6 - expect truthy value
    ok 7 - should not error
    ok 8 - should be equal
    ok 9 - should be equivalent
    ok 10 - expect truthy value
    ok 11 - should not error
    ok 12 - should be equal
    ok 13 - should be equivalent
    1..13
    # time=47.837ms
ok 4 - test/als.test.js # time=47.837ms

# Subtest: test/async-await.test.js
    # Subtest: async await
        1..11
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 1 - async await # time=319.247ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (undefined)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 2 - ignore the result of the promise if reply.send is called beforehand (undefined) # time=24.791ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (object)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 3 - ignore the result of the promise if reply.send is called beforehand (object) # time=42.581ms
    
    # Subtest: server logs an error if reply.send is called and a value is returned via async/await
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 4 - server logs an error if reply.send is called and a value is returned via async/await # time=40.185ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (undefined)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 5 - ignore the result of the promise if reply.send is called beforehand (undefined) # time=9.138ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (object)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 6 - ignore the result of the promise if reply.send is called beforehand (object) # time=24.909ms
    
    # Subtest: await reply if we will be calling reply.send in the future
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 7 - await reply if we will be calling reply.send in the future # time=7.902ms
    
    # Subtest: await reply if we will be calling reply.send in the future (error case)
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 8 - await reply if we will be calling reply.send in the future (error case) # time=33.679ms
    
    # Subtest: support reply decorators with await
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 9 - support reply decorators with await # time=8.185ms
    
    # Subtest: inject async await
        1..1
        ok 1 - should be equivalent
    ok 10 - inject async await # time=7.482ms
    
    # Subtest: inject async await - when the server equal up
        1..2
        ok 1 - should be equivalent
        ok 2 - should be equivalent
    ok 11 - inject async await - when the server equal up # time=211.221ms
    
    # Subtest: async await plugin
        1..1
        ok 1 - should be equivalent
    ok 12 - async await plugin # time=209.649ms
    
    # Subtest: does not call reply.send() twice if 204 response equal already sent
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - does not call reply.send() twice if 204 response equal already sent # time=5.06ms
    
    # Subtest: promise was fulfilled with undefined
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - promise was fulfilled with undefined # time=25.11ms
    
    # Subtest: error is not logged because promise was fulfilled with undefined but response was sent before promise resolution
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 15 - error is not logged because promise was fulfilled with undefined but response was sent before promise resolution # time=8.863ms
    
    # Subtest: Thrown Error instance sets HTTP status code
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - Thrown Error instance sets HTTP status code # time=6.352ms
    
    # Subtest: customErrorHandler support
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 17 - customErrorHandler support # time=5.469ms
    
    # Subtest: customErrorHandler support without throwing
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - customErrorHandler support without throwing # time=5.76ms
    
    # Subtest: customErrorHandler only called if reply not already sent
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - customErrorHandler only called if reply not already sent # time=4.033ms
    
    # Subtest: setNotFoundHandler should accept return value
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - setNotFoundHandler should accept return value # time=6.484ms
    
    # Subtest: customErrorHandler should accept return value
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 21 - customErrorHandler should accept return value # time=4.812ms
    
    # Subtest: await self
        ok 1 - should be equal
        1..1
    ok 22 - await self # time=2.894ms
    
    1..22
    # time=1039.437ms
ok 5 - test/async-await.test.js # time=1039.437ms

# Subtest: test/bodyLimit.test.js
    # Subtest: bodyLimit
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should not error
        ok 5 - should be equal
    ok 1 - bodyLimit # time=38.121ms
    
    1..1
    # time=42.851ms
ok 6 - test/bodyLimit.test.js # time=42.851ms

# Subtest: test/build/error-serializer.test.js
    # Subtest: check generated code syntax
        1..1
        ok 1 - should be equal
    ok 1 - check generated code syntax # time=3944.826ms
    
    ok 2 - ensure the current error serializer is latest # SKIP
    1..2
    # skip: 1
    # time=4043.898ms
ok 7 - test/build/error-serializer.test.js # time=4043.898ms

# Subtest: test/build/version.test.js
    # Subtest: should be the same as package.json
        1..1
        ok 1 - should be equal
    ok 1 - should be the same as package.json # time=6.224ms
    
    1..1
    # time=11.441ms
ok 8 - test/build/version.test.js # time=11.441ms

# Subtest: test/case-insensitive.test.js
    # Subtest: case insensitive
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - case insensitive # time=70.809ms
    
    # Subtest: case insensitive inject
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - case insensitive inject # time=35.777ms
    
    # Subtest: case insensitive (parametric)
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 3 - case insensitive (parametric) # time=12.688ms
    
    # Subtest: case insensitive (wildcard)
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 4 - case insensitive (wildcard) # time=32.284ms
    
    1..4
    # time=169.783ms
ok 9 - test/case-insensitive.test.js # time=169.783ms

# Subtest: test/chainable.test.js
    # Subtest: chainable - get
        1..1
        ok 1 - type is [object Object]
    ok 1 - chainable - get # time=9.73ms
    
    # Subtest: chainable - post
        1..1
        ok 1 - type is [object Object]
    ok 2 - chainable - post # time=2.077ms
    
    # Subtest: chainable - route
        1..1
        ok 1 - type is [object Object]
    ok 3 - chainable - route # time=2.771ms
    
    1..3
    # time=26.915ms
ok 10 - test/chainable.test.js # time=26.915ms

# Subtest: test/close-pipelining.test.js
    # Subtest: Should return 503 while closing - pipelining
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        1..3
    ok 1 - Should return 503 while closing - pipelining # time=119.911ms
    
    # Subtest: Should not return 503 while closing - pipelining - return503OnClosing
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        1..3
    ok 2 - Should not return 503 while closing - pipelining - return503OnClosing # time=33.003ms
    
    1..2
    # time=188.95ms
ok 11 - test/close-pipelining.test.js # time=188.95ms

# Subtest: test/close.test.js
    # Subtest: close callback
        1..4
        ok 1 - should not error
        ok 2 - type is [object Object]
        ok 3 - should not error
        ok 4 - expect truthy value
    ok 1 - close callback # time=97.455ms
    
    # Subtest: inside register
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - expect truthy value
    ok 2 - inside register # time=20.601ms
    
    # Subtest: close order
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 3 - close order # time=36.857ms
    
    # Subtest: close order - async
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 4 - close order - async # time=26.123ms
    
    # Subtest: should not throw an error if the server is not listening
        1..2
        ok 1 - type is [object Object]
        ok 2 - should not error
    ok 5 - should not throw an error if the server is not listening # time=4.47ms
    
    # Subtest: onClose should keep the context
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
    ok 6 - onClose should keep the context # time=13.536ms
    
    # Subtest: Should return error while closing (promise) - injection
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 7 - Should return error while closing (promise) - injection # time=44.51ms
    
    # Subtest: Should return error while closing (callback) - injection
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 8 - Should return error while closing (callback) - injection # time=111.554ms
    
    # Subtest: Current opened connection should continue to work after closing and return "connection: close" header - return503OnClosing: false
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        1..5
    ok 9 - Current opened connection should continue to work after closing and return "connection: close" header - return503OnClosing: false # time=67.378ms
    
    # Subtest: Current opened connection should not accept new incoming connections
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 10 - Current opened connection should not accept new incoming connections # time=305.8ms
    
    # Subtest: Cannot be reopened the closed server without listen callback
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 11 - Cannot be reopened the closed server without listen callback # time=17.7ms
    
    # Subtest: Cannot be reopened the closed server has listen callback
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 12 - Cannot be reopened the closed server has listen callback # time=13.8ms
    
    ok 13 - shutsdown while keep-alive connections are active (non-async, native) # SKIP
    ok 14 - shutsdown while keep-alive connections are active (non-async, idle, native) # SKIP
    # Subtest: shutsdown while keep-alive connections are active (non-async, custom)
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 15 - shutsdown while keep-alive connections are active (non-async, custom) # time=11.139ms
    
    1..15
    # skip: 2
    # time=795.959ms
ok 12 - test/close.test.js # time=795.959ms

# Subtest: test/connectionTimeout.test.js
    # Subtest: connectionTimeout
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 1 - connectionTimeout # time=42.131ms
    
    1..1
    # time=48.868ms
ok 13 - test/connectionTimeout.test.js # time=48.868ms

# Subtest: test/constrained-routes.test.js
    # Subtest: Should register a host constrained route
        1..7
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 1 - Should register a host constrained route # time=103.235ms
    
    # Subtest: Should register the same route with host constraints
        1..8
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 2 - Should register the same route with host constraints # time=13.956ms
    
    # Subtest: Should allow registering custom constrained routes
        1..8
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 3 - Should allow registering custom constrained routes # time=18.431ms
    
    # Subtest: Should allow registering custom constrained routes outside constructor
        1..8
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 4 - Should allow registering custom constrained routes outside constructor # time=12.76ms
    
    # Subtest: Add a constraint strategy after fastify instance was started
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - Cannot add constraint strategy when fastify instance is already started!
    ok 5 - Add a constraint strategy after fastify instance was started # time=13.894ms
    
    # Subtest: Add a constraint strategy should throw an error if there already exist custom strategy with the same name
        1..1
        ok 1 - There already exists a custom constraint with the name secret.
    ok 6 - Add a constraint strategy should throw an error if there already exist custom strategy with the same name # time=2.511ms
    
    # Subtest: Add a constraint strategy shouldn't throw an error if default constraint with the same name isn't used
        1..1
        ok 1 - (unnamed test)
    ok 7 - Add a constraint strategy shouldn't throw an error if default constraint with the same name isn't used # time=1.39ms
    
    # Subtest: Add a constraint strategy should throw an error if default constraint with the same name is used
        1..1
        ok 1 - There already exists a route with version constraint.
    ok 8 - Add a constraint strategy should throw an error if default constraint with the same name is used # time=2.465ms
    
    # Subtest: The hasConstraintStrategy should return false for default constraints until they are used
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 9 - The hasConstraintStrategy should return false for default constraints until they are used # time=4.567ms
    
    # Subtest: The hasConstraintStrategy should return true if there already exist a custom constraint with the same name
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 10 - The hasConstraintStrategy should return true if there already exist a custom constraint with the same name # time=2.447ms
    
    # Subtest: Should allow registering an unconstrained route after a constrained route
        1..6
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
    ok 11 - Should allow registering an unconstrained route after a constrained route # time=8.944ms
    
    # Subtest: Should allow registering constrained routes in a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 12 - Should allow registering constrained routes in a prefixed plugin # time=20.189ms
    
    # Subtest: Should allow registering a constrained GET route after a constrained HEAD route
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 13 - Should allow registering a constrained GET route after a constrained HEAD route # time=30.614ms
    
    # Subtest: Should allow registering a constrained GET route after an unconstrained HEAD route
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 14 - Should allow registering a constrained GET route after an unconstrained HEAD route # time=17.685ms
    
    # Subtest: Will not try to re-createprefixed HEAD route if it already exists and exposeHeadRoutes is true for constrained routes
        1..1
        ok 1 - expect truthy value
    ok 15 - Will not try to re-createprefixed HEAD route if it already exists and exposeHeadRoutes is true for constrained routes # time=14.551ms
    
    # Subtest: allows separate constrained and unconstrained HEAD routes
        1..1
        ok 1 - expect truthy value
    ok 16 - allows separate constrained and unconstrained HEAD routes # time=5.223ms
    
    1..16
    # time=286.7ms
ok 14 - test/constrained-routes.test.js # time=286.7ms

# Subtest: test/content-length.test.js
    # Subtest: default 413 with bodyLimit option
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - default 413 with bodyLimit option # time=101.495ms
    
    # Subtest: default 400 with wrong content-length
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - default 400 with wrong content-length # time=15.525ms
    
    # Subtest: custom 413 with bodyLimit option
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 3 - custom 413 with bodyLimit option # time=12.563ms
    
    # Subtest: custom 400 with wrong content-length
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 4 - custom 400 with wrong content-length # time=7.974ms
    
    # Subtest: \#2214 - wrong content-length
        ok 1 - should be equal
        1..1
    ok 5 - \#2214 - wrong content-length # time=9.838ms
    
    # Subtest: \#2543 - wrong content-length with errorHandler
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 6 - \#2543 - wrong content-length with errorHandler # time=7.67ms
    
    1..6
    # time=182.407ms
ok 15 - test/content-length.test.js # time=182.407ms

# Subtest: test/content-parser.test.js
    # Subtest: hasContentTypeParser
        1..0
    ok 1 - hasContentTypeParser # time=11.387ms
    
    # Subtest: should know about internal parsers
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
    ok 2 - should know about internal parsers # time=42.37ms
    
    # Subtest: should work with string and RegExp
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect falsey value
    ok 3 - should work with string and RegExp # time=4.257ms
    
    # Subtest: getParser
        1..0
    ok 4 - getParser # time=81.21ms
    
    # Subtest: existingParser
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect falsey value
        1..7
    ok 5 - existingParser # time=23.891ms
    
    # Subtest: add
        1..0
    ok 6 - add # time=8.967ms
    
    # Subtest: non-Error thrown from content parser is properly handled
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 7 - non-Error thrown from content parser is properly handled # time=35.865ms
    
    # Subtest: Error thrown 415 from content type is null and make post request to server
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 8 - Error thrown 415 from content type is null and make post request to server # time=20.112ms
    
    # Subtest: remove
        1..0
    ok 9 - remove # time=34.536ms
    
    # Subtest: remove all should remove all existing parsers and reset cache
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
    ok 10 - remove all should remove all existing parsers and reset cache # time=7.656ms
    
    # Subtest: should return matching parser
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 11 - should return matching parser # time=2.393ms
    
    # Subtest: should return matching parser with caching
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 12 - should return matching parser with caching # time=2.374ms
    
    # Subtest: should prefer content type parser with string value
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 13 - should prefer content type parser with string value # time=2.295ms
    
    # Subtest: should return parser that catches all if no other is set
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 14 - should return parser that catches all if no other is set # time=2.888ms
    
    # Subtest: should return undefined if no matching parser exist
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 15 - should return undefined if no matching parser exist # time=2.234ms
    
    # Subtest: returns always false for "*"
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 16 - returns always false for "*" # time=1.577ms
    
    # Subtest: let you override the default parser once
        1..2
        ok 1 - Content type parser 'application/json' already present
        ok 2 - Content type parser 'text/plain' already present
    ok 17 - let you override the default parser once # time=4.872ms
    
    # Subtest: should only accept string and RegExp
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - The content type should be a string or a RegExp
        ok 4 - The content type should be a string or a RegExp
    ok 18 - should only accept string and RegExp # time=3.134ms
    
    # Subtest: should set "*" as parser that catches all
        1..1
        ok 1 - should be equal
    ok 19 - should set "*" as parser that catches all # time=1.244ms
    
    # Subtest: should remove default parser
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 20 - should remove default parser # time=1.418ms
    
    # Subtest: should remove RegExp parser
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 21 - should remove RegExp parser # time=1.444ms
    
    # Subtest: should throw an error if content type is neither string nor RegExp
        1..1
        ok 1 - expected to throw
    ok 22 - should throw an error if content type is neither string nor RegExp # time=1.71ms
    
    # Subtest: should not throw error if content type does not exist
        1..1
        ok 1 - expected to not throw
    ok 23 - should not throw error if content type does not exist # time=1.469ms
    
    # Subtest: should not remove any content type parser if content type does not exist
        1..1
        ok 1 - should be equivalent
    ok 24 - should not remove any content type parser if content type does not exist # time=1.887ms
    
    1..24
    # time=328.083ms
ok 16 - test/content-parser.test.js # time=328.083ms

# Subtest: test/context-config.test.js
    # Subtest: config
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 1 - config # time=79.888ms
    
    # Subtest: config with exposeHeadRoutes
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 2 - config with exposeHeadRoutes # time=16.502ms
    
    # Subtest: config without exposeHeadRoutes
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 3 - config without exposeHeadRoutes # time=33.109ms
    
    1..3
    # time=138.471ms
ok 17 - test/context-config.test.js # time=138.471ms

# Subtest: test/custom-http-server.test.js
    # Subtest: Should support a custom http server
        1..4
        ok 1 - it is called twice for every HOST interface
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - Should support a custom http server # time=65.255ms
    
    # Subtest: Should not allow forceCloseConnection=idle if the server does not support closeIdleConnections
        1..1
        ok 1 - Cannot set forceCloseConnections to 'idle' as your HTTP server does not support closeIdleConnections method
    ok 2 - Should not allow forceCloseConnection=idle if the server does not support closeIdleConnections # time=3.615ms
    
    1..2
    # time=78.777ms
ok 18 - test/custom-http-server.test.js # time=78.777ms

# Subtest: test/custom-parser-async.test.js
    # Subtest: contentTypeParser should add a custom async parser
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=31.09ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=7.245ms
        
    ok 1 - contentTypeParser should add a custom async parser # time=113.062ms
    
    1..1
    # time=118.238ms
ok 19 - test/custom-parser-async.test.js # time=118.238ms

# Subtest: test/custom-parser.test.js
    # Subtest: contentTypeParser method should exist
        1..1
        ok 1 - expect truthy value
    ok 1 - contentTypeParser method should exist # time=15.633ms
    
    # Subtest: contentTypeParser should add a custom parser
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=27.933ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=6.888ms
        
    ok 2 - contentTypeParser should add a custom parser # time=194.734ms
    
    # Subtest: contentTypeParser should handle multiple custom parsers
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 3 - contentTypeParser should handle multiple custom parsers # time=12.998ms
    
    # Subtest: contentTypeParser should handle an array of custom contentTypes
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 4 - contentTypeParser should handle an array of custom contentTypes # time=29.306ms
    
    # Subtest: contentTypeParser should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 5 - contentTypeParser should handle errors # time=10.344ms
    
    # Subtest: contentTypeParser should support encapsulation
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - expect falsey value
        ok 6 - expect falsey value
    ok 6 - contentTypeParser should support encapsulation # time=7.93ms
    
    # Subtest: contentTypeParser should support encapsulation, second try
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - contentTypeParser should support encapsulation, second try # time=13.239ms
    
    # Subtest: contentTypeParser shouldn't support request with undefined "Content-Type"
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 8 - contentTypeParser shouldn't support request with undefined "Content-Type" # time=9.107ms
    
    # Subtest: the content type should be a string or RegExp
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 9 - the content type should be a string or RegExp # time=1.889ms
    
    # Subtest: the content type cannot be an empty string
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 10 - the content type cannot be an empty string # time=2.255ms
    
    # Subtest: the content type handler should be a function
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 11 - the content type handler should be a function # time=1.965ms
    
    # Subtest: catch all content type parser
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 12 - catch all content type parser # time=11.992ms
    
    # Subtest: catch all content type parser should not interfere with other conte type parsers
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 13 - catch all content type parser should not interfere with other conte type parsers # time=11.083ms
    
    # Subtest: '*' catch undefined Content-Type requests
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - '*' catch undefined Content-Type requests # time=11.984ms
    
    # Subtest: cannot add custom parser after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 15 - cannot add custom parser after binding # time=18.343ms
    
    # Subtest: Can override the default json parser
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 16 - Can override the default json parser # time=29.758ms
    
    # Subtest: Can override the default plain text parser
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 17 - Can override the default plain text parser # time=12.272ms
    
    # Subtest: Can override the default json parser in a plugin
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 18 - Can override the default json parser in a plugin # time=28.556ms
    
    # Subtest: Can't override the json parser multiple times
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 19 - Can't override the json parser multiple times # time=2.05ms
    
    # Subtest: Can't override the plain text parser multiple times
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 20 - Can't override the plain text parser multiple times # time=7.341ms
    
    # Subtest: Should get the body as string
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 21 - Should get the body as string # time=9.795ms
    
    # Subtest: Should return defined body with no custom parser defined and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 22 - Should return defined body with no custom parser defined and content type = 'text/plain' # time=14.702ms
    
    # Subtest: Should have typeof body object with no custom parser defined, no body defined and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 23 - Should have typeof body object with no custom parser defined, no body defined and content type = 'text/plain' # time=23.65ms
    
    # Subtest: Should have typeof body object with no custom parser defined, null body and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 24 - Should have typeof body object with no custom parser defined, null body and content type = 'text/plain' # time=13.202ms
    
    # Subtest: Should have typeof body object with no custom parser defined, undefined body and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 25 - Should have typeof body object with no custom parser defined, undefined body and content type = 'text/plain' # time=7.231ms
    
    # Subtest: Should get the body as string
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 26 - Should get the body as string # time=7.314ms
    
    # Subtest: Should get the body as buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 27 - Should get the body as buffer # time=7.805ms
    
    # Subtest: Should get the body as buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 28 - Should get the body as buffer # time=6.455ms
    
    # Subtest: Should parse empty bodies as a string
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 29 - Should parse empty bodies as a string # time=10.842ms
    
    # Subtest: Should parse empty bodies as a buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 30 - Should parse empty bodies as a buffer # time=6.714ms
    
    # Subtest: The charset should not interfere with the content type handling
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 31 - The charset should not interfere with the content type handling # time=6.211ms
    
    # Subtest: Wrong parseAs parameter
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 32 - Wrong parseAs parameter # time=1.431ms
    
    # Subtest: Should allow defining the bodyLimit per parser
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent strictly
    ok 33 - Should allow defining the bodyLimit per parser # time=8.048ms
    
    # Subtest: route bodyLimit should take precedence over a custom parser bodyLimit
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent strictly
    ok 34 - route bodyLimit should take precedence over a custom parser bodyLimit # time=5.992ms
    
    # Subtest: should be able to use default parser for extra content type
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent strictly
    ok 35 - should be able to use default parser for extra content type # time=6.272ms
    
    # Subtest: contentTypeParser should add a custom parser with RegExp value
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=4.925ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=3.567ms
        
    ok 36 - contentTypeParser should add a custom parser with RegExp value # time=14.66ms
    
    # Subtest: contentTypeParser should add multiple custom parsers with RegExp values
        1..6
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 37 - contentTypeParser should add multiple custom parsers with RegExp values # time=49.194ms
    
    # Subtest: catch all content type parser should not interfere with content type parser
        1..10
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 38 - catch all content type parser should not interfere with content type parser # time=11.378ms
    
    # Subtest: should prefer string content types over RegExp ones
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 39 - should prefer string content types over RegExp ones # time=8.597ms
    
    # Subtest: removeContentTypeParser should support arrays of content types to remove
        1..8
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 40 - removeContentTypeParser should support arrays of content types to remove # time=9.451ms
    
    # Subtest: removeContentTypeParser should support encapsulation
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 41 - removeContentTypeParser should support encapsulation # time=8.935ms
    
    # Subtest: removeAllContentTypeParsers should support encapsulation
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 42 - removeAllContentTypeParsers should support encapsulation # time=12.605ms
    
    # Subtest: cannot remove all content type parsers after binding
        1..2
        ok 1 - should not error
        ok 2 - expected to throw
    ok 43 - cannot remove all content type parsers after binding # time=3.478ms
    
    # Subtest: cannot remove content type parsers after binding
        1..2
        ok 1 - should not error
        ok 2 - expected to throw
    ok 44 - cannot remove content type parsers after binding # time=2.6ms
    
    # Subtest: should be able to override the default json parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 45 - should be able to override the default json parser after removeAllContentTypeParsers # time=5.012ms
    
    # Subtest: should be able to override the default plain text parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 46 - should be able to override the default plain text parser after removeAllContentTypeParsers # time=5.265ms
    
    # Subtest: should be able to add a custom content type parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 47 - should be able to add a custom content type parser after removeAllContentTypeParsers # time=9.868ms
    
    1..47
    # time=749.095ms
ok 20 - test/custom-parser.test.js # time=749.095ms

# Subtest: test/custom-querystring-parser.test.js
    # Subtest: Custom querystring parser
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 1 - Custom querystring parser # time=94.68ms
    
    # Subtest: Custom querystring parser should be called also if there is nothing to parse
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 2 - Custom querystring parser should be called also if there is nothing to parse # time=14.67ms
    
    # Subtest: Querystring without value
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 3 - Querystring without value # time=17.437ms
    
    # Subtest: Custom querystring parser should be a function
        1..1
        ok 1 - should be equal
    ok 4 - Custom querystring parser should be a function # time=1.078ms
    
    1..4
    # time=148.037ms
ok 21 - test/custom-querystring-parser.test.js # time=148.037ms

# Subtest: test/decorator.test.js
    # Subtest: server methods should exist
        1..2
        ok 1 - expect truthy value
        ok 2 - expect truthy value
    ok 1 - server methods should exist # time=15.961ms
    
    # Subtest: should check if the given decoration already exist when null
        1..1
        ok 1 - expect truthy value
    ok 2 - should check if the given decoration already exist when null # time=81.977ms
    
    # Subtest: server methods should be encapsulated via .register
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 3 - server methods should be encapsulated via .register # time=8.413ms
    
    # Subtest: hasServerMethod should check if the given method already exist
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 4 - hasServerMethod should check if the given method already exist # time=9.471ms
    
    # Subtest: decorate should throw if a declared dependency is not present
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - (unnamed test)
    ok 5 - decorate should throw if a declared dependency is not present # time=9.343ms
    
    # Subtest: decorate should throw if declared dependency is not array
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - (unnamed test)
    ok 6 - decorate should throw if declared dependency is not array # time=6.609ms
    
    # Subtest: should pass error for missing request decorator
        1..2
        ok 1 - type is Error
        ok 2 - should match pattern provided
    ok 7 - should pass error for missing request decorator # time=7.786ms
    
    # Subtest: decorateReply inside register
        1..11
        ok 1 - should not error
        ok 2 - test exists
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 8 - decorateReply inside register # time=49.945ms
    
    # Subtest: decorateReply as plugin (inside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 9 - decorateReply as plugin (inside .after) # time=34.375ms
    
    # Subtest: decorateReply as plugin (outside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 10 - decorateReply as plugin (outside .after) # time=18.126ms
    
    # Subtest: decorateRequest inside register
        1..11
        ok 1 - should not error
        ok 2 - test exists
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 11 - decorateRequest inside register # time=18.292ms
    
    # Subtest: decorateRequest as plugin (inside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 12 - decorateRequest as plugin (inside .after) # time=17.322ms
    
    # Subtest: decorateRequest as plugin (outside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 13 - decorateRequest as plugin (outside .after) # time=18.938ms
    
    # Subtest: decorators should be instance separated
        1..1
        ok 1 - (unnamed test)
    ok 14 - decorators should be instance separated # time=2.392ms
    
    # Subtest: hasRequestDecorator
        # Subtest: is a function
            1..1
            ok 1 - expect truthy value
        ok 1 - is a function # time=1.621ms
        
        # Subtest: should check if the given request decoration already exist
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 2 - should check if the given request decoration already exist # time=2.19ms
        
        # Subtest: should check if the given request decoration already exist when null
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 3 - should check if the given request decoration already exist when null # time=2.178ms
        
        # Subtest: should be plugin encapsulable
            1..4
            ok 1 - expect falsey value
            ok 2 - expect falsey value
            ok 3 - expect truthy value
            ok 4 - expect falsey value
        ok 4 - should be plugin encapsulable # time=10.663ms
        
        # Subtest: should be inherited
            1..2
            ok 1 - expect truthy value
            ok 2 - expect truthy value
        ok 5 - should be inherited # time=8.642ms
        
        1..5
    ok 15 - hasRequestDecorator # time=47ms
    
    # Subtest: hasReplyDecorator
        # Subtest: is a function
            1..1
            ok 1 - expect truthy value
        ok 1 - is a function # time=2.082ms
        
        # Subtest: should check if the given reply decoration already exist
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 2 - should check if the given reply decoration already exist # time=2.122ms
        
        # Subtest: should check if the given reply decoration already exist when null
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 3 - should check if the given reply decoration already exist when null # time=1.994ms
        
        # Subtest: should be plugin encapsulable
            1..4
            ok 1 - expect falsey value
            ok 2 - expect falsey value
            ok 3 - expect truthy value
            ok 4 - expect falsey value
        ok 4 - should be plugin encapsulable # time=9.928ms
        
        # Subtest: should be inherited
            1..2
            ok 1 - expect truthy value
            ok 2 - expect truthy value
        ok 5 - should be inherited # time=7.388ms
        
        1..5
    ok 16 - hasReplyDecorator # time=115.07ms
    
    # Subtest: should register properties via getter/setter objects
        1..3
        ok 1 - expect truthy value
        ok 2 - a getter
        ok 3 - expect falsey value
    ok 17 - should register properties via getter/setter objects # time=4.354ms
    
    # Subtest: decorateRequest should work with getter/setter
        1..5
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - (unnamed test)
    ok 18 - decorateRequest should work with getter/setter # time=30.927ms
    
    # Subtest: decorateReply should work with getter/setter
        1..5
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - (unnamed test)
    ok 19 - decorateReply should work with getter/setter # time=9.975ms
    
    # Subtest: should register empty values
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 20 - should register empty values # time=3.508ms
    
    # Subtest: nested plugins can override things
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 21 - nested plugins can override things # time=4.464ms
    
    # Subtest: a decorator should addSchema to all the encapsulated tree
        1..1
        ok 1 - should not error
    ok 22 - a decorator should addSchema to all the encapsulated tree # time=4.231ms
    
    # Subtest: after can access to a decorated instance and previous plugin decoration
        1..11
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
    ok 23 - after can access to a decorated instance and previous plugin decoration # time=8.443ms
    
    # Subtest: decorate* should throw if called after ready
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 24 - decorate* should throw if called after ready # time=18.148ms
    
    # Subtest: decorate* should emit warning if an array is passed
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 25 - decorate* should emit warning if an array is passed # time=30.654ms
    
    # Subtest: decorate* should emit warning if object type is passed
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 26 - decorate* should emit warning if object type is passed # time=23.567ms
    
    # Subtest: decorate* should not emit warning if object with getter/setter is passed
        1..0
    ok 27 - decorate* should not emit warning if object with getter/setter is passed # time=34.932ms
    
    # Subtest: decorate* should not emit warning if string,bool,numbers are passed
        1..0
    ok 28 - decorate* should not emit warning if string,bool,numbers are passed # time=27.684ms
    
    # Subtest: Request/reply decorators should be able to access the server instance
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not be equal
        ok 4 - should be equal
        ok 5 - should not be equal
        ok 6 - should be equal
    ok 29 - Request/reply decorators should be able to access the server instance # time=8.585ms
    
    # Subtest: plugin required decorators
        1..0
    ok 30 - plugin required decorators # time=3.801ms
    
    # Subtest: decorateRequest/decorateReply empty string
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 31 - decorateRequest/decorateReply empty string # time=8.139ms
    
    # Subtest: decorateRequest/decorateReply is undefined
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 32 - decorateRequest/decorateReply is undefined # time=7.808ms
    
    # Subtest: decorateRequest/decorateReply is not set to a value
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 33 - decorateRequest/decorateReply is not set to a value # time=8.137ms
    
    # Subtest: decorateRequest with dependencies
        1..2
        ok 1 - expected to not throw
        ok 2 - expect truthy value
    ok 34 - decorateRequest with dependencies # time=1.475ms
    
    # Subtest: decorateRequest with dependencies (functions)
        1..2
        ok 1 - expected to not throw
        ok 2 - expect truthy value
    ok 35 - decorateRequest with dependencies (functions) # time=1.351ms
    
    # Subtest: chain of decorators on Request
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        1..6
    ok 36 - chain of decorators on Request # time=15.137ms
    
    # Subtest: chain of decorators on Reply
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        1..6
    ok 37 - chain of decorators on Reply # time=14.305ms
    
    1..37
    # time=775.184ms
ok 22 - test/decorator.test.js # time=775.184ms

# Subtest: test/default-route.test.js
    # Subtest: should fail if defaultRoute is not a function
        1..1
        ok 1 - should be equal
    ok 1 - should fail if defaultRoute is not a function # time=27.705ms
    
    # Subtest: correctly sets, returns, and calls defaultRoute
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 2 - correctly sets, returns, and calls defaultRoute # time=45.329ms
    
    1..2
    # time=89.097ms
ok 23 - test/default-route.test.js # time=89.097ms

# Subtest: test/delete.test.js
    # Subtest: shorthand - delete
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - delete # time=9.853ms
    
    # Subtest: shorthand - delete params
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - delete params # time=2.447ms
    
    # Subtest: shorthand - delete, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - delete, querystring schema # time=1.961ms
    
    # Subtest: shorthand - get, headers schema
        1..1
        ok 1 - (unnamed test)
    ok 4 - shorthand - get, headers schema # time=1.826ms
    
    # Subtest: missing schema - delete
        1..1
        ok 1 - (unnamed test)
    ok 5 - missing schema - delete # time=1.754ms
    
    # Subtest: body - delete
        1..1
        ok 1 - (unnamed test)
    ok 6 - body - delete # time=1.517ms
    
    # Subtest: shorthand - delete with application/json Content-Type header and without body
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - shorthand - delete with application/json Content-Type header and without body # time=45.438ms
    
    ok 8 - should not error
    # Subtest: shorthand - request delete
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 9 - shorthand - request delete # time=31.364ms
    
    # Subtest: shorthand - request delete params schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 10 - shorthand - request delete params schema # time=15.9ms
    
    # Subtest: shorthand - request delete params schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 11 - shorthand - request delete params schema error # time=17.261ms
    
    # Subtest: shorthand - request delete headers schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 12 - shorthand - request delete headers schema # time=10.932ms
    
    # Subtest: shorthand - request delete headers schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 13 - shorthand - request delete headers schema error # time=5.117ms
    
    # Subtest: shorthand - request delete querystring schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 14 - shorthand - request delete querystring schema # time=5.586ms
    
    # Subtest: shorthand - request delete querystring schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 15 - shorthand - request delete querystring schema error # time=5.02ms
    
    # Subtest: shorthand - request delete missing schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 16 - shorthand - request delete missing schema # time=5.451ms
    
    # Subtest: shorthand - delete with body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - shorthand - delete with body # time=8.228ms
    
    1..17
    # time=335.534ms
ok 24 - test/delete.test.js # time=335.534ms

# Subtest: test/diagnostics-channel.test.js
    # Subtest: diagnostics_channel when present and subscribers
        1..3
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should be equal
    ok 1 - diagnostics_channel when present and subscribers # time=998.326ms
    
    # Subtest: diagnostics_channel when present and no subscribers
        1..1
        ok 1 - should be equal
    ok 2 - diagnostics_channel when present and no subscribers # time=17.216ms
    
    # Subtest: diagnostics_channel when not present
        1..1
        ok 1 - expected to not throw
    ok 3 - diagnostics_channel when not present # time=18.936ms
    
    1..3
    # time=1049.62ms
ok 25 - test/diagnostics-channel.test.js # time=1049.62ms

# Subtest: test/encapsulated-error-handler.test.js
    # Subtest: encapuslates an error handler
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 1 - encapuslates an error handler # time=82.363ms
    
    # Subtest: onError hook nested
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 2 - onError hook nested # time=11.071ms
    
    1..2
    # time=99.904ms
ok 26 - test/encapsulated-error-handler.test.js # time=99.904ms

# Subtest: test/esm/index.test.js
    # Subtest: named exports support
        ok 1 - should be equal
        1..1
    ok 1 - named exports support # time=35.136ms
    
    ok 2 - should be equal
    1..2
    # time=40.704ms
ok 27 - test/esm/index.test.js # time=40.704ms

# Subtest: test/fastify-instance.test.js
    # Subtest: root fastify instance is an object
        1..1
        ok 1 - type is object
    ok 1 - root fastify instance is an object # time=15.56ms
    
    # Subtest: fastify instance should contains ajv options
        1..1
        ok 1 - should be equivalent
    ok 2 - fastify instance should contains ajv options # time=6.508ms
    
    # Subtest: fastify instance should contains ajv options.plugins nested arrays
        1..1
        ok 1 - should be equivalent
    ok 3 - fastify instance should contains ajv options.plugins nested arrays # time=3.444ms
    
    # Subtest: fastify instance get invalid ajv options
        1..1
        ok 1 - expected to throw
    ok 4 - fastify instance get invalid ajv options # time=1.804ms
    
    # Subtest: fastify instance get invalid ajv options.plugins
        1..1
        ok 1 - expected to throw
    ok 5 - fastify instance get invalid ajv options.plugins # time=1.472ms
    
    # Subtest: fastify instance should contain default errorHandler
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 6 - fastify instance should contain default errorHandler # time=3.097ms
    
    # Subtest: errorHandler in plugin should be separate from the external one
        1..4
        ok 1 - should not be equivalent
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equivalent
    ok 7 - errorHandler in plugin should be separate from the external one # time=16.569ms
    
    1..7
    # time=72.374ms
ok 28 - test/fastify-instance.test.js # time=72.374ms

# Subtest: test/fluent-schema.test.js
    # Subtest: use fluent-json-schema object
        1..15
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equivalent
    ok 1 - use fluent-json-schema object # time=176.364ms
    
    # Subtest: use complex fluent-json-schema object
        1..1
        ok 1 - should not error
    ok 2 - use complex fluent-json-schema object # time=48.267ms
    
    # Subtest: use fluent schema and plain JSON schema
        1..1
        ok 1 - should not error
    ok 3 - use fluent schema and plain JSON schema # time=52.22ms
    
    # Subtest: Should call valueOf internally
        1..1
        ok 1 - should not error
    ok 4 - Should call valueOf internally # time=89.714ms
    
    1..4
    # time=374ms
ok 29 - test/fluent-schema.test.js # time=374ms

# Subtest: test/genReqId.test.js
    # Subtest: Should accept a custom genReqId function
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 1 - Should accept a custom genReqId function # time=65.603ms
    
    1..1
    # time=72.006ms
ok 30 - test/genReqId.test.js # time=72.006ms

# Subtest: test/get.test.js
    # Subtest: shorthand - get
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - get # time=9.664ms
    
    # Subtest: shorthand - get (return null)
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - get (return null) # time=2.087ms
    
    # Subtest: shorthand - get params
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - get params # time=2.222ms
    
    # Subtest: shorthand - get, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 4 - shorthand - get, querystring schema # time=1.99ms
    
    # Subtest: shorthand - get, headers schema
        1..1
        ok 1 - (unnamed test)
    ok 5 - shorthand - get, headers schema # time=2.093ms
    
    # Subtest: missing schema - get
        1..1
        ok 1 - (unnamed test)
    ok 6 - missing schema - get # time=1.824ms
    
    # Subtest: custom serializer - get
        1..1
        ok 1 - (unnamed test)
    ok 7 - custom serializer - get # time=2.104ms
    
    # Subtest: empty response
        1..1
        ok 1 - (unnamed test)
    ok 8 - empty response # time=1.49ms
    
    # Subtest: send a falsy boolean
        1..1
        ok 1 - (unnamed test)
    ok 9 - send a falsy boolean # time=1.398ms
    
    ok 10 - should not error
    # Subtest: shorthand - request get
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - shorthand - request get # time=44.123ms
    
    # Subtest: shorthand - request get params schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 12 - shorthand - request get params schema # time=7.472ms
    
    # Subtest: shorthand - request get params schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 13 - shorthand - request get params schema error # time=7.073ms
    
    # Subtest: shorthand - request get headers schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - shorthand - request get headers schema # time=5.641ms
    
    # Subtest: shorthand - request get headers schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 15 - shorthand - request get headers schema error # time=9.139ms
    
    # Subtest: shorthand - request get querystring schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 16 - shorthand - request get querystring schema # time=5.829ms
    
    # Subtest: shorthand - request get querystring schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - shorthand - request get querystring schema error # time=4.894ms
    
    # Subtest: shorthand - request get missing schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - shorthand - request get missing schema # time=4.97ms
    
    # Subtest: shorthand - custom serializer
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 19 - shorthand - custom serializer # time=6.133ms
    
    # Subtest: shorthand - empty response
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 20 - shorthand - empty response # time=4.739ms
    
    # Subtest: shorthand - send a falsy boolean
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - shorthand - send a falsy boolean # time=4.439ms
    
    # Subtest: shorthand - send null value
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - shorthand - send null value # time=4.464ms
    
    1..22
    # time=361.468ms
ok 31 - test/get.test.js # time=361.468ms

# Subtest: test/handler-context.test.js
    # Subtest: handlers receive correct `this` context
        1..4
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 1 - handlers receive correct `this` context # time=51.094ms
    
    # Subtest: handlers have access to the internal context
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - type is Object
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 2 - handlers have access to the internal context # time=15.973ms
    
    1..2
    # time=73.99ms
ok 32 - test/handler-context.test.js # time=73.99ms

# Subtest: test/head.test.js
    # Subtest: shorthand - head
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - head # time=9.964ms
    
    # Subtest: shorthand - head params
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - head params # time=7.338ms
    
    # Subtest: shorthand - head, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - head, querystring schema # time=1.73ms
    
    # Subtest: missing schema - head
        1..1
        ok 1 - (unnamed test)
    ok 4 - missing schema - head # time=1.474ms
    
    ok 5 - should not error
    # Subtest: shorthand - request head
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 6 - shorthand - request head # time=40.371ms
    
    # Subtest: shorthand - request head params schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 7 - shorthand - request head params schema # time=5.295ms
    
    # Subtest: shorthand - request head params schema error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 8 - shorthand - request head params schema error # time=5.676ms
    
    # Subtest: shorthand - request head querystring schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 9 - shorthand - request head querystring schema # time=4.538ms
    
    # Subtest: shorthand - request head querystring schema error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - shorthand - request head querystring schema error # time=4.504ms
    
    # Subtest: shorthand - request head missing schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 11 - shorthand - request head missing schema # time=4.029ms
    
    1..11
    # time=238.087ms
ok 33 - test/head.test.js # time=238.087ms

# Subtest: test/hooks-async.test.js
    # Subtest: async hooks
        1..21
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - should not error
        ok 13 - should be equal
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equivalent
        ok 18 - should not error
        ok 19 - should be equal
        ok 20 - expect truthy value
        ok 21 - expect truthy value
    ok 1 - async hooks # time=134.197ms
    
    # Subtest: modify payload
        1..10
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - expect truthy value
        ok 4 - should be equivalent
        ok 5 - expect truthy value
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
    ok 2 - modify payload # time=38.157ms
    
    # Subtest: onRequest hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 3 - onRequest hooks should be able to block a request # time=10.744ms
    
    # Subtest: preParsing hooks should be able to modify the payload
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 4 - preParsing hooks should be able to modify the payload # time=8.201ms
    
    # Subtest: preParsing hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 5 - preParsing hooks should handle errors # time=5.472ms
    
    # Subtest: preHandler hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 6 - preHandler hooks should be able to block a request # time=5.734ms
    
    # Subtest: preValidation hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 7 - preValidation hooks should be able to block a request # time=13.556ms
    
    # Subtest: preValidation hooks should be able to change request body before validation
        1..4
        ok 1 - (unnamed test)
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - preValidation hooks should be able to change request body before validation # time=115.575ms
    
    # Subtest: preSerialization hooks should be able to modify the payload
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - preSerialization hooks should be able to modify the payload # time=14.605ms
    
    # Subtest: preSerialization hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - preSerialization hooks should handle errors # time=15.956ms
    
    # Subtest: preValidation hooks should handle throwing null
        1..4
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - preValidation hooks should handle throwing null # time=26.891ms
    
    # Subtest: preValidation hooks should handle throwing a string
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 12 - preValidation hooks should handle throwing a string # time=6.621ms
    
    # Subtest: onRequest hooks should be able to block a request (last hook)
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 13 - onRequest hooks should be able to block a request (last hook) # time=14.491ms
    
    # Subtest: preHandler hooks should be able to block a request (last hook)
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 14 - preHandler hooks should be able to block a request (last hook) # time=13.588ms
    
    # Subtest: onRequest respond with a stream
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - onRequest respond with a stream # time=10.803ms
    
    # Subtest: preHandler respond with a stream
        1..7
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 16 - preHandler respond with a stream # time=8.859ms
    
    # Subtest: Should log a warning if is an async function with `done`
        # Subtest: 3 arguments
            1..1
            ok 1 - expect truthy value
        ok 1 - 3 arguments # time=3.222ms
        
        # Subtest: 4 arguments
            1..3
            ok 1 - expect truthy value
            ok 2 - expect truthy value
            ok 3 - expect truthy value
        ok 2 - 4 arguments # time=1.962ms
        
        1..2
    ok 17 - Should log a warning if is an async function with `done` # time=15.025ms
    
    # Subtest: early termination, onRequest async
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 18 - early termination, onRequest async # time=19.953ms
    
    # Subtest: The this should be the same of the encapsulation level
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        1..4
    ok 19 - The this should be the same of the encapsulation level # time=20.652ms
    
    # Subtest: preSerializationEnd should handle errors if the serialize method throws
        # Subtest: works with sync preSerialization
            1..2
            ok 1 - should not error
            ok 2 - should not be equal
        ok 1 - works with sync preSerialization # time=18.058ms
        
        # Subtest: works with async preSerialization
            1..2
            ok 1 - should not error
            ok 2 - should not be equal
        ok 2 - works with async preSerialization # time=6.631ms
        
        1..2
    ok 20 - preSerializationEnd should handle errors if the serialize method throws # time=30.996ms
    
    1..20
    # time=548.695ms
ok 34 - test/hooks-async.test.js # time=548.695ms

# Subtest: test/hooks.on-ready.test.js
    # Subtest: onReady should be called in order
        1..7
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
        ok 7 - should not error
    ok 1 - onReady should be called in order # time=82.776ms
    
    # Subtest: async onReady should be called in order
        1..7
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
        ok 7 - ready
    ok 2 - async onReady should be called in order # time=10.126ms
    
    # Subtest: mix ready and onReady
        1..2
        ok 1 - should be equal
        ok 2 - ready hooks execute once
    ok 3 - mix ready and onReady # time=38.369ms
    
    # Subtest: listen and onReady order
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - trigger the onReady
        ok 9 - do not trigger the onReady
    ok 4 - listen and onReady order # time=17.771ms
    
    # Subtest: multiple ready calls
        1..11
        ok 1 - ready and hooks not triggered yet
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - trigger the onReady
        ok 10 - do not trigger the onReady
        ok 11 - do not trigger the onReady
    ok 5 - multiple ready calls # time=10.105ms
    
    # Subtest: onReady should manage error in sync
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 6 - onReady should manage error in sync # time=9.531ms
    
    # Subtest: onReady should manage error in async
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 7 - onReady should manage error in async # time=23.004ms
    
    # Subtest: onReady should manage sync error
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 8 - onReady should manage sync error # time=7.478ms
    
    # Subtest: onReady can not add decorators or application hooks
        1..3
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should not error
    ok 9 - onReady can not add decorators or application hooks # time=7.4ms
    
    # Subtest: onReady cannot add lifecycle hooks
        1..5
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 10 - onReady cannot add lifecycle hooks # time=12.224ms
    
    # Subtest: onReady throw loading error
        1..1
        ok 1 - expect truthy value
    ok 11 - onReady throw loading error # time=1.88ms
    
    # Subtest: onReady does not call done
        1..6
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
        ok 6 - should be equal
    ok 12 - onReady does not call done # time=505.395ms
    
    # Subtest: onReady execution order
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 13 - onReady execution order # time=6.89ms
    
    # Subtest: ready return the server with callback
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 14 - ready return the server with callback # time=11.288ms
    
    # Subtest: ready return the server with Promise
        1..1
        ok 1 - should be equivalent
    ok 15 - ready return the server with Promise # time=5.592ms
    
    # Subtest: ready return registered
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
    ok 16 - ready return registered # time=19.968ms
    
    1..16
    # time=784.56ms
ok 35 - test/hooks.on-ready.test.js # time=784.56ms

# Subtest: test/hooks.test.js
    # Subtest: hooks
        1..43
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - (unnamed test)
        ok 4 - (unnamed test)
        ok 5 - (unnamed test)
        ok 6 - (unnamed test)
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - expect truthy value
        ok 20 - expect truthy value
        ok 21 - expect truthy value
        ok 22 - expect truthy value
        ok 23 - should be equal
        ok 24 - should be equal
        ok 25 - should be equal
        ok 26 - should be equal
        ok 27 - should be equal
        ok 28 - should be equal
        ok 29 - should be equal
        ok 30 - should be equal
        ok 31 - should be equal
        ok 32 - expect truthy value
        ok 33 - expect truthy value
        ok 34 - expect truthy value
        ok 35 - expect truthy value
        ok 36 - should not error
        ok 37 - should be equal
        ok 38 - should be equal
        ok 39 - should be equivalent
        ok 40 - should not error
        ok 41 - should be equal
        ok 42 - should not error
        ok 43 - should be equal
    ok 1 - hooks # time=246.327ms
    
    # Subtest: onRequest hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 2 - onRequest hook should support encapsulation / 1 # time=38.593ms
    
    # Subtest: onRequest hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 3 - onRequest hook should support encapsulation / 2 # time=35.846ms
    
    # Subtest: onRequest hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 4 - onRequest hook should support encapsulation / 3 # time=24.211ms
    
    # Subtest: preHandler hook should support encapsulation / 5
        1..17
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equivalent
    ok 5 - preHandler hook should support encapsulation / 5 # time=19.551ms
    
    # Subtest: onRoute hook should be called / 1
        1..2
        ok 1 - (unnamed test)
        ok 2 - should not error
    ok 6 - onRoute hook should be called / 1 # time=5.625ms
    
    # Subtest: onRoute hook should be called / 2
        1..5
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 7 - onRoute hook should be called / 2 # time=25.178ms
    
    # Subtest: onRoute hook should be called / 3
        1..5
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - (unnamed test)
        ok 5 - should not error
    ok 8 - onRoute hook should be called / 3 # time=26.076ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 4
        1..4
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - (unnamed test)
        ok 4 - should not error
    ok 9 - onRoute hook should be called (encapsulation support) / 4 # time=8.22ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 5
        1..2
        ok 1 - (unnamed test)
        ok 2 - should not error
    ok 10 - onRoute hook should be called (encapsulation support) / 5 # time=23.522ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 6
        1..1
        ok 1 - should not error
    ok 11 - onRoute hook should be called (encapsulation support) / 6 # time=4.763ms
    
    # Subtest: onRoute should keep the context
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
    ok 12 - onRoute should keep the context # time=12.309ms
    
    # Subtest: onRoute hook should pass correct route
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should not error
    ok 13 - onRoute hook should pass correct route # time=8.298ms
    
    # Subtest: onRoute hook should pass correct route with custom prefix
        1..11
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
    ok 14 - onRoute hook should pass correct route with custom prefix # time=28.739ms
    
    # Subtest: onRoute hook should pass correct route with custom options
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - type is function
        ok 6 - should not error
    ok 15 - onRoute hook should pass correct route with custom options # time=6.759ms
    
    # Subtest: onRoute hook should receive any route option
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 16 - onRoute hook should receive any route option # time=12.692ms
    
    # Subtest: onRoute hook should preserve system route configuration
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 17 - onRoute hook should preserve system route configuration # time=5.183ms
    
    # Subtest: onRoute hook should preserve handler function in options of shorthand route system configuration
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 18 - onRoute hook should preserve handler function in options of shorthand route system configuration # time=4.135ms
    
    # Subtest: onRoute hook should be called once when prefixTrailingSlash
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 19 - onRoute hook should be called once when prefixTrailingSlash # time=5.685ms
    
    # Subtest: onRoute hook should able to change the route url
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 20 - onRoute hook should able to change the route url # time=9.522ms
    
    # Subtest: onRoute hook that throws should be caught
        1..1
        ok 1 - expect truthy value
    ok 21 - onRoute hook that throws should be caught # time=3.577ms
    
    # Subtest: onRoute hook with many prefix
        1..3
        ok 1 - should match pattern provided
        ok 2 - should match pattern provided
        ok 3 - should not error
    ok 22 - onRoute hook with many prefix # time=8.333ms
    
    # Subtest: onRoute hook should not be called when it registered after route
        1..3
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
    ok 23 - onRoute hook should not be called when it registered after route # time=4.501ms
    
    # Subtest: onResponse hook should log request error
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 24 - onResponse hook should log request error # time=26.337ms
    
    # Subtest: onResponse hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 25 - onResponse hook should support encapsulation / 1 # time=9.337ms
    
    # Subtest: onResponse hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 26 - onResponse hook should support encapsulation / 2 # time=4.134ms
    
    # Subtest: onResponse hook should support encapsulation / 3
        1..16
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 27 - onResponse hook should support encapsulation / 3 # time=34.596ms
    
    # Subtest: onSend hook should support encapsulation / 1
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 28 - onSend hook should support encapsulation / 1 # time=4.111ms
    
    # Subtest: onSend hook should support encapsulation / 2
        1..16
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 29 - onSend hook should support encapsulation / 2 # time=13.162ms
    
    # Subtest: onSend hook is called after payload is serialized and headers are set
        1..30
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should be equal
        ok 15 - should not error
        ok 16 - should be equal
        ok 17 - should be equivalent
        ok 18 - should be equal
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equivalent
        ok 22 - should be equal
        ok 23 - should not error
        ok 24 - should be equal
        ok 25 - should be equivalent
        ok 26 - should be equal
        ok 27 - should not error
        ok 28 - should be equal
        ok 29 - should be equivalent
        ok 30 - should be equal
    ok 30 - onSend hook is called after payload is serialized and headers are set # time=25.256ms
    
    # Subtest: modify payload
        1..10
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - expect truthy value
        ok 4 - should be equivalent
        ok 5 - expect truthy value
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
    ok 31 - modify payload # time=7.691ms
    
    # Subtest: clear payload
        1..6
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 32 - clear payload # time=5.128ms
    
    # Subtest: onSend hook throws
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 33 - onSend hook throws # time=16.682ms
    
    # Subtest: onSend hook should receive valid request and reply objects if onRequest hook fails
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 34 - onSend hook should receive valid request and reply objects if onRequest hook fails # time=15.716ms
    
    # Subtest: onSend hook should receive valid request and reply objects if a custom content type parser fails
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 35 - onSend hook should receive valid request and reply objects if a custom content type parser fails # time=13.709ms
    
    # Subtest: Content-Length header should be updated if onSend hook modifies the payload
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 36 - Content-Length header should be updated if onSend hook modifies the payload # time=4.393ms
    
    # Subtest: cannot add hook after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 37 - cannot add hook after binding # time=16.951ms
    
    # Subtest: onRequest hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 38 - onRequest hooks should be able to block a request # time=5.28ms
    
    # Subtest: preValidation hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 39 - preValidation hooks should be able to block a request # time=5.341ms
    
    # Subtest: preValidation hooks should be able to change request body before validation
        1..4
        ok 1 - (unnamed test)
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 40 - preValidation hooks should be able to change request body before validation # time=85.433ms
    
    # Subtest: preParsing hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 41 - preParsing hooks should be able to block a request # time=4.864ms
    
    # Subtest: preHandler hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 42 - preHandler hooks should be able to block a request # time=4.157ms
    
    # Subtest: onRequest hooks should be able to block a request (last hook)
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 43 - onRequest hooks should be able to block a request (last hook) # time=4.001ms
    
    # Subtest: preHandler hooks should be able to block a request (last hook)
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 44 - preHandler hooks should be able to block a request (last hook) # time=4.008ms
    
    # Subtest: preParsing hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 45 - preParsing hooks should handle errors # time=4.07ms
    
    # Subtest: onRequest respond with a stream
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 46 - onRequest respond with a stream # time=7.104ms
    
    # Subtest: preHandler respond with a stream
        1..7
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 47 - preHandler respond with a stream # time=5.928ms
    
    # Subtest: Register an hook after a plugin inside a plugin
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 48 - Register an hook after a plugin inside a plugin # time=6.838ms
    
    # Subtest: Register an hook after a plugin inside a plugin (with preHandler option)
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 49 - Register an hook after a plugin inside a plugin (with preHandler option) # time=6.038ms
    
    # Subtest: Register hooks inside a plugin after an encapsulated plugin
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 50 - Register hooks inside a plugin after an encapsulated plugin # time=6.331ms
    
    # Subtest: onRequest hooks should run in the order in which they are defined
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 51 - onRequest hooks should run in the order in which they are defined # time=7.78ms
    
    # Subtest: preHandler hooks should run in the order in which they are defined
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 52 - preHandler hooks should run in the order in which they are defined # time=7.19ms
    
    # Subtest: onSend hooks should run in the order in which they are defined
        1..8
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equivalent
    ok 53 - onSend hooks should run in the order in which they are defined # time=7.09ms
    
    # Subtest: onResponse hooks should run in the order in which they are defined
        1..8
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equivalent
    ok 54 - onResponse hooks should run in the order in which they are defined # time=7.136ms
    
    # Subtest: onRequest, preHandler, and onResponse hooks that resolve to a value do not cause an error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 55 - onRequest, preHandler, and onResponse hooks that resolve to a value do not cause an error # time=4.145ms
    
    # Subtest: If a response header has been set inside an hook it shoulod not be overwritten by the final response handler
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 56 - If a response header has been set inside an hook it shoulod not be overwritten by the final response handler # time=3.63ms
    
    # Subtest: If the content type has been set inside an hook it should not be changed
        1..5
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 57 - If the content type has been set inside an hook it should not be changed # time=3.684ms
    
    # Subtest: request in onRequest, preParsing, preValidation and onResponse
        1..18
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equivalent
        ok 10 - should be equivalent
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equivalent
        ok 14 - should be equivalent
        ok 15 - should be equivalent
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
    ok 58 - request in onRequest, preParsing, preValidation and onResponse # time=12.535ms
    
    # Subtest: preValidation hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 59 - preValidation hook should support encapsulation / 1 # time=20.514ms
    
    # Subtest: preValidation hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 60 - preValidation hook should support encapsulation / 2 # time=4.114ms
    
    # Subtest: preValidation hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 61 - preValidation hook should support encapsulation / 3 # time=36.41ms
    
    # Subtest: onError hook
        1..3
        ok 1 - should match pattern provided
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 62 - onError hook # time=4.731ms
    
    # Subtest: reply.send should throw if called inside the onError hook
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 63 - reply.send should throw if called inside the onError hook # time=4.465ms
    
    # Subtest: onError hook with setErrorHandler
        # Subtest: Send error
            1..3
            ok 1 - should match pattern provided
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 1 - Send error # time=4.66ms
        
        1..1
    ok 64 - onError hook with setErrorHandler # time=9.651ms
    
    # Subtest: preParsing hook should run before parsing and be able to modify the payload
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 65 - preParsing hook should run before parsing and be able to modify the payload # time=7.969ms
    
    # Subtest: preParsing hooks should run in the order in which they are defined
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 66 - preParsing hooks should run in the order in which they are defined # time=6.76ms
    
    # Subtest: preParsing hooks should support encapsulation
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 67 - preParsing hooks should support encapsulation # time=10.358ms
    
    # Subtest: preParsing hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 68 - preParsing hook should support encapsulation / 1 # time=5.47ms
    
    # Subtest: preParsing hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 69 - preParsing hook should support encapsulation / 2 # time=5.023ms
    
    # Subtest: preParsing hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 70 - preParsing hook should support encapsulation / 3 # time=10.054ms
    
    # Subtest: preSerialization hook should run before serialization and be able to modify the payload
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 71 - preSerialization hook should run before serialization and be able to modify the payload # time=12.738ms
    
    # Subtest: preSerialization hook should be able to throw errors which are validated against schema response
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        1..6
    ok 72 - preSerialization hook should be able to throw errors which are validated against schema response # time=9.058ms
    
    # Subtest: preSerialization hook which returned error should still run onError hooks
        1..4
        ok 1 - should not error
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - should be equal
    ok 73 - preSerialization hook which returned error should still run onError hooks # time=6.238ms
    
    # Subtest: preSerialization hooks should run in the order in which they are defined
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 74 - preSerialization hooks should run in the order in which they are defined # time=13.404ms
    
    # Subtest: preSerialization hooks should support encapsulation
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 75 - preSerialization hooks should support encapsulation # time=11.266ms
    
    # Subtest: onRegister hook should be called / 1
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should not error
    ok 76 - onRegister hook should be called / 1 # time=3.659ms
    
    # Subtest: onRegister hook should be called / 2
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
    ok 77 - onRegister hook should be called / 2 # time=4.569ms
    
    # Subtest: onRegister hook should be called / 3
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
    ok 78 - onRegister hook should be called / 3 # time=5.345ms
    
    # Subtest: onRegister hook should be called (encapsulation)
        1..1
        ok 1 - should not error
    ok 79 - onRegister hook should be called (encapsulation) # time=2.267ms
    
    # Subtest: early termination, onRequest
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 80 - early termination, onRequest # time=4.957ms
    
    # Subtest: reply.send should throw if undefined error is thrown
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 81 - reply.send should throw if undefined error is thrown # time=17.779ms
    
    # Subtest: reply.send should throw if undefined error is thrown at preParsing hook
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 82 - reply.send should throw if undefined error is thrown at preParsing hook # time=14.282ms
    
    # Subtest: reply.send should throw if undefined error is thrown at onSend hook
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 83 - reply.send should throw if undefined error is thrown at onSend hook # time=3.982ms
    
    # Subtest: onTimeout should be triggered
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - onTimeout
        ok 5 - type is Error
        ok 6 - should be equal
    ok 84 - onTimeout should be triggered # time=520.239ms
    
    # Subtest: onTimeout should be triggered and socket _meta is set
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - onTimeout
        ok 5 - type is Error
        ok 6 - should be equal
    ok 85 - onTimeout should be triggered and socket _meta is set # time=510.306ms
    
    1..85
    # time=2290.547ms
ok 36 - test/hooks.test.js # time=2290.547ms

# Subtest: test/http2/closing.test.js
    # Subtest: http/2 request while fastify closing
        ok 1 - http2 successfully loaded
        ok 2 - should not error
        # Subtest: return 200
            ok 1 - should be equal
            1..1
        ok 3 - return 200 # time=11.405ms
        
        1..3
    ok 1 - http/2 request while fastify closing # time=55.996ms
    
    # Subtest: http/2 request while fastify closing - return503OnClosing: false
        ok 1 - http2 successfully loaded
        ok 2 - should not error
        # Subtest: return 200
            ok 1 - should be equal
            1..1
        ok 3 - return 200 # time=4.703ms
        
        1..3
    ok 2 - http/2 request while fastify closing - return503OnClosing: false # time=13.055ms
    
    # Subtest: http/2 closes successfully with async await
        1..0
    ok 3 - http/2 closes successfully with async await # time=111.96ms
    
    # Subtest: https/2 closes successfully with async await
        1..0
    ok 4 - https/2 closes successfully with async await # time=12.47ms
    
    # Subtest: http/2 server side session emits a timeout event
        ok 1 - should be equal
        1..1
    ok 5 - http/2 server side session emits a timeout event # time=107.57ms
    
    1..5
    # time=327.246ms
ok 37 - test/http2/closing.test.js # time=327.246ms

# Subtest: test/http2/constraint.test.js
    # Subtest: A route supports host constraints under http2 protocol and secure connection
        1..5
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request - no constrain
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - https get request - no constrain # time=44.723ms
        
        # Subtest: https get request - constrain
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - https get request - constrain # time=14.934ms
        
        # Subtest: https get request - constrain - not found
            1..1
            ok 1 - should be equal
        ok 5 - https get request - constrain - not found # time=10.251ms
        
    ok 1 - A route supports host constraints under http2 protocol and secure connection # time=159.107ms
    
    1..1
    # time=189.799ms
ok 38 - test/http2/constraint.test.js # time=189.799ms

# Subtest: test/http2/head.test.js
    ok 1 - http2 successfully loaded
    ok 2 - should not error
    # Subtest: http HEAD request
        1..1
        ok 1 - should be equal
    ok 3 - http HEAD request # time=73.958ms
    
    1..3
    # time=152.559ms
ok 39 - test/http2/head.test.js # time=152.559ms

# Subtest: test/http2/missing-http2-module.test.js
    # Subtest: should throw when http2 module cannot be found
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - should throw when http2 module cannot be found # time=11.315ms
    
    1..1
    # time=17.008ms
ok 40 - test/http2/missing-http2-module.test.js # time=17.008ms

# Subtest: test/http2/plain.test.js
    ok 1 - http2 successfully loaded
    ok 2 - should not error
    # Subtest: http get request
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 3 - http get request # time=35.051ms
    
    # Subtest: http hostname
        1..1
        ok 1 - should be equal
    ok 4 - http hostname # time=15.372ms
    
    1..4
    # time=133.517ms
ok 41 - test/http2/plain.test.js # time=133.517ms

# Subtest: test/http2/secure-with-fallback.test.js
    # Subtest: secure with fallback
        1..7
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get error
            1..1
            ok 1 - should be equal
        ok 3 - https get error # time=39.657ms
        
        # Subtest: https post
            1..2
            ok 1 - should be equal
            ok 2 - should be equivalent
        ok 4 - https post # time=18.788ms
        
        # Subtest: https get request
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - https get request # time=11.407ms
        
        # Subtest: http1 get request
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 6 - http1 get request # time=19.276ms
        
        # Subtest: http1 get error
            1..2
            ok 1 - should not error
            ok 2 - should be equal
        ok 7 - http1 get error # time=7.806ms
        
    ok 1 - secure with fallback # time=206.145ms
    
    1..1
    # time=236.203ms
ok 42 - test/http2/secure-with-fallback.test.js # time=236.203ms

# Subtest: test/http2/secure.test.js
    # Subtest: secure
        1..4
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - https get request # time=39.374ms
        
        # Subtest: https get request without trust proxy - protocol
            1..2
            ok 1 - should be equivalent
            ok 2 - should be equivalent
        ok 4 - https get request without trust proxy - protocol # time=21.204ms
        
    ok 1 - secure # time=156.077ms
    
    1..1
    # time=193.434ms
ok 43 - test/http2/secure.test.js # time=193.434ms

# Subtest: test/http2/unknown-http-method.test.js
    ok 1 - should not error
    # Subtest: http UNKNOWN_METHOD request
        1..2
        ok 1 - should be equal
        ok 2 - should be equivalent
    ok 2 - http UNKNOWN_METHOD request # time=34.213ms
    
    1..2
    # time=92.099ms
ok 44 - test/http2/unknown-http-method.test.js # time=92.099ms

# Subtest: test/https/custom-https-server.test.js
    # Subtest: Should support a custom https server
        1..4
        ok 1 - it is called twice for every HOST interface
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - Should support a custom https server # time=152.495ms
    
    1..1
    # time=185ms
ok 45 - test/https/custom-https-server.test.js # time=185ms

# Subtest: test/https/https.test.js
    # Subtest: https
        1..4
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 3 - https get request # time=41.213ms
        
        # Subtest: https get request without trust proxy - protocol
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 4 - https get request without trust proxy - protocol # time=16.407ms
        
    ok 1 - https # time=142.614ms
    
    1..1
    # time=172.583ms
ok 46 - test/https/https.test.js # time=172.583ms

# Subtest: test/imports.test.js
    # Subtest: should import as default
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 1 - should import as default # time=702.805ms
    
    # Subtest: should import as esm
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 2 - should import as esm # time=1.538ms
    
    1..2
    # time=714.123ms
ok 47 - test/imports.test.js # time=714.123ms

# Subtest: test/inject.test.js
    # Subtest: inject should exist
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 1 - inject should exist # time=15.563ms
    
    # Subtest: should wait for the ready event
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 2 - should wait for the ready event # time=601.861ms
    
    # Subtest: inject get request
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 3 - inject get request # time=7.978ms
    
    # Subtest: inject get request - code check
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 4 - inject get request - code check # time=21.78ms
    
    # Subtest: inject get request - headers check
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 5 - inject get request - headers check # time=7.125ms
    
    # Subtest: inject get request - querystring
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 6 - inject get request - querystring # time=7.044ms
    
    # Subtest: inject get request - params
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 7 - inject get request - params # time=6.589ms
    
    # Subtest: inject get request - wildcard
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - inject get request - wildcard # time=7.815ms
    
    # Subtest: inject get request - headers
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 9 - inject get request - headers # time=10.514ms
    
    # Subtest: inject post request
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 10 - inject post request # time=11.687ms
    
    # Subtest: inject post request - send stream
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 11 - inject post request - send stream # time=9.556ms
    
    # Subtest: inject get request - reply stream
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 12 - inject get request - reply stream # time=17.907ms
    
    # Subtest: inject promisify - waiting for ready event
        1..1
        ok 1 - should be equal
    ok 13 - inject promisify - waiting for ready event # time=6.464ms
    
    # Subtest: inject promisify - after the ready event
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 14 - inject promisify - after the ready event # time=25.884ms
    
    # Subtest: inject promisify - when the server is up
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 15 - inject promisify - when the server is up # time=17.02ms
    
    # Subtest: should reject in error case
        1..1
        ok 1 - should be equal
    ok 16 - should reject in error case # time=505.311ms
    
    # Subtest: inject a multipart request using form-body
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 17 - inject a multipart request using form-body # time=15.231ms
    
    # Subtest: should error the promise if ready errors
        1..3
        ok 1 - after is called
        ok 2 - expect truthy value
        ok 3 - should be equal
    ok 18 - should error the promise if ready errors # time=11.937ms
    
    # Subtest: should throw error if callback specified and if ready errors
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 19 - should throw error if callback specified and if ready errors # time=4.839ms
    
    # Subtest: should support builder-style injection with ready app
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
    ok 20 - should support builder-style injection with ready app # time=20.295ms
    
    # Subtest: should support builder-style injection with non-ready app
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
    ok 21 - should support builder-style injection with non-ready app # time=5.283ms
    
    # Subtest: should handle errors in builder-style injection correctly
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 22 - should handle errors in builder-style injection correctly # time=3.866ms
    
    1..22
    # time=1361.122ms
ok 48 - test/inject.test.js # time=1361.122ms

# Subtest: test/internals/all.test.js
    # Subtest: fastify.all should add all the methods to the same url
        1..14
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equivalent
    ok 1 - fastify.all should add all the methods to the same url # time=83.178ms
    
    1..1
    # time=88.636ms
ok 49 - test/internals/all.test.js # time=88.636ms

# Subtest: test/internals/contentTypeParser.test.js
    # Subtest: rawBody function
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - rawBody function # time=28.473ms
    
    # Subtest: Should support Webpack and faux modules
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - Should support Webpack and faux modules # time=9.621ms
    
    1..2
    # time=45.066ms
ok 50 - test/internals/contentTypeParser.test.js # time=45.066ms

# Subtest: test/internals/decorator.test.js
    # Subtest: decorate should add the given method to its instance
        1..1
        ok 1 - expect truthy value
    ok 1 - decorate should add the given method to its instance # time=6.264ms
    
    # Subtest: decorate is chainable
        1..3
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
    ok 2 - decorate is chainable # time=2.459ms
    
    # Subtest: checkExistence should check if a property is part of the given instance
        1..1
        ok 1 - expect truthy value
    ok 3 - checkExistence should check if a property is part of the given instance # time=1.551ms
    
    # Subtest: checkExistence should find the instance if not given
        1..1
        ok 1 - expect truthy value
    ok 4 - checkExistence should find the instance if not given # time=3.202ms
    
    # Subtest: checkExistence should check the prototype as well
        1..1
        ok 1 - expect truthy value
    ok 5 - checkExistence should check the prototype as well # time=1.213ms
    
    # Subtest: checkDependencies should throw if a dependency is not present
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 6 - checkDependencies should throw if a dependency is not present # time=2.091ms
    
    # Subtest: decorate should internally call checkDependencies
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 7 - decorate should internally call checkDependencies # time=0.934ms
    
    # Subtest: decorate should recognize getter/setter objects
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - (unnamed test)
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 8 - decorate should recognize getter/setter objects # time=1.569ms
    
    1..8
    # time=69.595ms
ok 51 - test/internals/decorator.test.js # time=69.595ms

# Subtest: test/internals/handleRequest.test.js
    # Subtest: handleRequest function - sent reply
        1..1
        ok 1 - should be equal
    ok 1 - handleRequest function - sent reply # time=6.072ms
    
    # Subtest: handleRequest function - invoke with error
        1..1
        ok 1 - should be equal
    ok 2 - handleRequest function - invoke with error # time=1.353ms
    
    # Subtest: handler function - invalid schema
        1..1
        ok 1 - errorHandler called
    ok 3 - handler function - invalid schema # time=67.364ms
    
    # Subtest: handler function - reply
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - (unnamed test)
    ok 4 - handler function - reply # time=2.801ms
    
    # Subtest: handler function - preValidationCallback with finished response
        1..0
    ok 5 - handler function - preValidationCallback with finished response # time=0.763ms
    
    # Subtest: request should be defined in onSend Hook on post request with content type application/json
        1..8
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - should not error
        ok 8 - should be equal
    ok 6 - request should be defined in onSend Hook on post request with content type application/json # time=324.614ms
    
    # Subtest: request should be defined in onSend Hook on post request with content type application/x-www-form-urlencoded
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - should be equal
    ok 7 - request should be defined in onSend Hook on post request with content type application/x-www-form-urlencoded # time=12.528ms
    
    # Subtest: request should be defined in onSend Hook on options request with content type application/x-www-form-urlencoded
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - should be equal
    ok 8 - request should be defined in onSend Hook on options request with content type application/x-www-form-urlencoded # time=25.111ms
    
    # Subtest: request should respond with an error if an unserialized payload is sent inside an async handler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
    ok 9 - request should respond with an error if an unserialized payload is sent inside an async handler # time=35.513ms
    
    1..9
    # time=497.832ms
ok 52 - test/internals/handleRequest.test.js # time=497.832ms

# Subtest: test/internals/hookRunner.test.js
    # Subtest: hookRunner - Basic
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 1 - hookRunner - Basic # time=8.955ms
    
    # Subtest: hookRunner - In case of error should skip to done
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 2 - hookRunner - In case of error should skip to done # time=2.771ms
    
    # Subtest: hookRunner - Should handle throw
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 3 - hookRunner - Should handle throw # time=3.182ms
    
    # Subtest: hookRunner - Should handle promises
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 4 - hookRunner - Should handle promises # time=26.519ms
    
    # Subtest: hookRunner - In case of error should skip to done (with promises)
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 5 - hookRunner - In case of error should skip to done (with promises) # time=2.46ms
    
    # Subtest: hookRunner - Be able to exit before its natural end
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 6 - hookRunner - Be able to exit before its natural end # time=1.33ms
    
    # Subtest: hookRunner - Promises that resolve to a value do not change the state
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 7 - hookRunner - Promises that resolve to a value do not change the state # time=1.563ms
    
    # Subtest: onSendHookRunner - Basic
        1..13
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equal
        ok 10 - should not error
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equal
    ok 8 - onSendHookRunner - Basic # time=8.303ms
    
    # Subtest: onSendHookRunner - Can change the payload
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 9 - onSendHookRunner - Can change the payload # time=3.722ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 10 - onSendHookRunner - In case of error should skip to done # time=2.378ms
    
    # Subtest: onSendHookRunner - Should handle promises
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 11 - onSendHookRunner - Should handle promises # time=2.762ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done (with promises)
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 12 - onSendHookRunner - In case of error should skip to done (with promises) # time=2.65ms
    
    # Subtest: onSendHookRunner - Be able to exit before its natural end
        1..2
        ok 1 - should be equivalent
        ok 2 - should be equivalent
    ok 13 - onSendHookRunner - Be able to exit before its natural end # time=0.974ms
    
    1..13
    # time=111.074ms
ok 53 - test/internals/hookRunner.test.js # time=111.074ms

# Subtest: test/internals/hooks.test.js
    # Subtest: hooks should have 4 array with the registered hooks
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        1..8
    ok 1 - hooks should have 4 array with the registered hooks # time=9.378ms
    
    # Subtest: hooks.add should add a hook to the given hook
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        1..14
    ok 2 - hooks.add should add a hook to the given hook # time=6.872ms
    
    # Subtest: hooks should throw on unexisting handler
        1..1
        ok 1 - (unnamed test)
    ok 3 - hooks should throw on unexisting handler # time=1.436ms
    
    # Subtest: should throw on wrong parameters
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 4 - should throw on wrong parameters # time=2.746ms
    
    1..4
    # time=37.839ms
ok 54 - test/internals/hooks.test.js # time=37.839ms

# Subtest: test/internals/initialConfig.test.js
    # Subtest: Fastify.initialConfig is an object
        1..1
        ok 1 - type is object
    ok 1 - Fastify.initialConfig is an object # time=15.961ms
    
    # Subtest: without options passed to Fastify, initialConfig should expose default values
        1..1
        ok 1 - should be equivalent
    ok 2 - without options passed to Fastify, initialConfig should expose default values # time=8.754ms
    
    # Subtest: Fastify.initialConfig should expose all options
        1..20
        ok 1 - should be equal
        ok 2 - for security reason the key cert is hidden
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - expect truthy value
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equal
    ok 3 - Fastify.initialConfig should expose all options # time=12.928ms
    
    # Subtest: Should throw if you try to modify Fastify.initialConfig
        1..4
        ok 1 - type is TypeError
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - (unnamed test)
    ok 4 - Should throw if you try to modify Fastify.initialConfig # time=3.732ms
    
    # Subtest: We must avoid shallow freezing and ensure that the whole object is freezed
        1..4
        ok 1 - type is TypeError
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - key cert removed
    ok 5 - We must avoid shallow freezing and ensure that the whole object is freezed # time=17.355ms
    
    # Subtest: https value check
        1..1
        ok 1 - expect falsey value
    ok 6 - https value check # time=1.843ms
    
    # Subtest: Return an error if options do not match the validation schema
        1..6
        ok 1 - type is Error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
        ok 6 - (unnamed test)
    ok 7 - Return an error if options do not match the validation schema # time=54.169ms
    
    # Subtest: Original options must not be frozen
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - Original options must not be frozen # time=3.565ms
    
    # Subtest: Original options must not be altered (test deep cloning)
        1..3
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 9 - Original options must not be altered (test deep cloning) # time=5.477ms
    
    # Subtest: Should not have issues when passing stream options to Pino.js
        1..15
        ok 1 - type is object
        ok 2 - should be equivalent
        ok 3 - listen at log message is ok
        ok 4 - should not error
        ok 5 - reqId is defined
        ok 6 - req is defined
        ok 7 - message is set
        ok 8 - method is get
        ok 9 - expect truthy value
        ok 10 - should be equal
        ok 11 - reqId is defined
        ok 12 - res is defined
        ok 13 - message is set
        ok 14 - statusCode is 200
        ok 15 - responseTime is defined
    ok 10 - Should not have issues when passing stream options to Pino.js # time=44.167ms
    
    # Subtest: deepFreezeObject() should not throw on TypedArray
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - (unnamed test)
    ok 11 - deepFreezeObject() should not throw on TypedArray # time=2.248ms
    
    # Subtest: Fastify.initialConfig should accept the deprecated versioning option
        1..1
        ok 1 - should be equal
    ok 12 - Fastify.initialConfig should accept the deprecated versioning option # time=5.227ms
    
    # Subtest: pluginTimeout should be parsed correctly
        ok 1 - should be equal
        ok 2 - should be equal
        1..2
    ok 13 - pluginTimeout should be parsed correctly # time=3.576ms
    
    1..13
    # time=261.792ms
ok 55 - test/internals/initialConfig.test.js # time=261.792ms

# Subtest: test/internals/logger.test.js
    # Subtest: time resolution
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - time resolution # time=6.708ms
    
    # Subtest: The logger should add a unique id for every request
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - the id should not be duplicated
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - the id should not be duplicated
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - the id should not be duplicated
        ok 11 - expect truthy value
        ok 12 - should not error
        ok 13 - the id should not be duplicated
        ok 14 - expect truthy value
        ok 15 - should not error
        ok 16 - the id should not be duplicated
        ok 17 - expect truthy value
        ok 18 - should not error
        ok 19 - the id should not be duplicated
        ok 20 - expect truthy value
        ok 21 - should not error
        ok 22 - the id should not be duplicated
        ok 23 - expect truthy value
        ok 24 - should not error
        ok 25 - the id should not be duplicated
        ok 26 - expect truthy value
        ok 27 - should not error
        ok 28 - the id should not be duplicated
        ok 29 - expect truthy value
        ok 30 - should not error
        ok 31 - the id should not be duplicated
        1..31
    ok 2 - The logger should add a unique id for every request # time=73.313ms
    
    # Subtest: The logger should reuse request id header for req.id
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - the request id from the header should be returned
        1..4
    ok 3 - The logger should reuse request id header for req.id # time=8.172ms
    
    # Subtest: The logger should error if both stream and file destination are given
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - The logger should error if both stream and file destination are given # time=1.424ms
    
    # Subtest: The serializer prevent fails if the request socket is undefined
        1..1
        ok 1 - should be equivalent
    ok 5 - The serializer prevent fails if the request socket is undefined # time=4.47ms
    
    1..5
    # time=104.087ms
ok 56 - test/internals/logger.test.js # time=104.087ms

# Subtest: test/internals/plugin.test.js
    # Subtest: shouldSkipOverride should check the 'skip-override' symbol
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 1 - shouldSkipOverride should check the 'skip-override' symbol # time=6.181ms
    
    # Subtest: getPluginName should return plugin name if the file is cached
        1..1
        ok 1 - should be equal
    ok 2 - getPluginName should return plugin name if the file is cached # time=1.752ms
    
    # Subtest: getMeta should return the object stored with the 'plugin-meta' symbol
        1..1
        ok 1 - should be equivalent
    ok 3 - getMeta should return the object stored with the 'plugin-meta' symbol # time=4.638ms
    
    # Subtest: checkDecorators should check if the given decorator is present in the instance
        1..1
        ok 1 - Everything ok
    ok 4 - checkDecorators should check if the given decorator is present in the instance # time=1.614ms
    
    # Subtest: checkDecorators should check if the given decorator is present in the instance (errored)
        1..1
        ok 1 - should be equal
    ok 5 - checkDecorators should check if the given decorator is present in the instance (errored) # time=1.153ms
    
    # Subtest: checkDecorators should accept optional decorators
        1..1
        ok 1 - Everything ok
    ok 6 - checkDecorators should accept optional decorators # time=0.711ms
    
    # Subtest: checkDependencies should check if the given dependency is present in the instance
        1..1
        ok 1 - Everything ok
    ok 7 - checkDependencies should check if the given dependency is present in the instance # time=0.926ms
    
    # Subtest: checkDependencies should check if the given dependency is present in the instance (errored)
        1..1
        ok 1 - should be equal
    ok 8 - checkDependencies should check if the given dependency is present in the instance (errored) # time=16.479ms
    
    1..8
    # time=99.576ms
ok 57 - test/internals/plugin.test.js # time=99.576ms

# Subtest: test/internals/reply-serialize.test.js
    # Subtest: Reply\#compileSerializationSchema
        1..4
        # Subtest: Should return a serialization function
            1..4
            ok 1 - type is Function
            ok 2 - type is string
            ok 3 - should be equal
            ok 4 - should be equal
        ok 1 - Should return a serialization function # time=83.027ms
        
        # Subtest: Should reuse the serialize fn across multiple invocations - Route without schema
            1..17
            ok 1 - build the schema compilation function
            ok 2 - type is Function
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - Are the same validate function
            ok 6 - type is Function
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - Are the same validate function
            ok 10 - type is Function
            ok 11 - should be equal
            ok 12 - should be equal
            ok 13 - Are the same validate function
            ok 14 - type is Function
            ok 15 - should be equal
            ok 16 - should be equal
            ok 17 - should be equal
        ok 2 - Should reuse the serialize fn across multiple invocations - Route without schema # time=16.587ms
        
        # Subtest: Should use the custom serializer compiler for the route
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equivalent
            ok 7 - {"hello":"world"}
            ok 8 - should be equivalent
            ok 9 - {"hello":"world"}
            ok 10 - should be equal
        ok 3 - Should use the custom serializer compiler for the route # time=15.584ms
        
        # Subtest: Should build a WeakMap for cache when called
            1..4
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
            ok 4 - should be equal
        ok 4 - Should build a WeakMap for cache when called # time=8.618ms
        
    ok 1 - Reply\#compileSerializationSchema # time=142.259ms
    
    # Subtest: Reply\#getSerializationFunction
        1..3
        # Subtest: Should retrieve the serialization function from the Schema definition
            1..9
            ok 1 - type is Function
            ok 2 - type is Function
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - expect falsey value
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
        ok 1 - Should retrieve the serialization function from the Schema definition # time=22.589ms
        
        # Subtest: Should retrieve the serialization function from the cached one
            1..6
            ok 1 - type is Function
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
        ok 2 - Should retrieve the serialization function from the cached one # time=8.725ms
        
        # Subtest: Should not instantiate a WeakMap if it is not needed
            1..4
            ok 1 - expect falsey value
            ok 2 - should be equal
            ok 3 - expect falsey value
            ok 4 - should be equal
        ok 3 - Should not instantiate a WeakMap if it is not needed # time=22.58ms
        
    ok 2 - Reply\#getSerializationFunction # time=63.876ms
    
    # Subtest: Reply\#serializeInput
        1..5
        # Subtest: Should throw if missed serialization function from HTTP status
            1..2
            ok 1 - should be equal
            ok 2 - should be equivalent
        ok 1 - Should throw if missed serialization function from HTTP status # time=25.052ms
        
        # Subtest: Should use a serializer fn from HTTP status
            1..4
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
        ok 2 - Should use a serializer fn from HTTP status # time=15.705ms
        
        # Subtest: Should compile a serializer out of a schema if serializer fn missed
            1..10
            ok 1 - should be equal
            ok 2 - expect falsey value
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 3 - Should compile a serializer out of a schema if serializer fn missed # time=9.113ms
        
        # Subtest: Should use a cached serializer fn
            1..12
            ok 1 - should be equal
            ok 2 - expect falsey value
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
            ok 11 - should be equal
            ok 12 - should be equal
        ok 4 - Should use a cached serializer fn # time=8.288ms
        
        # Subtest: Should instantiate a WeakMap after first call
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
        ok 5 - Should instantiate a WeakMap after first call # time=6.289ms
        
    ok 3 - Reply\#serializeInput # time=83.839ms
    
    1..3
    # time=336.926ms
ok 58 - test/internals/reply-serialize.test.js # time=336.926ms

# Subtest: test/internals/reply.test.js
    # Subtest: Once called, Reply should return an object with methods
        1..13
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should be equal
        ok 13 - should be equal
    ok 1 - Once called, Reply should return an object with methods # time=13.453ms
    
    # Subtest: reply.send will logStream error and destroy the stream
        1..1
        ok 1 - Error not logged and not streamed
    ok 2 - reply.send will logStream error and destroy the stream # time=22.372ms
    
    # Subtest: reply.send throw with circular JSON
        1..1
        ok 1 - Converting circular structure to JSON
    ok 3 - reply.send throw with circular JSON # time=2.101ms
    
    # Subtest: reply.send returns itself
        1..1
        ok 1 - should be equal
    ok 4 - reply.send returns itself # time=1.767ms
    
    # Subtest: reply.serializer should set a custom serializer
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 5 - reply.serializer should set a custom serializer # time=1.494ms
    
    # Subtest: reply.serializer should support running preSerialization hooks
        1..3
        ok 1 - preSerialization
        ok 2 - should not error
        ok 3 - should be equal
    ok 6 - reply.serializer should support running preSerialization hooks # time=753.751ms
    
    # Subtest: reply.serialize should serialize payload
        1..1
        ok 1 - should be equal
    ok 7 - reply.serialize should serialize payload # time=2.867ms
    
    # Subtest: reply.serialize should serialize payload with a custom serializer
        1..2
        ok 1 - should be equal
        ok 2 - custom serializer not called
    ok 8 - reply.serialize should serialize payload with a custom serializer # time=0.83ms
    
    # Subtest: reply.serialize should serialize payload with a context default serializer
        1..2
        ok 1 - should be equal
        ok 2 - custom serializer not called
    ok 9 - reply.serialize should serialize payload with a context default serializer # time=0.969ms
    
    # Subtest: reply.serialize should serialize payload with Fastify instance
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - reply.serialize should serialize payload with Fastify instance # time=20.295ms
    
    # Subtest: within an instance
        ok 1 - should not error
        # Subtest: custom serializer should be used
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - custom serializer should be used # time=46.506ms
        
        # Subtest: status code and content-type should be correct
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 3 - status code and content-type should be correct # time=11.68ms
        
        # Subtest: auto status code shoud be 200
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - auto status code shoud be 200 # time=4.789ms
        
        # Subtest: auto type shoud be text/plain
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - auto type shoud be text/plain # time=4.432ms
        
        # Subtest: redirect to `/` - 1
            1..1
            ok 1 - should be equal
        ok 6 - redirect to `/` - 1 # time=3.619ms
        
        # Subtest: redirect to `/` - 2
            1..1
            ok 1 - should be equal
        ok 7 - redirect to `/` - 2 # time=3.404ms
        
        # Subtest: redirect to `/` - 3
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 8 - redirect to `/` - 3 # time=12.792ms
        
        # Subtest: redirect to `/` - 4
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 9 - redirect to `/` - 4 # time=7.193ms
        
        # Subtest: redirect to `/` - 5
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
        ok 10 - redirect to `/` - 5 # time=3.25ms
        
        # Subtest: redirect to `/` - 6
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 11 - redirect to `/` - 6 # time=6.285ms
        
        # Subtest: redirect to `/` - 7
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 12 - redirect to `/` - 7 # time=6.572ms
        
        # Subtest: redirect to `/` - 8
            1..1
            ok 1 - should be equal
        ok 13 - redirect to `/` - 8 # time=2.787ms
        
        # Subtest: redirect to `/` - 9
            1..1
            ok 1 - should be equal
        ok 14 - redirect to `/` - 9 # time=2.998ms
        
        # Subtest: redirect with async function to `/` - 10
            1..1
            ok 1 - should be equal
        ok 15 - redirect with async function to `/` - 10 # time=3.013ms
        
        1..15
    ok 11 - within an instance # time=197.132ms
    
    # Subtest: buffer without content type should send a application/octet-stream and raw buffer
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 12 - buffer without content type should send a application/octet-stream and raw buffer # time=26.886ms
    
    # Subtest: buffer with content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 13 - buffer with content type should not send application/octet-stream # time=8.592ms
    
    # Subtest: stream with content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 14 - stream with content type should not send application/octet-stream # time=38.876ms
    
    # Subtest: stream without content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 15 - stream without content type should not send application/octet-stream # time=79.344ms
    
    # Subtest: stream using reply.raw.writeHead should return customize headers
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 16 - stream using reply.raw.writeHead should return customize headers # time=37.383ms
    
    # Subtest: plain string without content type should send a text/plain
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 17 - plain string without content type should send a text/plain # time=20.67ms
    
    # Subtest: plain string with content type should be sent unmodified
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - plain string with content type should be sent unmodified # time=18.144ms
    
    # Subtest: plain string with content type and custom serializer should be serialized
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 19 - plain string with content type and custom serializer should be serialized # time=7.789ms
    
    # Subtest: plain string with content type application/json should NOT be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 20 - plain string with content type application/json should NOT be serialized as json # time=8.295ms
    
    # Subtest: plain string with custom json content type should NOT be serialized as json
        1..19
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equivalent
    ok 21 - plain string with custom json content type should NOT be serialized as json # time=21.536ms
    
    # Subtest: non-string with content type application/json SHOULD be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 22 - non-string with content type application/json SHOULD be serialized as json # time=25.247ms
    
    # Subtest: non-string with custom json's content-type SHOULD be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 23 - non-string with custom json's content-type SHOULD be serialized as json # time=19.505ms
    
    # Subtest: non-string with custom json content type SHOULD be serialized as json
        1..16
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 24 - non-string with custom json content type SHOULD be serialized as json # time=15.818ms
    
    # Subtest: error object with a content type that is not application/json should work
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 25 - error object with a content type that is not application/json should work # time=7.399ms
    
    # Subtest: undefined payload should be sent as-is
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 26 - undefined payload should be sent as-is # time=10.129ms
    
    # Subtest: for HEAD method, no body should be sent but content-length should be
        1..11
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
    ok 27 - for HEAD method, no body should be sent but content-length should be # time=8.964ms
    
    # Subtest: reply.send(new NotFound()) should not invoke the 404 handler
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 28 - reply.send(new NotFound()) should not invoke the 404 handler # time=12.658ms
    
    # Subtest: reply can set multiple instances of same header
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - expect truthy value
        ok 4 - should be equivalent strictly
    ok 29 - reply can set multiple instances of same header # time=7.179ms
    
    # Subtest: reply.hasHeader returns correct values
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 30 - reply.hasHeader returns correct values # time=5.063ms
    
    # Subtest: reply.getHeader returns correct values
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
        ok 4 - should be equivalent strictly
    ok 31 - reply.getHeader returns correct values # time=14.116ms
    
    # Subtest: reply.getHeader returns raw header if there is not in the reply headers
        1..1
        ok 1 - should be equal
    ok 32 - reply.getHeader returns raw header if there is not in the reply headers # time=0.716ms
    
    # Subtest: reply.getHeaders returns correct values
        1..3
        ok 1 - should be equivalent strictly
        ok 2 - should be equivalent strictly
        ok 3 - should not error
    ok 33 - reply.getHeaders returns correct values # time=4.932ms
    
    # Subtest: reply.removeHeader can remove the value
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent strictly
        ok 5 - (unnamed test)
    ok 34 - reply.removeHeader can remove the value # time=11.159ms
    
    # Subtest: reply.header can reset the value
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent strictly
        ok 3 - (unnamed test)
    ok 35 - reply.header can reset the value # time=5.485ms
    
    # Subtest: reply.hasHeader computes raw and fastify headers
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - (unnamed test)
    ok 36 - reply.hasHeader computes raw and fastify headers # time=4.844ms
    
    # Subtest: Reply should handle JSON content type with a charset
        1..16
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should not error
        ok 16 - should be equal
    ok 37 - Reply should handle JSON content type with a charset # time=16.932ms
    
    # Subtest: Content type and charset set previously
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 38 - Content type and charset set previously # time=4.449ms
    
    # Subtest: .status() is an alias for .code()
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 39 - .status() is an alias for .code() # time=4.002ms
    
    # Subtest: .statusCode is getter and setter
        1..4
        ok 1 - 200
        ok 2 - 418
        ok 3 - should not error
        ok 4 - should be equal
    ok 40 - .statusCode is getter and setter # time=6.541ms
    
    # Subtest: reply.header setting multiple cookies as multiple Set-Cookie headers
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equivalent strictly
        ok 4 - should not error
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - should be equivalent strictly
    ok 41 - reply.header setting multiple cookies as multiple Set-Cookie headers # time=23.888ms
    
    # Subtest: should emit deprecation warning when trying to modify the reply.sent property
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 42 - should emit deprecation warning when trying to modify the reply.sent property # time=4.671ms
    
    # Subtest: should throw error when passing falsy value to reply.sent
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 43 - should throw error when passing falsy value to reply.sent # time=4.206ms
    
    # Subtest: should throw error when attempting to set reply.sent more than once
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 44 - should throw error when attempting to set reply.sent more than once # time=4.276ms
    
    # Subtest: should not throw error when attempting to set reply.sent if the underlining request was sent
        1..3
        ok 1 - expected to not throw
        ok 2 - should not error
        ok 3 - (unnamed test)
    ok 45 - should not throw error when attempting to set reply.sent if the underlining request was sent # time=7.178ms
    
    # Subtest: reply.getResponseTime() should return 0 before the timer is initialised on the reply by setting up response listeners
        1..1
        ok 1 - should be equal
    ok 46 - reply.getResponseTime() should return 0 before the timer is initialised on the reply by setting up response listeners # time=0.822ms
    
    # Subtest: reply.getResponseTime() should return a number greater than 0 after the timer is initialised on the reply by setting up response listeners
        1..1
        ok 1 - expect truthy value
    ok 47 - reply.getResponseTime() should return a number greater than 0 after the timer is initialised on the reply by setting up response listeners # time=4.184ms
    
    # Subtest: reply.getResponseTime() should return the time since a request started while inflight
        1..1
        ok 1 - should not be equal
    ok 48 - reply.getResponseTime() should return the time since a request started while inflight # time=3.519ms
    
    # Subtest: reply.getResponseTime() should return the same value after a request is finished
        1..1
        ok 1 - should be equal
    ok 49 - reply.getResponseTime() should return the same value after a request is finished # time=3.569ms
    
    # Subtest: reply should use the custom serializer
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 50 - reply should use the custom serializer # time=6.442ms
    
    # Subtest: reply should use the right serializer in encapsulated context
        1..9
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 51 - reply should use the right serializer in encapsulated context # time=15.945ms
    
    # Subtest: reply should use the right serializer in deep encapsulated context
        1..8
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 52 - reply should use the right serializer in deep encapsulated context # time=9.741ms
    
    # Subtest: reply should use the route serializer
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equal
    ok 53 - reply should use the route serializer # time=4.018ms
    
    # Subtest: cannot set the replySerializer when the server is running
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 54 - cannot set the replySerializer when the server is running # time=11.757ms
    
    # Subtest: reply should not call the custom serializer for errors and not found
        1..9
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 55 - reply should not call the custom serializer for errors and not found # time=8.176ms
    
    # Subtest: reply.then
        1..4
        # Subtest: without an error
            1..1
            ok 1 - fulfilled called
        ok 1 - without an error # time=11.045ms
        
        # Subtest: with an error
            1..1
            ok 1 - should be equal
        ok 2 - with an error # time=1.498ms
        
        # Subtest: with error but without reject callback
            1..1
            ok 1 - (unnamed test)
        ok 3 - with error but without reject callback # time=0.93ms
        
        # Subtest: with error, without reject callback, with logger
            1..1
            ok 1 - should be equal
        ok 4 - with error, without reject callback, with logger # time=1.566ms
        
    ok 56 - reply.then # time=22.196ms
    
    # Subtest: reply.sent should read from response.writableEnded if it is defined
        1..1
        ok 1 - should be equal
    ok 57 - reply.sent should read from response.writableEnded if it is defined # time=0.76ms
    
    # Subtest: redirect to an invalid URL should not crash the server
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        1..7
    ok 58 - redirect to an invalid URL should not crash the server # time=13.999ms
    
    # Subtest: invalid response headers should not crash the server
        ok 1 - only the first invalid header is logged
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 59 - invalid response headers should not crash the server # time=7.399ms
    
    # Subtest: invalid response headers when sending back an error
        ok 1 - only the first invalid header is logged
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 60 - invalid response headers when sending back an error # time=24.856ms
    
    # Subtest: invalid response headers and custom error handler
        ok 1 - custom error handler receives the error
        ok 2 - only the first invalid header is logged
        ok 3 - should be equal
        ok 4 - should be equivalent
        1..4
    ok 61 - invalid response headers and custom error handler # time=7.841ms
    
    1..61
    # time=1735.408ms
ok 59 - test/internals/reply.test.js # time=1735.408ms

# Subtest: test/internals/request-validate.test.js
    # Subtest: \#compileValidationSchema
        1..5
        # Subtest: Should return a function - Route without schema
            1..3
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
        ok 1 - Should return a function - Route without schema # time=210.684ms
        
        # Subtest: Should reuse the validate fn across multiple invocations - Route without schema
            1..16
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
            ok 4 - Are the same validate function
            ok 5 - type is Function
            ok 6 - expect truthy value
            ok 7 - expect falsey value
            ok 8 - Are the same validate function
            ok 9 - type is Function
            ok 10 - expect truthy value
            ok 11 - expect falsey value
            ok 12 - Are the same validate function
            ok 13 - type is Function
            ok 14 - expect truthy value
            ok 15 - expect falsey value
            ok 16 - should be equal
        ok 2 - Should reuse the validate fn across multiple invocations - Route without schema # time=82.857ms
        
        # Subtest: Should return a function - Route with schema
            1..3
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
        ok 3 - Should return a function - Route with schema # time=91.104ms
        
        # Subtest: Should use the custom validator compiler for the route
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equivalent
            ok 7 - expect truthy value
            ok 8 - should be equivalent
            ok 9 - expect truthy value
            ok 10 - should be equal
        ok 4 - Should use the custom validator compiler for the route # time=13.092ms
        
        # Subtest: Should instantiate a WeakMap when executed for first time
            1..5
            ok 1 - should be equal
            ok 2 - type is Function
            ok 3 - type is WeakMap
            ok 4 - type is Function
            ok 5 - type is WeakMap
        ok 5 - Should instantiate a WeakMap when executed for first time # time=34.049ms
        
    ok 1 - \#compileValidationSchema # time=461.589ms
    
    # Subtest: \#getValidationFunction
        1..4
        # Subtest: Should return a validation function
            1..1
            ok 1 - should be equal
        ok 1 - Should return a validation function # time=71.279ms
        
        # Subtest: Should return undefined if no schema compiled
            1..2
            ok 1 - expect falsey value
            ok 2 - expect falsey value
        ok 2 - Should return undefined if no schema compiled # time=5.395ms
        
        # Subtest: Should return the validation function from each HTTP part
            1..15
            ok 1 - expect truthy value
            ok 2 - expect truthy value
            ok 3 - expect falsey value
            ok 4 - expect truthy value
            ok 5 - expect truthy value
            ok 6 - expect falsey value
            ok 7 - expect truthy value
            ok 8 - expect truthy value
            ok 9 - expect truthy value
            ok 10 - expect truthy value
            ok 11 - expect falsey value
            ok 12 - should be equal
            ok 13 - expect truthy value
            ok 14 - expect falsey value
            ok 15 - should be equal
        ok 3 - Should return the validation function from each HTTP part # time=68.865ms
        
        # Subtest: Should not set a WeakMap if there is no schema
            1..1
            ok 1 - should be equal
        ok 4 - Should not set a WeakMap if there is no schema # time=20.295ms
        
    ok 2 - \#getValidationFunction # time=185.817ms
    
    # Subtest: \#validate
        1..7
        # Subtest: Should return true/false if input valid - Route without schema
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 1 - Should return true/false if input valid - Route without schema # time=65.311ms
        
        # Subtest: Should use the custom validator compiler for the route
            1..9
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equivalent
            ok 6 - should be equivalent
            ok 7 - expect truthy value
            ok 8 - expect truthy value
            ok 9 - should be equal
        ok 2 - Should use the custom validator compiler for the route # time=18.016ms
        
        # Subtest: Should return true/false if input valid - With Schema for Route defined
            1..8
            ok 1 - expect truthy value
            ok 2 - expect falsey value
            ok 3 - expect falsey value
            ok 4 - expect truthy value
            ok 5 - expect falsey value
            ok 6 - expect truthy value
            ok 7 - expect truthy value
            ok 8 - expect falsey value
        ok 3 - Should return true/false if input valid - With Schema for Route defined # time=96.654ms
        
        # Subtest: Should throw if missing validation fn for HTTP part and not schema provided
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 4 - Should throw if missing validation fn for HTTP part and not schema provided # time=12.534ms
        
        # Subtest: Should throw if missing validation fn for HTTP part and not valid schema provided
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 5 - Should throw if missing validation fn for HTTP part and not valid schema provided # time=35.98ms
        
        # Subtest: Should throw if invalid schema passed
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 6 - Should throw if invalid schema passed # time=17.447ms
        
        # Subtest: Should set a WeakMap if compiling the very first schema
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
        ok 7 - Should set a WeakMap if compiling the very first schema # time=25.956ms
        
    ok 3 - \#validate # time=285.632ms
    
    # Subtest: Nested Context
        1..1
        # Subtest: Level_1
            1..3
            # Subtest: \#compileValidationSchema
                1..4
                # Subtest: Should return a function - Route without schema
                    1..3
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                ok 1 - Should return a function - Route without schema # time=112.605ms
                
                # Subtest: Should reuse the validate fn across multiple invocations - Route without schema
                    1..16
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                    ok 4 - Are the same validate function
                    ok 5 - type is Function
                    ok 6 - expect truthy value
                    ok 7 - expect falsey value
                    ok 8 - Are the same validate function
                    ok 9 - type is Function
                    ok 10 - expect truthy value
                    ok 11 - expect falsey value
                    ok 12 - Are the same validate function
                    ok 13 - type is Function
                    ok 14 - expect truthy value
                    ok 15 - expect falsey value
                    ok 16 - should be equal
                ok 2 - Should reuse the validate fn across multiple invocations - Route without schema # time=52.555ms
                
                # Subtest: Should return a function - Route with schema
                    1..3
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                ok 3 - Should return a function - Route with schema # time=57.805ms
                
                # Subtest: Should use the custom validator compiler for the route
                    1..10
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - should be equal
                    ok 5 - should be equal
                    ok 6 - should be equivalent
                    ok 7 - expect truthy value
                    ok 8 - should be equivalent
                    ok 9 - expect truthy value
                    ok 10 - should be equal
                ok 4 - Should use the custom validator compiler for the route # time=8.721ms
                
            ok 1 - \#compileValidationSchema # time=241.823ms
            
            # Subtest: \#getValidationFunction
                1..6
                # Subtest: Should return a validation function
                    1..1
                    ok 1 - should be equal
                ok 1 - Should return a validation function # time=44.892ms
                
                # Subtest: Should return undefined if no schema compiled
                    1..1
                    ok 1 - expect falsey value
                ok 2 - Should return undefined if no schema compiled # time=4.91ms
                
                # Subtest: Should return the validation function from each HTTP part
                    1..15
                    ok 1 - expect truthy value
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                    ok 4 - expect truthy value
                    ok 5 - expect truthy value
                    ok 6 - expect falsey value
                    ok 7 - expect truthy value
                    ok 8 - expect truthy value
                    ok 9 - expect truthy value
                    ok 10 - expect truthy value
                    ok 11 - expect falsey value
                    ok 12 - should be equal
                    ok 13 - expect truthy value
                    ok 14 - expect falsey value
                    ok 15 - should be equal
                ok 3 - Should return the validation function from each HTTP part # time=51.564ms
                
                # Subtest: Should return a validation function - nested
                    1..6
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - expect falsey value
                    ok 5 - should be equal
                    ok 6 - should be equal
                ok 4 - Should return a validation function - nested # time=7.147ms
                
                # Subtest: Should return undefined if no schema compiled - nested
                    1..3
                    ok 1 - should be equal
                    ok 2 - expect falsey value
                    ok 3 - should be equal
                ok 5 - Should return undefined if no schema compiled - nested # time=30.621ms
                
                # Subtest: Should per-route defined validation compiler
                    1..5
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should not be equal
                    ok 4 - should be equal
                    ok 5 - should be equal
                ok 6 - Should per-route defined validation compiler # time=8.082ms
                
            ok 2 - \#getValidationFunction # time=166.65ms
            
            # Subtest: \#validate
                1..3
                # Subtest: Should return true/false if input valid - Route without schema
                    1..2
                    ok 1 - expect falsey value
                    ok 2 - expect truthy value
                ok 1 - Should return true/false if input valid - Route without schema # time=43.189ms
                
                # Subtest: Should use the custom validator compiler for the route
                    1..10
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - should be equal
                    ok 5 - should be equivalent
                    ok 6 - should be equivalent
                    ok 7 - expect truthy value
                    ok 8 - expect truthy value
                    ok 9 - should be equal
                    ok 10 - should be equal
                ok 2 - Should use the custom validator compiler for the route # time=7.645ms
                
                # Subtest: Should return true/false if input valid - With Schema for Route defined and scoped validator compiler
                    1..13
                    ok 1 - expect truthy value
                    ok 2 - expect falsey value
                    ok 3 - expect falsey value
                    ok 4 - expect truthy value
                    ok 5 - expect falsey value
                    ok 6 - expect truthy value
                    ok 7 - expect truthy value
                    ok 8 - expect falsey value
                    ok 9 - should be equal
                    ok 10 - should be equal
                    ok 11 - should be equal
                    ok 12 - should be equal
                    ok 13 - should be equal
                ok 3 - Should return true/false if input valid - With Schema for Route defined and scoped validator compiler # time=100.384ms
                
            ok 3 - \#validate # time=162.183ms
            
        ok 1 - Level_1 # time=579.303ms
        
    ok 4 - Nested Context # time=584.081ms
    
    1..4
    # time=1522.867ms
ok 60 - test/internals/request-validate.test.js # time=1522.867ms

# Subtest: test/internals/request.test.js
    # Subtest: Regular request
        ok 1 - type is Request
        ok 2 - type is Function
        ok 3 - type is Function
        ok 4 - type is Function
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        1..19
    ok 1 - Regular request # time=12.054ms
    
    # Subtest: Regular request - hostname from authority
        1..2
        ok 1 - type is Request
        ok 2 - should be equal
    ok 2 - Regular request - hostname from authority # time=1.548ms
    
    # Subtest: Regular request - host header has precedence over authority
        1..2
        ok 1 - type is Request
        ok 2 - should be equal
    ok 3 - Regular request - host header has precedence over authority # time=0.871ms
    
    # Subtest: Request with trust proxy
        1..18
        ok 1 - type is _Request
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - type is Function
        ok 17 - type is Function
        ok 18 - type is Function
    ok 4 - Request with trust proxy # time=9.963ms
    
    # Subtest: Request with trust proxy, encrypted
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 5 - Request with trust proxy, encrypted # time=1.035ms
    
    # Subtest: Request with trust proxy - no x-forwarded-host header
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 6 - Request with trust proxy - no x-forwarded-host header # time=0.851ms
    
    # Subtest: Request with trust proxy - no x-forwarded-host header and fallback to authority
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 7 - Request with trust proxy - no x-forwarded-host header and fallback to authority # time=0.852ms
    
    # Subtest: Request with trust proxy - x-forwarded-host header has precedence over host
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 8 - Request with trust proxy - x-forwarded-host header has precedence over host # time=1.014ms
    
    # Subtest: Request with trust proxy - handles multiple entries in x-forwarded-host/proto
        1..3
        ok 1 - type is _Request
        ok 2 - should be equal
        ok 3 - should be equal
    ok 9 - Request with trust proxy - handles multiple entries in x-forwarded-host/proto # time=1.152ms
    
    # Subtest: Request with trust proxy - plain
        1..1
        ok 1 - should be equivalent
    ok 10 - Request with trust proxy - plain # time=0.992ms
    
    # Subtest: Request with undefined socket
        1..18
        ok 1 - type is Request
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equivalent
        ok 16 - type is Function
        ok 17 - type is Function
        ok 18 - type is Function
    ok 11 - Request with undefined socket # time=4.427ms
    
    # Subtest: Request with trust proxy and undefined socket
        1..1
        ok 1 - should be equivalent
    ok 12 - Request with trust proxy and undefined socket # time=0.681ms
    
    1..12
    # time=99.752ms
ok 61 - test/internals/request.test.js # time=99.752ms

# Subtest: test/internals/server.test.js
    # Subtest: start listening
        ok 1 - server started
        1..1
    ok 1 - start listening # time=43.866ms
    
    # Subtest: DNS errors does not stop the main server on localhost - promise interface
        ok 1 - server started
        1..1
    ok 2 - DNS errors does not stop the main server on localhost - promise interface # time=17.17ms
    
    # Subtest: DNS errors does not stop the main server on localhost - callback interface
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 3 - DNS errors does not stop the main server on localhost - callback interface # time=27.498ms
    
    # Subtest: DNS returns empty binding
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 4 - DNS returns empty binding # time=20.542ms
    
    # Subtest: DNS returns more than two binding
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 5 - DNS returns more than two binding # time=14.353ms
    
    1..5
    # time=131.053ms
ok 62 - test/internals/server.test.js # time=131.053ms

# Subtest: test/internals/validation.test.js
    # Subtest: Symbols
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 1 - Symbols # time=7.792ms
    
    # Subtest: compileSchemasForValidation schema - missing schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - compileSchemasForValidation schema - missing schema # time=2.105ms
    
    # Subtest: compileSchemasForValidation schema - missing output schema
        1..1
        ok 1 - should be equal
    ok 3 - compileSchemasForValidation schema - missing output schema # time=1.103ms
    
    # Subtest: compileSchemasForSerialization schema - missing schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - compileSchemasForSerialization schema - missing schema # time=1.204ms
    
    # Subtest: compileSchemasForSerialization schema - missing output schema
        1..1
        ok 1 - should be equal
    ok 5 - compileSchemasForSerialization schema - missing output schema # time=0.434ms
    
    # Subtest: build schema - output schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 6 - build schema - output schema # time=64.871ms
    
    # Subtest: build schema - payload schema
        1..1
        ok 1 - should be equal
    ok 7 - build schema - payload schema # time=2.365ms
    
    # Subtest: build schema - avoid repeated normalize schema
        1..3
        ok 1 - should not be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 8 - build schema - avoid repeated normalize schema # time=2.109ms
    
    # Subtest: build schema - query schema
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 9 - build schema - query schema # time=2.774ms
    
    # Subtest: build schema - query schema abbreviated
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 10 - build schema - query schema abbreviated # time=4.303ms
    
    # Subtest: build schema - querystring schema
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 11 - build schema - querystring schema # time=3.097ms
    
    # Subtest: build schema - querystring schema abbreviated
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 12 - build schema - querystring schema abbreviated # time=2.582ms
    
    # Subtest: build schema - must throw if querystring and query schema exist
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 13 - build schema - must throw if querystring and query schema exist # time=1.661ms
    
    # Subtest: build schema - params schema
        1..1
        ok 1 - should be equal
    ok 14 - build schema - params schema # time=2.199ms
    
    # Subtest: build schema - headers schema
        1..1
        ok 1 - should be equal
    ok 15 - build schema - headers schema # time=2.204ms
    
    # Subtest: build schema - headers are lowercase
        1..1
        ok 1 - lowercase content-type exists
    ok 16 - build schema - headers are lowercase # time=1.117ms
    
    # Subtest: build schema - headers are not lowercased in case of custom object
        1..1
        ok 1 - type is Headers
    ok 17 - build schema - headers are not lowercased in case of custom object # time=0.951ms
    
    # Subtest: build schema - uppercased headers are not included
        1..1
        ok 1 - uppercase does not exist
    ok 18 - build schema - uppercased headers are not included # time=0.995ms
    
    1..18
    # time=191.631ms
ok 63 - test/internals/validation.test.js # time=191.631ms

# Subtest: test/keepAliveTimeout.test.js
    # Subtest: keepAliveTimeout
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not be equal
        ok 6 - should be equal
    ok 1 - keepAliveTimeout # time=42.437ms
    
    1..1
    # time=47.71ms
ok 64 - test/keepAliveTimeout.test.js # time=47.71ms

# Subtest: test/listen.deprecated.test.js
    # Subtest: listen accepts a port and a callback
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 1 - listen accepts a port and a callback # time=31.132ms
    
    # Subtest: listen accepts a port and a callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 2 - listen accepts a port and a callback with (err, address) # time=5.38ms
    
    # Subtest: listen accepts a port, address, and callback
        1..1
        ok 1 - should not error
    ok 3 - listen accepts a port, address, and callback # time=16.878ms
    
    # Subtest: listen accepts options, backlog and a callback
        1..1
        ok 1 - should not error
    ok 4 - listen accepts options, backlog and a callback # time=4.425ms
    
    # Subtest: listen accepts options (no port), backlog and a callback
        1..1
        ok 1 - should not error
    ok 5 - listen accepts options (no port), backlog and a callback # time=4.531ms
    
    # Subtest: listen accepts options (no host), backlog and a callback
        1..1
        ok 1 - should not error
    ok 6 - listen accepts options (no host), backlog and a callback # time=4.023ms
    
    # Subtest: listen accepts options (no port, no host), backlog and a callback
        1..1
        ok 1 - should not error
    ok 7 - listen accepts options (no port, no host), backlog and a callback # time=5.526ms
    
    # Subtest: listen accepts a port, address and a callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 8 - listen accepts a port, address and a callback with (err, address) # time=6.869ms
    
    # Subtest: listen accepts a port, address, backlog and callback
        1..1
        ok 1 - should not error
    ok 9 - listen accepts a port, address, backlog and callback # time=4.628ms
    
    # Subtest: listen accepts a port, address, backlog and callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 10 - listen accepts a port, address, backlog and callback with (err, address) # time=5.171ms
    
    # Subtest: listen without callback (port zero)
        1..1
        ok 1 - should be equal
    ok 11 - listen without callback (port zero) # time=5.207ms
    
    # Subtest: listen without callback (port not given)
        1..1
        ok 1 - should be equal
    ok 12 - listen without callback (port not given) # time=3.95ms
    
    # Subtest: listen null without callback with (address)
        1..1
        ok 1 - should be equal
    ok 13 - listen null without callback with (address) # time=4.179ms
    
    # Subtest: listen without port without callback with (address)
        1..1
        ok 1 - should be equal
    ok 14 - listen without port without callback with (address) # time=4.262ms
    
    # Subtest: listen with undefined without callback with (address)
        1..1
        ok 1 - should be equal
    ok 15 - listen with undefined without callback with (address) # time=4.292ms
    
    # Subtest: listen when firstArg is string(pipe) and without backlog
        1..1
        ok 1 - should be equal
    ok 16 - listen when firstArg is string(pipe) and without backlog # time=8.363ms
    
    # Subtest: listen when firstArg is string(pipe) and with backlog
        1..1
        ok 1 - should be equal
    ok 17 - listen when firstArg is string(pipe) and with backlog # time=4.234ms
    
    # Subtest: listen when firstArg is { path: string(pipe) } and with backlog and callback
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 18 - listen when firstArg is { path: string(pipe) } and with backlog and callback # time=11.23ms
    
    1..18
    # time=261.2ms
ok 65 - test/listen.deprecated.test.js # time=261.2ms

# Subtest: test/listen.test.js
    # Subtest: listen works without arguments
        ok 1 - should be equal
        ok 2 - expect truthy value
        1..2
    ok 1 - listen works without arguments # time=30.005ms
    
    # Subtest: Async/await listen with arguments
        1..1
        ok 1 - should be equal
    ok 2 - Async/await listen with arguments # time=5.111ms
    
    # Subtest: Promise listen with arguments
        1..1
        ok 1 - should be equal
    ok 3 - Promise listen with arguments # time=15.748ms
    
    # Subtest: listen accepts a callback
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 4 - listen accepts a callback # time=12.445ms
    
    # Subtest: listen accepts options and a callback
        1..1
        ok 1 - should not error
    ok 5 - listen accepts options and a callback # time=4.123ms
    
    # Subtest: listen after Promise.resolve()
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 6 - listen after Promise.resolve() # time=7.274ms
    
    # Subtest: register after listen using Promise.resolve()
        1..1
        ok 1 - resolved
    ok 7 - register after listen using Promise.resolve() # time=10.502ms
    
    # Subtest: double listen errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
    ok 8 - double listen errors # time=14.064ms
    
    # Subtest: double listen errors callback with (err, address)
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 9 - double listen errors callback with (err, address) # time=5.599ms
    
    # Subtest: listen twice on the same port
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 10 - listen twice on the same port # time=11.477ms
    
    # Subtest: listen twice on the same port callback with (err, address)
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 11 - listen twice on the same port callback with (err, address) # time=6.909ms
    
    # Subtest: listen on socket
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent strictly
        ok 3 - should be equal
    ok 12 - listen on socket # time=7.979ms
    
    # Subtest: listen without callback with (address)
        1..1
        ok 1 - should be equal
    ok 13 - listen without callback with (address) # time=3.691ms
    
    # Subtest: double listen without callback rejects
        1..1
        ok 1 - expect truthy value
    ok 14 - double listen without callback rejects # time=4.789ms
    
    # Subtest: double listen without callback with (address)
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 15 - double listen without callback with (address) # time=4.237ms
    
    # Subtest: listen twice on the same port without callback rejects
        1..1
        ok 1 - expect truthy value
    ok 16 - listen twice on the same port without callback rejects # time=5.979ms
    
    # Subtest: listen twice on the same port without callback rejects with (address)
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 17 - listen twice on the same port without callback rejects with (address) # time=13.974ms
    
    # Subtest: listen on invalid port without callback rejects
        ok 1 - expect truthy value
        1..1
    ok 18 - listen on invalid port without callback rejects # time=6.313ms
    
    # Subtest: listen logs the port as info
        1..1
        ok 1 - expect truthy value
    ok 19 - listen logs the port as info # time=3.32ms
    
    # Subtest: listen on localhost binds IPv4 and IPv6 - promise interface
        1..2
        ok 1 - should be equal
        ok 2 - should be equivalent
    ok 20 - listen on localhost binds IPv4 and IPv6 - promise interface # time=24.316ms
    
    # Subtest: listen on localhost binds to all interfaces (both IPv4 and IPv6 if present) - callback interface
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 21 - listen on localhost binds to all interfaces (both IPv4 and IPv6 if present) - callback interface # time=9.156ms
    
    # Subtest: addresses getter
        1..4
        ok 1 - before ready
        ok 2 - after ready
        ok 3 - after listen
        ok 4 - after close
    ok 22 - addresses getter # time=7.438ms
    
    1..22
    # time=307.379ms
ok 66 - test/listen.test.js # time=307.379ms

# Subtest: test/logger.test.js
    # Subtest: defaults to info level
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
        ok 13 - responseTime is defined
        1..13
    ok 1 - defaults to info level # time=67.335ms
    
    # Subtest: test log stream
        1..12
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
    ok 2 - test log stream # time=16.157ms
    
    # Subtest: test error log stream
        1..11
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - reqId is defined
        ok 9 - res is defined
        ok 10 - message is set
        ok 11 - statusCode is 500
    ok 3 - test error log stream # time=13.282ms
    
    # Subtest: can use external logger instance
        1..6
        ok 1 - "Server listening at http://127.0.0.1:38411" dont match "/^Server listening at /"
        ok 2 - should not error
        ok 3 - "incoming request" dont match "/^incoming request$/"
        ok 4 - expect truthy value
        ok 5 - "log success" dont match "/^log success$/"
        ok 6 - "request completed" dont match "/^request completed$/"
    ok 4 - can use external logger instance # time=15.784ms
    
    # Subtest: can use external logger instance with custom serializer
        1..6
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - expect truthy value
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 5 - can use external logger instance with custom serializer # time=14.96ms
    
    # Subtest: expose the logger
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equivalent
    ok 6 - expose the logger # time=2.896ms
    
    # Subtest: The request id header key can be customized
        1..9
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - message is set
        ok 6 - should be equal
        ok 7 - message is set
        ok 8 - should be equal
        ok 9 - message is set
    ok 7 - The request id header key can be customized # time=38.422ms
    
    # Subtest: The request id header key can be customized along with a custom id generator
        1..12
        ok 1 - should match pattern provided
        ok 2 - should be equal
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should be equal
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
    ok 8 - The request id header key can be customized along with a custom id generator # time=25.391ms
    
    # Subtest: The request id log label can be changed
        1..6
        ok 1 - should match pattern provided
        ok 2 - should be equal
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should not error
        ok 6 - should be equal
    ok 9 - The request id log label can be changed # time=8.798ms
    
    # Subtest: The logger should accept custom serializer
        1..9
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - req is defined
        ok 4 - message is set
        ok 5 - custom req serializer is use
        ok 6 - expect truthy value
        ok 7 - res is defined
        ok 8 - message is set
        ok 9 - default res serializer is use
    ok 10 - The logger should accept custom serializer # time=12.519ms
    
    # Subtest: reply.send logs an error if called twice in a row
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
    ok 11 - reply.send logs an error if called twice in a row # time=9.58ms
    
    # Subtest: logger can be silented
        1..17
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equivalent
        ok 10 - should be equivalent
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equivalent
        ok 14 - should be equivalent
        ok 15 - should be equivalent
        ok 16 - should be equivalent
        ok 17 - should be equivalent
    ok 12 - logger can be silented # time=7.604ms
    
    # Subtest: Should set a custom logLevel for a plugin
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equivalent
    ok 13 - Should set a custom logLevel for a plugin # time=13.585ms
    
    # Subtest: Should set a custom logSerializers for a plugin
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 14 - Should set a custom logSerializers for a plugin # time=11.707ms
    
    # Subtest: Should set a custom logLevel for every plugin
        1..18
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equivalent
        ok 15 - should not error
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equivalent
    ok 15 - Should set a custom logLevel for every plugin # time=17.817ms
    
    # Subtest: Should set a custom logSerializers for every plugin
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 16 - Should set a custom logSerializers for every plugin # time=16.924ms
    
    # Subtest: Should override serializers from route
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 17 - Should override serializers from route # time=13.461ms
    
    # Subtest: Should override serializers from plugin
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 18 - Should override serializers from plugin # time=26.823ms
    
    # Subtest: Should use serializers from plugin and route
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 19 - Should use serializers from plugin and route # time=18.959ms
    
    # Subtest: Should use serializers from instance fastify and route
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 20 - Should use serializers from instance fastify and route # time=8.74ms
    
    # Subtest: Should use serializers inherit from contexts
        1..5
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 21 - Should use serializers inherit from contexts # time=32.512ms
    
    # Subtest: Should increase the log level for a specific plugin
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 22 - Should increase the log level for a specific plugin # time=6.743ms
    
    # Subtest: Should set the log level for the customized 404 handler
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 23 - Should set the log level for the customized 404 handler # time=5.994ms
    
    # Subtest: Should set the log level for the customized 500 handler
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 24 - Should set the log level for the customized 500 handler # time=12.001ms
    
    # Subtest: Should set a custom log level for a specific route
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equivalent
    ok 25 - Should set a custom log level for a specific route # time=9.012ms
    
    # Subtest: The default 404 handler logs the incoming request
        1..5
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
    ok 26 - The default 404 handler logs the incoming request # time=6.038ms
    
    # Subtest: should serialize request and response
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 27 - should serialize request and response # time=21.041ms
    
    # Subtest: Wrap IPv6 address in listening log message
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 28 - Wrap IPv6 address in listening log message # time=6.777ms
    
    # Subtest: Do not wrap IPv4 address
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 29 - Do not wrap IPv4 address # time=7.981ms
    
    # Subtest: file option
        1..13
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - listen at log message is ok
        ok 4 - reqId is defined
        ok 5 - req is defined
        ok 6 - message is set
        ok 7 - method is get
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
        ok 13 - responseTime is defined
    ok 30 - file option # time=16.968ms
    
    # Subtest: should log the error if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 31 - should log the error if no error handler is defined # time=10.146ms
    
    # Subtest: should log as info if error status code >= 400 and < 500 if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 32 - should log as info if error status code >= 400 and < 500 if no error handler is defined # time=10.032ms
    
    # Subtest: should log as error if error status code >= 500 if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 33 - should log as error if error status code >= 500 if no error handler is defined # time=9.217ms
    
    # Subtest: should not log the error if error handler is defined and it does not error
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - level is correct
        ok 7 - message is set
        ok 8 - status code is set
    ok 34 - should not log the error if error handler is defined and it does not error # time=9.04ms
    
    # Subtest: should not rely on raw request to log errors
        1..7
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - status code is set
    ok 35 - should not rely on raw request to log errors # time=8.702ms
    
    # Subtest: should redact the authorization header if so specified
        1..7
        ok 1 - listen at log message is ok
        ok 2 - should not error
        ok 3 - authorization is redacted
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 36 - should redact the authorization header if so specified # time=18.634ms
    
    # Subtest: should not log incoming request and outgoing response when disabled
        1..3
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should be equivalent
    ok 37 - should not log incoming request and outgoing response when disabled # time=5.59ms
    
    # Subtest: should not log incoming request and outgoing response for 404 onBadUrl when disabled
        1..1
        ok 1 - should be equivalent
    ok 38 - should not log incoming request and outgoing response for 404 onBadUrl when disabled # time=8.786ms
    
    # Subtest: should pass when using unWritable props in the logger option
        1..1
        ok 1 - (unnamed test)
    ok 39 - should pass when using unWritable props in the logger option # time=1.713ms
    
    # Subtest: should be able to use a custom logger
        1..1
        ok 1 - (unnamed test)
    ok 40 - should be able to use a custom logger # time=14.852ms
    
    # Subtest: should create a default logger if provided one is invalid
        1..1
        ok 1 - (unnamed test)
    ok 41 - should create a default logger if provided one is invalid # time=1.545ms
    
    # Subtest: should not throw error when serializing custom req
        1..1
        ok 1 - should be equivalent
    ok 42 - should not throw error when serializing custom req # time=1.932ms
    
    1..42
    # time=734.557ms
ok 67 - test/logger.test.js # time=734.557ms

# Subtest: test/maxRequestsPerSocket.test.js
    # Subtest: maxRequestsPerSocket on node version >= 16.10.0
        1..8
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should match pattern provided
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
    ok 1 - maxRequestsPerSocket on node version >= 16.10.0 # time=71.911ms
    
    # Subtest: maxRequestsPerSocket zero should behave same as null
        1..10
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should match pattern provided
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
        ok 9 - should match pattern provided
        ok 10 - should match pattern provided
    ok 2 - maxRequestsPerSocket zero should behave same as null # time=18.53ms
    
    # Subtest: maxRequestsPerSocket should be set
        1..1
        ok 1 - should be equivalent
    ok 3 - maxRequestsPerSocket should be set # time=2.517ms
    
    # Subtest: maxRequestsPerSocket should 0
        1..1
        ok 1 - should be equivalent
    ok 4 - maxRequestsPerSocket should 0 # time=1.758ms
    
    # Subtest: requestTimeout passed to server
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 5 - requestTimeout passed to server # time=14.767ms
    
    1..5
    # time=121.113ms
ok 68 - test/maxRequestsPerSocket.test.js # time=121.113ms

# Subtest: test/middleware.test.js
    # Subtest: Should be able to override the default use API
        1..1
        ok 1 - should be equal
    ok 1 - Should be able to override the default use API # time=14.207ms
    
    # Subtest: Cannot decorate use twice
        1..1
        ok 1 - expect truthy value
    ok 2 - Cannot decorate use twice # time=2.514ms
    
    # Subtest: Encapsulation works
        1..1
        ok 1 - should be equal
    ok 3 - Encapsulation works # time=11.937ms
    
    1..3
    # time=40.723ms
ok 69 - test/middleware.test.js # time=40.723ms

# Subtest: test/noop-set.test.js
    # Subtest: does a lot of nothing
        ok 1 - type is object
        ok 2 - should be equal
        1..2
    ok 1 - does a lot of nothing # time=7.196ms
    
    1..1
    # time=12.956ms
ok 70 - test/noop-set.test.js # time=12.956ms

# Subtest: test/nullable-validation.test.js
    # Subtest: nullable string
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 1 - nullable string # time=147.104ms
    
    # Subtest: object or null body
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 2 - object or null body # time=54.906ms
    
    # Subtest: nullable body
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 3 - nullable body # time=52.867ms
    
    # Subtest: Nullable body with 204
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 4 - Nullable body with 204 # time=29.082ms
    
    1..4
    # time=290.982ms
ok 71 - test/nullable-validation.test.js # time=290.982ms

# Subtest: test/options.error-handler.test.js
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - OPTIONS can be created # time=9.002ms
    
    # Subtest: OPTIONS without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - OPTIONS without schema can be created # time=1.928ms
    
    # Subtest: OPTIONS with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - OPTIONS with body and querystring # time=1.527ms
    
    # Subtest: OPTIONS with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - OPTIONS with bodyLimit option # time=1.696ms
    
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - OPTIONS can be created # time=2.611ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - OPTIONS - correctly replies # time=56.855ms
    
    # Subtest: OPTIONS - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - OPTIONS - correctly replies with very large body # time=9.638ms
    
    # Subtest: OPTIONS - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - OPTIONS - correctly replies if the content type has the charset # time=5.611ms
    
    # Subtest: OPTIONS without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - OPTIONS without schema - correctly replies # time=5.263ms
    
    # Subtest: OPTIONS with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - OPTIONS with body and querystring - correctly replies # time=7.146ms
    
    # Subtest: OPTIONS with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - OPTIONS with no body - correctly replies # time=34.174ms
    
    # Subtest: OPTIONS returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - OPTIONS returns 415 - incorrect media type if body is not json # time=4.241ms
    
    # Subtest: OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text # time=5.592ms
    
    # Subtest: OPTIONS returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 14 - OPTIONS returns 400 - Bad Request # time=7.772ms
    
    # Subtest: OPTIONS returns 413 - Payload Too Large
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - OPTIONS returns 413 - Payload Too Large # time=6.98ms
    
    # Subtest: OPTIONS should fail with empty body and application/json content-type
        1..0
    ok 16 - OPTIONS should fail with empty body and application/json content-type # time=0.617ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - OPTIONS - correctly replies # time=4.749ms
    
    # Subtest: OPTIONS - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - OPTIONS - 400 on bad parameters # time=5.34ms
    
    # Subtest: OPTIONS - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - OPTIONS - input-validation coerce # time=4.378ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - OPTIONS - input-validation custom schema compiler # time=4.33ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - OPTIONS - input-validation joi schema compiler ok # time=6.109ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - OPTIONS - input-validation joi schema compiler ko # time=6.437ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - OPTIONS - input-validation yup schema compiler ok # time=6.188ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - OPTIONS - input-validation yup schema compiler ko # time=5.414ms
    
    # Subtest: OPTIONS - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - OPTIONS - input-validation instance custom schema compiler encapsulated # time=3.917ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 26 - OPTIONS - input-validation custom schema compiler encapsulated # time=3.921ms
    
    ok 27 - type is object
    ok 28 - type is Request
    ok 29 - type is object
    ok 30 - type is Request
    ok 31 - type is object
    ok 32 - type is Request
    ok 33 - type is object
    ok 34 - type is Request
    ok 35 - type is object
    ok 36 - type is Request
    1..36
    # time=1475.198ms
ok 72 - test/options.error-handler.test.js # time=1475.198ms

# Subtest: test/options.test.js
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - OPTIONS can be created # time=9.444ms
    
    # Subtest: OPTIONS without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - OPTIONS without schema can be created # time=2.101ms
    
    # Subtest: OPTIONS with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - OPTIONS with body and querystring # time=1.6ms
    
    # Subtest: OPTIONS with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - OPTIONS with bodyLimit option # time=1.741ms
    
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - OPTIONS can be created # time=2.552ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - OPTIONS - correctly replies # time=64.371ms
    
    # Subtest: OPTIONS - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - OPTIONS - correctly replies with very large body # time=9.433ms
    
    # Subtest: OPTIONS - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - OPTIONS - correctly replies if the content type has the charset # time=5.49ms
    
    # Subtest: OPTIONS without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - OPTIONS without schema - correctly replies # time=5.192ms
    
    # Subtest: OPTIONS with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - OPTIONS with body and querystring - correctly replies # time=5.513ms
    
    # Subtest: OPTIONS with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - OPTIONS with no body - correctly replies # time=27.598ms
    
    # Subtest: OPTIONS returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - OPTIONS returns 415 - incorrect media type if body is not json # time=4.199ms
    
    # Subtest: OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text # time=5.111ms
    
    # Subtest: OPTIONS returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 14 - OPTIONS returns 400 - Bad Request # time=7.517ms
    
    # Subtest: OPTIONS returns 413 - Payload Too Large
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - OPTIONS returns 413 - Payload Too Large # time=6.655ms
    
    # Subtest: OPTIONS should fail with empty body and application/json content-type
        1..0
    ok 16 - OPTIONS should fail with empty body and application/json content-type # time=0.578ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - OPTIONS - correctly replies # time=4.676ms
    
    # Subtest: OPTIONS - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - OPTIONS - 400 on bad parameters # time=5.138ms
    
    # Subtest: OPTIONS - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - OPTIONS - input-validation coerce # time=4.412ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - OPTIONS - input-validation custom schema compiler # time=4.321ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - OPTIONS - input-validation joi schema compiler ok # time=6.041ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - OPTIONS - input-validation joi schema compiler ko # time=6.187ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - OPTIONS - input-validation yup schema compiler ok # time=6.205ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - OPTIONS - input-validation yup schema compiler ko # time=6.065ms
    
    # Subtest: OPTIONS - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - OPTIONS - input-validation instance custom schema compiler encapsulated # time=3.896ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 26 - OPTIONS - input-validation custom schema compiler encapsulated # time=4.077ms
    
    1..26
    # time=1112.862ms
ok 73 - test/options.test.js # time=1112.862ms

# Subtest: test/output-validation.test.js
    # Subtest: shorthand - output string
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - output string # time=9.828ms
    
    # Subtest: shorthand - output number
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - output number # time=6.21ms
    
    # Subtest: wrong object for schema - output
        1..1
        ok 1 - (unnamed test)
    ok 3 - wrong object for schema - output # time=2.531ms
    
    # Subtest: empty response
        1..1
        ok 1 - (unnamed test)
    ok 4 - empty response # time=2.421ms
    
    # Subtest: unlisted response code
        1..1
        ok 1 - (unnamed test)
    ok 5 - unlisted response code # time=2.273ms
    
    ok 6 - should not error
    # Subtest: shorthand - string get ok
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - shorthand - string get ok # time=36.161ms
    
    # Subtest: shorthand - number get ok
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 8 - shorthand - number get ok # time=6.534ms
    
    # Subtest: shorthand - wrong-object-for-schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 9 - shorthand - wrong-object-for-schema # time=6.681ms
    
    # Subtest: shorthand - empty
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - shorthand - empty # time=4.412ms
    
    # Subtest: shorthand - 400
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - shorthand - 400 # time=5.085ms
    
    1..11
    # time=253.758ms
ok 74 - test/output-validation.test.js # time=253.758ms

# Subtest: test/patch.error-handler.test.js
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PATCH can be created # time=9.745ms
    
    # Subtest: PATCH without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PATCH without schema can be created # time=2.288ms
    
    # Subtest: PATCH with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PATCH with body and querystring # time=1.802ms
    
    # Subtest: PATCH with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PATCH with bodyLimit option # time=1.945ms
    
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - PATCH can be created # time=2.397ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - PATCH - correctly replies # time=56.41ms
    
    # Subtest: PATCH - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - PATCH - correctly replies with very large body # time=9.849ms
    
    # Subtest: PATCH - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - PATCH - correctly replies if the content type has the charset # time=6.449ms
    
    # Subtest: PATCH without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - PATCH without schema - correctly replies # time=5.097ms
    
    # Subtest: PATCH with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - PATCH with body and querystring - correctly replies # time=5.39ms
    
    # Subtest: PATCH with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - PATCH with no body - correctly replies # time=31.035ms
    
    # Subtest: PATCH returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - PATCH returns 415 - incorrect media type if body is not json # time=6.184ms
    
    # Subtest: PATCH returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 13 - PATCH returns 400 - Bad Request # time=7.543ms
    
    # Subtest: PATCH returns 413 - Payload Too Large
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 14 - PATCH returns 413 - Payload Too Large # time=13.965ms
    
    # Subtest: PATCH should fail with empty body and application/json content-type
        1..12
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
    ok 15 - PATCH should fail with empty body and application/json content-type # time=19.687ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - PATCH - correctly replies # time=4.704ms
    
    # Subtest: PATCH - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - PATCH - 400 on bad parameters # time=4.313ms
    
    # Subtest: PATCH - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - PATCH - input-validation coerce # time=3.895ms
    
    # Subtest: PATCH - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - PATCH - input-validation custom schema compiler # time=3.974ms
    
    # Subtest: PATCH - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - PATCH - input-validation joi schema compiler ok # time=5.595ms
    
    # Subtest: PATCH - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - PATCH - input-validation joi schema compiler ko # time=5.148ms
    
    # Subtest: PATCH - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - PATCH - input-validation yup schema compiler ok # time=5.006ms
    
    # Subtest: PATCH - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - PATCH - input-validation yup schema compiler ko # time=4.947ms
    
    # Subtest: PATCH - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - PATCH - input-validation instance custom schema compiler encapsulated # time=3.389ms
    
    # Subtest: PATCH - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - PATCH - input-validation custom schema compiler encapsulated # time=3.849ms
    
    ok 26 - type is object
    ok 27 - type is Request
    ok 28 - type is object
    ok 29 - type is Request
    ok 30 - type is object
    ok 31 - type is Request
    ok 32 - type is object
    ok 33 - type is Request
    ok 34 - type is object
    ok 35 - type is Request
    ok 36 - type is object
    ok 37 - type is Request
    ok 38 - type is object
    ok 39 - type is Request
    ok 40 - type is object
    ok 41 - type is Request
    ok 42 - type is object
    ok 43 - type is Request
    ok 44 - type is object
    ok 45 - type is Request
    ok 46 - type is object
    ok 47 - type is Request
    ok 48 - type is object
    ok 49 - type is Request
    1..49
    # time=1012.277ms
ok 75 - test/patch.error-handler.test.js # time=1012.277ms

# Subtest: test/patch.test.js
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PATCH can be created # time=8.914ms
    
    # Subtest: PATCH without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PATCH without schema can be created # time=1.828ms
    
    # Subtest: PATCH with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PATCH with body and querystring # time=1.445ms
    
    # Subtest: PATCH with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PATCH with bodyLimit option # time=1.628ms
    
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - PATCH can be created # time=3.943ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - PATCH - correctly replies # time=60.798ms
    
    # Subtest: PATCH - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - PATCH - correctly replies with very large body # time=9.865ms
    
    # Subtest: PATCH - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - PATCH - correctly replies if the content type has the charset # time=5.944ms
    
    # Subtest: PATCH without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - PATCH without schema - correctly replies # time=5.541ms
    
    # Subtest: PATCH with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - PATCH with body and querystring - correctly replies # time=5.818ms
    
    # Subtest: PATCH with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - PATCH with no body - correctly replies # time=27.39ms
    
    # Subtest: PATCH returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - PATCH returns 415 - incorrect media type if body is not json # time=6.095ms
    
    # Subtest: PATCH returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 13 - PATCH returns 400 - Bad Request # time=7.794ms
    
    # Subtest: PATCH returns 413 - Payload Too Large
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 14 - PATCH returns 413 - Payload Too Large # time=14.191ms
    
    # Subtest: PATCH should fail with empty body and application/json content-type
        1..12
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
    ok 15 - PATCH should fail with empty body and application/json content-type # time=20.191ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - PATCH - correctly replies # time=5.083ms
    
    # Subtest: PATCH - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - PATCH - 400 on bad parameters # time=4.936ms
    
    # Subtest: PATCH - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - PATCH - input-validation coerce # time=4.281ms
    
    # Subtest: PATCH - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - PATCH - input-validation custom schema compiler # time=4.45ms
    
    # Subtest: PATCH - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - PATCH - input-validation joi schema compiler ok # time=5.976ms
    
    # Subtest: PATCH - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - PATCH - input-validation joi schema compiler ko # time=5.56ms
    
    # Subtest: PATCH - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - PATCH - input-validation yup schema compiler ok # time=6.723ms
    
    # Subtest: PATCH - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - PATCH - input-validation yup schema compiler ko # time=5.217ms
    
    # Subtest: PATCH - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - PATCH - input-validation instance custom schema compiler encapsulated # time=3.764ms
    
    # Subtest: PATCH - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - PATCH - input-validation custom schema compiler encapsulated # time=3.835ms
    
    1..25
    # time=1031.675ms
ok 76 - test/patch.test.js # time=1031.675ms

# Subtest: test/plugin.test.js
    # Subtest: require a plugin
        1..1
        ok 1 - expect truthy value
    ok 1 - require a plugin # time=115.787ms
    
    # Subtest: plugin metadata - ignore prefix
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 2 - plugin metadata - ignore prefix # time=47.625ms
    
    # Subtest: plugin metadata - naming plugins
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 3 - plugin metadata - naming plugins # time=9.417ms
    
    # Subtest: fastify.register with fastify-plugin should not encapsulate his code
        1..10
        ok 1 - expect falsey value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 4 - fastify.register with fastify-plugin should not encapsulate his code # time=39.902ms
    
    # Subtest: fastify.register with fastify-plugin should provide access to external fastify instance if opts argument is a function
        1..22
        ok 1 - expect falsey value
        ok 2 - expect falsey value
        ok 3 - expect falsey value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect falsey value
        ok 10 - expect truthy value
        ok 11 - expect falsey value
        ok 12 - expect truthy value
        ok 13 - expect truthy value
        ok 14 - should be equal
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - should not error
        ok 18 - expect truthy value
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equal
        ok 22 - should be equivalent
    ok 5 - fastify.register with fastify-plugin should provide access to external fastify instance if opts argument is a function # time=29.594ms
    
    # Subtest: fastify.register with fastify-plugin registers fastify level plugins
        1..15
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should not error
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equivalent
    ok 6 - fastify.register with fastify-plugin registers fastify level plugins # time=19.578ms
    
    # Subtest: check dependencies - should not throw
        1..12
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - should not error
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
    ok 7 - check dependencies - should not throw # time=14.005ms
    
    # Subtest: check dependencies - should throw
        1..12
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - should not error
        ok 7 - expect truthy value
        ok 8 - expect falsey value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
    ok 8 - check dependencies - should throw # time=17.565ms
    
    # Subtest: set the plugin name based on the plugin displayName symbol
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
    ok 9 - set the plugin name based on the plugin displayName symbol # time=8.43ms
    
    # Subtest: plugin name will change when using no encapsulation
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
    ok 10 - plugin name will change when using no encapsulation # time=8.036ms
    
    # Subtest: plugin name is undefined when accessing in no plugin context
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 11 - plugin name is undefined when accessing in no plugin context # time=5.239ms
    
    # Subtest: set the plugin name based on the plugin function name
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 12 - set the plugin name based on the plugin function name # time=11.692ms
    
    # Subtest: approximate a plugin name when no meta data is available
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
    ok 13 - approximate a plugin name when no meta data is available # time=8.009ms
    
    # Subtest: approximate a plugin name also when fastify-plugin has no meta data
        1..4
        ok 1 - should match pattern provided
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should not error
    ok 14 - approximate a plugin name also when fastify-plugin has no meta data # time=8.456ms
    
    # Subtest: plugin encapsulation
        1..10
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 15 - plugin encapsulation # time=20.194ms
    
    # Subtest: if a plugin raises an error and there is not a callback to handle it, the server must not start
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 16 - if a plugin raises an error and there is not a callback to handle it, the server must not start # time=5.725ms
    
    # Subtest: add hooks after route declaration
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 17 - add hooks after route declaration # time=43.901ms
    
    # Subtest: nested plugins
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 18 - nested plugins # time=17.049ms
    
    # Subtest: nested plugins awaited
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 19 - nested plugins awaited # time=15.892ms
    
    # Subtest: plugin metadata - decorators
        1..1
        ok 1 - expect truthy value
    ok 20 - plugin metadata - decorators # time=17.814ms
    
    # Subtest: plugin metadata - decorators - should throw
        1..1
        ok 1 - should be equal
    ok 21 - plugin metadata - decorators - should throw # time=5.87ms
    
    # Subtest: plugin metadata - decorators - should throw with plugin name
        1..1
        ok 1 - should be equal
    ok 22 - plugin metadata - decorators - should throw with plugin name # time=10.086ms
    
    # Subtest: plugin metadata - dependencies
        1..1
        ok 1 - everything right
    ok 23 - plugin metadata - dependencies # time=3.025ms
    
    # Subtest: plugin metadata - dependencies (nested)
        1..1
        ok 1 - everything right
    ok 24 - plugin metadata - dependencies (nested) # time=3.477ms
    
    # Subtest: pluginTimeout
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 25 - pluginTimeout # time=14.691ms
    
    # "pluginTimeout - named function" has `only` set but all tests run
    # Subtest: pluginTimeout - named function
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 26 - pluginTimeout - named function # time=14.535ms
    
    # Subtest: pluginTimeout default
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 27 - pluginTimeout default # time=-66935159.258ms
    
    # Subtest: plugin metadata - version
        1..1
        ok 1 - everything right
    ok 28 - plugin metadata - version # time=6.613ms
    
    # Subtest: plugin metadata - version range
        1..1
        ok 1 - everything right
    ok 29 - plugin metadata - version range # time=2.95ms
    
    # Subtest: plugin metadata - version not matching requirement
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 30 - plugin metadata - version not matching requirement # time=3.149ms
    
    # Subtest: plugin metadata - version not matching requirement 2
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 31 - plugin metadata - version not matching requirement 2 # time=3.031ms
    
    # Subtest: plugin metadata - version not matching requirement 3
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 32 - plugin metadata - version not matching requirement 3 # time=2.111ms
    
    # Subtest: plugin metadata - release candidate
        1..2
        ok 1 - should not error
        ok 2 - everything right
    ok 33 - plugin metadata - release candidate # time=4.176ms
    
    # Subtest: fastify-rc loads prior version plugins
        1..2
        ok 1 - should not error
        ok 2 - everything right
    ok 34 - fastify-rc loads prior version plugins # time=3.217ms
    
    # Subtest: hasPlugin method exists as a function
        1..1
        ok 1 - should be equal
    ok 35 - hasPlugin method exists as a function # time=0.999ms
    
    # Subtest: hasPlugin returns true if the specified plugin has been registered
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
    ok 36 - hasPlugin returns true if the specified plugin has been registered # time=4.975ms
    
    # Subtest: hasPlugin returns false if the specified plugin has not been registered
        1..1
        ok 1 - expect falsey value
    ok 37 - hasPlugin returns false if the specified plugin has not been registered # time=1.034ms
    
    # Subtest: hasPlugin returns false when using encapsulation
        1..25
        ok 1 - expect truthy value
        ok 2 - expect falsey value
        ok 3 - expect falsey value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect truthy value
        ok 8 - expect falsey value
        ok 9 - expect falsey value
        ok 10 - expect falsey value
        ok 11 - expect falsey value
        ok 12 - expect falsey value
        ok 13 - expect truthy value
        ok 14 - expect falsey value
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - expect falsey value
        ok 18 - expect falsey value
        ok 19 - expect truthy value
        ok 20 - expect falsey value
        ok 21 - expect falsey value
        ok 22 - expect falsey value
        ok 23 - expect falsey value
        ok 24 - expect falsey value
        ok 25 - expect truthy value
    ok 38 - hasPlugin returns false when using encapsulation # time=17.572ms
    
    # Subtest: hasPlugin returns true when using no encapsulation
        1..26
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect falsey value
        ok 10 - expect falsey value
        ok 11 - expect falsey value
        ok 12 - expect truthy value
        ok 13 - expect truthy value
        ok 14 - expect truthy value
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - expect truthy value
        ok 18 - expect truthy value
        ok 19 - expect truthy value
        ok 20 - expect truthy value
        ok 21 - expect falsey value
        ok 22 - expect truthy value
        ok 23 - expect truthy value
        ok 24 - expect truthy value
        ok 25 - expect truthy value
        ok 26 - expect truthy value
    ok 39 - hasPlugin returns true when using no encapsulation # time=7.667ms
    
    1..39
    # time=609.426ms
ok 77 - test/plugin.test.js # time=609.426ms

# Subtest: test/pretty-print.test.js
    # Subtest: pretty print - static routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - pretty print - static routes # time=50.968ms
    
    # Subtest: pretty print - parametric routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - pretty print - parametric routes # time=7.474ms
    
    # Subtest: pretty print - mixed parametric routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 3 - pretty print - mixed parametric routes # time=7.619ms
    
    # Subtest: pretty print - wildcard routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - pretty print - wildcard routes # time=13.192ms
    
    # Subtest: pretty print - empty plugins
        1..2
        ok 1 - should be equal
        ok 2 - should match pattern provided
    ok 5 - pretty print - empty plugins # time=10.792ms
    
    # Subtest: pretty print - nested plugins
        1..4
        ok 1 - should be equal
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
    ok 6 - pretty print - nested plugins # time=10.388ms
    
    # Subtest: pretty print - commonPrefix
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 7 - pretty print - commonPrefix # time=32.597ms
    
    # Subtest: pretty print - includeMeta, includeHooks
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 8 - pretty print - includeMeta, includeHooks # time=8.397ms
    
    1..8
    # time=150.104ms
ok 78 - test/pretty-print.test.js # time=150.104ms

# Subtest: test/promises.test.js
    ok 1 - should not error
    # Subtest: shorthand - sget return promise es6 get
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - shorthand - sget return promise es6 get # time=37.829ms
    
    # Subtest: shorthand - sget promise es6 get return error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 3 - shorthand - sget promise es6 get return error # time=7.985ms
    
    # Subtest: sget promise double send
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 4 - sget promise double send # time=5.982ms
    
    # Subtest: thenable
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 5 - thenable # time=6.306ms
    
    # Subtest: thenable (error)
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 6 - thenable (error) # time=4.512ms
    
    # Subtest: return-reply
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - return-reply # time=5.033ms
    
    1..7
    # time=125.125ms
ok 79 - test/promises.test.js # time=125.125ms

# Subtest: test/proto-poisoning.test.js
    # Subtest: proto-poisoning error
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 1 - proto-poisoning error # time=73.482ms
    
    # Subtest: proto-poisoning remove
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 2 - proto-poisoning remove # time=12.635ms
    
    # Subtest: proto-poisoning ignore
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 3 - proto-poisoning ignore # time=18.507ms
    
    # Subtest: constructor-poisoning error (default in v3)
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 4 - constructor-poisoning error (default in v3) # time=13.136ms
    
    # Subtest: constructor-poisoning error
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 5 - constructor-poisoning error # time=8.144ms
    
    # Subtest: constructor-poisoning remove
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 6 - constructor-poisoning remove # time=7.877ms
    
    1..6
    # time=144.467ms
ok 80 - test/proto-poisoning.test.js # time=144.467ms

# Subtest: test/put.error-handler.test.js
    # Subtest: PUT can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PUT can be created # time=9.482ms
    
    # Subtest: PUT without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PUT without schema can be created # time=2.227ms
    
    # Subtest: PUT with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PUT with body and querystring # time=1.75ms
    
    # Subtest: PUT with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PUT with bodyLimit option # time=1.91ms
    
    # Subtest: PUT can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - PUT can be created # time=3.081ms
    
    # Subtest: PUT - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - PUT - correctly replies # time=64.705ms
    
    # Subtest: PUT - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - PUT - correctly replies with very large body # time=9.722ms
    
    # Subtest: PUT - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - PUT - correctly replies if the content type has the charset # time=5.994ms
    
    # Subtest: PUT without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - PUT without schema - correctly replies # time=5.579ms
    
    # Subtest: PUT with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - PUT with body and querystring - correctly replies # time=6.293ms
    
    # Subtest: PUT with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - PUT with no body - correctly replies # time=27.998ms
    
    # Subtest: PUT returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - PUT returns 415 - incorrect media type if body is not json # time=6.766ms
    
    # Subtest: PUT returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 13 - PUT returns 400 - Bad Request # time=8.51ms
    
    # Subtest: PUT returns 413 - Payload Too Large
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 14 - PUT returns 413 - Payload Too Large # time=15.779ms
    
    # Subtest: PUT should fail with empty body and application/json content-type
        1..12
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
    ok 15 - PUT should fail with empty body and application/json content-type # time=25.53ms
    
    # Subtest: PUT - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - PUT - correctly replies # time=6.463ms
    
    # Subtest: PUT - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - PUT - 400 on bad parameters # time=5.017ms
    
    # Subtest: PUT - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - PUT - input-validation coerce # time=4.437ms
    
    # Subtest: PUT - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - PUT - input-validation custom schema compiler # time=4.577ms
    
    # Subtest: PUT - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - PUT - input-validation joi schema compiler ok # time=5.958ms
    
    # Subtest: PUT - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - PUT - input-validation joi schema compiler ko # time=8.917ms
    
    # Subtest: PUT - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - PUT - input-validation yup schema compiler ok # time=6.662ms
    
    # Subtest: PUT - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - PUT - input-validation yup schema compiler ko # time=6.822ms
    
    # Subtest: PUT - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - PUT - input-validation instance custom schema compiler encapsulated # time=4.42ms
    
    # Subtest: PUT - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - PUT - input-validation custom schema compiler encapsulated # time=5.276ms
    
    ok 26 - type is object
    ok 27 - type is Request
    ok 28 - type is object
    ok 29 - type is Request
    ok 30 - type is object
    ok 31 - type is Request
    ok 32 - type is object
    ok 33 - type is Request
    ok 34 - type is object
    ok 35 - type is Request
    ok 36 - type is object
    ok 37 - type is Request
    ok 38 - type is object
    ok 39 - type is Request
    ok 40 - type is object
    ok 41 - type is Request
    ok 42 - type is object
    ok 43 - type is Request
    ok 44 - type is object
    ok 45 - type is Request
    ok 46 - type is object
    ok 47 - type is Request
    ok 48 - type is object
    ok 49 - type is Request
    1..49
    # time=1027.892ms
ok 81 - test/put.error-handler.test.js # time=1027.892ms

# Subtest: test/put.test.js
    # Subtest: PUT can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PUT can be created # time=9.143ms
    
    # Subtest: PUT without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PUT without schema can be created # time=1.873ms
    
    # Subtest: PUT with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PUT with body and querystring # time=1.451ms
    
    # Subtest: PUT with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PUT with bodyLimit option # time=1.661ms
    
    # Subtest: PUT can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - PUT can be created # time=2.461ms
    
    # Subtest: PUT - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - PUT - correctly replies # time=66.694ms
    
    # Subtest: PUT - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - PUT - correctly replies with very large body # time=9.467ms
    
    # Subtest: PUT - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - PUT - correctly replies if the content type has the charset # time=5.861ms
    
    # Subtest: PUT without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - PUT without schema - correctly replies # time=5.486ms
    
    # Subtest: PUT with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - PUT with body and querystring - correctly replies # time=5.838ms
    
    # Subtest: PUT with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - PUT with no body - correctly replies # time=30.418ms
    
    # Subtest: PUT returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - PUT returns 415 - incorrect media type if body is not json # time=5.734ms
    
    # Subtest: PUT returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 13 - PUT returns 400 - Bad Request # time=7.778ms
    
    # Subtest: PUT returns 413 - Payload Too Large
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 14 - PUT returns 413 - Payload Too Large # time=14.425ms
    
    # Subtest: PUT should fail with empty body and application/json content-type
        1..12
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
    ok 15 - PUT should fail with empty body and application/json content-type # time=19.794ms
    
    # Subtest: PUT - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - PUT - correctly replies # time=4.748ms
    
    # Subtest: PUT - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - PUT - 400 on bad parameters # time=4.442ms
    
    # Subtest: PUT - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - PUT - input-validation coerce # time=3.913ms
    
    # Subtest: PUT - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - PUT - input-validation custom schema compiler # time=3.94ms
    
    # Subtest: PUT - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - PUT - input-validation joi schema compiler ok # time=5.294ms
    
    # Subtest: PUT - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - PUT - input-validation joi schema compiler ko # time=5.054ms
    
    # Subtest: PUT - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - PUT - input-validation yup schema compiler ok # time=5.051ms
    
    # Subtest: PUT - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - PUT - input-validation yup schema compiler ko # time=4.822ms
    
    # Subtest: PUT - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - PUT - input-validation instance custom schema compiler encapsulated # time=3.319ms
    
    # Subtest: PUT - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - PUT - input-validation custom schema compiler encapsulated # time=3.547ms
    
    1..25
    # time=1023.976ms
ok 82 - test/put.test.js # time=1023.976ms

./VariantsPureDep/fastify/variant9/fastify

> fastify@4.3.0 test
> npm run lint && npm run unit && npm run test:typescript


> fastify@4.3.0 lint
> npm run lint:standard && npm run lint:typescript && npm run lint:markdown


> fastify@4.3.0 lint:standard
> standard | snazzy

-----------------------------|---------|----------|---------|---------|-----------------------------
File                         | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s           
-----------------------------|---------|----------|---------|---------|-----------------------------
All files                    |   92.78 |    92.03 |    92.3 |   92.91 |                             
 fastify                     |   85.23 |    88.12 |   82.14 |    84.9 |                             
  fastify.js                 |   85.23 |    88.12 |   82.14 |    84.9 | ...,676-695,721-724,732-743 
 fastify/lib                 |   93.85 |    92.55 |   94.23 |   94.06 |                             
  contentTypeParser.js       |    97.8 |    99.15 |     100 |   97.64 | 233-236                     
  context.js                 |     100 |      100 |     100 |     100 |                             
  decorate.js                |   98.21 |    98.03 |     100 |   98.07 | 41                          
  error-handler.js           |    94.2 |    93.61 |     100 |    94.2 | 108-110,118                 
  errors.js                  |     100 |      100 |     100 |     100 |                             
  fourOhFour.js              |     100 |      100 |     100 |     100 |                             
  handleRequest.js           |   98.48 |    98.03 |     100 |   98.41 | 97                          
  headRoute.js               |      20 |     12.5 |   33.33 |   14.28 | 4-21,26                     
  hooks.js                   |     100 |      100 |     100 |     100 |                             
  initialConfigValidation.js |     100 |      100 |     100 |     100 |                             
  logger.js                  |     100 |      100 |     100 |     100 |                             
  noop-set.js                |     100 |      100 |     100 |     100 |                             
  pluginOverride.js          |   97.56 |       90 |     100 |    97.5 | 75                          
  pluginUtils.js             |     100 |      100 |     100 |     100 |                             
  reply.js                   |    87.7 |    84.86 |   88.88 |   88.76 | ...-618,622-627,648-654,659 
  reqIdGenFactory.js         |     100 |      100 |     100 |     100 |                             
  request.js                 |   87.96 |    90.62 |      80 |   89.42 | 45-54,157-167,206,211       
  route.js                   |   88.84 |    88.04 |     100 |   88.69 | ...,355-362,396-397,461,465 
  schema-controller.js       |    92.3 |    79.41 |   84.61 |    92.3 | 23,58,71                    
  schemas.js                 |   92.64 |    93.65 |   88.88 |   94.02 | 28,32,43,147                
  server.js                  |     100 |      100 |     100 |     100 |                             
  symbols.js                 |     100 |      100 |     100 |     100 |                             
  validation.js              |   98.55 |    96.55 |     100 |   98.43 | 22                          
  warnings.js                |     100 |      100 |     100 |     100 |                             
  wrapThenable.js            |   93.33 |       90 |     100 |   93.33 | 11                          
-----------------------------|---------|----------|---------|---------|-----------------------------

> fastify@4.3.0 lint:typescript
> eslint -c types/.eslintrc.json types/**/*.d.ts test/types/**/*.test-d.ts


> fastify@4.3.0 lint:markdown
> markdownlint-cli2

markdownlint-cli2 v0.4.0 (markdownlint v0.25.1)

> fastify@4.3.0 unit
> tap

TAP version 13
# Subtest: test/404s.test.js
    # Subtest: default 404
        1..4
        ok 1 - should not error
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - unsupported method # time=32.214ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - framework-unsupported method # time=7.15ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - unsupported route # time=6.194ms
        
    ok 1 - default 404 # time=198.623ms
    
    # Subtest: customized 404
        1..6
        ok 1 - should not error
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - unsupported method # time=11.775ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - framework-unsupported method # time=4.093ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - unsupported route # time=3.881ms
        
        # Subtest: with error object
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - with error object # time=7.989ms
        
        # Subtest: error object with headers property
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 6 - error object with headers property # time=6.043ms
        
    ok 2 - customized 404 # time=47.708ms
    
    # Subtest: custom header in notFound handler
        1..2
        ok 1 - should not error
        # Subtest: not found with custom header
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
        ok 2 - not found with custom header # time=19.154ms
        
    ok 3 - custom header in notFound handler # time=41.439ms
    
    # Subtest: setting a custom 404 handler multiple times is an error
        1..5
        # Subtest: at the root level
            1..2
            ok 1 - type is Error
            ok 2 - should be equal
        ok 1 - at the root level # time=2.891ms
        
        # Subtest: at the plugin level
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 2 - at the plugin level # time=23.297ms
        
        # Subtest: at multiple levels
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 3 - at multiple levels # time=6.528ms
        
        # Subtest: at multiple levels / 2
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 4 - at multiple levels / 2 # time=14.987ms
        
        # Subtest: in separate plugins at the same level
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 5 - in separate plugins at the same level # time=11.163ms
        
    ok 4 - setting a custom 404 handler multiple times is an error # time=69.187ms
    
    # Subtest: encapsulated 404
        1..13
        ok 1 - should not error
        # Subtest: root unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - root unsupported method # time=32.093ms
        
        # Subtest: root framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - root framework-unsupported method # time=3.773ms
        
        # Subtest: root unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - root unsupported route # time=3.693ms
        
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 5 - unsupported method # time=4.066ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 6 - framework-unsupported method # time=3.842ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 7 - unsupported route # time=3.417ms
        
        # Subtest: unsupported method 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 8 - unsupported method 2 # time=3.625ms
        
        # Subtest: framework-unsupported method 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 9 - framework-unsupported method 2 # time=3.597ms
        
        # Subtest: unsupported route 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 10 - unsupported route 2 # time=3.492ms
        
        # Subtest: unsupported method 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 11 - unsupported method 3 # time=3.864ms
        
        # Subtest: framework-unsupported method 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 12 - framework-unsupported method 3 # time=2.988ms
        
        # Subtest: unsupported route 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 13 - unsupported route 3 # time=3.27ms
        
    ok 5 - encapsulated 404 # time=102.79ms
    
    # Subtest: custom 404 hook and handler context
        1..21
        not ok 1 - test unfinished
          ---
          stack: |
            Object.<anonymous> (test/404s.test.js:548:1)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          test: custom 404 hook and handler context
          at:
            line: 548
            column: 1
            file: test/404s.test.js
            function: Object.<anonymous>
          source: |
          
            test('custom 404 hook and handler context', t => {
            ^
              t.plan(21)
          ...
        
        # test count(1) != plan(21)
        # failed 1 test
    not ok 6 - custom 404 hook and handler context # time=117.413ms
    
    not ok 7 - child test left in queue: t.test encapsulated custom 404 without - prefix hook and handler context
    not ok 8 - child test left in queue: t.test run hooks on default 404
    not ok 9 - child test left in queue: t.test run non-encapsulated plugin hooks on default 404
    not ok 10 - child test left in queue: t.test run non-encapsulated plugin hooks on custom 404
    not ok 11 - child test left in queue: t.test run hook with encapsulated 404
    not ok 12 - child test left in queue: t.test run hook with encapsulated 404 and framework-unsupported method
    not ok 13 - child test left in queue: t.test hooks check 404
    not ok 14 - child test left in queue: t.test setNotFoundHandler should not suppress duplicated routes checking
    not ok 15 - child test left in queue: t.test log debug for 404
    not ok 16 - child test left in queue: t.test Unknown method
    not ok 17 - child test left in queue: t.test recognizes errors from the http-errors module
    not ok 18 - child test left in queue: t.test the default 404 handler can be invoked inside a prefixed plugin
    not ok 19 - child test left in queue: t.test an inherited custom 404 handler can be invoked inside a prefixed plugin
    not ok 20 - child test left in queue: t.test encapsulated custom 404 handler without a prefix is the handler for the entire 404 level
    not ok 21 - child test left in queue: t.test cannot set notFoundHandler after binding
    not ok 22 - child test left in queue: t.test 404 inside onSend
    not ok 23 - child test left in queue: t.test onSend hooks run when an encapsulated route invokes the notFound handler
    not ok 24 - child test left in queue: t.test preHandler option for setNotFoundHandler
    not ok 25 - child test left in queue: t.test reply.notFound invoked the notFound handler
    not ok 26 - child test left in queue: t.test The custom error handler should be invoked after the custom not found handler
    not ok 27 - child test left in queue: t.test If the custom not found handler does not use an Error, the custom error handler should not be called
    not ok 28 - child test left in queue: t.test preValidation option
    not ok 29 - child test left in queue: t.test preValidation option could accept an array of functions
    not ok 30 - child test left in queue: t.test Should fail to invoke callNotFound inside a 404 handler
    not ok 31 - child test left in queue: t.test 400 in case of bad url (pre find-my-way v2.2.0 was a 404)
    not ok 32 - child test left in queue: t.test setNotFoundHandler should be chaining fastify instance
    not ok 33 - child test left in queue: t.test Send 404 when frameworkError calls reply.callNotFound
    1..6
    # test count(33) != plan(6)
    # failed 55 of 33 tests
    # time=596.262ms
not ok 1 - test/404s.test.js # time=596.262ms
  ---
  env: {}
  file: test/404s.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/404s.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify
  failures:
    - &a1
      id: 7
      name: "child test left in queue: t.test encapsulated custom 404 without - prefix
        hook and handler context"
      fullname: test/404s.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 6
    - &a2
      id: 8
      name: "child test left in queue: t.test run hooks on default 404"
      fullname: test/404s.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 6
    - &a3
      id: 9
      name: "child test left in queue: t.test run non-encapsulated plugin hooks on
        default 404"
      fullname: test/404s.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 6
    - &a4
      id: 10
      name: "child test left in queue: t.test run non-encapsulated plugin hooks on
        custom 404"
      fullname: test/404s.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 6
    - &a5
      id: 11
      name: "child test left in queue: t.test run hook with encapsulated 404"
      fullname: test/404s.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 6
    - &a6
      id: 12
      name: "child test left in queue: t.test run hook with encapsulated 404 and
        framework-unsupported method"
      fullname: test/404s.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 6
    - &a7
      id: 13
      name: "child test left in queue: t.test hooks check 404"
      fullname: test/404s.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 6
    - &a8
      id: 14
      name: "child test left in queue: t.test setNotFoundHandler should not suppress
        duplicated routes checking"
      fullname: test/404s.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 6
    - &a9
      id: 15
      name: "child test left in queue: t.test log debug for 404"
      fullname: test/404s.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 6
    - &a10
      id: 16
      name: "child test left in queue: t.test Unknown method"
      fullname: test/404s.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 6
    - &a11
      id: 17
      name: "child test left in queue: t.test recognizes errors from the http-errors
        module"
      fullname: test/404s.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 6
    - &a12
      id: 18
      name: "child test left in queue: t.test the default 404 handler can be invoked
        inside a prefixed plugin"
      fullname: test/404s.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 6
    - &a13
      id: 19
      name: "child test left in queue: t.test an inherited custom 404 handler can be
        invoked inside a prefixed plugin"
      fullname: test/404s.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 6
    - &a14
      id: 20
      name: "child test left in queue: t.test encapsulated custom 404 handler without
        a prefix is the handler for the entire 404 level"
      fullname: test/404s.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 6
    - &a15
      id: 21
      name: "child test left in queue: t.test cannot set notFoundHandler after binding"
      fullname: test/404s.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 6
    - &a16
      id: 22
      name: "child test left in queue: t.test 404 inside onSend"
      fullname: test/404s.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 6
    - &a17
      id: 23
      name: "child test left in queue: t.test onSend hooks run when an encapsulated
        route invokes the notFound handler"
      fullname: test/404s.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 6
    - &a18
      id: 24
      name: "child test left in queue: t.test preHandler option for setNotFoundHandler"
      fullname: test/404s.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 6
    - &a19
      id: 25
      name: "child test left in queue: t.test reply.notFound invoked the notFound
        handler"
      fullname: test/404s.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 6
    - &a20
      id: 26
      name: "child test left in queue: t.test The custom error handler should be
        invoked after the custom not found handler"
      fullname: test/404s.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 6
    - &a21
      id: 27
      name: "child test left in queue: t.test If the custom not found handler does not
        use an Error, the custom error handler should not be called"
      fullname: test/404s.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 6
    - &a22
      id: 28
      name: "child test left in queue: t.test preValidation option"
      fullname: test/404s.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 6
    - &a23
      id: 29
      name: "child test left in queue: t.test preValidation option could accept an
        array of functions"
      fullname: test/404s.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 6
    - &a24
      id: 30
      name: "child test left in queue: t.test Should fail to invoke callNotFound
        inside a 404 handler"
      fullname: test/404s.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 6
    - &a25
      id: 31
      name: "child test left in queue: t.test 400 in case of bad url (pre find-my-way
        v2.2.0 was a 404)"
      fullname: test/404s.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 6
    - &a26
      id: 32
      name: "child test left in queue: t.test setNotFoundHandler should be chaining
        fastify instance"
      fullname: test/404s.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 6
    - &a27
      id: 33
      name: "child test left in queue: t.test Send 404 when frameworkError calls
        reply.callNotFound"
      fullname: test/404s.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 6
    - *a1
    - *a2
    - *a3
    - *a4
    - *a5
    - *a6
    - *a7
    - *a8
    - *a9
    - *a10
    - *a11
    - *a12
    - *a13
    - *a14
    - *a15
    - *a16
    - *a17
    - *a18
    - *a19
    - *a20
    - *a21
    - *a22
    - *a23
    - *a24
    - *a25
    - *a26
    - *a27
  exitCode: 1
  ...

# Subtest: test/500s.test.js
    # Subtest: default 500
        1..4
        not ok 1 - test unfinished
          ---
          stack: |
            Object.<anonymous> (test/500s.test.js:8:1)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          test: default 500
          at:
            line: 8
            column: 1
            file: test/500s.test.js
            function: Object.<anonymous>
          source: |
          
            test('default 500', t => {
            ^
              t.plan(4)
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 1 - default 500 # time=151.495ms
    
    not ok 2 - child test left in queue: t.test custom 500
    not ok 3 - child test left in queue: t.test encapsulated 500
    not ok 4 - child test left in queue: t.test custom 500 with hooks
    not ok 5 - child test left in queue: t.test cannot set errorHandler after binding
    1..1
    # test count(5) != plan(1)
    # failed 9 of 5 tests
    # time=156.294ms
not ok 2 - test/500s.test.js # time=156.294ms
  ---
  env: {}
  file: test/500s.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/500s.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify
  failures:
    - &a1
      id: 2
      name: "child test left in queue: t.test custom 500"
      fullname: test/500s.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a2
      id: 3
      name: "child test left in queue: t.test encapsulated 500"
      fullname: test/500s.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a3
      id: 4
      name: "child test left in queue: t.test custom 500 with hooks"
      fullname: test/500s.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a4
      id: 5
      name: "child test left in queue: t.test cannot set errorHandler after binding"
      fullname: test/500s.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - *a1
    - *a2
    - *a3
    - *a4
  exitCode: 1
  ...

# Subtest: test/allowUnsafeRegex.test.js
    # Subtest: allow unsafe regex
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - allow unsafe regex # time=68.167ms
    
    # Subtest: allow unsafe regex not match
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 2 - allow unsafe regex not match # time=11.56ms
    
    # Subtest: allow unsafe regex not safe
        1..1
        ok 1 - expected to throw
    ok 3 - allow unsafe regex not safe # time=82.683ms
    
    # Subtest: allow unsafe regex not safe by default
        1..1
        ok 1 - expected to throw
    ok 4 - allow unsafe regex not safe by default # time=2.803ms
    
    # Subtest: allow unsafe regex allow unsafe
        1..5
        ok 1 - expected to not throw
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 5 - allow unsafe regex allow unsafe # time=10.13ms
    
    1..5
    # time=213.344ms
ok 3 - test/allowUnsafeRegex.test.js # time=213.344ms

# Subtest: test/als.test.js
    ok 1 - should not error
    ok 2 - expect truthy value
    ok 3 - should not error
    ok 4 - should be equal
    ok 5 - should be equivalent
    ok 6 - expect truthy value
    ok 7 - should not error
    ok 8 - should be equal
    ok 9 - should be equivalent
    ok 10 - expect truthy value
    ok 11 - should not error
    ok 12 - should be equal
    ok 13 - should be equivalent
    1..13
    # time=45.68ms
ok 4 - test/als.test.js # time=45.68ms

# Subtest: test/async-await.test.js
    # Subtest: async await
        1..11
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 1 - async await # time=319.477ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (undefined)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 2 - ignore the result of the promise if reply.send is called beforehand (undefined) # time=11.958ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (object)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 3 - ignore the result of the promise if reply.send is called beforehand (object) # time=14.701ms
    
    # Subtest: server logs an error if reply.send is called and a value is returned via async/await
        1..5
        not ok 1 - test unfinished
          ---
          stack: |
            Object.<anonymous> (test/async-await.test.js:126:1)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          test: server logs an error if reply.send is called and a value is returned via
            async/await
          at:
            line: 126
            column: 1
            file: test/async-await.test.js
            function: Object.<anonymous>
          source: >
          
            test('server logs an error if reply.send is called and a value is returned via async/await', t => {
          
            ^
              const lines = ['incoming request', 'request completed', 'Reply already sent']
              t.plan(lines.length + 2)
          ...
        
        # test count(1) != plan(5)
        # failed 1 test
    not ok 4 - server logs an error if reply.send is called and a value is returned via async/await # time=121.592ms
    
    not ok 5 - child test left in queue: t.test ignore the result of the promise if reply.send is called beforehand (undefined)
    not ok 6 - child test left in queue: t.test ignore the result of the promise if reply.send is called beforehand (object)
    not ok 7 - child test left in queue: t.test await reply if we will be calling reply.send in the future
    not ok 8 - child test left in queue: t.test await reply if we will be calling reply.send in the future (error case)
    not ok 9 - child test left in queue: t.test support reply decorators with await
    not ok 10 - child test left in queue: t.test inject async await
    not ok 11 - child test left in queue: t.test inject async await - when the server equal up
    not ok 12 - child test left in queue: t.test async await plugin
    not ok 13 - child test left in queue: t.test does not call reply.send() twice if 204 response equal already sent
    not ok 14 - child test left in queue: t.test promise was fulfilled with undefined
    not ok 15 - child test left in queue: t.test error is not logged because promise was fulfilled with undefined but response was sent before promise resolution
    not ok 16 - child test left in queue: t.test Thrown Error instance sets HTTP status code
    not ok 17 - child test left in queue: t.test customErrorHandler support
    not ok 18 - child test left in queue: t.test customErrorHandler support without throwing
    not ok 19 - child test left in queue: t.test customErrorHandler only called if reply not already sent
    not ok 20 - child test left in queue: t.test setNotFoundHandler should accept return value
    not ok 21 - child test left in queue: t.test customErrorHandler should accept return value
    not ok 22 - child test left in queue: t.test await self
    1..4
    # test count(22) != plan(4)
    # failed 37 of 22 tests
    # time=476.896ms
not ok 5 - test/async-await.test.js # time=476.896ms
  ---
  env: {}
  file: test/async-await.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/async-await.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify
  failures:
    - &a1
      id: 5
      name: "child test left in queue: t.test ignore the result of the promise if
        reply.send is called beforehand (undefined)"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 4
    - &a2
      id: 6
      name: "child test left in queue: t.test ignore the result of the promise if
        reply.send is called beforehand (object)"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 4
    - &a3
      id: 7
      name: "child test left in queue: t.test await reply if we will be calling
        reply.send in the future"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 4
    - &a4
      id: 8
      name: "child test left in queue: t.test await reply if we will be calling
        reply.send in the future (error case)"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 4
    - &a5
      id: 9
      name: "child test left in queue: t.test support reply decorators with await"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 4
    - &a6
      id: 10
      name: "child test left in queue: t.test inject async await"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 4
    - &a7
      id: 11
      name: "child test left in queue: t.test inject async await - when the server
        equal up"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 4
    - &a8
      id: 12
      name: "child test left in queue: t.test async await plugin"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 4
    - &a9
      id: 13
      name: "child test left in queue: t.test does not call reply.send() twice if 204
        response equal already sent"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 4
    - &a10
      id: 14
      name: "child test left in queue: t.test promise was fulfilled with undefined"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 4
    - &a11
      id: 15
      name: "child test left in queue: t.test error is not logged because promise was
        fulfilled with undefined but response was sent before promise resolution"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 4
    - &a12
      id: 16
      name: "child test left in queue: t.test Thrown Error instance sets HTTP status
        code"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 4
    - &a13
      id: 17
      name: "child test left in queue: t.test customErrorHandler support"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 4
    - &a14
      id: 18
      name: "child test left in queue: t.test customErrorHandler support without
        throwing"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 4
    - &a15
      id: 19
      name: "child test left in queue: t.test customErrorHandler only called if reply
        not already sent"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 4
    - &a16
      id: 20
      name: "child test left in queue: t.test setNotFoundHandler should accept return
        value"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 4
    - &a17
      id: 21
      name: "child test left in queue: t.test customErrorHandler should accept return
        value"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 4
    - &a18
      id: 22
      name: "child test left in queue: t.test await self"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 4
    - *a1
    - *a2
    - *a3
    - *a4
    - *a5
    - *a6
    - *a7
    - *a8
    - *a9
    - *a10
    - *a11
    - *a12
    - *a13
    - *a14
    - *a15
    - *a16
    - *a17
    - *a18
  exitCode: 1
  ...

# Subtest: test/bodyLimit.test.js
    # Subtest: bodyLimit
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should not error
        ok 5 - should be equal
    ok 1 - bodyLimit # time=38.06ms
    
    1..1
    # time=42.823ms
ok 6 - test/bodyLimit.test.js # time=42.823ms

# Subtest: test/build/error-serializer.test.js
    # Subtest: check generated code syntax
        1..1
        ok 1 - should be equal
    ok 1 - check generated code syntax # time=3844.215ms
    
    ok 2 - ensure the current error serializer is latest # SKIP
    1..2
    # skip: 1
    # time=3905.367ms
ok 7 - test/build/error-serializer.test.js # time=3905.367ms

# Subtest: test/build/version.test.js
    # Subtest: should be the same as package.json
        1..1
        ok 1 - should be equal
    ok 1 - should be the same as package.json # time=6.784ms
    
    1..1
    # time=13.333ms
ok 8 - test/build/version.test.js # time=13.333ms

# Subtest: test/case-insensitive.test.js
    # Subtest: case insensitive
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - case insensitive # time=69.546ms
    
    # Subtest: case insensitive inject
        1..4
        ok 1 - should not error
        not ok 2 - optsValidator is not a function
          ---
          stack: |
            doInject (node_modules/light-my-request/index.js:36:27)
            lightMyRequest (node_modules/light-my-request/index.js:15:12)
            Object.inject (fastify.js:481:14)
            cb (test/case-insensitive.test.js:51:13)
            onListen (lib/server.js:67:11)
            GetAddrInfoReqWrap.callback (lib/server.js:144:7)
          at:
            line: 36
            column: 27
            file: node_modules/light-my-request/index.js
            function: doInject
          type: TypeError
          tapCaught: uncaughtException
          test: case insensitive inject
          source: >2
                assert(typeof dispatchFunc === 'function', 'dispatchFunc should be a function')
                const isOptionValid = optsValidator(options)
            --------------------------^
                if (!isOptionValid) {
                  throw new Error(optsValidator.errors.map(e => e.message))
          ...
        
        # test count(2) != plan(4)
        # failed 1 of 2 tests
    not ok 2 - case insensitive inject # time=124.21ms
    
    # Subtest: case insensitive (parametric)
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 3 - case insensitive (parametric) # time=18.196ms
    
    # Subtest: case insensitive (wildcard)
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 4 - case insensitive (wildcard) # time=28.176ms
    
    1..4
    # failed 1 of 4 tests
    # time=260.439ms
not ok 9 - test/case-insensitive.test.js # time=260.439ms
  ---
  env: {}
  file: test/case-insensitive.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/case-insensitive.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify
  exitCode: 1
  ...

# Subtest: test/chainable.test.js
    # Subtest: chainable - get
        1..1
        ok 1 - type is [object Object]
    ok 1 - chainable - get # time=9.658ms
    
    # Subtest: chainable - post
        1..1
        ok 1 - type is [object Object]
    ok 2 - chainable - post # time=2.072ms
    
    # Subtest: chainable - route
        1..1
        ok 1 - type is [object Object]
    ok 3 - chainable - route # time=2.141ms
    
    1..3
    # time=25.683ms
ok 10 - test/chainable.test.js # time=25.683ms

# Subtest: test/close-pipelining.test.js
    # Subtest: Should return 503 while closing - pipelining
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        1..3
    ok 1 - Should return 503 while closing - pipelining # time=76.034ms
    
    # Subtest: Should not return 503 while closing - pipelining - return503OnClosing
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        1..3
    ok 2 - Should not return 503 while closing - pipelining - return503OnClosing # time=19.151ms
    
    1..2
    # time=202.042ms
ok 11 - test/close-pipelining.test.js # time=202.042ms

# Subtest: test/close.test.js
    # Subtest: close callback
        1..4
        ok 1 - should not error
        ok 2 - type is [object Object]
        ok 3 - should not error
        ok 4 - expect truthy value
    ok 1 - close callback # time=84.979ms
    
    # Subtest: inside register
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - expect truthy value
    ok 2 - inside register # time=26.605ms
    
    # Subtest: close order
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 3 - close order # time=43.294ms
    
    # Subtest: close order - async
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 4 - close order - async # time=19.43ms
    
    # Subtest: should not throw an error if the server is not listening
        1..2
        ok 1 - type is [object Object]
        ok 2 - should not error
    ok 5 - should not throw an error if the server is not listening # time=3.863ms
    
    # Subtest: onClose should keep the context
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
    ok 6 - onClose should keep the context # time=24.537ms
    
    # Subtest: Should return error while closing (promise) - injection
        1..4
        not ok 1 - test unfinished
          ---
          stack: |
            Object.<anonymous> (test/close.test.js:143:1)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          test: Should return error while closing (promise) - injection
          at:
            line: 143
            column: 1
            file: test/close.test.js
            function: Object.<anonymous>
          source: |
          
            test('Should return error while closing (promise) - injection', t => {
            ^
              t.plan(4)
              const fastify = Fastify()
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 7 - Should return error while closing (promise) - injection # time=142.595ms
    
    not ok 8 - child test left in queue: t.test Should return error while closing (callback) - injection
    not ok 9 - child test left in queue: t.test Current opened connection should continue to work after closing and return "connection: close" header - return503OnClosing: false
    not ok 10 - child test left in queue: t.test Current opened connection should not accept new incoming connections
    not ok 11 - child test left in queue: t.test Cannot be reopened the closed server without listen callback
    not ok 12 - child test left in queue: t.test Cannot be reopened the closed server has listen callback
    ok 13 - shutsdown while keep-alive connections are active (non-async, native) # SKIP
    ok 14 - shutsdown while keep-alive connections are active (non-async, idle, native) # SKIP
    not ok 15 - child test left in queue: t.test shutsdown while keep-alive connections are active (non-async, custom)
    1..9
    # test count(15) != plan(9)
    # failed 13 of 15 tests
    # skip: 2
    # time=354.39ms
not ok 12 - test/close.test.js # time=354.39ms
  ---
  env: {}
  file: test/close.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/close.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify
  failures:
    - &a1
      id: 10
      name: "child test left in queue: t.test Current opened connection should not
        accept new incoming connections"
      fullname: test/close.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 9
    - &a2
      id: 11
      name: "child test left in queue: t.test Cannot be reopened the closed server
        without listen callback"
      fullname: test/close.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 9
    - &a3
      id: 12
      name: "child test left in queue: t.test Cannot be reopened the closed server has
        listen callback"
      fullname: test/close.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 9
    - &a4
      id: 15
      name: "child test left in queue: t.test shutsdown while keep-alive connections
        are active (non-async, custom)"
      fullname: test/close.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 9
    - *a1
    - *a2
    - *a3
    - id: 13
      skip: true
      name: shutsdown while keep-alive connections are active (non-async, native)
      fullname: test/close.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 9
    - id: 14
      skip: true
      name: shutsdown while keep-alive connections are active (non-async, idle, native)
      fullname: test/close.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 9
    - *a4
  exitCode: 1
  ...

# Subtest: test/connectionTimeout.test.js
    # Subtest: connectionTimeout
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 1 - connectionTimeout # time=41.544ms
    
    1..1
    # time=47.464ms
ok 13 - test/connectionTimeout.test.js # time=47.464ms

# Subtest: test/constrained-routes.test.js
    # Subtest: Should register a host constrained route
        1..7
        not ok 1 - test unfinished
          ---
          stack: |
            Object.<anonymous> (test/constrained-routes.test.js:7:1)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          test: Should register a host constrained route
          at:
            line: 7
            column: 1
            file: test/constrained-routes.test.js
            function: Object.<anonymous>
          source: |
          
            test('Should register a host constrained route', t => {
            ^
              t.plan(7)
              const fastify = Fastify()
          ...
        
        # test count(1) != plan(7)
        # failed 1 test
    not ok 1 - Should register a host constrained route # time=185.217ms
    
    not ok 2 - child test left in queue: t.test Should register the same route with host constraints
    not ok 3 - child test left in queue: t.test Should allow registering custom constrained routes
    not ok 4 - child test left in queue: t.test Should allow registering custom constrained routes outside constructor
    not ok 5 - child test left in queue: t.test Add a constraint strategy after fastify instance was started
    not ok 6 - child test left in queue: t.test Add a constraint strategy should throw an error if there already exist custom strategy with the same name
    not ok 7 - child test left in queue: t.test Add a constraint strategy shouldn't throw an error if default constraint with the same name isn't used
    not ok 8 - child test left in queue: t.test Add a constraint strategy should throw an error if default constraint with the same name is used
    not ok 9 - child test left in queue: t.test The hasConstraintStrategy should return false for default constraints until they are used
    not ok 10 - child test left in queue: t.test The hasConstraintStrategy should return true if there already exist a custom constraint with the same name
    not ok 11 - child test left in queue: t.test Should allow registering an unconstrained route after a constrained route
    not ok 12 - child test left in queue: t.test Should allow registering constrained routes in a prefixed plugin
    not ok 13 - child test left in queue: t.test Should allow registering a constrained GET route after a constrained HEAD route
    not ok 14 - child test left in queue: t.test Should allow registering a constrained GET route after an unconstrained HEAD route
    not ok 15 - child test left in queue: t.test Will not try to re-createprefixed HEAD route if it already exists and exposeHeadRoutes is true for constrained routes
    not ok 16 - child test left in queue: t.test allows separate constrained and unconstrained HEAD routes
    1..1
    # test count(16) != plan(1)
    # failed 31 of 16 tests
    # time=191.741ms
not ok 14 - test/constrained-routes.test.js # time=191.741ms
  ---
  env: {}
  file: test/constrained-routes.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/constrained-routes.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify
  failures:
    - &a1
      id: 2
      name: "child test left in queue: t.test Should register the same route with host
        constraints"
      fullname: test/constrained-routes.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a2
      id: 3
      name: "child test left in queue: t.test Should allow registering custom
        constrained routes"
      fullname: test/constrained-routes.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a3
      id: 4
      name: "child test left in queue: t.test Should allow registering custom
        constrained routes outside constructor"
      fullname: test/constrained-routes.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a4
      id: 5
      name: "child test left in queue: t.test Add a constraint strategy after fastify
        instance was started"
      fullname: test/constrained-routes.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a5
      id: 6
      name: "child test left in queue: t.test Add a constraint strategy should throw
        an error if there already exist custom strategy with the same name"
      fullname: test/constrained-routes.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a6
      id: 7
      name: "child test left in queue: t.test Add a constraint strategy shouldn't
        throw an error if default constraint with the same name isn't used"
      fullname: test/constrained-routes.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a7
      id: 8
      name: "child test left in queue: t.test Add a constraint strategy should throw
        an error if default constraint with the same name is used"
      fullname: test/constrained-routes.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a8
      id: 9
      name: "child test left in queue: t.test The hasConstraintStrategy should return
        false for default constraints until they are used"
      fullname: test/constrained-routes.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a9
      id: 10
      name: "child test left in queue: t.test The hasConstraintStrategy should return
        true if there already exist a custom constraint with the same name"
      fullname: test/constrained-routes.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a10
      id: 11
      name: "child test left in queue: t.test Should allow registering an
        unconstrained route after a constrained route"
      fullname: test/constrained-routes.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a11
      id: 12
      name: "child test left in queue: t.test Should allow registering constrained
        routes in a prefixed plugin"
      fullname: test/constrained-routes.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a12
      id: 13
      name: "child test left in queue: t.test Should allow registering a constrained
        GET route after a constrained HEAD route"
      fullname: test/constrained-routes.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a13
      id: 14
      name: "child test left in queue: t.test Should allow registering a constrained
        GET route after an unconstrained HEAD route"
      fullname: test/constrained-routes.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a14
      id: 15
      name: "child test left in queue: t.test Will not try to re-createprefixed HEAD
        route if it already exists and exposeHeadRoutes is true for constrained
        routes"
      fullname: test/constrained-routes.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a15
      id: 16
      name: "child test left in queue: t.test allows separate constrained and
        unconstrained HEAD routes"
      fullname: test/constrained-routes.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - *a1
    - *a2
    - *a3
    - *a4
    - *a5
    - *a6
    - *a7
    - *a8
    - *a9
    - *a10
    - *a11
    - *a12
    - *a13
    - *a14
    - *a15
  exitCode: 1
  ...

# Subtest: test/content-length.test.js
    # Subtest: default 413 with bodyLimit option
        1..4
        not ok 1 - test unfinished
          ---
          stack: |
            Object.<anonymous> (test/content-length.test.js:7:1)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          test: default 413 with bodyLimit option
          at:
            line: 7
            column: 1
            file: test/content-length.test.js
            function: Object.<anonymous>
          source: |
          
            test('default 413 with bodyLimit option', t => {
            ^
              t.plan(4)
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 1 - default 413 with bodyLimit option # time=142.593ms
    
    not ok 2 - child test left in queue: t.test default 400 with wrong content-length
    not ok 3 - child test left in queue: t.test custom 413 with bodyLimit option
    not ok 4 - child test left in queue: t.test custom 400 with wrong content-length
    not ok 5 - child test left in queue: t.test \#2214 - wrong content-length
    not ok 6 - child test left in queue: t.test \#2543 - wrong content-length with errorHandler
    1..1
    # test count(6) != plan(1)
    # failed 11 of 6 tests
    # time=147.69ms
not ok 15 - test/content-length.test.js # time=147.69ms
  ---
  env: {}
  file: test/content-length.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/content-length.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify
  failures:
    - &a1
      id: 2
      name: "child test left in queue: t.test default 400 with wrong content-length"
      fullname: test/content-length.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a2
      id: 3
      name: "child test left in queue: t.test custom 413 with bodyLimit option"
      fullname: test/content-length.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a3
      id: 4
      name: "child test left in queue: t.test custom 400 with wrong content-length"
      fullname: test/content-length.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a4
      id: 5
      name: "child test left in queue: t.test #2214 - wrong content-length"
      fullname: test/content-length.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a5
      id: 6
      name: "child test left in queue: t.test #2543 - wrong content-length with
        errorHandler"
      fullname: test/content-length.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - *a1
    - *a2
    - *a3
    - *a4
    - *a5
  exitCode: 1
  ...

# Subtest: test/content-parser.test.js
    # Subtest: hasContentTypeParser
        1..0
    ok 1 - hasContentTypeParser # time=12.127ms
    
    # Subtest: should know about internal parsers
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
    ok 2 - should know about internal parsers # time=44.91ms
    
    # Subtest: should work with string and RegExp
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect falsey value
    ok 3 - should work with string and RegExp # time=9.143ms
    
    # Subtest: getParser
        1..0
    ok 4 - getParser # time=149.917ms
    
    # Subtest: existingParser
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect falsey value
        1..7
    ok 5 - existingParser # time=15.134ms
    
    # Subtest: add
        1..0
    ok 6 - add # time=27.499ms
    
    # Subtest: non-Error thrown from content parser is properly handled
        1..3
        not ok 1 - test unfinished
          ---
          stack: |
            Object.<anonymous> (test/content-parser.test.js:205:1)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          test: non-Error thrown from content parser is properly handled
          at:
            line: 205
            column: 1
            file: test/content-parser.test.js
            function: Object.<anonymous>
          source: |
          
            test('non-Error thrown from content parser is properly handled', t => {
            ^
              t.plan(3)
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 7 - non-Error thrown from content parser is properly handled # time=51.413ms
    
    not ok 8 - child test left in queue: t.test Error thrown 415 from content type is null and make post request to server
    not ok 9 - child test left in queue: t.test remove
    not ok 10 - child test left in queue: t.test remove all should remove all existing parsers and reset cache
    not ok 11 - child test left in queue: t.test should return matching parser
    not ok 12 - child test left in queue: t.test should return matching parser with caching
    not ok 13 - child test left in queue: t.test should prefer content type parser with string value
    not ok 14 - child test left in queue: t.test should return parser that catches all if no other is set
    not ok 15 - child test left in queue: t.test should return undefined if no matching parser exist
    not ok 16 - child test left in queue: t.test returns always false for "*"
    not ok 17 - child test left in queue: t.test let you override the default parser once
    not ok 18 - child test left in queue: t.test should only accept string and RegExp
    not ok 19 - child test left in queue: t.test should set "*" as parser that catches all
    1..7
    # test count(19) != plan(7)
    # failed 25 of 19 tests
    # time=328.77ms
not ok 16 - test/content-parser.test.js # time=328.77ms
  ---
  env: {}
  file: test/content-parser.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/content-parser.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify
  failures:
    - &a1
      id: 8
      name: "child test left in queue: t.test Error thrown 415 from content type is
        null and make post request to server"
      fullname: test/content-parser.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 7
    - &a2
      id: 9
      name: "child test left in queue: t.test remove"
      fullname: test/content-parser.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 7
    - &a3
      id: 10
      name: "child test left in queue: t.test remove all should remove all existing
        parsers and reset cache"
      fullname: test/content-parser.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 7
    - &a4
      id: 11
      name: "child test left in queue: t.test should return matching parser"
      fullname: test/content-parser.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 7
    - &a5
      id: 12
      name: "child test left in queue: t.test should return matching parser with
        caching"
      fullname: test/content-parser.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 7
    - &a6
      id: 13
      name: "child test left in queue: t.test should prefer content type parser with
        string value"
      fullname: test/content-parser.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 7
    - &a7
      id: 14
      name: "child test left in queue: t.test should return parser that catches all if
        no other is set"
      fullname: test/content-parser.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 7
    - &a8
      id: 15
      name: "child test left in queue: t.test should return undefined if no matching
        parser exist"
      fullname: test/content-parser.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 7
    - &a9
      id: 16
      name: 'child test left in queue: t.test returns always false for "*"'
      fullname: test/content-parser.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 7
    - &a10
      id: 17
      name: "child test left in queue: t.test let you override the default parser once"
      fullname: test/content-parser.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 7
    - &a11
      id: 18
      name: "child test left in queue: t.test should only accept string and RegExp"
      fullname: test/content-parser.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 7
    - &a12
      id: 19
      name: 'child test left in queue: t.test should set "*" as parser that catches
        all'
      fullname: test/content-parser.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 7
    - *a1
    - *a2
    - *a3
    - *a4
    - *a5
    - *a6
    - *a7
    - *a8
    - *a9
    - *a10
    - *a11
    - *a12
  exitCode: 1
  ...

# Subtest: test/context-config.test.js
    # Subtest: config
        1..9
        not ok 1 - test unfinished
          ---
          stack: |
            Object.<anonymous> (test/context-config.test.js:19:1)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          test: config
          at:
            line: 19
            column: 1
            file: test/context-config.test.js
            function: Object.<anonymous>
          source: |
          
            test('config', t => {
            ^
              t.plan(9)
              const fastify = Fastify()
          ...
        
        # test count(1) != plan(9)
        # failed 1 test
    not ok 1 - config # time=171.963ms
    
    not ok 2 - child test left in queue: t.test config with exposeHeadRoutes
    not ok 3 - child test left in queue: t.test config without exposeHeadRoutes
    1..1
    # test count(3) != plan(1)
    # failed 5 of 3 tests
    # time=179.452ms
not ok 17 - test/context-config.test.js # time=179.452ms
  ---
  env: {}
  file: test/context-config.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/context-config.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify
  failures:
    - &a1
      id: 2
      name: "child test left in queue: t.test config with exposeHeadRoutes"
      fullname: test/context-config.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a2
      id: 3
      name: "child test left in queue: t.test config without exposeHeadRoutes"
      fullname: test/context-config.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - *a1
    - *a2
  exitCode: 1
  ...

# Subtest: test/custom-http-server.test.js
    # Subtest: Should support a custom http server
        1..4
        ok 1 - it is called twice for every HOST interface
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - Should support a custom http server # time=63.244ms
    
    # Subtest: Should not allow forceCloseConnection=idle if the server does not support closeIdleConnections
        1..1
        ok 1 - Cannot set forceCloseConnections to 'idle' as your HTTP server does not support closeIdleConnections method
    ok 2 - Should not allow forceCloseConnection=idle if the server does not support closeIdleConnections # time=3.726ms
    
    1..2
    # time=74.649ms
ok 18 - test/custom-http-server.test.js # time=74.649ms

# Subtest: test/custom-parser-async.test.js
    # Subtest: contentTypeParser should add a custom async parser
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=31.641ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=8.04ms
        
    ok 1 - contentTypeParser should add a custom async parser # time=112.234ms
    
    1..1
    # time=118.29ms
ok 19 - test/custom-parser-async.test.js # time=118.29ms

# Subtest: test/custom-parser.test.js
    # Subtest: contentTypeParser method should exist
        1..1
        ok 1 - expect truthy value
    ok 1 - contentTypeParser method should exist # time=16.748ms
    
    # Subtest: contentTypeParser should add a custom parser
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=26.34ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=6.22ms
        
    ok 2 - contentTypeParser should add a custom parser # time=187.204ms
    
    # Subtest: contentTypeParser should handle multiple custom parsers
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 3 - contentTypeParser should handle multiple custom parsers # time=25.03ms
    
    # Subtest: contentTypeParser should handle an array of custom contentTypes
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 4 - contentTypeParser should handle an array of custom contentTypes # time=23.936ms
    
    # Subtest: contentTypeParser should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 5 - contentTypeParser should handle errors # time=10.374ms
    
    # Subtest: contentTypeParser should support encapsulation
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - expect falsey value
        ok 6 - expect falsey value
    ok 6 - contentTypeParser should support encapsulation # time=8.892ms
    
    # Subtest: contentTypeParser should support encapsulation, second try
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - contentTypeParser should support encapsulation, second try # time=8.455ms
    
    # Subtest: contentTypeParser shouldn't support request with undefined "Content-Type"
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 8 - contentTypeParser shouldn't support request with undefined "Content-Type" # time=11.304ms
    
    # Subtest: the content type should be a string or RegExp
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 9 - the content type should be a string or RegExp # time=2.077ms
    
    # Subtest: the content type cannot be an empty string
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 10 - the content type cannot be an empty string # time=2.191ms
    
    # Subtest: the content type handler should be a function
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 11 - the content type handler should be a function # time=1.956ms
    
    # Subtest: catch all content type parser
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 12 - catch all content type parser # time=11.009ms
    
    # Subtest: catch all content type parser should not interfere with other conte type parsers
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 13 - catch all content type parser should not interfere with other conte type parsers # time=10.238ms
    
    # Subtest: '*' catch undefined Content-Type requests
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - '*' catch undefined Content-Type requests # time=20.783ms
    
    # Subtest: cannot add custom parser after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 15 - cannot add custom parser after binding # time=4.87ms
    
    # Subtest: Can override the default json parser
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 16 - Can override the default json parser # time=29.274ms
    
    # Subtest: Can override the default plain text parser
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 17 - Can override the default plain text parser # time=11.707ms
    
    # Subtest: Can override the default json parser in a plugin
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 18 - Can override the default json parser in a plugin # time=9.997ms
    
    # Subtest: Can't override the json parser multiple times
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 19 - Can't override the json parser multiple times # time=2.138ms
    
    # Subtest: Can't override the plain text parser multiple times
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 20 - Can't override the plain text parser multiple times # time=2.962ms
    
    # Subtest: Should get the body as string
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 21 - Should get the body as string # time=9.92ms
    
    # Subtest: Should return defined body with no custom parser defined and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 22 - Should return defined body with no custom parser defined and content type = 'text/plain' # time=27.936ms
    
    # Subtest: Should have typeof body object with no custom parser defined, no body defined and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 23 - Should have typeof body object with no custom parser defined, no body defined and content type = 'text/plain' # time=11.783ms
    
    # Subtest: Should have typeof body object with no custom parser defined, null body and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 24 - Should have typeof body object with no custom parser defined, null body and content type = 'text/plain' # time=7.578ms
    
    # Subtest: Should have typeof body object with no custom parser defined, undefined body and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 25 - Should have typeof body object with no custom parser defined, undefined body and content type = 'text/plain' # time=7.259ms
    
    # Subtest: Should get the body as string
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 26 - Should get the body as string # time=7.703ms
    
    # Subtest: Should get the body as buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 27 - Should get the body as buffer # time=7.98ms
    
    # Subtest: Should get the body as buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 28 - Should get the body as buffer # time=6.782ms
    
    # Subtest: Should parse empty bodies as a string
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 29 - Should parse empty bodies as a string # time=23.503ms
    
    # Subtest: Should parse empty bodies as a buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 30 - Should parse empty bodies as a buffer # time=6.953ms
    
    # Subtest: The charset should not interfere with the content type handling
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 31 - The charset should not interfere with the content type handling # time=6.203ms
    
    # Subtest: Wrong parseAs parameter
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 32 - Wrong parseAs parameter # time=1.439ms
    
    # Subtest: Should allow defining the bodyLimit per parser
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent strictly
    ok 33 - Should allow defining the bodyLimit per parser # time=11.469ms
    
    # Subtest: route bodyLimit should take precedence over a custom parser bodyLimit
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent strictly
    ok 34 - route bodyLimit should take precedence over a custom parser bodyLimit # time=6.588ms
    
    # Subtest: should be able to use default parser for extra content type
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent strictly
    ok 35 - should be able to use default parser for extra content type # time=15.129ms
    
    # Subtest: contentTypeParser should add a custom parser with RegExp value
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=4.72ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=10.339ms
        
    ok 36 - contentTypeParser should add a custom parser with RegExp value # time=25.458ms
    
    # Subtest: contentTypeParser should add multiple custom parsers with RegExp values
        1..6
        not ok 1 - optsValidator is not a function
          ---
          stack: |
            doInject (node_modules/light-my-request/index.js:36:27)
            Chain.<computed> [as then] (node_modules/light-my-request/index.js:150:23)
          at:
            line: 36
            column: 27
            file: node_modules/light-my-request/index.js
            function: doInject
          type: TypeError
          tapCaught: returnedPromiseRejection
          test: contentTypeParser should add multiple custom parsers with RegExp values
          source: >2
                assert(typeof dispatchFunc === 'function', 'dispatchFunc should be a function')
                const isOptionValid = optsValidator(options)
            --------------------------^
                if (!isOptionValid) {
                  throw new Error(optsValidator.errors.map(e => e.message))
          ...
        
        # test count(1) != plan(6)
        # failed 1 test
    not ok 37 - contentTypeParser should add multiple custom parsers with RegExp values # time=46.293ms
    
    # Subtest: catch all content type parser should not interfere with content type parser
        1..10
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 38 - catch all content type parser should not interfere with content type parser # time=36.232ms
    
    # Subtest: should prefer string content types over RegExp ones
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 39 - should prefer string content types over RegExp ones # time=16.811ms
    
    # Subtest: removeContentTypeParser should support arrays of content types to remove
        1..8
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 40 - removeContentTypeParser should support arrays of content types to remove # time=42.225ms
    
    # Subtest: removeContentTypeParser should support encapsulation
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 41 - removeContentTypeParser should support encapsulation # time=21.509ms
    
    # Subtest: removeAllContentTypeParsers should support encapsulation
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 42 - removeAllContentTypeParsers should support encapsulation # time=10.912ms
    
    # Subtest: cannot remove all content type parsers after binding
        1..2
        ok 1 - should not error
        ok 2 - expected to throw
    ok 43 - cannot remove all content type parsers after binding # time=4.016ms
    
    # Subtest: cannot remove content type parsers after binding
        1..2
        ok 1 - should not error
        ok 2 - expected to throw
    ok 44 - cannot remove content type parsers after binding # time=2.799ms
    
    # Subtest: should be able to override the default json parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 45 - should be able to override the default json parser after removeAllContentTypeParsers # time=6.257ms
    
    # Subtest: should be able to override the default plain text parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 46 - should be able to override the default plain text parser after removeAllContentTypeParsers # time=6.631ms
    
    # Subtest: should be able to add a custom content type parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 47 - should be able to add a custom content type parser after removeAllContentTypeParsers # time=6.965ms
    
    1..47
    # failed 1 of 47 tests
    # time=836.306ms
not ok 20 - test/custom-parser.test.js # time=836.306ms
  ---
  env: {}
  file: test/custom-parser.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/custom-parser.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify
  exitCode: 1
  ...

# Subtest: test/custom-querystring-parser.test.js
    # Subtest: Custom querystring parser
        1..9
        ok 1 - should not error
        not ok 2 - optsValidator is not a function
          ---
          stack: |
            doInject (node_modules/light-my-request/index.js:36:27)
            lightMyRequest (node_modules/light-my-request/index.js:15:12)
            Object.inject (fastify.js:481:14)
            cb (test/custom-querystring-parser.test.js:39:13)
            onListen (lib/server.js:67:11)
            GetAddrInfoReqWrap.callback (lib/server.js:144:7)
          at:
            line: 36
            column: 27
            file: node_modules/light-my-request/index.js
            function: doInject
          type: TypeError
          tapCaught: uncaughtException
          test: Custom querystring parser
          source: >2
                assert(typeof dispatchFunc === 'function', 'dispatchFunc should be a function')
                const isOptionValid = optsValidator(options)
            --------------------------^
                if (!isOptionValid) {
                  throw new Error(optsValidator.errors.map(e => e.message))
          ...
        
        # test count(2) != plan(9)
        # failed 1 of 2 tests
    not ok 1 - Custom querystring parser # time=163.822ms
    
    # Subtest: Custom querystring parser should be called also if there is nothing to parse
        1..9
        not ok 3 - connect ECONNRESET 127.0.0.1:35207
          ---
          origin:
            at:
              line: 1247
              column: 16
              file: node:net
              function: TCPConnectWrap.afterConnect
              method: oncomplete
            errno: -104
            code: ECONNRESET
            syscall: connect
            address: 127.0.0.1
            port: 35207
          found:
            !error
            name: Error
            message: connect ECONNRESET 127.0.0.1:35207
            stack: |-
              Error: connect ECONNRESET 127.0.0.1:35207
                  at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1247:16)
            errno: -104
            code: ECONNRESET
            syscall: connect
            address: 127.0.0.1
            port: 35207
          at:
            line: 35
            column: 9
            file: test/custom-querystring-parser.test.js
          stack: |
            test/custom-querystring-parser.test.js:35:9
            ClientRequest.<anonymous> (node_modules/simple-get/index.js:88:21)
            ClientRequest.f (node_modules/once/once.js:25:25)
          source: |2
                }, (err, response, body) => {
                  t.error(err)
            --------^
                  t.equal(response.statusCode, 200)
                })
          ...
        
        ok 1 - should not error
        not ok 2 - optsValidator is not a function
          ---
          stack: |
            doInject (node_modules/light-my-request/index.js:36:27)
            lightMyRequest (node_modules/light-my-request/index.js:15:12)
            Object.inject (fastify.js:481:14)
            cb (test/custom-querystring-parser.test.js:76:13)
            onListen (lib/server.js:67:11)
            GetAddrInfoReqWrap.callback (lib/server.js:144:7)
          at:
            line: 36
            column: 27
            file: node_modules/light-my-request/index.js
            function: doInject
          type: TypeError
          tapCaught: uncaughtException
          test: Custom querystring parser should be called also if there is nothing to parse
          source: >2
                assert(typeof dispatchFunc === 'function', 'dispatchFunc should be a function')
                const isOptionValid = optsValidator(options)
            --------------------------^
                if (!isOptionValid) {
                  throw new Error(optsValidator.errors.map(e => e.message))
          ...
        
        # test count(2) != plan(9)
        # failed 1 of 2 tests
        # test count(3) != plan(9)
        # failed 2 of 3 tests
    not ok 2 - Custom querystring parser should be called also if there is nothing to parse # time=49.988ms
    
    # Subtest: Querystring without value
        1..9
        not ok 3 - connect ECONNRESET 127.0.0.1:40019
          ---
          origin:
            at:
              line: 1247
              column: 16
              file: node:net
              function: TCPConnectWrap.afterConnect
              method: oncomplete
            errno: -104
            code: ECONNRESET
            syscall: connect
            address: 127.0.0.1
            port: 40019
          found:
            !error
            name: Error
            message: connect ECONNRESET 127.0.0.1:40019
            stack: |-
              Error: connect ECONNRESET 127.0.0.1:40019
                  at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1247:16)
            errno: -104
            code: ECONNRESET
            syscall: connect
            address: 127.0.0.1
            port: 40019
          at:
            line: 72
            column: 9
            file: test/custom-querystring-parser.test.js
          stack: |
            test/custom-querystring-parser.test.js:72:9
            ClientRequest.<anonymous> (node_modules/simple-get/index.js:88:21)
            ClientRequest.f (node_modules/once/once.js:25:25)
          source: |2
                }, (err, response, body) => {
                  t.error(err)
            --------^
                  t.equal(response.statusCode, 200)
                })
          ...
        
        ok 1 - should not error
        not ok 2 - optsValidator is not a function
          ---
          stack: |
            doInject (node_modules/light-my-request/index.js:36:27)
            lightMyRequest (node_modules/light-my-request/index.js:15:12)
            Object.inject (fastify.js:481:14)
            cb (test/custom-querystring-parser.test.js:113:13)
            onListen (lib/server.js:67:11)
            GetAddrInfoReqWrap.callback (lib/server.js:144:7)
          at:
            line: 36
            column: 27
            file: node_modules/light-my-request/index.js
            function: doInject
          type: TypeError
          tapCaught: uncaughtException
          test: Querystring without value
          source: >2
                assert(typeof dispatchFunc === 'function', 'dispatchFunc should be a function')
                const isOptionValid = optsValidator(options)
            --------------------------^
                if (!isOptionValid) {
                  throw new Error(optsValidator.errors.map(e => e.message))
          ...
        
        # test count(2) != plan(9)
        # failed 1 of 2 tests
        # test count(3) != plan(9)
        # failed 2 of 3 tests
    not ok 3 - Querystring without value # time=109.153ms
    
    # Subtest: Custom querystring parser should be a function
        1..1
        ok 1 - should be equal
    ok 4 - Custom querystring parser should be a function # time=1.6ms
    
    not ok 5 - Cannot read properties of undefined (reading 'statusCode')
      ---
      at:
        line: 36
        column: 24
        file: test/custom-querystring-parser.test.js
      stack: |
        test/custom-querystring-parser.test.js:36:24
        ClientRequest.<anonymous> (node_modules/simple-get/index.js:88:21)
        ClientRequest.f (node_modules/once/once.js:25:25)
      type: TypeError
      tapCaught: uncaughtException
      test: TAP
      source: |2
              t.error(err)
              t.equal(response.statusCode, 200)
        -----------------------^
            })
      ...
    
    not ok 6 - Cannot read properties of undefined (reading 'statusCode')
      ---
      at:
        line: 73
        column: 24
        file: test/custom-querystring-parser.test.js
      stack: |
        test/custom-querystring-parser.test.js:73:24
        ClientRequest.<anonymous> (node_modules/simple-get/index.js:88:21)
        ClientRequest.f (node_modules/once/once.js:25:25)
      type: TypeError
      tapCaught: uncaughtException
      test: TAP
      source: |2
              t.error(err)
              t.equal(response.statusCode, 200)
        -----------------------^
            })
      ...
    
    # Subtest
        not ok 3 - connect ECONNRESET 127.0.0.1:33719
          ---
          origin:
            at:
              line: 1247
              column: 16
              file: node:net
              function: TCPConnectWrap.afterConnect
              method: oncomplete
            errno: -104
            code: ECONNRESET
            syscall: connect
            address: 127.0.0.1
            port: 33719
          found:
            !error
            name: Error
            message: connect ECONNRESET 127.0.0.1:33719
            stack: |-
              Error: connect ECONNRESET 127.0.0.1:33719
                  at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1247:16)
            errno: -104
            code: ECONNRESET
            syscall: connect
            address: 127.0.0.1
            port: 33719
          at:
            line: 109
            column: 9
            file: test/custom-querystring-parser.test.js
          stack: |
            test/custom-querystring-parser.test.js:109:9
            ClientRequest.<anonymous> (node_modules/simple-get/index.js:88:21)
            ClientRequest.f (node_modules/once/once.js:25:25)
          source: |2
                }, (err, response, body) => {
                  t.error(err)
            --------^
                  t.equal(response.statusCode, 200)
                })
          ...
        
        # test count(1) != plan(null)
        # failed 2 test
    not ok 7 - Cannot read properties of undefined (reading 'statusCode')
      ---
      at:
        line: 110
        column: 24
        file: test/custom-querystring-parser.test.js
      stack: |
        test/custom-querystring-parser.test.js:110:24
        ClientRequest.<anonymous> (node_modules/simple-get/index.js:88:21)
        ClientRequest.f (node_modules/once/once.js:25:25)
      type: TypeError
      tapCaught: uncaughtException
      test: TAP
      source: |2
              t.error(err)
              t.equal(response.statusCode, 200)
        -----------------------^
            })
      ...
    
    1..7
    # failed 6 of 7 tests
    # time=388.428ms
not ok 21 - test/custom-querystring-parser.test.js # time=388.428ms
  ---
  env: {}
  file: test/custom-querystring-parser.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/custom-querystring-parser.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify
  exitCode: 1
  ...

# Subtest: test/decorator.test.js
    # Subtest: server methods should exist
        1..2
        ok 1 - expect truthy value
        ok 2 - expect truthy value
    ok 1 - server methods should exist # time=15.632ms
    
    # Subtest: should check if the given decoration already exist when null
        1..1
        ok 1 - expect truthy value
    ok 2 - should check if the given decoration already exist when null # time=84.359ms
    
    # Subtest: server methods should be encapsulated via .register
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 3 - server methods should be encapsulated via .register # time=7.651ms
    
    # Subtest: hasServerMethod should check if the given method already exist
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 4 - hasServerMethod should check if the given method already exist # time=16.992ms
    
    # Subtest: decorate should throw if a declared dependency is not present
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - (unnamed test)
    ok 5 - decorate should throw if a declared dependency is not present # time=16.479ms
    
    # Subtest: decorate should throw if declared dependency is not array
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - (unnamed test)
    ok 6 - decorate should throw if declared dependency is not array # time=6.182ms
    
    # Subtest: should pass error for missing request decorator
        1..2
        ok 1 - type is Error
        ok 2 - should match pattern provided
    ok 7 - should pass error for missing request decorator # time=6.773ms
    
    # Subtest: decorateReply inside register
        1..11
        ok 1 - should not error
        ok 2 - test exists
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 8 - decorateReply inside register # time=44.537ms
    
    # Subtest: decorateReply as plugin (inside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 9 - decorateReply as plugin (inside .after) # time=22.464ms
    
    # Subtest: decorateReply as plugin (outside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 10 - decorateReply as plugin (outside .after) # time=16.635ms
    
    # Subtest: decorateRequest inside register
        1..11
        ok 1 - should not error
        ok 2 - test exists
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 11 - decorateRequest inside register # time=20.229ms
    
    # Subtest: decorateRequest as plugin (inside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 12 - decorateRequest as plugin (inside .after) # time=18.983ms
    
    # Subtest: decorateRequest as plugin (outside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 13 - decorateRequest as plugin (outside .after) # time=41.817ms
    
    # Subtest: decorators should be instance separated
        1..1
        ok 1 - (unnamed test)
    ok 14 - decorators should be instance separated # time=2.772ms
    
    # Subtest: hasRequestDecorator
        # Subtest: is a function
            1..1
            ok 1 - expect truthy value
        ok 1 - is a function # time=1.83ms
        
        # Subtest: should check if the given request decoration already exist
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 2 - should check if the given request decoration already exist # time=2.458ms
        
        # Subtest: should check if the given request decoration already exist when null
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 3 - should check if the given request decoration already exist when null # time=2.384ms
        
        # Subtest: should be plugin encapsulable
            1..4
            ok 1 - expect falsey value
            ok 2 - expect falsey value
            ok 3 - expect truthy value
            ok 4 - expect falsey value
        ok 4 - should be plugin encapsulable # time=11.412ms
        
        # Subtest: should be inherited
            1..2
            ok 1 - expect truthy value
            ok 2 - expect truthy value
        ok 5 - should be inherited # time=22.378ms
        
        1..5
    ok 15 - hasRequestDecorator # time=63.577ms
    
    # Subtest: hasReplyDecorator
        # Subtest: is a function
            1..1
            ok 1 - expect truthy value
        ok 1 - is a function # time=2.178ms
        
        # Subtest: should check if the given reply decoration already exist
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 2 - should check if the given reply decoration already exist # time=2.375ms
        
        # Subtest: should check if the given reply decoration already exist when null
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 3 - should check if the given reply decoration already exist when null # time=2.283ms
        
        # Subtest: should be plugin encapsulable
            1..4
            ok 1 - expect falsey value
            ok 2 - expect falsey value
            ok 3 - expect truthy value
            ok 4 - expect falsey value
        ok 4 - should be plugin encapsulable # time=12.828ms
        
        # Subtest: should be inherited
            1..2
            ok 1 - expect truthy value
            ok 2 - expect truthy value
        ok 5 - should be inherited # time=12.679ms
        
        1..5
    ok 16 - hasReplyDecorator # time=144.745ms
    
    # Subtest: should register properties via getter/setter objects
        1..3
        ok 1 - expect truthy value
        ok 2 - a getter
        ok 3 - expect falsey value
    ok 17 - should register properties via getter/setter objects # time=21.38ms
    
    # Subtest: decorateRequest should work with getter/setter
        1..5
        not ok 1 - optsValidator is not a function
          ---
          stack: |
            doInject (node_modules/light-my-request/index.js:36:27)
            lightMyRequest (node_modules/light-my-request/index.js:15:12)
            cb (fastify.js:487:14)
            manageErr (fastify.js:540:11)
            fastify.js:520:11
            Object._encapsulateThreeParam (node_modules/avvio/boot.js:557:7)
            Boot.timeoutCall (node_modules/avvio/boot.js:453:5)
            Boot.callWithCbOrNextTick (node_modules/avvio/boot.js:435:19)
            Object.push (node_modules/fastq/queue.js:110:14)
            Boot.ready (node_modules/avvio/boot.js:336:18)
          at:
            line: 36
            column: 27
            file: node_modules/light-my-request/index.js
            function: doInject
          type: TypeError
          tapCaught: uncaughtException
          test: decorateRequest should work with getter/setter
          source: >2
                assert(typeof dispatchFunc === 'function', 'dispatchFunc should be a function')
                const isOptionValid = optsValidator(options)
            --------------------------^
                if (!isOptionValid) {
                  throw new Error(optsValidator.errors.map(e => e.message))
          ...
        
        # test count(1) != plan(5)
        # failed 1 test
    not ok 18 - decorateRequest should work with getter/setter # time=75.516ms
    
    # Subtest: decorateReply should work with getter/setter
        1..5
        not ok 1 - optsValidator is not a function
          ---
          stack: |
            doInject (node_modules/light-my-request/index.js:36:27)
            lightMyRequest (node_modules/light-my-request/index.js:15:12)
            cb (fastify.js:487:14)
            manageErr (fastify.js:540:11)
            fastify.js:520:11
            Object._encapsulateThreeParam (node_modules/avvio/boot.js:557:7)
            Boot.timeoutCall (node_modules/avvio/boot.js:453:5)
            Boot.callWithCbOrNextTick (node_modules/avvio/boot.js:435:19)
            Object.push (node_modules/fastq/queue.js:110:14)
            Boot.ready (node_modules/avvio/boot.js:336:18)
          at:
            line: 36
            column: 27
            file: node_modules/light-my-request/index.js
            function: doInject
          type: TypeError
          tapCaught: uncaughtException
          test: decorateReply should work with getter/setter
          source: >2
                assert(typeof dispatchFunc === 'function', 'dispatchFunc should be a function')
                const isOptionValid = optsValidator(options)
            --------------------------^
                if (!isOptionValid) {
                  throw new Error(optsValidator.errors.map(e => e.message))
          ...
        
        # test count(1) != plan(5)
        # failed 1 test
    not ok 19 - decorateReply should work with getter/setter # time=19.299ms
    
    # Subtest: should register empty values
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 20 - should register empty values # time=3.957ms
    
    # Subtest: nested plugins can override things
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 21 - nested plugins can override things # time=4.537ms
    
    # Subtest: a decorator should addSchema to all the encapsulated tree
        1..1
        ok 1 - should not error
    ok 22 - a decorator should addSchema to all the encapsulated tree # time=4.006ms
    
    # Subtest: after can access to a decorated instance and previous plugin decoration
        1..11
        not ok 1 - optsValidator is not a function
          ---
          stack: |
            doInject (node_modules/light-my-request/index.js:36:27)
            Chain.<computed> [as then] (node_modules/light-my-request/index.js:150:23)
            Test.<anonymous> (test/decorator.test.js:752:6)
          at:
            line: 36
            column: 27
            file: node_modules/light-my-request/index.js
            function: doInject
          type: TypeError
          tapCaught: testFunctionThrow
          test: after can access to a decorated instance and previous plugin decoration
          source: >2
                assert(typeof dispatchFunc === 'function', 'dispatchFunc should be a function')
                const isOptionValid = optsValidator(options)
            --------------------------^
                if (!isOptionValid) {
                  throw new Error(optsValidator.errors.map(e => e.message))
          ...
        
        # test count(1) != plan(11)
        # failed 1 test
    not ok 23 - after can access to a decorated instance and previous plugin decoration # time=9.61ms
    
    # Subtest: decorate* should throw if called after ready
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 24 - decorate* should throw if called after ready # time=7.832ms
    
    # Subtest: decorate* should emit warning if an array is passed
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 25 - decorate* should emit warning if an array is passed # time=25.511ms
    
    # Subtest: decorate* should emit warning if object type is passed
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 26 - decorate* should emit warning if object type is passed # time=22.702ms
    
    # Subtest: decorate* should not emit warning if object with getter/setter is passed
        1..0
    ok 27 - decorate* should not emit warning if object with getter/setter is passed # time=22.722ms
    
    # Subtest: decorate* should not emit warning if string,bool,numbers are passed
        1..0
    ok 28 - decorate* should not emit warning if string,bool,numbers are passed # time=32.849ms
    
    # Subtest: Request/reply decorators should be able to access the server instance
        1..6
        not ok 1 - optsValidator is not a function
          ---
          stack: |
            doInject (node_modules/light-my-request/index.js:36:27)
            Chain.<computed> [as then] (node_modules/light-my-request/index.js:150:23)
          at:
            line: 36
            column: 27
            file: node_modules/light-my-request/index.js
            function: doInject
          type: TypeError
          tapCaught: returnedPromiseRejection
          test: Request/reply decorators should be able to access the server instance
          source: >2
                assert(typeof dispatchFunc === 'function', 'dispatchFunc should be a function')
                const isOptionValid = optsValidator(options)
            --------------------------^
                if (!isOptionValid) {
                  throw new Error(optsValidator.errors.map(e => e.message))
          ...
        
        # test count(1) != plan(6)
        # failed 1 test
    not ok 29 - Request/reply decorators should be able to access the server instance # time=12.494ms
    
    # Subtest: plugin required decorators
        1..0
    ok 30 - plugin required decorators # time=3.93ms
    
    # Subtest: decorateRequest/decorateReply empty string
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 31 - decorateRequest/decorateReply empty string # time=16.412ms
    
    # Subtest: decorateRequest/decorateReply is undefined
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 32 - decorateRequest/decorateReply is undefined # time=7.845ms
    
    # Subtest: decorateRequest/decorateReply is not set to a value
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 33 - decorateRequest/decorateReply is not set to a value # time=7.687ms
    
    # Subtest: decorateRequest with dependencies
        1..2
        ok 1 - expected to not throw
        ok 2 - expect truthy value
    ok 34 - decorateRequest with dependencies # time=1.628ms
    
    # Subtest: decorateRequest with dependencies (functions)
        1..2
        ok 1 - expected to not throw
        ok 2 - expect truthy value
    ok 35 - decorateRequest with dependencies (functions) # time=1.308ms
    
    # Subtest: chain of decorators on Request
        not ok 1 - optsValidator is not a function
          ---
          stack: |
            doInject (node_modules/light-my-request/index.js:36:27)
            Chain.<computed> [as then] (node_modules/light-my-request/index.js:150:23)
          at:
            line: 36
            column: 27
            file: node_modules/light-my-request/index.js
            function: doInject
          type: TypeError
          tapCaught: returnedPromiseRejection
          test: chain of decorators on Request
          source: >2
                assert(typeof dispatchFunc === 'function', 'dispatchFunc should be a function')
                const isOptionValid = optsValidator(options)
            --------------------------^
                if (!isOptionValid) {
                  throw new Error(optsValidator.errors.map(e => e.message))
          ...
        
        1..1
        # failed 1 test
    not ok 36 - chain of decorators on Request # time=14.142ms
    
    # Subtest: chain of decorators on Reply
        not ok 1 - optsValidator is not a function
          ---
          stack: |
            doInject (node_modules/light-my-request/index.js:36:27)
            Chain.<computed> [as then] (node_modules/light-my-request/index.js:150:23)
          at:
            line: 36
            column: 27
            file: node_modules/light-my-request/index.js
            function: doInject
          type: TypeError
          tapCaught: returnedPromiseRejection
          test: chain of decorators on Reply
          source: >2
                assert(typeof dispatchFunc === 'function', 'dispatchFunc should be a function')
                const isOptionValid = optsValidator(options)
            --------------------------^
                if (!isOptionValid) {
                  throw new Error(optsValidator.errors.map(e => e.message))
          ...
        
        1..1
        # failed 1 test
    not ok 37 - chain of decorators on Reply # time=12.897ms
    
    # Subtest
        not ok 2 - fastify-plugin: Plugin did not start in time: 'bound _encapsulateThreeParam'. You may have forgotten to call 'done' function or to resolve a Promise
          ---
          origin:
            at:
              line: 533
              column: 33
              file: fastify.js
              function: manageErr
            stack: |
              manageErr (fastify.js:533:33)
              fastify.js:520:11
              Object._encapsulateThreeParam (node_modules/avvio/boot.js:557:7)
              Boot.timeoutCall (node_modules/avvio/boot.js:453:5)
              Boot.callWithCbOrNextTick (node_modules/avvio/boot.js:435:19)
              Task.release (node_modules/fastq/queue.js:149:16)
              worked (node_modules/fastq/queue.js:201:10)
              Timeout._onTimeout (node_modules/avvio/boot.js:449:5)
            type: FastifyError
            code: FST_ERR_PLUGIN_TIMEOUT
            statusCode: 500
            cause:
              &a1 !error
              name: AvvioError
              message: "Plugin did not start in time: 'bound _encapsulateThreeParam'. You may
                have forgotten to call 'done' function or to resolve a Promise"
              stack: >-
                AvvioError: Plugin did not start in time: 'bound _encapsulateThreeParam'.
                You may have forgotten to call 'done' function or to resolve a Promise
                    at Timeout._onTimeout (/data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/node_modules/avvio/boot.js:446:21)
                    at listOnTimeout (node:internal/timers:559:17)
                    at processTimers (node:internal/timers:502:7)
              code: AVV_ERR_READY_TIMEOUT
              fn: !function |-
                "bound _encapsulateThreeParam"
                function () { [native code] }
            source: |2
                    err = err != null && AVVIO_ERRORS_MAP[err.code] != null
                      ? appendStackTrace(err, new AVVIO_ERRORS_MAP[err.code](err.message))
              --------------------------------^
                      : err
          found:
            !error
            name: FastifyError
            message: "fastify-plugin: Plugin did not start in time: 'bound
              _encapsulateThreeParam'. You may have forgotten to call 'done' function or
              to resolve a Promise"
            stack: >-
              FastifyError: 
                  at manageErr (/data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js:533:33)
                  at /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js:520:11
                  at Object._encapsulateThreeParam (/data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/node_modules/avvio/boot.js:557:7)
                  at Boot.timeoutCall (/data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/node_modules/avvio/boot.js:453:5)
                  at Boot.callWithCbOrNextTick (/data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/node_modules/avvio/boot.js:435:19)
                  at Task.release (/data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/node_modules/fastq/queue.js:149:16)
                  at worked (/data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/node_modules/fastq/queue.js:201:10)
                  at Timeout._onTimeout (/data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/node_modules/avvio/boot.js:449:5)
                  at listOnTimeout (node:internal/timers:559:17)
                  at processTimers (node:internal/timers:502:7)
            code: FST_ERR_PLUGIN_TIMEOUT
            statusCode: 500
            cause: *a1
          at:
            line: 597
            column: 9
            file: test/decorator.test.js
          stack: |
            cb (test/decorator.test.js:597:9)
            cb (fastify.js:486:18)
            manageErr (fastify.js:538:11)
            fastify.js:520:11
            Object._encapsulateThreeParam (node_modules/avvio/boot.js:557:7)
            Boot.timeoutCall (node_modules/avvio/boot.js:453:5)
            Boot.callWithCbOrNextTick (node_modules/avvio/boot.js:435:19)
            Task.release (node_modules/fastq/queue.js:149:16)
            worked (node_modules/fastq/queue.js:201:10)
            Timeout._onTimeout (node_modules/avvio/boot.js:449:5)
          source: |2
                fastify.inject({ url: '/not-decorated' }, (err, res) => {
                  t.error(err)
            --------^
                  t.pass()
                })
          ...
        
        ok 3 - (unnamed test)
        not ok 2 - fastify-plugin: Plugin did not start in time: 'bound _encapsulateThreeParam'. You may have forgotten to call 'done' function or to resolve a Promise
          ---
          origin:
            at:
              line: 533
              column: 33
              file: fastify.js
              function: manageErr
            stack: |
              manageErr (fastify.js:533:33)
              fastify.js:520:11
              Object._encapsulateThreeParam (node_modules/avvio/boot.js:557:7)
              Boot.timeoutCall (node_modules/avvio/boot.js:453:5)
              Boot.callWithCbOrNextTick (node_modules/avvio/boot.js:435:19)
              Task.release (node_modules/fastq/queue.js:149:16)
              worked (node_modules/fastq/queue.js:201:10)
              Timeout._onTimeout (node_modules/avvio/boot.js:449:5)
            type: FastifyError
            code: FST_ERR_PLUGIN_TIMEOUT
            statusCode: 500
            cause:
              &a1 !error
              name: AvvioError
              message: "Plugin did not start in time: 'bound _encapsulateThreeParam'. You may
                have forgotten to call 'done' function or to resolve a Promise"
              stack: >-
                AvvioError: Plugin did not start in time: 'bound _encapsulateThreeParam'.
                You may have forgotten to call 'done' function or to resolve a Promise
                    at Timeout._onTimeout (/data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/node_modules/avvio/boot.js:446:21)
                    at listOnTimeout (node:internal/timers:559:17)
                    at processTimers (node:internal/timers:502:7)
              code: AVV_ERR_READY_TIMEOUT
              fn: !function |-
                "bound _encapsulateThreeParam"
                function () { [native code] }
            source: |2
                    err = err != null && AVVIO_ERRORS_MAP[err.code] != null
                      ? appendStackTrace(err, new AVVIO_ERRORS_MAP[err.code](err.message))
              --------------------------------^
                      : err
          found:
            !error
            name: FastifyError
            message: "fastify-plugin: Plugin did not start in time: 'bound
              _encapsulateThreeParam'. You may have forgotten to call 'done' function or
              to resolve a Promise"
            stack: >-
              FastifyError: 
                  at manageErr (/data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js:533:33)
                  at /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js:520:11
                  at Object._encapsulateThreeParam (/data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/node_modules/avvio/boot.js:557:7)
                  at Boot.timeoutCall (/data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/node_modules/avvio/boot.js:453:5)
                  at Boot.callWithCbOrNextTick (/data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/node_modules/avvio/boot.js:435:19)
                  at Task.release (/data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/node_modules/fastq/queue.js:149:16)
                  at worked (/data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/node_modules/fastq/queue.js:201:10)
                  at Timeout._onTimeout (/data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/node_modules/avvio/boot.js:449:5)
                  at listOnTimeout (node:internal/timers:559:17)
                  at processTimers (node:internal/timers:502:7)
            code: FST_ERR_PLUGIN_TIMEOUT
            statusCode: 500
            cause: *a1
          at:
            line: 633
            column: 9
            file: test/decorator.test.js
          stack: |
            cb (test/decorator.test.js:633:9)
            cb (fastify.js:486:18)
            manageErr (fastify.js:538:11)
            fastify.js:520:11
            Object._encapsulateThreeParam (node_modules/avvio/boot.js:557:7)
            Boot.timeoutCall (node_modules/avvio/boot.js:453:5)
            Boot.callWithCbOrNextTick (node_modules/avvio/boot.js:435:19)
            Task.release (node_modules/fastq/queue.js:149:16)
            worked (node_modules/fastq/queue.js:201:10)
            Timeout._onTimeout (node_modules/avvio/boot.js:449:5)
          source: |2
                fastify.inject({ url: '/not-decorated' }, (err, res) => {
                  t.error(err)
            --------^
                  t.pass()
                })
          ...
        
        ok 3 - (unnamed test)
    1..37
    # test count(37) != plan(null)
    # failed 7 of 37 tests
    # time=10668.439ms
        # test count(4) != plan(null)
        # failed 5 of 4 tests
not ok 22 - test/decorator.test.js # time=10668.439ms
  ---
  env: {}
  file: test/decorator.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/decorator.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify
  failures:
    - tapError: no plan
  exitCode: 1
  ...

# Subtest: test/default-route.test.js
    # Subtest: should fail if defaultRoute is not a function
        1..1
        ok 1 - should be equal
    ok 1 - should fail if defaultRoute is not a function # time=18.671ms
    
    # Subtest: correctly sets, returns, and calls defaultRoute
        1..3
        ok 1 - should be equal
        not ok 2 - test unfinished
          ---
          stack: |
            Object.<anonymous> (test/default-route.test.js:22:1)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          test: correctly sets, returns, and calls defaultRoute
          at:
            line: 22
            column: 1
            file: test/default-route.test.js
            function: Object.<anonymous>
          source: |
          
            test('correctly sets, returns, and calls defaultRoute', t => {
            ^
              t.plan(3)
          ...
        
        # test count(2) != plan(3)
        # failed 1 of 2 tests
    not ok 2 - correctly sets, returns, and calls defaultRoute # time=116.416ms
    
    1..2
    # failed 1 of 2 tests
    # time=143.097ms
not ok 23 - test/default-route.test.js # time=143.097ms
  ---
  env: {}
  file: test/default-route.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/default-route.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify
  exitCode: 1
  ...

# Subtest: test/delete.test.js
    # Subtest: shorthand - delete
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - delete # time=6.127ms
    
    # Subtest: shorthand - delete params
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - delete params # time=1.562ms
    
    # Subtest: shorthand - delete, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - delete, querystring schema # time=1.175ms
    
    # Subtest: shorthand - get, headers schema
        1..1
        ok 1 - (unnamed test)
    ok 4 - shorthand - get, headers schema # time=1.188ms
    
    # Subtest: missing schema - delete
        1..1
        ok 1 - (unnamed test)
    ok 5 - missing schema - delete # time=2.684ms
    
    # Subtest: body - delete
        1..1
        ok 1 - (unnamed test)
    ok 6 - body - delete # time=1.026ms
    
    # Subtest: shorthand - delete with application/json Content-Type header and without body
        1..4
        not ok 1 - test unfinished
          ---
          stack: |
            Object.<anonymous> (test/delete.test.js:301:1)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          test: shorthand - delete with application/json Content-Type header and without body
          at:
            line: 301
            column: 1
            file: test/delete.test.js
            function: Object.<anonymous>
          source: >
            // https://github.com/fastify/fastify/issues/936
          
            test('shorthand - delete with application/json Content-Type header and without body', t => {
          
            ^
              t.plan(4)
              const fastify = require('..')()
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 7 - shorthand - delete with application/json Content-Type header and without body # time=80.266ms
    
    1..7
    # failed 1 of 7 tests
    # time=111.421ms
not ok 24 - test/delete.test.js # time=111.421ms
  ---
  env: {}
  file: test/delete.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/delete.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify
  exitCode: 1
  ...

# Subtest: test/diagnostics-channel.test.js
    # Subtest: diagnostics_channel when present and subscribers
        1..3
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should be equal
    ok 1 - diagnostics_channel when present and subscribers # time=536.645ms
    
    # Subtest: diagnostics_channel when present and no subscribers
        1..1
        ok 1 - should be equal
    ok 2 - diagnostics_channel when present and no subscribers # time=10.925ms
    
    # Subtest: diagnostics_channel when not present
        1..1
        ok 1 - expected to not throw
    ok 3 - diagnostics_channel when not present # time=10.495ms
    
    1..3
    # time=566.969ms
ok 25 - test/diagnostics-channel.test.js # time=566.969ms

# Subtest: test/encapsulated-error-handler.test.js
    # Subtest: encapuslates an error handler
        1..3
        not ok 1 - optsValidator is not a function
          ---
          stack: |
            doInject (node_modules/light-my-request/index.js:36:27)
            Chain.end (node_modules/light-my-request/index.js:137:21)
            node_modules/light-my-request/index.js:83:14
          at:
            line: 36
            column: 27
            file: node_modules/light-my-request/index.js
            function: doInject
          type: TypeError
          tapCaught: uncaughtException
          test: encapuslates an error handler
          source: >2
                assert(typeof dispatchFunc === 'function', 'dispatchFunc should be a function')
                const isOptionValid = optsValidator(options)
            --------------------------^
                if (!isOptionValid) {
                  throw new Error(optsValidator.errors.map(e => e.message))
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 1 - encapuslates an error handler # time=40.507ms
    
    # Subtest: onError hook nested
        1..4
        not ok 1 - optsValidator is not a function
          ---
          stack: |
            doInject (node_modules/light-my-request/index.js:36:27)
            Chain.<computed> [as then] (node_modules/light-my-request/index.js:150:23)
          at:
            line: 36
            column: 27
            file: node_modules/light-my-request/index.js
            function: doInject
          type: TypeError
          tapCaught: returnedPromiseRejection
          test: onError hook nested
          source: >2
                assert(typeof dispatchFunc === 'function', 'dispatchFunc should be a function')
                const isOptionValid = optsValidator(options)
            --------------------------^
                if (!isOptionValid) {
                  throw new Error(optsValidator.errors.map(e => e.message))
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 2 - onError hook nested # time=5.605ms
    
    not ok 3 - The dispatch function has already been invoked
      ---
      stack: |
        Chain.<computed> [as then] (node_modules/light-my-request/index.js:147:15)
      at:
        line: 147
        column: 15
        file: node_modules/light-my-request/index.js
        function: Chain.<computed>
        method: then
      tapCaught: returnedPromiseRejection
      test: encapuslates an error handler
      source: |2
              if (this._hasInvoked === true) {
                throw new Error(errorMessage)
        --------------^
              }
              this._hasInvoked = true
      ...
    
    1..3
    # failed 3 of 3 tests
    # time=56.969ms
not ok 26 - test/encapsulated-error-handler.test.js # time=56.969ms
  ---
  env: {}
  file: test/encapsulated-error-handler.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/encapsulated-error-handler.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify
  exitCode: 1
  ...

# Subtest: test/esm/index.test.js
    # Subtest: named exports support
        ok 1 - should be equal
        1..1
    ok 1 - named exports support # time=23.333ms
    
    ok 2 - should be equal
    1..2
    # time=27.071ms
ok 27 - test/esm/index.test.js # time=27.071ms

# Subtest: test/fastify-instance.test.js
    # Subtest: root fastify instance is an object
        1..1
        ok 1 - type is object
    ok 1 - root fastify instance is an object # time=9.989ms
    
    # Subtest: fastify instance should contains ajv options
        1..1
        ok 1 - should be equivalent
    ok 2 - fastify instance should contains ajv options # time=4.405ms
    
    # Subtest: fastify instance should contains ajv options.plugins nested arrays
        1..1
        ok 1 - should be equivalent
    ok 3 - fastify instance should contains ajv options.plugins nested arrays # time=2.215ms
    
    # Subtest: fastify instance get invalid ajv options
        1..1
        ok 1 - expected to throw
    ok 4 - fastify instance get invalid ajv options # time=1.279ms
    
    # Subtest: fastify instance get invalid ajv options.plugins
        1..1
        ok 1 - expected to throw
    ok 5 - fastify instance get invalid ajv options.plugins # time=0.929ms
    
    # Subtest: fastify instance should contain default errorHandler
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 6 - fastify instance should contain default errorHandler # time=2.088ms
    
    # Subtest: errorHandler in plugin should be separate from the external one
        1..4
        ok 1 - should not be equivalent
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equivalent
    ok 7 - errorHandler in plugin should be separate from the external one # time=10.444ms
    
    1..7
    # time=45.795ms
ok 28 - test/fastify-instance.test.js # time=45.795ms

# Subtest: test/fluent-schema.test.js
    # Subtest: use fluent-json-schema object
        1..15
        not ok 1 - test unfinished
          ---
          stack: |
            Object.<anonymous> (test/fluent-schema.test.js:8:1)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          test: use fluent-json-schema object
          at:
            line: 8
            column: 1
            file: test/fluent-schema.test.js
            function: Object.<anonymous>
          source: |
          
            test('use fluent-json-schema object', t => {
            ^
              t.plan(15)
              const fastify = Fastify()
          ...
        
        # test count(1) != plan(15)
        # failed 1 test
    not ok 1 - use fluent-json-schema object # time=147.873ms
    
    not ok 2 - child test left in queue: t.test use complex fluent-json-schema object
    not ok 3 - child test left in queue: t.test use fluent schema and plain JSON schema
    not ok 4 - child test left in queue: t.test Should call valueOf internally
    1..1
    # test count(4) != plan(1)
    # failed 7 of 4 tests
    # time=151.537ms
not ok 29 - test/fluent-schema.test.js # time=151.537ms
  ---
  env: {}
  file: test/fluent-schema.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/fluent-schema.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify
  failures:
    - &a1
      id: 2
      name: "child test left in queue: t.test use complex fluent-json-schema object"
      fullname: test/fluent-schema.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a2
      id: 3
      name: "child test left in queue: t.test use fluent schema and plain JSON schema"
      fullname: test/fluent-schema.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a3
      id: 4
      name: "child test left in queue: t.test Should call valueOf internally"
      fullname: test/fluent-schema.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - *a1
    - *a2
    - *a3
  exitCode: 1
  ...

# Subtest: test/genReqId.test.js
    # Subtest: Should accept a custom genReqId function
        1..4
        ok 1 - should not error
        not ok 2 - optsValidator is not a function
          ---
          stack: |
            doInject (node_modules/light-my-request/index.js:36:27)
            lightMyRequest (node_modules/light-my-request/index.js:15:12)
            Object.inject (fastify.js:481:14)
            cb (test/genReqId.test.js:22:13)
            onListen (lib/server.js:67:11)
            GetAddrInfoReqWrap.callback (lib/server.js:144:7)
          at:
            line: 36
            column: 27
            file: node_modules/light-my-request/index.js
            function: doInject
          type: TypeError
          tapCaught: uncaughtException
          test: Should accept a custom genReqId function
          source: >2
                assert(typeof dispatchFunc === 'function', 'dispatchFunc should be a function')
                const isOptionValid = optsValidator(options)
            --------------------------^
                if (!isOptionValid) {
                  throw new Error(optsValidator.errors.map(e => e.message))
          ...
        
        # test count(2) != plan(4)
        # failed 1 of 2 tests
    not ok 1 - Should accept a custom genReqId function # time=96.586ms
    
    # test count(1) != plan(null)
    # failed 2 test
not ok 30 - test/genReqId.test.js # time=30013.676ms
  ---
  env: {}
  file: test/genReqId.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/genReqId.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...

# Subtest: test/get.test.js
    # Subtest: shorthand - get
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - get # time=6.681ms
    
    # Subtest: shorthand - get (return null)
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - get (return null) # time=1.613ms
    
    # Subtest: shorthand - get params
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - get params # time=1.791ms
    
    # Subtest: shorthand - get, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 4 - shorthand - get, querystring schema # time=1.463ms
    
    # Subtest: shorthand - get, headers schema
        1..1
        ok 1 - (unnamed test)
    ok 5 - shorthand - get, headers schema # time=3.003ms
    
    # Subtest: missing schema - get
        1..1
        ok 1 - (unnamed test)
    ok 6 - missing schema - get # time=1.202ms
    
    # Subtest: custom serializer - get
        1..1
        ok 1 - (unnamed test)
    ok 7 - custom serializer - get # time=1.499ms
    
    # Subtest: empty response
        1..1
        ok 1 - (unnamed test)
    ok 8 - empty response # time=1.292ms
    
    # Subtest: send a falsy boolean
        1..1
        ok 1 - (unnamed test)
    ok 9 - send a falsy boolean # time=1.118ms
    
    ok 10 - should not error
    # Subtest: shorthand - request get
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - shorthand - request get # time=25.711ms
    
    # Subtest: shorthand - request get params schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 12 - shorthand - request get params schema # time=5.045ms
    
    # Subtest: shorthand - request get params schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 13 - shorthand - request get params schema error # time=4.635ms
    
    # Subtest: shorthand - request get headers schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - shorthand - request get headers schema # time=3.605ms
    
    # Subtest: shorthand - request get headers schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 15 - shorthand - request get headers schema error # time=3.588ms
    
    # Subtest: shorthand - request get querystring schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 16 - shorthand - request get querystring schema # time=3.862ms
    
    # Subtest: shorthand - request get querystring schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - shorthand - request get querystring schema error # time=3.378ms
    
    # Subtest: shorthand - request get missing schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - shorthand - request get missing schema # time=3.315ms
    
    # Subtest: shorthand - custom serializer
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 19 - shorthand - custom serializer # time=3.87ms
    
    # Subtest: shorthand - empty response
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 20 - shorthand - empty response # time=8.176ms
    
    # Subtest: shorthand - send a falsy boolean
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - shorthand - send a falsy boolean # time=3.044ms
    
    # Subtest: shorthand - send null value
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - shorthand - send null value # time=3.006ms
    
    1..22
    # time=206.269ms
ok 31 - test/get.test.js # time=206.269ms

# Subtest: test/handler-context.test.js
    # Subtest: handlers receive correct `this` context
        1..4
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 1 - handlers receive correct `this` context # time=34.416ms
    
    # Subtest: handlers have access to the internal context
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - type is Object
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 2 - handlers have access to the internal context # time=11.596ms
    
    1..2
    # time=51.304ms
ok 32 - test/handler-context.test.js # time=51.304ms

# Subtest: test/head.test.js
    # Subtest: shorthand - head
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - head # time=6.212ms
    
    # Subtest: shorthand - head params
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - head params # time=1.772ms
    
    # Subtest: shorthand - head, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - head, querystring schema # time=1.249ms
    
    # Subtest: missing schema - head
        1..1
        ok 1 - (unnamed test)
    ok 4 - missing schema - head # time=1.248ms
    
    ok 5 - should not error
    # Subtest: shorthand - request head
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 6 - shorthand - request head # time=26.19ms
    
    # Subtest: shorthand - request head params schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 7 - shorthand - request head params schema # time=4.798ms
    
    # Subtest: shorthand - request head params schema error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 8 - shorthand - request head params schema error # time=4.162ms
    
    # Subtest: shorthand - request head querystring schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 9 - shorthand - request head querystring schema # time=3.354ms
    
    # Subtest: shorthand - request head querystring schema error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - shorthand - request head querystring schema error # time=3.281ms
    
    # Subtest: shorthand - request head missing schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 11 - shorthand - request head missing schema # time=2.865ms
    
    1..11
    # time=150.515ms
ok 33 - test/head.test.js # time=150.515ms

# Subtest: test/hooks-async.test.js
    # Subtest: async hooks
        1..21
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should not error
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equivalent
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - expect truthy value
    ok 1 - async hooks # time=82.408ms
    
    # Subtest: modify payload
        1..10
        not ok 1 - test unfinished
          ---
          stack: |
            Object.<anonymous> (test/hooks-async.test.js:91:1)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          test: modify payload
          at:
            line: 91
            column: 1
            file: test/hooks-async.test.js
            function: Object.<anonymous>
          source: |
          
            test('modify payload', t => {
            ^
              t.plan(10)
              const fastify = Fastify()
          ...
        
        # test count(1) != plan(10)
        # failed 1 test
    not ok 2 - modify payload # time=75.537ms
    
    not ok 3 - child test left in queue: t.test onRequest hooks should be able to block a request
    not ok 4 - child test left in queue: t.test preParsing hooks should be able to modify the payload
    not ok 5 - child test left in queue: t.test preParsing hooks should handle errors
    not ok 6 - child test left in queue: t.test preHandler hooks should be able to block a request
    not ok 7 - child test left in queue: t.test preValidation hooks should be able to block a request
    not ok 8 - child test left in queue: t.test preValidation hooks should be able to change request body before validation
    not ok 9 - child test left in queue: t.test preSerialization hooks should be able to modify the payload
    not ok 10 - child test left in queue: t.test preSerialization hooks should handle errors
    not ok 11 - child test left in queue: t.test preValidation hooks should handle throwing null
    not ok 12 - child test left in queue: t.test preValidation hooks should handle throwing a string
    not ok 13 - child test left in queue: t.test onRequest hooks should be able to block a request (last hook)
    not ok 14 - child test left in queue: t.test preHandler hooks should be able to block a request (last hook)
    not ok 15 - child test left in queue: t.test onRequest respond with a stream
    not ok 16 - child test left in queue: t.test preHandler respond with a stream
    not ok 17 - child test left in queue: t.test Should log a warning if is an async function with `done`
    not ok 18 - child test left in queue: t.test early termination, onRequest async
    not ok 19 - child test left in queue: t.test The this should be the same of the encapsulation level
    not ok 20 - child test left in queue: t.test preSerializationEnd should handle errors if the serialize method throws
    1..2
    # test count(20) != plan(2)
    # failed 37 of 20 tests
    # time=163.279ms
not ok 34 - test/hooks-async.test.js # time=163.279ms
  ---
  env: {}
  file: test/hooks-async.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/hooks-async.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify
  failures:
    - &a1
      id: 3
      name: "child test left in queue: t.test onRequest hooks should be able to block
        a request"
      fullname: test/hooks-async.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a2
      id: 4
      name: "child test left in queue: t.test preParsing hooks should be able to
        modify the payload"
      fullname: test/hooks-async.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a3
      id: 5
      name: "child test left in queue: t.test preParsing hooks should handle errors"
      fullname: test/hooks-async.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a4
      id: 6
      name: "child test left in queue: t.test preHandler hooks should be able to block
        a request"
      fullname: test/hooks-async.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a5
      id: 7
      name: "child test left in queue: t.test preValidation hooks should be able to
        block a request"
      fullname: test/hooks-async.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a6
      id: 8
      name: "child test left in queue: t.test preValidation hooks should be able to
        change request body before validation"
      fullname: test/hooks-async.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a7
      id: 9
      name: "child test left in queue: t.test preSerialization hooks should be able to
        modify the payload"
      fullname: test/hooks-async.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a8
      id: 10
      name: "child test left in queue: t.test preSerialization hooks should handle
        errors"
      fullname: test/hooks-async.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a9
      id: 11
      name: "child test left in queue: t.test preValidation hooks should handle
        throwing null"
      fullname: test/hooks-async.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a10
      id: 12
      name: "child test left in queue: t.test preValidation hooks should handle
        throwing a string"
      fullname: test/hooks-async.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a11
      id: 13
      name: "child test left in queue: t.test onRequest hooks should be able to block
        a request (last hook)"
      fullname: test/hooks-async.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a12
      id: 14
      name: "child test left in queue: t.test preHandler hooks should be able to block
        a request (last hook)"
      fullname: test/hooks-async.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a13
      id: 15
      name: "child test left in queue: t.test onRequest respond with a stream"
      fullname: test/hooks-async.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a14
      id: 16
      name: "child test left in queue: t.test preHandler respond with a stream"
      fullname: test/hooks-async.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a15
      id: 17
      name: "child test left in queue: t.test Should log a warning if is an async
        function with `done`"
      fullname: test/hooks-async.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a16
      id: 18
      name: "child test left in queue: t.test early termination, onRequest async"
      fullname: test/hooks-async.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a17
      id: 19
      name: "child test left in queue: t.test The this should be the same of the
        encapsulation level"
      fullname: test/hooks-async.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a18
      id: 20
      name: "child test left in queue: t.test preSerializationEnd should handle errors
        if the serialize method throws"
      fullname: test/hooks-async.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - *a1
    - *a2
    - *a3
    - *a4
    - *a5
    - *a6
    - *a7
    - *a8
    - *a9
    - *a10
    - *a11
    - *a12
    - *a13
    - *a14
    - *a15
    - *a16
    - *a17
    - *a18
  exitCode: 1
  ...

# Subtest: test/hooks.on-ready.test.js
    # Subtest: onReady should be called in order
        1..7
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
        ok 7 - should not error
    ok 1 - onReady should be called in order # time=43.245ms
    
    # Subtest: async onReady should be called in order
        1..7
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
        ok 7 - ready
    ok 2 - async onReady should be called in order # time=7.44ms
    
    # Subtest: mix ready and onReady
        1..2
        ok 1 - should be equal
        ok 2 - ready hooks execute once
    ok 3 - mix ready and onReady # time=5.104ms
    
    # Subtest: listen and onReady order
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - trigger the onReady
        ok 9 - do not trigger the onReady
    ok 4 - listen and onReady order # time=21.212ms
    
    # Subtest: multiple ready calls
        1..11
        ok 1 - ready and hooks not triggered yet
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - trigger the onReady
        ok 10 - do not trigger the onReady
        ok 11 - do not trigger the onReady
    ok 5 - multiple ready calls # time=6.893ms
    
    # Subtest: onReady should manage error in sync
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 6 - onReady should manage error in sync # time=4.404ms
    
    # Subtest: onReady should manage error in async
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 7 - onReady should manage error in async # time=9.308ms
    
    # Subtest: onReady should manage sync error
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 8 - onReady should manage sync error # time=5.108ms
    
    # Subtest: onReady can not add decorators or application hooks
        1..3
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should not error
    ok 9 - onReady can not add decorators or application hooks # time=5.035ms
    
    # Subtest: onReady cannot add lifecycle hooks
        1..5
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 10 - onReady cannot add lifecycle hooks # time=9.527ms
    
    # Subtest: onReady throw loading error
        1..1
        ok 1 - expect truthy value
    ok 11 - onReady throw loading error # time=1.708ms
    
    # Subtest: onReady does not call done
        1..6
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
        ok 6 - should be equal
    ok 12 - onReady does not call done # time=505.288ms
    
    # Subtest: onReady execution order
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 13 - onReady execution order # time=4.864ms
    
    # Subtest: ready return the server with callback
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 14 - ready return the server with callback # time=11.315ms
    
    # Subtest: ready return the server with Promise
        1..1
        ok 1 - should be equivalent
    ok 15 - ready return the server with Promise # time=5.692ms
    
    # Subtest: ready return registered
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
    ok 16 - ready return registered # time=6.846ms
    
    1..16
    # time=668.449ms
ok 35 - test/hooks.on-ready.test.js # time=668.449ms

# Subtest: test/hooks.test.js
    # Subtest: hooks
        1..43
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - (unnamed test)
        ok 4 - (unnamed test)
        ok 5 - (unnamed test)
        ok 6 - (unnamed test)
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - expect truthy value
        ok 20 - expect truthy value
        ok 21 - expect truthy value
        ok 22 - expect truthy value
        ok 23 - should be equal
        ok 24 - should be equal
        ok 25 - should be equal
        ok 26 - should be equal
        ok 27 - should be equal
        ok 28 - should be equal
        ok 29 - should be equal
        ok 30 - should be equal
        ok 31 - should be equal
        ok 32 - expect truthy value
        ok 33 - expect truthy value
        ok 34 - expect truthy value
        ok 35 - expect truthy value
        ok 36 - should not error
        ok 37 - should be equal
        ok 38 - should be equal
        ok 39 - should be equivalent
        ok 40 - should not error
        ok 41 - should be equal
        ok 42 - should not error
        ok 43 - should be equal
    ok 1 - hooks # time=158.669ms
    
    # Subtest: onRequest hook should support encapsulation / 1
        1..5
        not ok 1 - test unfinished
          ---
          stack: |
            Object.<anonymous> (test/hooks.test.js:173:1)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          test: onRequest hook should support encapsulation / 1
          at:
            line: 173
            column: 1
            file: test/hooks.test.js
            function: Object.<anonymous>
          source: |
          
            test('onRequest hook should support encapsulation / 1', t => {
            ^
              t.plan(5)
              const fastify = Fastify()
          ...
        
        # test count(1) != plan(5)
        # failed 1 test
    not ok 2 - onRequest hook should support encapsulation / 1 # time=100.172ms
    
    not ok 3 - child test left in queue: t.test onRequest hook should support encapsulation / 2
    not ok 4 - child test left in queue: t.test onRequest hook should support encapsulation / 3
    not ok 5 - child test left in queue: t.test preHandler hook should support encapsulation / 5
    not ok 6 - child test left in queue: t.test onRoute hook should be called / 1
    not ok 7 - child test left in queue: t.test onRoute hook should be called / 2
    not ok 8 - child test left in queue: t.test onRoute hook should be called / 3
    not ok 9 - child test left in queue: t.test onRoute hook should be called (encapsulation support) / 4
    not ok 10 - child test left in queue: t.test onRoute hook should be called (encapsulation support) / 5
    not ok 11 - child test left in queue: t.test onRoute hook should be called (encapsulation support) / 6
    not ok 12 - child test left in queue: t.test onRoute should keep the context
    not ok 13 - child test left in queue: t.test onRoute hook should pass correct route
    not ok 14 - child test left in queue: t.test onRoute hook should pass correct route with custom prefix
    not ok 15 - child test left in queue: t.test onRoute hook should pass correct route with custom options
    not ok 16 - child test left in queue: t.test onRoute hook should receive any route option
    not ok 17 - child test left in queue: t.test onRoute hook should preserve system route configuration
    not ok 18 - child test left in queue: t.test onRoute hook should preserve handler function in options of shorthand route system configuration
    not ok 19 - child test left in queue: t.test onRoute hook should be called once when prefixTrailingSlash
    not ok 20 - child test left in queue: t.test onRoute hook should able to change the route url
    not ok 21 - child test left in queue: t.test onRoute hook that throws should be caught
    not ok 22 - child test left in queue: t.test onRoute hook with many prefix
    not ok 23 - child test left in queue: t.test onRoute hook should not be called when it registered after route
    not ok 24 - child test left in queue: t.test onResponse hook should log request error
    not ok 25 - child test left in queue: t.test onResponse hook should support encapsulation / 1
    not ok 26 - child test left in queue: t.test onResponse hook should support encapsulation / 2
    not ok 27 - child test left in queue: t.test onResponse hook should support encapsulation / 3
    not ok 28 - child test left in queue: t.test onSend hook should support encapsulation / 1
    not ok 29 - child test left in queue: t.test onSend hook should support encapsulation / 2
    not ok 30 - child test left in queue: t.test onSend hook is called after payload is serialized and headers are set
    not ok 31 - child test left in queue: t.test modify payload
    not ok 32 - child test left in queue: t.test clear payload
    not ok 33 - child test left in queue: t.test onSend hook throws
    not ok 34 - child test left in queue: t.test onSend hook should receive valid request and reply objects if onRequest hook fails
    not ok 35 - child test left in queue: t.test onSend hook should receive valid request and reply objects if a custom content type parser fails
    not ok 36 - child test left in queue: t.test Content-Length header should be updated if onSend hook modifies the payload
    not ok 37 - child test left in queue: t.test cannot add hook after binding
    not ok 38 - child test left in queue: t.test onRequest hooks should be able to block a request
    not ok 39 - child test left in queue: t.test preValidation hooks should be able to block a request
    not ok 40 - child test left in queue: t.test preValidation hooks should be able to change request body before validation
    not ok 41 - child test left in queue: t.test preParsing hooks should be able to block a request
    not ok 42 - child test left in queue: t.test preHandler hooks should be able to block a request
    not ok 43 - child test left in queue: t.test onRequest hooks should be able to block a request (last hook)
    not ok 44 - child test left in queue: t.test preHandler hooks should be able to block a request (last hook)
    not ok 45 - child test left in queue: t.test preParsing hooks should handle errors
    not ok 46 - child test left in queue: t.test onRequest respond with a stream
    not ok 47 - child test left in queue: t.test preHandler respond with a stream
    not ok 48 - child test left in queue: t.test Register an hook after a plugin inside a plugin
    not ok 49 - child test left in queue: t.test Register an hook after a plugin inside a plugin (with preHandler option)
    not ok 50 - child test left in queue: t.test Register hooks inside a plugin after an encapsulated plugin
    not ok 51 - child test left in queue: t.test onRequest hooks should run in the order in which they are defined
    not ok 52 - child test left in queue: t.test preHandler hooks should run in the order in which they are defined
    not ok 53 - child test left in queue: t.test onSend hooks should run in the order in which they are defined
    not ok 54 - child test left in queue: t.test onResponse hooks should run in the order in which they are defined
    not ok 55 - child test left in queue: t.test onRequest, preHandler, and onResponse hooks that resolve to a value do not cause an error
    not ok 56 - child test left in queue: t.test If a response header has been set inside an hook it shoulod not be overwritten by the final response handler
    not ok 57 - child test left in queue: t.test If the content type has been set inside an hook it should not be changed
    not ok 58 - child test left in queue: t.test request in onRequest, preParsing, preValidation and onResponse
    not ok 59 - child test left in queue: t.test preValidation hook should support encapsulation / 1
    not ok 60 - child test left in queue: t.test preValidation hook should support encapsulation / 2
    not ok 61 - child test left in queue: t.test preValidation hook should support encapsulation / 3
    not ok 62 - child test left in queue: t.test onError hook
    not ok 63 - child test left in queue: t.test reply.send should throw if called inside the onError hook
    not ok 64 - child test left in queue: t.test onError hook with setErrorHandler
    not ok 65 - child test left in queue: t.test preParsing hook should run before parsing and be able to modify the payload
    not ok 66 - child test left in queue: t.test preParsing hooks should run in the order in which they are defined
    not ok 67 - child test left in queue: t.test preParsing hooks should support encapsulation
    not ok 68 - child test left in queue: t.test preParsing hook should support encapsulation / 1
    not ok 69 - child test left in queue: t.test preParsing hook should support encapsulation / 2
    not ok 70 - child test left in queue: t.test preParsing hook should support encapsulation / 3
    not ok 71 - child test left in queue: t.test preSerialization hook should run before serialization and be able to modify the payload
    not ok 72 - child test left in queue: t.test preSerialization hook should be able to throw errors which are validated against schema response
    not ok 73 - child test left in queue: t.test preSerialization hook which returned error should still run onError hooks
    not ok 74 - child test left in queue: t.test preSerialization hooks should run in the order in which they are defined
    not ok 75 - child test left in queue: t.test preSerialization hooks should support encapsulation
    not ok 76 - child test left in queue: t.test onRegister hook should be called / 1
    not ok 77 - child test left in queue: t.test onRegister hook should be called / 2
    not ok 78 - child test left in queue: t.test onRegister hook should be called / 3
    not ok 79 - child test left in queue: t.test onRegister hook should be called (encapsulation)
    not ok 80 - child test left in queue: t.test early termination, onRequest
    not ok 81 - child test left in queue: t.test reply.send should throw if undefined error is thrown
    not ok 82 - child test left in queue: t.test reply.send should throw if undefined error is thrown at preParsing hook
    not ok 83 - child test left in queue: t.test reply.send should throw if undefined error is thrown at onSend hook
    not ok 84 - child test left in queue: t.test onTimeout should be triggered
    not ok 85 - child test left in queue: t.test onTimeout should be triggered and socket _meta is set
    1..2
    # test count(85) != plan(2)
    # failed 167 of 85 tests
    # time=267.405ms
not ok 36 - test/hooks.test.js # time=267.405ms
  ---
  env: {}
  file: test/hooks.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/hooks.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify
  failures:
    - &a1
      id: 3
      name: "child test left in queue: t.test onRequest hook should support
        encapsulation / 2"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a2
      id: 4
      name: "child test left in queue: t.test onRequest hook should support
        encapsulation / 3"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a3
      id: 5
      name: "child test left in queue: t.test preHandler hook should support
        encapsulation / 5"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a4
      id: 6
      name: "child test left in queue: t.test onRoute hook should be called / 1"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a5
      id: 7
      name: "child test left in queue: t.test onRoute hook should be called / 2"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a6
      id: 8
      name: "child test left in queue: t.test onRoute hook should be called / 3"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a7
      id: 9
      name: "child test left in queue: t.test onRoute hook should be called
        (encapsulation support) / 4"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a8
      id: 10
      name: "child test left in queue: t.test onRoute hook should be called
        (encapsulation support) / 5"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a9
      id: 11
      name: "child test left in queue: t.test onRoute hook should be called
        (encapsulation support) / 6"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a10
      id: 12
      name: "child test left in queue: t.test onRoute should keep the context"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a11
      id: 13
      name: "child test left in queue: t.test onRoute hook should pass correct route"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a12
      id: 14
      name: "child test left in queue: t.test onRoute hook should pass correct route
        with custom prefix"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a13
      id: 15
      name: "child test left in queue: t.test onRoute hook should pass correct route
        with custom options"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a14
      id: 16
      name: "child test left in queue: t.test onRoute hook should receive any route
        option"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a15
      id: 17
      name: "child test left in queue: t.test onRoute hook should preserve system
        route configuration"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a16
      id: 18
      name: "child test left in queue: t.test onRoute hook should preserve handler
        function in options of shorthand route system configuration"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a17
      id: 19
      name: "child test left in queue: t.test onRoute hook should be called once when
        prefixTrailingSlash"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a18
      id: 20
      name: "child test left in queue: t.test onRoute hook should able to change the
        route url"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a19
      id: 21
      name: "child test left in queue: t.test onRoute hook that throws should be
        caught"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a20
      id: 22
      name: "child test left in queue: t.test onRoute hook with many prefix"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a21
      id: 23
      name: "child test left in queue: t.test onRoute hook should not be called when
        it registered after route"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a22
      id: 24
      name: "child test left in queue: t.test onResponse hook should log request error"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a23
      id: 25
      name: "child test left in queue: t.test onResponse hook should support
        encapsulation / 1"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a24
      id: 26
      name: "child test left in queue: t.test onResponse hook should support
        encapsulation / 2"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a25
      id: 27
      name: "child test left in queue: t.test onResponse hook should support
        encapsulation / 3"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a26
      id: 28
      name: "child test left in queue: t.test onSend hook should support encapsulation
        / 1"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a27
      id: 29
      name: "child test left in queue: t.test onSend hook should support encapsulation
        / 2"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a28
      id: 30
      name: "child test left in queue: t.test onSend hook is called after payload is
        serialized and headers are set"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a29
      id: 31
      name: "child test left in queue: t.test modify payload"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a30
      id: 32
      name: "child test left in queue: t.test clear payload"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a31
      id: 33
      name: "child test left in queue: t.test onSend hook throws"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a32
      id: 34
      name: "child test left in queue: t.test onSend hook should receive valid request
        and reply objects if onRequest hook fails"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a33
      id: 35
      name: "child test left in queue: t.test onSend hook should receive valid request
        and reply objects if a custom content type parser fails"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a34
      id: 36
      name: "child test left in queue: t.test Content-Length header should be updated
        if onSend hook modifies the payload"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a35
      id: 37
      name: "child test left in queue: t.test cannot add hook after binding"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a36
      id: 38
      name: "child test left in queue: t.test onRequest hooks should be able to block
        a request"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a37
      id: 39
      name: "child test left in queue: t.test preValidation hooks should be able to
        block a request"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a38
      id: 40
      name: "child test left in queue: t.test preValidation hooks should be able to
        change request body before validation"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a39
      id: 41
      name: "child test left in queue: t.test preParsing hooks should be able to block
        a request"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a40
      id: 42
      name: "child test left in queue: t.test preHandler hooks should be able to block
        a request"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a41
      id: 43
      name: "child test left in queue: t.test onRequest hooks should be able to block
        a request (last hook)"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a42
      id: 44
      name: "child test left in queue: t.test preHandler hooks should be able to block
        a request (last hook)"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a43
      id: 45
      name: "child test left in queue: t.test preParsing hooks should handle errors"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a44
      id: 46
      name: "child test left in queue: t.test onRequest respond with a stream"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a45
      id: 47
      name: "child test left in queue: t.test preHandler respond with a stream"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a46
      id: 48
      name: "child test left in queue: t.test Register an hook after a plugin inside a
        plugin"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a47
      id: 49
      name: "child test left in queue: t.test Register an hook after a plugin inside a
        plugin (with preHandler option)"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a48
      id: 50
      name: "child test left in queue: t.test Register hooks inside a plugin after an
        encapsulated plugin"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a49
      id: 51
      name: "child test left in queue: t.test onRequest hooks should run in the order
        in which they are defined"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a50
      id: 52
      name: "child test left in queue: t.test preHandler hooks should run in the order
        in which they are defined"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a51
      id: 53
      name: "child test left in queue: t.test onSend hooks should run in the order in
        which they are defined"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a52
      id: 54
      name: "child test left in queue: t.test onResponse hooks should run in the order
        in which they are defined"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a53
      id: 55
      name: "child test left in queue: t.test onRequest, preHandler, and onResponse
        hooks that resolve to a value do not cause an error"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a54
      id: 56
      name: "child test left in queue: t.test If a response header has been set inside
        an hook it shoulod not be overwritten by the final response handler"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a55
      id: 57
      name: "child test left in queue: t.test If the content type has been set inside
        an hook it should not be changed"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a56
      id: 58
      name: "child test left in queue: t.test request in onRequest, preParsing,
        preValidation and onResponse"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a57
      id: 59
      name: "child test left in queue: t.test preValidation hook should support
        encapsulation / 1"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a58
      id: 60
      name: "child test left in queue: t.test preValidation hook should support
        encapsulation / 2"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a59
      id: 61
      name: "child test left in queue: t.test preValidation hook should support
        encapsulation / 3"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a60
      id: 62
      name: "child test left in queue: t.test onError hook"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a61
      id: 63
      name: "child test left in queue: t.test reply.send should throw if called inside
        the onError hook"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a62
      id: 64
      name: "child test left in queue: t.test onError hook with setErrorHandler"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a63
      id: 65
      name: "child test left in queue: t.test preParsing hook should run before
        parsing and be able to modify the payload"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a64
      id: 66
      name: "child test left in queue: t.test preParsing hooks should run in the order
        in which they are defined"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a65
      id: 67
      name: "child test left in queue: t.test preParsing hooks should support
        encapsulation"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a66
      id: 68
      name: "child test left in queue: t.test preParsing hook should support
        encapsulation / 1"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a67
      id: 69
      name: "child test left in queue: t.test preParsing hook should support
        encapsulation / 2"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a68
      id: 70
      name: "child test left in queue: t.test preParsing hook should support
        encapsulation / 3"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a69
      id: 71
      name: "child test left in queue: t.test preSerialization hook should run before
        serialization and be able to modify the payload"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a70
      id: 72
      name: "child test left in queue: t.test preSerialization hook should be able to
        throw errors which are validated against schema response"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a71
      id: 73
      name: "child test left in queue: t.test preSerialization hook which returned
        error should still run onError hooks"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a72
      id: 74
      name: "child test left in queue: t.test preSerialization hooks should run in the
        order in which they are defined"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a73
      id: 75
      name: "child test left in queue: t.test preSerialization hooks should support
        encapsulation"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a74
      id: 76
      name: "child test left in queue: t.test onRegister hook should be called / 1"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a75
      id: 77
      name: "child test left in queue: t.test onRegister hook should be called / 2"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a76
      id: 78
      name: "child test left in queue: t.test onRegister hook should be called / 3"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a77
      id: 79
      name: "child test left in queue: t.test onRegister hook should be called
        (encapsulation)"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a78
      id: 80
      name: "child test left in queue: t.test early termination, onRequest"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a79
      id: 81
      name: "child test left in queue: t.test reply.send should throw if undefined
        error is thrown"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a80
      id: 82
      name: "child test left in queue: t.test reply.send should throw if undefined
        error is thrown at preParsing hook"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a81
      id: 83
      name: "child test left in queue: t.test reply.send should throw if undefined
        error is thrown at onSend hook"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a82
      id: 84
      name: "child test left in queue: t.test onTimeout should be triggered"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a83
      id: 85
      name: "child test left in queue: t.test onTimeout should be triggered and socket
        _meta is set"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - *a1
    - *a2
    - *a3
    - *a4
    - *a5
    - *a6
    - *a7
    - *a8
    - *a9
    - *a10
    - *a11
    - *a12
    - *a13
    - *a14
    - *a15
    - *a16
    - *a17
    - *a18
    - *a19
    - *a20
    - *a21
    - *a22
    - *a23
    - *a24
    - *a25
    - *a26
    - *a27
    - *a28
    - *a29
    - *a30
    - *a31
    - *a32
    - *a33
    - *a34
    - *a35
    - *a36
    - *a37
    - *a38
    - *a39
    - *a40
    - *a41
    - *a42
    - *a43
    - *a44
    - *a45
    - *a46
    - *a47
    - *a48
    - *a49
    - *a50
    - *a51
    - *a52
    - *a53
    - *a54
    - *a55
    - *a56
    - *a57
    - *a58
    - *a59
    - *a60
    - *a61
    - *a62
    - *a63
    - *a64
    - *a65
    - *a66
    - *a67
    - *a68
    - *a69
    - *a70
    - *a71
    - *a72
    - *a73
    - *a74
    - *a75
    - *a76
    - *a77
    - *a78
    - *a79
    - *a80
    - *a81
    - *a82
    - *a83
  exitCode: 1
  ...

# Subtest: test/http2/closing.test.js
    # Subtest: http/2 request while fastify closing
        ok 1 - http2 successfully loaded
        ok 2 - should not error
        # Subtest: return 200
            ok 1 - should be equal
            1..1
        ok 3 - return 200 # time=13.333ms
        
        1..3
    ok 1 - http/2 request while fastify closing # time=61.112ms
    
    # Subtest: http/2 request while fastify closing - return503OnClosing: false
        ok 1 - http2 successfully loaded
        ok 2 - should not error
        # Subtest: return 200
            ok 1 - should be equal
            1..1
        ok 3 - return 200 # time=5.642ms
        
        1..3
    ok 2 - http/2 request while fastify closing - return503OnClosing: false # time=19.569ms
    
    # Subtest: http/2 closes successfully with async await
        1..0
    ok 3 - http/2 closes successfully with async await # time=110.476ms
    
    # Subtest: https/2 closes successfully with async await
        1..0
    ok 4 - https/2 closes successfully with async await # time=13.332ms
    
    # Subtest: http/2 server side session emits a timeout event
        ok 1 - should be equal
        1..1
    ok 5 - http/2 server side session emits a timeout event # time=108.022ms
    
    1..5
    # time=340.837ms
ok 37 - test/http2/closing.test.js # time=340.837ms

# Subtest: test/http2/constraint.test.js
    # Subtest: A route supports host constraints under http2 protocol and secure connection
        1..5
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request - no constrain
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - https get request - no constrain # time=26.701ms
        
        # Subtest: https get request - constrain
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - https get request - constrain # time=9.159ms
        
        # Subtest: https get request - constrain - not found
            1..1
            ok 1 - should be equal
        ok 5 - https get request - constrain - not found # time=6.905ms
        
    ok 1 - A route supports host constraints under http2 protocol and secure connection # time=98.654ms
    
    1..1
    # time=118.578ms
ok 38 - test/http2/constraint.test.js # time=118.578ms

# Subtest: test/http2/head.test.js
    ok 1 - http2 successfully loaded
    ok 2 - should not error
    # Subtest: http HEAD request
        1..1
        ok 1 - should be equal
    ok 3 - http HEAD request # time=46.729ms
    
    1..3
    # time=113.244ms
ok 39 - test/http2/head.test.js # time=113.244ms

# Subtest: test/http2/missing-http2-module.test.js
    # Subtest: should throw when http2 module cannot be found
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - should throw when http2 module cannot be found # time=8.106ms
    
    1..1
    # time=12.844ms
ok 40 - test/http2/missing-http2-module.test.js # time=12.844ms

# Subtest: test/http2/plain.test.js
    ok 1 - http2 successfully loaded
    ok 2 - should not error
    # Subtest: http get request
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 3 - http get request # time=26.081ms
    
    # Subtest: http hostname
        1..1
        ok 1 - should be equal
    ok 4 - http hostname # time=5.203ms
    
    1..4
    # time=87.794ms
ok 41 - test/http2/plain.test.js # time=87.794ms

# Subtest: test/http2/secure-with-fallback.test.js
    # Subtest: secure with fallback
        1..7
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get error
            1..1
            ok 1 - should be equal
        ok 3 - https get error # time=27.25ms
        
        # Subtest: https post
            1..2
            ok 1 - should be equal
            ok 2 - should be equivalent
        ok 4 - https post # time=13.232ms
        
        # Subtest: https get request
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - https get request # time=8.11ms
        
        # Subtest: http1 get request
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 6 - http1 get request # time=13.431ms
        
        # Subtest: http1 get error
            1..2
            ok 1 - should not error
            ok 2 - should be equal
        ok 7 - http1 get error # time=5.76ms
        
    ok 1 - secure with fallback # time=131.009ms
    
    1..1
    # time=151.833ms
ok 42 - test/http2/secure-with-fallback.test.js # time=151.833ms

# Subtest: test/http2/secure.test.js
    # Subtest: secure
        1..4
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - https get request # time=26.18ms
        
        # Subtest: https get request without trust proxy - protocol
            1..2
            ok 1 - should be equivalent
            ok 2 - should be equivalent
        ok 4 - https get request without trust proxy - protocol # time=15.768ms
        
    ok 1 - secure # time=96.416ms
    
    1..1
    # time=116.671ms
ok 43 - test/http2/secure.test.js # time=116.671ms

# Subtest: test/http2/unknown-http-method.test.js
    ok 1 - should not error
    # Subtest: http UNKNOWN_METHOD request
        1..2
        ok 1 - should be equal
        ok 2 - should be equivalent
    ok 2 - http UNKNOWN_METHOD request # time=26.668ms
    
    1..2
    # time=68.876ms
ok 44 - test/http2/unknown-http-method.test.js # time=68.876ms

# Subtest: test/https/custom-https-server.test.js
    # Subtest: Should support a custom https server
        1..4
        ok 1 - it is called twice for every HOST interface
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - Should support a custom https server # time=53.069ms
    
    1..1
    # time=74.366ms
ok 45 - test/https/custom-https-server.test.js # time=74.366ms

# Subtest: test/https/https.test.js
    # Subtest: https
        1..4
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 3 - https get request # time=26.454ms
        
        # Subtest: https get request without trust proxy - protocol
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 4 - https get request without trust proxy - protocol # time=11.609ms
        
    ok 1 - https # time=96.49ms
    
    1..1
    # time=117.126ms
ok 46 - test/https/https.test.js # time=117.126ms

# Subtest: test/imports.test.js
    # Subtest: should import as default
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 1 - should import as default # time=434.358ms
    
    # Subtest: should import as esm
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 2 - should import as esm # time=1.25ms
    
    1..2
    # time=442.553ms
ok 47 - test/imports.test.js # time=442.553ms

# Subtest: test/inject.test.js
    # Subtest: inject should exist
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 1 - inject should exist # time=10.413ms
    
    # Subtest: should wait for the ready event
        1..4
        not ok 1 - test unfinished
          ---
          stack: |
            Object.<anonymous> (test/inject.test.js:17:1)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          test: should wait for the ready event
          at:
            line: 17
            column: 1
            file: test/inject.test.js
            function: Object.<anonymous>
          source: |
          
            test('should wait for the ready event', t => {
            ^
              t.plan(4)
              const fastify = Fastify()
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 2 - should wait for the ready event # time=610.535ms
    
    not ok 3 - child test left in queue: t.test inject get request
    not ok 4 - child test left in queue: t.test inject get request - code check
    not ok 5 - child test left in queue: t.test inject get request - headers check
    not ok 6 - child test left in queue: t.test inject get request - querystring
    not ok 7 - child test left in queue: t.test inject get request - params
    not ok 8 - child test left in queue: t.test inject get request - wildcard
    not ok 9 - child test left in queue: t.test inject get request - headers
    not ok 10 - child test left in queue: t.test inject post request
    not ok 11 - child test left in queue: t.test inject post request - send stream
    not ok 12 - child test left in queue: t.test inject get request - reply stream
    not ok 13 - child test left in queue: t.test inject promisify - waiting for ready event
    not ok 14 - child test left in queue: t.test inject promisify - after the ready event
    not ok 15 - child test left in queue: t.test inject promisify - when the server is up
    not ok 16 - child test left in queue: t.test should reject in error case
    not ok 17 - child test left in queue: t.test inject a multipart request using form-body
    not ok 18 - child test left in queue: t.test should error the promise if ready errors
    not ok 19 - child test left in queue: t.test should throw error if callback specified and if ready errors
    not ok 20 - child test left in queue: t.test should support builder-style injection with ready app
    not ok 21 - child test left in queue: t.test should support builder-style injection with non-ready app
    not ok 22 - child test left in queue: t.test should handle errors in builder-style injection correctly
    1..2
    # test count(22) != plan(2)
    # failed 41 of 22 tests
    # time=628.91ms
not ok 48 - test/inject.test.js # time=628.91ms
  ---
  env: {}
  file: test/inject.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/inject.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify
  failures:
    - &a1
      id: 3
      name: "child test left in queue: t.test inject get request"
      fullname: test/inject.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a2
      id: 4
      name: "child test left in queue: t.test inject get request - code check"
      fullname: test/inject.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a3
      id: 5
      name: "child test left in queue: t.test inject get request - headers check"
      fullname: test/inject.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a4
      id: 6
      name: "child test left in queue: t.test inject get request - querystring"
      fullname: test/inject.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a5
      id: 7
      name: "child test left in queue: t.test inject get request - params"
      fullname: test/inject.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a6
      id: 8
      name: "child test left in queue: t.test inject get request - wildcard"
      fullname: test/inject.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a7
      id: 9
      name: "child test left in queue: t.test inject get request - headers"
      fullname: test/inject.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a8
      id: 10
      name: "child test left in queue: t.test inject post request"
      fullname: test/inject.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a9
      id: 11
      name: "child test left in queue: t.test inject post request - send stream"
      fullname: test/inject.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a10
      id: 12
      name: "child test left in queue: t.test inject get request - reply stream"
      fullname: test/inject.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a11
      id: 13
      name: "child test left in queue: t.test inject promisify - waiting for ready
        event"
      fullname: test/inject.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a12
      id: 14
      name: "child test left in queue: t.test inject promisify - after the ready event"
      fullname: test/inject.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a13
      id: 15
      name: "child test left in queue: t.test inject promisify - when the server is up"
      fullname: test/inject.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a14
      id: 16
      name: "child test left in queue: t.test should reject in error case"
      fullname: test/inject.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a15
      id: 17
      name: "child test left in queue: t.test inject a multipart request using
        form-body"
      fullname: test/inject.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a16
      id: 18
      name: "child test left in queue: t.test should error the promise if ready errors"
      fullname: test/inject.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a17
      id: 19
      name: "child test left in queue: t.test should throw error if callback specified
        and if ready errors"
      fullname: test/inject.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a18
      id: 20
      name: "child test left in queue: t.test should support builder-style injection
        with ready app"
      fullname: test/inject.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a19
      id: 21
      name: "child test left in queue: t.test should support builder-style injection
        with non-ready app"
      fullname: test/inject.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - &a20
      id: 22
      name: "child test left in queue: t.test should handle errors in builder-style
        injection correctly"
      fullname: test/inject.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 2
    - *a1
    - *a2
    - *a3
    - *a4
    - *a5
    - *a6
    - *a7
    - *a8
    - *a9
    - *a10
    - *a11
    - *a12
    - *a13
    - *a14
    - *a15
    - *a16
    - *a17
    - *a18
    - *a19
    - *a20
  exitCode: 1
  ...

# Subtest: test/internals/all.test.js
    # Subtest: fastify.all should add all the methods to the same url
        1..14
        not ok 1 - test unfinished
          ---
          stack: |
            Object.<anonymous> (test/internals/all.test.js:8:1)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          test: fastify.all should add all the methods to the same url
          at:
            line: 8
            column: 1
            file: test/internals/all.test.js
            function: Object.<anonymous>
          source: |
          
            test('fastify.all should add all the methods to the same url', t => {
            ^
              t.plan(supportedMethods.length * 2)
          ...
        
        # test count(1) != plan(14)
        # failed 1 test
    not ok 1 - fastify.all should add all the methods to the same url # time=86.041ms
    
    1..1
    # failed 1 test
    # time=89.473ms
not ok 49 - test/internals/all.test.js # time=89.473ms
  ---
  env: {}
  file: test/internals/all.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/internals/all.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify
  exitCode: 1
  ...

# Subtest: test/internals/contentTypeParser.test.js
    # Subtest: rawBody function
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - rawBody function # time=18.419ms
    
    # Subtest: Should support Webpack and faux modules
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - Should support Webpack and faux modules # time=9.709ms
    
    1..2
    # time=45.941ms
ok 50 - test/internals/contentTypeParser.test.js # time=45.941ms

# Subtest: test/internals/decorator.test.js
    # Subtest: decorate should add the given method to its instance
        1..1
        ok 1 - expect truthy value
    ok 1 - decorate should add the given method to its instance # time=5.803ms
    
    # Subtest: decorate is chainable
        1..3
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
    ok 2 - decorate is chainable # time=1.517ms
    
    # Subtest: checkExistence should check if a property is part of the given instance
        1..1
        ok 1 - expect truthy value
    ok 3 - checkExistence should check if a property is part of the given instance # time=0.967ms
    
    # Subtest: checkExistence should find the instance if not given
        1..1
        ok 1 - expect truthy value
    ok 4 - checkExistence should find the instance if not given # time=0.91ms
    
    # Subtest: checkExistence should check the prototype as well
        1..1
        ok 1 - expect truthy value
    ok 5 - checkExistence should check the prototype as well # time=0.847ms
    
    # Subtest: checkDependencies should throw if a dependency is not present
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 6 - checkDependencies should throw if a dependency is not present # time=1.266ms
    
    # Subtest: decorate should internally call checkDependencies
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 7 - decorate should internally call checkDependencies # time=0.819ms
    
    # Subtest: decorate should recognize getter/setter objects
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - (unnamed test)
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 8 - decorate should recognize getter/setter objects # time=2.911ms
    
    1..8
    # time=48.31ms
ok 51 - test/internals/decorator.test.js # time=48.31ms

# Subtest: test/internals/handleRequest.test.js
    # Subtest: handleRequest function - sent reply
        1..1
        ok 1 - should be equal
    ok 1 - handleRequest function - sent reply # time=4.061ms
    
    # Subtest: handleRequest function - invoke with error
        1..1
        ok 1 - should be equal
    ok 2 - handleRequest function - invoke with error # time=1.089ms
    
    # Subtest: handler function - invalid schema
        1..1
        ok 1 - errorHandler called
    ok 3 - handler function - invalid schema # time=43.06ms
    
    # Subtest: handler function - reply
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - (unnamed test)
    ok 4 - handler function - reply # time=2.168ms
    
    # Subtest: handler function - preValidationCallback with finished response
        1..0
    ok 5 - handler function - preValidationCallback with finished response # time=0.617ms
    
    # Subtest: request should be defined in onSend Hook on post request with content type application/json
        1..8
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - should not error
        ok 8 - should be equal
    ok 6 - request should be defined in onSend Hook on post request with content type application/json # time=183.933ms
    
    # Subtest: request should be defined in onSend Hook on post request with content type application/x-www-form-urlencoded
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - should be equal
    ok 7 - request should be defined in onSend Hook on post request with content type application/x-www-form-urlencoded # time=8.816ms
    
    # Subtest: request should be defined in onSend Hook on options request with content type application/x-www-form-urlencoded
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - should be equal
    ok 8 - request should be defined in onSend Hook on options request with content type application/x-www-form-urlencoded # time=12.702ms
    
    # Subtest: request should respond with an error if an unserialized payload is sent inside an async handler
        1..3
        not ok 1 - test unfinished
          ---
          stack: |
            Object.<anonymous> (test/internals/handleRequest.test.js:224:1)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          test: request should respond with an error if an unserialized payload is sent
            inside an async handler
          at:
            line: 224
            column: 1
            file: test/internals/handleRequest.test.js
            function: Object.<anonymous>
          source: >
          
            test('request should respond with an error if an unserialized payload is sent inside an async handler', t => {
          
            ^
              t.plan(3)
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 9 - request should respond with an error if an unserialized payload is sent inside an async handler # time=79.739ms
    
    1..9
    # failed 1 of 9 tests
    # time=351.049ms
not ok 52 - test/internals/handleRequest.test.js # time=351.049ms
  ---
  env: {}
  file: test/internals/handleRequest.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/internals/handleRequest.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify
  exitCode: 1
  ...

# Subtest: test/internals/hookRunner.test.js
    # Subtest: hookRunner - Basic
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 1 - hookRunner - Basic # time=6.883ms
    
    # Subtest: hookRunner - In case of error should skip to done
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 2 - hookRunner - In case of error should skip to done # time=2.272ms
    
    # Subtest: hookRunner - Should handle throw
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 3 - hookRunner - Should handle throw # time=1.869ms
    
    # Subtest: hookRunner - Should handle promises
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 4 - hookRunner - Should handle promises # time=17.504ms
    
    # Subtest: hookRunner - In case of error should skip to done (with promises)
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 5 - hookRunner - In case of error should skip to done (with promises) # time=2.123ms
    
    # Subtest: hookRunner - Be able to exit before its natural end
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 6 - hookRunner - Be able to exit before its natural end # time=1.113ms
    
    # Subtest: hookRunner - Promises that resolve to a value do not change the state
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 7 - hookRunner - Promises that resolve to a value do not change the state # time=1.402ms
    
    # Subtest: onSendHookRunner - Basic
        1..13
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equal
        ok 10 - should not error
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equal
    ok 8 - onSendHookRunner - Basic # time=7.243ms
    
    # Subtest: onSendHookRunner - Can change the payload
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 9 - onSendHookRunner - Can change the payload # time=3.154ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 10 - onSendHookRunner - In case of error should skip to done # time=2.155ms
    
    # Subtest: onSendHookRunner - Should handle promises
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 11 - onSendHookRunner - Should handle promises # time=2.406ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done (with promises)
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 12 - onSendHookRunner - In case of error should skip to done (with promises) # time=2.36ms
    
    # Subtest: onSendHookRunner - Be able to exit before its natural end
        1..2
        ok 1 - should be equivalent
        ok 2 - should be equivalent
    ok 13 - onSendHookRunner - Be able to exit before its natural end # time=0.931ms
    
    1..13
    # time=78.368ms
ok 53 - test/internals/hookRunner.test.js # time=78.368ms

# Subtest: test/internals/hooks.test.js
    # Subtest: hooks should have 4 array with the registered hooks
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        1..8
    ok 1 - hooks should have 4 array with the registered hooks # time=6.028ms
    
    # Subtest: hooks.add should add a hook to the given hook
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        1..14
    ok 2 - hooks.add should add a hook to the given hook # time=3.492ms
    
    # Subtest: hooks should throw on unexisting handler
        1..1
        ok 1 - (unnamed test)
    ok 3 - hooks should throw on unexisting handler # time=0.793ms
    
    # Subtest: should throw on wrong parameters
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 4 - should throw on wrong parameters # time=1.297ms
    
    1..4
    # time=35.581ms
ok 54 - test/internals/hooks.test.js # time=35.581ms

# Subtest: test/internals/initialConfig.test.js
    # Subtest: Fastify.initialConfig is an object
        1..1
        ok 1 - type is object
    ok 1 - Fastify.initialConfig is an object # time=15.174ms
    
    # Subtest: without options passed to Fastify, initialConfig should expose default values
        1..1
        ok 1 - should be equivalent
    ok 2 - without options passed to Fastify, initialConfig should expose default values # time=7.897ms
    
    # Subtest: Fastify.initialConfig should expose all options
        1..20
        ok 1 - should be equal
        ok 2 - for security reason the key cert is hidden
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - expect truthy value
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equal
    ok 3 - Fastify.initialConfig should expose all options # time=9.434ms
    
    # Subtest: Should throw if you try to modify Fastify.initialConfig
        1..4
        ok 1 - type is TypeError
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - (unnamed test)
    ok 4 - Should throw if you try to modify Fastify.initialConfig # time=2.804ms
    
    # Subtest: We must avoid shallow freezing and ensure that the whole object is freezed
        1..4
        ok 1 - type is TypeError
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - key cert removed
    ok 5 - We must avoid shallow freezing and ensure that the whole object is freezed # time=15.323ms
    
    # Subtest: https value check
        1..1
        ok 1 - expect falsey value
    ok 6 - https value check # time=1.278ms
    
    # Subtest: Return an error if options do not match the validation schema
        1..6
        ok 1 - type is Error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
        ok 6 - (unnamed test)
    ok 7 - Return an error if options do not match the validation schema # time=57.411ms
    
    # Subtest: Original options must not be frozen
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - Original options must not be frozen # time=2.791ms
    
    # Subtest: Original options must not be altered (test deep cloning)
        1..3
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 9 - Original options must not be altered (test deep cloning) # time=4.777ms
    
    # Subtest: Should not have issues when passing stream options to Pino.js
        1..15
        ok 1 - type is object
        ok 2 - should be equivalent
        ok 3 - listen at log message is ok
        ok 4 - should not error
        ok 5 - reqId is defined
        ok 6 - req is defined
        ok 7 - message is set
        ok 8 - method is get
        ok 9 - expect truthy value
        ok 10 - should be equal
        ok 11 - reqId is defined
        ok 12 - res is defined
        ok 13 - message is set
        ok 14 - statusCode is 200
        ok 15 - responseTime is defined
    ok 10 - Should not have issues when passing stream options to Pino.js # time=48.323ms
    
    # Subtest: deepFreezeObject() should not throw on TypedArray
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - (unnamed test)
    ok 11 - deepFreezeObject() should not throw on TypedArray # time=1.692ms
    
    # Subtest: Fastify.initialConfig should accept the deprecated versioning option
        1..1
        ok 1 - should be equal
    ok 12 - Fastify.initialConfig should accept the deprecated versioning option # time=4.739ms
    
    # Subtest: pluginTimeout should be parsed correctly
        ok 1 - should be equal
        ok 2 - should be equal
        1..2
    ok 13 - pluginTimeout should be parsed correctly # time=2.199ms
    
    1..13
    # time=242.817ms
ok 55 - test/internals/initialConfig.test.js # time=242.817ms

./VariantsPureDep/fastify/variant8/fastify

> fastify@4.3.0 test
> npm run lint && npm run unit && npm run test:typescript


> fastify@4.3.0 lint
> npm run lint:standard && npm run lint:typescript && npm run lint:markdown


> fastify@4.3.0 lint:standard
> standard | snazzy

-----------------------------|---------|----------|---------|---------|-----------------------------
File                         | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s           
-----------------------------|---------|----------|---------|---------|-----------------------------
All files                    |   81.02 |    76.55 |   80.34 |   81.35 |                             
 fastify                     |   68.63 |    75.62 |    62.5 |   68.67 |                             
  fastify.js                 |   68.63 |    75.62 |    62.5 |   68.67 | ...,676-702,715-724,732-743 
 fastify/lib                 |   82.78 |    76.67 |   83.72 |   83.18 |                             
  contentTypeParser.js       |   92.85 |    94.91 |     100 |   92.94 | 100,213-217,233-236,244-245 
  context.js                 |     100 |    93.33 |     100 |     100 | 76                          
  decorate.js                |   98.21 |    98.03 |     100 |   98.07 | 41                          
  error-handler.js           |   78.26 |    74.46 |   71.42 |   78.26 | 20,29-41,60-63,108-110,118  
  errors.js                  |     100 |      100 |     100 |     100 |                             
  fourOhFour.js              |   80.72 |       75 |   78.57 |   82.71 | 62-68,95-107                
  handleRequest.js           |   83.33 |    90.19 |     100 |   84.12 | 34,77,85-87,97,128-130,137  
  headRoute.js               |      20 |     12.5 |   33.33 |   14.28 | 4-21,26                     
  hooks.js                   |   95.86 |    94.82 |     100 |   96.61 | 190,221-222,235             
  initialConfigValidation.js |     100 |      100 |     100 |     100 |                             
  logger.js                  |   94.73 |    83.33 |     100 |   94.54 | 19,22-23                    
  noop-set.js                |     100 |      100 |     100 |     100 |                             
  pluginOverride.js          |   90.24 |       80 |     100 |    92.5 | 55,75,77                    
  pluginUtils.js             |   94.59 |    84.21 |     100 |   95.16 | 19,111,118                  
  reply.js                   |   63.93 |    45.87 |   62.96 |    64.6 | ...,659,710,716-721,762-780 
  reqIdGenFactory.js         |     100 |      100 |     100 |     100 |                             
  request.js                 |   63.88 |    43.75 |   66.66 |   64.42 | ...,142,157-167,206,211-291 
  route.js                   |   76.82 |       75 |   70.83 |   76.95 | ...,498,515-516,520-533,545 
  schema-controller.js       |    92.3 |    79.41 |   84.61 |    92.3 | 23,58,71                    
  schemas.js                 |   92.64 |    92.06 |   88.88 |   94.02 | 28,32,43,147                
  server.js                  |   98.14 |    96.87 |     100 |   98.75 | 176,190                     
  symbols.js                 |     100 |      100 |     100 |     100 |                             
  validation.js              |   95.65 |     93.1 |   88.88 |   96.87 | 22,53                       
  warnings.js                |     100 |      100 |     100 |     100 |                             
  wrapThenable.js            |   66.66 |       60 |     100 |   66.66 | 11,27-28,33-34              
-----------------------------|---------|----------|---------|---------|-----------------------------

> fastify@4.3.0 lint:typescript
> eslint -c types/.eslintrc.json types/**/*.d.ts test/types/**/*.test-d.ts


> fastify@4.3.0 lint:markdown
> markdownlint-cli2

markdownlint-cli2 v0.4.0 (markdownlint v0.25.1)

> fastify@4.3.0 unit
> tap

TAP version 13
# Subtest: test/404s.test.js
    # Subtest: default 404
        1..4
        ok 1 - should not error
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - unsupported method # time=30.417ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - framework-unsupported method # time=6.089ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - unsupported route # time=4.166ms
        
    ok 1 - default 404 # time=172.547ms
    
    # Subtest: customized 404
        1..6
        ok 1 - should not error
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - unsupported method # time=9.697ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - framework-unsupported method # time=4.412ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - unsupported route # time=3.915ms
        
        # Subtest: with error object
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - with error object # time=9.39ms
        
        # Subtest: error object with headers property
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 6 - error object with headers property # time=5.084ms
        
    ok 2 - customized 404 # time=45.346ms
    
    # Subtest: custom header in notFound handler
        1..2
        ok 1 - should not error
        # Subtest: not found with custom header
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
        ok 2 - not found with custom header # time=4.417ms
        
    ok 3 - custom header in notFound handler # time=25.213ms
    
    # Subtest: setting a custom 404 handler multiple times is an error
        1..5
        # Subtest: at the root level
            1..2
            ok 1 - type is Error
            ok 2 - should be equal
        ok 1 - at the root level # time=1.979ms
        
        # Subtest: at the plugin level
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 2 - at the plugin level # time=19.719ms
        
        # Subtest: at multiple levels
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 3 - at multiple levels # time=13.311ms
        
        # Subtest: at multiple levels / 2
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 4 - at multiple levels / 2 # time=16.82ms
        
        # Subtest: in separate plugins at the same level
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 5 - in separate plugins at the same level # time=30.654ms
        
    ok 4 - setting a custom 404 handler multiple times is an error # time=105.677ms
    
    # Subtest: encapsulated 404
        1..13
        ok 1 - should not error
        # Subtest: root unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - root unsupported method # time=23.517ms
        
        # Subtest: root framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - root framework-unsupported method # time=14.707ms
        
        # Subtest: root unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - root unsupported route # time=4.538ms
        
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 5 - unsupported method # time=4.658ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 6 - framework-unsupported method # time=4.543ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 7 - unsupported route # time=4.354ms
        
        # Subtest: unsupported method 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 8 - unsupported method 2 # time=4.528ms
        
        # Subtest: framework-unsupported method 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 9 - framework-unsupported method 2 # time=4.371ms
        
        # Subtest: unsupported route 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 10 - unsupported route 2 # time=4.228ms
        
        # Subtest: unsupported method 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 11 - unsupported method 3 # time=8.238ms
        
        # Subtest: framework-unsupported method 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 12 - framework-unsupported method 3 # time=9.335ms
        
        # Subtest: unsupported route 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 13 - unsupported route 3 # time=5.708ms
        
    ok 5 - encapsulated 404 # time=152.832ms
    
    # Subtest: custom 404 hook and handler context
        1..21
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should not error
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equal
    ok 6 - custom 404 hook and handler context # time=55.266ms
    
    # Subtest: encapsulated custom 404 without - prefix hook and handler context
        1..13
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equal
    ok 7 - encapsulated custom 404 without - prefix hook and handler context # time=11.249ms
    
    # Subtest: run hooks on default 404
        1..7
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - preHandler called
        ok 4 - onSend called
        ok 5 - onResponse called
        ok 6 - should not error
        ok 7 - should be equal
    ok 8 - run hooks on default 404 # time=11.225ms
    
    # Subtest: run non-encapsulated plugin hooks on default 404
        1..6
        ok 1 - onRequest called
        ok 2 - preHandler called
        ok 3 - onSend called
        ok 4 - onResponse called
        ok 5 - should not error
        ok 6 - should be equal
    ok 9 - run non-encapsulated plugin hooks on default 404 # time=10.311ms
    
    # Subtest: run non-encapsulated plugin hooks on custom 404
        1..11
        ok 1 - onRequest called
        ok 2 - onRequest called
        ok 3 - preHandler called
        ok 4 - preHandler called
        ok 5 - onSend called
        ok 6 - onSend called
        ok 7 - onResponse called
        ok 8 - onResponse called
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
    ok 10 - run non-encapsulated plugin hooks on custom 404 # time=27.819ms
    
    # Subtest: run hook with encapsulated 404
        1..11
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - onRequest 2 called
        ok 4 - preHandler called
        ok 5 - preHandler 2 called
        ok 6 - onSend called
        ok 7 - onSend 2 called
        ok 8 - onResponse called
        ok 9 - onResponse 2 called
        ok 10 - should not error
        ok 11 - should be equal
    ok 11 - run hook with encapsulated 404 # time=38.201ms
    
    # Subtest: run hook with encapsulated 404 and framework-unsupported method
        1..11
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - onRequest 2 called
        ok 4 - preHandler called
        ok 5 - preHandler 2 called
        ok 6 - onSend called
        ok 7 - onSend 2 called
        ok 8 - onResponse called
        ok 9 - onResponse 2 called
        ok 10 - should not error
        ok 11 - should be equal
    ok 12 - run hook with encapsulated 404 and framework-unsupported method # time=24.462ms
    
    # Subtest: hooks check 404
        1..13
        ok 1 - should not error
        ok 2 - onRequest
        ok 3 - should be equivalent
        ok 4 - onSend
        ok 5 - onResponse
        ok 6 - onRequest
        ok 7 - should be equivalent
        ok 8 - onSend
        ok 9 - onResponse
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should not error
        ok 13 - should be equal
    ok 13 - hooks check 404 # time=33.295ms
    
    # Subtest: setNotFoundHandler should not suppress duplicated routes checking
        1..1
        ok 1 - expect truthy value
    ok 14 - setNotFoundHandler should not suppress duplicated routes checking # time=3.667ms
    
    # Subtest: log debug for 404
        1..1
        # Subtest: log debug
            1..7
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
        ok 1 - log debug # time=7.178ms
        
    ok 15 - log debug for 404 # time=13.89ms
    
    # Subtest: Unknown method
        1..5
        ok 1 - should not error
        ok 2 - expected to throw
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent strictly
    ok 16 - Unknown method # time=16.608ms
    
    # Subtest: recognizes errors from the http-errors module
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent strictly
    ok 17 - recognizes errors from the http-errors module # time=17.756ms
    
    # Subtest: the default 404 handler can be invoked inside a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
    ok 18 - the default 404 handler can be invoked inside a prefixed plugin # time=7.028ms
    
    # Subtest: an inherited custom 404 handler can be invoked inside a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - an inherited custom 404 handler can be invoked inside a prefixed plugin # time=6.757ms
    
    # Subtest: encapsulated custom 404 handler without a prefix is the handler for the entire 404 level
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 20 - encapsulated custom 404 handler without a prefix is the handler for the entire 404 level # time=10.498ms
    
    # Subtest: cannot set notFoundHandler after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 21 - cannot set notFoundHandler after binding # time=4.214ms
    
    # Subtest: 404 inside onSend
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 22 - 404 inside onSend # time=6.783ms
    
    # Subtest: onSend hooks run when an encapsulated route invokes the notFound handler
        1..3
        ok 1 - onSend hook called
        ok 2 - should not error
        ok 3 - should be equal
    ok 23 - onSend hooks run when an encapsulated route invokes the notFound handler # time=5.643ms
    
    # Subtest: preHandler option for setNotFoundHandler
        1..10
        # Subtest: preHandler option
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 1 - preHandler option # time=60.442ms
        
        # Subtest: preHandler hook in setNotFoundHandler should be called when callNotFound
            1..3
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 2 - preHandler hook in setNotFoundHandler should be called when callNotFound # time=14.772ms
        
        # Subtest: preHandler hook in setNotFoundHandler should accept an array of functions and be called when callNotFound
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 3 - preHandler hook in setNotFoundHandler should accept an array of functions and be called when callNotFound # time=5.427ms
        
        # Subtest: preHandler option should be called after preHandler hook
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 4 - preHandler option should be called after preHandler hook # time=5.144ms
        
        # Subtest: preHandler option should be unique per prefix
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 5 - preHandler option should be unique per prefix # time=9.51ms
        
        # Subtest: preHandler option should handle errors
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 6 - preHandler option should handle errors # time=5.205ms
        
        # Subtest: preHandler option should handle errors with custom status code
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 7 - preHandler option should handle errors with custom status code # time=5.187ms
        
        # Subtest: preHandler option could accept an array of functions
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 8 - preHandler option could accept an array of functions # time=4.497ms
        
        # Subtest: preHandler option does not interfere with preHandler
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 9 - preHandler option does not interfere with preHandler # time=8.85ms
        
        # Subtest: preHandler option should keep the context
            1..3
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 10 - preHandler option should keep the context # time=4.793ms
        
    ok 24 - preHandler option for setNotFoundHandler # time=135.921ms
    
    # Subtest: reply.notFound invoked the notFound handler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - reply.notFound invoked the notFound handler # time=4.726ms
    
    # Subtest: The custom error handler should be invoked after the custom not found handler
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - type is Error
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 26 - The custom error handler should be invoked after the custom not found handler # time=6.205ms
    
    # Subtest: If the custom not found handler does not use an Error, the custom error handler should not be called
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 27 - If the custom not found handler does not use an Error, the custom error handler should not be called # time=4.27ms
    
    # Subtest: preValidation option
        1..3
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 28 - preValidation option # time=4.809ms
    
    # Subtest: preValidation option could accept an array of functions
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 29 - preValidation option could accept an array of functions # time=4.899ms
    
    # Subtest: Should fail to invoke callNotFound inside a 404 handler
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 30 - Should fail to invoke callNotFound inside a 404 handler # time=6.59ms
    
    # Subtest: 400 in case of bad url (pre find-my-way v2.2.0 was a 404)
        # Subtest: Dynamic route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 1 - Dynamic route # time=19.441ms
        
        # Subtest: Wildcard
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - Wildcard # time=7.06ms
        
        # Subtest: No route registered
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - No route registered # time=27.612ms
        
        # Subtest: Only / is registered
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - Only / is registered # time=6.843ms
        
        # Subtest: customized 404
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - customized 404 # time=11.57ms
        
        1..5
    ok 31 - 400 in case of bad url (pre find-my-way v2.2.0 was a 404) # time=80.496ms
    
    # Subtest: setNotFoundHandler should be chaining fastify instance
        # Subtest: Register route after setNotFoundHandler
            1..6
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should not error
            ok 5 - should be equal
            ok 6 - should be equal
        ok 1 - Register route after setNotFoundHandler # time=27.396ms
        
        1..1
    ok 32 - setNotFoundHandler should be chaining fastify instance # time=33.717ms
    
    # Subtest: Send 404 when frameworkError calls reply.callNotFound
        # Subtest: Dynamic route
            1..4
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 1 - Dynamic route # time=6.289ms
        
        1..1
    ok 33 - Send 404 when frameworkError calls reply.callNotFound # time=11.679ms
    
    1..33
    # time=1133.972ms
ok 1 - test/404s.test.js # time=1133.972ms

# Subtest: test/500s.test.js
    # Subtest: default 500
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - default 500 # time=84.316ms
    
    # Subtest: custom 500
        1..6
        ok 1 - type is object
        ok 2 - type is Request
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 2 - custom 500 # time=9.247ms
    
    # Subtest: encapsulated 500
        1..10
        ok 1 - type is object
        ok 2 - type is Request
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 3 - encapsulated 500 # time=46.742ms
    
    # Subtest: custom 500 with hooks
        1..7
        ok 1 - onRequest
        ok 2 - onSend
        ok 3 - onResponse
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 4 - custom 500 with hooks # time=14.435ms
    
    # Subtest: cannot set errorHandler after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 5 - cannot set errorHandler after binding # time=20.219ms
    
    1..5
    # time=188.054ms
ok 2 - test/500s.test.js # time=188.054ms

# Subtest: test/allowUnsafeRegex.test.js
    # Subtest: allow unsafe regex
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - allow unsafe regex # time=73.219ms
    
    # Subtest: allow unsafe regex not match
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 2 - allow unsafe regex not match # time=13.074ms
    
    # Subtest: allow unsafe regex not safe
        1..1
        ok 1 - expected to throw
    ok 3 - allow unsafe regex not safe # time=84.161ms
    
    # Subtest: allow unsafe regex not safe by default
        1..1
        ok 1 - expected to throw
    ok 4 - allow unsafe regex not safe by default # time=3.553ms
    
    # Subtest: allow unsafe regex allow unsafe
        1..5
        ok 1 - expected to not throw
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 5 - allow unsafe regex allow unsafe # time=11.712ms
    
    1..5
    # time=220.743ms
ok 3 - test/allowUnsafeRegex.test.js # time=220.743ms

# Subtest: test/als.test.js
    ok 1 - should not error
    ok 2 - expect truthy value
    ok 3 - should not error
    ok 4 - should be equal
    ok 5 - should be equivalent
    ok 6 - expect truthy value
    ok 7 - should not error
    ok 8 - should be equal
    ok 9 - should be equivalent
    ok 10 - expect truthy value
    ok 11 - should not error
    ok 12 - should be equal
    ok 13 - should be equivalent
    1..13
    # time=44.651ms
ok 4 - test/als.test.js # time=44.651ms

# Subtest: test/async-await.test.js
    # Subtest: async await
        1..11
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 1 - async await # time=320.059ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (undefined)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 2 - ignore the result of the promise if reply.send is called beforehand (undefined) # time=13.241ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (object)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 3 - ignore the result of the promise if reply.send is called beforehand (object) # time=22.045ms
    
    # Subtest: server logs an error if reply.send is called and a value is returned via async/await
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 4 - server logs an error if reply.send is called and a value is returned via async/await # time=96.19ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (undefined)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 5 - ignore the result of the promise if reply.send is called beforehand (undefined) # time=10.73ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (object)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 6 - ignore the result of the promise if reply.send is called beforehand (object) # time=25.589ms
    
    # Subtest: await reply if we will be calling reply.send in the future
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 7 - await reply if we will be calling reply.send in the future # time=14.073ms
    
    # Subtest: await reply if we will be calling reply.send in the future (error case)
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 8 - await reply if we will be calling reply.send in the future (error case) # time=39.805ms
    
    # Subtest: support reply decorators with await
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 9 - support reply decorators with await # time=10.386ms
    
    # Subtest: inject async await
        1..1
        ok 1 - should be equivalent
    ok 10 - inject async await # time=7.801ms
    
    # Subtest: inject async await - when the server equal up
        1..2
        ok 1 - should be equivalent
        ok 2 - should be equivalent
    ok 11 - inject async await - when the server equal up # time=223.475ms
    
    # Subtest: async await plugin
        1..1
        ok 1 - should be equivalent
    ok 12 - async await plugin # time=209.169ms
    
    # Subtest: does not call reply.send() twice if 204 response equal already sent
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - does not call reply.send() twice if 204 response equal already sent # time=5.399ms
    
    # Subtest: promise was fulfilled with undefined
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - promise was fulfilled with undefined # time=16.335ms
    
    # Subtest: error is not logged because promise was fulfilled with undefined but response was sent before promise resolution
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 15 - error is not logged because promise was fulfilled with undefined but response was sent before promise resolution # time=21.733ms
    
    # Subtest: Thrown Error instance sets HTTP status code
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - Thrown Error instance sets HTTP status code # time=6.773ms
    
    # Subtest: customErrorHandler support
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 17 - customErrorHandler support # time=7.095ms
    
    # Subtest: customErrorHandler support without throwing
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - customErrorHandler support without throwing # time=5.946ms
    
    # Subtest: customErrorHandler only called if reply not already sent
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - customErrorHandler only called if reply not already sent # time=4.593ms
    
    # Subtest: setNotFoundHandler should accept return value
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - setNotFoundHandler should accept return value # time=6.395ms
    
    # Subtest: customErrorHandler should accept return value
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 21 - customErrorHandler should accept return value # time=5.466ms
    
    # Subtest: await self
        ok 1 - should be equal
        1..1
    ok 22 - await self # time=3.032ms
    
    1..22
    # time=1099.618ms
ok 5 - test/async-await.test.js # time=1099.618ms

# Subtest: test/bodyLimit.test.js
    # Subtest: bodyLimit
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should not error
        ok 5 - should be equal
    ok 1 - bodyLimit # time=53.28ms
    
    1..1
    # time=58.735ms
ok 6 - test/bodyLimit.test.js # time=58.735ms

# Subtest: test/build/error-serializer.test.js
    # Subtest: check generated code syntax
        1..1
        ok 1 - should be equal
    ok 1 - check generated code syntax # time=4039.923ms
    
    ok 2 - ensure the current error serializer is latest # SKIP
    1..2
    # skip: 1
    # time=4114.22ms
ok 7 - test/build/error-serializer.test.js # time=4114.22ms

# Subtest: test/build/version.test.js
    # Subtest: should be the same as package.json
        1..1
        ok 1 - should be equal
    ok 1 - should be the same as package.json # time=7.063ms
    
    1..1
    # time=18.743ms
ok 8 - test/build/version.test.js # time=18.743ms

# Subtest: test/case-insensitive.test.js
    # Subtest: case insensitive
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - case insensitive # time=70.728ms
    
    # Subtest: case insensitive inject
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - case insensitive inject # time=31.134ms
    
    # Subtest: case insensitive (parametric)
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 3 - case insensitive (parametric) # time=11.506ms
    
    # Subtest: case insensitive (wildcard)
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 4 - case insensitive (wildcard) # time=28.267ms
    
    1..4
    # time=163.782ms
ok 9 - test/case-insensitive.test.js # time=163.782ms

# Subtest: test/chainable.test.js
    # Subtest: chainable - get
        1..1
        ok 1 - type is [object Object]
    ok 1 - chainable - get # time=15.968ms
    
    # Subtest: chainable - post
        1..1
        ok 1 - type is [object Object]
    ok 2 - chainable - post # time=2.18ms
    
    # Subtest: chainable - route
        1..1
        ok 1 - type is [object Object]
    ok 3 - chainable - route # time=2.198ms
    
    1..3
    # time=32.618ms
ok 10 - test/chainable.test.js # time=32.618ms

# Subtest: test/close-pipelining.test.js
    # Subtest: Should return 503 while closing - pipelining
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        1..3
    ok 1 - Should return 503 while closing - pipelining # time=117.628ms
    
    # Subtest: Should not return 503 while closing - pipelining - return503OnClosing
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        1..3
    ok 2 - Should not return 503 while closing - pipelining - return503OnClosing # time=12.645ms
    
    1..2
    # time=139.951ms
ok 11 - test/close-pipelining.test.js # time=139.951ms

# Subtest: test/close.test.js
    # Subtest: close callback
        1..4
        ok 1 - should not error
        ok 2 - type is [object Object]
        ok 3 - should not error
        ok 4 - expect truthy value
    ok 1 - close callback # time=84.82ms
    
    # Subtest: inside register
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - expect truthy value
    ok 2 - inside register # time=23.17ms
    
    # Subtest: close order
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 3 - close order # time=21.696ms
    
    # Subtest: close order - async
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 4 - close order - async # time=14.876ms
    
    # Subtest: should not throw an error if the server is not listening
        1..2
        ok 1 - type is [object Object]
        ok 2 - should not error
    ok 5 - should not throw an error if the server is not listening # time=3.412ms
    
    # Subtest: onClose should keep the context
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
    ok 6 - onClose should keep the context # time=17.351ms
    
    # Subtest: Should return error while closing (promise) - injection
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 7 - Should return error while closing (promise) - injection # time=66.298ms
    
    # Subtest: Should return error while closing (callback) - injection
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 8 - Should return error while closing (callback) - injection # time=125.879ms
    
    # Subtest: Current opened connection should continue to work after closing and return "connection: close" header - return503OnClosing: false
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        1..5
    ok 9 - Current opened connection should continue to work after closing and return "connection: close" header - return503OnClosing: false # time=27.621ms
    
    # Subtest: Current opened connection should not accept new incoming connections
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 10 - Current opened connection should not accept new incoming connections # time=269.867ms
    
    # Subtest: Cannot be reopened the closed server without listen callback
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 11 - Cannot be reopened the closed server without listen callback # time=9.604ms
    
    # Subtest: Cannot be reopened the closed server has listen callback
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 12 - Cannot be reopened the closed server has listen callback # time=4.823ms
    
    ok 13 - shutsdown while keep-alive connections are active (non-async, native) # SKIP
    ok 14 - shutsdown while keep-alive connections are active (non-async, idle, native) # SKIP
    # Subtest: shutsdown while keep-alive connections are active (non-async, custom)
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 15 - shutsdown while keep-alive connections are active (non-async, custom) # time=9.624ms
    
    1..15
    # skip: 2
    # time=699.059ms
ok 12 - test/close.test.js # time=699.059ms

# Subtest: test/connectionTimeout.test.js
    # Subtest: connectionTimeout
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 1 - connectionTimeout # time=52.794ms
    
    1..1
    # time=68.394ms
ok 13 - test/connectionTimeout.test.js # time=68.394ms

# Subtest: test/constrained-routes.test.js
    # Subtest: Should register a host constrained route
        1..7
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 1 - Should register a host constrained route # time=98.894ms
    
    # Subtest: Should register the same route with host constraints
        1..8
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 2 - Should register the same route with host constraints # time=18.781ms
    
    # Subtest: Should allow registering custom constrained routes
        1..8
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 3 - Should allow registering custom constrained routes # time=34.665ms
    
    # Subtest: Should allow registering custom constrained routes outside constructor
        1..8
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 4 - Should allow registering custom constrained routes outside constructor # time=10.699ms
    
    # Subtest: Add a constraint strategy after fastify instance was started
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - Cannot add constraint strategy when fastify instance is already started!
    ok 5 - Add a constraint strategy after fastify instance was started # time=6.392ms
    
    # Subtest: Add a constraint strategy should throw an error if there already exist custom strategy with the same name
        1..1
        ok 1 - There already exists a custom constraint with the name secret.
    ok 6 - Add a constraint strategy should throw an error if there already exist custom strategy with the same name # time=1.599ms
    
    # Subtest: Add a constraint strategy shouldn't throw an error if default constraint with the same name isn't used
        1..1
        ok 1 - (unnamed test)
    ok 7 - Add a constraint strategy shouldn't throw an error if default constraint with the same name isn't used # time=1.34ms
    
    # Subtest: Add a constraint strategy should throw an error if default constraint with the same name is used
        1..1
        ok 1 - There already exists a route with version constraint.
    ok 8 - Add a constraint strategy should throw an error if default constraint with the same name is used # time=2.289ms
    
    # Subtest: The hasConstraintStrategy should return false for default constraints until they are used
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 9 - The hasConstraintStrategy should return false for default constraints until they are used # time=13.326ms
    
    # Subtest: The hasConstraintStrategy should return true if there already exist a custom constraint with the same name
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 10 - The hasConstraintStrategy should return true if there already exist a custom constraint with the same name # time=2.47ms
    
    # Subtest: Should allow registering an unconstrained route after a constrained route
        1..6
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
    ok 11 - Should allow registering an unconstrained route after a constrained route # time=16.646ms
    
    # Subtest: Should allow registering constrained routes in a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 12 - Should allow registering constrained routes in a prefixed plugin # time=12.277ms
    
    # Subtest: Should allow registering a constrained GET route after a constrained HEAD route
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 13 - Should allow registering a constrained GET route after a constrained HEAD route # time=5.163ms
    
    # Subtest: Should allow registering a constrained GET route after an unconstrained HEAD route
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 14 - Should allow registering a constrained GET route after an unconstrained HEAD route # time=5.012ms
    
    # Subtest: Will not try to re-createprefixed HEAD route if it already exists and exposeHeadRoutes is true for constrained routes
        1..1
        ok 1 - expect truthy value
    ok 15 - Will not try to re-createprefixed HEAD route if it already exists and exposeHeadRoutes is true for constrained routes # time=5.779ms
    
    # Subtest: allows separate constrained and unconstrained HEAD routes
        1..1
        ok 1 - expect truthy value
    ok 16 - allows separate constrained and unconstrained HEAD routes # time=4.756ms
    
    1..16
    # time=263.821ms
ok 14 - test/constrained-routes.test.js # time=263.821ms

# Subtest: test/content-length.test.js
    # Subtest: default 413 with bodyLimit option
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - default 413 with bodyLimit option # time=74.362ms
    
    # Subtest: default 400 with wrong content-length
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - default 400 with wrong content-length # time=13.816ms
    
    # Subtest: custom 413 with bodyLimit option
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 3 - custom 413 with bodyLimit option # time=11.59ms
    
    # Subtest: custom 400 with wrong content-length
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 4 - custom 400 with wrong content-length # time=9.611ms
    
    # Subtest: \#2214 - wrong content-length
        ok 1 - should be equal
        1..1
    ok 5 - \#2214 - wrong content-length # time=8.384ms
    
    # Subtest: \#2543 - wrong content-length with errorHandler
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 6 - \#2543 - wrong content-length with errorHandler # time=7.182ms
    
    1..6
    # time=134.311ms
ok 15 - test/content-length.test.js # time=134.311ms

# Subtest: test/content-parser.test.js
    # Subtest: hasContentTypeParser
        1..0
    ok 1 - hasContentTypeParser # time=12.129ms
    
    # Subtest: should know about internal parsers
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
    ok 2 - should know about internal parsers # time=40.463ms
    
    # Subtest: should work with string and RegExp
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect falsey value
    ok 3 - should work with string and RegExp # time=5.801ms
    
    # Subtest: getParser
        1..0
    ok 4 - getParser # time=97.197ms
    
    # Subtest: existingParser
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect falsey value
        1..7
    ok 5 - existingParser # time=17.561ms
    
    # Subtest: add
        1..0
    ok 6 - add # time=20.392ms
    
    # Subtest: non-Error thrown from content parser is properly handled
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 7 - non-Error thrown from content parser is properly handled # time=35.397ms
    
    # Subtest: Error thrown 415 from content type is null and make post request to server
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 8 - Error thrown 415 from content type is null and make post request to server # time=18.573ms
    
    # Subtest: remove
        1..0
    ok 9 - remove # time=18.597ms
    
    # Subtest: remove all should remove all existing parsers and reset cache
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
    ok 10 - remove all should remove all existing parsers and reset cache # time=6.351ms
    
    # Subtest: should return matching parser
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 11 - should return matching parser # time=3.831ms
    
    # Subtest: should return matching parser with caching
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 12 - should return matching parser with caching # time=3.562ms
    
    # Subtest: should prefer content type parser with string value
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 13 - should prefer content type parser with string value # time=3.057ms
    
    # Subtest: should return parser that catches all if no other is set
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 14 - should return parser that catches all if no other is set # time=3.768ms
    
    # Subtest: should return undefined if no matching parser exist
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 15 - should return undefined if no matching parser exist # time=3.199ms
    
    # Subtest: returns always false for "*"
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 16 - returns always false for "*" # time=2.199ms
    
    # Subtest: let you override the default parser once
        1..2
        ok 1 - Content type parser 'application/json' already present
        ok 2 - Content type parser 'text/plain' already present
    ok 17 - let you override the default parser once # time=6.48ms
    
    # Subtest: should only accept string and RegExp
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - The content type should be a string or a RegExp
        ok 4 - The content type should be a string or a RegExp
    ok 18 - should only accept string and RegExp # time=9.798ms
    
    # Subtest: should set "*" as parser that catches all
        1..1
        ok 1 - should be equal
    ok 19 - should set "*" as parser that catches all # time=1.751ms
    
    # Subtest: should remove default parser
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 20 - should remove default parser # time=3.94ms
    
    # Subtest: should remove RegExp parser
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 21 - should remove RegExp parser # time=3.568ms
    
    # Subtest: should throw an error if content type is neither string nor RegExp
        1..1
        ok 1 - expected to throw
    ok 22 - should throw an error if content type is neither string nor RegExp # time=2.253ms
    
    # Subtest: should not throw error if content type does not exist
        1..1
        ok 1 - expected to not throw
    ok 23 - should not throw error if content type does not exist # time=2.921ms
    
    # Subtest: should not remove any content type parser if content type does not exist
        1..1
        ok 1 - should be equivalent
    ok 24 - should not remove any content type parser if content type does not exist # time=1.448ms
    
    1..24
    # time=351.454ms
ok 16 - test/content-parser.test.js # time=351.454ms

# Subtest: test/context-config.test.js
    # Subtest: config
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 1 - config # time=76.142ms
    
    # Subtest: config with exposeHeadRoutes
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 2 - config with exposeHeadRoutes # time=13.914ms
    
    # Subtest: config without exposeHeadRoutes
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 3 - config without exposeHeadRoutes # time=20.378ms
    
    1..3
    # time=130.789ms
ok 17 - test/context-config.test.js # time=130.789ms

# Subtest: test/custom-http-server.test.js
    # Subtest: Should support a custom http server
        1..4
        ok 1 - it is called twice for every HOST interface
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - Should support a custom http server # time=68.064ms
    
    # Subtest: Should not allow forceCloseConnection=idle if the server does not support closeIdleConnections
        1..1
        ok 1 - Cannot set forceCloseConnections to 'idle' as your HTTP server does not support closeIdleConnections method
    ok 2 - Should not allow forceCloseConnection=idle if the server does not support closeIdleConnections # time=3.788ms
    
    1..2
    # time=80.211ms
ok 18 - test/custom-http-server.test.js # time=80.211ms

# Subtest: test/custom-parser-async.test.js
    # Subtest: contentTypeParser should add a custom async parser
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=34.843ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=7.687ms
        
    ok 1 - contentTypeParser should add a custom async parser # time=112.841ms
    
    1..1
    # time=118.205ms
ok 19 - test/custom-parser-async.test.js # time=118.205ms

# Subtest: test/custom-parser.test.js
    # Subtest: contentTypeParser method should exist
        1..1
        ok 1 - expect truthy value
    ok 1 - contentTypeParser method should exist # time=16.036ms
    
    # Subtest: contentTypeParser should add a custom parser
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=26.564ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=6.14ms
        
    ok 2 - contentTypeParser should add a custom parser # time=181.756ms
    
    # Subtest: contentTypeParser should handle multiple custom parsers
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 3 - contentTypeParser should handle multiple custom parsers # time=13.157ms
    
    # Subtest: contentTypeParser should handle an array of custom contentTypes
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 4 - contentTypeParser should handle an array of custom contentTypes # time=35.288ms
    
    # Subtest: contentTypeParser should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 5 - contentTypeParser should handle errors # time=9.581ms
    
    # Subtest: contentTypeParser should support encapsulation
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - expect falsey value
        ok 6 - expect falsey value
    ok 6 - contentTypeParser should support encapsulation # time=7.753ms
    
    # Subtest: contentTypeParser should support encapsulation, second try
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - contentTypeParser should support encapsulation, second try # time=21.72ms
    
    # Subtest: contentTypeParser shouldn't support request with undefined "Content-Type"
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 8 - contentTypeParser shouldn't support request with undefined "Content-Type" # time=19.606ms
    
    # Subtest: the content type should be a string or RegExp
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 9 - the content type should be a string or RegExp # time=2.18ms
    
    # Subtest: the content type cannot be an empty string
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 10 - the content type cannot be an empty string # time=2.37ms
    
    # Subtest: the content type handler should be a function
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 11 - the content type handler should be a function # time=1.992ms
    
    # Subtest: catch all content type parser
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 12 - catch all content type parser # time=11.759ms
    
    # Subtest: catch all content type parser should not interfere with other conte type parsers
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 13 - catch all content type parser should not interfere with other conte type parsers # time=35.872ms
    
    # Subtest: '*' catch undefined Content-Type requests
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - '*' catch undefined Content-Type requests # time=15.907ms
    
    # Subtest: cannot add custom parser after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 15 - cannot add custom parser after binding # time=5.107ms
    
    # Subtest: Can override the default json parser
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 16 - Can override the default json parser # time=27.133ms
    
    # Subtest: Can override the default plain text parser
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 17 - Can override the default plain text parser # time=9.218ms
    
    # Subtest: Can override the default json parser in a plugin
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 18 - Can override the default json parser in a plugin # time=9.717ms
    
    # Subtest: Can't override the json parser multiple times
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 19 - Can't override the json parser multiple times # time=1.704ms
    
    # Subtest: Can't override the plain text parser multiple times
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 20 - Can't override the plain text parser multiple times # time=2ms
    
    # Subtest: Should get the body as string
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 21 - Should get the body as string # time=8.512ms
    
    # Subtest: Should return defined body with no custom parser defined and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 22 - Should return defined body with no custom parser defined and content type = 'text/plain' # time=7.754ms
    
    # Subtest: Should have typeof body object with no custom parser defined, no body defined and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 23 - Should have typeof body object with no custom parser defined, no body defined and content type = 'text/plain' # time=6.611ms
    
    # Subtest: Should have typeof body object with no custom parser defined, null body and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 24 - Should have typeof body object with no custom parser defined, null body and content type = 'text/plain' # time=7.231ms
    
    # Subtest: Should have typeof body object with no custom parser defined, undefined body and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 25 - Should have typeof body object with no custom parser defined, undefined body and content type = 'text/plain' # time=6.971ms
    
    # Subtest: Should get the body as string
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 26 - Should get the body as string # time=14.832ms
    
    # Subtest: Should get the body as buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 27 - Should get the body as buffer # time=8.566ms
    
    # Subtest: Should get the body as buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 28 - Should get the body as buffer # time=8.397ms
    
    # Subtest: Should parse empty bodies as a string
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 29 - Should parse empty bodies as a string # time=47.717ms
    
    # Subtest: Should parse empty bodies as a buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 30 - Should parse empty bodies as a buffer # time=8.232ms
    
    # Subtest: The charset should not interfere with the content type handling
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 31 - The charset should not interfere with the content type handling # time=12.824ms
    
    # Subtest: Wrong parseAs parameter
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 32 - Wrong parseAs parameter # time=2.808ms
    
    # Subtest: Should allow defining the bodyLimit per parser
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent strictly
    ok 33 - Should allow defining the bodyLimit per parser # time=9.267ms
    
    # Subtest: route bodyLimit should take precedence over a custom parser bodyLimit
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent strictly
    ok 34 - route bodyLimit should take precedence over a custom parser bodyLimit # time=7.009ms
    
    # Subtest: should be able to use default parser for extra content type
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent strictly
    ok 35 - should be able to use default parser for extra content type # time=7.471ms
    
    # Subtest: contentTypeParser should add a custom parser with RegExp value
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=5.554ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=4.494ms
        
    ok 36 - contentTypeParser should add a custom parser with RegExp value # time=16.887ms
    
    # Subtest: contentTypeParser should add multiple custom parsers with RegExp values
        1..6
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 37 - contentTypeParser should add multiple custom parsers with RegExp values # time=35.51ms
    
    # Subtest: catch all content type parser should not interfere with content type parser
        1..10
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 38 - catch all content type parser should not interfere with content type parser # time=25.009ms
    
    # Subtest: should prefer string content types over RegExp ones
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 39 - should prefer string content types over RegExp ones # time=10.064ms
    
    # Subtest: removeContentTypeParser should support arrays of content types to remove
        1..8
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 40 - removeContentTypeParser should support arrays of content types to remove # time=11.32ms
    
    # Subtest: removeContentTypeParser should support encapsulation
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 41 - removeContentTypeParser should support encapsulation # time=10.205ms
    
    # Subtest: removeAllContentTypeParsers should support encapsulation
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 42 - removeAllContentTypeParsers should support encapsulation # time=14.129ms
    
    # Subtest: cannot remove all content type parsers after binding
        1..2
        ok 1 - should not error
        ok 2 - expected to throw
    ok 43 - cannot remove all content type parsers after binding # time=4.369ms
    
    # Subtest: cannot remove content type parsers after binding
        1..2
        ok 1 - should not error
        ok 2 - expected to throw
    ok 44 - cannot remove content type parsers after binding # time=2.94ms
    
    # Subtest: should be able to override the default json parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 45 - should be able to override the default json parser after removeAllContentTypeParsers # time=6.244ms
    
    # Subtest: should be able to override the default plain text parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 46 - should be able to override the default plain text parser after removeAllContentTypeParsers # time=5.651ms
    
    # Subtest: should be able to add a custom content type parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 47 - should be able to add a custom content type parser after removeAllContentTypeParsers # time=6.255ms
    
    1..47
    # time=786.782ms
ok 20 - test/custom-parser.test.js # time=786.782ms

# Subtest: test/custom-querystring-parser.test.js
    # Subtest: Custom querystring parser
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 1 - Custom querystring parser # time=106.054ms
    
    # Subtest: Custom querystring parser should be called also if there is nothing to parse
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 2 - Custom querystring parser should be called also if there is nothing to parse # time=19.748ms
    
    # Subtest: Querystring without value
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 3 - Querystring without value # time=18.962ms
    
    # Subtest: Custom querystring parser should be a function
        1..1
        ok 1 - should be equal
    ok 4 - Custom querystring parser should be a function # time=1.498ms
    
    1..4
    # time=181.91ms
ok 21 - test/custom-querystring-parser.test.js # time=181.91ms

# Subtest: test/decorator.test.js
    # Subtest: server methods should exist
        1..2
        ok 1 - expect truthy value
        ok 2 - expect truthy value
    ok 1 - server methods should exist # time=15.798ms
    
    # Subtest: should check if the given decoration already exist when null
        1..1
        ok 1 - expect truthy value
    ok 2 - should check if the given decoration already exist when null # time=82.314ms
    
    # Subtest: server methods should be encapsulated via .register
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 3 - server methods should be encapsulated via .register # time=8.092ms
    
    # Subtest: hasServerMethod should check if the given method already exist
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 4 - hasServerMethod should check if the given method already exist # time=18.708ms
    
    # Subtest: decorate should throw if a declared dependency is not present
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - (unnamed test)
    ok 5 - decorate should throw if a declared dependency is not present # time=14.959ms
    
    # Subtest: decorate should throw if declared dependency is not array
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - (unnamed test)
    ok 6 - decorate should throw if declared dependency is not array # time=6.145ms
    
    # Subtest: should pass error for missing request decorator
        1..2
        ok 1 - type is Error
        ok 2 - should match pattern provided
    ok 7 - should pass error for missing request decorator # time=7.03ms
    
    # Subtest: decorateReply inside register
        1..11
        ok 1 - should not error
        ok 2 - test exists
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 8 - decorateReply inside register # time=54.431ms
    
    # Subtest: decorateReply as plugin (inside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 9 - decorateReply as plugin (inside .after) # time=48.052ms
    
    # Subtest: decorateReply as plugin (outside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 10 - decorateReply as plugin (outside .after) # time=20.104ms
    
    # Subtest: decorateRequest inside register
        1..11
        ok 1 - should not error
        ok 2 - test exists
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 11 - decorateRequest inside register # time=31.114ms
    
    # Subtest: decorateRequest as plugin (inside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 12 - decorateRequest as plugin (inside .after) # time=42.605ms
    
    # Subtest: decorateRequest as plugin (outside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 13 - decorateRequest as plugin (outside .after) # time=18.434ms
    
    # Subtest: decorators should be instance separated
        1..1
        ok 1 - (unnamed test)
    ok 14 - decorators should be instance separated # time=2.566ms
    
    # Subtest: hasRequestDecorator
        # Subtest: is a function
            1..1
            ok 1 - expect truthy value
        ok 1 - is a function # time=1.801ms
        
        # Subtest: should check if the given request decoration already exist
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 2 - should check if the given request decoration already exist # time=2.435ms
        
        # Subtest: should check if the given request decoration already exist when null
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 3 - should check if the given request decoration already exist when null # time=2.463ms
        
        # Subtest: should be plugin encapsulable
            1..4
            ok 1 - expect falsey value
            ok 2 - expect falsey value
            ok 3 - expect truthy value
            ok 4 - expect falsey value
        ok 4 - should be plugin encapsulable # time=15.953ms
        
        # Subtest: should be inherited
            1..2
            ok 1 - expect truthy value
            ok 2 - expect truthy value
        ok 5 - should be inherited # time=6.114ms
        
        1..5
    ok 15 - hasRequestDecorator # time=50.334ms
    
    # Subtest: hasReplyDecorator
        # Subtest: is a function
            1..1
            ok 1 - expect truthy value
        ok 1 - is a function # time=2.145ms
        
        # Subtest: should check if the given reply decoration already exist
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 2 - should check if the given reply decoration already exist # time=2.067ms
        
        # Subtest: should check if the given reply decoration already exist when null
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 3 - should check if the given reply decoration already exist when null # time=1.778ms
        
        # Subtest: should be plugin encapsulable
            1..4
            ok 1 - expect falsey value
            ok 2 - expect falsey value
            ok 3 - expect truthy value
            ok 4 - expect falsey value
        ok 4 - should be plugin encapsulable # time=23.165ms
        
        # Subtest: should be inherited
            1..2
            ok 1 - expect truthy value
            ok 2 - expect truthy value
        ok 5 - should be inherited # time=11.951ms
        
        1..5
    ok 16 - hasReplyDecorator # time=130.029ms
    
    # Subtest: should register properties via getter/setter objects
        1..3
        ok 1 - expect truthy value
        ok 2 - a getter
        ok 3 - expect falsey value
    ok 17 - should register properties via getter/setter objects # time=14.322ms
    
    # Subtest: decorateRequest should work with getter/setter
        1..5
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - (unnamed test)
    ok 18 - decorateRequest should work with getter/setter # time=47.436ms
    
    # Subtest: decorateReply should work with getter/setter
        1..5
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - (unnamed test)
    ok 19 - decorateReply should work with getter/setter # time=15.46ms
    
    # Subtest: should register empty values
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 20 - should register empty values # time=3.577ms
    
    # Subtest: nested plugins can override things
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 21 - nested plugins can override things # time=4.612ms
    
    # Subtest: a decorator should addSchema to all the encapsulated tree
        1..1
        ok 1 - should not error
    ok 22 - a decorator should addSchema to all the encapsulated tree # time=4.826ms
    
    # Subtest: after can access to a decorated instance and previous plugin decoration
        1..11
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
    ok 23 - after can access to a decorated instance and previous plugin decoration # time=11.486ms
    
    # Subtest: decorate* should throw if called after ready
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 24 - decorate* should throw if called after ready # time=34.07ms
    
    # Subtest: decorate* should emit warning if an array is passed
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 25 - decorate* should emit warning if an array is passed # time=35.465ms
    
    # Subtest: decorate* should emit warning if object type is passed
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 26 - decorate* should emit warning if object type is passed # time=23.464ms
    
    # Subtest: decorate* should not emit warning if object with getter/setter is passed
        1..0
    ok 27 - decorate* should not emit warning if object with getter/setter is passed # time=23.786ms
    
    # Subtest: decorate* should not emit warning if string,bool,numbers are passed
        1..0
    ok 28 - decorate* should not emit warning if string,bool,numbers are passed # time=23.571ms
    
    # Subtest: Request/reply decorators should be able to access the server instance
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not be equal
        ok 4 - should be equal
        ok 5 - should not be equal
        ok 6 - should be equal
    ok 29 - Request/reply decorators should be able to access the server instance # time=8.681ms
    
    # Subtest: plugin required decorators
        1..0
    ok 30 - plugin required decorators # time=3.793ms
    
    # Subtest: decorateRequest/decorateReply empty string
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 31 - decorateRequest/decorateReply empty string # time=8.212ms
    
    # Subtest: decorateRequest/decorateReply is undefined
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 32 - decorateRequest/decorateReply is undefined # time=7.662ms
    
    # Subtest: decorateRequest/decorateReply is not set to a value
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 33 - decorateRequest/decorateReply is not set to a value # time=8.058ms
    
    # Subtest: decorateRequest with dependencies
        1..2
        ok 1 - expected to not throw
        ok 2 - expect truthy value
    ok 34 - decorateRequest with dependencies # time=11.675ms
    
    # Subtest: decorateRequest with dependencies (functions)
        1..2
        ok 1 - expected to not throw
        ok 2 - expect truthy value
    ok 35 - decorateRequest with dependencies (functions) # time=1.568ms
    
    # Subtest: chain of decorators on Request
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        1..6
    ok 36 - chain of decorators on Request # time=21.834ms
    
    # Subtest: chain of decorators on Reply
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        1..6
    ok 37 - chain of decorators on Reply # time=14.235ms
    
    1..37
    # time=926.773ms
ok 22 - test/decorator.test.js # time=926.773ms

# Subtest: test/default-route.test.js
    # Subtest: should fail if defaultRoute is not a function
        1..1
        ok 1 - should be equal
    ok 1 - should fail if defaultRoute is not a function # time=19.606ms
    
    # Subtest: correctly sets, returns, and calls defaultRoute
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 2 - correctly sets, returns, and calls defaultRoute # time=38.868ms
    
    1..2
    # time=67.828ms
ok 23 - test/default-route.test.js # time=67.828ms

# Subtest: test/delete.test.js
    # Subtest: shorthand - delete
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - delete # time=9.972ms
    
    # Subtest: shorthand - delete params
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - delete params # time=2.682ms
    
    # Subtest: shorthand - delete, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - delete, querystring schema # time=2.057ms
    
    # Subtest: shorthand - get, headers schema
        1..1
        ok 1 - (unnamed test)
    ok 4 - shorthand - get, headers schema # time=1.889ms
    
    # Subtest: missing schema - delete
        1..1
        ok 1 - (unnamed test)
    ok 5 - missing schema - delete # time=1.773ms
    
    # Subtest: body - delete
        1..1
        ok 1 - (unnamed test)
    ok 6 - body - delete # time=1.479ms
    
    # Subtest: shorthand - delete with application/json Content-Type header and without body
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - shorthand - delete with application/json Content-Type header and without body # time=48.143ms
    
    ok 8 - should not error
    # Subtest: shorthand - request delete
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 9 - shorthand - request delete # time=29.168ms
    
    # Subtest: shorthand - request delete params schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 10 - shorthand - request delete params schema # time=6.683ms
    
    # Subtest: shorthand - request delete params schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 11 - shorthand - request delete params schema error # time=6.426ms
    
    # Subtest: shorthand - request delete headers schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 12 - shorthand - request delete headers schema # time=5.078ms
    
    # Subtest: shorthand - request delete headers schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 13 - shorthand - request delete headers schema error # time=4.91ms
    
    # Subtest: shorthand - request delete querystring schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 14 - shorthand - request delete querystring schema # time=4.753ms
    
    # Subtest: shorthand - request delete querystring schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 15 - shorthand - request delete querystring schema error # time=4.313ms
    
    # Subtest: shorthand - request delete missing schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 16 - shorthand - request delete missing schema # time=4.855ms
    
    # Subtest: shorthand - delete with body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - shorthand - delete with body # time=7.747ms
    
    1..17
    # time=300.489ms
ok 24 - test/delete.test.js # time=300.489ms

# Subtest: test/diagnostics-channel.test.js
    # Subtest: diagnostics_channel when present and subscribers
        1..3
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should be equal
    ok 1 - diagnostics_channel when present and subscribers # time=946.279ms
    
    # Subtest: diagnostics_channel when present and no subscribers
        1..1
        ok 1 - should be equal
    ok 2 - diagnostics_channel when present and no subscribers # time=19.309ms
    
    # Subtest: diagnostics_channel when not present
        1..1
        ok 1 - expected to not throw
    ok 3 - diagnostics_channel when not present # time=18.515ms
    
    1..3
    # time=996.89ms
ok 25 - test/diagnostics-channel.test.js # time=996.89ms

# Subtest: test/encapsulated-error-handler.test.js
    # Subtest: encapuslates an error handler
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 1 - encapuslates an error handler # time=66.968ms
    
    # Subtest: onError hook nested
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 2 - onError hook nested # time=10.758ms
    
    1..2
    # time=84.436ms
ok 26 - test/encapsulated-error-handler.test.js # time=84.436ms

# Subtest: test/esm/index.test.js
    # Subtest: named exports support
        ok 1 - should be equal
        1..1
    ok 1 - named exports support # time=40.101ms
    
    ok 2 - should be equal
    1..2
    # time=46.326ms
ok 27 - test/esm/index.test.js # time=46.326ms

# Subtest: test/fastify-instance.test.js
    # Subtest: root fastify instance is an object
        1..1
        ok 1 - type is object
    ok 1 - root fastify instance is an object # time=16.686ms
    
    # Subtest: fastify instance should contains ajv options
        1..1
        ok 1 - should be equivalent
    ok 2 - fastify instance should contains ajv options # time=9.165ms
    
    # Subtest: fastify instance should contains ajv options.plugins nested arrays
        1..1
        ok 1 - should be equivalent
    ok 3 - fastify instance should contains ajv options.plugins nested arrays # time=3.191ms
    
    # Subtest: fastify instance get invalid ajv options
        1..1
        ok 1 - expected to throw
    ok 4 - fastify instance get invalid ajv options # time=3.939ms
    
    # Subtest: fastify instance get invalid ajv options.plugins
        1..1
        ok 1 - expected to throw
    ok 5 - fastify instance get invalid ajv options.plugins # time=1.48ms
    
    # Subtest: fastify instance should contain default errorHandler
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 6 - fastify instance should contain default errorHandler # time=3.477ms
    
    # Subtest: errorHandler in plugin should be separate from the external one
        1..4
        ok 1 - should not be equivalent
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equivalent
    ok 7 - errorHandler in plugin should be separate from the external one # time=14.792ms
    
    1..7
    # time=85.154ms
ok 28 - test/fastify-instance.test.js # time=85.154ms

# Subtest: test/fluent-schema.test.js
    # Subtest: use fluent-json-schema object
        1..15
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equivalent
    ok 1 - use fluent-json-schema object # time=182.905ms
    
    # Subtest: use complex fluent-json-schema object
        1..1
        ok 1 - should not error
    ok 2 - use complex fluent-json-schema object # time=42.036ms
    
    # Subtest: use fluent schema and plain JSON schema
        1..1
        ok 1 - should not error
    ok 3 - use fluent schema and plain JSON schema # time=63.4ms
    
    # Subtest: Should call valueOf internally
        1..1
        ok 1 - should not error
    ok 4 - Should call valueOf internally # time=71.954ms
    
    1..4
    # time=367.978ms
ok 29 - test/fluent-schema.test.js # time=367.978ms

# Subtest: test/genReqId.test.js
    # Subtest: Should accept a custom genReqId function
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 1 - Should accept a custom genReqId function # time=65.649ms
    
    1..1
    # time=72.815ms
ok 30 - test/genReqId.test.js # time=72.815ms

# Subtest: test/get.test.js
    # Subtest: shorthand - get
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - get # time=9.042ms
    
    # Subtest: shorthand - get (return null)
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - get (return null) # time=2.355ms
    
    # Subtest: shorthand - get params
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - get params # time=2.62ms
    
    # Subtest: shorthand - get, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 4 - shorthand - get, querystring schema # time=1.984ms
    
    # Subtest: shorthand - get, headers schema
        1..1
        ok 1 - (unnamed test)
    ok 5 - shorthand - get, headers schema # time=1.896ms
    
    # Subtest: missing schema - get
        1..1
        ok 1 - (unnamed test)
    ok 6 - missing schema - get # time=1.475ms
    
    # Subtest: custom serializer - get
        1..1
        ok 1 - (unnamed test)
    ok 7 - custom serializer - get # time=1.971ms
    
    # Subtest: empty response
        1..1
        ok 1 - (unnamed test)
    ok 8 - empty response # time=1.555ms
    
    # Subtest: send a falsy boolean
        1..1
        ok 1 - (unnamed test)
    ok 9 - send a falsy boolean # time=1.399ms
    
    ok 10 - should not error
    # Subtest: shorthand - request get
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - shorthand - request get # time=39.256ms
    
    # Subtest: shorthand - request get params schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 12 - shorthand - request get params schema # time=6.712ms
    
    # Subtest: shorthand - request get params schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 13 - shorthand - request get params schema error # time=7.535ms
    
    # Subtest: shorthand - request get headers schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - shorthand - request get headers schema # time=4.763ms
    
    # Subtest: shorthand - request get headers schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 15 - shorthand - request get headers schema error # time=4.62ms
    
    # Subtest: shorthand - request get querystring schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 16 - shorthand - request get querystring schema # time=11.975ms
    
    # Subtest: shorthand - request get querystring schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - shorthand - request get querystring schema error # time=11.394ms
    
    # Subtest: shorthand - request get missing schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - shorthand - request get missing schema # time=3.942ms
    
    # Subtest: shorthand - custom serializer
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 19 - shorthand - custom serializer # time=4.557ms
    
    # Subtest: shorthand - empty response
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 20 - shorthand - empty response # time=3.923ms
    
    # Subtest: shorthand - send a falsy boolean
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - shorthand - send a falsy boolean # time=3.828ms
    
    # Subtest: shorthand - send null value
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - shorthand - send null value # time=3.716ms
    
    1..22
    # time=314.539ms
ok 31 - test/get.test.js # time=314.539ms

# Subtest: test/handler-context.test.js
    # Subtest: handlers receive correct `this` context
        1..4
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 1 - handlers receive correct `this` context # time=51.595ms
    
    # Subtest: handlers have access to the internal context
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - type is Object
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 2 - handlers have access to the internal context # time=23.688ms
    
    1..2
    # time=82.274ms
ok 32 - test/handler-context.test.js # time=82.274ms

# Subtest: test/head.test.js
    # Subtest: shorthand - head
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - head # time=9.046ms
    
    # Subtest: shorthand - head params
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - head params # time=2.284ms
    
    # Subtest: shorthand - head, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - head, querystring schema # time=1.526ms
    
    # Subtest: missing schema - head
        1..1
        ok 1 - (unnamed test)
    ok 4 - missing schema - head # time=1.472ms
    
    ok 5 - should not error
    # Subtest: shorthand - request head
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 6 - shorthand - request head # time=36.261ms
    
    # Subtest: shorthand - request head params schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 7 - shorthand - request head params schema # time=5.563ms
    
    # Subtest: shorthand - request head params schema error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 8 - shorthand - request head params schema error # time=5.567ms
    
    # Subtest: shorthand - request head querystring schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 9 - shorthand - request head querystring schema # time=4.378ms
    
    # Subtest: shorthand - request head querystring schema error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - shorthand - request head querystring schema error # time=4.176ms
    
    # Subtest: shorthand - request head missing schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 11 - shorthand - request head missing schema # time=3.636ms
    
    1..11
    # time=233.639ms
ok 33 - test/head.test.js # time=233.639ms

# Subtest: test/hooks-async.test.js
    # Subtest: async hooks
        1..21
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - should not error
        ok 13 - should be equal
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equivalent
        ok 18 - should not error
        ok 19 - should be equal
        ok 20 - expect truthy value
        ok 21 - expect truthy value
    ok 1 - async hooks # time=169.636ms
    
    # Subtest: modify payload
        1..10
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - expect truthy value
        ok 4 - should be equivalent
        ok 5 - expect truthy value
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
    ok 2 - modify payload # time=36.359ms
    
    # Subtest: onRequest hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 3 - onRequest hooks should be able to block a request # time=10.436ms
    
    # Subtest: preParsing hooks should be able to modify the payload
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 4 - preParsing hooks should be able to modify the payload # time=8.265ms
    
    # Subtest: preParsing hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 5 - preParsing hooks should handle errors # time=5.777ms
    
    # Subtest: preHandler hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 6 - preHandler hooks should be able to block a request # time=7.212ms
    
    # Subtest: preValidation hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 7 - preValidation hooks should be able to block a request # time=5.992ms
    
    # Subtest: preValidation hooks should be able to change request body before validation
        1..4
        ok 1 - (unnamed test)
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - preValidation hooks should be able to change request body before validation # time=84.563ms
    
    # Subtest: preSerialization hooks should be able to modify the payload
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - preSerialization hooks should be able to modify the payload # time=16.814ms
    
    # Subtest: preSerialization hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - preSerialization hooks should handle errors # time=15.707ms
    
    # Subtest: preValidation hooks should handle throwing null
        1..4
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - preValidation hooks should handle throwing null # time=11.744ms
    
    # Subtest: preValidation hooks should handle throwing a string
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 12 - preValidation hooks should handle throwing a string # time=6.048ms
    
    # Subtest: onRequest hooks should be able to block a request (last hook)
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 13 - onRequest hooks should be able to block a request (last hook) # time=17.355ms
    
    # Subtest: preHandler hooks should be able to block a request (last hook)
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 14 - preHandler hooks should be able to block a request (last hook) # time=14.18ms
    
    # Subtest: onRequest respond with a stream
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - onRequest respond with a stream # time=15.061ms
    
    # Subtest: preHandler respond with a stream
        1..7
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 16 - preHandler respond with a stream # time=16.371ms
    
    # Subtest: Should log a warning if is an async function with `done`
        # Subtest: 3 arguments
            1..1
            ok 1 - expect truthy value
        ok 1 - 3 arguments # time=1.901ms
        
        # Subtest: 4 arguments
            1..3
            ok 1 - expect truthy value
            ok 2 - expect truthy value
            ok 3 - expect truthy value
        ok 2 - 4 arguments # time=2.186ms
        
        1..2
    ok 17 - Should log a warning if is an async function with `done` # time=15.331ms
    
    # Subtest: early termination, onRequest async
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 18 - early termination, onRequest async # time=16.374ms
    
    # Subtest: The this should be the same of the encapsulation level
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        1..4
    ok 19 - The this should be the same of the encapsulation level # time=25.717ms
    
    # Subtest: preSerializationEnd should handle errors if the serialize method throws
        # Subtest: works with sync preSerialization
            1..2
            ok 1 - should not error
            ok 2 - should not be equal
        ok 1 - works with sync preSerialization # time=13.906ms
        
        # Subtest: works with async preSerialization
            1..2
            ok 1 - should not error
            ok 2 - should not be equal
        ok 2 - works with async preSerialization # time=5.79ms
        
        1..2
    ok 20 - preSerializationEnd should handle errors if the serialize method throws # time=24.19ms
    
    1..20
    # time=550.733ms
ok 34 - test/hooks-async.test.js # time=550.733ms

# Subtest: test/hooks.on-ready.test.js
    # Subtest: onReady should be called in order
        1..7
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
        ok 7 - should not error
    ok 1 - onReady should be called in order # time=97.212ms
    
    # Subtest: async onReady should be called in order
        1..7
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
        ok 7 - ready
    ok 2 - async onReady should be called in order # time=10.964ms
    
    # Subtest: mix ready and onReady
        1..2
        ok 1 - should be equal
        ok 2 - ready hooks execute once
    ok 3 - mix ready and onReady # time=7.699ms
    
    # Subtest: listen and onReady order
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - trigger the onReady
        ok 9 - do not trigger the onReady
    ok 4 - listen and onReady order # time=22.159ms
    
    # Subtest: multiple ready calls
        1..11
        ok 1 - ready and hooks not triggered yet
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - trigger the onReady
        ok 10 - do not trigger the onReady
        ok 11 - do not trigger the onReady
    ok 5 - multiple ready calls # time=10.419ms
    
    # Subtest: onReady should manage error in sync
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 6 - onReady should manage error in sync # time=6.69ms
    
    # Subtest: onReady should manage error in async
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 7 - onReady should manage error in async # time=11.868ms
    
    # Subtest: onReady should manage sync error
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 8 - onReady should manage sync error # time=5.916ms
    
    # Subtest: onReady can not add decorators or application hooks
        1..3
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should not error
    ok 9 - onReady can not add decorators or application hooks # time=5.557ms
    
    # Subtest: onReady cannot add lifecycle hooks
        1..5
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 10 - onReady cannot add lifecycle hooks # time=9.839ms
    
    # Subtest: onReady throw loading error
        1..1
        ok 1 - expect truthy value
    ok 11 - onReady throw loading error # time=2.156ms
    
    # Subtest: onReady does not call done
        1..6
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
        ok 6 - should be equal
    ok 12 - onReady does not call done # time=506.039ms
    
    # Subtest: onReady execution order
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 13 - onReady execution order # time=9.19ms
    
    # Subtest: ready return the server with callback
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 14 - ready return the server with callback # time=11.586ms
    
    # Subtest: ready return the server with Promise
        1..1
        ok 1 - should be equivalent
    ok 15 - ready return the server with Promise # time=15.379ms
    
    # Subtest: ready return registered
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
    ok 16 - ready return registered # time=10.073ms
    
    1..16
    # time=765.42ms
ok 35 - test/hooks.on-ready.test.js # time=765.42ms

# Subtest: test/hooks.test.js
    # Subtest: hooks
        1..43
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - (unnamed test)
        ok 4 - (unnamed test)
        ok 5 - (unnamed test)
        ok 6 - (unnamed test)
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - expect truthy value
        ok 20 - expect truthy value
        ok 21 - expect truthy value
        ok 22 - expect truthy value
        ok 23 - should be equal
        ok 24 - should be equal
        ok 25 - should be equal
        ok 26 - should be equal
        ok 27 - should be equal
        ok 28 - should be equal
        ok 29 - should be equal
        ok 30 - should be equal
        ok 31 - should be equal
        ok 32 - expect truthy value
        ok 33 - expect truthy value
        ok 34 - expect truthy value
        ok 35 - expect truthy value
        ok 36 - should not error
        ok 37 - should be equal
        ok 38 - should be equal
        ok 39 - should be equivalent
        ok 40 - should not error
        ok 41 - should be equal
        ok 42 - should not error
        ok 43 - should be equal
    ok 1 - hooks # time=201.805ms
    
    # Subtest: onRequest hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 2 - onRequest hook should support encapsulation / 1 # time=49.935ms
    
    # Subtest: onRequest hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 3 - onRequest hook should support encapsulation / 2 # time=8.44ms
    
    # Subtest: onRequest hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 4 - onRequest hook should support encapsulation / 3 # time=19.142ms
    
    # Subtest: preHandler hook should support encapsulation / 5
        1..17
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equivalent
    ok 5 - preHandler hook should support encapsulation / 5 # time=19.494ms
    
    # Subtest: onRoute hook should be called / 1
        1..2
        ok 1 - (unnamed test)
        ok 2 - should not error
    ok 6 - onRoute hook should be called / 1 # time=6.361ms
    
    # Subtest: onRoute hook should be called / 2
        1..5
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 7 - onRoute hook should be called / 2 # time=28.308ms
    
    # Subtest: onRoute hook should be called / 3
        1..5
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - (unnamed test)
        ok 5 - should not error
    ok 8 - onRoute hook should be called / 3 # time=19.615ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 4
        1..4
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - (unnamed test)
        ok 4 - should not error
    ok 9 - onRoute hook should be called (encapsulation support) / 4 # time=13.316ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 5
        1..2
        ok 1 - (unnamed test)
        ok 2 - should not error
    ok 10 - onRoute hook should be called (encapsulation support) / 5 # time=11.088ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 6
        1..1
        ok 1 - should not error
    ok 11 - onRoute hook should be called (encapsulation support) / 6 # time=4.386ms
    
    # Subtest: onRoute should keep the context
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
    ok 12 - onRoute should keep the context # time=17.23ms
    
    # Subtest: onRoute hook should pass correct route
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should not error
    ok 13 - onRoute hook should pass correct route # time=5.842ms
    
    # Subtest: onRoute hook should pass correct route with custom prefix
        1..11
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
    ok 14 - onRoute hook should pass correct route with custom prefix # time=9.245ms
    
    # Subtest: onRoute hook should pass correct route with custom options
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - type is function
        ok 6 - should not error
    ok 15 - onRoute hook should pass correct route with custom options # time=4.919ms
    
    # Subtest: onRoute hook should receive any route option
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 16 - onRoute hook should receive any route option # time=5.867ms
    
    # Subtest: onRoute hook should preserve system route configuration
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 17 - onRoute hook should preserve system route configuration # time=17.819ms
    
    # Subtest: onRoute hook should preserve handler function in options of shorthand route system configuration
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 18 - onRoute hook should preserve handler function in options of shorthand route system configuration # time=12.781ms
    
    # Subtest: onRoute hook should be called once when prefixTrailingSlash
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 19 - onRoute hook should be called once when prefixTrailingSlash # time=6.315ms
    
    # Subtest: onRoute hook should able to change the route url
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 20 - onRoute hook should able to change the route url # time=19.344ms
    
    # Subtest: onRoute hook that throws should be caught
        1..1
        ok 1 - expect truthy value
    ok 21 - onRoute hook that throws should be caught # time=4.123ms
    
    # Subtest: onRoute hook with many prefix
        1..3
        ok 1 - should match pattern provided
        ok 2 - should match pattern provided
        ok 3 - should not error
    ok 22 - onRoute hook with many prefix # time=8.48ms
    
    # Subtest: onRoute hook should not be called when it registered after route
        1..3
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
    ok 23 - onRoute hook should not be called when it registered after route # time=4.077ms
    
    # Subtest: onResponse hook should log request error
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 24 - onResponse hook should log request error # time=95.647ms
    
    # Subtest: onResponse hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 25 - onResponse hook should support encapsulation / 1 # time=6.91ms
    
    # Subtest: onResponse hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 26 - onResponse hook should support encapsulation / 2 # time=3.597ms
    
    # Subtest: onResponse hook should support encapsulation / 3
        1..16
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 27 - onResponse hook should support encapsulation / 3 # time=19.132ms
    
    # Subtest: onSend hook should support encapsulation / 1
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 28 - onSend hook should support encapsulation / 1 # time=4.493ms
    
    # Subtest: onSend hook should support encapsulation / 2
        1..16
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 29 - onSend hook should support encapsulation / 2 # time=16.659ms
    
    # Subtest: onSend hook is called after payload is serialized and headers are set
        1..30
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should be equal
        ok 15 - should not error
        ok 16 - should be equal
        ok 17 - should be equivalent
        ok 18 - should be equal
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equivalent
        ok 22 - should be equal
        ok 23 - should not error
        ok 24 - should be equal
        ok 25 - should be equivalent
        ok 26 - should be equal
        ok 27 - should not error
        ok 28 - should be equal
        ok 29 - should be equivalent
        ok 30 - should be equal
    ok 30 - onSend hook is called after payload is serialized and headers are set # time=29.926ms
    
    # Subtest: modify payload
        1..10
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - expect truthy value
        ok 4 - should be equivalent
        ok 5 - expect truthy value
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
    ok 31 - modify payload # time=15.242ms
    
    # Subtest: clear payload
        1..6
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 32 - clear payload # time=14.898ms
    
    # Subtest: onSend hook throws
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 33 - onSend hook throws # time=15.463ms
    
    # Subtest: onSend hook should receive valid request and reply objects if onRequest hook fails
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 34 - onSend hook should receive valid request and reply objects if onRequest hook fails # time=7.232ms
    
    # Subtest: onSend hook should receive valid request and reply objects if a custom content type parser fails
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 35 - onSend hook should receive valid request and reply objects if a custom content type parser fails # time=25.34ms
    
    # Subtest: Content-Length header should be updated if onSend hook modifies the payload
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 36 - Content-Length header should be updated if onSend hook modifies the payload # time=6.484ms
    
    # Subtest: cannot add hook after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 37 - cannot add hook after binding # time=12.76ms
    
    # Subtest: onRequest hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 38 - onRequest hooks should be able to block a request # time=4.749ms
    
    # Subtest: preValidation hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 39 - preValidation hooks should be able to block a request # time=7.47ms
    
    # Subtest: preValidation hooks should be able to change request body before validation
        1..4
        ok 1 - (unnamed test)
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 40 - preValidation hooks should be able to change request body before validation # time=92.251ms
    
    # Subtest: preParsing hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 41 - preParsing hooks should be able to block a request # time=4.817ms
    
    # Subtest: preHandler hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 42 - preHandler hooks should be able to block a request # time=4.816ms
    
    # Subtest: onRequest hooks should be able to block a request (last hook)
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 43 - onRequest hooks should be able to block a request (last hook) # time=5.047ms
    
    # Subtest: preHandler hooks should be able to block a request (last hook)
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 44 - preHandler hooks should be able to block a request (last hook) # time=5.795ms
    
    # Subtest: preParsing hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 45 - preParsing hooks should handle errors # time=4.305ms
    
    # Subtest: onRequest respond with a stream
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 46 - onRequest respond with a stream # time=12.7ms
    
    # Subtest: preHandler respond with a stream
        1..7
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 47 - preHandler respond with a stream # time=6.212ms
    
    # Subtest: Register an hook after a plugin inside a plugin
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 48 - Register an hook after a plugin inside a plugin # time=7.288ms
    
    # Subtest: Register an hook after a plugin inside a plugin (with preHandler option)
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 49 - Register an hook after a plugin inside a plugin (with preHandler option) # time=6.14ms
    
    # Subtest: Register hooks inside a plugin after an encapsulated plugin
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 50 - Register hooks inside a plugin after an encapsulated plugin # time=7.507ms
    
    # Subtest: onRequest hooks should run in the order in which they are defined
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 51 - onRequest hooks should run in the order in which they are defined # time=8.092ms
    
    # Subtest: preHandler hooks should run in the order in which they are defined
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 52 - preHandler hooks should run in the order in which they are defined # time=7.831ms
    
    # Subtest: onSend hooks should run in the order in which they are defined
        1..8
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equivalent
    ok 53 - onSend hooks should run in the order in which they are defined # time=7.573ms
    
    # Subtest: onResponse hooks should run in the order in which they are defined
        1..8
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equivalent
    ok 54 - onResponse hooks should run in the order in which they are defined # time=9.567ms
    
    # Subtest: onRequest, preHandler, and onResponse hooks that resolve to a value do not cause an error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 55 - onRequest, preHandler, and onResponse hooks that resolve to a value do not cause an error # time=17.448ms
    
    # Subtest: If a response header has been set inside an hook it shoulod not be overwritten by the final response handler
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 56 - If a response header has been set inside an hook it shoulod not be overwritten by the final response handler # time=4.921ms
    
    # Subtest: If the content type has been set inside an hook it should not be changed
        1..5
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 57 - If the content type has been set inside an hook it should not be changed # time=4.83ms
    
    # Subtest: request in onRequest, preParsing, preValidation and onResponse
        1..18
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equivalent
        ok 10 - should be equivalent
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equivalent
        ok 14 - should be equivalent
        ok 15 - should be equivalent
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
    ok 58 - request in onRequest, preParsing, preValidation and onResponse # time=19.354ms
    
    # Subtest: preValidation hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 59 - preValidation hook should support encapsulation / 1 # time=18.291ms
    
    # Subtest: preValidation hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 60 - preValidation hook should support encapsulation / 2 # time=16.291ms
    
    # Subtest: preValidation hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 61 - preValidation hook should support encapsulation / 3 # time=28.029ms
    
    # Subtest: onError hook
        1..3
        ok 1 - should match pattern provided
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 62 - onError hook # time=5.056ms
    
    # Subtest: reply.send should throw if called inside the onError hook
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 63 - reply.send should throw if called inside the onError hook # time=4.701ms
    
    # Subtest: onError hook with setErrorHandler
        # Subtest: Send error
            1..3
            ok 1 - should match pattern provided
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 1 - Send error # time=5.025ms
        
        1..1
    ok 64 - onError hook with setErrorHandler # time=9.924ms
    
    # Subtest: preParsing hook should run before parsing and be able to modify the payload
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 65 - preParsing hook should run before parsing and be able to modify the payload # time=10.247ms
    
    # Subtest: preParsing hooks should run in the order in which they are defined
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 66 - preParsing hooks should run in the order in which they are defined # time=7.468ms
    
    # Subtest: preParsing hooks should support encapsulation
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 67 - preParsing hooks should support encapsulation # time=11.633ms
    
    # Subtest: preParsing hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 68 - preParsing hook should support encapsulation / 1 # time=5.775ms
    
    # Subtest: preParsing hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 69 - preParsing hook should support encapsulation / 2 # time=13.678ms
    
    # Subtest: preParsing hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 70 - preParsing hook should support encapsulation / 3 # time=12.731ms
    
    # Subtest: preSerialization hook should run before serialization and be able to modify the payload
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 71 - preSerialization hook should run before serialization and be able to modify the payload # time=14.317ms
    
    # Subtest: preSerialization hook should be able to throw errors which are validated against schema response
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        1..6
    ok 72 - preSerialization hook should be able to throw errors which are validated against schema response # time=26.188ms
    
    # Subtest: preSerialization hook which returned error should still run onError hooks
        1..4
        ok 1 - should not error
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - should be equal
    ok 73 - preSerialization hook which returned error should still run onError hooks # time=7.296ms
    
    # Subtest: preSerialization hooks should run in the order in which they are defined
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 74 - preSerialization hooks should run in the order in which they are defined # time=11.226ms
    
    # Subtest: preSerialization hooks should support encapsulation
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 75 - preSerialization hooks should support encapsulation # time=20.305ms
    
    # Subtest: onRegister hook should be called / 1
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should not error
    ok 76 - onRegister hook should be called / 1 # time=3.991ms
    
    # Subtest: onRegister hook should be called / 2
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
    ok 77 - onRegister hook should be called / 2 # time=5.541ms
    
    # Subtest: onRegister hook should be called / 3
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
    ok 78 - onRegister hook should be called / 3 # time=5.465ms
    
    # Subtest: onRegister hook should be called (encapsulation)
        1..1
        ok 1 - should not error
    ok 79 - onRegister hook should be called (encapsulation) # time=2.333ms
    
    # Subtest: early termination, onRequest
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 80 - early termination, onRequest # time=5.081ms
    
    # Subtest: reply.send should throw if undefined error is thrown
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 81 - reply.send should throw if undefined error is thrown # time=13.109ms
    
    # Subtest: reply.send should throw if undefined error is thrown at preParsing hook
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 82 - reply.send should throw if undefined error is thrown at preParsing hook # time=20.562ms
    
    # Subtest: reply.send should throw if undefined error is thrown at onSend hook
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 83 - reply.send should throw if undefined error is thrown at onSend hook # time=4.389ms
    
    # Subtest: onTimeout should be triggered
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - onTimeout
        ok 5 - type is Error
        ok 6 - should be equal
    ok 84 - onTimeout should be triggered # time=508.693ms
    
    # Subtest: onTimeout should be triggered and socket _meta is set
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - onTimeout
        ok 5 - type is Error
        ok 6 - should be equal
    ok 85 - onTimeout should be triggered and socket _meta is set # time=508.045ms
    
    1..85
    # time=2393.088ms
ok 36 - test/hooks.test.js # time=2393.088ms

# Subtest: test/http2/closing.test.js
    # Subtest: http/2 request while fastify closing
        ok 1 - http2 successfully loaded
        ok 2 - should not error
        # Subtest: return 200
            ok 1 - should be equal
            1..1
        ok 3 - return 200 # time=11.847ms
        
        1..3
    ok 1 - http/2 request while fastify closing # time=58.878ms
    
    # Subtest: http/2 request while fastify closing - return503OnClosing: false
        ok 1 - http2 successfully loaded
        ok 2 - should not error
        # Subtest: return 200
            ok 1 - should be equal
            1..1
        ok 3 - return 200 # time=4.801ms
        
        1..3
    ok 2 - http/2 request while fastify closing - return503OnClosing: false # time=13.514ms
    
    # Subtest: http/2 closes successfully with async await
        1..0
    ok 3 - http/2 closes successfully with async await # time=110.75ms
    
    # Subtest: https/2 closes successfully with async await
        1..0
    ok 4 - https/2 closes successfully with async await # time=13.218ms
    
    # Subtest: http/2 server side session emits a timeout event
        ok 1 - should be equal
        1..1
    ok 5 - http/2 server side session emits a timeout event # time=107.804ms
    
    1..5
    # time=330.415ms
ok 37 - test/http2/closing.test.js # time=330.415ms

# Subtest: test/http2/constraint.test.js
    # Subtest: A route supports host constraints under http2 protocol and secure connection
        1..5
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request - no constrain
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - https get request - no constrain # time=52.059ms
        
        # Subtest: https get request - constrain
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - https get request - constrain # time=13.534ms
        
        # Subtest: https get request - constrain - not found
            1..1
            ok 1 - should be equal
        ok 5 - https get request - constrain - not found # time=9.954ms
        
    ok 1 - A route supports host constraints under http2 protocol and secure connection # time=167.912ms
    
    1..1
    # time=201.363ms
ok 38 - test/http2/constraint.test.js # time=201.363ms

# Subtest: test/http2/head.test.js
    ok 1 - http2 successfully loaded
    ok 2 - should not error
    # Subtest: http HEAD request
        1..1
        ok 1 - should be equal
    ok 3 - http HEAD request # time=65.487ms
    
    1..3
    # time=156.212ms
ok 39 - test/http2/head.test.js # time=156.212ms

# Subtest: test/http2/missing-http2-module.test.js
    # Subtest: should throw when http2 module cannot be found
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - should throw when http2 module cannot be found # time=11.162ms
    
    1..1
    # time=17.21ms
ok 40 - test/http2/missing-http2-module.test.js # time=17.21ms

# Subtest: test/http2/plain.test.js
    ok 1 - http2 successfully loaded
    ok 2 - should not error
    # Subtest: http get request
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 3 - http get request # time=34.127ms
    
    # Subtest: http hostname
        1..1
        ok 1 - should be equal
    ok 4 - http hostname # time=7.569ms
    
    1..4
    # time=130.008ms
ok 41 - test/http2/plain.test.js # time=130.008ms

# Subtest: test/http2/secure-with-fallback.test.js
    # Subtest: secure with fallback
        1..7
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get error
            1..1
            ok 1 - should be equal
        ok 3 - https get error # time=43.019ms
        
        # Subtest: https post
            1..2
            ok 1 - should be equal
            ok 2 - should be equivalent
        ok 4 - https post # time=20.357ms
        
        # Subtest: https get request
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - https get request # time=11.926ms
        
        # Subtest: http1 get request
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 6 - http1 get request # time=19.9ms
        
        # Subtest: http1 get error
            1..2
            ok 1 - should not error
            ok 2 - should be equal
        ok 7 - http1 get error # time=12.375ms
        
    ok 1 - secure with fallback # time=204.417ms
    
    1..1
    # time=235.449ms
ok 42 - test/http2/secure-with-fallback.test.js # time=235.449ms

# Subtest: test/http2/secure.test.js
    # Subtest: secure
        1..4
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - https get request # time=40.088ms
        
        # Subtest: https get request without trust proxy - protocol
            1..2
            ok 1 - should be equivalent
            ok 2 - should be equivalent
        ok 4 - https get request without trust proxy - protocol # time=23.864ms
        
    ok 1 - secure # time=146.452ms
    
    1..1
    # time=189.357ms
ok 43 - test/http2/secure.test.js # time=189.357ms

# Subtest: test/http2/unknown-http-method.test.js
    ok 1 - should not error
    # Subtest: http UNKNOWN_METHOD request
        1..2
        ok 1 - should be equal
        ok 2 - should be equivalent
    ok 2 - http UNKNOWN_METHOD request # time=37.989ms
    
    1..2
    # time=102.345ms
ok 44 - test/http2/unknown-http-method.test.js # time=102.345ms

# Subtest: test/https/custom-https-server.test.js
    # Subtest: Should support a custom https server
        1..4
        ok 1 - it is called twice for every HOST interface
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - Should support a custom https server # time=100.716ms
    
    1..1
    # time=133.251ms
ok 45 - test/https/custom-https-server.test.js # time=133.251ms

# Subtest: test/https/https.test.js
    # Subtest: https
        1..4
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 3 - https get request # time=40.769ms
        
        # Subtest: https get request without trust proxy - protocol
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 4 - https get request without trust proxy - protocol # time=18.215ms
        
    ok 1 - https # time=148.105ms
    
    1..1
    # time=179.462ms
ok 46 - test/https/https.test.js # time=179.462ms

# Subtest: test/imports.test.js
    # Subtest: should import as default
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 1 - should import as default # time=713.718ms
    
    # Subtest: should import as esm
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 2 - should import as esm # time=1.563ms
    
    1..2
    # time=726.527ms
ok 47 - test/imports.test.js # time=726.527ms

# Subtest: test/inject.test.js
    # Subtest: inject should exist
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 1 - inject should exist # time=15.556ms
    
    # Subtest: should wait for the ready event
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 2 - should wait for the ready event # time=593.556ms
    
    # Subtest: inject get request
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 3 - inject get request # time=8.618ms
    
    # Subtest: inject get request - code check
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 4 - inject get request - code check # time=10.877ms
    
    # Subtest: inject get request - headers check
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 5 - inject get request - headers check # time=7.219ms
    
    # Subtest: inject get request - querystring
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 6 - inject get request - querystring # time=7.356ms
    
    # Subtest: inject get request - params
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 7 - inject get request - params # time=6.98ms
    
    # Subtest: inject get request - wildcard
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - inject get request - wildcard # time=7.212ms
    
    # Subtest: inject get request - headers
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 9 - inject get request - headers # time=10.793ms
    
    # Subtest: inject post request
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 10 - inject post request # time=12.669ms
    
    # Subtest: inject post request - send stream
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 11 - inject post request - send stream # time=10.603ms
    
    # Subtest: inject get request - reply stream
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 12 - inject get request - reply stream # time=16.788ms
    
    # Subtest: inject promisify - waiting for ready event
        1..1
        ok 1 - should be equal
    ok 13 - inject promisify - waiting for ready event # time=6.839ms
    
    # Subtest: inject promisify - after the ready event
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 14 - inject promisify - after the ready event # time=11.641ms
    
    # Subtest: inject promisify - when the server is up
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 15 - inject promisify - when the server is up # time=16.384ms
    
    # Subtest: should reject in error case
        1..1
        ok 1 - should be equal
    ok 16 - should reject in error case # time=505.407ms
    
    # Subtest: inject a multipart request using form-body
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 17 - inject a multipart request using form-body # time=32.822ms
    
    # Subtest: should error the promise if ready errors
        1..3
        ok 1 - after is called
        ok 2 - expect truthy value
        ok 3 - should be equal
    ok 18 - should error the promise if ready errors # time=28.237ms
    
    # Subtest: should throw error if callback specified and if ready errors
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 19 - should throw error if callback specified and if ready errors # time=8.047ms
    
    # Subtest: should support builder-style injection with ready app
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
    ok 20 - should support builder-style injection with ready app # time=19.273ms
    
    # Subtest: should support builder-style injection with non-ready app
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
    ok 21 - should support builder-style injection with non-ready app # time=14.449ms
    
    # Subtest: should handle errors in builder-style injection correctly
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 22 - should handle errors in builder-style injection correctly # time=10.676ms
    
    1..22
    # time=1391.606ms
ok 48 - test/inject.test.js # time=1391.606ms

# Subtest: test/internals/all.test.js
    # Subtest: fastify.all should add all the methods to the same url
        1..14
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equivalent
    ok 1 - fastify.all should add all the methods to the same url # time=89.701ms
    
    1..1
    # time=95.656ms
ok 49 - test/internals/all.test.js # time=95.656ms

# Subtest: test/internals/contentTypeParser.test.js
    # Subtest: rawBody function
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - rawBody function # time=13.175ms
    
    # Subtest: Should support Webpack and faux modules
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - Should support Webpack and faux modules # time=17.152ms
    
    1..2
    # time=45.317ms
ok 50 - test/internals/contentTypeParser.test.js # time=45.317ms

# Subtest: test/internals/decorator.test.js
    # Subtest: decorate should add the given method to its instance
        1..1
        ok 1 - expect truthy value
    ok 1 - decorate should add the given method to its instance # time=6.284ms
    
    # Subtest: decorate is chainable
        1..3
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
    ok 2 - decorate is chainable # time=1.974ms
    
    # Subtest: checkExistence should check if a property is part of the given instance
        1..1
        ok 1 - expect truthy value
    ok 3 - checkExistence should check if a property is part of the given instance # time=1.438ms
    
    # Subtest: checkExistence should find the instance if not given
        1..1
        ok 1 - expect truthy value
    ok 4 - checkExistence should find the instance if not given # time=1.234ms
    
    # Subtest: checkExistence should check the prototype as well
        1..1
        ok 1 - expect truthy value
    ok 5 - checkExistence should check the prototype as well # time=1.052ms
    
    # Subtest: checkDependencies should throw if a dependency is not present
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 6 - checkDependencies should throw if a dependency is not present # time=1.745ms
    
    # Subtest: decorate should internally call checkDependencies
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 7 - decorate should internally call checkDependencies # time=1.118ms
    
    # Subtest: decorate should recognize getter/setter objects
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - (unnamed test)
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 8 - decorate should recognize getter/setter objects # time=1.798ms
    
    1..8
    # time=90ms
ok 51 - test/internals/decorator.test.js # time=90ms

# Subtest: test/internals/handleRequest.test.js
    # Subtest: handleRequest function - sent reply
        1..1
        ok 1 - should be equal
    ok 1 - handleRequest function - sent reply # time=5.744ms
    
    # Subtest: handleRequest function - invoke with error
        1..1
        ok 1 - should be equal
    ok 2 - handleRequest function - invoke with error # time=1.662ms
    
    # Subtest: handler function - invalid schema
        1..1
        ok 1 - errorHandler called
    ok 3 - handler function - invalid schema # time=72.35ms
    
    # Subtest: handler function - reply
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - (unnamed test)
    ok 4 - handler function - reply # time=3.342ms
    
    # Subtest: handler function - preValidationCallback with finished response
        1..0
    ok 5 - handler function - preValidationCallback with finished response # time=1.019ms
    
    # Subtest: request should be defined in onSend Hook on post request with content type application/json
        1..8
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - should not error
        ok 8 - should be equal
    ok 6 - request should be defined in onSend Hook on post request with content type application/json # time=314.863ms
    
    # Subtest: request should be defined in onSend Hook on post request with content type application/x-www-form-urlencoded
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - should be equal
    ok 7 - request should be defined in onSend Hook on post request with content type application/x-www-form-urlencoded # time=11.598ms
    
    # Subtest: request should be defined in onSend Hook on options request with content type application/x-www-form-urlencoded
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - should be equal
    ok 8 - request should be defined in onSend Hook on options request with content type application/x-www-form-urlencoded # time=22.967ms
    
    # Subtest: request should respond with an error if an unserialized payload is sent inside an async handler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
    ok 9 - request should respond with an error if an unserialized payload is sent inside an async handler # time=42.35ms
    
    1..9
    # time=500.755ms
ok 52 - test/internals/handleRequest.test.js # time=500.755ms

# Subtest: test/internals/hookRunner.test.js
    # Subtest: hookRunner - Basic
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 1 - hookRunner - Basic # time=9.216ms
    
    # Subtest: hookRunner - In case of error should skip to done
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 2 - hookRunner - In case of error should skip to done # time=2.818ms
    
    # Subtest: hookRunner - Should handle throw
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 3 - hookRunner - Should handle throw # time=2.238ms
    
    # Subtest: hookRunner - Should handle promises
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 4 - hookRunner - Should handle promises # time=27.943ms
    
    # Subtest: hookRunner - In case of error should skip to done (with promises)
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 5 - hookRunner - In case of error should skip to done (with promises) # time=2.441ms
    
    # Subtest: hookRunner - Be able to exit before its natural end
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 6 - hookRunner - Be able to exit before its natural end # time=1.36ms
    
    # Subtest: hookRunner - Promises that resolve to a value do not change the state
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 7 - hookRunner - Promises that resolve to a value do not change the state # time=1.544ms
    
    # Subtest: onSendHookRunner - Basic
        1..13
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equal
        ok 10 - should not error
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equal
    ok 8 - onSendHookRunner - Basic # time=8.689ms
    
    # Subtest: onSendHookRunner - Can change the payload
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 9 - onSendHookRunner - Can change the payload # time=3.861ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 10 - onSendHookRunner - In case of error should skip to done # time=2.595ms
    
    # Subtest: onSendHookRunner - Should handle promises
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 11 - onSendHookRunner - Should handle promises # time=2.992ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done (with promises)
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 12 - onSendHookRunner - In case of error should skip to done (with promises) # time=2.827ms
    
    # Subtest: onSendHookRunner - Be able to exit before its natural end
        1..2
        ok 1 - should be equivalent
        ok 2 - should be equivalent
    ok 13 - onSendHookRunner - Be able to exit before its natural end # time=1.087ms
    
    1..13
    # time=120.349ms
ok 53 - test/internals/hookRunner.test.js # time=120.349ms

# Subtest: test/internals/hooks.test.js
    # Subtest: hooks should have 4 array with the registered hooks
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        1..8
    ok 1 - hooks should have 4 array with the registered hooks # time=9.263ms
    
    # Subtest: hooks.add should add a hook to the given hook
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        1..14
    ok 2 - hooks.add should add a hook to the given hook # time=5.781ms
    
    # Subtest: hooks should throw on unexisting handler
        1..1
        ok 1 - (unnamed test)
    ok 3 - hooks should throw on unexisting handler # time=1.286ms
    
    # Subtest: should throw on wrong parameters
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 4 - should throw on wrong parameters # time=2.108ms
    
    1..4
    # time=33.232ms
ok 54 - test/internals/hooks.test.js # time=33.232ms

# Subtest: test/internals/initialConfig.test.js
    # Subtest: Fastify.initialConfig is an object
        1..1
        ok 1 - type is object
    ok 1 - Fastify.initialConfig is an object # time=14.1ms
    
    # Subtest: without options passed to Fastify, initialConfig should expose default values
        1..1
        ok 1 - should be equivalent
    ok 2 - without options passed to Fastify, initialConfig should expose default values # time=7.495ms
    
    # Subtest: Fastify.initialConfig should expose all options
        1..20
        ok 1 - should be equal
        ok 2 - for security reason the key cert is hidden
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - expect truthy value
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equal
    ok 3 - Fastify.initialConfig should expose all options # time=9.506ms
    
    # Subtest: Should throw if you try to modify Fastify.initialConfig
        1..4
        ok 1 - type is TypeError
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - (unnamed test)
    ok 4 - Should throw if you try to modify Fastify.initialConfig # time=2.905ms
    
    # Subtest: We must avoid shallow freezing and ensure that the whole object is freezed
        1..4
        ok 1 - type is TypeError
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - key cert removed
    ok 5 - We must avoid shallow freezing and ensure that the whole object is freezed # time=15.05ms
    
    # Subtest: https value check
        1..1
        ok 1 - expect falsey value
    ok 6 - https value check # time=1.245ms
    
    # Subtest: Return an error if options do not match the validation schema
        1..6
        ok 1 - type is Error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
        ok 6 - (unnamed test)
    ok 7 - Return an error if options do not match the validation schema # time=57.033ms
    
    # Subtest: Original options must not be frozen
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - Original options must not be frozen # time=2.786ms
    
    # Subtest: Original options must not be altered (test deep cloning)
        1..3
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 9 - Original options must not be altered (test deep cloning) # time=4.92ms
    
    # Subtest: Should not have issues when passing stream options to Pino.js
        1..15
        ok 1 - type is object
        ok 2 - should be equivalent
        ok 3 - listen at log message is ok
        ok 4 - should not error
        ok 5 - reqId is defined
        ok 6 - req is defined
        ok 7 - message is set
        ok 8 - method is get
        ok 9 - expect truthy value
        ok 10 - should be equal
        ok 11 - reqId is defined
        ok 12 - res is defined
        ok 13 - message is set
        ok 14 - statusCode is 200
        ok 15 - responseTime is defined
    ok 10 - Should not have issues when passing stream options to Pino.js # time=41.471ms
    
    # Subtest: deepFreezeObject() should not throw on TypedArray
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - (unnamed test)
    ok 11 - deepFreezeObject() should not throw on TypedArray # time=1.738ms
    
    # Subtest: Fastify.initialConfig should accept the deprecated versioning option
        1..1
        ok 1 - should be equal
    ok 12 - Fastify.initialConfig should accept the deprecated versioning option # time=4.99ms
    
    # Subtest: pluginTimeout should be parsed correctly
        ok 1 - should be equal
        ok 2 - should be equal
        1..2
    ok 13 - pluginTimeout should be parsed correctly # time=2.916ms
    
    1..13
    # time=234.271ms
ok 55 - test/internals/initialConfig.test.js # time=234.271ms

# Subtest: test/internals/logger.test.js
    # Subtest: time resolution
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - time resolution # time=5.829ms
    
    # Subtest: The logger should add a unique id for every request
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - the id should not be duplicated
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - the id should not be duplicated
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - the id should not be duplicated
        ok 11 - expect truthy value
        ok 12 - should not error
        ok 13 - the id should not be duplicated
        ok 14 - expect truthy value
        ok 15 - should not error
        ok 16 - the id should not be duplicated
        ok 17 - expect truthy value
        ok 18 - should not error
        ok 19 - the id should not be duplicated
        ok 20 - expect truthy value
        ok 21 - should not error
        ok 22 - the id should not be duplicated
        ok 23 - expect truthy value
        ok 24 - should not error
        ok 25 - the id should not be duplicated
        ok 26 - expect truthy value
        ok 27 - should not error
        ok 28 - the id should not be duplicated
        ok 29 - expect truthy value
        ok 30 - should not error
        ok 31 - the id should not be duplicated
        1..31
    ok 2 - The logger should add a unique id for every request # time=128.579ms
    
    # Subtest: The logger should reuse request id header for req.id
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - the request id from the header should be returned
        1..4
    ok 3 - The logger should reuse request id header for req.id # time=12.724ms
    
    # Subtest: The logger should error if both stream and file destination are given
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - The logger should error if both stream and file destination are given # time=1.943ms
    
    # Subtest: The serializer prevent fails if the request socket is undefined
        1..1
        ok 1 - should be equivalent
    ok 5 - The serializer prevent fails if the request socket is undefined # time=12.532ms
    
    1..5
    # time=171.302ms
ok 56 - test/internals/logger.test.js # time=171.302ms

# Subtest: test/internals/plugin.test.js
    # Subtest: shouldSkipOverride should check the 'skip-override' symbol
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 1 - shouldSkipOverride should check the 'skip-override' symbol # time=6.788ms
    
    # Subtest: getPluginName should return plugin name if the file is cached
        1..1
        ok 1 - should be equal
    ok 2 - getPluginName should return plugin name if the file is cached # time=2.144ms
    
    # Subtest: getMeta should return the object stored with the 'plugin-meta' symbol
        1..1
        ok 1 - should be equivalent
    ok 3 - getMeta should return the object stored with the 'plugin-meta' symbol # time=4.966ms
    
    # Subtest: checkDecorators should check if the given decorator is present in the instance
        1..1
        ok 1 - Everything ok
    ok 4 - checkDecorators should check if the given decorator is present in the instance # time=1.872ms
    
    # Subtest: checkDecorators should check if the given decorator is present in the instance (errored)
        1..1
        ok 1 - should be equal
    ok 5 - checkDecorators should check if the given decorator is present in the instance (errored) # time=1.406ms
    
    # Subtest: checkDecorators should accept optional decorators
        1..1
        ok 1 - Everything ok
    ok 6 - checkDecorators should accept optional decorators # time=1.042ms
    
    # Subtest: checkDependencies should check if the given dependency is present in the instance
        1..1
        ok 1 - Everything ok
    ok 7 - checkDependencies should check if the given dependency is present in the instance # time=1.239ms
    
    # Subtest: checkDependencies should check if the given dependency is present in the instance (errored)
        1..1
        ok 1 - should be equal
    ok 8 - checkDependencies should check if the given dependency is present in the instance (errored) # time=24.596ms
    
    1..8
    # time=103.062ms
ok 57 - test/internals/plugin.test.js # time=103.062ms

# Subtest: test/internals/reply-serialize.test.js
    # Subtest: Reply\#compileSerializationSchema
        1..4
        # Subtest: Should return a serialization function
            1..4
            ok 1 - type is Function
            ok 2 - type is string
            ok 3 - should be equal
            ok 4 - should be equal
        ok 1 - Should return a serialization function # time=80.344ms
        
        # Subtest: Should reuse the serialize fn across multiple invocations - Route without schema
            1..17
            ok 1 - build the schema compilation function
            ok 2 - type is Function
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - Are the same validate function
            ok 6 - type is Function
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - Are the same validate function
            ok 10 - type is Function
            ok 11 - should be equal
            ok 12 - should be equal
            ok 13 - Are the same validate function
            ok 14 - type is Function
            ok 15 - should be equal
            ok 16 - should be equal
            ok 17 - should be equal
        ok 2 - Should reuse the serialize fn across multiple invocations - Route without schema # time=22.138ms
        
        # Subtest: Should use the custom serializer compiler for the route
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equivalent
            ok 7 - {"hello":"world"}
            ok 8 - should be equivalent
            ok 9 - {"hello":"world"}
            ok 10 - should be equal
        ok 3 - Should use the custom serializer compiler for the route # time=38.991ms
        
        # Subtest: Should build a WeakMap for cache when called
            1..4
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
            ok 4 - should be equal
        ok 4 - Should build a WeakMap for cache when called # time=8.723ms
        
    ok 1 - Reply\#compileSerializationSchema # time=168.515ms
    
    # Subtest: Reply\#getSerializationFunction
        1..3
        # Subtest: Should retrieve the serialization function from the Schema definition
            1..9
            ok 1 - type is Function
            ok 2 - type is Function
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - expect falsey value
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
        ok 1 - Should retrieve the serialization function from the Schema definition # time=25.94ms
        
        # Subtest: Should retrieve the serialization function from the cached one
            1..6
            ok 1 - type is Function
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
        ok 2 - Should retrieve the serialization function from the cached one # time=10.933ms
        
        # Subtest: Should not instantiate a WeakMap if it is not needed
            1..4
            ok 1 - expect falsey value
            ok 2 - should be equal
            ok 3 - expect falsey value
            ok 4 - should be equal
        ok 3 - Should not instantiate a WeakMap if it is not needed # time=9.712ms
        
    ok 2 - Reply\#getSerializationFunction # time=57.765ms
    
    # Subtest: Reply\#serializeInput
        1..5
        # Subtest: Should throw if missed serialization function from HTTP status
            1..2
            ok 1 - should be equal
            ok 2 - should be equivalent
        ok 1 - Should throw if missed serialization function from HTTP status # time=49.47ms
        
        # Subtest: Should use a serializer fn from HTTP status
            1..4
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
        ok 2 - Should use a serializer fn from HTTP status # time=12.293ms
        
        # Subtest: Should compile a serializer out of a schema if serializer fn missed
            1..10
            ok 1 - should be equal
            ok 2 - expect falsey value
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 3 - Should compile a serializer out of a schema if serializer fn missed # time=15.078ms
        
        # Subtest: Should use a cached serializer fn
            1..12
            ok 1 - should be equal
            ok 2 - expect falsey value
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
            ok 11 - should be equal
            ok 12 - should be equal
        ok 4 - Should use a cached serializer fn # time=13.147ms
        
        # Subtest: Should instantiate a WeakMap after first call
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
        ok 5 - Should instantiate a WeakMap after first call # time=6.801ms
        
    ok 3 - Reply\#serializeInput # time=105.793ms
    
    1..3
    # time=353.086ms
ok 58 - test/internals/reply-serialize.test.js # time=353.086ms

# Subtest: test/internals/reply.test.js
    # Subtest: Once called, Reply should return an object with methods
        1..13
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should be equal
        ok 13 - should be equal
    ok 1 - Once called, Reply should return an object with methods # time=13.317ms
    
    # Subtest: reply.send will logStream error and destroy the stream
        1..1
        ok 1 - Error not logged and not streamed
    ok 2 - reply.send will logStream error and destroy the stream # time=26.244ms
    
    # Subtest: reply.send throw with circular JSON
        1..1
        ok 1 - Converting circular structure to JSON
    ok 3 - reply.send throw with circular JSON # time=1.666ms
    
    # Subtest: reply.send returns itself
        1..1
        ok 1 - should be equal
    ok 4 - reply.send returns itself # time=1.572ms
    
    # Subtest: reply.serializer should set a custom serializer
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 5 - reply.serializer should set a custom serializer # time=1.089ms
    
    # Subtest: reply.serializer should support running preSerialization hooks
        1..3
        ok 1 - preSerialization
        ok 2 - should not error
        ok 3 - should be equal
    ok 6 - reply.serializer should support running preSerialization hooks # time=778.372ms
    
    # Subtest: reply.serialize should serialize payload
        1..1
        ok 1 - should be equal
    ok 7 - reply.serialize should serialize payload # time=1.259ms
    
    # Subtest: reply.serialize should serialize payload with a custom serializer
        1..2
        ok 1 - should be equal
        ok 2 - custom serializer not called
    ok 8 - reply.serialize should serialize payload with a custom serializer # time=1.117ms
    
    # Subtest: reply.serialize should serialize payload with a context default serializer
        1..2
        ok 1 - should be equal
        ok 2 - custom serializer not called
    ok 9 - reply.serialize should serialize payload with a context default serializer # time=1.241ms
    
    # Subtest: reply.serialize should serialize payload with Fastify instance
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - reply.serialize should serialize payload with Fastify instance # time=21.072ms
    
    # Subtest: within an instance
        ok 1 - should not error
        # Subtest: custom serializer should be used
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - custom serializer should be used # time=36.189ms
        
        # Subtest: status code and content-type should be correct
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 3 - status code and content-type should be correct # time=6.177ms
        
        # Subtest: auto status code shoud be 200
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - auto status code shoud be 200 # time=4.903ms
        
        # Subtest: auto type shoud be text/plain
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - auto type shoud be text/plain # time=4.471ms
        
        # Subtest: redirect to `/` - 1
            1..1
            ok 1 - should be equal
        ok 6 - redirect to `/` - 1 # time=3.91ms
        
        # Subtest: redirect to `/` - 2
            1..1
            ok 1 - should be equal
        ok 7 - redirect to `/` - 2 # time=3.543ms
        
        # Subtest: redirect to `/` - 3
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 8 - redirect to `/` - 3 # time=14.176ms
        
        # Subtest: redirect to `/` - 4
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 9 - redirect to `/` - 4 # time=7.868ms
        
        # Subtest: redirect to `/` - 5
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
        ok 10 - redirect to `/` - 5 # time=3.381ms
        
        # Subtest: redirect to `/` - 6
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 11 - redirect to `/` - 6 # time=6.467ms
        
        # Subtest: redirect to `/` - 7
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 12 - redirect to `/` - 7 # time=6.988ms
        
        # Subtest: redirect to `/` - 8
            1..1
            ok 1 - should be equal
        ok 13 - redirect to `/` - 8 # time=2.914ms
        
        # Subtest: redirect to `/` - 9
            1..1
            ok 1 - should be equal
        ok 14 - redirect to `/` - 9 # time=3.028ms
        
        # Subtest: redirect with async function to `/` - 10
            1..1
            ok 1 - should be equal
        ok 15 - redirect with async function to `/` - 10 # time=2.983ms
        
        1..15
    ok 11 - within an instance # time=184.364ms
    
    # Subtest: buffer without content type should send a application/octet-stream and raw buffer
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 12 - buffer without content type should send a application/octet-stream and raw buffer # time=32.751ms
    
    # Subtest: buffer with content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 13 - buffer with content type should not send application/octet-stream # time=11.368ms
    
    # Subtest: stream with content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 14 - stream with content type should not send application/octet-stream # time=18.301ms
    
    # Subtest: stream without content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 15 - stream without content type should not send application/octet-stream # time=70.265ms
    
    # Subtest: stream using reply.raw.writeHead should return customize headers
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 16 - stream using reply.raw.writeHead should return customize headers # time=55.677ms
    
    # Subtest: plain string without content type should send a text/plain
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 17 - plain string without content type should send a text/plain # time=7.67ms
    
    # Subtest: plain string with content type should be sent unmodified
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - plain string with content type should be sent unmodified # time=10.736ms
    
    # Subtest: plain string with content type and custom serializer should be serialized
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 19 - plain string with content type and custom serializer should be serialized # time=7.173ms
    
    # Subtest: plain string with content type application/json should NOT be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 20 - plain string with content type application/json should NOT be serialized as json # time=7.223ms
    
    # Subtest: plain string with custom json content type should NOT be serialized as json
        1..19
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equivalent
    ok 21 - plain string with custom json content type should NOT be serialized as json # time=20.517ms
    
    # Subtest: non-string with content type application/json SHOULD be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 22 - non-string with content type application/json SHOULD be serialized as json # time=11.138ms
    
    # Subtest: non-string with custom json's content-type SHOULD be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 23 - non-string with custom json's content-type SHOULD be serialized as json # time=22.788ms
    
    # Subtest: non-string with custom json content type SHOULD be serialized as json
        1..16
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 24 - non-string with custom json content type SHOULD be serialized as json # time=23.312ms
    
    # Subtest: error object with a content type that is not application/json should work
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 25 - error object with a content type that is not application/json should work # time=7.372ms
    
    # Subtest: undefined payload should be sent as-is
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 26 - undefined payload should be sent as-is # time=8.11ms
    
    # Subtest: for HEAD method, no body should be sent but content-length should be
        1..11
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
    ok 27 - for HEAD method, no body should be sent but content-length should be # time=10.083ms
    
    # Subtest: reply.send(new NotFound()) should not invoke the 404 handler
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 28 - reply.send(new NotFound()) should not invoke the 404 handler # time=15.014ms
    
    # Subtest: reply can set multiple instances of same header
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - expect truthy value
        ok 4 - should be equivalent strictly
    ok 29 - reply can set multiple instances of same header # time=8.493ms
    
    # Subtest: reply.hasHeader returns correct values
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 30 - reply.hasHeader returns correct values # time=4.969ms
    
    # Subtest: reply.getHeader returns correct values
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
        ok 4 - should be equivalent strictly
    ok 31 - reply.getHeader returns correct values # time=19.021ms
    
    # Subtest: reply.getHeader returns raw header if there is not in the reply headers
        1..1
        ok 1 - should be equal
    ok 32 - reply.getHeader returns raw header if there is not in the reply headers # time=0.91ms
    
    # Subtest: reply.getHeaders returns correct values
        1..3
        ok 1 - should be equivalent strictly
        ok 2 - should be equivalent strictly
        ok 3 - should not error
    ok 33 - reply.getHeaders returns correct values # time=5.143ms
    
    # Subtest: reply.removeHeader can remove the value
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent strictly
        ok 5 - (unnamed test)
    ok 34 - reply.removeHeader can remove the value # time=6.757ms
    
    # Subtest: reply.header can reset the value
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent strictly
        ok 3 - (unnamed test)
    ok 35 - reply.header can reset the value # time=6.037ms
    
    # Subtest: reply.hasHeader computes raw and fastify headers
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - (unnamed test)
    ok 36 - reply.hasHeader computes raw and fastify headers # time=12.309ms
    
    # Subtest: Reply should handle JSON content type with a charset
        1..16
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should not error
        ok 16 - should be equal
    ok 37 - Reply should handle JSON content type with a charset # time=16.759ms
    
    # Subtest: Content type and charset set previously
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 38 - Content type and charset set previously # time=4.295ms
    
    # Subtest: .status() is an alias for .code()
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 39 - .status() is an alias for .code() # time=4.606ms
    
    # Subtest: .statusCode is getter and setter
        1..4
        ok 1 - 200
        ok 2 - 418
        ok 3 - should not error
        ok 4 - should be equal
    ok 40 - .statusCode is getter and setter # time=6.887ms
    
    # Subtest: reply.header setting multiple cookies as multiple Set-Cookie headers
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equivalent strictly
        ok 4 - should not error
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - should be equivalent strictly
    ok 41 - reply.header setting multiple cookies as multiple Set-Cookie headers # time=8.885ms
    
    # Subtest: should emit deprecation warning when trying to modify the reply.sent property
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 42 - should emit deprecation warning when trying to modify the reply.sent property # time=6.519ms
    
    # Subtest: should throw error when passing falsy value to reply.sent
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 43 - should throw error when passing falsy value to reply.sent # time=4.085ms
    
    # Subtest: should throw error when attempting to set reply.sent more than once
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 44 - should throw error when attempting to set reply.sent more than once # time=4.932ms
    
    # Subtest: should not throw error when attempting to set reply.sent if the underlining request was sent
        1..3
        ok 1 - expected to not throw
        ok 2 - should not error
        ok 3 - (unnamed test)
    ok 45 - should not throw error when attempting to set reply.sent if the underlining request was sent # time=6.985ms
    
    # Subtest: reply.getResponseTime() should return 0 before the timer is initialised on the reply by setting up response listeners
        1..1
        ok 1 - should be equal
    ok 46 - reply.getResponseTime() should return 0 before the timer is initialised on the reply by setting up response listeners # time=0.846ms
    
    # Subtest: reply.getResponseTime() should return a number greater than 0 after the timer is initialised on the reply by setting up response listeners
        1..1
        ok 1 - expect truthy value
    ok 47 - reply.getResponseTime() should return a number greater than 0 after the timer is initialised on the reply by setting up response listeners # time=3.916ms
    
    # Subtest: reply.getResponseTime() should return the time since a request started while inflight
        1..1
        ok 1 - should not be equal
    ok 48 - reply.getResponseTime() should return the time since a request started while inflight # time=3.589ms
    
    # Subtest: reply.getResponseTime() should return the same value after a request is finished
        1..1
        ok 1 - should be equal
    ok 49 - reply.getResponseTime() should return the same value after a request is finished # time=3.652ms
    
    # Subtest: reply should use the custom serializer
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 50 - reply should use the custom serializer # time=5.102ms
    
    # Subtest: reply should use the right serializer in encapsulated context
        1..9
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 51 - reply should use the right serializer in encapsulated context # time=10.049ms
    
    # Subtest: reply should use the right serializer in deep encapsulated context
        1..8
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 52 - reply should use the right serializer in deep encapsulated context # time=9.578ms
    
    # Subtest: reply should use the route serializer
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equal
    ok 53 - reply should use the route serializer # time=4.015ms
    
    # Subtest: cannot set the replySerializer when the server is running
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 54 - cannot set the replySerializer when the server is running # time=5.1ms
    
    # Subtest: reply should not call the custom serializer for errors and not found
        1..9
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 55 - reply should not call the custom serializer for errors and not found # time=7.681ms
    
    # Subtest: reply.then
        1..4
        # Subtest: without an error
            1..1
            ok 1 - fulfilled called
        ok 1 - without an error # time=10.635ms
        
        # Subtest: with an error
            1..1
            ok 1 - should be equal
        ok 2 - with an error # time=1.419ms
        
        # Subtest: with error but without reject callback
            1..1
            ok 1 - (unnamed test)
        ok 3 - with error but without reject callback # time=0.898ms
        
        # Subtest: with error, without reject callback, with logger
            1..1
            ok 1 - should be equal
        ok 4 - with error, without reject callback, with logger # time=1.455ms
        
    ok 56 - reply.then # time=21.487ms
    
    # Subtest: reply.sent should read from response.writableEnded if it is defined
        1..1
        ok 1 - should be equal
    ok 57 - reply.sent should read from response.writableEnded if it is defined # time=0.663ms
    
    # Subtest: redirect to an invalid URL should not crash the server
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        1..7
    ok 58 - redirect to an invalid URL should not crash the server # time=28.852ms
    
    # Subtest: invalid response headers should not crash the server
        ok 1 - only the first invalid header is logged
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 59 - invalid response headers should not crash the server # time=7.082ms
    
    # Subtest: invalid response headers when sending back an error
        ok 1 - only the first invalid header is logged
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 60 - invalid response headers when sending back an error # time=6.395ms
    
    # Subtest: invalid response headers and custom error handler
        ok 1 - custom error handler receives the error
        ok 2 - only the first invalid header is logged
        ok 3 - should be equal
        ok 4 - should be equivalent
        1..4
    ok 61 - invalid response headers and custom error handler # time=6.751ms
    
    1..61
    # time=1700.612ms
ok 59 - test/internals/reply.test.js # time=1700.612ms

# Subtest: test/internals/request-validate.test.js
    # Subtest: \#compileValidationSchema
        1..5
        # Subtest: Should return a function - Route without schema
            1..3
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
        ok 1 - Should return a function - Route without schema # time=153.74ms
        
        # Subtest: Should reuse the validate fn across multiple invocations - Route without schema
            1..16
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
            ok 4 - Are the same validate function
            ok 5 - type is Function
            ok 6 - expect truthy value
            ok 7 - expect falsey value
            ok 8 - Are the same validate function
            ok 9 - type is Function
            ok 10 - expect truthy value
            ok 11 - expect falsey value
            ok 12 - Are the same validate function
            ok 13 - type is Function
            ok 14 - expect truthy value
            ok 15 - expect falsey value
            ok 16 - should be equal
        ok 2 - Should reuse the validate fn across multiple invocations - Route without schema # time=46.999ms
        
        # Subtest: Should return a function - Route with schema
            1..3
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
        ok 3 - Should return a function - Route with schema # time=74.773ms
        
        # Subtest: Should use the custom validator compiler for the route
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equivalent
            ok 7 - expect truthy value
            ok 8 - should be equivalent
            ok 9 - expect truthy value
            ok 10 - should be equal
        ok 4 - Should use the custom validator compiler for the route # time=12.19ms
        
        # Subtest: Should instantiate a WeakMap when executed for first time
            1..5
            ok 1 - should be equal
            ok 2 - type is Function
            ok 3 - type is WeakMap
            ok 4 - type is Function
            ok 5 - type is WeakMap
        ok 5 - Should instantiate a WeakMap when executed for first time # time=37.164ms
        
    ok 1 - \#compileValidationSchema # time=343.749ms
    
    # Subtest: \#getValidationFunction
        1..4
        # Subtest: Should return a validation function
            1..1
            ok 1 - should be equal
        ok 1 - Should return a validation function # time=57.769ms
        
        # Subtest: Should return undefined if no schema compiled
            1..2
            ok 1 - expect falsey value
            ok 2 - expect falsey value
        ok 2 - Should return undefined if no schema compiled # time=5.784ms
        
        # Subtest: Should return the validation function from each HTTP part
            1..15
            ok 1 - expect truthy value
            ok 2 - expect truthy value
            ok 3 - expect falsey value
            ok 4 - expect truthy value
            ok 5 - expect truthy value
            ok 6 - expect falsey value
            ok 7 - expect truthy value
            ok 8 - expect truthy value
            ok 9 - expect truthy value
            ok 10 - expect truthy value
            ok 11 - expect falsey value
            ok 12 - should be equal
            ok 13 - expect truthy value
            ok 14 - expect falsey value
            ok 15 - should be equal
        ok 3 - Should return the validation function from each HTTP part # time=134.818ms
        
        # Subtest: Should not set a WeakMap if there is no schema
            1..1
            ok 1 - should be equal
        ok 4 - Should not set a WeakMap if there is no schema # time=31.041ms
        
    ok 2 - \#getValidationFunction # time=241.201ms
    
    # Subtest: \#validate
        1..7
        # Subtest: Should return true/false if input valid - Route without schema
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 1 - Should return true/false if input valid - Route without schema # time=106.467ms
        
        # Subtest: Should use the custom validator compiler for the route
            1..9
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equivalent
            ok 6 - should be equivalent
            ok 7 - expect truthy value
            ok 8 - expect truthy value
            ok 9 - should be equal
        ok 2 - Should use the custom validator compiler for the route # time=8.444ms
        
        # Subtest: Should return true/false if input valid - With Schema for Route defined
            1..8
            ok 1 - expect truthy value
            ok 2 - expect falsey value
            ok 3 - expect falsey value
            ok 4 - expect truthy value
            ok 5 - expect falsey value
            ok 6 - expect truthy value
            ok 7 - expect truthy value
            ok 8 - expect falsey value
        ok 3 - Should return true/false if input valid - With Schema for Route defined # time=98.81ms
        
        # Subtest: Should throw if missing validation fn for HTTP part and not schema provided
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 4 - Should throw if missing validation fn for HTTP part and not schema provided # time=10.937ms
        
        # Subtest: Should throw if missing validation fn for HTTP part and not valid schema provided
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 5 - Should throw if missing validation fn for HTTP part and not valid schema provided # time=21.698ms
        
        # Subtest: Should throw if invalid schema passed
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 6 - Should throw if invalid schema passed # time=17.547ms
        
        # Subtest: Should set a WeakMap if compiling the very first schema
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
        ok 7 - Should set a WeakMap if compiling the very first schema # time=25.514ms
        
    ok 3 - \#validate # time=306.672ms
    
    # Subtest: Nested Context
        1..1
        # Subtest: Level_1
            1..3
            # Subtest: \#compileValidationSchema
                1..4
                # Subtest: Should return a function - Route without schema
                    1..3
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                ok 1 - Should return a function - Route without schema # time=88.9ms
                
                # Subtest: Should reuse the validate fn across multiple invocations - Route without schema
                    1..16
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                    ok 4 - Are the same validate function
                    ok 5 - type is Function
                    ok 6 - expect truthy value
                    ok 7 - expect falsey value
                    ok 8 - Are the same validate function
                    ok 9 - type is Function
                    ok 10 - expect truthy value
                    ok 11 - expect falsey value
                    ok 12 - Are the same validate function
                    ok 13 - type is Function
                    ok 14 - expect truthy value
                    ok 15 - expect falsey value
                    ok 16 - should be equal
                ok 2 - Should reuse the validate fn across multiple invocations - Route without schema # time=41.158ms
                
                # Subtest: Should return a function - Route with schema
                    1..3
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                ok 3 - Should return a function - Route with schema # time=45.801ms
                
                # Subtest: Should use the custom validator compiler for the route
                    1..10
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - should be equal
                    ok 5 - should be equal
                    ok 6 - should be equivalent
                    ok 7 - expect truthy value
                    ok 8 - should be equivalent
                    ok 9 - expect truthy value
                    ok 10 - should be equal
                ok 4 - Should use the custom validator compiler for the route # time=9.832ms
                
            ok 1 - \#compileValidationSchema # time=196.878ms
            
            # Subtest: \#getValidationFunction
                1..6
                # Subtest: Should return a validation function
                    1..1
                    ok 1 - should be equal
                ok 1 - Should return a validation function # time=58.604ms
                
                # Subtest: Should return undefined if no schema compiled
                    1..1
                    ok 1 - expect falsey value
                ok 2 - Should return undefined if no schema compiled # time=5.225ms
                
                # Subtest: Should return the validation function from each HTTP part
                    1..15
                    ok 1 - expect truthy value
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                    ok 4 - expect truthy value
                    ok 5 - expect truthy value
                    ok 6 - expect falsey value
                    ok 7 - expect truthy value
                    ok 8 - expect truthy value
                    ok 9 - expect truthy value
                    ok 10 - expect truthy value
                    ok 11 - expect falsey value
                    ok 12 - should be equal
                    ok 13 - expect truthy value
                    ok 14 - expect falsey value
                    ok 15 - should be equal
                ok 3 - Should return the validation function from each HTTP part # time=47.415ms
                
                # Subtest: Should return a validation function - nested
                    1..6
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - expect falsey value
                    ok 5 - should be equal
                    ok 6 - should be equal
                ok 4 - Should return a validation function - nested # time=13.934ms
                
                # Subtest: Should return undefined if no schema compiled - nested
                    1..3
                    ok 1 - should be equal
                    ok 2 - expect falsey value
                    ok 3 - should be equal
                ok 5 - Should return undefined if no schema compiled - nested # time=28.194ms
                
                # Subtest: Should per-route defined validation compiler
                    1..5
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should not be equal
                    ok 4 - should be equal
                    ok 5 - should be equal
                ok 6 - Should per-route defined validation compiler # time=15.816ms
                
            ok 2 - \#getValidationFunction # time=184.678ms
            
            # Subtest: \#validate
                1..3
                # Subtest: Should return true/false if input valid - Route without schema
                    1..2
                    ok 1 - expect falsey value
                    ok 2 - expect truthy value
                ok 1 - Should return true/false if input valid - Route without schema # time=47.087ms
                
                # Subtest: Should use the custom validator compiler for the route
                    1..10
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - should be equal
                    ok 5 - should be equivalent
                    ok 6 - should be equivalent
                    ok 7 - expect truthy value
                    ok 8 - expect truthy value
                    ok 9 - should be equal
                    ok 10 - should be equal
                ok 2 - Should use the custom validator compiler for the route # time=8.82ms
                
                # Subtest: Should return true/false if input valid - With Schema for Route defined and scoped validator compiler
                    1..13
                    ok 1 - expect truthy value
                    ok 2 - expect falsey value
                    ok 3 - expect falsey value
                    ok 4 - expect truthy value
                    ok 5 - expect falsey value
                    ok 6 - expect truthy value
                    ok 7 - expect truthy value
                    ok 8 - expect falsey value
                    ok 9 - should be equal
                    ok 10 - should be equal
                    ok 11 - should be equal
                    ok 12 - should be equal
                    ok 13 - should be equal
                ok 3 - Should return true/false if input valid - With Schema for Route defined and scoped validator compiler # time=104.003ms
                
            ok 3 - \#validate # time=167.904ms
            
        ok 1 - Level_1 # time=557.264ms
        
    ok 4 - Nested Context # time=562.2ms
    
    1..4
    # time=1459.425ms
ok 60 - test/internals/request-validate.test.js # time=1459.425ms

# Subtest: test/internals/request.test.js
    # Subtest: Regular request
        ok 1 - type is Request
        ok 2 - type is Function
        ok 3 - type is Function
        ok 4 - type is Function
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        1..19
    ok 1 - Regular request # time=15.402ms
    
    # Subtest: Regular request - hostname from authority
        1..2
        ok 1 - type is Request
        ok 2 - should be equal
    ok 2 - Regular request - hostname from authority # time=1.78ms
    
    # Subtest: Regular request - host header has precedence over authority
        1..2
        ok 1 - type is Request
        ok 2 - should be equal
    ok 3 - Regular request - host header has precedence over authority # time=1.329ms
    
    # Subtest: Request with trust proxy
        1..18
        ok 1 - type is _Request
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - type is Function
        ok 17 - type is Function
        ok 18 - type is Function
    ok 4 - Request with trust proxy # time=12.061ms
    
    # Subtest: Request with trust proxy, encrypted
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 5 - Request with trust proxy, encrypted # time=2.713ms
    
    # Subtest: Request with trust proxy - no x-forwarded-host header
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 6 - Request with trust proxy - no x-forwarded-host header # time=1.403ms
    
    # Subtest: Request with trust proxy - no x-forwarded-host header and fallback to authority
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 7 - Request with trust proxy - no x-forwarded-host header and fallback to authority # time=1.32ms
    
    # Subtest: Request with trust proxy - x-forwarded-host header has precedence over host
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 8 - Request with trust proxy - x-forwarded-host header has precedence over host # time=1.522ms
    
    # Subtest: Request with trust proxy - handles multiple entries in x-forwarded-host/proto
        1..3
        ok 1 - type is _Request
        ok 2 - should be equal
        ok 3 - should be equal
    ok 9 - Request with trust proxy - handles multiple entries in x-forwarded-host/proto # time=1.648ms
    
    # Subtest: Request with trust proxy - plain
        1..1
        ok 1 - should be equivalent
    ok 10 - Request with trust proxy - plain # time=6.449ms
    
    # Subtest: Request with undefined socket
        1..18
        ok 1 - type is Request
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equivalent
        ok 16 - type is Function
        ok 17 - type is Function
        ok 18 - type is Function
    ok 11 - Request with undefined socket # time=3.818ms
    
    # Subtest: Request with trust proxy and undefined socket
        1..1
        ok 1 - should be equivalent
    ok 12 - Request with trust proxy and undefined socket # time=0.802ms
    
    1..12
    # time=118.983ms
ok 61 - test/internals/request.test.js # time=118.983ms

# Subtest: test/internals/server.test.js
    # Subtest: start listening
        ok 1 - server started
        1..1
    ok 1 - start listening # time=41.209ms
    
    # Subtest: DNS errors does not stop the main server on localhost - promise interface
        ok 1 - server started
        1..1
    ok 2 - DNS errors does not stop the main server on localhost - promise interface # time=16.48ms
    
    # Subtest: DNS errors does not stop the main server on localhost - callback interface
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 3 - DNS errors does not stop the main server on localhost - callback interface # time=26.955ms
    
    # Subtest: DNS returns empty binding
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 4 - DNS returns empty binding # time=25.543ms
    
    # Subtest: DNS returns more than two binding
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 5 - DNS returns more than two binding # time=15.156ms
    
    1..5
    # time=133.154ms
ok 62 - test/internals/server.test.js # time=133.154ms

# Subtest: test/internals/validation.test.js
    # Subtest: Symbols
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 1 - Symbols # time=8.33ms
    
    # Subtest: compileSchemasForValidation schema - missing schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - compileSchemasForValidation schema - missing schema # time=2.332ms
    
    # Subtest: compileSchemasForValidation schema - missing output schema
        1..1
        ok 1 - should be equal
    ok 3 - compileSchemasForValidation schema - missing output schema # time=1.321ms
    
    # Subtest: compileSchemasForSerialization schema - missing schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - compileSchemasForSerialization schema - missing schema # time=1.777ms
    
    # Subtest: compileSchemasForSerialization schema - missing output schema
        1..1
        ok 1 - should be equal
    ok 5 - compileSchemasForSerialization schema - missing output schema # time=0.891ms
    
    # Subtest: build schema - output schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 6 - build schema - output schema # time=67.265ms
    
    # Subtest: build schema - payload schema
        1..1
        ok 1 - should be equal
    ok 7 - build schema - payload schema # time=2.321ms
    
    # Subtest: build schema - avoid repeated normalize schema
        1..3
        ok 1 - should not be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 8 - build schema - avoid repeated normalize schema # time=2.678ms
    
    # Subtest: build schema - query schema
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 9 - build schema - query schema # time=2.944ms
    
    # Subtest: build schema - query schema abbreviated
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 10 - build schema - query schema abbreviated # time=4.299ms
    
    # Subtest: build schema - querystring schema
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 11 - build schema - querystring schema # time=3.265ms
    
    # Subtest: build schema - querystring schema abbreviated
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 12 - build schema - querystring schema abbreviated # time=2.662ms
    
    # Subtest: build schema - must throw if querystring and query schema exist
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 13 - build schema - must throw if querystring and query schema exist # time=1.749ms
    
    # Subtest: build schema - params schema
        1..1
        ok 1 - should be equal
    ok 14 - build schema - params schema # time=2.291ms
    
    # Subtest: build schema - headers schema
        1..1
        ok 1 - should be equal
    ok 15 - build schema - headers schema # time=3.311ms
    
    # Subtest: build schema - headers are lowercase
        1..1
        ok 1 - lowercase content-type exists
    ok 16 - build schema - headers are lowercase # time=1.1ms
    
    # Subtest: build schema - headers are not lowercased in case of custom object
        1..1
        ok 1 - type is Headers
    ok 17 - build schema - headers are not lowercased in case of custom object # time=1ms
    
    # Subtest: build schema - uppercased headers are not included
        1..1
        ok 1 - uppercase does not exist
    ok 18 - build schema - uppercased headers are not included # time=1.044ms
    
    1..18
    # time=202.672ms
ok 63 - test/internals/validation.test.js # time=202.672ms

# Subtest: test/keepAliveTimeout.test.js
    # Subtest: keepAliveTimeout
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not be equal
        ok 6 - should be equal
    ok 1 - keepAliveTimeout # time=40.303ms
    
    1..1
    # time=45.664ms
ok 64 - test/keepAliveTimeout.test.js # time=45.664ms

# Subtest: test/listen.deprecated.test.js
    # Subtest: listen accepts a port and a callback
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 1 - listen accepts a port and a callback # time=28.831ms
    
    # Subtest: listen accepts a port and a callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 2 - listen accepts a port and a callback with (err, address) # time=5.221ms
    
    # Subtest: listen accepts a port, address, and callback
        1..1
        ok 1 - should not error
    ok 3 - listen accepts a port, address, and callback # time=14.263ms
    
    # Subtest: listen accepts options, backlog and a callback
        1..1
        ok 1 - should not error
    ok 4 - listen accepts options, backlog and a callback # time=17.506ms
    
    # Subtest: listen accepts options (no port), backlog and a callback
        1..1
        ok 1 - should not error
    ok 5 - listen accepts options (no port), backlog and a callback # time=4.207ms
    
    # Subtest: listen accepts options (no host), backlog and a callback
        1..1
        ok 1 - should not error
    ok 6 - listen accepts options (no host), backlog and a callback # time=3.649ms
    
    # Subtest: listen accepts options (no port, no host), backlog and a callback
        1..1
        ok 1 - should not error
    ok 7 - listen accepts options (no port, no host), backlog and a callback # time=20.191ms
    
    # Subtest: listen accepts a port, address and a callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 8 - listen accepts a port, address and a callback with (err, address) # time=3.525ms
    
    # Subtest: listen accepts a port, address, backlog and callback
        1..1
        ok 1 - should not error
    ok 9 - listen accepts a port, address, backlog and callback # time=9.568ms
    
    # Subtest: listen accepts a port, address, backlog and callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 10 - listen accepts a port, address, backlog and callback with (err, address) # time=4.812ms
    
    # Subtest: listen without callback (port zero)
        1..1
        ok 1 - should be equal
    ok 11 - listen without callback (port zero) # time=29.017ms
    
    # Subtest: listen without callback (port not given)
        1..1
        ok 1 - should be equal
    ok 12 - listen without callback (port not given) # time=7.852ms
    
    # Subtest: listen null without callback with (address)
        1..1
        ok 1 - should be equal
    ok 13 - listen null without callback with (address) # time=8.357ms
    
    # Subtest: listen without port without callback with (address)
        1..1
        ok 1 - should be equal
    ok 14 - listen without port without callback with (address) # time=5.769ms
    
    # Subtest: listen with undefined without callback with (address)
        1..1
        ok 1 - should be equal
    ok 15 - listen with undefined without callback with (address) # time=11.167ms
    
    # Subtest: listen when firstArg is string(pipe) and without backlog
        1..1
        ok 1 - should be equal
    ok 16 - listen when firstArg is string(pipe) and without backlog # time=35.624ms
    
    # Subtest: listen when firstArg is string(pipe) and with backlog
        1..1
        ok 1 - should be equal
    ok 17 - listen when firstArg is string(pipe) and with backlog # time=7.016ms
    
    # Subtest: listen when firstArg is { path: string(pipe) } and with backlog and callback
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 18 - listen when firstArg is { path: string(pipe) } and with backlog and callback # time=6.561ms
    
    1..18
    # time=325.689ms
ok 65 - test/listen.deprecated.test.js # time=325.689ms

# Subtest: test/listen.test.js
    # Subtest: listen works without arguments
        ok 1 - should be equal
        ok 2 - expect truthy value
        1..2
    ok 1 - listen works without arguments # time=31.062ms
    
    # Subtest: Async/await listen with arguments
        1..1
        ok 1 - should be equal
    ok 2 - Async/await listen with arguments # time=5.266ms
    
    # Subtest: Promise listen with arguments
        1..1
        ok 1 - should be equal
    ok 3 - Promise listen with arguments # time=8.243ms
    
    # Subtest: listen accepts a callback
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 4 - listen accepts a callback # time=26.752ms
    
    # Subtest: listen accepts options and a callback
        1..1
        ok 1 - should not error
    ok 5 - listen accepts options and a callback # time=7.733ms
    
    # Subtest: listen after Promise.resolve()
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 6 - listen after Promise.resolve() # time=4.834ms
    
    # Subtest: register after listen using Promise.resolve()
        1..1
        ok 1 - resolved
    ok 7 - register after listen using Promise.resolve() # time=11.101ms
    
    # Subtest: double listen errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
    ok 8 - double listen errors # time=5.225ms
    
    # Subtest: double listen errors callback with (err, address)
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 9 - double listen errors callback with (err, address) # time=5.96ms
    
    # Subtest: listen twice on the same port
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 10 - listen twice on the same port # time=12.397ms
    
    # Subtest: listen twice on the same port callback with (err, address)
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 11 - listen twice on the same port callback with (err, address) # time=7.852ms
    
    # Subtest: listen on socket
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent strictly
        ok 3 - should be equal
    ok 12 - listen on socket # time=15.286ms
    
    # Subtest: listen without callback with (address)
        1..1
        ok 1 - should be equal
    ok 13 - listen without callback with (address) # time=4.242ms
    
    # Subtest: double listen without callback rejects
        1..1
        ok 1 - expect truthy value
    ok 14 - double listen without callback rejects # time=36.081ms
    
    # Subtest: double listen without callback with (address)
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 15 - double listen without callback with (address) # time=4.319ms
    
    # Subtest: listen twice on the same port without callback rejects
        1..1
        ok 1 - expect truthy value
    ok 16 - listen twice on the same port without callback rejects # time=9.603ms
    
    # Subtest: listen twice on the same port without callback rejects with (address)
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 17 - listen twice on the same port without callback rejects with (address) # time=10.576ms
    
    # Subtest: listen on invalid port without callback rejects
        ok 1 - expect truthy value
        1..1
    ok 18 - listen on invalid port without callback rejects # time=3.502ms
    
    # Subtest: listen logs the port as info
        1..1
        ok 1 - expect truthy value
    ok 19 - listen logs the port as info # time=3.764ms
    
    # Subtest: listen on localhost binds IPv4 and IPv6 - promise interface
        1..2
        ok 1 - should be equal
        ok 2 - should be equivalent
    ok 20 - listen on localhost binds IPv4 and IPv6 - promise interface # time=24.594ms
    
    # Subtest: listen on localhost binds to all interfaces (both IPv4 and IPv6 if present) - callback interface
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 21 - listen on localhost binds to all interfaces (both IPv4 and IPv6 if present) - callback interface # time=9.362ms
    
    # Subtest: addresses getter
        1..4
        ok 1 - before ready
        ok 2 - after ready
        ok 3 - after listen
        ok 4 - after close
    ok 22 - addresses getter # time=8.152ms
    
    1..22
    # time=352.004ms
ok 66 - test/listen.test.js # time=352.004ms

# Subtest: test/logger.test.js
    # Subtest: defaults to info level
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
        ok 13 - responseTime is defined
        1..13
    ok 1 - defaults to info level # time=59.134ms
    
    # Subtest: test log stream
        1..12
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
    ok 2 - test log stream # time=24.394ms
    
    # Subtest: test error log stream
        1..11
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - reqId is defined
        ok 9 - res is defined
        ok 10 - message is set
        ok 11 - statusCode is 500
    ok 3 - test error log stream # time=68.184ms
    
    # Subtest: can use external logger instance
        1..6
        ok 1 - "Server listening at http://127.0.0.1:37435" dont match "/^Server listening at /"
        ok 2 - should not error
        ok 3 - "incoming request" dont match "/^incoming request$/"
        ok 4 - expect truthy value
        ok 5 - "log success" dont match "/^log success$/"
        ok 6 - "request completed" dont match "/^request completed$/"
    ok 4 - can use external logger instance # time=25.065ms
    
    # Subtest: can use external logger instance with custom serializer
        1..6
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - expect truthy value
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 5 - can use external logger instance with custom serializer # time=25.865ms
    
    # Subtest: expose the logger
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equivalent
    ok 6 - expose the logger # time=2.292ms
    
    # Subtest: The request id header key can be customized
        1..9
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - message is set
        ok 6 - should be equal
        ok 7 - message is set
        ok 8 - should be equal
        ok 9 - message is set
    ok 7 - The request id header key can be customized # time=30.769ms
    
    # Subtest: The request id header key can be customized along with a custom id generator
        1..12
        ok 1 - should match pattern provided
        ok 2 - should be equal
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should be equal
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
    ok 8 - The request id header key can be customized along with a custom id generator # time=38.824ms
    
    # Subtest: The request id log label can be changed
        1..6
        ok 1 - should match pattern provided
        ok 2 - should be equal
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should not error
        ok 6 - should be equal
    ok 9 - The request id log label can be changed # time=21.342ms
    
    # Subtest: The logger should accept custom serializer
        1..9
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - req is defined
        ok 4 - message is set
        ok 5 - custom req serializer is use
        ok 6 - expect truthy value
        ok 7 - res is defined
        ok 8 - message is set
        ok 9 - default res serializer is use
    ok 10 - The logger should accept custom serializer # time=39.646ms
    
    # Subtest: reply.send logs an error if called twice in a row
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
    ok 11 - reply.send logs an error if called twice in a row # time=40.181ms
    
    # Subtest: logger can be silented
        1..17
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equivalent
        ok 10 - should be equivalent
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equivalent
        ok 14 - should be equivalent
        ok 15 - should be equivalent
        ok 16 - should be equivalent
        ok 17 - should be equivalent
    ok 12 - logger can be silented # time=5.744ms
    
    # Subtest: Should set a custom logLevel for a plugin
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equivalent
    ok 13 - Should set a custom logLevel for a plugin # time=15.536ms
    
    # Subtest: Should set a custom logSerializers for a plugin
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 14 - Should set a custom logSerializers for a plugin # time=39.208ms
    
    # Subtest: Should set a custom logLevel for every plugin
        1..18
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equivalent
        ok 15 - should not error
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equivalent
    ok 15 - Should set a custom logLevel for every plugin # time=20.377ms
    
    # Subtest: Should set a custom logSerializers for every plugin
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 16 - Should set a custom logSerializers for every plugin # time=15.129ms
    
    # Subtest: Should override serializers from route
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 17 - Should override serializers from route # time=27.755ms
    
    # Subtest: Should override serializers from plugin
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 18 - Should override serializers from plugin # time=24.756ms
    
    # Subtest: Should use serializers from plugin and route
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 19 - Should use serializers from plugin and route # time=7.584ms
    
    # Subtest: Should use serializers from instance fastify and route
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 20 - Should use serializers from instance fastify and route # time=6.46ms
    
    # Subtest: Should use serializers inherit from contexts
        1..5
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 21 - Should use serializers inherit from contexts # time=7.506ms
    
    # Subtest: Should increase the log level for a specific plugin
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 22 - Should increase the log level for a specific plugin # time=6.396ms
    
    # Subtest: Should set the log level for the customized 404 handler
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 23 - Should set the log level for the customized 404 handler # time=6.497ms
    
    # Subtest: Should set the log level for the customized 500 handler
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 24 - Should set the log level for the customized 500 handler # time=7.944ms
    
    # Subtest: Should set a custom log level for a specific route
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equivalent
    ok 25 - Should set a custom log level for a specific route # time=8.95ms
    
    # Subtest: The default 404 handler logs the incoming request
        1..5
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
    ok 26 - The default 404 handler logs the incoming request # time=6.155ms
    
    # Subtest: should serialize request and response
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 27 - should serialize request and response # time=6.256ms
    
    # Subtest: Wrap IPv6 address in listening log message
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 28 - Wrap IPv6 address in listening log message # time=3.849ms
    
    # Subtest: Do not wrap IPv4 address
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 29 - Do not wrap IPv4 address # time=3.903ms
    
    # Subtest: file option
        1..13
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - listen at log message is ok
        ok 4 - reqId is defined
        ok 5 - req is defined
        ok 6 - message is set
        ok 7 - method is get
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
        ok 13 - responseTime is defined
    ok 30 - file option # time=17.371ms
    
    # Subtest: should log the error if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 31 - should log the error if no error handler is defined # time=11.096ms
    
    # Subtest: should log as info if error status code >= 400 and < 500 if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 32 - should log as info if error status code >= 400 and < 500 if no error handler is defined # time=11.282ms
    
    # Subtest: should log as error if error status code >= 500 if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 33 - should log as error if error status code >= 500 if no error handler is defined # time=10.364ms
    
    # Subtest: should not log the error if error handler is defined and it does not error
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - level is correct
        ok 7 - message is set
        ok 8 - status code is set
    ok 34 - should not log the error if error handler is defined and it does not error # time=25.65ms
    
    # Subtest: should not rely on raw request to log errors
        1..7
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - status code is set
    ok 35 - should not rely on raw request to log errors # time=9.496ms
    
    # Subtest: should redact the authorization header if so specified
        1..7
        ok 1 - listen at log message is ok
        ok 2 - should not error
        ok 3 - authorization is redacted
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 36 - should redact the authorization header if so specified # time=18.727ms
    
    # Subtest: should not log incoming request and outgoing response when disabled
        1..3
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should be equivalent
    ok 37 - should not log incoming request and outgoing response when disabled # time=6.038ms
    
    # Subtest: should not log incoming request and outgoing response for 404 onBadUrl when disabled
        1..1
        ok 1 - should be equivalent
    ok 38 - should not log incoming request and outgoing response for 404 onBadUrl when disabled # time=3.912ms
    
    # Subtest: should pass when using unWritable props in the logger option
        1..1
        ok 1 - (unnamed test)
    ok 39 - should pass when using unWritable props in the logger option # time=6.545ms
    
    # Subtest: should be able to use a custom logger
        1..1
        ok 1 - (unnamed test)
    ok 40 - should be able to use a custom logger # time=11.175ms
    
    # Subtest: should create a default logger if provided one is invalid
        1..1
        ok 1 - (unnamed test)
    ok 41 - should create a default logger if provided one is invalid # time=5.533ms
    
    # Subtest: should not throw error when serializing custom req
        1..1
        ok 1 - should be equivalent
    ok 42 - should not throw error when serializing custom req # time=1.958ms
    
    1..42
    # time=897.151ms
ok 67 - test/logger.test.js # time=897.151ms

# Subtest: test/maxRequestsPerSocket.test.js
    # Subtest: maxRequestsPerSocket on node version >= 16.10.0
        1..8
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should match pattern provided
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
    ok 1 - maxRequestsPerSocket on node version >= 16.10.0 # time=81.566ms
    
    # Subtest: maxRequestsPerSocket zero should behave same as null
        1..10
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should match pattern provided
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
        ok 9 - should match pattern provided
        ok 10 - should match pattern provided
    ok 2 - maxRequestsPerSocket zero should behave same as null # time=24.532ms
    
    # Subtest: maxRequestsPerSocket should be set
        1..1
        ok 1 - should be equivalent
    ok 3 - maxRequestsPerSocket should be set # time=2.066ms
    
    # Subtest: maxRequestsPerSocket should 0
        1..1
        ok 1 - should be equivalent
    ok 4 - maxRequestsPerSocket should 0 # time=1.397ms
    
    # Subtest: requestTimeout passed to server
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 5 - requestTimeout passed to server # time=14.58ms
    
    1..5
    # time=134.723ms
ok 68 - test/maxRequestsPerSocket.test.js # time=134.723ms

# Subtest: test/middleware.test.js
    # Subtest: Should be able to override the default use API
        1..1
        ok 1 - should be equal
    ok 1 - Should be able to override the default use API # time=15.755ms
    
    # Subtest: Cannot decorate use twice
        1..1
        ok 1 - expect truthy value
    ok 2 - Cannot decorate use twice # time=2.766ms
    
    # Subtest: Encapsulation works
        1..1
        ok 1 - should be equal
    ok 3 - Encapsulation works # time=15.05ms
    
    1..3
    # time=47.636ms
ok 69 - test/middleware.test.js # time=47.636ms

# Subtest: test/noop-set.test.js
    # Subtest: does a lot of nothing
        ok 1 - type is object
        ok 2 - should be equal
        1..2
    ok 1 - does a lot of nothing # time=12.483ms
    
    1..1
    # time=30.51ms
ok 70 - test/noop-set.test.js # time=30.51ms

# Subtest: test/nullable-validation.test.js
    # Subtest: nullable string
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 1 - nullable string # time=151.567ms
    
    # Subtest: object or null body
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 2 - object or null body # time=63.089ms
    
    # Subtest: nullable body
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 3 - nullable body # time=52.787ms
    
    # Subtest: Nullable body with 204
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 4 - Nullable body with 204 # time=29.746ms
    
    1..4
    # time=305.78ms
ok 71 - test/nullable-validation.test.js # time=305.78ms

# Subtest: test/options.error-handler.test.js
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - OPTIONS can be created # time=9.159ms
    
    # Subtest: OPTIONS without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - OPTIONS without schema can be created # time=1.895ms
    
    # Subtest: OPTIONS with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - OPTIONS with body and querystring # time=1.511ms
    
    # Subtest: OPTIONS with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - OPTIONS with bodyLimit option # time=1.893ms
    
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - OPTIONS can be created # time=2.616ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - OPTIONS - correctly replies # time=56.355ms
    
    # Subtest: OPTIONS - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - OPTIONS - correctly replies with very large body # time=9.741ms
    
    # Subtest: OPTIONS - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - OPTIONS - correctly replies if the content type has the charset # time=5.593ms
    
    # Subtest: OPTIONS without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - OPTIONS without schema - correctly replies # time=5.347ms
    
    # Subtest: OPTIONS with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - OPTIONS with body and querystring - correctly replies # time=5.554ms
    
    # Subtest: OPTIONS with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - OPTIONS with no body - correctly replies # time=35.023ms
    
    # Subtest: OPTIONS returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - OPTIONS returns 415 - incorrect media type if body is not json # time=4.618ms
    
    # Subtest: OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text # time=6.154ms
    
    # Subtest: OPTIONS returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 14 - OPTIONS returns 400 - Bad Request # time=8.848ms
    
    # Subtest: OPTIONS returns 413 - Payload Too Large
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - OPTIONS returns 413 - Payload Too Large # time=6.638ms
    
    # Subtest: OPTIONS should fail with empty body and application/json content-type
        1..0
    ok 16 - OPTIONS should fail with empty body and application/json content-type # time=0.611ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - OPTIONS - correctly replies # time=4.623ms
    
    # Subtest: OPTIONS - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - OPTIONS - 400 on bad parameters # time=5.435ms
    
    # Subtest: OPTIONS - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - OPTIONS - input-validation coerce # time=4.495ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - OPTIONS - input-validation custom schema compiler # time=4.528ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - OPTIONS - input-validation joi schema compiler ok # time=6.008ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - OPTIONS - input-validation joi schema compiler ko # time=7.196ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - OPTIONS - input-validation yup schema compiler ok # time=6.417ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - OPTIONS - input-validation yup schema compiler ko # time=5.514ms
    
    # Subtest: OPTIONS - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - OPTIONS - input-validation instance custom schema compiler encapsulated # time=3.932ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 26 - OPTIONS - input-validation custom schema compiler encapsulated # time=4.05ms
    
    ok 27 - type is object
    ok 28 - type is Request
    ok 29 - type is object
    ok 30 - type is Request
    ok 31 - type is object
    ok 32 - type is Request
    ok 33 - type is object
    ok 34 - type is Request
    ok 35 - type is object
    ok 36 - type is Request
    1..36
    # time=1479.914ms
ok 72 - test/options.error-handler.test.js # time=1479.914ms

# Subtest: test/options.test.js
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - OPTIONS can be created # time=9.567ms
    
    # Subtest: OPTIONS without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - OPTIONS without schema can be created # time=2.429ms
    
    # Subtest: OPTIONS with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - OPTIONS with body and querystring # time=1.832ms
    
    # Subtest: OPTIONS with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - OPTIONS with bodyLimit option # time=2.217ms
    
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - OPTIONS can be created # time=3.227ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - OPTIONS - correctly replies # time=83.904ms
    
    # Subtest: OPTIONS - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - OPTIONS - correctly replies with very large body # time=9.871ms
    
    # Subtest: OPTIONS - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - OPTIONS - correctly replies if the content type has the charset # time=6.026ms
    
    # Subtest: OPTIONS without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - OPTIONS without schema - correctly replies # time=5.686ms
    
    # Subtest: OPTIONS with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - OPTIONS with body and querystring - correctly replies # time=5.938ms
    
    # Subtest: OPTIONS with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - OPTIONS with no body - correctly replies # time=27.857ms
    
    # Subtest: OPTIONS returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - OPTIONS returns 415 - incorrect media type if body is not json # time=4.609ms
    
    # Subtest: OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text # time=5.761ms
    
    # Subtest: OPTIONS returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 14 - OPTIONS returns 400 - Bad Request # time=8.18ms
    
    # Subtest: OPTIONS returns 413 - Payload Too Large
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - OPTIONS returns 413 - Payload Too Large # time=7.473ms
    
    # Subtest: OPTIONS should fail with empty body and application/json content-type
        1..0
    ok 16 - OPTIONS should fail with empty body and application/json content-type # time=0.857ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - OPTIONS - correctly replies # time=5.197ms
    
    # Subtest: OPTIONS - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - OPTIONS - 400 on bad parameters # time=5.6ms
    
    # Subtest: OPTIONS - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - OPTIONS - input-validation coerce # time=4.911ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - OPTIONS - input-validation custom schema compiler # time=4.911ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - OPTIONS - input-validation joi schema compiler ok # time=6.656ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - OPTIONS - input-validation joi schema compiler ko # time=6.947ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - OPTIONS - input-validation yup schema compiler ok # time=7.013ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - OPTIONS - input-validation yup schema compiler ko # time=6.136ms
    
    # Subtest: OPTIONS - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - OPTIONS - input-validation instance custom schema compiler encapsulated # time=4.322ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 26 - OPTIONS - input-validation custom schema compiler encapsulated # time=4.591ms
    
    1..26
    # time=1189.006ms
ok 73 - test/options.test.js # time=1189.006ms

# Subtest: test/output-validation.test.js
    # Subtest: shorthand - output string
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - output string # time=10.343ms
    
    # Subtest: shorthand - output number
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - output number # time=2.582ms
    
    # Subtest: wrong object for schema - output
        1..1
        ok 1 - (unnamed test)
    ok 3 - wrong object for schema - output # time=2.639ms
    
    # Subtest: empty response
        1..1
        ok 1 - (unnamed test)
    ok 4 - empty response # time=2.295ms
    
    # Subtest: unlisted response code
        1..1
        ok 1 - (unnamed test)
    ok 5 - unlisted response code # time=2.136ms
    
    ok 6 - should not error
    # Subtest: shorthand - string get ok
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - shorthand - string get ok # time=32.352ms
    
    # Subtest: shorthand - number get ok
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 8 - shorthand - number get ok # time=6.238ms
    
    # Subtest: shorthand - wrong-object-for-schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 9 - shorthand - wrong-object-for-schema # time=6.348ms
    
    # Subtest: shorthand - empty
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - shorthand - empty # time=4.06ms
    
    # Subtest: shorthand - 400
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - shorthand - 400 # time=4.675ms
    
    1..11
    # time=223.122ms
ok 74 - test/output-validation.test.js # time=223.122ms

# Subtest: test/patch.error-handler.test.js
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PATCH can be created # time=9.212ms
    
    # Subtest: PATCH without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PATCH without schema can be created # time=1.912ms
    
    # Subtest: PATCH with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PATCH with body and querystring # time=1.827ms
    
    # Subtest: PATCH with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PATCH with bodyLimit option # time=1.969ms
    
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - PATCH can be created # time=3.021ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - PATCH - correctly replies # time=55.282ms
    
    # Subtest: PATCH - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - PATCH - correctly replies with very large body # time=15.289ms
    
    # Subtest: PATCH - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - PATCH - correctly replies if the content type has the charset # time=6.002ms
    
    # Subtest: PATCH without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - PATCH without schema - correctly replies # time=5.571ms
    
    # Subtest: PATCH with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - PATCH with body and querystring - correctly replies # time=5.879ms
    
    # Subtest: PATCH with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - PATCH with no body - correctly replies # time=26.799ms
    
    # Subtest: PATCH returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - PATCH returns 415 - incorrect media type if body is not json # time=6.36ms
    
    # Subtest: PATCH returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 13 - PATCH returns 400 - Bad Request # time=8.496ms
    
    # Subtest: PATCH returns 413 - Payload Too Large
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 14 - PATCH returns 413 - Payload Too Large # time=15.585ms
    
    # Subtest: PATCH should fail with empty body and application/json content-type
        1..12
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
    ok 15 - PATCH should fail with empty body and application/json content-type # time=24.533ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - PATCH - correctly replies # time=5.45ms
    
    # Subtest: PATCH - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - PATCH - 400 on bad parameters # time=5.074ms
    
    # Subtest: PATCH - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - PATCH - input-validation coerce # time=4.566ms
    
    # Subtest: PATCH - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - PATCH - input-validation custom schema compiler # time=4.676ms
    
    # Subtest: PATCH - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - PATCH - input-validation joi schema compiler ok # time=6.443ms
    
    # Subtest: PATCH - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - PATCH - input-validation joi schema compiler ko # time=6.061ms
    
    # Subtest: PATCH - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - PATCH - input-validation yup schema compiler ok # time=5.654ms
    
    # Subtest: PATCH - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - PATCH - input-validation yup schema compiler ko # time=5.571ms
    
    # Subtest: PATCH - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - PATCH - input-validation instance custom schema compiler encapsulated # time=3.958ms
    
    # Subtest: PATCH - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - PATCH - input-validation custom schema compiler encapsulated # time=4.336ms
    
    ok 26 - type is object
    ok 27 - type is Request
    ok 28 - type is object
    ok 29 - type is Request
    ok 30 - type is object
    ok 31 - type is Request
    ok 32 - type is object
    ok 33 - type is Request
    ok 34 - type is object
    ok 35 - type is Request
    ok 36 - type is object
    ok 37 - type is Request
    ok 38 - type is object
    ok 39 - type is Request
    ok 40 - type is object
    ok 41 - type is Request
    ok 42 - type is object
    ok 43 - type is Request
    ok 44 - type is object
    ok 45 - type is Request
    ok 46 - type is object
    ok 47 - type is Request
    ok 48 - type is object
    ok 49 - type is Request
    1..49
    # time=1048.309ms
ok 75 - test/patch.error-handler.test.js # time=1048.309ms

# Subtest: test/patch.test.js
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PATCH can be created # time=8.957ms
    
    # Subtest: PATCH without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PATCH without schema can be created # time=1.812ms
    
    # Subtest: PATCH with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PATCH with body and querystring # time=1.381ms
    
    # Subtest: PATCH with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PATCH with bodyLimit option # time=1.656ms
    
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - PATCH can be created # time=2.6ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - PATCH - correctly replies # time=58.807ms
    
    # Subtest: PATCH - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - PATCH - correctly replies with very large body # time=9.719ms
    
    # Subtest: PATCH - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - PATCH - correctly replies if the content type has the charset # time=5.658ms
    
    # Subtest: PATCH without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - PATCH without schema - correctly replies # time=5.216ms
    
    # Subtest: PATCH with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - PATCH with body and querystring - correctly replies # time=5.439ms
    
    # Subtest: PATCH with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - PATCH with no body - correctly replies # time=32.618ms
    
    # Subtest: PATCH returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - PATCH returns 415 - incorrect media type if body is not json # time=5.683ms
    
    # Subtest: PATCH returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 13 - PATCH returns 400 - Bad Request # time=7.298ms
    
    # Subtest: PATCH returns 413 - Payload Too Large
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 14 - PATCH returns 413 - Payload Too Large # time=13.598ms
    
    # Subtest: PATCH should fail with empty body and application/json content-type
        1..12
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
    ok 15 - PATCH should fail with empty body and application/json content-type # time=19.09ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - PATCH - correctly replies # time=4.681ms
    
    # Subtest: PATCH - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - PATCH - 400 on bad parameters # time=4.64ms
    
    # Subtest: PATCH - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - PATCH - input-validation coerce # time=4.14ms
    
    # Subtest: PATCH - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - PATCH - input-validation custom schema compiler # time=4.033ms
    
    # Subtest: PATCH - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - PATCH - input-validation joi schema compiler ok # time=5.618ms
    
    # Subtest: PATCH - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - PATCH - input-validation joi schema compiler ko # time=5.239ms
    
    # Subtest: PATCH - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - PATCH - input-validation yup schema compiler ok # time=5.011ms
    
    # Subtest: PATCH - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - PATCH - input-validation yup schema compiler ko # time=4.976ms
    
    # Subtest: PATCH - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - PATCH - input-validation instance custom schema compiler encapsulated # time=3.545ms
    
    # Subtest: PATCH - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - PATCH - input-validation custom schema compiler encapsulated # time=3.613ms
    
    1..25
    # time=993.573ms
ok 76 - test/patch.test.js # time=993.573ms

# Subtest: test/plugin.test.js
    # Subtest: require a plugin
        1..1
        ok 1 - expect truthy value
    ok 1 - require a plugin # time=94.636ms
    
    # Subtest: plugin metadata - ignore prefix
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 2 - plugin metadata - ignore prefix # time=46.823ms
    
    # Subtest: plugin metadata - naming plugins
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 3 - plugin metadata - naming plugins # time=8.968ms
    
    # Subtest: fastify.register with fastify-plugin should not encapsulate his code
        1..10
        ok 1 - expect falsey value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 4 - fastify.register with fastify-plugin should not encapsulate his code # time=37.426ms
    
    # Subtest: fastify.register with fastify-plugin should provide access to external fastify instance if opts argument is a function
        1..22
        ok 1 - expect falsey value
        ok 2 - expect falsey value
        ok 3 - expect falsey value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect falsey value
        ok 10 - expect truthy value
        ok 11 - expect falsey value
        ok 12 - expect truthy value
        ok 13 - expect truthy value
        ok 14 - should be equal
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - should not error
        ok 18 - expect truthy value
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equal
        ok 22 - should be equivalent
    ok 5 - fastify.register with fastify-plugin should provide access to external fastify instance if opts argument is a function # time=25.383ms
    
    # Subtest: fastify.register with fastify-plugin registers fastify level plugins
        1..15
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should not error
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equivalent
    ok 6 - fastify.register with fastify-plugin registers fastify level plugins # time=17.947ms
    
    # Subtest: check dependencies - should not throw
        1..12
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - should not error
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
    ok 7 - check dependencies - should not throw # time=12.99ms
    
    # Subtest: check dependencies - should throw
        1..12
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - should not error
        ok 7 - expect truthy value
        ok 8 - expect falsey value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
    ok 8 - check dependencies - should throw # time=16.025ms
    
    # Subtest: set the plugin name based on the plugin displayName symbol
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
    ok 9 - set the plugin name based on the plugin displayName symbol # time=7.514ms
    
    # Subtest: plugin name will change when using no encapsulation
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
    ok 10 - plugin name will change when using no encapsulation # time=6.889ms
    
    # Subtest: plugin name is undefined when accessing in no plugin context
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 11 - plugin name is undefined when accessing in no plugin context # time=11.849ms
    
    # Subtest: set the plugin name based on the plugin function name
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 12 - set the plugin name based on the plugin function name # time=10.613ms
    
    # Subtest: approximate a plugin name when no meta data is available
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
    ok 13 - approximate a plugin name when no meta data is available # time=17.879ms
    
    # Subtest: approximate a plugin name also when fastify-plugin has no meta data
        1..4
        ok 1 - should match pattern provided
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should not error
    ok 14 - approximate a plugin name also when fastify-plugin has no meta data # time=7.607ms
    
    # Subtest: plugin encapsulation
        1..10
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 15 - plugin encapsulation # time=23.351ms
    
    # Subtest: if a plugin raises an error and there is not a callback to handle it, the server must not start
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 16 - if a plugin raises an error and there is not a callback to handle it, the server must not start # time=4.76ms
    
    # Subtest: add hooks after route declaration
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 17 - add hooks after route declaration # time=30.706ms
    
    # Subtest: nested plugins
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 18 - nested plugins # time=18.015ms
    
    # Subtest: nested plugins awaited
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 19 - nested plugins awaited # time=14.755ms
    
    # Subtest: plugin metadata - decorators
        1..1
        ok 1 - expect truthy value
    ok 20 - plugin metadata - decorators # time=7.269ms
    
    # Subtest: plugin metadata - decorators - should throw
        1..1
        ok 1 - should be equal
    ok 21 - plugin metadata - decorators - should throw # time=2.75ms
    
    # Subtest: plugin metadata - decorators - should throw with plugin name
        1..1
        ok 1 - should be equal
    ok 22 - plugin metadata - decorators - should throw with plugin name # time=2.725ms
    
    # Subtest: plugin metadata - dependencies
        1..1
        ok 1 - everything right
    ok 23 - plugin metadata - dependencies # time=3.037ms
    
    # Subtest: plugin metadata - dependencies (nested)
        1..1
        ok 1 - everything right
    ok 24 - plugin metadata - dependencies (nested) # time=3.521ms
    
    # Subtest: pluginTimeout
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 25 - pluginTimeout # time=13.612ms
    
    # "pluginTimeout - named function" has `only` set but all tests run
    # Subtest: pluginTimeout - named function
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 26 - pluginTimeout - named function # time=13.503ms
    
    # Subtest: pluginTimeout default
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 27 - pluginTimeout default # time=-67175499.854ms
    
    # Subtest: plugin metadata - version
        1..1
        ok 1 - everything right
    ok 28 - plugin metadata - version # time=6.15ms
    
    # Subtest: plugin metadata - version range
        1..1
        ok 1 - everything right
    ok 29 - plugin metadata - version range # time=2.5ms
    
    # Subtest: plugin metadata - version not matching requirement
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 30 - plugin metadata - version not matching requirement # time=2.626ms
    
    # Subtest: plugin metadata - version not matching requirement 2
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 31 - plugin metadata - version not matching requirement 2 # time=2.391ms
    
    # Subtest: plugin metadata - version not matching requirement 3
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 32 - plugin metadata - version not matching requirement 3 # time=2.409ms
    
    # Subtest: plugin metadata - release candidate
        1..2
        ok 1 - should not error
        ok 2 - everything right
    ok 33 - plugin metadata - release candidate # time=3.811ms
    
    # Subtest: fastify-rc loads prior version plugins
        1..2
        ok 1 - should not error
        ok 2 - everything right
    ok 34 - fastify-rc loads prior version plugins # time=3.048ms
    
    # Subtest: hasPlugin method exists as a function
        1..1
        ok 1 - should be equal
    ok 35 - hasPlugin method exists as a function # time=0.979ms
    
    # Subtest: hasPlugin returns true if the specified plugin has been registered
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
    ok 36 - hasPlugin returns true if the specified plugin has been registered # time=4.982ms
    
    # Subtest: hasPlugin returns false if the specified plugin has not been registered
        1..1
        ok 1 - expect falsey value
    ok 37 - hasPlugin returns false if the specified plugin has not been registered # time=1.003ms
    
    # Subtest: hasPlugin returns false when using encapsulation
        1..25
        ok 1 - expect truthy value
        ok 2 - expect falsey value
        ok 3 - expect falsey value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect truthy value
        ok 8 - expect falsey value
        ok 9 - expect falsey value
        ok 10 - expect falsey value
        ok 11 - expect falsey value
        ok 12 - expect falsey value
        ok 13 - expect truthy value
        ok 14 - expect falsey value
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - expect falsey value
        ok 18 - expect falsey value
        ok 19 - expect truthy value
        ok 20 - expect falsey value
        ok 21 - expect falsey value
        ok 22 - expect falsey value
        ok 23 - expect falsey value
        ok 24 - expect falsey value
        ok 25 - expect truthy value
    ok 38 - hasPlugin returns false when using encapsulation # time=16.948ms
    
    # Subtest: hasPlugin returns true when using no encapsulation
        1..26
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect falsey value
        ok 10 - expect falsey value
        ok 11 - expect falsey value
        ok 12 - expect truthy value
        ok 13 - expect truthy value
        ok 14 - expect truthy value
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - expect truthy value
        ok 18 - expect truthy value
        ok 19 - expect truthy value
        ok 20 - expect truthy value
        ok 21 - expect falsey value
        ok 22 - expect truthy value
        ok 23 - expect truthy value
        ok 24 - expect truthy value
        ok 25 - expect truthy value
        ok 26 - expect truthy value
    ok 39 - hasPlugin returns true when using no encapsulation # time=7.207ms
    
    1..39
    # time=553.812ms
ok 77 - test/plugin.test.js # time=553.812ms

# Subtest: test/pretty-print.test.js
    # Subtest: pretty print - static routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - pretty print - static routes # time=49.495ms
    
    # Subtest: pretty print - parametric routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - pretty print - parametric routes # time=7.288ms
    
    # Subtest: pretty print - mixed parametric routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 3 - pretty print - mixed parametric routes # time=7.493ms
    
    # Subtest: pretty print - wildcard routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - pretty print - wildcard routes # time=15.223ms
    
    # Subtest: pretty print - empty plugins
        1..2
        ok 1 - should be equal
        ok 2 - should match pattern provided
    ok 5 - pretty print - empty plugins # time=15.741ms
    
    # Subtest: pretty print - nested plugins
        1..4
        ok 1 - should be equal
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
    ok 6 - pretty print - nested plugins # time=18.089ms
    
    # Subtest: pretty print - commonPrefix
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 7 - pretty print - commonPrefix # time=25.12ms
    
    # Subtest: pretty print - includeMeta, includeHooks
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 8 - pretty print - includeMeta, includeHooks # time=26.213ms
    
    1..8
    # time=190.323ms
ok 78 - test/pretty-print.test.js # time=190.323ms

# Subtest: test/promises.test.js
    ok 1 - should not error
    # Subtest: shorthand - sget return promise es6 get
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - shorthand - sget return promise es6 get # time=43.808ms
    
    # Subtest: shorthand - sget promise es6 get return error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 3 - shorthand - sget promise es6 get return error # time=8.32ms
    
    # Subtest: sget promise double send
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 4 - sget promise double send # time=6.424ms
    
    # Subtest: thenable
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 5 - thenable # time=6.599ms
    
    # Subtest: thenable (error)
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 6 - thenable (error) # time=4.691ms
    
    # Subtest: return-reply
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - return-reply # time=5.352ms
    
    1..7
    # time=137.428ms
ok 79 - test/promises.test.js # time=137.428ms

# Subtest: test/proto-poisoning.test.js
    # Subtest: proto-poisoning error
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 1 - proto-poisoning error # time=66.186ms
    
    # Subtest: proto-poisoning remove
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 2 - proto-poisoning remove # time=12.299ms
    
    # Subtest: proto-poisoning ignore
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 3 - proto-poisoning ignore # time=13.368ms
    
    # Subtest: constructor-poisoning error (default in v3)
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 4 - constructor-poisoning error (default in v3) # time=8.718ms
    
    # Subtest: constructor-poisoning error
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 5 - constructor-poisoning error # time=8.67ms
    
    # Subtest: constructor-poisoning remove
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 6 - constructor-poisoning remove # time=16.357ms
    
    1..6
    # time=136.544ms
ok 80 - test/proto-poisoning.test.js # time=136.544ms

./VariantsPureDep/fastify/variant7/fastify

> fastify@4.3.0 test
> npm run lint && npm run unit && npm run test:typescript


> fastify@4.3.0 lint
> npm run lint:standard && npm run lint:typescript && npm run lint:markdown


> fastify@4.3.0 lint:standard
> standard | snazzy


> fastify@4.3.0 lint:typescript
> eslint -c types/.eslintrc.json types/**/*.d.ts test/types/**/*.test-d.ts

./VariantsPureDep/fastify/variant6/fastify

> fastify@4.3.0 test
> npm run lint && npm run unit && npm run test:typescript

-----------------------------|---------|----------|---------|---------|-----------------------------
File                         | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s           
-----------------------------|---------|----------|---------|---------|-----------------------------
All files                    |   92.78 |    92.03 |    92.3 |   92.91 |                             
 fastify                     |   85.23 |    88.12 |   82.14 |    84.9 |                             
  fastify.js                 |   85.23 |    88.12 |   82.14 |    84.9 | ...,676-695,721-724,732-743 
 fastify/lib                 |   93.85 |    92.55 |   94.23 |   94.06 |                             
  contentTypeParser.js       |    97.8 |    99.15 |     100 |   97.64 | 233-236                     
  context.js                 |     100 |      100 |     100 |     100 |                             
  decorate.js                |   98.21 |    98.03 |     100 |   98.07 | 41                          
  error-handler.js           |    94.2 |    93.61 |     100 |    94.2 | 108-110,118                 
  errors.js                  |     100 |      100 |     100 |     100 |                             
  fourOhFour.js              |     100 |      100 |     100 |     100 |                             
  handleRequest.js           |   98.48 |    98.03 |     100 |   98.41 | 97                          
  headRoute.js               |      20 |     12.5 |   33.33 |   14.28 | 4-21,26                     
  hooks.js                   |     100 |      100 |     100 |     100 |                             
  initialConfigValidation.js |     100 |      100 |     100 |     100 |                             
  logger.js                  |     100 |      100 |     100 |     100 |                             
  noop-set.js                |     100 |      100 |     100 |     100 |                             
  pluginOverride.js          |   97.56 |       90 |     100 |    97.5 | 75                          
  pluginUtils.js             |     100 |      100 |     100 |     100 |                             
  reply.js                   |    87.7 |    84.86 |   88.88 |   88.76 | ...-618,622-627,648-654,659 
  reqIdGenFactory.js         |     100 |      100 |     100 |     100 |                             
  request.js                 |   87.96 |    90.62 |      80 |   89.42 | 45-54,157-167,206,211       
  route.js                   |   88.84 |    88.04 |     100 |   88.69 | ...,355-362,396-397,461,465 
  schema-controller.js       |    92.3 |    79.41 |   84.61 |    92.3 | 23,58,71                    
  schemas.js                 |   92.64 |    93.65 |   88.88 |   94.02 | 28,32,43,147                
  server.js                  |     100 |      100 |     100 |     100 |                             
  symbols.js                 |     100 |      100 |     100 |     100 |                             
  validation.js              |   98.55 |    96.55 |     100 |   98.43 | 22                          
  warnings.js                |     100 |      100 |     100 |     100 |                             
  wrapThenable.js            |   93.33 |       90 |     100 |   93.33 | 11                          
-----------------------------|---------|----------|---------|---------|-----------------------------

> fastify@4.3.0 lint
> npm run lint:standard && npm run lint:typescript && npm run lint:markdown


> fastify@4.3.0 lint:standard
> standard | snazzy


> fastify@4.3.0 lint:typescript
> eslint -c types/.eslintrc.json types/**/*.d.ts test/types/**/*.test-d.ts


> fastify@4.3.0 lint:markdown
> markdownlint-cli2

markdownlint-cli2 v0.4.0 (markdownlint v0.25.1)

> fastify@4.3.0 unit
> tap

TAP version 13
# Subtest: test/404s.test.js
    # Subtest: default 404
        1..4
        ok 1 - should not error
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - unsupported method # time=29.8ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - framework-unsupported method # time=7.487ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - unsupported route # time=5.166ms
        
    ok 1 - default 404 # time=200.993ms
    
    # Subtest: customized 404
        1..6
        ok 1 - should not error
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - unsupported method # time=11.675ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - framework-unsupported method # time=4.613ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - unsupported route # time=3.993ms
        
        # Subtest: with error object
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - with error object # time=9.648ms
        
        # Subtest: error object with headers property
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 6 - error object with headers property # time=5.655ms
        
    ok 2 - customized 404 # time=49.467ms
    
    # Subtest: custom header in notFound handler
        1..2
        ok 1 - should not error
        # Subtest: not found with custom header
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
        ok 2 - not found with custom header # time=6.148ms
        
    ok 3 - custom header in notFound handler # time=25.985ms
    
    # Subtest: setting a custom 404 handler multiple times is an error
        1..5
        # Subtest: at the root level
            1..2
            ok 1 - type is Error
            ok 2 - should be equal
        ok 1 - at the root level # time=2.697ms
        
        # Subtest: at the plugin level
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 2 - at the plugin level # time=36.577ms
        
        # Subtest: at multiple levels
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 3 - at multiple levels # time=17.591ms
        
        # Subtest: at multiple levels / 2
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 4 - at multiple levels / 2 # time=28.303ms
        
        # Subtest: in separate plugins at the same level
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 5 - in separate plugins at the same level # time=13.818ms
        
    ok 4 - setting a custom 404 handler multiple times is an error # time=111.194ms
    
    # Subtest: encapsulated 404
        1..13
        ok 1 - should not error
        # Subtest: root unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - root unsupported method # time=19.34ms
        
        # Subtest: root framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - root framework-unsupported method # time=5.005ms
        
        # Subtest: root unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - root unsupported route # time=4.898ms
        
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 5 - unsupported method # time=5.555ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 6 - framework-unsupported method # time=4.996ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 7 - unsupported route # time=4.445ms
        
        # Subtest: unsupported method 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 8 - unsupported method 2 # time=5.112ms
        
        # Subtest: framework-unsupported method 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 9 - framework-unsupported method 2 # time=4.812ms
        
        # Subtest: unsupported route 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 10 - unsupported route 2 # time=4.639ms
        
        # Subtest: unsupported method 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 11 - unsupported method 3 # time=5.042ms
        
        # Subtest: framework-unsupported method 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 12 - framework-unsupported method 3 # time=4.511ms
        
        # Subtest: unsupported route 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 13 - unsupported route 3 # time=4.535ms
        
    ok 5 - encapsulated 404 # time=132.905ms
    
    # Subtest: custom 404 hook and handler context
        1..21
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should not error
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equal
    ok 6 - custom 404 hook and handler context # time=52.64ms
    
    # Subtest: encapsulated custom 404 without - prefix hook and handler context
        1..13
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equal
    ok 7 - encapsulated custom 404 without - prefix hook and handler context # time=12.128ms
    
    # Subtest: run hooks on default 404
        1..7
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - preHandler called
        ok 4 - onSend called
        ok 5 - onResponse called
        ok 6 - should not error
        ok 7 - should be equal
    ok 8 - run hooks on default 404 # time=25.488ms
    
    # Subtest: run non-encapsulated plugin hooks on default 404
        1..6
        ok 1 - onRequest called
        ok 2 - preHandler called
        ok 3 - onSend called
        ok 4 - onResponse called
        ok 5 - should not error
        ok 6 - should be equal
    ok 9 - run non-encapsulated plugin hooks on default 404 # time=10.463ms
    
    # Subtest: run non-encapsulated plugin hooks on custom 404
        1..11
        ok 1 - onRequest called
        ok 2 - onRequest called
        ok 3 - preHandler called
        ok 4 - preHandler called
        ok 5 - onSend called
        ok 6 - onSend called
        ok 7 - onResponse called
        ok 8 - onResponse called
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
    ok 10 - run non-encapsulated plugin hooks on custom 404 # time=14.196ms
    
    # Subtest: run hook with encapsulated 404
        1..11
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - onRequest 2 called
        ok 4 - preHandler called
        ok 5 - preHandler 2 called
        ok 6 - onSend called
        ok 7 - onSend 2 called
        ok 8 - onResponse called
        ok 9 - onResponse 2 called
        ok 10 - should not error
        ok 11 - should be equal
    ok 11 - run hook with encapsulated 404 # time=15.127ms
    
    # Subtest: run hook with encapsulated 404 and framework-unsupported method
        1..11
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - onRequest 2 called
        ok 4 - preHandler called
        ok 5 - preHandler 2 called
        ok 6 - onSend called
        ok 7 - onSend 2 called
        ok 8 - onResponse called
        ok 9 - onResponse 2 called
        ok 10 - should not error
        ok 11 - should be equal
    ok 12 - run hook with encapsulated 404 and framework-unsupported method # time=14.814ms
    
    # Subtest: hooks check 404
        1..13
        ok 1 - should not error
        ok 2 - onRequest
        ok 3 - should be equivalent
        ok 4 - onSend
        ok 5 - onResponse
        ok 6 - onRequest
        ok 7 - should be equivalent
        ok 8 - onSend
        ok 9 - onResponse
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should not error
        ok 13 - should be equal
    ok 13 - hooks check 404 # time=17.754ms
    
    # Subtest: setNotFoundHandler should not suppress duplicated routes checking
        1..1
        ok 1 - expect truthy value
    ok 14 - setNotFoundHandler should not suppress duplicated routes checking # time=3.602ms
    
    # Subtest: log debug for 404
        1..1
        # Subtest: log debug
            1..7
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
        ok 1 - log debug # time=8.097ms
        
    ok 15 - log debug for 404 # time=15.122ms
    
    # Subtest: Unknown method
        1..5
        ok 1 - should not error
        ok 2 - expected to throw
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent strictly
    ok 16 - Unknown method # time=16.186ms
    
    # Subtest: recognizes errors from the http-errors module
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent strictly
    ok 17 - recognizes errors from the http-errors module # time=17.817ms
    
    # Subtest: the default 404 handler can be invoked inside a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
    ok 18 - the default 404 handler can be invoked inside a prefixed plugin # time=7.467ms
    
    # Subtest: an inherited custom 404 handler can be invoked inside a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - an inherited custom 404 handler can be invoked inside a prefixed plugin # time=7.279ms
    
    # Subtest: encapsulated custom 404 handler without a prefix is the handler for the entire 404 level
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 20 - encapsulated custom 404 handler without a prefix is the handler for the entire 404 level # time=16.013ms
    
    # Subtest: cannot set notFoundHandler after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 21 - cannot set notFoundHandler after binding # time=7.42ms
    
    # Subtest: 404 inside onSend
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 22 - 404 inside onSend # time=6.839ms
    
    # Subtest: onSend hooks run when an encapsulated route invokes the notFound handler
        1..3
        ok 1 - onSend hook called
        ok 2 - should not error
        ok 3 - should be equal
    ok 23 - onSend hooks run when an encapsulated route invokes the notFound handler # time=5.67ms
    
    # Subtest: preHandler option for setNotFoundHandler
        1..10
        # Subtest: preHandler option
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 1 - preHandler option # time=49.114ms
        
        # Subtest: preHandler hook in setNotFoundHandler should be called when callNotFound
            1..3
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 2 - preHandler hook in setNotFoundHandler should be called when callNotFound # time=6.362ms
        
        # Subtest: preHandler hook in setNotFoundHandler should accept an array of functions and be called when callNotFound
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 3 - preHandler hook in setNotFoundHandler should accept an array of functions and be called when callNotFound # time=5.126ms
        
        # Subtest: preHandler option should be called after preHandler hook
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 4 - preHandler option should be called after preHandler hook # time=5.635ms
        
        # Subtest: preHandler option should be unique per prefix
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 5 - preHandler option should be unique per prefix # time=14.11ms
        
        # Subtest: preHandler option should handle errors
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 6 - preHandler option should handle errors # time=5.102ms
        
        # Subtest: preHandler option should handle errors with custom status code
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 7 - preHandler option should handle errors with custom status code # time=5.12ms
        
        # Subtest: preHandler option could accept an array of functions
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 8 - preHandler option could accept an array of functions # time=4.395ms
        
        # Subtest: preHandler option does not interfere with preHandler
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 9 - preHandler option does not interfere with preHandler # time=8.623ms
        
        # Subtest: preHandler option should keep the context
            1..3
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 10 - preHandler option should keep the context # time=4.688ms
        
    ok 24 - preHandler option for setNotFoundHandler # time=120.065ms
    
    # Subtest: reply.notFound invoked the notFound handler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - reply.notFound invoked the notFound handler # time=4.704ms
    
    # Subtest: The custom error handler should be invoked after the custom not found handler
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - type is Error
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 26 - The custom error handler should be invoked after the custom not found handler # time=6.21ms
    
    # Subtest: If the custom not found handler does not use an Error, the custom error handler should not be called
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 27 - If the custom not found handler does not use an Error, the custom error handler should not be called # time=4.332ms
    
    # Subtest: preValidation option
        1..3
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 28 - preValidation option # time=4.971ms
    
    # Subtest: preValidation option could accept an array of functions
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 29 - preValidation option could accept an array of functions # time=5.193ms
    
    # Subtest: Should fail to invoke callNotFound inside a 404 handler
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 30 - Should fail to invoke callNotFound inside a 404 handler # time=7.207ms
    
    # Subtest: 400 in case of bad url (pre find-my-way v2.2.0 was a 404)
        # Subtest: Dynamic route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 1 - Dynamic route # time=19.943ms
        
        # Subtest: Wildcard
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - Wildcard # time=6.009ms
        
        # Subtest: No route registered
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - No route registered # time=5.628ms
        
        # Subtest: Only / is registered
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - Only / is registered # time=14.766ms
        
        # Subtest: customized 404
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - customized 404 # time=13.479ms
        
        1..5
    ok 31 - 400 in case of bad url (pre find-my-way v2.2.0 was a 404) # time=85.012ms
    
    # Subtest: setNotFoundHandler should be chaining fastify instance
        # Subtest: Register route after setNotFoundHandler
            1..6
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should not error
            ok 5 - should be equal
            ok 6 - should be equal
        ok 1 - Register route after setNotFoundHandler # time=14.52ms
        
        1..1
    ok 32 - setNotFoundHandler should be chaining fastify instance # time=19.395ms
    
    # Subtest: Send 404 when frameworkError calls reply.callNotFound
        # Subtest: Dynamic route
            1..4
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 1 - Dynamic route # time=5.205ms
        
        1..1
    ok 33 - Send 404 when frameworkError calls reply.callNotFound # time=18.115ms
    
    1..33
    # time=1092.14ms
ok 1 - test/404s.test.js # time=1092.14ms

# Subtest: test/500s.test.js
    # Subtest: default 500
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - default 500 # time=96.346ms
    
    # Subtest: custom 500
        1..6
        ok 1 - type is object
        ok 2 - type is Request
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 2 - custom 500 # time=8.805ms
    
    # Subtest: encapsulated 500
        1..10
        ok 1 - type is object
        ok 2 - type is Request
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 3 - encapsulated 500 # time=30.965ms
    
    # Subtest: custom 500 with hooks
        1..7
        ok 1 - onRequest
        ok 2 - onSend
        ok 3 - onResponse
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 4 - custom 500 with hooks # time=13.617ms
    
    # Subtest: cannot set errorHandler after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 5 - cannot set errorHandler after binding # time=20.086ms
    
    1..5
    # time=178.796ms
ok 2 - test/500s.test.js # time=178.796ms

# Subtest: test/allowUnsafeRegex.test.js
    # Subtest: allow unsafe regex
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - allow unsafe regex # time=66.832ms
    
    # Subtest: allow unsafe regex not match
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 2 - allow unsafe regex not match # time=11.758ms
    
    # Subtest: allow unsafe regex not safe
        1..1
        ok 1 - expected to throw
    ok 3 - allow unsafe regex not safe # time=86.987ms
    
    # Subtest: allow unsafe regex not safe by default
        1..1
        ok 1 - expected to throw
    ok 4 - allow unsafe regex not safe by default # time=2.924ms
    
    # Subtest: allow unsafe regex allow unsafe
        1..5
        ok 1 - expected to not throw
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 5 - allow unsafe regex allow unsafe # time=20.16ms
    
    1..5
    # time=228.532ms
ok 3 - test/allowUnsafeRegex.test.js # time=228.532ms

# Subtest: test/als.test.js
    ok 1 - should not error
    ok 2 - expect truthy value
    ok 3 - should not error
    ok 4 - should be equal
    ok 5 - should be equivalent
    ok 6 - expect truthy value
    ok 7 - should not error
    ok 8 - should be equal
    ok 9 - should be equivalent
    ok 10 - expect truthy value
    ok 11 - should not error
    ok 12 - should be equal
    ok 13 - should be equivalent
    1..13
    # time=53.039ms
ok 4 - test/als.test.js # time=53.039ms

# Subtest: test/async-await.test.js
    # Subtest: async await
        1..11
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 1 - async await # time=322.126ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (undefined)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 2 - ignore the result of the promise if reply.send is called beforehand (undefined) # time=13.867ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (object)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 3 - ignore the result of the promise if reply.send is called beforehand (object) # time=28.145ms
    
    # Subtest: server logs an error if reply.send is called and a value is returned via async/await
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 4 - server logs an error if reply.send is called and a value is returned via async/await # time=97.13ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (undefined)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 5 - ignore the result of the promise if reply.send is called beforehand (undefined) # time=10.498ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (object)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 6 - ignore the result of the promise if reply.send is called beforehand (object) # time=31.986ms
    
    # Subtest: await reply if we will be calling reply.send in the future
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 7 - await reply if we will be calling reply.send in the future # time=10.826ms
    
    # Subtest: await reply if we will be calling reply.send in the future (error case)
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 8 - await reply if we will be calling reply.send in the future (error case) # time=10.387ms
    
    # Subtest: support reply decorators with await
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 9 - support reply decorators with await # time=24.408ms
    
    # Subtest: inject async await
        1..1
        ok 1 - should be equivalent
    ok 10 - inject async await # time=13.691ms
    
    # Subtest: inject async await - when the server equal up
        1..2
        ok 1 - should be equivalent
        ok 2 - should be equivalent
    ok 11 - inject async await - when the server equal up # time=208.323ms
    
    # Subtest: async await plugin
        1..1
        ok 1 - should be equivalent
    ok 12 - async await plugin # time=216.425ms
    
    # Subtest: does not call reply.send() twice if 204 response equal already sent
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - does not call reply.send() twice if 204 response equal already sent # time=5.811ms
    
    # Subtest: promise was fulfilled with undefined
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - promise was fulfilled with undefined # time=8.061ms
    
    # Subtest: error is not logged because promise was fulfilled with undefined but response was sent before promise resolution
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 15 - error is not logged because promise was fulfilled with undefined but response was sent before promise resolution # time=8.924ms
    
    # Subtest: Thrown Error instance sets HTTP status code
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - Thrown Error instance sets HTTP status code # time=7.841ms
    
    # Subtest: customErrorHandler support
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 17 - customErrorHandler support # time=5.735ms
    
    # Subtest: customErrorHandler support without throwing
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - customErrorHandler support without throwing # time=4.684ms
    
    # Subtest: customErrorHandler only called if reply not already sent
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - customErrorHandler only called if reply not already sent # time=4.499ms
    
    # Subtest: setNotFoundHandler should accept return value
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - setNotFoundHandler should accept return value # time=6.361ms
    
    # Subtest: customErrorHandler should accept return value
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 21 - customErrorHandler should accept return value # time=5.408ms
    
    # Subtest: await self
        ok 1 - should be equal
        1..1
    ok 22 - await self # time=3.297ms
    
    1..22
    # time=1069.929ms
ok 5 - test/async-await.test.js # time=1069.929ms

# Subtest: test/bodyLimit.test.js
    # Subtest: bodyLimit
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should not error
        ok 5 - should be equal
    ok 1 - bodyLimit # time=58.203ms
    
    1..1
    # time=64.771ms
ok 6 - test/bodyLimit.test.js # time=64.771ms

# Subtest: test/build/error-serializer.test.js
    # Subtest: check generated code syntax
        1..1
        ok 1 - should be equal
    ok 1 - check generated code syntax # time=3958.27ms
    
    ok 2 - ensure the current error serializer is latest # SKIP
    1..2
    # skip: 1
    # time=4019.051ms
ok 7 - test/build/error-serializer.test.js # time=4019.051ms

# Subtest: test/build/version.test.js
    # Subtest: should be the same as package.json
        1..1
        ok 1 - should be equal
    ok 1 - should be the same as package.json # time=6.732ms
    
    1..1
    # time=13.107ms
ok 8 - test/build/version.test.js # time=13.107ms

# Subtest: test/case-insensitive.test.js
    # Subtest: case insensitive
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - case insensitive # time=70.688ms
    
    # Subtest: case insensitive inject
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - case insensitive inject # time=32.919ms
    
    # Subtest: case insensitive (parametric)
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 3 - case insensitive (parametric) # time=15.738ms
    
    # Subtest: case insensitive (wildcard)
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 4 - case insensitive (wildcard) # time=28.685ms
    
    1..4
    # time=167.834ms
ok 9 - test/case-insensitive.test.js # time=167.834ms

# Subtest: test/chainable.test.js
    # Subtest: chainable - get
        1..1
        ok 1 - type is [object Object]
    ok 1 - chainable - get # time=12.073ms
    
    # Subtest: chainable - post
        1..1
        ok 1 - type is [object Object]
    ok 2 - chainable - post # time=1.974ms
    
    # Subtest: chainable - route
        1..1
        ok 1 - type is [object Object]
    ok 3 - chainable - route # time=2.15ms
    
    1..3
    # time=28.003ms
ok 10 - test/chainable.test.js # time=28.003ms

# Subtest: test/close-pipelining.test.js
    # Subtest: Should return 503 while closing - pipelining
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        1..3
    ok 1 - Should return 503 while closing - pipelining # time=114.937ms
    
    # Subtest: Should not return 503 while closing - pipelining - return503OnClosing
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        1..3
    ok 2 - Should not return 503 while closing - pipelining - return503OnClosing # time=41.452ms
    
    1..2
    # time=168.6ms
ok 11 - test/close-pipelining.test.js # time=168.6ms

# Subtest: test/close.test.js
    # Subtest: close callback
        1..4
        ok 1 - should not error
        ok 2 - type is [object Object]
        ok 3 - should not error
        ok 4 - expect truthy value
    ok 1 - close callback # time=145.103ms
    
    # Subtest: inside register
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - expect truthy value
    ok 2 - inside register # time=30.136ms
    
    # Subtest: close order
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 3 - close order # time=40.184ms
    
    # Subtest: close order - async
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 4 - close order - async # time=27.609ms
    
    # Subtest: should not throw an error if the server is not listening
        1..2
        ok 1 - type is [object Object]
        ok 2 - should not error
    ok 5 - should not throw an error if the server is not listening # time=20.395ms
    
    # Subtest: onClose should keep the context
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
    ok 6 - onClose should keep the context # time=7.32ms
    
    # Subtest: Should return error while closing (promise) - injection
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 7 - Should return error while closing (promise) - injection # time=60.85ms
    
    # Subtest: Should return error while closing (callback) - injection
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 8 - Should return error while closing (callback) - injection # time=111.393ms
    
    # Subtest: Current opened connection should continue to work after closing and return "connection: close" header - return503OnClosing: false
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        1..5
    ok 9 - Current opened connection should continue to work after closing and return "connection: close" header - return503OnClosing: false # time=29.306ms
    
    # Subtest: Current opened connection should not accept new incoming connections
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 10 - Current opened connection should not accept new incoming connections # time=271.9ms
    
    # Subtest: Cannot be reopened the closed server without listen callback
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 11 - Cannot be reopened the closed server without listen callback # time=11.605ms
    
    # Subtest: Cannot be reopened the closed server has listen callback
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 12 - Cannot be reopened the closed server has listen callback # time=5.369ms
    
    ok 13 - shutsdown while keep-alive connections are active (non-async, native) # SKIP
    ok 14 - shutsdown while keep-alive connections are active (non-async, idle, native) # SKIP
    # Subtest: shutsdown while keep-alive connections are active (non-async, custom)
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 15 - shutsdown while keep-alive connections are active (non-async, custom) # time=10.833ms
    
    1..15
    # skip: 2
    # time=791.508ms
ok 12 - test/close.test.js # time=791.508ms

# Subtest: test/connectionTimeout.test.js
    # Subtest: connectionTimeout
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 1 - connectionTimeout # time=55.501ms
    
    1..1
    # time=64.853ms
ok 13 - test/connectionTimeout.test.js # time=64.853ms

# Subtest: test/constrained-routes.test.js
    # Subtest: Should register a host constrained route
        1..7
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 1 - Should register a host constrained route # time=97.09ms
    
    # Subtest: Should register the same route with host constraints
        1..8
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 2 - Should register the same route with host constraints # time=11.641ms
    
    # Subtest: Should allow registering custom constrained routes
        1..8
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 3 - Should allow registering custom constrained routes # time=26.208ms
    
    # Subtest: Should allow registering custom constrained routes outside constructor
        1..8
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 4 - Should allow registering custom constrained routes outside constructor # time=25.053ms
    
    # Subtest: Add a constraint strategy after fastify instance was started
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - Cannot add constraint strategy when fastify instance is already started!
    ok 5 - Add a constraint strategy after fastify instance was started # time=12.006ms
    
    # Subtest: Add a constraint strategy should throw an error if there already exist custom strategy with the same name
        1..1
        ok 1 - There already exists a custom constraint with the name secret.
    ok 6 - Add a constraint strategy should throw an error if there already exist custom strategy with the same name # time=1.538ms
    
    # Subtest: Add a constraint strategy shouldn't throw an error if default constraint with the same name isn't used
        1..1
        ok 1 - (unnamed test)
    ok 7 - Add a constraint strategy shouldn't throw an error if default constraint with the same name isn't used # time=1.287ms
    
    # Subtest: Add a constraint strategy should throw an error if default constraint with the same name is used
        1..1
        ok 1 - There already exists a route with version constraint.
    ok 8 - Add a constraint strategy should throw an error if default constraint with the same name is used # time=2.255ms
    
    # Subtest: The hasConstraintStrategy should return false for default constraints until they are used
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 9 - The hasConstraintStrategy should return false for default constraints until they are used # time=4.187ms
    
    # Subtest: The hasConstraintStrategy should return true if there already exist a custom constraint with the same name
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 10 - The hasConstraintStrategy should return true if there already exist a custom constraint with the same name # time=2.35ms
    
    # Subtest: Should allow registering an unconstrained route after a constrained route
        1..6
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
    ok 11 - Should allow registering an unconstrained route after a constrained route # time=8.418ms
    
    # Subtest: Should allow registering constrained routes in a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 12 - Should allow registering constrained routes in a prefixed plugin # time=23.254ms
    
    # Subtest: Should allow registering a constrained GET route after a constrained HEAD route
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 13 - Should allow registering a constrained GET route after a constrained HEAD route # time=9.442ms
    
    # Subtest: Should allow registering a constrained GET route after an unconstrained HEAD route
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 14 - Should allow registering a constrained GET route after an unconstrained HEAD route # time=13.451ms
    
    # Subtest: Will not try to re-createprefixed HEAD route if it already exists and exposeHeadRoutes is true for constrained routes
        1..1
        ok 1 - expect truthy value
    ok 15 - Will not try to re-createprefixed HEAD route if it already exists and exposeHeadRoutes is true for constrained routes # time=12.943ms
    
    # Subtest: allows separate constrained and unconstrained HEAD routes
        1..1
        ok 1 - expect truthy value
    ok 16 - allows separate constrained and unconstrained HEAD routes # time=5.127ms
    
    1..16
    # time=268.46ms
ok 14 - test/constrained-routes.test.js # time=268.46ms

# Subtest: test/content-length.test.js
    # Subtest: default 413 with bodyLimit option
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - default 413 with bodyLimit option # time=87.448ms
    
    # Subtest: default 400 with wrong content-length
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - default 400 with wrong content-length # time=13.286ms
    
    # Subtest: custom 413 with bodyLimit option
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 3 - custom 413 with bodyLimit option # time=14.218ms
    
    # Subtest: custom 400 with wrong content-length
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 4 - custom 400 with wrong content-length # time=6.486ms
    
    # Subtest: \#2214 - wrong content-length
        ok 1 - should be equal
        1..1
    ok 5 - \#2214 - wrong content-length # time=7.597ms
    
    # Subtest: \#2543 - wrong content-length with errorHandler
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 6 - \#2543 - wrong content-length with errorHandler # time=5.918ms
    
    1..6
    # time=145.236ms
ok 15 - test/content-length.test.js # time=145.236ms

# Subtest: test/content-parser.test.js
    # Subtest: hasContentTypeParser
        1..0
    ok 1 - hasContentTypeParser # time=13.249ms
    
    # Subtest: should know about internal parsers
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
    ok 2 - should know about internal parsers # time=40.759ms
    
    # Subtest: should work with string and RegExp
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect falsey value
    ok 3 - should work with string and RegExp # time=4.383ms
    
    # Subtest: getParser
        1..0
    ok 4 - getParser # time=86.746ms
    
    # Subtest: existingParser
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect falsey value
        1..7
    ok 5 - existingParser # time=13.76ms
    
    # Subtest: add
        1..0
    ok 6 - add # time=18.485ms
    
    # Subtest: non-Error thrown from content parser is properly handled
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 7 - non-Error thrown from content parser is properly handled # time=34.397ms
    
    # Subtest: Error thrown 415 from content type is null and make post request to server
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 8 - Error thrown 415 from content type is null and make post request to server # time=17.949ms
    
    # Subtest: remove
        1..0
    ok 9 - remove # time=28.277ms
    
    # Subtest: remove all should remove all existing parsers and reset cache
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
    ok 10 - remove all should remove all existing parsers and reset cache # time=5.37ms
    
    # Subtest: should return matching parser
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 11 - should return matching parser # time=2.309ms
    
    # Subtest: should return matching parser with caching
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 12 - should return matching parser with caching # time=1.964ms
    
    # Subtest: should prefer content type parser with string value
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 13 - should prefer content type parser with string value # time=2.258ms
    
    # Subtest: should return parser that catches all if no other is set
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 14 - should return parser that catches all if no other is set # time=2.965ms
    
    # Subtest: should return undefined if no matching parser exist
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 15 - should return undefined if no matching parser exist # time=2.257ms
    
    # Subtest: returns always false for "*"
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 16 - returns always false for "*" # time=1.578ms
    
    # Subtest: let you override the default parser once
        1..2
        ok 1 - Content type parser 'application/json' already present
        ok 2 - Content type parser 'text/plain' already present
    ok 17 - let you override the default parser once # time=4.886ms
    
    # Subtest: should only accept string and RegExp
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - The content type should be a string or a RegExp
        ok 4 - The content type should be a string or a RegExp
    ok 18 - should only accept string and RegExp # time=3.267ms
    
    # Subtest: should set "*" as parser that catches all
        1..1
        ok 1 - should be equal
    ok 19 - should set "*" as parser that catches all # time=1.283ms
    
    # Subtest: should remove default parser
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 20 - should remove default parser # time=1.458ms
    
    # Subtest: should remove RegExp parser
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 21 - should remove RegExp parser # time=1.456ms
    
    # Subtest: should throw an error if content type is neither string nor RegExp
        1..1
        ok 1 - expected to throw
    ok 22 - should throw an error if content type is neither string nor RegExp # time=1.655ms
    
    # Subtest: should not throw error if content type does not exist
        1..1
        ok 1 - expected to not throw
    ok 23 - should not throw error if content type does not exist # time=1.402ms
    
    # Subtest: should not remove any content type parser if content type does not exist
        1..1
        ok 1 - should be equivalent
    ok 24 - should not remove any content type parser if content type does not exist # time=1.838ms
    
    1..24
    # time=310.171ms
ok 16 - test/content-parser.test.js # time=310.171ms

# Subtest: test/context-config.test.js
    # Subtest: config
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 1 - config # time=81.259ms
    
    # Subtest: config with exposeHeadRoutes
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 2 - config with exposeHeadRoutes # time=16.28ms
    
    # Subtest: config without exposeHeadRoutes
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 3 - config without exposeHeadRoutes # time=31.741ms
    
    1..3
    # time=147.943ms
ok 17 - test/context-config.test.js # time=147.943ms

# Subtest: test/custom-http-server.test.js
    # Subtest: Should support a custom http server
        1..4
        ok 1 - it is called twice for every HOST interface
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - Should support a custom http server # time=69.545ms
    
    # Subtest: Should not allow forceCloseConnection=idle if the server does not support closeIdleConnections
        1..1
        ok 1 - Cannot set forceCloseConnections to 'idle' as your HTTP server does not support closeIdleConnections method
    ok 2 - Should not allow forceCloseConnection=idle if the server does not support closeIdleConnections # time=5.155ms
    
    1..2
    # time=85.063ms
ok 18 - test/custom-http-server.test.js # time=85.063ms

# Subtest: test/custom-parser-async.test.js
    # Subtest: contentTypeParser should add a custom async parser
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=33.38ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=7.993ms
        
    ok 1 - contentTypeParser should add a custom async parser # time=105.748ms
    
    1..1
    # time=111.162ms
ok 19 - test/custom-parser-async.test.js # time=111.162ms

# Subtest: test/custom-parser.test.js
    # Subtest: contentTypeParser method should exist
        1..1
        ok 1 - expect truthy value
    ok 1 - contentTypeParser method should exist # time=15.412ms
    
    # Subtest: contentTypeParser should add a custom parser
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=27.745ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=7.107ms
        
    ok 2 - contentTypeParser should add a custom parser # time=187.972ms
    
    # Subtest: contentTypeParser should handle multiple custom parsers
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 3 - contentTypeParser should handle multiple custom parsers # time=15.905ms
    
    # Subtest: contentTypeParser should handle an array of custom contentTypes
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 4 - contentTypeParser should handle an array of custom contentTypes # time=41.576ms
    
    # Subtest: contentTypeParser should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 5 - contentTypeParser should handle errors # time=13.206ms
    
    # Subtest: contentTypeParser should support encapsulation
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - expect falsey value
        ok 6 - expect falsey value
    ok 6 - contentTypeParser should support encapsulation # time=9.255ms
    
    # Subtest: contentTypeParser should support encapsulation, second try
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - contentTypeParser should support encapsulation, second try # time=29.431ms
    
    # Subtest: contentTypeParser shouldn't support request with undefined "Content-Type"
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 8 - contentTypeParser shouldn't support request with undefined "Content-Type" # time=14.504ms
    
    # Subtest: the content type should be a string or RegExp
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 9 - the content type should be a string or RegExp # time=2.496ms
    
    # Subtest: the content type cannot be an empty string
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 10 - the content type cannot be an empty string # time=2.778ms
    
    # Subtest: the content type handler should be a function
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 11 - the content type handler should be a function # time=2.555ms
    
    # Subtest: catch all content type parser
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 12 - catch all content type parser # time=27.323ms
    
    # Subtest: catch all content type parser should not interfere with other conte type parsers
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 13 - catch all content type parser should not interfere with other conte type parsers # time=21.164ms
    
    # Subtest: '*' catch undefined Content-Type requests
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - '*' catch undefined Content-Type requests # time=13.079ms
    
    # Subtest: cannot add custom parser after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 15 - cannot add custom parser after binding # time=34.822ms
    
    # Subtest: Can override the default json parser
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 16 - Can override the default json parser # time=40.378ms
    
    # Subtest: Can override the default plain text parser
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 17 - Can override the default plain text parser # time=23.93ms
    
    # Subtest: Can override the default json parser in a plugin
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 18 - Can override the default json parser in a plugin # time=22.604ms
    
    # Subtest: Can't override the json parser multiple times
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 19 - Can't override the json parser multiple times # time=2.266ms
    
    # Subtest: Can't override the plain text parser multiple times
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 20 - Can't override the plain text parser multiple times # time=2.45ms
    
    # Subtest: Should get the body as string
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 21 - Should get the body as string # time=16.569ms
    
    # Subtest: Should return defined body with no custom parser defined and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 22 - Should return defined body with no custom parser defined and content type = 'text/plain' # time=23.133ms
    
    # Subtest: Should have typeof body object with no custom parser defined, no body defined and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 23 - Should have typeof body object with no custom parser defined, no body defined and content type = 'text/plain' # time=16.131ms
    
    # Subtest: Should have typeof body object with no custom parser defined, null body and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 24 - Should have typeof body object with no custom parser defined, null body and content type = 'text/plain' # time=10.19ms
    
    # Subtest: Should have typeof body object with no custom parser defined, undefined body and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 25 - Should have typeof body object with no custom parser defined, undefined body and content type = 'text/plain' # time=7.911ms
    
    # Subtest: Should get the body as string
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 26 - Should get the body as string # time=8.121ms
    
    # Subtest: Should get the body as buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 27 - Should get the body as buffer # time=19.306ms
    
    # Subtest: Should get the body as buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 28 - Should get the body as buffer # time=8.556ms
    
    # Subtest: Should parse empty bodies as a string
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 29 - Should parse empty bodies as a string # time=47.498ms
    
    # Subtest: Should parse empty bodies as a buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 30 - Should parse empty bodies as a buffer # time=7.856ms
    
    # Subtest: The charset should not interfere with the content type handling
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 31 - The charset should not interfere with the content type handling # time=12.481ms
    
    # Subtest: Wrong parseAs parameter
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 32 - Wrong parseAs parameter # time=2.043ms
    
    # Subtest: Should allow defining the bodyLimit per parser
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent strictly
    ok 33 - Should allow defining the bodyLimit per parser # time=8.801ms
    
    # Subtest: route bodyLimit should take precedence over a custom parser bodyLimit
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent strictly
    ok 34 - route bodyLimit should take precedence over a custom parser bodyLimit # time=6.321ms
    
    # Subtest: should be able to use default parser for extra content type
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent strictly
    ok 35 - should be able to use default parser for extra content type # time=6.07ms
    
    # Subtest: contentTypeParser should add a custom parser with RegExp value
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=4.437ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=3.368ms
        
    ok 36 - contentTypeParser should add a custom parser with RegExp value # time=13.251ms
    
    # Subtest: contentTypeParser should add multiple custom parsers with RegExp values
        1..6
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 37 - contentTypeParser should add multiple custom parsers with RegExp values # time=32.969ms
    
    # Subtest: catch all content type parser should not interfere with content type parser
        1..10
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 38 - catch all content type parser should not interfere with content type parser # time=37.616ms
    
    # Subtest: should prefer string content types over RegExp ones
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 39 - should prefer string content types over RegExp ones # time=30.081ms
    
    # Subtest: removeContentTypeParser should support arrays of content types to remove
        1..8
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 40 - removeContentTypeParser should support arrays of content types to remove # time=10.943ms
    
    # Subtest: removeContentTypeParser should support encapsulation
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 41 - removeContentTypeParser should support encapsulation # time=11.239ms
    
    # Subtest: removeAllContentTypeParsers should support encapsulation
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 42 - removeAllContentTypeParsers should support encapsulation # time=11.371ms
    
    # Subtest: cannot remove all content type parsers after binding
        1..2
        ok 1 - should not error
        ok 2 - expected to throw
    ok 43 - cannot remove all content type parsers after binding # time=9.166ms
    
    # Subtest: cannot remove content type parsers after binding
        1..2
        ok 1 - should not error
        ok 2 - expected to throw
    ok 44 - cannot remove content type parsers after binding # time=2.7ms
    
    # Subtest: should be able to override the default json parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 45 - should be able to override the default json parser after removeAllContentTypeParsers # time=6.319ms
    
    # Subtest: should be able to override the default plain text parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 46 - should be able to override the default plain text parser after removeAllContentTypeParsers # time=6.522ms
    
    # Subtest: should be able to add a custom content type parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 47 - should be able to add a custom content type parser after removeAllContentTypeParsers # time=7.79ms
    
    1..47
    # time=950.833ms
ok 20 - test/custom-parser.test.js # time=950.833ms

# Subtest: test/custom-querystring-parser.test.js
    # Subtest: Custom querystring parser
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 1 - Custom querystring parser # time=93.608ms
    
    # Subtest: Custom querystring parser should be called also if there is nothing to parse
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 2 - Custom querystring parser should be called also if there is nothing to parse # time=13.555ms
    
    # Subtest: Querystring without value
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 3 - Querystring without value # time=26.73ms
    
    # Subtest: Custom querystring parser should be a function
        1..1
        ok 1 - should be equal
    ok 4 - Custom querystring parser should be a function # time=1.075ms
    
    1..4
    # time=152.867ms
ok 21 - test/custom-querystring-parser.test.js # time=152.867ms

# Subtest: test/decorator.test.js
    # Subtest: server methods should exist
        1..2
        ok 1 - expect truthy value
        ok 2 - expect truthy value
    ok 1 - server methods should exist # time=15.798ms
    
    # Subtest: should check if the given decoration already exist when null
        1..1
        ok 1 - expect truthy value
    ok 2 - should check if the given decoration already exist when null # time=82.524ms
    
    # Subtest: server methods should be encapsulated via .register
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 3 - server methods should be encapsulated via .register # time=7.63ms
    
    # Subtest: hasServerMethod should check if the given method already exist
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 4 - hasServerMethod should check if the given method already exist # time=17.613ms
    
    # Subtest: decorate should throw if a declared dependency is not present
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - (unnamed test)
    ok 5 - decorate should throw if a declared dependency is not present # time=16.17ms
    
    # Subtest: decorate should throw if declared dependency is not array
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - (unnamed test)
    ok 6 - decorate should throw if declared dependency is not array # time=5.975ms
    
    # Subtest: should pass error for missing request decorator
        1..2
        ok 1 - type is Error
        ok 2 - should match pattern provided
    ok 7 - should pass error for missing request decorator # time=6.788ms
    
    # Subtest: decorateReply inside register
        1..11
        ok 1 - should not error
        ok 2 - test exists
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 8 - decorateReply inside register # time=49.697ms
    
    # Subtest: decorateReply as plugin (inside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 9 - decorateReply as plugin (inside .after) # time=41.776ms
    
    # Subtest: decorateReply as plugin (outside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 10 - decorateReply as plugin (outside .after) # time=17.678ms
    
    # Subtest: decorateRequest inside register
        1..11
        ok 1 - should not error
        ok 2 - test exists
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 11 - decorateRequest inside register # time=19.543ms
    
    # Subtest: decorateRequest as plugin (inside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 12 - decorateRequest as plugin (inside .after) # time=20.418ms
    
    # Subtest: decorateRequest as plugin (outside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 13 - decorateRequest as plugin (outside .after) # time=15.699ms
    
    # Subtest: decorators should be instance separated
        1..1
        ok 1 - (unnamed test)
    ok 14 - decorators should be instance separated # time=4.263ms
    
    # Subtest: hasRequestDecorator
        # Subtest: is a function
            1..1
            ok 1 - expect truthy value
        ok 1 - is a function # time=1.291ms
        
        # Subtest: should check if the given request decoration already exist
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 2 - should check if the given request decoration already exist # time=1.892ms
        
        # Subtest: should check if the given request decoration already exist when null
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 3 - should check if the given request decoration already exist when null # time=1.914ms
        
        # Subtest: should be plugin encapsulable
            1..4
            ok 1 - expect falsey value
            ok 2 - expect falsey value
            ok 3 - expect truthy value
            ok 4 - expect falsey value
        ok 4 - should be plugin encapsulable # time=10.741ms
        
        # Subtest: should be inherited
            1..2
            ok 1 - expect truthy value
            ok 2 - expect truthy value
        ok 5 - should be inherited # time=14.96ms
        
        1..5
    ok 15 - hasRequestDecorator # time=51.913ms
    
    # Subtest: hasReplyDecorator
        # Subtest: is a function
            1..1
            ok 1 - expect truthy value
        ok 1 - is a function # time=1.335ms
        
        # Subtest: should check if the given reply decoration already exist
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 2 - should check if the given reply decoration already exist # time=1.622ms
        
        # Subtest: should check if the given reply decoration already exist when null
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 3 - should check if the given reply decoration already exist when null # time=1.569ms
        
        # Subtest: should be plugin encapsulable
            1..4
            ok 1 - expect falsey value
            ok 2 - expect falsey value
            ok 3 - expect truthy value
            ok 4 - expect falsey value
        ok 4 - should be plugin encapsulable # time=11.379ms
        
        # Subtest: should be inherited
            1..2
            ok 1 - expect truthy value
            ok 2 - expect truthy value
        ok 5 - should be inherited # time=12.012ms
        
        1..5
    ok 16 - hasReplyDecorator # time=142.374ms
    
    # Subtest: should register properties via getter/setter objects
        1..3
        ok 1 - expect truthy value
        ok 2 - a getter
        ok 3 - expect falsey value
    ok 17 - should register properties via getter/setter objects # time=17.114ms
    
    # Subtest: decorateRequest should work with getter/setter
        1..5
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - (unnamed test)
    ok 18 - decorateRequest should work with getter/setter # time=66.087ms
    
    # Subtest: decorateReply should work with getter/setter
        1..5
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - (unnamed test)
    ok 19 - decorateReply should work with getter/setter # time=14.239ms
    
    # Subtest: should register empty values
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 20 - should register empty values # time=3.16ms
    
    # Subtest: nested plugins can override things
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 21 - nested plugins can override things # time=3.978ms
    
    # Subtest: a decorator should addSchema to all the encapsulated tree
        1..1
        ok 1 - should not error
    ok 22 - a decorator should addSchema to all the encapsulated tree # time=3.072ms
    
    # Subtest: after can access to a decorated instance and previous plugin decoration
        1..11
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
    ok 23 - after can access to a decorated instance and previous plugin decoration # time=7.715ms
    
    # Subtest: decorate* should throw if called after ready
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 24 - decorate* should throw if called after ready # time=7.323ms
    
    # Subtest: decorate* should emit warning if an array is passed
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 25 - decorate* should emit warning if an array is passed # time=27.366ms
    
    # Subtest: decorate* should emit warning if object type is passed
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 26 - decorate* should emit warning if object type is passed # time=22.476ms
    
    # Subtest: decorate* should not emit warning if object with getter/setter is passed
        1..0
    ok 27 - decorate* should not emit warning if object with getter/setter is passed # time=22.501ms
    
    # Subtest: decorate* should not emit warning if string,bool,numbers are passed
        1..0
    ok 28 - decorate* should not emit warning if string,bool,numbers are passed # time=22.359ms
    
    # Subtest: Request/reply decorators should be able to access the server instance
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not be equal
        ok 4 - should be equal
        ok 5 - should not be equal
        ok 6 - should be equal
    ok 29 - Request/reply decorators should be able to access the server instance # time=8.02ms
    
    # Subtest: plugin required decorators
        1..0
    ok 30 - plugin required decorators # time=3.426ms
    
    # Subtest: decorateRequest/decorateReply empty string
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 31 - decorateRequest/decorateReply empty string # time=18.313ms
    
    # Subtest: decorateRequest/decorateReply is undefined
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 32 - decorateRequest/decorateReply is undefined # time=7.212ms
    
    # Subtest: decorateRequest/decorateReply is not set to a value
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 33 - decorateRequest/decorateReply is not set to a value # time=7.656ms
    
    # Subtest: decorateRequest with dependencies
        1..2
        ok 1 - expected to not throw
        ok 2 - expect truthy value
    ok 34 - decorateRequest with dependencies # time=1.473ms
    
    # Subtest: decorateRequest with dependencies (functions)
        1..2
        ok 1 - expected to not throw
        ok 2 - expect truthy value
    ok 35 - decorateRequest with dependencies (functions) # time=1.242ms
    
    # Subtest: chain of decorators on Request
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        1..6
    ok 36 - chain of decorators on Request # time=15.761ms
    
    # Subtest: chain of decorators on Reply
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        1..6
    ok 37 - chain of decorators on Reply # time=14.204ms
    
    1..37
    # time=849.61ms
ok 22 - test/decorator.test.js # time=849.61ms

# Subtest: test/default-route.test.js
    # Subtest: should fail if defaultRoute is not a function
        1..1
        ok 1 - should be equal
    ok 1 - should fail if defaultRoute is not a function # time=21.456ms
    
    # Subtest: correctly sets, returns, and calls defaultRoute
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 2 - correctly sets, returns, and calls defaultRoute # time=41.732ms
    
    1..2
    # time=73.956ms
ok 23 - test/default-route.test.js # time=73.956ms

# Subtest: test/delete.test.js
    # Subtest: shorthand - delete
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - delete # time=9.129ms
    
    # Subtest: shorthand - delete params
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - delete params # time=2.083ms
    
    # Subtest: shorthand - delete, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - delete, querystring schema # time=1.555ms
    
    # Subtest: shorthand - get, headers schema
        1..1
        ok 1 - (unnamed test)
    ok 4 - shorthand - get, headers schema # time=1.497ms
    
    # Subtest: missing schema - delete
        1..1
        ok 1 - (unnamed test)
    ok 5 - missing schema - delete # time=1.461ms
    
    # Subtest: body - delete
        1..1
        ok 1 - (unnamed test)
    ok 6 - body - delete # time=1.173ms
    
    # Subtest: shorthand - delete with application/json Content-Type header and without body
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - shorthand - delete with application/json Content-Type header and without body # time=46.126ms
    
    ok 8 - should not error
    # Subtest: shorthand - request delete
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 9 - shorthand - request delete # time=30.126ms
    
    # Subtest: shorthand - request delete params schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 10 - shorthand - request delete params schema # time=6.853ms
    
    # Subtest: shorthand - request delete params schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 11 - shorthand - request delete params schema error # time=6.66ms
    
    # Subtest: shorthand - request delete headers schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 12 - shorthand - request delete headers schema # time=5.132ms
    
    # Subtest: shorthand - request delete headers schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 13 - shorthand - request delete headers schema error # time=4.925ms
    
    # Subtest: shorthand - request delete querystring schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 14 - shorthand - request delete querystring schema # time=4.917ms
    
    # Subtest: shorthand - request delete querystring schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 15 - shorthand - request delete querystring schema error # time=4.203ms
    
    # Subtest: shorthand - request delete missing schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 16 - shorthand - request delete missing schema # time=4.745ms
    
    # Subtest: shorthand - delete with body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - shorthand - delete with body # time=7.615ms
    
    1..17
    # time=307.742ms
ok 24 - test/delete.test.js # time=307.742ms

# Subtest: test/diagnostics-channel.test.js
    # Subtest: diagnostics_channel when present and subscribers
        1..3
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should be equal
    ok 1 - diagnostics_channel when present and subscribers # time=977.9ms
    
    # Subtest: diagnostics_channel when present and no subscribers
        1..1
        ok 1 - should be equal
    ok 2 - diagnostics_channel when present and no subscribers # time=19.664ms
    
    # Subtest: diagnostics_channel when not present
        1..1
        ok 1 - expected to not throw
    ok 3 - diagnostics_channel when not present # time=17.633ms
    
    1..3
    # time=1028.057ms
ok 25 - test/diagnostics-channel.test.js # time=1028.057ms

# Subtest: test/encapsulated-error-handler.test.js
    # Subtest: encapuslates an error handler
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 1 - encapuslates an error handler # time=63.396ms
    
    # Subtest: onError hook nested
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 2 - onError hook nested # time=10.819ms
    
    1..2
    # time=83.331ms
ok 26 - test/encapsulated-error-handler.test.js # time=83.331ms

# Subtest: test/esm/index.test.js
    # Subtest: named exports support
        ok 1 - should be equal
        1..1
    ok 1 - named exports support # time=42.939ms
    
    ok 2 - should be equal
    1..2
    # time=48.94ms
ok 27 - test/esm/index.test.js # time=48.94ms

# Subtest: test/fastify-instance.test.js
    # Subtest: root fastify instance is an object
        1..1
        ok 1 - type is object
    ok 1 - root fastify instance is an object # time=15.388ms
    
    # Subtest: fastify instance should contains ajv options
        1..1
        ok 1 - should be equivalent
    ok 2 - fastify instance should contains ajv options # time=6.464ms
    
    # Subtest: fastify instance should contains ajv options.plugins nested arrays
        1..1
        ok 1 - should be equivalent
    ok 3 - fastify instance should contains ajv options.plugins nested arrays # time=3.124ms
    
    # Subtest: fastify instance get invalid ajv options
        1..1
        ok 1 - expected to throw
    ok 4 - fastify instance get invalid ajv options # time=1.515ms
    
    # Subtest: fastify instance get invalid ajv options.plugins
        1..1
        ok 1 - expected to throw
    ok 5 - fastify instance get invalid ajv options.plugins # time=1.133ms
    
    # Subtest: fastify instance should contain default errorHandler
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 6 - fastify instance should contain default errorHandler # time=2.706ms
    
    # Subtest: errorHandler in plugin should be separate from the external one
        1..4
        ok 1 - should not be equivalent
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equivalent
    ok 7 - errorHandler in plugin should be separate from the external one # time=15.756ms
    
    1..7
    # time=67.178ms
ok 28 - test/fastify-instance.test.js # time=67.178ms

# Subtest: test/fluent-schema.test.js
    # Subtest: use fluent-json-schema object
        1..15
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equivalent
    ok 1 - use fluent-json-schema object # time=221.248ms
    
    # Subtest: use complex fluent-json-schema object
        1..1
        ok 1 - should not error
    ok 2 - use complex fluent-json-schema object # time=42.24ms
    
    # Subtest: use fluent schema and plain JSON schema
        1..1
        ok 1 - should not error
    ok 3 - use fluent schema and plain JSON schema # time=64.46ms
    
    # Subtest: Should call valueOf internally
        1..1
        ok 1 - should not error
    ok 4 - Should call valueOf internally # time=93.916ms
    
    1..4
    # time=430.721ms
ok 29 - test/fluent-schema.test.js # time=430.721ms

# Subtest: test/genReqId.test.js
    # Subtest: Should accept a custom genReqId function
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 1 - Should accept a custom genReqId function # time=70.037ms
    
    1..1
    # time=76.413ms
ok 30 - test/genReqId.test.js # time=76.413ms

# Subtest: test/get.test.js
    # Subtest: shorthand - get
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - get # time=10.291ms
    
    # Subtest: shorthand - get (return null)
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - get (return null) # time=2.631ms
    
    # Subtest: shorthand - get params
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - get params # time=2.968ms
    
    # Subtest: shorthand - get, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 4 - shorthand - get, querystring schema # time=2.345ms
    
    # Subtest: shorthand - get, headers schema
        1..1
        ok 1 - (unnamed test)
    ok 5 - shorthand - get, headers schema # time=2.172ms
    
    # Subtest: missing schema - get
        1..1
        ok 1 - (unnamed test)
    ok 6 - missing schema - get # time=1.844ms
    
    # Subtest: custom serializer - get
        1..1
        ok 1 - (unnamed test)
    ok 7 - custom serializer - get # time=2.416ms
    
    # Subtest: empty response
        1..1
        ok 1 - (unnamed test)
    ok 8 - empty response # time=2.053ms
    
    # Subtest: send a falsy boolean
        1..1
        ok 1 - (unnamed test)
    ok 9 - send a falsy boolean # time=1.876ms
    
    ok 10 - should not error
    # Subtest: shorthand - request get
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - shorthand - request get # time=43.37ms
    
    # Subtest: shorthand - request get params schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 12 - shorthand - request get params schema # time=7.573ms
    
    # Subtest: shorthand - request get params schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 13 - shorthand - request get params schema error # time=7.128ms
    
    # Subtest: shorthand - request get headers schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - shorthand - request get headers schema # time=5.688ms
    
    # Subtest: shorthand - request get headers schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 15 - shorthand - request get headers schema error # time=22.505ms
    
    # Subtest: shorthand - request get querystring schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 16 - shorthand - request get querystring schema # time=8.615ms
    
    # Subtest: shorthand - request get querystring schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - shorthand - request get querystring schema error # time=5.297ms
    
    # Subtest: shorthand - request get missing schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - shorthand - request get missing schema # time=11.418ms
    
    # Subtest: shorthand - custom serializer
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 19 - shorthand - custom serializer # time=5.708ms
    
    # Subtest: shorthand - empty response
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 20 - shorthand - empty response # time=6.459ms
    
    # Subtest: shorthand - send a falsy boolean
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - shorthand - send a falsy boolean # time=4.692ms
    
    # Subtest: shorthand - send null value
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - shorthand - send null value # time=4.664ms
    
    1..22
    # time=347.123ms
ok 31 - test/get.test.js # time=347.123ms

# Subtest: test/handler-context.test.js
    # Subtest: handlers receive correct `this` context
        1..4
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 1 - handlers receive correct `this` context # time=55.887ms
    
    # Subtest: handlers have access to the internal context
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - type is Object
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 2 - handlers have access to the internal context # time=25.235ms
    
    1..2
    # time=96.696ms
ok 32 - test/handler-context.test.js # time=96.696ms

# Subtest: test/head.test.js
    # Subtest: shorthand - head
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - head # time=9.82ms
    
    # Subtest: shorthand - head params
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - head params # time=2.689ms
    
    # Subtest: shorthand - head, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - head, querystring schema # time=1.914ms
    
    # Subtest: missing schema - head
        1..1
        ok 1 - (unnamed test)
    ok 4 - missing schema - head # time=1.832ms
    
    ok 5 - should not error
    # Subtest: shorthand - request head
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 6 - shorthand - request head # time=35.588ms
    
    # Subtest: shorthand - request head params schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 7 - shorthand - request head params schema # time=5.824ms
    
    # Subtest: shorthand - request head params schema error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 8 - shorthand - request head params schema error # time=5.696ms
    
    # Subtest: shorthand - request head querystring schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 9 - shorthand - request head querystring schema # time=4.515ms
    
    # Subtest: shorthand - request head querystring schema error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - shorthand - request head querystring schema error # time=4.213ms
    
    # Subtest: shorthand - request head missing schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 11 - shorthand - request head missing schema # time=3.769ms
    
    1..11
    # time=217.91ms
ok 33 - test/head.test.js # time=217.91ms

# Subtest: test/hooks-async.test.js
    # Subtest: async hooks
        1..21
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should not error
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equivalent
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - expect truthy value
    ok 1 - async hooks # time=161.629ms
    
    # Subtest: modify payload
        1..10
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - expect truthy value
        ok 4 - should be equivalent
        ok 5 - expect truthy value
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
    ok 2 - modify payload # time=38.656ms
    
    # Subtest: onRequest hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 3 - onRequest hooks should be able to block a request # time=45.632ms
    
    # Subtest: preParsing hooks should be able to modify the payload
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 4 - preParsing hooks should be able to modify the payload # time=13.83ms
    
    # Subtest: preParsing hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 5 - preParsing hooks should handle errors # time=19.621ms
    
    # Subtest: preHandler hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 6 - preHandler hooks should be able to block a request # time=22.518ms
    
    # Subtest: preValidation hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 7 - preValidation hooks should be able to block a request # time=14.598ms
    
    # Subtest: preValidation hooks should be able to change request body before validation
        1..4
        ok 1 - (unnamed test)
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - preValidation hooks should be able to change request body before validation # time=80.619ms
    
    # Subtest: preSerialization hooks should be able to modify the payload
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - preSerialization hooks should be able to modify the payload # time=9.812ms
    
    # Subtest: preSerialization hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - preSerialization hooks should handle errors # time=7.144ms
    
    # Subtest: preValidation hooks should handle throwing null
        1..4
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - preValidation hooks should handle throwing null # time=7.235ms
    
    # Subtest: preValidation hooks should handle throwing a string
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 12 - preValidation hooks should handle throwing a string # time=5.646ms
    
    # Subtest: onRequest hooks should be able to block a request (last hook)
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 13 - onRequest hooks should be able to block a request (last hook) # time=6.133ms
    
    # Subtest: preHandler hooks should be able to block a request (last hook)
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 14 - preHandler hooks should be able to block a request (last hook) # time=5.951ms
    
    # Subtest: onRequest respond with a stream
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - onRequest respond with a stream # time=11.331ms
    
    # Subtest: preHandler respond with a stream
        1..7
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 16 - preHandler respond with a stream # time=22.831ms
    
    # Subtest: Should log a warning if is an async function with `done`
        # Subtest: 3 arguments
            1..1
            ok 1 - expect truthy value
        ok 1 - 3 arguments # time=1.91ms
        
        # Subtest: 4 arguments
            1..3
            ok 1 - expect truthy value
            ok 2 - expect truthy value
            ok 3 - expect truthy value
        ok 2 - 4 arguments # time=1.946ms
        
        1..2
    ok 17 - Should log a warning if is an async function with `done` # time=18.607ms
    
    # Subtest: early termination, onRequest async
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 18 - early termination, onRequest async # time=8.474ms
    
    # Subtest: The this should be the same of the encapsulation level
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        1..4
    ok 19 - The this should be the same of the encapsulation level # time=16.202ms
    
    # Subtest: preSerializationEnd should handle errors if the serialize method throws
        # Subtest: works with sync preSerialization
            1..2
            ok 1 - should not error
            ok 2 - should not be equal
        ok 1 - works with sync preSerialization # time=13.887ms
        
        # Subtest: works with async preSerialization
            1..2
            ok 1 - should not error
            ok 2 - should not be equal
        ok 2 - works with async preSerialization # time=6.186ms
        
        1..2
    ok 20 - preSerializationEnd should handle errors if the serialize method throws # time=24.332ms
    
    1..20
    # time=564.531ms
ok 34 - test/hooks-async.test.js # time=564.531ms

# Subtest: test/hooks.on-ready.test.js
    # Subtest: onReady should be called in order
        1..7
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
        ok 7 - should not error
    ok 1 - onReady should be called in order # time=69.064ms
    
    # Subtest: async onReady should be called in order
        1..7
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
        ok 7 - ready
    ok 2 - async onReady should be called in order # time=10.304ms
    
    # Subtest: mix ready and onReady
        1..2
        ok 1 - should be equal
        ok 2 - ready hooks execute once
    ok 3 - mix ready and onReady # time=19.869ms
    
    # Subtest: listen and onReady order
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - trigger the onReady
        ok 9 - do not trigger the onReady
    ok 4 - listen and onReady order # time=20.056ms
    
    # Subtest: multiple ready calls
        1..11
        ok 1 - ready and hooks not triggered yet
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - trigger the onReady
        ok 10 - do not trigger the onReady
        ok 11 - do not trigger the onReady
    ok 5 - multiple ready calls # time=8.78ms
    
    # Subtest: onReady should manage error in sync
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 6 - onReady should manage error in sync # time=5.98ms
    
    # Subtest: onReady should manage error in async
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 7 - onReady should manage error in async # time=32.243ms
    
    # Subtest: onReady should manage sync error
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 8 - onReady should manage sync error # time=8.017ms
    
    # Subtest: onReady can not add decorators or application hooks
        1..3
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should not error
    ok 9 - onReady can not add decorators or application hooks # time=5.08ms
    
    # Subtest: onReady cannot add lifecycle hooks
        1..5
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 10 - onReady cannot add lifecycle hooks # time=9.211ms
    
    # Subtest: onReady throw loading error
        1..1
        ok 1 - expect truthy value
    ok 11 - onReady throw loading error # time=1.88ms
    
    # Subtest: onReady does not call done
        1..6
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
        ok 6 - should be equal
    ok 12 - onReady does not call done # time=516.493ms
    
    # Subtest: onReady execution order
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 13 - onReady execution order # time=3.79ms
    
    # Subtest: ready return the server with callback
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 14 - ready return the server with callback # time=28.882ms
    
    # Subtest: ready return the server with Promise
        1..1
        ok 1 - should be equivalent
    ok 15 - ready return the server with Promise # time=11.385ms
    
    # Subtest: ready return registered
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
    ok 16 - ready return registered # time=9.475ms
    
    1..16
    # time=776.377ms
ok 35 - test/hooks.on-ready.test.js # time=776.377ms

# Subtest: test/hooks.test.js
    # Subtest: hooks
        1..43
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - (unnamed test)
        ok 4 - (unnamed test)
        ok 5 - (unnamed test)
        ok 6 - (unnamed test)
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - expect truthy value
        ok 20 - expect truthy value
        ok 21 - expect truthy value
        ok 22 - expect truthy value
        ok 23 - should be equal
        ok 24 - should be equal
        ok 25 - should be equal
        ok 26 - should be equal
        ok 27 - should be equal
        ok 28 - should be equal
        ok 29 - should be equal
        ok 30 - should be equal
        ok 31 - should be equal
        ok 32 - expect truthy value
        ok 33 - expect truthy value
        ok 34 - expect truthy value
        ok 35 - expect truthy value
        ok 36 - should not error
        ok 37 - should be equal
        ok 38 - should be equal
        ok 39 - should be equivalent
        ok 40 - should not error
        ok 41 - should be equal
        ok 42 - should not error
        ok 43 - should be equal
    ok 1 - hooks # time=157.278ms
    
    # Subtest: onRequest hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 2 - onRequest hook should support encapsulation / 1 # time=23.039ms
    
    # Subtest: onRequest hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 3 - onRequest hook should support encapsulation / 2 # time=6.369ms
    
    # Subtest: onRequest hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 4 - onRequest hook should support encapsulation / 3 # time=28.262ms
    
    # Subtest: preHandler hook should support encapsulation / 5
        1..17
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equivalent
    ok 5 - preHandler hook should support encapsulation / 5 # time=28.625ms
    
    # Subtest: onRoute hook should be called / 1
        1..2
        ok 1 - (unnamed test)
        ok 2 - should not error
    ok 6 - onRoute hook should be called / 1 # time=8.231ms
    
    # Subtest: onRoute hook should be called / 2
        1..5
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 7 - onRoute hook should be called / 2 # time=10.411ms
    
    # Subtest: onRoute hook should be called / 3
        1..5
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - (unnamed test)
        ok 5 - should not error
    ok 8 - onRoute hook should be called / 3 # time=17.671ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 4
        1..4
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - (unnamed test)
        ok 4 - should not error
    ok 9 - onRoute hook should be called (encapsulation support) / 4 # time=10.336ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 5
        1..2
        ok 1 - (unnamed test)
        ok 2 - should not error
    ok 10 - onRoute hook should be called (encapsulation support) / 5 # time=8.115ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 6
        1..1
        ok 1 - should not error
    ok 11 - onRoute hook should be called (encapsulation support) / 6 # time=5.221ms
    
    # Subtest: onRoute should keep the context
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
    ok 12 - onRoute should keep the context # time=24.019ms
    
    # Subtest: onRoute hook should pass correct route
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should not error
    ok 13 - onRoute hook should pass correct route # time=12.26ms
    
    # Subtest: onRoute hook should pass correct route with custom prefix
        1..11
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
    ok 14 - onRoute hook should pass correct route with custom prefix # time=7.687ms
    
    # Subtest: onRoute hook should pass correct route with custom options
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - type is function
        ok 6 - should not error
    ok 15 - onRoute hook should pass correct route with custom options # time=6.45ms
    
    # Subtest: onRoute hook should receive any route option
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 16 - onRoute hook should receive any route option # time=10.323ms
    
    # Subtest: onRoute hook should preserve system route configuration
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 17 - onRoute hook should preserve system route configuration # time=5.879ms
    
    # Subtest: onRoute hook should preserve handler function in options of shorthand route system configuration
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 18 - onRoute hook should preserve handler function in options of shorthand route system configuration # time=4.705ms
    
    # Subtest: onRoute hook should be called once when prefixTrailingSlash
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 19 - onRoute hook should be called once when prefixTrailingSlash # time=6.216ms
    
    # Subtest: onRoute hook should able to change the route url
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 20 - onRoute hook should able to change the route url # time=23.02ms
    
    # Subtest: onRoute hook that throws should be caught
        1..1
        ok 1 - expect truthy value
    ok 21 - onRoute hook that throws should be caught # time=4.017ms
    
    # Subtest: onRoute hook with many prefix
        1..3
        ok 1 - should match pattern provided
        ok 2 - should match pattern provided
        ok 3 - should not error
    ok 22 - onRoute hook with many prefix # time=8.402ms
    
    # Subtest: onRoute hook should not be called when it registered after route
        1..3
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
    ok 23 - onRoute hook should not be called when it registered after route # time=4.692ms
    
    # Subtest: onResponse hook should log request error
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 24 - onResponse hook should log request error # time=87.312ms
    
    # Subtest: onResponse hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 25 - onResponse hook should support encapsulation / 1 # time=8.039ms
    
    # Subtest: onResponse hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 26 - onResponse hook should support encapsulation / 2 # time=4.549ms
    
    # Subtest: onResponse hook should support encapsulation / 3
        1..16
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 27 - onResponse hook should support encapsulation / 3 # time=31.16ms
    
    # Subtest: onSend hook should support encapsulation / 1
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 28 - onSend hook should support encapsulation / 1 # time=4.514ms
    
    # Subtest: onSend hook should support encapsulation / 2
        1..16
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 29 - onSend hook should support encapsulation / 2 # time=17.858ms
    
    # Subtest: onSend hook is called after payload is serialized and headers are set
        1..30
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should be equal
        ok 15 - should not error
        ok 16 - should be equal
        ok 17 - should be equivalent
        ok 18 - should be equal
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equivalent
        ok 22 - should be equal
        ok 23 - should not error
        ok 24 - should be equal
        ok 25 - should be equivalent
        ok 26 - should be equal
        ok 27 - should not error
        ok 28 - should be equal
        ok 29 - should be equivalent
        ok 30 - should be equal
    ok 30 - onSend hook is called after payload is serialized and headers are set # time=27.191ms
    
    # Subtest: modify payload
        1..10
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - expect truthy value
        ok 4 - should be equivalent
        ok 5 - expect truthy value
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
    ok 31 - modify payload # time=8.378ms
    
    # Subtest: clear payload
        1..6
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 32 - clear payload # time=5.632ms
    
    # Subtest: onSend hook throws
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 33 - onSend hook throws # time=24.152ms
    
    # Subtest: onSend hook should receive valid request and reply objects if onRequest hook fails
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 34 - onSend hook should receive valid request and reply objects if onRequest hook fails # time=28.903ms
    
    # Subtest: onSend hook should receive valid request and reply objects if a custom content type parser fails
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 35 - onSend hook should receive valid request and reply objects if a custom content type parser fails # time=7.267ms
    
    # Subtest: Content-Length header should be updated if onSend hook modifies the payload
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 36 - Content-Length header should be updated if onSend hook modifies the payload # time=7.524ms
    
    # Subtest: cannot add hook after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 37 - cannot add hook after binding # time=5.094ms
    
    # Subtest: onRequest hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 38 - onRequest hooks should be able to block a request # time=5.595ms
    
    # Subtest: preValidation hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 39 - preValidation hooks should be able to block a request # time=7.499ms
    
    # Subtest: preValidation hooks should be able to change request body before validation
        1..4
        ok 1 - (unnamed test)
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 40 - preValidation hooks should be able to change request body before validation # time=74.559ms
    
    # Subtest: preParsing hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 41 - preParsing hooks should be able to block a request # time=6.253ms
    
    # Subtest: preHandler hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 42 - preHandler hooks should be able to block a request # time=5.442ms
    
    # Subtest: onRequest hooks should be able to block a request (last hook)
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 43 - onRequest hooks should be able to block a request (last hook) # time=5.277ms
    
    # Subtest: preHandler hooks should be able to block a request (last hook)
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 44 - preHandler hooks should be able to block a request (last hook) # time=10.733ms
    
    # Subtest: preParsing hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 45 - preParsing hooks should handle errors # time=5.311ms
    
    # Subtest: onRequest respond with a stream
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 46 - onRequest respond with a stream # time=8.873ms
    
    # Subtest: preHandler respond with a stream
        1..7
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 47 - preHandler respond with a stream # time=7.324ms
    
    # Subtest: Register an hook after a plugin inside a plugin
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 48 - Register an hook after a plugin inside a plugin # time=14.964ms
    
    # Subtest: Register an hook after a plugin inside a plugin (with preHandler option)
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 49 - Register an hook after a plugin inside a plugin (with preHandler option) # time=9.436ms
    
    # Subtest: Register hooks inside a plugin after an encapsulated plugin
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 50 - Register hooks inside a plugin after an encapsulated plugin # time=8.124ms
    
    # Subtest: onRequest hooks should run in the order in which they are defined
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 51 - onRequest hooks should run in the order in which they are defined # time=9.971ms
    
    # Subtest: preHandler hooks should run in the order in which they are defined
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 52 - preHandler hooks should run in the order in which they are defined # time=27.38ms
    
    # Subtest: onSend hooks should run in the order in which they are defined
        1..8
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equivalent
    ok 53 - onSend hooks should run in the order in which they are defined # time=7.978ms
    
    # Subtest: onResponse hooks should run in the order in which they are defined
        1..8
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equivalent
    ok 54 - onResponse hooks should run in the order in which they are defined # time=7.887ms
    
    # Subtest: onRequest, preHandler, and onResponse hooks that resolve to a value do not cause an error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 55 - onRequest, preHandler, and onResponse hooks that resolve to a value do not cause an error # time=4.577ms
    
    # Subtest: If a response header has been set inside an hook it shoulod not be overwritten by the final response handler
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 56 - If a response header has been set inside an hook it shoulod not be overwritten by the final response handler # time=4.064ms
    
    # Subtest: If the content type has been set inside an hook it should not be changed
        1..5
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 57 - If the content type has been set inside an hook it should not be changed # time=4.588ms
    
    # Subtest: request in onRequest, preParsing, preValidation and onResponse
        1..18
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equivalent
        ok 10 - should be equivalent
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equivalent
        ok 14 - should be equivalent
        ok 15 - should be equivalent
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
    ok 58 - request in onRequest, preParsing, preValidation and onResponse # time=21.759ms
    
    # Subtest: preValidation hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 59 - preValidation hook should support encapsulation / 1 # time=6.34ms
    
    # Subtest: preValidation hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 60 - preValidation hook should support encapsulation / 2 # time=25.808ms
    
    # Subtest: preValidation hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 61 - preValidation hook should support encapsulation / 3 # time=27.326ms
    
    # Subtest: onError hook
        1..3
        ok 1 - should match pattern provided
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 62 - onError hook # time=11.621ms
    
    # Subtest: reply.send should throw if called inside the onError hook
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 63 - reply.send should throw if called inside the onError hook # time=5.428ms
    
    # Subtest: onError hook with setErrorHandler
        # Subtest: Send error
            1..3
            ok 1 - should match pattern provided
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 1 - Send error # time=5.545ms
        
        1..1
    ok 64 - onError hook with setErrorHandler # time=10.272ms
    
    # Subtest: preParsing hook should run before parsing and be able to modify the payload
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 65 - preParsing hook should run before parsing and be able to modify the payload # time=10.137ms
    
    # Subtest: preParsing hooks should run in the order in which they are defined
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 66 - preParsing hooks should run in the order in which they are defined # time=7.372ms
    
    # Subtest: preParsing hooks should support encapsulation
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 67 - preParsing hooks should support encapsulation # time=11.552ms
    
    # Subtest: preParsing hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 68 - preParsing hook should support encapsulation / 1 # time=6.05ms
    
    # Subtest: preParsing hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 69 - preParsing hook should support encapsulation / 2 # time=3.826ms
    
    # Subtest: preParsing hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 70 - preParsing hook should support encapsulation / 3 # time=53.497ms
    
    # Subtest: preSerialization hook should run before serialization and be able to modify the payload
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 71 - preSerialization hook should run before serialization and be able to modify the payload # time=32.288ms
    
    # Subtest: preSerialization hook should be able to throw errors which are validated against schema response
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        1..6
    ok 72 - preSerialization hook should be able to throw errors which are validated against schema response # time=10.279ms
    
    # Subtest: preSerialization hook which returned error should still run onError hooks
        1..4
        ok 1 - should not error
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - should be equal
    ok 73 - preSerialization hook which returned error should still run onError hooks # time=6.532ms
    
    # Subtest: preSerialization hooks should run in the order in which they are defined
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 74 - preSerialization hooks should run in the order in which they are defined # time=8.176ms
    
    # Subtest: preSerialization hooks should support encapsulation
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 75 - preSerialization hooks should support encapsulation # time=12.293ms
    
    # Subtest: onRegister hook should be called / 1
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should not error
    ok 76 - onRegister hook should be called / 1 # time=3.783ms
    
    # Subtest: onRegister hook should be called / 2
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
    ok 77 - onRegister hook should be called / 2 # time=5.388ms
    
    # Subtest: onRegister hook should be called / 3
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
    ok 78 - onRegister hook should be called / 3 # time=5.43ms
    
    # Subtest: onRegister hook should be called (encapsulation)
        1..1
        ok 1 - should not error
    ok 79 - onRegister hook should be called (encapsulation) # time=2.254ms
    
    # Subtest: early termination, onRequest
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 80 - early termination, onRequest # time=4.767ms
    
    # Subtest: reply.send should throw if undefined error is thrown
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 81 - reply.send should throw if undefined error is thrown # time=7.038ms
    
    # Subtest: reply.send should throw if undefined error is thrown at preParsing hook
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 82 - reply.send should throw if undefined error is thrown at preParsing hook # time=14.791ms
    
    # Subtest: reply.send should throw if undefined error is thrown at onSend hook
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 83 - reply.send should throw if undefined error is thrown at onSend hook # time=4.469ms
    
    # Subtest: onTimeout should be triggered
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - onTimeout
        ok 5 - type is Error
        ok 6 - should be equal
    ok 84 - onTimeout should be triggered # time=509.758ms
    
    # Subtest: onTimeout should be triggered and socket _meta is set
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - onTimeout
        ok 5 - type is Error
        ok 6 - should be equal
    ok 85 - onTimeout should be triggered and socket _meta is set # time=508.742ms
    
    1..85
    # time=2321.529ms
ok 36 - test/hooks.test.js # time=2321.529ms

# Subtest: test/http2/closing.test.js
    # Subtest: http/2 request while fastify closing
        ok 1 - http2 successfully loaded
        ok 2 - should not error
        # Subtest: return 200
            ok 1 - should be equal
            1..1
        ok 3 - return 200 # time=22.815ms
        
        1..3
    ok 1 - http/2 request while fastify closing # time=86.795ms
    
    # Subtest: http/2 request while fastify closing - return503OnClosing: false
        ok 1 - http2 successfully loaded
        ok 2 - should not error
        # Subtest: return 200
            ok 1 - should be equal
            1..1
        ok 3 - return 200 # time=7.231ms
        
        1..3
    ok 2 - http/2 request while fastify closing - return503OnClosing: false # time=18.282ms
    
    # Subtest: http/2 closes successfully with async await
        1..0
    ok 3 - http/2 closes successfully with async await # time=115.403ms
    
    # Subtest: https/2 closes successfully with async await
        1..0
    ok 4 - https/2 closes successfully with async await # time=12.876ms
    
    # Subtest: http/2 server side session emits a timeout event
        ok 1 - should be equal
        1..1
    ok 5 - http/2 server side session emits a timeout event # time=107.596ms
    
    1..5
    # time=378.219ms
ok 37 - test/http2/closing.test.js # time=378.219ms

# Subtest: test/http2/constraint.test.js
    # Subtest: A route supports host constraints under http2 protocol and secure connection
        1..5
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request - no constrain
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - https get request - no constrain # time=42.261ms
        
        # Subtest: https get request - constrain
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - https get request - constrain # time=13.518ms
        
        # Subtest: https get request - constrain - not found
            1..1
            ok 1 - should be equal
        ok 5 - https get request - constrain - not found # time=10.701ms
        
    ok 1 - A route supports host constraints under http2 protocol and secure connection # time=149.38ms
    
    1..1
    # time=177.206ms
ok 38 - test/http2/constraint.test.js # time=177.206ms

# Subtest: test/http2/head.test.js
    ok 1 - http2 successfully loaded
    ok 2 - should not error
    # Subtest: http HEAD request
        1..1
        ok 1 - should be equal
    ok 3 - http HEAD request # time=72.924ms
    
    1..3
    # time=156.829ms
ok 39 - test/http2/head.test.js # time=156.829ms

# Subtest: test/http2/missing-http2-module.test.js
    # Subtest: should throw when http2 module cannot be found
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - should throw when http2 module cannot be found # time=12.664ms
    
    1..1
    # time=23.793ms
ok 40 - test/http2/missing-http2-module.test.js # time=23.793ms

# Subtest: test/http2/plain.test.js
    ok 1 - http2 successfully loaded
    ok 2 - should not error
    # Subtest: http get request
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 3 - http get request # time=33.551ms
    
    # Subtest: http hostname
        1..1
        ok 1 - should be equal
    ok 4 - http hostname # time=6.699ms
    
    1..4
    # time=121.121ms
ok 41 - test/http2/plain.test.js # time=121.121ms

# Subtest: test/http2/secure-with-fallback.test.js
    # Subtest: secure with fallback
        1..7
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get error
            1..1
            ok 1 - should be equal
        ok 3 - https get error # time=38.185ms
        
        # Subtest: https post
            1..2
            ok 1 - should be equal
            ok 2 - should be equivalent
        ok 4 - https post # time=17.705ms
        
        # Subtest: https get request
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - https get request # time=10.834ms
        
        # Subtest: http1 get request
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 6 - http1 get request # time=18.233ms
        
        # Subtest: http1 get error
            1..2
            ok 1 - should not error
            ok 2 - should be equal
        ok 7 - http1 get error # time=7.551ms
        
    ok 1 - secure with fallback # time=172.553ms
    
    1..1
    # time=199.58ms
ok 42 - test/http2/secure-with-fallback.test.js # time=199.58ms

# Subtest: test/http2/secure.test.js
    # Subtest: secure
        1..4
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - https get request # time=41.387ms
        
        # Subtest: https get request without trust proxy - protocol
            1..2
            ok 1 - should be equivalent
            ok 2 - should be equivalent
        ok 4 - https get request without trust proxy - protocol # time=23.829ms
        
    ok 1 - secure # time=149.71ms
    
    1..1
    # time=182.148ms
ok 43 - test/http2/secure.test.js # time=182.148ms

# Subtest: test/http2/unknown-http-method.test.js
    ok 1 - should not error
    # Subtest: http UNKNOWN_METHOD request
        1..2
        ok 1 - should be equal
        ok 2 - should be equivalent
    ok 2 - http UNKNOWN_METHOD request # time=35.217ms
    
    1..2
    # time=92.558ms
ok 44 - test/http2/unknown-http-method.test.js # time=92.558ms

# Subtest: test/https/custom-https-server.test.js
    # Subtest: Should support a custom https server
        1..4
        ok 1 - it is called twice for every HOST interface
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - Should support a custom https server # time=86.812ms
    
    1..1
    # time=119.573ms
ok 45 - test/https/custom-https-server.test.js # time=119.573ms

# Subtest: test/https/https.test.js
    # Subtest: https
        1..4
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 3 - https get request # time=38.852ms
        
        # Subtest: https get request without trust proxy - protocol
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 4 - https get request without trust proxy - protocol # time=16.411ms
        
    ok 1 - https # time=142.23ms
    
    1..1
    # time=172.325ms
ok 46 - test/https/https.test.js # time=172.325ms

# Subtest: test/imports.test.js
    # Subtest: should import as default
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 1 - should import as default # time=715.69ms
    
    # Subtest: should import as esm
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 2 - should import as esm # time=2.077ms
    
    1..2
    # time=729.388ms
ok 47 - test/imports.test.js # time=729.388ms

# Subtest: test/inject.test.js
    # Subtest: inject should exist
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 1 - inject should exist # time=15.796ms
    
    # Subtest: should wait for the ready event
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 2 - should wait for the ready event # time=600.769ms
    
    # Subtest: inject get request
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 3 - inject get request # time=7.692ms
    
    # Subtest: inject get request - code check
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 4 - inject get request - code check # time=9.875ms
    
    # Subtest: inject get request - headers check
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 5 - inject get request - headers check # time=6.177ms
    
    # Subtest: inject get request - querystring
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 6 - inject get request - querystring # time=6.259ms
    
    # Subtest: inject get request - params
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 7 - inject get request - params # time=5.786ms
    
    # Subtest: inject get request - wildcard
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - inject get request - wildcard # time=6.276ms
    
    # Subtest: inject get request - headers
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 9 - inject get request - headers # time=6.342ms
    
    # Subtest: inject post request
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 10 - inject post request # time=11.571ms
    
    # Subtest: inject post request - send stream
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 11 - inject post request - send stream # time=9.48ms
    
    # Subtest: inject get request - reply stream
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 12 - inject get request - reply stream # time=21.616ms
    
    # Subtest: inject promisify - waiting for ready event
        1..1
        ok 1 - should be equal
    ok 13 - inject promisify - waiting for ready event # time=15.033ms
    
    # Subtest: inject promisify - after the ready event
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 14 - inject promisify - after the ready event # time=11.773ms
    
    # Subtest: inject promisify - when the server is up
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 15 - inject promisify - when the server is up # time=16.532ms
    
    # Subtest: should reject in error case
        1..1
        ok 1 - should be equal
    ok 16 - should reject in error case # time=506.241ms
    
    # Subtest: inject a multipart request using form-body
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 17 - inject a multipart request using form-body # time=50.362ms
    
    # Subtest: should error the promise if ready errors
        1..3
        ok 1 - after is called
        ok 2 - expect truthy value
        ok 3 - should be equal
    ok 18 - should error the promise if ready errors # time=15.064ms
    
    # Subtest: should throw error if callback specified and if ready errors
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 19 - should throw error if callback specified and if ready errors # time=15.357ms
    
    # Subtest: should support builder-style injection with ready app
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
    ok 20 - should support builder-style injection with ready app # time=8.421ms
    
    # Subtest: should support builder-style injection with non-ready app
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
    ok 21 - should support builder-style injection with non-ready app # time=15.413ms
    
    # Subtest: should handle errors in builder-style injection correctly
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 22 - should handle errors in builder-style injection correctly # time=4.747ms
    
    1..22
    # time=1422.712ms
ok 48 - test/inject.test.js # time=1422.712ms

# Subtest: test/internals/all.test.js
    # Subtest: fastify.all should add all the methods to the same url
        1..14
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equivalent
    ok 1 - fastify.all should add all the methods to the same url # time=51.823ms
    
    1..1
    # time=55.63ms
ok 49 - test/internals/all.test.js # time=55.63ms

# Subtest: test/internals/contentTypeParser.test.js
    # Subtest: rawBody function
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - rawBody function # time=25.842ms
    
    # Subtest: Should support Webpack and faux modules
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - Should support Webpack and faux modules # time=10.293ms
    
    1..2
    # time=44.236ms
ok 50 - test/internals/contentTypeParser.test.js # time=44.236ms

# Subtest: test/internals/decorator.test.js
    # Subtest: decorate should add the given method to its instance
        1..1
        ok 1 - expect truthy value
    ok 1 - decorate should add the given method to its instance # time=5.634ms
    
    # Subtest: decorate is chainable
        1..3
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
    ok 2 - decorate is chainable # time=1.922ms
    
    # Subtest: checkExistence should check if a property is part of the given instance
        1..1
        ok 1 - expect truthy value
    ok 3 - checkExistence should check if a property is part of the given instance # time=1.239ms
    
    # Subtest: checkExistence should find the instance if not given
        1..1
        ok 1 - expect truthy value
    ok 4 - checkExistence should find the instance if not given # time=1.105ms
    
    # Subtest: checkExistence should check the prototype as well
        1..1
        ok 1 - expect truthy value
    ok 5 - checkExistence should check the prototype as well # time=0.983ms
    
    # Subtest: checkDependencies should throw if a dependency is not present
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 6 - checkDependencies should throw if a dependency is not present # time=1.522ms
    
    # Subtest: decorate should internally call checkDependencies
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 7 - decorate should internally call checkDependencies # time=0.943ms
    
    # Subtest: decorate should recognize getter/setter objects
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - (unnamed test)
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 8 - decorate should recognize getter/setter objects # time=1.888ms
    
    1..8
    # time=70.924ms
ok 51 - test/internals/decorator.test.js # time=70.924ms

# Subtest: test/internals/handleRequest.test.js
    # Subtest: handleRequest function - sent reply
        1..1
        ok 1 - should be equal
    ok 1 - handleRequest function - sent reply # time=6.872ms
    
    # Subtest: handleRequest function - invoke with error
        1..1
        ok 1 - should be equal
    ok 2 - handleRequest function - invoke with error # time=1.716ms
    
    # Subtest: handler function - invalid schema
        1..1
        ok 1 - errorHandler called
    ok 3 - handler function - invalid schema # time=68.284ms
    
    # Subtest: handler function - reply
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - (unnamed test)
    ok 4 - handler function - reply # time=2.86ms
    
    # Subtest: handler function - preValidationCallback with finished response
        1..0
    ok 5 - handler function - preValidationCallback with finished response # time=0.8ms
    
    # Subtest: request should be defined in onSend Hook on post request with content type application/json
        1..8
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - should not error
        ok 8 - should be equal
    ok 6 - request should be defined in onSend Hook on post request with content type application/json # time=373.733ms
    
    # Subtest: request should be defined in onSend Hook on post request with content type application/x-www-form-urlencoded
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - should be equal
    ok 7 - request should be defined in onSend Hook on post request with content type application/x-www-form-urlencoded # time=13.434ms
    
    # Subtest: request should be defined in onSend Hook on options request with content type application/x-www-form-urlencoded
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - should be equal
    ok 8 - request should be defined in onSend Hook on options request with content type application/x-www-form-urlencoded # time=24.216ms
    
    # Subtest: request should respond with an error if an unserialized payload is sent inside an async handler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
    ok 9 - request should respond with an error if an unserialized payload is sent inside an async handler # time=40.126ms
    
    1..9
    # time=558.193ms
ok 52 - test/internals/handleRequest.test.js # time=558.193ms

# Subtest: test/internals/hookRunner.test.js
    # Subtest: hookRunner - Basic
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 1 - hookRunner - Basic # time=10.519ms
    
    # Subtest: hookRunner - In case of error should skip to done
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 2 - hookRunner - In case of error should skip to done # time=6.568ms
    
    # Subtest: hookRunner - Should handle throw
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 3 - hookRunner - Should handle throw # time=3.251ms
    
    # Subtest: hookRunner - Should handle promises
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 4 - hookRunner - Should handle promises # time=29.615ms
    
    # Subtest: hookRunner - In case of error should skip to done (with promises)
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 5 - hookRunner - In case of error should skip to done (with promises) # time=3.529ms
    
    # Subtest: hookRunner - Be able to exit before its natural end
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 6 - hookRunner - Be able to exit before its natural end # time=2.008ms
    
    # Subtest: hookRunner - Promises that resolve to a value do not change the state
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 7 - hookRunner - Promises that resolve to a value do not change the state # time=4.216ms
    
    # Subtest: onSendHookRunner - Basic
        1..13
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equal
        ok 10 - should not error
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equal
    ok 8 - onSendHookRunner - Basic # time=10.723ms
    
    # Subtest: onSendHookRunner - Can change the payload
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 9 - onSendHookRunner - Can change the payload # time=4.919ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 10 - onSendHookRunner - In case of error should skip to done # time=12.972ms
    
    # Subtest: onSendHookRunner - Should handle promises
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 11 - onSendHookRunner - Should handle promises # time=15.63ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done (with promises)
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 12 - onSendHookRunner - In case of error should skip to done (with promises) # time=3.662ms
    
    # Subtest: onSendHookRunner - Be able to exit before its natural end
        1..2
        ok 1 - should be equivalent
        ok 2 - should be equivalent
    ok 13 - onSendHookRunner - Be able to exit before its natural end # time=2.825ms
    
    1..13
    # time=158.493ms
ok 53 - test/internals/hookRunner.test.js # time=158.493ms

# Subtest: test/internals/hooks.test.js
    # Subtest: hooks should have 4 array with the registered hooks
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        1..8
    ok 1 - hooks should have 4 array with the registered hooks # time=7.875ms
    
    # Subtest: hooks.add should add a hook to the given hook
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        1..14
    ok 2 - hooks.add should add a hook to the given hook # time=4.221ms
    
    # Subtest: hooks should throw on unexisting handler
        1..1
        ok 1 - (unnamed test)
    ok 3 - hooks should throw on unexisting handler # time=1.002ms
    
    # Subtest: should throw on wrong parameters
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 4 - should throw on wrong parameters # time=1.549ms
    
    1..4
    # time=58.162ms
ok 54 - test/internals/hooks.test.js # time=58.162ms

# Subtest: test/internals/initialConfig.test.js
    # Subtest: Fastify.initialConfig is an object
        1..1
        ok 1 - type is object
    ok 1 - Fastify.initialConfig is an object # time=35.445ms
    
    # Subtest: without options passed to Fastify, initialConfig should expose default values
        1..1
        ok 1 - should be equivalent
    ok 2 - without options passed to Fastify, initialConfig should expose default values # time=8.093ms
    
    # Subtest: Fastify.initialConfig should expose all options
        1..20
        ok 1 - should be equal
        ok 2 - for security reason the key cert is hidden
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - expect truthy value
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equal
    ok 3 - Fastify.initialConfig should expose all options # time=10.049ms
    
    # Subtest: Should throw if you try to modify Fastify.initialConfig
        1..4
        ok 1 - type is TypeError
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - (unnamed test)
    ok 4 - Should throw if you try to modify Fastify.initialConfig # time=3ms
    
    # Subtest: We must avoid shallow freezing and ensure that the whole object is freezed
        1..4
        ok 1 - type is TypeError
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - key cert removed
    ok 5 - We must avoid shallow freezing and ensure that the whole object is freezed # time=26.424ms
    
    # Subtest: https value check
        1..1
        ok 1 - expect falsey value
    ok 6 - https value check # time=1.311ms
    
    # Subtest: Return an error if options do not match the validation schema
        1..6
        ok 1 - type is Error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
        ok 6 - (unnamed test)
    ok 7 - Return an error if options do not match the validation schema # time=57.769ms
    
    # Subtest: Original options must not be frozen
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - Original options must not be frozen # time=2.739ms
    
    # Subtest: Original options must not be altered (test deep cloning)
        1..3
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 9 - Original options must not be altered (test deep cloning) # time=4.776ms
    
    # Subtest: Should not have issues when passing stream options to Pino.js
        1..15
        ok 1 - type is object
        ok 2 - should be equivalent
        ok 3 - listen at log message is ok
        ok 4 - should not error
        ok 5 - reqId is defined
        ok 6 - req is defined
        ok 7 - message is set
        ok 8 - method is get
        ok 9 - expect truthy value
        ok 10 - should be equal
        ok 11 - reqId is defined
        ok 12 - res is defined
        ok 13 - message is set
        ok 14 - statusCode is 200
        ok 15 - responseTime is defined
    ok 10 - Should not have issues when passing stream options to Pino.js # time=40.339ms
    
    # Subtest: deepFreezeObject() should not throw on TypedArray
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - (unnamed test)
    ok 11 - deepFreezeObject() should not throw on TypedArray # time=1.614ms
    
    # Subtest: Fastify.initialConfig should accept the deprecated versioning option
        1..1
        ok 1 - should be equal
    ok 12 - Fastify.initialConfig should accept the deprecated versioning option # time=4.575ms
    
    # Subtest: pluginTimeout should be parsed correctly
        ok 1 - should be equal
        ok 2 - should be equal
        1..2
    ok 13 - pluginTimeout should be parsed correctly # time=2.735ms
    
    1..13
    # time=272.331ms
ok 55 - test/internals/initialConfig.test.js # time=272.331ms

# Subtest: test/internals/logger.test.js
    # Subtest: time resolution
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - time resolution # time=6.637ms
    
    # Subtest: The logger should add a unique id for every request
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - the id should not be duplicated
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - the id should not be duplicated
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - the id should not be duplicated
        ok 11 - expect truthy value
        ok 12 - should not error
        ok 13 - the id should not be duplicated
        ok 14 - expect truthy value
        ok 15 - should not error
        ok 16 - the id should not be duplicated
        ok 17 - expect truthy value
        ok 18 - should not error
        ok 19 - the id should not be duplicated
        ok 20 - expect truthy value
        ok 21 - should not error
        ok 22 - the id should not be duplicated
        ok 23 - expect truthy value
        ok 24 - should not error
        ok 25 - the id should not be duplicated
        ok 26 - expect truthy value
        ok 27 - should not error
        ok 28 - the id should not be duplicated
        ok 29 - expect truthy value
        ok 30 - should not error
        ok 31 - the id should not be duplicated
        1..31
    ok 2 - The logger should add a unique id for every request # time=87.402ms
    
    # Subtest: The logger should reuse request id header for req.id
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - the request id from the header should be returned
        1..4
    ok 3 - The logger should reuse request id header for req.id # time=13.527ms
    
    # Subtest: The logger should error if both stream and file destination are given
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - The logger should error if both stream and file destination are given # time=2.027ms
    
    # Subtest: The serializer prevent fails if the request socket is undefined
        1..1
        ok 1 - should be equivalent
    ok 5 - The serializer prevent fails if the request socket is undefined # time=5.504ms
    
    1..5
    # time=126.303ms
ok 56 - test/internals/logger.test.js # time=126.303ms

# Subtest: test/internals/plugin.test.js
    # Subtest: shouldSkipOverride should check the 'skip-override' symbol
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 1 - shouldSkipOverride should check the 'skip-override' symbol # time=6.063ms
    
    # Subtest: getPluginName should return plugin name if the file is cached
        1..1
        ok 1 - should be equal
    ok 2 - getPluginName should return plugin name if the file is cached # time=1.781ms
    
    # Subtest: getMeta should return the object stored with the 'plugin-meta' symbol
        1..1
        ok 1 - should be equivalent
    ok 3 - getMeta should return the object stored with the 'plugin-meta' symbol # time=4.688ms
    
    # Subtest: checkDecorators should check if the given decorator is present in the instance
        1..1
        ok 1 - Everything ok
    ok 4 - checkDecorators should check if the given decorator is present in the instance # time=1.498ms
    
    # Subtest: checkDecorators should check if the given decorator is present in the instance (errored)
        1..1
        ok 1 - should be equal
    ok 5 - checkDecorators should check if the given decorator is present in the instance (errored) # time=1.098ms
    
    # Subtest: checkDecorators should accept optional decorators
        1..1
        ok 1 - Everything ok
    ok 6 - checkDecorators should accept optional decorators # time=0.698ms
    
    # Subtest: checkDependencies should check if the given dependency is present in the instance
        1..1
        ok 1 - Everything ok
    ok 7 - checkDependencies should check if the given dependency is present in the instance # time=0.932ms
    
    # Subtest: checkDependencies should check if the given dependency is present in the instance (errored)
        1..1
        ok 1 - should be equal
    ok 8 - checkDependencies should check if the given dependency is present in the instance (errored) # time=22.677ms
    
    1..8
    # time=94.377ms
ok 57 - test/internals/plugin.test.js # time=94.377ms

# Subtest: test/internals/reply-serialize.test.js
    # Subtest: Reply\#compileSerializationSchema
        1..4
        # Subtest: Should return a serialization function
            1..4
            ok 1 - type is Function
            ok 2 - type is string
            ok 3 - should be equal
            ok 4 - should be equal
        ok 1 - Should return a serialization function # time=79.048ms
        
        # Subtest: Should reuse the serialize fn across multiple invocations - Route without schema
            1..17
            ok 1 - build the schema compilation function
            ok 2 - type is Function
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - Are the same validate function
            ok 6 - type is Function
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - Are the same validate function
            ok 10 - type is Function
            ok 11 - should be equal
            ok 12 - should be equal
            ok 13 - Are the same validate function
            ok 14 - type is Function
            ok 15 - should be equal
            ok 16 - should be equal
            ok 17 - should be equal
        ok 2 - Should reuse the serialize fn across multiple invocations - Route without schema # time=23.891ms
        
        # Subtest: Should use the custom serializer compiler for the route
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equivalent
            ok 7 - {"hello":"world"}
            ok 8 - should be equivalent
            ok 9 - {"hello":"world"}
            ok 10 - should be equal
        ok 3 - Should use the custom serializer compiler for the route # time=36.889ms
        
        # Subtest: Should build a WeakMap for cache when called
            1..4
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
            ok 4 - should be equal
        ok 4 - Should build a WeakMap for cache when called # time=9.222ms
        
    ok 1 - Reply\#compileSerializationSchema # time=167.676ms
    
    # Subtest: Reply\#getSerializationFunction
        1..3
        # Subtest: Should retrieve the serialization function from the Schema definition
            1..9
            ok 1 - type is Function
            ok 2 - type is Function
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - expect falsey value
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
        ok 1 - Should retrieve the serialization function from the Schema definition # time=23.434ms
        
        # Subtest: Should retrieve the serialization function from the cached one
            1..6
            ok 1 - type is Function
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
        ok 2 - Should retrieve the serialization function from the cached one # time=9.323ms
        
        # Subtest: Should not instantiate a WeakMap if it is not needed
            1..4
            ok 1 - expect falsey value
            ok 2 - should be equal
            ok 3 - expect falsey value
            ok 4 - should be equal
        ok 3 - Should not instantiate a WeakMap if it is not needed # time=19.122ms
        
    ok 2 - Reply\#getSerializationFunction # time=74.449ms
    
    # Subtest: Reply\#serializeInput
        1..5
        # Subtest: Should throw if missed serialization function from HTTP status
            1..2
            ok 1 - should be equal
            ok 2 - should be equivalent
        ok 1 - Should throw if missed serialization function from HTTP status # time=40.479ms
        
        # Subtest: Should use a serializer fn from HTTP status
            1..4
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
        ok 2 - Should use a serializer fn from HTTP status # time=34.884ms
        
        # Subtest: Should compile a serializer out of a schema if serializer fn missed
            1..10
            ok 1 - should be equal
            ok 2 - expect falsey value
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 3 - Should compile a serializer out of a schema if serializer fn missed # time=16.003ms
        
        # Subtest: Should use a cached serializer fn
            1..12
            ok 1 - should be equal
            ok 2 - expect falsey value
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
            ok 11 - should be equal
            ok 12 - should be equal
        ok 4 - Should use a cached serializer fn # time=9.554ms
        
        # Subtest: Should instantiate a WeakMap after first call
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
        ok 5 - Should instantiate a WeakMap after first call # time=26.828ms
        
    ok 3 - Reply\#serializeInput # time=137.166ms
    
    1..3
    # time=395.935ms
ok 58 - test/internals/reply-serialize.test.js # time=395.935ms

# Subtest: test/internals/reply.test.js
    # Subtest: Once called, Reply should return an object with methods
        1..13
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should be equal
        ok 13 - should be equal
    ok 1 - Once called, Reply should return an object with methods # time=13.216ms
    
    # Subtest: reply.send will logStream error and destroy the stream
        1..1
        ok 1 - Error not logged and not streamed
    ok 2 - reply.send will logStream error and destroy the stream # time=25.471ms
    
    # Subtest: reply.send throw with circular JSON
        1..1
        ok 1 - Converting circular structure to JSON
    ok 3 - reply.send throw with circular JSON # time=1.636ms
    
    # Subtest: reply.send returns itself
        1..1
        ok 1 - should be equal
    ok 4 - reply.send returns itself # time=1.495ms
    
    # Subtest: reply.serializer should set a custom serializer
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 5 - reply.serializer should set a custom serializer # time=1.038ms
    
    # Subtest: reply.serializer should support running preSerialization hooks
        1..3
        ok 1 - preSerialization
        ok 2 - should not error
        ok 3 - should be equal
    ok 6 - reply.serializer should support running preSerialization hooks # time=707.746ms
    
    # Subtest: reply.serialize should serialize payload
        1..1
        ok 1 - should be equal
    ok 7 - reply.serialize should serialize payload # time=0.946ms
    
    # Subtest: reply.serialize should serialize payload with a custom serializer
        1..2
        ok 1 - should be equal
        ok 2 - custom serializer not called
    ok 8 - reply.serialize should serialize payload with a custom serializer # time=0.797ms
    
    # Subtest: reply.serialize should serialize payload with a context default serializer
        1..2
        ok 1 - should be equal
        ok 2 - custom serializer not called
    ok 9 - reply.serialize should serialize payload with a context default serializer # time=0.908ms
    
    # Subtest: reply.serialize should serialize payload with Fastify instance
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - reply.serialize should serialize payload with Fastify instance # time=19.812ms
    
    # Subtest: within an instance
        ok 1 - should not error
        # Subtest: custom serializer should be used
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - custom serializer should be used # time=35.008ms
        
        # Subtest: status code and content-type should be correct
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 3 - status code and content-type should be correct # time=6.378ms
        
        # Subtest: auto status code shoud be 200
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - auto status code shoud be 200 # time=5.141ms
        
        # Subtest: auto type shoud be text/plain
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - auto type shoud be text/plain # time=4.266ms
        
        # Subtest: redirect to `/` - 1
            1..1
            ok 1 - should be equal
        ok 6 - redirect to `/` - 1 # time=4.007ms
        
        # Subtest: redirect to `/` - 2
            1..1
            ok 1 - should be equal
        ok 7 - redirect to `/` - 2 # time=3.548ms
        
        # Subtest: redirect to `/` - 3
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 8 - redirect to `/` - 3 # time=17.466ms
        
        # Subtest: redirect to `/` - 4
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 9 - redirect to `/` - 4 # time=8.777ms
        
        # Subtest: redirect to `/` - 5
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
        ok 10 - redirect to `/` - 5 # time=3.84ms
        
        # Subtest: redirect to `/` - 6
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 11 - redirect to `/` - 6 # time=7.215ms
        
        # Subtest: redirect to `/` - 7
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 12 - redirect to `/` - 7 # time=7.577ms
        
        # Subtest: redirect to `/` - 8
            1..1
            ok 1 - should be equal
        ok 13 - redirect to `/` - 8 # time=3.253ms
        
        # Subtest: redirect to `/` - 9
            1..1
            ok 1 - should be equal
        ok 14 - redirect to `/` - 9 # time=3.434ms
        
        # Subtest: redirect with async function to `/` - 10
            1..1
            ok 1 - should be equal
        ok 15 - redirect with async function to `/` - 10 # time=3.444ms
        
        1..15
    ok 11 - within an instance # time=179.063ms
    
    # Subtest: buffer without content type should send a application/octet-stream and raw buffer
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 12 - buffer without content type should send a application/octet-stream and raw buffer # time=14.572ms
    
    # Subtest: buffer with content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 13 - buffer with content type should not send application/octet-stream # time=9.242ms
    
    # Subtest: stream with content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 14 - stream with content type should not send application/octet-stream # time=17.177ms
    
    # Subtest: stream without content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 15 - stream without content type should not send application/octet-stream # time=85.068ms
    
    # Subtest: stream using reply.raw.writeHead should return customize headers
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 16 - stream using reply.raw.writeHead should return customize headers # time=34.366ms
    
    # Subtest: plain string without content type should send a text/plain
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 17 - plain string without content type should send a text/plain # time=25.291ms
    
    # Subtest: plain string with content type should be sent unmodified
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - plain string with content type should be sent unmodified # time=14.928ms
    
    # Subtest: plain string with content type and custom serializer should be serialized
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 19 - plain string with content type and custom serializer should be serialized # time=7.542ms
    
    # Subtest: plain string with content type application/json should NOT be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 20 - plain string with content type application/json should NOT be serialized as json # time=8.399ms
    
    # Subtest: plain string with custom json content type should NOT be serialized as json
        1..19
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equivalent
    ok 21 - plain string with custom json content type should NOT be serialized as json # time=43.196ms
    
    # Subtest: non-string with content type application/json SHOULD be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 22 - non-string with content type application/json SHOULD be serialized as json # time=24.434ms
    
    # Subtest: non-string with custom json's content-type SHOULD be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 23 - non-string with custom json's content-type SHOULD be serialized as json # time=21.181ms
    
    # Subtest: non-string with custom json content type SHOULD be serialized as json
        1..16
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 24 - non-string with custom json content type SHOULD be serialized as json # time=21.023ms
    
    # Subtest: error object with a content type that is not application/json should work
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 25 - error object with a content type that is not application/json should work # time=34.095ms
    
    # Subtest: undefined payload should be sent as-is
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 26 - undefined payload should be sent as-is # time=10.547ms
    
    # Subtest: for HEAD method, no body should be sent but content-length should be
        1..11
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
    ok 27 - for HEAD method, no body should be sent but content-length should be # time=10.812ms
    
    # Subtest: reply.send(new NotFound()) should not invoke the 404 handler
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 28 - reply.send(new NotFound()) should not invoke the 404 handler # time=24.535ms
    
    # Subtest: reply can set multiple instances of same header
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - expect truthy value
        ok 4 - should be equivalent strictly
    ok 29 - reply can set multiple instances of same header # time=11.486ms
    
    # Subtest: reply.hasHeader returns correct values
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 30 - reply.hasHeader returns correct values # time=6.085ms
    
    # Subtest: reply.getHeader returns correct values
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
        ok 4 - should be equivalent strictly
    ok 31 - reply.getHeader returns correct values # time=16.217ms
    
    # Subtest: reply.getHeader returns raw header if there is not in the reply headers
        1..1
        ok 1 - should be equal
    ok 32 - reply.getHeader returns raw header if there is not in the reply headers # time=4.62ms
    
    # Subtest: reply.getHeaders returns correct values
        1..3
        ok 1 - should be equivalent strictly
        ok 2 - should be equivalent strictly
        ok 3 - should not error
    ok 33 - reply.getHeaders returns correct values # time=9.066ms
    
    # Subtest: reply.removeHeader can remove the value
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent strictly
        ok 5 - (unnamed test)
    ok 34 - reply.removeHeader can remove the value # time=21.029ms
    
    # Subtest: reply.header can reset the value
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent strictly
        ok 3 - (unnamed test)
    ok 35 - reply.header can reset the value # time=13.195ms
    
    # Subtest: reply.hasHeader computes raw and fastify headers
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - (unnamed test)
    ok 36 - reply.hasHeader computes raw and fastify headers # time=12.82ms
    
    # Subtest: Reply should handle JSON content type with a charset
        1..16
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should not error
        ok 16 - should be equal
    ok 37 - Reply should handle JSON content type with a charset # time=17.566ms
    
    # Subtest: Content type and charset set previously
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 38 - Content type and charset set previously # time=4.822ms
    
    # Subtest: .status() is an alias for .code()
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 39 - .status() is an alias for .code() # time=4.2ms
    
    # Subtest: .statusCode is getter and setter
        1..4
        ok 1 - 200
        ok 2 - 418
        ok 3 - should not error
        ok 4 - should be equal
    ok 40 - .statusCode is getter and setter # time=6.893ms
    
    # Subtest: reply.header setting multiple cookies as multiple Set-Cookie headers
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equivalent strictly
        ok 4 - should not error
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - should be equivalent strictly
    ok 41 - reply.header setting multiple cookies as multiple Set-Cookie headers # time=10.501ms
    
    # Subtest: should emit deprecation warning when trying to modify the reply.sent property
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 42 - should emit deprecation warning when trying to modify the reply.sent property # time=5.503ms
    
    # Subtest: should throw error when passing falsy value to reply.sent
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 43 - should throw error when passing falsy value to reply.sent # time=4.583ms
    
    # Subtest: should throw error when attempting to set reply.sent more than once
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 44 - should throw error when attempting to set reply.sent more than once # time=4.607ms
    
    # Subtest: should not throw error when attempting to set reply.sent if the underlining request was sent
        1..3
        ok 1 - expected to not throw
        ok 2 - should not error
        ok 3 - (unnamed test)
    ok 45 - should not throw error when attempting to set reply.sent if the underlining request was sent # time=4.656ms
    
    # Subtest: reply.getResponseTime() should return 0 before the timer is initialised on the reply by setting up response listeners
        1..1
        ok 1 - should be equal
    ok 46 - reply.getResponseTime() should return 0 before the timer is initialised on the reply by setting up response listeners # time=0.982ms
    
    # Subtest: reply.getResponseTime() should return a number greater than 0 after the timer is initialised on the reply by setting up response listeners
        1..1
        ok 1 - expect truthy value
    ok 47 - reply.getResponseTime() should return a number greater than 0 after the timer is initialised on the reply by setting up response listeners # time=4.435ms
    
    # Subtest: reply.getResponseTime() should return the time since a request started while inflight
        1..1
        ok 1 - should not be equal
    ok 48 - reply.getResponseTime() should return the time since a request started while inflight # time=3.932ms
    
    # Subtest: reply.getResponseTime() should return the same value after a request is finished
        1..1
        ok 1 - should be equal
    ok 49 - reply.getResponseTime() should return the same value after a request is finished # time=10.684ms
    
    # Subtest: reply should use the custom serializer
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 50 - reply should use the custom serializer # time=7.351ms
    
    # Subtest: reply should use the right serializer in encapsulated context
        1..9
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 51 - reply should use the right serializer in encapsulated context # time=11.451ms
    
    # Subtest: reply should use the right serializer in deep encapsulated context
        1..8
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 52 - reply should use the right serializer in deep encapsulated context # time=11.203ms
    
    # Subtest: reply should use the route serializer
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equal
    ok 53 - reply should use the route serializer # time=4.673ms
    
    # Subtest: cannot set the replySerializer when the server is running
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 54 - cannot set the replySerializer when the server is running # time=12.589ms
    
    # Subtest: reply should not call the custom serializer for errors and not found
        1..9
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 55 - reply should not call the custom serializer for errors and not found # time=8.739ms
    
    # Subtest: reply.then
        1..4
        # Subtest: without an error
            1..1
            ok 1 - fulfilled called
        ok 1 - without an error # time=11.239ms
        
        # Subtest: with an error
            1..1
            ok 1 - should be equal
        ok 2 - with an error # time=1.512ms
        
        # Subtest: with error but without reject callback
            1..1
            ok 1 - (unnamed test)
        ok 3 - with error but without reject callback # time=0.953ms
        
        # Subtest: with error, without reject callback, with logger
            1..1
            ok 1 - should be equal
        ok 4 - with error, without reject callback, with logger # time=1.542ms
        
    ok 56 - reply.then # time=22.64ms
    
    # Subtest: reply.sent should read from response.writableEnded if it is defined
        1..1
        ok 1 - should be equal
    ok 57 - reply.sent should read from response.writableEnded if it is defined # time=1.608ms
    
    # Subtest: redirect to an invalid URL should not crash the server
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        1..7
    ok 58 - redirect to an invalid URL should not crash the server # time=31.168ms
    
    # Subtest: invalid response headers should not crash the server
        ok 1 - only the first invalid header is logged
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 59 - invalid response headers should not crash the server # time=8.106ms
    
    # Subtest: invalid response headers when sending back an error
        ok 1 - only the first invalid header is logged
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 60 - invalid response headers when sending back an error # time=7.143ms
    
    # Subtest: invalid response headers and custom error handler
        ok 1 - custom error handler receives the error
        ok 2 - only the first invalid header is logged
        ok 3 - should be equal
        ok 4 - should be equivalent
        1..4
    ok 61 - invalid response headers and custom error handler # time=7.492ms
    
    1..61
    # time=1750.739ms
ok 59 - test/internals/reply.test.js # time=1750.739ms

# Subtest: test/internals/request-validate.test.js
    # Subtest: \#compileValidationSchema
        1..5
        # Subtest: Should return a function - Route without schema
            1..3
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
        ok 1 - Should return a function - Route without schema # time=144.3ms
        
        # Subtest: Should reuse the validate fn across multiple invocations - Route without schema
            1..16
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
            ok 4 - Are the same validate function
            ok 5 - type is Function
            ok 6 - expect truthy value
            ok 7 - expect falsey value
            ok 8 - Are the same validate function
            ok 9 - type is Function
            ok 10 - expect truthy value
            ok 11 - expect falsey value
            ok 12 - Are the same validate function
            ok 13 - type is Function
            ok 14 - expect truthy value
            ok 15 - expect falsey value
            ok 16 - should be equal
        ok 2 - Should reuse the validate fn across multiple invocations - Route without schema # time=55.439ms
        
        # Subtest: Should return a function - Route with schema
            1..3
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
        ok 3 - Should return a function - Route with schema # time=77.389ms
        
        # Subtest: Should use the custom validator compiler for the route
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equivalent
            ok 7 - expect truthy value
            ok 8 - should be equivalent
            ok 9 - expect truthy value
            ok 10 - should be equal
        ok 4 - Should use the custom validator compiler for the route # time=15.922ms
        
        # Subtest: Should instantiate a WeakMap when executed for first time
            1..5
            ok 1 - should be equal
            ok 2 - type is Function
            ok 3 - type is WeakMap
            ok 4 - type is Function
            ok 5 - type is WeakMap
        ok 5 - Should instantiate a WeakMap when executed for first time # time=44.605ms
        
    ok 1 - \#compileValidationSchema # time=357.673ms
    
    # Subtest: \#getValidationFunction
        1..4
        # Subtest: Should return a validation function
            1..1
            ok 1 - should be equal
        ok 1 - Should return a validation function # time=44.57ms
        
        # Subtest: Should return undefined if no schema compiled
            1..2
            ok 1 - expect falsey value
            ok 2 - expect falsey value
        ok 2 - Should return undefined if no schema compiled # time=8.275ms
        
        # Subtest: Should return the validation function from each HTTP part
            1..15
            ok 1 - expect truthy value
            ok 2 - expect truthy value
            ok 3 - expect falsey value
            ok 4 - expect truthy value
            ok 5 - expect truthy value
            ok 6 - expect falsey value
            ok 7 - expect truthy value
            ok 8 - expect truthy value
            ok 9 - expect truthy value
            ok 10 - expect truthy value
            ok 11 - expect falsey value
            ok 12 - should be equal
            ok 13 - expect truthy value
            ok 14 - expect falsey value
            ok 15 - should be equal
        ok 3 - Should return the validation function from each HTTP part # time=68.516ms
        
        # Subtest: Should not set a WeakMap if there is no schema
            1..1
            ok 1 - should be equal
        ok 4 - Should not set a WeakMap if there is no schema # time=18.344ms
        
    ok 2 - \#getValidationFunction # time=152.613ms
    
    # Subtest: \#validate
        1..7
        # Subtest: Should return true/false if input valid - Route without schema
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 1 - Should return true/false if input valid - Route without schema # time=70.591ms
        
        # Subtest: Should use the custom validator compiler for the route
            1..9
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equivalent
            ok 6 - should be equivalent
            ok 7 - expect truthy value
            ok 8 - expect truthy value
            ok 9 - should be equal
        ok 2 - Should use the custom validator compiler for the route # time=8.85ms
        
        # Subtest: Should return true/false if input valid - With Schema for Route defined
            1..8
            ok 1 - expect truthy value
            ok 2 - expect falsey value
            ok 3 - expect falsey value
            ok 4 - expect truthy value
            ok 5 - expect falsey value
            ok 6 - expect truthy value
            ok 7 - expect truthy value
            ok 8 - expect falsey value
        ok 3 - Should return true/false if input valid - With Schema for Route defined # time=98.282ms
        
        # Subtest: Should throw if missing validation fn for HTTP part and not schema provided
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 4 - Should throw if missing validation fn for HTTP part and not schema provided # time=11.819ms
        
        # Subtest: Should throw if missing validation fn for HTTP part and not valid schema provided
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 5 - Should throw if missing validation fn for HTTP part and not valid schema provided # time=32.205ms
        
        # Subtest: Should throw if invalid schema passed
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 6 - Should throw if invalid schema passed # time=10.616ms
        
        # Subtest: Should set a WeakMap if compiling the very first schema
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
        ok 7 - Should set a WeakMap if compiling the very first schema # time=32.162ms
        
    ok 3 - \#validate # time=274.605ms
    
    # Subtest: Nested Context
        1..1
        # Subtest: Level_1
            1..3
            # Subtest: \#compileValidationSchema
                1..4
                # Subtest: Should return a function - Route without schema
                    1..3
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                ok 1 - Should return a function - Route without schema # time=156.561ms
                
                # Subtest: Should reuse the validate fn across multiple invocations - Route without schema
                    1..16
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                    ok 4 - Are the same validate function
                    ok 5 - type is Function
                    ok 6 - expect truthy value
                    ok 7 - expect falsey value
                    ok 8 - Are the same validate function
                    ok 9 - type is Function
                    ok 10 - expect truthy value
                    ok 11 - expect falsey value
                    ok 12 - Are the same validate function
                    ok 13 - type is Function
                    ok 14 - expect truthy value
                    ok 15 - expect falsey value
                    ok 16 - should be equal
                ok 2 - Should reuse the validate fn across multiple invocations - Route without schema # time=42.375ms
                
                # Subtest: Should return a function - Route with schema
                    1..3
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                ok 3 - Should return a function - Route with schema # time=46.03ms
                
                # Subtest: Should use the custom validator compiler for the route
                    1..10
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - should be equal
                    ok 5 - should be equal
                    ok 6 - should be equivalent
                    ok 7 - expect truthy value
                    ok 8 - should be equivalent
                    ok 9 - expect truthy value
                    ok 10 - should be equal
                ok 4 - Should use the custom validator compiler for the route # time=9.523ms
                
            ok 1 - \#compileValidationSchema # time=265.322ms
            
            # Subtest: \#getValidationFunction
                1..6
                # Subtest: Should return a validation function
                    1..1
                    ok 1 - should be equal
                ok 1 - Should return a validation function # time=57.461ms
                
                # Subtest: Should return undefined if no schema compiled
                    1..1
                    ok 1 - expect falsey value
                ok 2 - Should return undefined if no schema compiled # time=9.281ms
                
                # Subtest: Should return the validation function from each HTTP part
                    1..15
                    ok 1 - expect truthy value
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                    ok 4 - expect truthy value
                    ok 5 - expect truthy value
                    ok 6 - expect falsey value
                    ok 7 - expect truthy value
                    ok 8 - expect truthy value
                    ok 9 - expect truthy value
                    ok 10 - expect truthy value
                    ok 11 - expect falsey value
                    ok 12 - should be equal
                    ok 13 - expect truthy value
                    ok 14 - expect falsey value
                    ok 15 - should be equal
                ok 3 - Should return the validation function from each HTTP part # time=45.15ms
                
                # Subtest: Should return a validation function - nested
                    1..6
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - expect falsey value
                    ok 5 - should be equal
                    ok 6 - should be equal
                ok 4 - Should return a validation function - nested # time=8.576ms
                
                # Subtest: Should return undefined if no schema compiled - nested
                    1..3
                    ok 1 - should be equal
                    ok 2 - expect falsey value
                    ok 3 - should be equal
                ok 5 - Should return undefined if no schema compiled - nested # time=8.386ms
                
                # Subtest: Should per-route defined validation compiler
                    1..5
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should not be equal
                    ok 4 - should be equal
                    ok 5 - should be equal
                ok 6 - Should per-route defined validation compiler # time=8.754ms
                
            ok 2 - \#getValidationFunction # time=149.611ms
            
            # Subtest: \#validate
                1..3
                # Subtest: Should return true/false if input valid - Route without schema
                    1..2
                    ok 1 - expect falsey value
                    ok 2 - expect truthy value
                ok 1 - Should return true/false if input valid - Route without schema # time=39.111ms
                
                # Subtest: Should use the custom validator compiler for the route
                    1..10
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - should be equal
                    ok 5 - should be equivalent
                    ok 6 - should be equivalent
                    ok 7 - expect truthy value
                    ok 8 - expect truthy value
                    ok 9 - should be equal
                    ok 10 - should be equal
                ok 2 - Should use the custom validator compiler for the route # time=8.705ms
                
                # Subtest: Should return true/false if input valid - With Schema for Route defined and scoped validator compiler
                    1..13
                    ok 1 - expect truthy value
                    ok 2 - expect falsey value
                    ok 3 - expect falsey value
                    ok 4 - expect truthy value
                    ok 5 - expect falsey value
                    ok 6 - expect truthy value
                    ok 7 - expect truthy value
                    ok 8 - expect falsey value
                    ok 9 - should be equal
                    ok 10 - should be equal
                    ok 11 - should be equal
                    ok 12 - should be equal
                    ok 13 - should be equal
                ok 3 - Should return true/false if input valid - With Schema for Route defined and scoped validator compiler # time=103.595ms
                
            ok 3 - \#validate # time=158.482ms
            
        ok 1 - Level_1 # time=586.108ms
        
    ok 4 - Nested Context # time=590.787ms
    
    1..4
    # time=1381.564ms
ok 60 - test/internals/request-validate.test.js # time=1381.564ms

# Subtest: test/internals/request.test.js
    # Subtest: Regular request
        ok 1 - type is Request
        ok 2 - type is Function
        ok 3 - type is Function
        ok 4 - type is Function
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        1..19
    ok 1 - Regular request # time=12.626ms
    
    # Subtest: Regular request - hostname from authority
        1..2
        ok 1 - type is Request
        ok 2 - should be equal
    ok 2 - Regular request - hostname from authority # time=1.389ms
    
    # Subtest: Regular request - host header has precedence over authority
        1..2
        ok 1 - type is Request
        ok 2 - should be equal
    ok 3 - Regular request - host header has precedence over authority # time=0.904ms
    
    # Subtest: Request with trust proxy
        1..18
        ok 1 - type is _Request
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - type is Function
        ok 17 - type is Function
        ok 18 - type is Function
    ok 4 - Request with trust proxy # time=10.295ms
    
    # Subtest: Request with trust proxy, encrypted
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 5 - Request with trust proxy, encrypted # time=1.057ms
    
    # Subtest: Request with trust proxy - no x-forwarded-host header
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 6 - Request with trust proxy - no x-forwarded-host header # time=0.752ms
    
    # Subtest: Request with trust proxy - no x-forwarded-host header and fallback to authority
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 7 - Request with trust proxy - no x-forwarded-host header and fallback to authority # time=0.733ms
    
    # Subtest: Request with trust proxy - x-forwarded-host header has precedence over host
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 8 - Request with trust proxy - x-forwarded-host header has precedence over host # time=3.29ms
    
    # Subtest: Request with trust proxy - handles multiple entries in x-forwarded-host/proto
        1..3
        ok 1 - type is _Request
        ok 2 - should be equal
        ok 3 - should be equal
    ok 9 - Request with trust proxy - handles multiple entries in x-forwarded-host/proto # time=1.176ms
    
    # Subtest: Request with trust proxy - plain
        1..1
        ok 1 - should be equivalent
    ok 10 - Request with trust proxy - plain # time=1.002ms
    
    # Subtest: Request with undefined socket
        1..18
        ok 1 - type is Request
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equivalent
        ok 16 - type is Function
        ok 17 - type is Function
        ok 18 - type is Function
    ok 11 - Request with undefined socket # time=3.761ms
    
    # Subtest: Request with trust proxy and undefined socket
        1..1
        ok 1 - should be equivalent
    ok 12 - Request with trust proxy and undefined socket # time=0.754ms
    
    1..12
    # time=110.463ms
ok 61 - test/internals/request.test.js # time=110.463ms

# Subtest: test/internals/server.test.js
    # Subtest: start listening
        ok 1 - server started
        1..1
    ok 1 - start listening # time=42.317ms
    
    # Subtest: DNS errors does not stop the main server on localhost - promise interface
        ok 1 - server started
        1..1
    ok 2 - DNS errors does not stop the main server on localhost - promise interface # time=15.803ms
    
    # Subtest: DNS errors does not stop the main server on localhost - callback interface
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 3 - DNS errors does not stop the main server on localhost - callback interface # time=28.737ms
    
    # Subtest: DNS returns empty binding
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 4 - DNS returns empty binding # time=24.569ms
    
    # Subtest: DNS returns more than two binding
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 5 - DNS returns more than two binding # time=15.284ms
    
    1..5
    # time=135.884ms
ok 62 - test/internals/server.test.js # time=135.884ms

# Subtest: test/internals/validation.test.js
    # Subtest: Symbols
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 1 - Symbols # time=7.209ms
    
    # Subtest: compileSchemasForValidation schema - missing schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - compileSchemasForValidation schema - missing schema # time=1.763ms
    
    # Subtest: compileSchemasForValidation schema - missing output schema
        1..1
        ok 1 - should be equal
    ok 3 - compileSchemasForValidation schema - missing output schema # time=0.942ms
    
    # Subtest: compileSchemasForSerialization schema - missing schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - compileSchemasForSerialization schema - missing schema # time=1.37ms
    
    # Subtest: compileSchemasForSerialization schema - missing output schema
        1..1
        ok 1 - should be equal
    ok 5 - compileSchemasForSerialization schema - missing output schema # time=0.605ms
    
    # Subtest: build schema - output schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 6 - build schema - output schema # time=67.624ms
    
    # Subtest: build schema - payload schema
        1..1
        ok 1 - should be equal
    ok 7 - build schema - payload schema # time=1.945ms
    
    # Subtest: build schema - avoid repeated normalize schema
        1..3
        ok 1 - should not be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 8 - build schema - avoid repeated normalize schema # time=1.63ms
    
    # Subtest: build schema - query schema
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 9 - build schema - query schema # time=29.269ms
    
    # Subtest: build schema - query schema abbreviated
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 10 - build schema - query schema abbreviated # time=3.388ms
    
    # Subtest: build schema - querystring schema
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 11 - build schema - querystring schema # time=2.208ms
    
    # Subtest: build schema - querystring schema abbreviated
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 12 - build schema - querystring schema abbreviated # time=2.156ms
    
    # Subtest: build schema - must throw if querystring and query schema exist
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 13 - build schema - must throw if querystring and query schema exist # time=1.295ms
    
    # Subtest: build schema - params schema
        1..1
        ok 1 - should be equal
    ok 14 - build schema - params schema # time=1.937ms
    
    # Subtest: build schema - headers schema
        1..1
        ok 1 - should be equal
    ok 15 - build schema - headers schema # time=2.038ms
    
    # Subtest: build schema - headers are lowercase
        1..1
        ok 1 - lowercase content-type exists
    ok 16 - build schema - headers are lowercase # time=0.798ms
    
    # Subtest: build schema - headers are not lowercased in case of custom object
        1..1
        ok 1 - type is Headers
    ok 17 - build schema - headers are not lowercased in case of custom object # time=0.656ms
    
    # Subtest: build schema - uppercased headers are not included
        1..1
        ok 1 - uppercase does not exist
    ok 18 - build schema - uppercased headers are not included # time=0.657ms
    
    1..18
    # time=186.113ms
ok 63 - test/internals/validation.test.js # time=186.113ms

# Subtest: test/keepAliveTimeout.test.js
    # Subtest: keepAliveTimeout
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not be equal
        ok 6 - should be equal
    ok 1 - keepAliveTimeout # time=43.38ms
    
    1..1
    # time=49.397ms
ok 64 - test/keepAliveTimeout.test.js # time=49.397ms

# Subtest: test/listen.deprecated.test.js
    # Subtest: listen accepts a port and a callback
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 1 - listen accepts a port and a callback # time=30.621ms
    
    # Subtest: listen accepts a port and a callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 2 - listen accepts a port and a callback with (err, address) # time=5.607ms
    
    # Subtest: listen accepts a port, address, and callback
        1..1
        ok 1 - should not error
    ok 3 - listen accepts a port, address, and callback # time=16.929ms
    
    # Subtest: listen accepts options, backlog and a callback
        1..1
        ok 1 - should not error
    ok 4 - listen accepts options, backlog and a callback # time=4.268ms
    
    # Subtest: listen accepts options (no port), backlog and a callback
        1..1
        ok 1 - should not error
    ok 5 - listen accepts options (no port), backlog and a callback # time=4.204ms
    
    # Subtest: listen accepts options (no host), backlog and a callback
        1..1
        ok 1 - should not error
    ok 6 - listen accepts options (no host), backlog and a callback # time=5.743ms
    
    # Subtest: listen accepts options (no port, no host), backlog and a callback
        1..1
        ok 1 - should not error
    ok 7 - listen accepts options (no port, no host), backlog and a callback # time=3.82ms
    
    # Subtest: listen accepts a port, address and a callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 8 - listen accepts a port, address and a callback with (err, address) # time=13.358ms
    
    # Subtest: listen accepts a port, address, backlog and callback
        1..1
        ok 1 - should not error
    ok 9 - listen accepts a port, address, backlog and callback # time=4.385ms
    
    # Subtest: listen accepts a port, address, backlog and callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 10 - listen accepts a port, address, backlog and callback with (err, address) # time=12.907ms
    
    # Subtest: listen without callback (port zero)
        1..1
        ok 1 - should be equal
    ok 11 - listen without callback (port zero) # time=15.415ms
    
    # Subtest: listen without callback (port not given)
        1..1
        ok 1 - should be equal
    ok 12 - listen without callback (port not given) # time=3.943ms
    
    # Subtest: listen null without callback with (address)
        1..1
        ok 1 - should be equal
    ok 13 - listen null without callback with (address) # time=15.834ms
    
    # Subtest: listen without port without callback with (address)
        1..1
        ok 1 - should be equal
    ok 14 - listen without port without callback with (address) # time=10.088ms
    
    # Subtest: listen with undefined without callback with (address)
        1..1
        ok 1 - should be equal
    ok 15 - listen with undefined without callback with (address) # time=7.309ms
    
    # Subtest: listen when firstArg is string(pipe) and without backlog
        1..1
        ok 1 - should be equal
    ok 16 - listen when firstArg is string(pipe) and without backlog # time=11.154ms
    
    # Subtest: listen when firstArg is string(pipe) and with backlog
        1..1
        ok 1 - should be equal
    ok 17 - listen when firstArg is string(pipe) and with backlog # time=15.031ms
    
    # Subtest: listen when firstArg is { path: string(pipe) } and with backlog and callback
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 18 - listen when firstArg is { path: string(pipe) } and with backlog and callback # time=3.367ms
    
    1..18
    # time=279.048ms
ok 65 - test/listen.deprecated.test.js # time=279.048ms

# Subtest: test/listen.test.js
    # Subtest: listen works without arguments
        ok 1 - should be equal
        ok 2 - expect truthy value
        1..2
    ok 1 - listen works without arguments # time=30.52ms
    
    # Subtest: Async/await listen with arguments
        1..1
        ok 1 - should be equal
    ok 2 - Async/await listen with arguments # time=5.208ms
    
    # Subtest: Promise listen with arguments
        1..1
        ok 1 - should be equal
    ok 3 - Promise listen with arguments # time=7.929ms
    
    # Subtest: listen accepts a callback
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 4 - listen accepts a callback # time=19.177ms
    
    # Subtest: listen accepts options and a callback
        1..1
        ok 1 - should not error
    ok 5 - listen accepts options and a callback # time=4.657ms
    
    # Subtest: listen after Promise.resolve()
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 6 - listen after Promise.resolve() # time=4.544ms
    
    # Subtest: register after listen using Promise.resolve()
        1..1
        ok 1 - resolved
    ok 7 - register after listen using Promise.resolve() # time=10.854ms
    
    # Subtest: double listen errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
    ok 8 - double listen errors # time=4.99ms
    
    # Subtest: double listen errors callback with (err, address)
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 9 - double listen errors callback with (err, address) # time=5.635ms
    
    # Subtest: listen twice on the same port
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 10 - listen twice on the same port # time=11.835ms
    
    # Subtest: listen twice on the same port callback with (err, address)
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 11 - listen twice on the same port callback with (err, address) # time=7.582ms
    
    # Subtest: listen on socket
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent strictly
        ok 3 - should be equal
    ok 12 - listen on socket # time=8.009ms
    
    # Subtest: listen without callback with (address)
        1..1
        ok 1 - should be equal
    ok 13 - listen without callback with (address) # time=4.459ms
    
    # Subtest: double listen without callback rejects
        1..1
        ok 1 - expect truthy value
    ok 14 - double listen without callback rejects # time=5.276ms
    
    # Subtest: double listen without callback with (address)
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 15 - double listen without callback with (address) # time=33.928ms
    
    # Subtest: listen twice on the same port without callback rejects
        1..1
        ok 1 - expect truthy value
    ok 16 - listen twice on the same port without callback rejects # time=6.922ms
    
    # Subtest: listen twice on the same port without callback rejects with (address)
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 17 - listen twice on the same port without callback rejects with (address) # time=10.8ms
    
    # Subtest: listen on invalid port without callback rejects
        ok 1 - expect truthy value
        1..1
    ok 18 - listen on invalid port without callback rejects # time=3.621ms
    
    # Subtest: listen logs the port as info
        1..1
        ok 1 - expect truthy value
    ok 19 - listen logs the port as info # time=3.801ms
    
    # Subtest: listen on localhost binds IPv4 and IPv6 - promise interface
        1..2
        ok 1 - should be equal
        ok 2 - should be equivalent
    ok 20 - listen on localhost binds IPv4 and IPv6 - promise interface # time=24.923ms
    
    # Subtest: listen on localhost binds to all interfaces (both IPv4 and IPv6 if present) - callback interface
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 21 - listen on localhost binds to all interfaces (both IPv4 and IPv6 if present) - callback interface # time=9.846ms
    
    # Subtest: addresses getter
        1..4
        ok 1 - before ready
        ok 2 - after ready
        ok 3 - after listen
        ok 4 - after close
    ok 22 - addresses getter # time=8.224ms
    
    1..22
    # time=334.279ms
ok 66 - test/listen.test.js # time=334.279ms

# Subtest: test/logger.test.js
    # Subtest: defaults to info level
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
        ok 13 - responseTime is defined
        1..13
    ok 1 - defaults to info level # time=58.386ms
    
    # Subtest: test log stream
        1..12
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
    ok 2 - test log stream # time=24.022ms
    
    # Subtest: test error log stream
        1..11
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - reqId is defined
        ok 9 - res is defined
        ok 10 - message is set
        ok 11 - statusCode is 500
    ok 3 - test error log stream # time=67.509ms
    
    # Subtest: can use external logger instance
        1..6
        ok 1 - "Server listening at http://127.0.0.1:36289" dont match "/^Server listening at /"
        ok 2 - should not error
        ok 3 - "incoming request" dont match "/^incoming request$/"
        ok 4 - expect truthy value
        ok 5 - "log success" dont match "/^log success$/"
        ok 6 - "request completed" dont match "/^request completed$/"
    ok 4 - can use external logger instance # time=21.746ms
    
    # Subtest: can use external logger instance with custom serializer
        1..6
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - expect truthy value
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 5 - can use external logger instance with custom serializer # time=28.619ms
    
    # Subtest: expose the logger
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equivalent
    ok 6 - expose the logger # time=2.422ms
    
    # Subtest: The request id header key can be customized
        1..9
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - message is set
        ok 6 - should be equal
        ok 7 - message is set
        ok 8 - should be equal
        ok 9 - message is set
    ok 7 - The request id header key can be customized # time=31.024ms
    
    # Subtest: The request id header key can be customized along with a custom id generator
        1..12
        ok 1 - should match pattern provided
        ok 2 - should be equal
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should be equal
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
    ok 8 - The request id header key can be customized along with a custom id generator # time=30.979ms
    
    # Subtest: The request id log label can be changed
        1..6
        ok 1 - should match pattern provided
        ok 2 - should be equal
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should not error
        ok 6 - should be equal
    ok 9 - The request id log label can be changed # time=15.272ms
    
    # Subtest: The logger should accept custom serializer
        1..9
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - req is defined
        ok 4 - message is set
        ok 5 - custom req serializer is use
        ok 6 - expect truthy value
        ok 7 - res is defined
        ok 8 - message is set
        ok 9 - default res serializer is use
    ok 10 - The logger should accept custom serializer # time=34.307ms
    
    # Subtest: reply.send logs an error if called twice in a row
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
    ok 11 - reply.send logs an error if called twice in a row # time=53.142ms
    
    # Subtest: logger can be silented
        1..17
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equivalent
        ok 10 - should be equivalent
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equivalent
        ok 14 - should be equivalent
        ok 15 - should be equivalent
        ok 16 - should be equivalent
        ok 17 - should be equivalent
    ok 12 - logger can be silented # time=5.12ms
    
    # Subtest: Should set a custom logLevel for a plugin
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equivalent
    ok 13 - Should set a custom logLevel for a plugin # time=12.962ms
    
    # Subtest: Should set a custom logSerializers for a plugin
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 14 - Should set a custom logSerializers for a plugin # time=35.087ms
    
    # Subtest: Should set a custom logLevel for every plugin
        1..18
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equivalent
        ok 15 - should not error
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equivalent
    ok 15 - Should set a custom logLevel for every plugin # time=19.862ms
    
    # Subtest: Should set a custom logSerializers for every plugin
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 16 - Should set a custom logSerializers for every plugin # time=31.891ms
    
    # Subtest: Should override serializers from route
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 17 - Should override serializers from route # time=10.857ms
    
    # Subtest: Should override serializers from plugin
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 18 - Should override serializers from plugin # time=20.205ms
    
    # Subtest: Should use serializers from plugin and route
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 19 - Should use serializers from plugin and route # time=7.089ms
    
    # Subtest: Should use serializers from instance fastify and route
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 20 - Should use serializers from instance fastify and route # time=18.192ms
    
    # Subtest: Should use serializers inherit from contexts
        1..5
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 21 - Should use serializers inherit from contexts # time=18.735ms
    
    # Subtest: Should increase the log level for a specific plugin
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 22 - Should increase the log level for a specific plugin # time=6.33ms
    
    # Subtest: Should set the log level for the customized 404 handler
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 23 - Should set the log level for the customized 404 handler # time=6.176ms
    
    # Subtest: Should set the log level for the customized 500 handler
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 24 - Should set the log level for the customized 500 handler # time=6.409ms
    
    # Subtest: Should set a custom log level for a specific route
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equivalent
    ok 25 - Should set a custom log level for a specific route # time=8.035ms
    
    # Subtest: The default 404 handler logs the incoming request
        1..5
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
    ok 26 - The default 404 handler logs the incoming request # time=5.359ms
    
    # Subtest: should serialize request and response
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 27 - should serialize request and response # time=5.893ms
    
    # Subtest: Wrap IPv6 address in listening log message
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 28 - Wrap IPv6 address in listening log message # time=3.399ms
    
    # Subtest: Do not wrap IPv4 address
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 29 - Do not wrap IPv4 address # time=3.446ms
    
    # Subtest: file option
        1..13
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - listen at log message is ok
        ok 4 - reqId is defined
        ok 5 - req is defined
        ok 6 - message is set
        ok 7 - method is get
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
        ok 13 - responseTime is defined
    ok 30 - file option # time=15.956ms
    
    # Subtest: should log the error if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 31 - should log the error if no error handler is defined # time=10.842ms
    
    # Subtest: should log as info if error status code >= 400 and < 500 if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 32 - should log as info if error status code >= 400 and < 500 if no error handler is defined # time=11.058ms
    
    # Subtest: should log as error if error status code >= 500 if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 33 - should log as error if error status code >= 500 if no error handler is defined # time=25.194ms
    
    # Subtest: should not log the error if error handler is defined and it does not error
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - level is correct
        ok 7 - message is set
        ok 8 - status code is set
    ok 34 - should not log the error if error handler is defined and it does not error # time=8.21ms
    
    # Subtest: should not rely on raw request to log errors
        1..7
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - status code is set
    ok 35 - should not rely on raw request to log errors # time=8.318ms
    
    # Subtest: should redact the authorization header if so specified
        1..7
        not ok 1 - rx.exec is not a function
          ---
          stack: |
            node_modules/pino/lib/redaction.js:20:22
            Array.reduce (<anonymous>)
            redaction (node_modules/pino/lib/redaction.js:18:23)
            pino (node_modules/pino/pino.js:120:33)
            createPinoLogger (lib/logger.js:42:14)
            createLogger (lib/logger.js:98:20)
            fastify (fastify.js:122:33)
            Test.<anonymous> (test/logger.test.js:1439:19)
          at:
            line: 20
            column: 22
            file: node_modules/pino/lib/redaction.js
          type: TypeError
          tapCaught: testFunctionThrow
          test: should redact the authorization header if so specified
          source: |2
                rx.lastIndex = 0
                const first = rx.exec(str)
            ---------------------^
                const next = rx.exec(str)
          ...
        
        # test count(1) != plan(7)
        # failed 1 test
    not ok 36 - should redact the authorization header if so specified # time=37.429ms
    
    # Subtest: should not log incoming request and outgoing response when disabled
        1..3
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should be equivalent
    ok 37 - should not log incoming request and outgoing response when disabled # time=6.576ms
    
    # Subtest: should not log incoming request and outgoing response for 404 onBadUrl when disabled
        1..1
        ok 1 - should be equivalent
    ok 38 - should not log incoming request and outgoing response for 404 onBadUrl when disabled # time=3.585ms
    
    # Subtest: should pass when using unWritable props in the logger option
        1..1
        ok 1 - (unnamed test)
    ok 39 - should pass when using unWritable props in the logger option # time=1.625ms
    
    # Subtest: should be able to use a custom logger
        1..1
        ok 1 - (unnamed test)
    ok 40 - should be able to use a custom logger # time=1.138ms
    
    # Subtest: should create a default logger if provided one is invalid
        1..1
        ok 1 - (unnamed test)
    ok 41 - should create a default logger if provided one is invalid # time=1.229ms
    
    # Subtest: should not throw error when serializing custom req
        1..1
        ok 1 - should be equivalent
    ok 42 - should not throw error when serializing custom req # time=1.766ms
    
    1..42
    # failed 1 of 42 tests
    # time=874.138ms
not ok 67 - test/logger.test.js # time=874.138ms
  ---
  env: {}
  file: test/logger.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/logger.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant6/fastify
  exitCode: 1
  ...

# Subtest: test/maxRequestsPerSocket.test.js
    # Subtest: maxRequestsPerSocket on node version >= 16.10.0
        1..8
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should match pattern provided
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
    ok 1 - maxRequestsPerSocket on node version >= 16.10.0 # time=68.791ms
    
    # Subtest: maxRequestsPerSocket zero should behave same as null
        1..10
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should match pattern provided
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
        ok 9 - should match pattern provided
        ok 10 - should match pattern provided
    ok 2 - maxRequestsPerSocket zero should behave same as null # time=16.337ms
    
    # Subtest: maxRequestsPerSocket should be set
        1..1
        ok 1 - should be equivalent
    ok 3 - maxRequestsPerSocket should be set # time=1.975ms
    
    # Subtest: maxRequestsPerSocket should 0
        1..1
        ok 1 - should be equivalent
    ok 4 - maxRequestsPerSocket should 0 # time=1.34ms
    
    # Subtest: requestTimeout passed to server
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 5 - requestTimeout passed to server # time=14.131ms
    
    1..5
    # time=112.375ms
ok 68 - test/maxRequestsPerSocket.test.js # time=112.375ms

# Subtest: test/middleware.test.js
    # Subtest: Should be able to override the default use API
        1..1
        ok 1 - should be equal
    ok 1 - Should be able to override the default use API # time=16.943ms
    
    # Subtest: Cannot decorate use twice
        1..1
        ok 1 - expect truthy value
    ok 2 - Cannot decorate use twice # time=3.234ms
    
    # Subtest: Encapsulation works
        1..1
        ok 1 - should be equal
    ok 3 - Encapsulation works # time=15.421ms
    
    1..3
    # time=50.033ms
ok 69 - test/middleware.test.js # time=50.033ms

# Subtest: test/noop-set.test.js
    # Subtest: does a lot of nothing
        ok 1 - type is object
        ok 2 - should be equal
        1..2
    ok 1 - does a lot of nothing # time=6.94ms
    
    1..1
    # time=12.16ms
ok 70 - test/noop-set.test.js # time=12.16ms

# Subtest: test/nullable-validation.test.js
    # Subtest: nullable string
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 1 - nullable string # time=150.015ms
    
    # Subtest: object or null body
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 2 - object or null body # time=60.435ms
    
    # Subtest: nullable body
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 3 - nullable body # time=71.162ms
    
    # Subtest: Nullable body with 204
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 4 - Nullable body with 204 # time=38.346ms
    
    1..4
    # time=328.718ms
ok 71 - test/nullable-validation.test.js # time=328.718ms

# Subtest: test/options.error-handler.test.js
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - OPTIONS can be created # time=9.196ms
    
    # Subtest: OPTIONS without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - OPTIONS without schema can be created # time=1.867ms
    
    # Subtest: OPTIONS with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - OPTIONS with body and querystring # time=1.482ms
    
    # Subtest: OPTIONS with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - OPTIONS with bodyLimit option # time=1.654ms
    
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - OPTIONS can be created # time=2.687ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - OPTIONS - correctly replies # time=62.778ms
    
    # Subtest: OPTIONS - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - OPTIONS - correctly replies with very large body # time=9.712ms
    
    # Subtest: OPTIONS - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - OPTIONS - correctly replies if the content type has the charset # time=6.324ms
    
    # Subtest: OPTIONS without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - OPTIONS without schema - correctly replies # time=6.904ms
    
    # Subtest: OPTIONS with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - OPTIONS with body and querystring - correctly replies # time=6.595ms
    
    # Subtest: OPTIONS with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - OPTIONS with no body - correctly replies # time=37.378ms
    
    # Subtest: OPTIONS returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - OPTIONS returns 415 - incorrect media type if body is not json # time=5.088ms
    
    # Subtest: OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text # time=6.007ms
    
    # Subtest: OPTIONS returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 14 - OPTIONS returns 400 - Bad Request # time=8.34ms
    
    # Subtest: OPTIONS returns 413 - Payload Too Large
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - OPTIONS returns 413 - Payload Too Large # time=7.488ms
    
    # Subtest: OPTIONS should fail with empty body and application/json content-type
        1..0
    ok 16 - OPTIONS should fail with empty body and application/json content-type # time=0.819ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - OPTIONS - correctly replies # time=5.132ms
    
    # Subtest: OPTIONS - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - OPTIONS - 400 on bad parameters # time=5.924ms
    
    # Subtest: OPTIONS - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - OPTIONS - input-validation coerce # time=5.124ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - OPTIONS - input-validation custom schema compiler # time=5.122ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - OPTIONS - input-validation joi schema compiler ok # time=6.791ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - OPTIONS - input-validation joi schema compiler ko # time=7.07ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - OPTIONS - input-validation yup schema compiler ok # time=6.946ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - OPTIONS - input-validation yup schema compiler ko # time=6.516ms
    
    # Subtest: OPTIONS - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - OPTIONS - input-validation instance custom schema compiler encapsulated # time=4.739ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 26 - OPTIONS - input-validation custom schema compiler encapsulated # time=4.896ms
    
    ok 27 - type is object
    ok 28 - type is Request
    ok 29 - type is object
    ok 30 - type is Request
    ok 31 - type is object
    ok 32 - type is Request
    ok 33 - type is object
    ok 34 - type is Request
    ok 35 - type is object
    ok 36 - type is Request
    1..36
    # time=1502.229ms
ok 72 - test/options.error-handler.test.js # time=1502.229ms

# Subtest: test/options.test.js
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - OPTIONS can be created # time=13.687ms
    
    # Subtest: OPTIONS without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - OPTIONS without schema can be created # time=1.862ms
    
    # Subtest: OPTIONS with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - OPTIONS with body and querystring # time=1.549ms
    
    # Subtest: OPTIONS with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - OPTIONS with bodyLimit option # time=1.704ms
    
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - OPTIONS can be created # time=2.501ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - OPTIONS - correctly replies # time=59.992ms
    
    # Subtest: OPTIONS - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - OPTIONS - correctly replies with very large body # time=9.399ms
    
    # Subtest: OPTIONS - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - OPTIONS - correctly replies if the content type has the charset # time=5.514ms
    
    # Subtest: OPTIONS without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - OPTIONS without schema - correctly replies # time=5.265ms
    
    # Subtest: OPTIONS with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - OPTIONS with body and querystring - correctly replies # time=5.505ms
    
    # Subtest: OPTIONS with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - OPTIONS with no body - correctly replies # time=30.63ms
    
    # Subtest: OPTIONS returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - OPTIONS returns 415 - incorrect media type if body is not json # time=4.298ms
    
    # Subtest: OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text # time=5.259ms
    
    # Subtest: OPTIONS returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 14 - OPTIONS returns 400 - Bad Request # time=7.361ms
    
    # Subtest: OPTIONS returns 413 - Payload Too Large
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - OPTIONS returns 413 - Payload Too Large # time=6.503ms
    
    # Subtest: OPTIONS should fail with empty body and application/json content-type
        1..0
    ok 16 - OPTIONS should fail with empty body and application/json content-type # time=0.568ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - OPTIONS - correctly replies # time=4.352ms
    
    # Subtest: OPTIONS - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - OPTIONS - 400 on bad parameters # time=4.846ms
    
    # Subtest: OPTIONS - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - OPTIONS - input-validation coerce # time=4.127ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - OPTIONS - input-validation custom schema compiler # time=4.208ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - OPTIONS - input-validation joi schema compiler ok # time=5.809ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - OPTIONS - input-validation joi schema compiler ko # time=5.881ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - OPTIONS - input-validation yup schema compiler ok # time=5.806ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - OPTIONS - input-validation yup schema compiler ko # time=5.022ms
    
    # Subtest: OPTIONS - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - OPTIONS - input-validation instance custom schema compiler encapsulated # time=3.727ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 26 - OPTIONS - input-validation custom schema compiler encapsulated # time=3.89ms
    
    1..26
    # time=999.586ms
ok 73 - test/options.test.js # time=999.586ms

# Subtest: test/output-validation.test.js
    # Subtest: shorthand - output string
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - output string # time=10.105ms
    
    # Subtest: shorthand - output number
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - output number # time=2.494ms
    
    # Subtest: wrong object for schema - output
        1..1
        ok 1 - (unnamed test)
    ok 3 - wrong object for schema - output # time=2.377ms
    
    # Subtest: empty response
        1..1
        ok 1 - (unnamed test)
    ok 4 - empty response # time=2.322ms
    
    # Subtest: unlisted response code
        1..1
        ok 1 - (unnamed test)
    ok 5 - unlisted response code # time=2.152ms
    
    ok 6 - should not error
    # Subtest: shorthand - string get ok
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - shorthand - string get ok # time=37.775ms
    
    # Subtest: shorthand - number get ok
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 8 - shorthand - number get ok # time=6.377ms
    
    # Subtest: shorthand - wrong-object-for-schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 9 - shorthand - wrong-object-for-schema # time=6.525ms
    
    # Subtest: shorthand - empty
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - shorthand - empty # time=4.104ms
    
    # Subtest: shorthand - 400
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - shorthand - 400 # time=4.712ms
    
    1..11
    # time=194.033ms
ok 74 - test/output-validation.test.js # time=194.033ms

# Subtest: test/patch.error-handler.test.js
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PATCH can be created # time=9.949ms
    
    # Subtest: PATCH without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PATCH without schema can be created # time=2.446ms
    
    # Subtest: PATCH with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PATCH with body and querystring # time=1.928ms
    
    # Subtest: PATCH with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PATCH with bodyLimit option # time=2.178ms
    
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - PATCH can be created # time=3.193ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - PATCH - correctly replies # time=78.47ms
    
    # Subtest: PATCH - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - PATCH - correctly replies with very large body # time=10.075ms
    
    # Subtest: PATCH - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - PATCH - correctly replies if the content type has the charset # time=6.154ms
    
    # Subtest: PATCH without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - PATCH without schema - correctly replies # time=6.695ms
    
    # Subtest: PATCH with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - PATCH with body and querystring - correctly replies # time=8.184ms
    
    # Subtest: PATCH with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - PATCH with no body - correctly replies # time=45.254ms
    
    # Subtest: PATCH returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - PATCH returns 415 - incorrect media type if body is not json # time=6.316ms
    
    # Subtest: PATCH returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 13 - PATCH returns 400 - Bad Request # time=8.8ms
    
    # Subtest: PATCH returns 413 - Payload Too Large
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 14 - PATCH returns 413 - Payload Too Large # time=15.159ms
    
    # Subtest: PATCH should fail with empty body and application/json content-type
        1..12
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
    ok 15 - PATCH should fail with empty body and application/json content-type # time=29.719ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - PATCH - correctly replies # time=14.772ms
    
    # Subtest: PATCH - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - PATCH - 400 on bad parameters # time=5.494ms
    
    # Subtest: PATCH - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - PATCH - input-validation coerce # time=4.86ms
    
    # Subtest: PATCH - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - PATCH - input-validation custom schema compiler # time=5.096ms
    
    # Subtest: PATCH - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - PATCH - input-validation joi schema compiler ok # time=7.03ms
    
    # Subtest: PATCH - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - PATCH - input-validation joi schema compiler ko # time=6.13ms
    
    # Subtest: PATCH - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - PATCH - input-validation yup schema compiler ok # time=6.328ms
    
    # Subtest: PATCH - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - PATCH - input-validation yup schema compiler ko # time=6.123ms
    
    # Subtest: PATCH - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - PATCH - input-validation instance custom schema compiler encapsulated # time=4.706ms
    
    # Subtest: PATCH - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - PATCH - input-validation custom schema compiler encapsulated # time=5.119ms
    
    ok 26 - type is object
    ok 27 - type is Request
    ok 28 - type is object
    ok 29 - type is Request
    ok 30 - type is object
    ok 31 - type is Request
    ok 32 - type is object
    ok 33 - type is Request
    ok 34 - type is object
    ok 35 - type is Request
    ok 36 - type is object
    ok 37 - type is Request
    ok 38 - type is object
    ok 39 - type is Request
    ok 40 - type is object
    ok 41 - type is Request
    ok 42 - type is object
    ok 43 - type is Request
    ok 44 - type is object
    ok 45 - type is Request
    ok 46 - type is object
    ok 47 - type is Request
    ok 48 - type is object
    ok 49 - type is Request
    1..49
    # time=1098.23ms
ok 75 - test/patch.error-handler.test.js # time=1098.23ms

# Subtest: test/patch.test.js
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PATCH can be created # time=9.512ms
    
    # Subtest: PATCH without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PATCH without schema can be created # time=1.739ms
    
    # Subtest: PATCH with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PATCH with body and querystring # time=1.488ms
    
    # Subtest: PATCH with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PATCH with bodyLimit option # time=1.66ms
    
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - PATCH can be created # time=2.623ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - PATCH - correctly replies # time=58.368ms
    
    # Subtest: PATCH - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - PATCH - correctly replies with very large body # time=9.222ms
    
    # Subtest: PATCH - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - PATCH - correctly replies if the content type has the charset # time=5.424ms
    
    # Subtest: PATCH without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - PATCH without schema - correctly replies # time=5.118ms
    
    # Subtest: PATCH with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - PATCH with body and querystring - correctly replies # time=5.551ms
    
    # Subtest: PATCH with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - PATCH with no body - correctly replies # time=33.58ms
    
    # Subtest: PATCH returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - PATCH returns 415 - incorrect media type if body is not json # time=5.83ms
    
    # Subtest: PATCH returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 13 - PATCH returns 400 - Bad Request # time=7.624ms
    
    # Subtest: PATCH returns 413 - Payload Too Large
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 14 - PATCH returns 413 - Payload Too Large # time=13.579ms
    
    # Subtest: PATCH should fail with empty body and application/json content-type
        1..12
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
    ok 15 - PATCH should fail with empty body and application/json content-type # time=19.318ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - PATCH - correctly replies # time=4.893ms
    
    # Subtest: PATCH - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - PATCH - 400 on bad parameters # time=4.973ms
    
    # Subtest: PATCH - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - PATCH - input-validation coerce # time=3.932ms
    
    # Subtest: PATCH - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - PATCH - input-validation custom schema compiler # time=4.077ms
    
    # Subtest: PATCH - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - PATCH - input-validation joi schema compiler ok # time=5.558ms
    
    # Subtest: PATCH - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - PATCH - input-validation joi schema compiler ko # time=5.206ms
    
    # Subtest: PATCH - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - PATCH - input-validation yup schema compiler ok # time=4.785ms
    
    # Subtest: PATCH - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - PATCH - input-validation yup schema compiler ko # time=4.433ms
    
    # Subtest: PATCH - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - PATCH - input-validation instance custom schema compiler encapsulated # time=2.956ms
    
    # Subtest: PATCH - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - PATCH - input-validation custom schema compiler encapsulated # time=7.248ms
    
    1..25
    # time=1029ms
ok 76 - test/patch.test.js # time=1029ms

# Subtest: test/plugin.test.js
    # Subtest: require a plugin
        1..1
        ok 1 - expect truthy value
    ok 1 - require a plugin # time=105.257ms
    
    # Subtest: plugin metadata - ignore prefix
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 2 - plugin metadata - ignore prefix # time=39.949ms
    
    # Subtest: plugin metadata - naming plugins
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 3 - plugin metadata - naming plugins # time=11.157ms
    
    # Subtest: fastify.register with fastify-plugin should not encapsulate his code
        1..10
        ok 1 - expect falsey value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 4 - fastify.register with fastify-plugin should not encapsulate his code # time=55.832ms
    
    # Subtest: fastify.register with fastify-plugin should provide access to external fastify instance if opts argument is a function
        1..22
        ok 1 - expect falsey value
        ok 2 - expect falsey value
        ok 3 - expect falsey value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect falsey value
        ok 10 - expect truthy value
        ok 11 - expect falsey value
        ok 12 - expect truthy value
        ok 13 - expect truthy value
        ok 14 - should be equal
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - should not error
        ok 18 - expect truthy value
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equal
        ok 22 - should be equivalent
    ok 5 - fastify.register with fastify-plugin should provide access to external fastify instance if opts argument is a function # time=33.591ms
    
    # Subtest: fastify.register with fastify-plugin registers fastify level plugins
        1..15
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should not error
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equivalent
    ok 6 - fastify.register with fastify-plugin registers fastify level plugins # time=19.685ms
    
    # Subtest: check dependencies - should not throw
        1..12
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - should not error
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
    ok 7 - check dependencies - should not throw # time=14.156ms
    
    # Subtest: check dependencies - should throw
        1..12
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - should not error
        ok 7 - expect truthy value
        ok 8 - expect falsey value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
    ok 8 - check dependencies - should throw # time=35.97ms
    
    # Subtest: set the plugin name based on the plugin displayName symbol
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
    ok 9 - set the plugin name based on the plugin displayName symbol # time=6.984ms
    
    # Subtest: plugin name will change when using no encapsulation
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
    ok 10 - plugin name will change when using no encapsulation # time=6.389ms
    
    # Subtest: plugin name is undefined when accessing in no plugin context
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 11 - plugin name is undefined when accessing in no plugin context # time=6.275ms
    
    # Subtest: set the plugin name based on the plugin function name
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 12 - set the plugin name based on the plugin function name # time=24.708ms
    
    # Subtest: approximate a plugin name when no meta data is available
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
    ok 13 - approximate a plugin name when no meta data is available # time=7.661ms
    
    # Subtest: approximate a plugin name also when fastify-plugin has no meta data
        1..4
        ok 1 - should match pattern provided
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should not error
    ok 14 - approximate a plugin name also when fastify-plugin has no meta data # time=10.961ms
    
    # Subtest: plugin encapsulation
        1..10
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 15 - plugin encapsulation # time=28.995ms
    
    # Subtest: if a plugin raises an error and there is not a callback to handle it, the server must not start
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 16 - if a plugin raises an error and there is not a callback to handle it, the server must not start # time=9.209ms
    
    # Subtest: add hooks after route declaration
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 17 - add hooks after route declaration # time=30.106ms
    
    # Subtest: nested plugins
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 18 - nested plugins # time=15.381ms
    
    # Subtest: nested plugins awaited
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 19 - nested plugins awaited # time=16.332ms
    
    # Subtest: plugin metadata - decorators
        1..1
        ok 1 - expect truthy value
    ok 20 - plugin metadata - decorators # time=17.763ms
    
    # Subtest: plugin metadata - decorators - should throw
        1..1
        ok 1 - should be equal
    ok 21 - plugin metadata - decorators - should throw # time=3.525ms
    
    # Subtest: plugin metadata - decorators - should throw with plugin name
        1..1
        ok 1 - should be equal
    ok 22 - plugin metadata - decorators - should throw with plugin name # time=10.867ms
    
    # Subtest: plugin metadata - dependencies
        1..1
        ok 1 - everything right
    ok 23 - plugin metadata - dependencies # time=3.089ms
    
    # Subtest: plugin metadata - dependencies (nested)
        1..1
        ok 1 - everything right
    ok 24 - plugin metadata - dependencies (nested) # time=3.449ms
    
    # Subtest: pluginTimeout
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 25 - pluginTimeout # time=15.435ms
    
    # "pluginTimeout - named function" has `only` set but all tests run
    # Subtest: pluginTimeout - named function
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 26 - pluginTimeout - named function # time=15.091ms
    
    # Subtest: pluginTimeout default
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 27 - pluginTimeout default # time=-67297318.03ms
    
    # Subtest: plugin metadata - version
        1..1
        ok 1 - everything right
    ok 28 - plugin metadata - version # time=7.809ms
    
    # Subtest: plugin metadata - version range
        1..1
        ok 1 - everything right
    ok 29 - plugin metadata - version range # time=3.888ms
    
    # Subtest: plugin metadata - version not matching requirement
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 30 - plugin metadata - version not matching requirement # time=2.948ms
    
    # Subtest: plugin metadata - version not matching requirement 2
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 31 - plugin metadata - version not matching requirement 2 # time=2.8ms
    
    # Subtest: plugin metadata - version not matching requirement 3
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 32 - plugin metadata - version not matching requirement 3 # time=2.751ms
    
    # Subtest: plugin metadata - release candidate
        1..2
        ok 1 - should not error
        ok 2 - everything right
    ok 33 - plugin metadata - release candidate # time=4.228ms
    
    # Subtest: fastify-rc loads prior version plugins
        1..2
        ok 1 - should not error
        ok 2 - everything right
    ok 34 - fastify-rc loads prior version plugins # time=3.384ms
    
    # Subtest: hasPlugin method exists as a function
        1..1
        ok 1 - should be equal
    ok 35 - hasPlugin method exists as a function # time=1.066ms
    
    # Subtest: hasPlugin returns true if the specified plugin has been registered
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
    ok 36 - hasPlugin returns true if the specified plugin has been registered # time=5.378ms
    
    # Subtest: hasPlugin returns false if the specified plugin has not been registered
        1..1
        ok 1 - expect falsey value
    ok 37 - hasPlugin returns false if the specified plugin has not been registered # time=1.053ms
    
    # Subtest: hasPlugin returns false when using encapsulation
        1..25
        ok 1 - expect truthy value
        ok 2 - expect falsey value
        ok 3 - expect falsey value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect truthy value
        ok 8 - expect falsey value
        ok 9 - expect falsey value
        ok 10 - expect falsey value
        ok 11 - expect falsey value
        ok 12 - expect falsey value
        ok 13 - expect truthy value
        ok 14 - expect falsey value
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - expect falsey value
        ok 18 - expect falsey value
        ok 19 - expect truthy value
        ok 20 - expect falsey value
        ok 21 - expect falsey value
        ok 22 - expect falsey value
        ok 23 - expect falsey value
        ok 24 - expect falsey value
        ok 25 - expect truthy value
    ok 38 - hasPlugin returns false when using encapsulation # time=11.46ms
    
    # Subtest: hasPlugin returns true when using no encapsulation
        1..26
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect falsey value
        ok 10 - expect falsey value
        ok 11 - expect falsey value
        ok 12 - expect truthy value
        ok 13 - expect truthy value
        ok 14 - expect truthy value
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - expect truthy value
        ok 18 - expect truthy value
        ok 19 - expect truthy value
        ok 20 - expect truthy value
        ok 21 - expect falsey value
        ok 22 - expect truthy value
        ok 23 - expect truthy value
        ok 24 - expect truthy value
        ok 25 - expect truthy value
        ok 26 - expect truthy value
    ok 39 - hasPlugin returns true when using no encapsulation # time=7.734ms
    
    1..39
    # time=653ms
ok 77 - test/plugin.test.js # time=653ms

# Subtest: test/pretty-print.test.js
    # Subtest: pretty print - static routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - pretty print - static routes # time=48.146ms
    
    # Subtest: pretty print - parametric routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - pretty print - parametric routes # time=7.253ms
    
    # Subtest: pretty print - mixed parametric routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 3 - pretty print - mixed parametric routes # time=7.587ms
    
    # Subtest: pretty print - wildcard routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - pretty print - wildcard routes # time=16.99ms
    
    # Subtest: pretty print - empty plugins
        1..2
        ok 1 - should be equal
        ok 2 - should match pattern provided
    ok 5 - pretty print - empty plugins # time=7.824ms
    
    # Subtest: pretty print - nested plugins
        1..4
        ok 1 - should be equal
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
    ok 6 - pretty print - nested plugins # time=12.266ms
    
    # Subtest: pretty print - commonPrefix
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 7 - pretty print - commonPrefix # time=25.077ms
    
    # Subtest: pretty print - includeMeta, includeHooks
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 8 - pretty print - includeMeta, includeHooks # time=21.976ms
    
    1..8
    # time=184.531ms
ok 78 - test/pretty-print.test.js # time=184.531ms

# Subtest: test/promises.test.js
    ok 1 - should not error
    # Subtest: shorthand - sget return promise es6 get
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - shorthand - sget return promise es6 get # time=38.796ms
    
    # Subtest: shorthand - sget promise es6 get return error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 3 - shorthand - sget promise es6 get return error # time=7.905ms
    
    # Subtest: sget promise double send
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 4 - sget promise double send # time=5.856ms
    
    # Subtest: thenable
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 5 - thenable # time=6.216ms
    
    # Subtest: thenable (error)
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 6 - thenable (error) # time=4.302ms
    
    # Subtest: return-reply
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - return-reply # time=4.797ms
    
    1..7
    # time=146.385ms
ok 79 - test/promises.test.js # time=146.385ms

# Subtest: test/proto-poisoning.test.js
    # Subtest: proto-poisoning error
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 1 - proto-poisoning error # time=70.764ms
    
    # Subtest: proto-poisoning remove
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 2 - proto-poisoning remove # time=14.504ms
    
    # Subtest: proto-poisoning ignore
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 3 - proto-poisoning ignore # time=31.168ms
    
    # Subtest: constructor-poisoning error (default in v3)
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 4 - constructor-poisoning error (default in v3) # time=13.658ms
    
    # Subtest: constructor-poisoning error
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 5 - constructor-poisoning error # time=9.01ms
    
    # Subtest: constructor-poisoning remove
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 6 - constructor-poisoning remove # time=27.877ms
    
    1..6
    # time=182.338ms
ok 80 - test/proto-poisoning.test.js # time=182.338ms

# Subtest: test/put.error-handler.test.js
    # Subtest: PUT can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PUT can be created # time=9.548ms
    
    # Subtest: PUT without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PUT without schema can be created # time=2.481ms
    
    # Subtest: PUT with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PUT with body and querystring # time=1.712ms
    
    # Subtest: PUT with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PUT with bodyLimit option # time=1.87ms
    
    # Subtest: PUT can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - PUT can be created # time=3.248ms
    
    # Subtest: PUT - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - PUT - correctly replies # time=59.89ms
    
    # Subtest: PUT - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - PUT - correctly replies with very large body # time=9.871ms
    
    # Subtest: PUT - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - PUT - correctly replies if the content type has the charset # time=11.433ms
    
    # Subtest: PUT without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - PUT without schema - correctly replies # time=5.647ms
    
    # Subtest: PUT with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - PUT with body and querystring - correctly replies # time=5.93ms
    
    # Subtest: PUT with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - PUT with no body - correctly replies # time=27.64ms
    
    # Subtest: PUT returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - PUT returns 415 - incorrect media type if body is not json # time=6.368ms
    
    # Subtest: PUT returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 13 - PUT returns 400 - Bad Request # time=8.123ms
    
    # Subtest: PUT returns 413 - Payload Too Large
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 14 - PUT returns 413 - Payload Too Large # time=14.551ms
    
    # Subtest: PUT should fail with empty body and application/json content-type
        1..12
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
    ok 15 - PUT should fail with empty body and application/json content-type # time=20.916ms
    
    # Subtest: PUT - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - PUT - correctly replies # time=5.339ms
    
    # Subtest: PUT - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - PUT - 400 on bad parameters # time=4.732ms
    
    # Subtest: PUT - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - PUT - input-validation coerce # time=4.32ms
    
    # Subtest: PUT - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - PUT - input-validation custom schema compiler # time=4.411ms
    
    # Subtest: PUT - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - PUT - input-validation joi schema compiler ok # time=5.657ms
    
    # Subtest: PUT - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - PUT - input-validation joi schema compiler ko # time=5.357ms
    
    # Subtest: PUT - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - PUT - input-validation yup schema compiler ok # time=5.606ms
    
    # Subtest: PUT - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - PUT - input-validation yup schema compiler ko # time=5.614ms
    
    # Subtest: PUT - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - PUT - input-validation instance custom schema compiler encapsulated # time=4.376ms
    
    # Subtest: PUT - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - PUT - input-validation custom schema compiler encapsulated # time=4.42ms
    
    ok 26 - type is object
    ok 27 - type is Request
    ok 28 - type is object
    ok 29 - type is Request
    ok 30 - type is object
    ok 31 - type is Request
    ok 32 - type is object
    ok 33 - type is Request
    ok 34 - type is object
    ok 35 - type is Request
    ok 36 - type is object
    ok 37 - type is Request
    ok 38 - type is object
    ok 39 - type is Request
    ok 40 - type is object
    ok 41 - type is Request
    ok 42 - type is object
    ok 43 - type is Request
    ok 44 - type is object
    ok 45 - type is Request
    ok 46 - type is object
    ok 47 - type is Request
    ok 48 - type is object
    ok 49 - type is Request
    1..49
    # time=1057.793ms
ok 81 - test/put.error-handler.test.js # time=1057.793ms

# Subtest: test/put.test.js
    # Subtest: PUT can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PUT can be created # time=9.016ms
    
    # Subtest: PUT without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PUT without schema can be created # time=1.856ms
    
    # Subtest: PUT with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PUT with body and querystring # time=1.442ms
    
    # Subtest: PUT with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PUT with bodyLimit option # time=1.641ms
    
    # Subtest: PUT can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - PUT can be created # time=2.683ms
    
    # Subtest: PUT - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - PUT - correctly replies # time=64.972ms
    
    # Subtest: PUT - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - PUT - correctly replies with very large body # time=9.7ms
    
    # Subtest: PUT - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - PUT - correctly replies if the content type has the charset # time=5.713ms
    
    # Subtest: PUT without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - PUT without schema - correctly replies # time=5.556ms
    
    # Subtest: PUT with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - PUT with body and querystring - correctly replies # time=5.772ms
    
    # Subtest: PUT with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - PUT with no body - correctly replies # time=26.908ms
    
    # Subtest: PUT returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - PUT returns 415 - incorrect media type if body is not json # time=5.977ms
    
    # Subtest: PUT returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 13 - PUT returns 400 - Bad Request # time=7.928ms
    
    # Subtest: PUT returns 413 - Payload Too Large
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 14 - PUT returns 413 - Payload Too Large # time=14.355ms
    
    # Subtest: PUT should fail with empty body and application/json content-type
        1..12
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
    ok 15 - PUT should fail with empty body and application/json content-type # time=19.985ms
    
    # Subtest: PUT - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - PUT - correctly replies # time=5.447ms
    
    # Subtest: PUT - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - PUT - 400 on bad parameters # time=5.282ms
    
    # Subtest: PUT - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - PUT - input-validation coerce # time=4.436ms
    
    # Subtest: PUT - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - PUT - input-validation custom schema compiler # time=4.568ms
    
    # Subtest: PUT - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - PUT - input-validation joi schema compiler ok # time=6.141ms
    
    # Subtest: PUT - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - PUT - input-validation joi schema compiler ko # time=5.723ms
    
    # Subtest: PUT - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - PUT - input-validation yup schema compiler ok # time=5.682ms
    
    # Subtest: PUT - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - PUT - input-validation yup schema compiler ko # time=4.943ms
    
    # Subtest: PUT - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - PUT - input-validation instance custom schema compiler encapsulated # time=3.516ms
    
    # Subtest: PUT - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - PUT - input-validation custom schema compiler encapsulated # time=3.68ms
    
    1..25
    # time=1088.554ms
ok 82 - test/put.test.js # time=1088.554ms

./VariantsPureDep/fastify/variant5/fastify

> fastify@4.3.0 test
> npm run lint && npm run unit && npm run test:typescript


> fastify@4.3.0 lint
> npm run lint:standard && npm run lint:typescript && npm run lint:markdown


> fastify@4.3.0 lint:standard
> standard | snazzy

-----------------------------|---------|----------|---------|---------|-----------------------------
File                         | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s           
-----------------------------|---------|----------|---------|---------|-----------------------------
All files                    |   92.78 |    92.03 |    92.3 |   92.91 |                             
 fastify                     |   85.23 |    88.12 |   82.14 |    84.9 |                             
  fastify.js                 |   85.23 |    88.12 |   82.14 |    84.9 | ...,676-695,721-724,732-743 
 fastify/lib                 |   93.85 |    92.55 |   94.23 |   94.06 |                             
  contentTypeParser.js       |    97.8 |    99.15 |     100 |   97.64 | 233-236                     
  context.js                 |     100 |      100 |     100 |     100 |                             
  decorate.js                |   98.21 |    98.03 |     100 |   98.07 | 41                          
  error-handler.js           |    94.2 |    93.61 |     100 |    94.2 | 108-110,118                 
  errors.js                  |     100 |      100 |     100 |     100 |                             
  fourOhFour.js              |     100 |      100 |     100 |     100 |                             
  handleRequest.js           |   98.48 |    98.03 |     100 |   98.41 | 97                          
  headRoute.js               |      20 |     12.5 |   33.33 |   14.28 | 4-21,26                     
  hooks.js                   |     100 |      100 |     100 |     100 |                             
  initialConfigValidation.js |     100 |      100 |     100 |     100 |                             
  logger.js                  |     100 |      100 |     100 |     100 |                             
  noop-set.js                |     100 |      100 |     100 |     100 |                             
  pluginOverride.js          |   97.56 |       90 |     100 |    97.5 | 75                          
  pluginUtils.js             |     100 |      100 |     100 |     100 |                             
  reply.js                   |    87.7 |    84.86 |   88.88 |   88.76 | ...-618,622-627,648-654,659 
  reqIdGenFactory.js         |     100 |      100 |     100 |     100 |                             
  request.js                 |   87.96 |    90.62 |      80 |   89.42 | 45-54,157-167,206,211       
  route.js                   |   88.84 |    88.04 |     100 |   88.69 | ...,355-362,396-397,461,465 
  schema-controller.js       |    92.3 |    79.41 |   84.61 |    92.3 | 23,58,71                    
  schemas.js                 |   92.64 |    93.65 |   88.88 |   94.02 | 28,32,43,147                
  server.js                  |     100 |      100 |     100 |     100 |                             
  symbols.js                 |     100 |      100 |     100 |     100 |                             
  validation.js              |   98.55 |    96.55 |     100 |   98.43 | 22                          
  warnings.js                |     100 |      100 |     100 |     100 |                             
  wrapThenable.js            |   93.33 |       90 |     100 |   93.33 | 11                          
-----------------------------|---------|----------|---------|---------|-----------------------------

> fastify@4.3.0 lint:typescript
> eslint -c types/.eslintrc.json types/**/*.d.ts test/types/**/*.test-d.ts


> fastify@4.3.0 lint:markdown
> markdownlint-cli2

markdownlint-cli2 v0.4.0 (markdownlint v0.25.1)

> fastify@4.3.0 unit
> tap

TAP version 13
# Subtest: test/404s.test.js
    # Subtest: default 404
        1..4
        ok 1 - should not error
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - unsupported method # time=31.279ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - framework-unsupported method # time=6.914ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - unsupported route # time=5.712ms
        
    ok 1 - default 404 # time=198.027ms
    
    # Subtest: customized 404
        1..6
        ok 1 - should not error
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - unsupported method # time=13ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - framework-unsupported method # time=4.154ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - unsupported route # time=4.392ms
        
        # Subtest: with error object
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - with error object # time=11.255ms
        
        # Subtest: error object with headers property
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 6 - error object with headers property # time=6.103ms
        
    ok 2 - customized 404 # time=53.176ms
    
    # Subtest: custom header in notFound handler
        1..2
        ok 1 - should not error
        # Subtest: not found with custom header
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
        ok 2 - not found with custom header # time=14.15ms
        
    ok 3 - custom header in notFound handler # time=34.418ms
    
    # Subtest: setting a custom 404 handler multiple times is an error
        1..5
        # Subtest: at the root level
            1..2
            ok 1 - type is Error
            ok 2 - should be equal
        ok 1 - at the root level # time=2.928ms
        
        # Subtest: at the plugin level
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 2 - at the plugin level # time=23.265ms
        
        # Subtest: at multiple levels
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 3 - at multiple levels # time=6.776ms
        
        # Subtest: at multiple levels / 2
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 4 - at multiple levels / 2 # time=11.228ms
        
        # Subtest: in separate plugins at the same level
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 5 - in separate plugins at the same level # time=21.174ms
        
    ok 4 - setting a custom 404 handler multiple times is an error # time=77.905ms
    
    # Subtest: encapsulated 404
        1..13
        ok 1 - should not error
        # Subtest: root unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - root unsupported method # time=25.966ms
        
        # Subtest: root framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - root framework-unsupported method # time=4.606ms
        
        # Subtest: root unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - root unsupported route # time=4.617ms
        
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 5 - unsupported method # time=5.168ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 6 - framework-unsupported method # time=4.761ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 7 - unsupported route # time=4.339ms
        
        # Subtest: unsupported method 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 8 - unsupported method 2 # time=4.811ms
        
        # Subtest: framework-unsupported method 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 9 - framework-unsupported method 2 # time=4.432ms
        
        # Subtest: unsupported route 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 10 - unsupported route 2 # time=4.355ms
        
        # Subtest: unsupported method 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 11 - unsupported method 3 # time=4.739ms
        
        # Subtest: framework-unsupported method 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 12 - framework-unsupported method 3 # time=4.273ms
        
        # Subtest: unsupported route 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 13 - unsupported route 3 # time=4.228ms
        
    ok 5 - encapsulated 404 # time=129.089ms
    
    # Subtest: custom 404 hook and handler context
        1..21
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should not error
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equal
    ok 6 - custom 404 hook and handler context # time=89.674ms
    
    # Subtest: encapsulated custom 404 without - prefix hook and handler context
        1..13
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equal
    ok 7 - encapsulated custom 404 without - prefix hook and handler context # time=11.391ms
    
    # Subtest: run hooks on default 404
        1..7
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - preHandler called
        ok 4 - onSend called
        ok 5 - onResponse called
        ok 6 - should not error
        ok 7 - should be equal
    ok 8 - run hooks on default 404 # time=30.237ms
    
    # Subtest: run non-encapsulated plugin hooks on default 404
        1..6
        ok 1 - onRequest called
        ok 2 - preHandler called
        ok 3 - onSend called
        ok 4 - onResponse called
        ok 5 - should not error
        ok 6 - should be equal
    ok 9 - run non-encapsulated plugin hooks on default 404 # time=14.661ms
    
    # Subtest: run non-encapsulated plugin hooks on custom 404
        1..11
        ok 1 - onRequest called
        ok 2 - onRequest called
        ok 3 - preHandler called
        ok 4 - preHandler called
        ok 5 - onSend called
        ok 6 - onSend called
        ok 7 - onResponse called
        ok 8 - onResponse called
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
    ok 10 - run non-encapsulated plugin hooks on custom 404 # time=10.359ms
    
    # Subtest: run hook with encapsulated 404
        1..11
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - onRequest 2 called
        ok 4 - preHandler called
        ok 5 - preHandler 2 called
        ok 6 - onSend called
        ok 7 - onSend 2 called
        ok 8 - onResponse called
        ok 9 - onResponse 2 called
        ok 10 - should not error
        ok 11 - should be equal
    ok 11 - run hook with encapsulated 404 # time=13.489ms
    
    # Subtest: run hook with encapsulated 404 and framework-unsupported method
        1..11
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - onRequest 2 called
        ok 4 - preHandler called
        ok 5 - preHandler 2 called
        ok 6 - onSend called
        ok 7 - onSend 2 called
        ok 8 - onResponse called
        ok 9 - onResponse 2 called
        ok 10 - should not error
        ok 11 - should be equal
    ok 12 - run hook with encapsulated 404 and framework-unsupported method # time=12.559ms
    
    # Subtest: hooks check 404
        1..13
        ok 1 - should not error
        ok 2 - onRequest
        ok 3 - should be equivalent
        ok 4 - onSend
        ok 5 - onResponse
        ok 6 - onRequest
        ok 7 - should be equivalent
        ok 8 - onSend
        ok 9 - onResponse
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should not error
        ok 13 - should be equal
    ok 13 - hooks check 404 # time=27.56ms
    
    # Subtest: setNotFoundHandler should not suppress duplicated routes checking
        1..1
        ok 1 - expect truthy value
    ok 14 - setNotFoundHandler should not suppress duplicated routes checking # time=3.512ms
    
    # Subtest: log debug for 404
        1..1
        # Subtest: log debug
            1..7
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
        ok 1 - log debug # time=8.049ms
        
    ok 15 - log debug for 404 # time=14.721ms
    
    # Subtest: Unknown method
        1..5
        ok 1 - should not error
        ok 2 - expected to throw
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent strictly
    ok 16 - Unknown method # time=11.745ms
    
    # Subtest: recognizes errors from the http-errors module
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent strictly
    ok 17 - recognizes errors from the http-errors module # time=36.746ms
    
    # Subtest: the default 404 handler can be invoked inside a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
    ok 18 - the default 404 handler can be invoked inside a prefixed plugin # time=12.144ms
    
    # Subtest: an inherited custom 404 handler can be invoked inside a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - an inherited custom 404 handler can be invoked inside a prefixed plugin # time=7.008ms
    
    # Subtest: encapsulated custom 404 handler without a prefix is the handler for the entire 404 level
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 20 - encapsulated custom 404 handler without a prefix is the handler for the entire 404 level # time=10.349ms
    
    # Subtest: cannot set notFoundHandler after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 21 - cannot set notFoundHandler after binding # time=4.476ms
    
    # Subtest: 404 inside onSend
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 22 - 404 inside onSend # time=6.835ms
    
    # Subtest: onSend hooks run when an encapsulated route invokes the notFound handler
        1..3
        ok 1 - onSend hook called
        ok 2 - should not error
        ok 3 - should be equal
    ok 23 - onSend hooks run when an encapsulated route invokes the notFound handler # time=5.563ms
    
    # Subtest: preHandler option for setNotFoundHandler
        1..10
        # Subtest: preHandler option
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 1 - preHandler option # time=54.643ms
        
        # Subtest: preHandler hook in setNotFoundHandler should be called when callNotFound
            1..3
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 2 - preHandler hook in setNotFoundHandler should be called when callNotFound # time=6.648ms
        
        # Subtest: preHandler hook in setNotFoundHandler should accept an array of functions and be called when callNotFound
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 3 - preHandler hook in setNotFoundHandler should accept an array of functions and be called when callNotFound # time=5.417ms
        
        # Subtest: preHandler option should be called after preHandler hook
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 4 - preHandler option should be called after preHandler hook # time=5.151ms
        
        # Subtest: preHandler option should be unique per prefix
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 5 - preHandler option should be unique per prefix # time=10.784ms
        
        # Subtest: preHandler option should handle errors
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 6 - preHandler option should handle errors # time=5.249ms
        
        # Subtest: preHandler option should handle errors with custom status code
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 7 - preHandler option should handle errors with custom status code # time=5.233ms
        
        # Subtest: preHandler option could accept an array of functions
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 8 - preHandler option could accept an array of functions # time=4.654ms
        
        # Subtest: preHandler option does not interfere with preHandler
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 9 - preHandler option does not interfere with preHandler # time=8.897ms
        
        # Subtest: preHandler option should keep the context
            1..3
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 10 - preHandler option should keep the context # time=4.996ms
        
    ok 24 - preHandler option for setNotFoundHandler # time=123.523ms
    
    # Subtest: reply.notFound invoked the notFound handler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - reply.notFound invoked the notFound handler # time=5.042ms
    
    # Subtest: The custom error handler should be invoked after the custom not found handler
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - type is Error
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 26 - The custom error handler should be invoked after the custom not found handler # time=6.031ms
    
    # Subtest: If the custom not found handler does not use an Error, the custom error handler should not be called
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 27 - If the custom not found handler does not use an Error, the custom error handler should not be called # time=4.32ms
    
    # Subtest: preValidation option
        1..3
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 28 - preValidation option # time=4.974ms
    
    # Subtest: preValidation option could accept an array of functions
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 29 - preValidation option could accept an array of functions # time=4.906ms
    
    # Subtest: Should fail to invoke callNotFound inside a 404 handler
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 30 - Should fail to invoke callNotFound inside a 404 handler # time=6.512ms
    
    # Subtest: 400 in case of bad url (pre find-my-way v2.2.0 was a 404)
        # Subtest: Dynamic route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 1 - Dynamic route # time=18.728ms
        
        # Subtest: Wildcard
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - Wildcard # time=5.503ms
        
        # Subtest: No route registered
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - No route registered # time=26.276ms
        
        # Subtest: Only / is registered
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - Only / is registered # time=23.431ms
        
        # Subtest: customized 404
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - customized 404 # time=12.8ms
        
        1..5
    ok 31 - 400 in case of bad url (pre find-my-way v2.2.0 was a 404) # time=94.353ms
    
    # Subtest: setNotFoundHandler should be chaining fastify instance
        # Subtest: Register route after setNotFoundHandler
            1..6
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should not error
            ok 5 - should be equal
            ok 6 - should be equal
        ok 1 - Register route after setNotFoundHandler # time=13.274ms
        
        1..1
    ok 32 - setNotFoundHandler should be chaining fastify instance # time=18.12ms
    
    # Subtest: Send 404 when frameworkError calls reply.callNotFound
        # Subtest: Dynamic route
            1..4
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 1 - Dynamic route # time=5.945ms
        
        1..1
    ok 33 - Send 404 when frameworkError calls reply.callNotFound # time=12.653ms
    
    1..33
    # time=1126.942ms
ok 1 - test/404s.test.js # time=1126.942ms

# Subtest: test/500s.test.js
    # Subtest: default 500
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - default 500 # time=78.999ms
    
    # Subtest: custom 500
        1..6
        ok 1 - type is object
        ok 2 - type is Request
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 2 - custom 500 # time=10.061ms
    
    # Subtest: encapsulated 500
        1..10
        ok 1 - type is object
        ok 2 - type is Request
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 3 - encapsulated 500 # time=20.069ms
    
    # Subtest: custom 500 with hooks
        1..7
        ok 1 - onRequest
        ok 2 - onSend
        ok 3 - onResponse
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 4 - custom 500 with hooks # time=10.117ms
    
    # Subtest: cannot set errorHandler after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 5 - cannot set errorHandler after binding # time=26.815ms
    
    1..5
    # time=160.056ms
ok 2 - test/500s.test.js # time=160.056ms

# Subtest: test/allowUnsafeRegex.test.js
    # Subtest: allow unsafe regex
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - allow unsafe regex # time=74.639ms
    
    # Subtest: allow unsafe regex not match
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 2 - allow unsafe regex not match # time=11.533ms
    
    # Subtest: allow unsafe regex not safe
        1..1
        ok 1 - expected to throw
    ok 3 - allow unsafe regex not safe # time=88.964ms
    
    # Subtest: allow unsafe regex not safe by default
        1..1
        ok 1 - expected to throw
    ok 4 - allow unsafe regex not safe by default # time=2.95ms
    
    # Subtest: allow unsafe regex allow unsafe
        1..5
        ok 1 - expected to not throw
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 5 - allow unsafe regex allow unsafe # time=17.964ms
    
    1..5
    # time=239.399ms
ok 3 - test/allowUnsafeRegex.test.js # time=239.399ms

# Subtest: test/als.test.js
    ok 1 - should not error
    ok 2 - expect truthy value
    ok 3 - should not error
    ok 4 - should be equal
    ok 5 - should be equivalent
    ok 6 - expect truthy value
    ok 7 - should not error
    ok 8 - should be equal
    ok 9 - should be equivalent
    ok 10 - expect truthy value
    ok 11 - should not error
    ok 12 - should be equal
    ok 13 - should be equivalent
    1..13
    # time=43.568ms
ok 4 - test/als.test.js # time=43.568ms

# Subtest: test/async-await.test.js
    # Subtest: async await
        1..11
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 1 - async await # time=401.529ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (undefined)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 2 - ignore the result of the promise if reply.send is called beforehand (undefined) # time=17.133ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (object)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 3 - ignore the result of the promise if reply.send is called beforehand (object) # time=13.763ms
    
    # Subtest: server logs an error if reply.send is called and a value is returned via async/await
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 4 - server logs an error if reply.send is called and a value is returned via async/await # time=92.123ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (undefined)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 5 - ignore the result of the promise if reply.send is called beforehand (undefined) # time=9.235ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (object)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 6 - ignore the result of the promise if reply.send is called beforehand (object) # time=25.033ms
    
    # Subtest: await reply if we will be calling reply.send in the future
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 7 - await reply if we will be calling reply.send in the future # time=8.89ms
    
    # Subtest: await reply if we will be calling reply.send in the future (error case)
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 8 - await reply if we will be calling reply.send in the future (error case) # time=13.394ms
    
    # Subtest: support reply decorators with await
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 9 - support reply decorators with await # time=16.658ms
    
    # Subtest: inject async await
        1..1
        ok 1 - should be equivalent
    ok 10 - inject async await # time=7.82ms
    
    # Subtest: inject async await - when the server equal up
        1..2
        ok 1 - should be equivalent
        ok 2 - should be equivalent
    ok 11 - inject async await - when the server equal up # time=209.618ms
    
    # Subtest: async await plugin
        1..1
        ok 1 - should be equivalent
    ok 12 - async await plugin # time=212.663ms
    
    # Subtest: does not call reply.send() twice if 204 response equal already sent
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - does not call reply.send() twice if 204 response equal already sent # time=4.533ms
    
    # Subtest: promise was fulfilled with undefined
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - promise was fulfilled with undefined # time=16.511ms
    
    # Subtest: error is not logged because promise was fulfilled with undefined but response was sent before promise resolution
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 15 - error is not logged because promise was fulfilled with undefined but response was sent before promise resolution # time=10.319ms
    
    # Subtest: Thrown Error instance sets HTTP status code
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - Thrown Error instance sets HTTP status code # time=6.659ms
    
    # Subtest: customErrorHandler support
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 17 - customErrorHandler support # time=6.079ms
    
    # Subtest: customErrorHandler support without throwing
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - customErrorHandler support without throwing # time=5.055ms
    
    # Subtest: customErrorHandler only called if reply not already sent
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - customErrorHandler only called if reply not already sent # time=4.559ms
    
    # Subtest: setNotFoundHandler should accept return value
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - setNotFoundHandler should accept return value # time=6.262ms
    
    # Subtest: customErrorHandler should accept return value
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 21 - customErrorHandler should accept return value # time=5.696ms
    
    # Subtest: await self
        ok 1 - should be equal
        1..1
    ok 22 - await self # time=3.242ms
    
    1..22
    # time=1123.365ms
ok 5 - test/async-await.test.js # time=1123.365ms

# Subtest: test/bodyLimit.test.js
    # Subtest: bodyLimit
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should not error
        ok 5 - should be equal
    ok 1 - bodyLimit # time=37.998ms
    
    1..1
    # time=42.677ms
ok 6 - test/bodyLimit.test.js # time=42.677ms

# Subtest: test/build/error-serializer.test.js
    # Subtest: check generated code syntax
        1..1
        ok 1 - should be equal
    ok 1 - check generated code syntax # time=3747.015ms
    
    ok 2 - ensure the current error serializer is latest # SKIP
    1..2
    # skip: 1
    # time=3820.219ms
ok 7 - test/build/error-serializer.test.js # time=3820.219ms

# Subtest: test/build/version.test.js
    # Subtest: should be the same as package.json
        1..1
        ok 1 - should be equal
    ok 1 - should be the same as package.json # time=7.384ms
    
    1..1
    # time=13.939ms
ok 8 - test/build/version.test.js # time=13.939ms

# Subtest: test/case-insensitive.test.js
    # Subtest: case insensitive
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - case insensitive # time=69.74ms
    
    # Subtest: case insensitive inject
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - case insensitive inject # time=34.386ms
    
    # Subtest: case insensitive (parametric)
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 3 - case insensitive (parametric) # time=11.721ms
    
    # Subtest: case insensitive (wildcard)
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 4 - case insensitive (wildcard) # time=32.025ms
    
    1..4
    # time=163.382ms
ok 9 - test/case-insensitive.test.js # time=163.382ms

# Subtest: test/chainable.test.js
    # Subtest: chainable - get
        1..1
        ok 1 - type is [object Object]
    ok 1 - chainable - get # time=10.651ms
    
    # Subtest: chainable - post
        1..1
        ok 1 - type is [object Object]
    ok 2 - chainable - post # time=4.639ms
    
    # Subtest: chainable - route
        1..1
        ok 1 - type is [object Object]
    ok 3 - chainable - route # time=2.68ms
    
    1..3
    # time=32.917ms
ok 10 - test/chainable.test.js # time=32.917ms

# Subtest: test/close-pipelining.test.js
    # Subtest: Should return 503 while closing - pipelining
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        1..3
    ok 1 - Should return 503 while closing - pipelining # time=117.056ms
    
    # Subtest: Should not return 503 while closing - pipelining - return503OnClosing
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        1..3
    ok 2 - Should not return 503 while closing - pipelining - return503OnClosing # time=22.821ms
    
    1..2
    # time=173.573ms
ok 11 - test/close-pipelining.test.js # time=173.573ms

# Subtest: test/close.test.js
    # Subtest: close callback
        1..4
        ok 1 - should not error
        ok 2 - type is [object Object]
        ok 3 - should not error
        ok 4 - expect truthy value
    ok 1 - close callback # time=71.483ms
    
    # Subtest: inside register
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - expect truthy value
    ok 2 - inside register # time=60.735ms
    
    # Subtest: close order
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 3 - close order # time=29.534ms
    
    # Subtest: close order - async
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 4 - close order - async # time=18.186ms
    
    # Subtest: should not throw an error if the server is not listening
        1..2
        ok 1 - type is [object Object]
        ok 2 - should not error
    ok 5 - should not throw an error if the server is not listening # time=7.219ms
    
    # Subtest: onClose should keep the context
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
    ok 6 - onClose should keep the context # time=26.122ms
    
    # Subtest: Should return error while closing (promise) - injection
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 7 - Should return error while closing (promise) - injection # time=87.869ms
    
    # Subtest: Should return error while closing (callback) - injection
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 8 - Should return error while closing (callback) - injection # time=122.543ms
    
    # Subtest: Current opened connection should continue to work after closing and return "connection: close" header - return503OnClosing: false
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        1..5
    ok 9 - Current opened connection should continue to work after closing and return "connection: close" header - return503OnClosing: false # time=27.399ms
    
    # Subtest: Current opened connection should not accept new incoming connections
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 10 - Current opened connection should not accept new incoming connections # time=270.639ms
    
    # Subtest: Cannot be reopened the closed server without listen callback
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 11 - Cannot be reopened the closed server without listen callback # time=9.761ms
    
    # Subtest: Cannot be reopened the closed server has listen callback
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 12 - Cannot be reopened the closed server has listen callback # time=5.289ms
    
    ok 13 - shutsdown while keep-alive connections are active (non-async, native) # SKIP
    ok 14 - shutsdown while keep-alive connections are active (non-async, idle, native) # SKIP
    # Subtest: shutsdown while keep-alive connections are active (non-async, custom)
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 15 - shutsdown while keep-alive connections are active (non-async, custom) # time=10.285ms
    
    1..15
    # skip: 2
    # time=767.266ms
ok 12 - test/close.test.js # time=767.266ms

# Subtest: test/connectionTimeout.test.js
    # Subtest: connectionTimeout
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 1 - connectionTimeout # time=40.065ms
    
    1..1
    # time=45.936ms
ok 13 - test/connectionTimeout.test.js # time=45.936ms

# Subtest: test/constrained-routes.test.js
    # Subtest: Should register a host constrained route
        1..7
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 1 - Should register a host constrained route # time=100.329ms
    
    # Subtest: Should register the same route with host constraints
        1..8
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 2 - Should register the same route with host constraints # time=11.754ms
    
    # Subtest: Should allow registering custom constrained routes
        1..8
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 3 - Should allow registering custom constrained routes # time=26.536ms
    
    # Subtest: Should allow registering custom constrained routes outside constructor
        1..8
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 4 - Should allow registering custom constrained routes outside constructor # time=17.724ms
    
    # Subtest: Add a constraint strategy after fastify instance was started
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - Cannot add constraint strategy when fastify instance is already started!
    ok 5 - Add a constraint strategy after fastify instance was started # time=6.432ms
    
    # Subtest: Add a constraint strategy should throw an error if there already exist custom strategy with the same name
        1..1
        ok 1 - There already exists a custom constraint with the name secret.
    ok 6 - Add a constraint strategy should throw an error if there already exist custom strategy with the same name # time=1.565ms
    
    # Subtest: Add a constraint strategy shouldn't throw an error if default constraint with the same name isn't used
        1..1
        ok 1 - (unnamed test)
    ok 7 - Add a constraint strategy shouldn't throw an error if default constraint with the same name isn't used # time=1.335ms
    
    # Subtest: Add a constraint strategy should throw an error if default constraint with the same name is used
        1..1
        ok 1 - There already exists a route with version constraint.
    ok 8 - Add a constraint strategy should throw an error if default constraint with the same name is used # time=2.245ms
    
    # Subtest: The hasConstraintStrategy should return false for default constraints until they are used
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 9 - The hasConstraintStrategy should return false for default constraints until they are used # time=4.712ms
    
    # Subtest: The hasConstraintStrategy should return true if there already exist a custom constraint with the same name
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 10 - The hasConstraintStrategy should return true if there already exist a custom constraint with the same name # time=2.432ms
    
    # Subtest: Should allow registering an unconstrained route after a constrained route
        1..6
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
    ok 11 - Should allow registering an unconstrained route after a constrained route # time=8.807ms
    
    # Subtest: Should allow registering constrained routes in a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 12 - Should allow registering constrained routes in a prefixed plugin # time=22.97ms
    
    # Subtest: Should allow registering a constrained GET route after a constrained HEAD route
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 13 - Should allow registering a constrained GET route after a constrained HEAD route # time=13.918ms
    
    # Subtest: Should allow registering a constrained GET route after an unconstrained HEAD route
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 14 - Should allow registering a constrained GET route after an unconstrained HEAD route # time=21.552ms
    
    # Subtest: Will not try to re-createprefixed HEAD route if it already exists and exposeHeadRoutes is true for constrained routes
        1..1
        ok 1 - expect truthy value
    ok 15 - Will not try to re-createprefixed HEAD route if it already exists and exposeHeadRoutes is true for constrained routes # time=25.894ms
    
    # Subtest: allows separate constrained and unconstrained HEAD routes
        1..1
        ok 1 - expect truthy value
    ok 16 - allows separate constrained and unconstrained HEAD routes # time=5.102ms
    
    1..16
    # time=314.402ms
ok 14 - test/constrained-routes.test.js # time=314.402ms

# Subtest: test/content-length.test.js
    # Subtest: default 413 with bodyLimit option
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - default 413 with bodyLimit option # time=77.816ms
    
    # Subtest: default 400 with wrong content-length
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - default 400 with wrong content-length # time=16.705ms
    
    # Subtest: custom 413 with bodyLimit option
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 3 - custom 413 with bodyLimit option # time=27.461ms
    
    # Subtest: custom 400 with wrong content-length
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 4 - custom 400 with wrong content-length # time=14.651ms
    
    # Subtest: \#2214 - wrong content-length
        ok 1 - should be equal
        1..1
    ok 5 - \#2214 - wrong content-length # time=10.512ms
    
    # Subtest: \#2543 - wrong content-length with errorHandler
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 6 - \#2543 - wrong content-length with errorHandler # time=8.769ms
    
    1..6
    # time=166.706ms
ok 15 - test/content-length.test.js # time=166.706ms

# Subtest: test/content-parser.test.js
    # Subtest: hasContentTypeParser
        1..0
    ok 1 - hasContentTypeParser # time=12.094ms
    
    # Subtest: should know about internal parsers
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
    ok 2 - should know about internal parsers # time=53.448ms
    
    # Subtest: should work with string and RegExp
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect falsey value
    ok 3 - should work with string and RegExp # time=11.931ms
    
    # Subtest: getParser
        1..0
    ok 4 - getParser # time=110.454ms
    
    # Subtest: existingParser
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect falsey value
        1..7
    ok 5 - existingParser # time=64.131ms
    
    # Subtest: add
        1..0
    ok 6 - add # time=15.453ms
    
    # Subtest: non-Error thrown from content parser is properly handled
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 7 - non-Error thrown from content parser is properly handled # time=91.211ms
    
    # Subtest: Error thrown 415 from content type is null and make post request to server
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 8 - Error thrown 415 from content type is null and make post request to server # time=39.719ms
    
    # Subtest: remove
        1..0
    ok 9 - remove # time=20.491ms
    
    # Subtest: remove all should remove all existing parsers and reset cache
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
    ok 10 - remove all should remove all existing parsers and reset cache # time=4.968ms
    
    # Subtest: should return matching parser
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 11 - should return matching parser # time=2.065ms
    
    # Subtest: should return matching parser with caching
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 12 - should return matching parser with caching # time=1.802ms
    
    # Subtest: should prefer content type parser with string value
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 13 - should prefer content type parser with string value # time=2.157ms
    
    # Subtest: should return parser that catches all if no other is set
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 14 - should return parser that catches all if no other is set # time=2.857ms
    
    # Subtest: should return undefined if no matching parser exist
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 15 - should return undefined if no matching parser exist # time=2.828ms
    
    # Subtest: returns always false for "*"
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 16 - returns always false for "*" # time=1.475ms
    
    # Subtest: let you override the default parser once
        1..2
        ok 1 - Content type parser 'application/json' already present
        ok 2 - Content type parser 'text/plain' already present
    ok 17 - let you override the default parser once # time=4.967ms
    
    # Subtest: should only accept string and RegExp
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - The content type should be a string or a RegExp
        ok 4 - The content type should be a string or a RegExp
    ok 18 - should only accept string and RegExp # time=3.052ms
    
    # Subtest: should set "*" as parser that catches all
        1..1
        ok 1 - should be equal
    ok 19 - should set "*" as parser that catches all # time=1.163ms
    
    # Subtest: should remove default parser
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 20 - should remove default parser # time=1.423ms
    
    # Subtest: should remove RegExp parser
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 21 - should remove RegExp parser # time=1.374ms
    
    # Subtest: should throw an error if content type is neither string nor RegExp
        1..1
        ok 1 - expected to throw
    ok 22 - should throw an error if content type is neither string nor RegExp # time=1.653ms
    
    # Subtest: should not throw error if content type does not exist
        1..1
        ok 1 - expected to not throw
    ok 23 - should not throw error if content type does not exist # time=1.423ms
    
    # Subtest: should not remove any content type parser if content type does not exist
        1..1
        ok 1 - should be equivalent
    ok 24 - should not remove any content type parser if content type does not exist # time=1.93ms
    
    1..24
    # time=483.724ms
ok 16 - test/content-parser.test.js # time=483.724ms

# Subtest: test/context-config.test.js
    # Subtest: config
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 1 - config # time=217.195ms
    
    # Subtest: config with exposeHeadRoutes
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 2 - config with exposeHeadRoutes # time=13.93ms
    
    # Subtest: config without exposeHeadRoutes
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 3 - config without exposeHeadRoutes # time=26.923ms
    
    1..3
    # time=272.897ms
ok 17 - test/context-config.test.js # time=272.897ms

# Subtest: test/custom-http-server.test.js
    # Subtest: Should support a custom http server
        1..4
        ok 1 - it is called twice for every HOST interface
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - Should support a custom http server # time=65.811ms
    
    # Subtest: Should not allow forceCloseConnection=idle if the server does not support closeIdleConnections
        1..1
        ok 1 - Cannot set forceCloseConnections to 'idle' as your HTTP server does not support closeIdleConnections method
    ok 2 - Should not allow forceCloseConnection=idle if the server does not support closeIdleConnections # time=4.206ms
    
    1..2
    # time=78.932ms
ok 18 - test/custom-http-server.test.js # time=78.932ms

# Subtest: test/custom-parser-async.test.js
    # Subtest: contentTypeParser should add a custom async parser
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=33.023ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=7.178ms
        
    ok 1 - contentTypeParser should add a custom async parser # time=109.656ms
    
    1..1
    # time=114.883ms
ok 19 - test/custom-parser-async.test.js # time=114.883ms

# Subtest: test/custom-parser.test.js
    # Subtest: contentTypeParser method should exist
        1..1
        ok 1 - expect truthy value
    ok 1 - contentTypeParser method should exist # time=15.432ms
    
    # Subtest: contentTypeParser should add a custom parser
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=27.572ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=7.908ms
        
    ok 2 - contentTypeParser should add a custom parser # time=181.019ms
    
    # Subtest: contentTypeParser should handle multiple custom parsers
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 3 - contentTypeParser should handle multiple custom parsers # time=15.075ms
    
    # Subtest: contentTypeParser should handle an array of custom contentTypes
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 4 - contentTypeParser should handle an array of custom contentTypes # time=31.882ms
    
    # Subtest: contentTypeParser should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 5 - contentTypeParser should handle errors # time=12.668ms
    
    # Subtest: contentTypeParser should support encapsulation
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - expect falsey value
        ok 6 - expect falsey value
    ok 6 - contentTypeParser should support encapsulation # time=10.187ms
    
    # Subtest: contentTypeParser should support encapsulation, second try
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - contentTypeParser should support encapsulation, second try # time=33.23ms
    
    # Subtest: contentTypeParser shouldn't support request with undefined "Content-Type"
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 8 - contentTypeParser shouldn't support request with undefined "Content-Type" # time=10.795ms
    
    # Subtest: the content type should be a string or RegExp
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 9 - the content type should be a string or RegExp # time=2.742ms
    
    # Subtest: the content type cannot be an empty string
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 10 - the content type cannot be an empty string # time=3.273ms
    
    # Subtest: the content type handler should be a function
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 11 - the content type handler should be a function # time=3.206ms
    
    # Subtest: catch all content type parser
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 12 - catch all content type parser # time=14.595ms
    
    # Subtest: catch all content type parser should not interfere with other conte type parsers
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 13 - catch all content type parser should not interfere with other conte type parsers # time=42.898ms
    
    # Subtest: '*' catch undefined Content-Type requests
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - '*' catch undefined Content-Type requests # time=24.727ms
    
    # Subtest: cannot add custom parser after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 15 - cannot add custom parser after binding # time=5.236ms
    
    # Subtest: Can override the default json parser
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 16 - Can override the default json parser # time=11.666ms
    
    # Subtest: Can override the default plain text parser
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 17 - Can override the default plain text parser # time=8.853ms
    
    # Subtest: Can override the default json parser in a plugin
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 18 - Can override the default json parser in a plugin # time=9.594ms
    
    # Subtest: Can't override the json parser multiple times
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 19 - Can't override the json parser multiple times # time=2.377ms
    
    # Subtest: Can't override the plain text parser multiple times
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 20 - Can't override the plain text parser multiple times # time=1.751ms
    
    # Subtest: Should get the body as string
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 21 - Should get the body as string # time=7.635ms
    
    # Subtest: Should return defined body with no custom parser defined and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 22 - Should return defined body with no custom parser defined and content type = 'text/plain' # time=8.031ms
    
    # Subtest: Should have typeof body object with no custom parser defined, no body defined and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 23 - Should have typeof body object with no custom parser defined, no body defined and content type = 'text/plain' # time=5.63ms
    
    # Subtest: Should have typeof body object with no custom parser defined, null body and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 24 - Should have typeof body object with no custom parser defined, null body and content type = 'text/plain' # time=13.446ms
    
    # Subtest: Should have typeof body object with no custom parser defined, undefined body and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 25 - Should have typeof body object with no custom parser defined, undefined body and content type = 'text/plain' # time=6.991ms
    
    # Subtest: Should get the body as string
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 26 - Should get the body as string # time=7.083ms
    
    # Subtest: Should get the body as buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 27 - Should get the body as buffer # time=7.801ms
    
    # Subtest: Should get the body as buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 28 - Should get the body as buffer # time=7.586ms
    
    # Subtest: Should parse empty bodies as a string
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 29 - Should parse empty bodies as a string # time=12.537ms
    
    # Subtest: Should parse empty bodies as a buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 30 - Should parse empty bodies as a buffer # time=8.038ms
    
    # Subtest: The charset should not interfere with the content type handling
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 31 - The charset should not interfere with the content type handling # time=7.433ms
    
    # Subtest: Wrong parseAs parameter
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 32 - Wrong parseAs parameter # time=2.017ms
    
    # Subtest: Should allow defining the bodyLimit per parser
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent strictly
    ok 33 - Should allow defining the bodyLimit per parser # time=8.94ms
    
    # Subtest: route bodyLimit should take precedence over a custom parser bodyLimit
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent strictly
    ok 34 - route bodyLimit should take precedence over a custom parser bodyLimit # time=7.028ms
    
    # Subtest: should be able to use default parser for extra content type
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent strictly
    ok 35 - should be able to use default parser for extra content type # time=12.035ms
    
    # Subtest: contentTypeParser should add a custom parser with RegExp value
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=4.979ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=3.687ms
        
    ok 36 - contentTypeParser should add a custom parser with RegExp value # time=19.029ms
    
    # Subtest: contentTypeParser should add multiple custom parsers with RegExp values
        1..6
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 37 - contentTypeParser should add multiple custom parsers with RegExp values # time=44.493ms
    
    # Subtest: catch all content type parser should not interfere with content type parser
        1..10
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 38 - catch all content type parser should not interfere with content type parser # time=11.236ms
    
    # Subtest: should prefer string content types over RegExp ones
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 39 - should prefer string content types over RegExp ones # time=8.409ms
    
    # Subtest: removeContentTypeParser should support arrays of content types to remove
        1..8
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 40 - removeContentTypeParser should support arrays of content types to remove # time=10.485ms
    
    # Subtest: removeContentTypeParser should support encapsulation
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 41 - removeContentTypeParser should support encapsulation # time=9.902ms
    
    # Subtest: removeAllContentTypeParsers should support encapsulation
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 42 - removeAllContentTypeParsers should support encapsulation # time=13.037ms
    
    # Subtest: cannot remove all content type parsers after binding
        1..2
        ok 1 - should not error
        ok 2 - expected to throw
    ok 43 - cannot remove all content type parsers after binding # time=3.647ms
    
    # Subtest: cannot remove content type parsers after binding
        1..2
        ok 1 - should not error
        ok 2 - expected to throw
    ok 44 - cannot remove content type parsers after binding # time=2.707ms
    
    # Subtest: should be able to override the default json parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 45 - should be able to override the default json parser after removeAllContentTypeParsers # time=5.557ms
    
    # Subtest: should be able to override the default plain text parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 46 - should be able to override the default plain text parser after removeAllContentTypeParsers # time=8.143ms
    
    # Subtest: should be able to add a custom content type parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 47 - should be able to add a custom content type parser after removeAllContentTypeParsers # time=6.502ms
    
    1..47
    # time=764.631ms
ok 20 - test/custom-parser.test.js # time=764.631ms

# Subtest: test/custom-querystring-parser.test.js
    # Subtest: Custom querystring parser
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 1 - Custom querystring parser # time=105.394ms
    
    # Subtest: Custom querystring parser should be called also if there is nothing to parse
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 2 - Custom querystring parser should be called also if there is nothing to parse # time=14.132ms
    
    # Subtest: Querystring without value
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 3 - Querystring without value # time=34.501ms
    
    # Subtest: Custom querystring parser should be a function
        1..1
        ok 1 - should be equal
    ok 4 - Custom querystring parser should be a function # time=1.099ms
    
    1..4
    # time=168.222ms
ok 21 - test/custom-querystring-parser.test.js # time=168.222ms

# Subtest: test/decorator.test.js
    # Subtest: server methods should exist
        1..2
        ok 1 - expect truthy value
        ok 2 - expect truthy value
    ok 1 - server methods should exist # time=15.86ms
    
    # Subtest: should check if the given decoration already exist when null
        1..1
        ok 1 - expect truthy value
    ok 2 - should check if the given decoration already exist when null # time=77.131ms
    
    # Subtest: server methods should be encapsulated via .register
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 3 - server methods should be encapsulated via .register # time=8.496ms
    
    # Subtest: hasServerMethod should check if the given method already exist
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 4 - hasServerMethod should check if the given method already exist # time=22.291ms
    
    # Subtest: decorate should throw if a declared dependency is not present
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - (unnamed test)
    ok 5 - decorate should throw if a declared dependency is not present # time=11.972ms
    
    # Subtest: decorate should throw if declared dependency is not array
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - (unnamed test)
    ok 6 - decorate should throw if declared dependency is not array # time=6.522ms
    
    # Subtest: should pass error for missing request decorator
        1..2
        ok 1 - type is Error
        ok 2 - should match pattern provided
    ok 7 - should pass error for missing request decorator # time=7.467ms
    
    # Subtest: decorateReply inside register
        1..11
        ok 1 - should not error
        ok 2 - test exists
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 8 - decorateReply inside register # time=56.682ms
    
    # Subtest: decorateReply as plugin (inside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 9 - decorateReply as plugin (inside .after) # time=51.015ms
    
    # Subtest: decorateReply as plugin (outside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 10 - decorateReply as plugin (outside .after) # time=18.815ms
    
    # Subtest: decorateRequest inside register
        1..11
        ok 1 - should not error
        ok 2 - test exists
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 11 - decorateRequest inside register # time=18.24ms
    
    # Subtest: decorateRequest as plugin (inside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 12 - decorateRequest as plugin (inside .after) # time=36.945ms
    
    # Subtest: decorateRequest as plugin (outside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 13 - decorateRequest as plugin (outside .after) # time=17.412ms
    
    # Subtest: decorators should be instance separated
        1..1
        ok 1 - (unnamed test)
    ok 14 - decorators should be instance separated # time=2.043ms
    
    # Subtest: hasRequestDecorator
        # Subtest: is a function
            1..1
            ok 1 - expect truthy value
        ok 1 - is a function # time=1.199ms
        
        # Subtest: should check if the given request decoration already exist
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 2 - should check if the given request decoration already exist # time=1.739ms
        
        # Subtest: should check if the given request decoration already exist when null
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 3 - should check if the given request decoration already exist when null # time=2.336ms
        
        # Subtest: should be plugin encapsulable
            1..4
            ok 1 - expect falsey value
            ok 2 - expect falsey value
            ok 3 - expect truthy value
            ok 4 - expect falsey value
        ok 4 - should be plugin encapsulable # time=19.881ms
        
        # Subtest: should be inherited
            1..2
            ok 1 - expect truthy value
            ok 2 - expect truthy value
        ok 5 - should be inherited # time=5.899ms
        
        1..5
    ok 15 - hasRequestDecorator # time=51.283ms
    
    # Subtest: hasReplyDecorator
        # Subtest: is a function
            1..1
            ok 1 - expect truthy value
        ok 1 - is a function # time=1.931ms
        
        # Subtest: should check if the given reply decoration already exist
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 2 - should check if the given reply decoration already exist # time=2.195ms
        
        # Subtest: should check if the given reply decoration already exist when null
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 3 - should check if the given reply decoration already exist when null # time=1.769ms
        
        # Subtest: should be plugin encapsulable
            1..4
            ok 1 - expect falsey value
            ok 2 - expect falsey value
            ok 3 - expect truthy value
            ok 4 - expect falsey value
        ok 4 - should be plugin encapsulable # time=9.954ms
        
        # Subtest: should be inherited
            1..2
            ok 1 - expect truthy value
            ok 2 - expect truthy value
        ok 5 - should be inherited # time=11.229ms
        
        1..5
    ok 16 - hasReplyDecorator # time=129.078ms
    
    # Subtest: should register properties via getter/setter objects
        1..3
        ok 1 - expect truthy value
        ok 2 - a getter
        ok 3 - expect falsey value
    ok 17 - should register properties via getter/setter objects # time=3.663ms
    
    # Subtest: decorateRequest should work with getter/setter
        1..5
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - (unnamed test)
    ok 18 - decorateRequest should work with getter/setter # time=31.635ms
    
    # Subtest: decorateReply should work with getter/setter
        1..5
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - (unnamed test)
    ok 19 - decorateReply should work with getter/setter # time=15.338ms
    
    # Subtest: should register empty values
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 20 - should register empty values # time=3.272ms
    
    # Subtest: nested plugins can override things
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 21 - nested plugins can override things # time=4.316ms
    
    # Subtest: a decorator should addSchema to all the encapsulated tree
        1..1
        ok 1 - should not error
    ok 22 - a decorator should addSchema to all the encapsulated tree # time=4.774ms
    
    # Subtest: after can access to a decorated instance and previous plugin decoration
        1..11
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
    ok 23 - after can access to a decorated instance and previous plugin decoration # time=8.433ms
    
    # Subtest: decorate* should throw if called after ready
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 24 - decorate* should throw if called after ready # time=22.985ms
    
    # Subtest: decorate* should emit warning if an array is passed
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 25 - decorate* should emit warning if an array is passed # time=27.385ms
    
    # Subtest: decorate* should emit warning if object type is passed
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 26 - decorate* should emit warning if object type is passed # time=23.737ms
    
    # Subtest: decorate* should not emit warning if object with getter/setter is passed
        1..0
    ok 27 - decorate* should not emit warning if object with getter/setter is passed # time=23.262ms
    
    # Subtest: decorate* should not emit warning if string,bool,numbers are passed
        1..0
    ok 28 - decorate* should not emit warning if string,bool,numbers are passed # time=23.224ms
    
    # Subtest: Request/reply decorators should be able to access the server instance
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not be equal
        ok 4 - should be equal
        ok 5 - should not be equal
        ok 6 - should be equal
    ok 29 - Request/reply decorators should be able to access the server instance # time=8.454ms
    
    # Subtest: plugin required decorators
        1..0
    ok 30 - plugin required decorators # time=3.572ms
    
    # Subtest: decorateRequest/decorateReply empty string
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 31 - decorateRequest/decorateReply empty string # time=7.706ms
    
    # Subtest: decorateRequest/decorateReply is undefined
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 32 - decorateRequest/decorateReply is undefined # time=7.307ms
    
    # Subtest: decorateRequest/decorateReply is not set to a value
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 33 - decorateRequest/decorateReply is not set to a value # time=7.709ms
    
    # Subtest: decorateRequest with dependencies
        1..2
        ok 1 - expected to not throw
        ok 2 - expect truthy value
    ok 34 - decorateRequest with dependencies # time=8.317ms
    
    # Subtest: decorateRequest with dependencies (functions)
        1..2
        ok 1 - expected to not throw
        ok 2 - expect truthy value
    ok 35 - decorateRequest with dependencies (functions) # time=1.309ms
    
    # Subtest: chain of decorators on Request
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        1..6
    ok 36 - chain of decorators on Request # time=23.825ms
    
    # Subtest: chain of decorators on Reply
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        1..6
    ok 37 - chain of decorators on Reply # time=14.26ms
    
    1..37
    # time=848.798ms
ok 22 - test/decorator.test.js # time=848.798ms

# Subtest: test/default-route.test.js
    # Subtest: should fail if defaultRoute is not a function
        1..1
        ok 1 - should be equal
    ok 1 - should fail if defaultRoute is not a function # time=18.941ms
    
    # Subtest: correctly sets, returns, and calls defaultRoute
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 2 - correctly sets, returns, and calls defaultRoute # time=40.849ms
    
    1..2
    # time=72.298ms
ok 23 - test/default-route.test.js # time=72.298ms

# Subtest: test/delete.test.js
    # Subtest: shorthand - delete
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - delete # time=9.759ms
    
    # Subtest: shorthand - delete params
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - delete params # time=2.437ms
    
    # Subtest: shorthand - delete, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - delete, querystring schema # time=1.886ms
    
    # Subtest: shorthand - get, headers schema
        1..1
        ok 1 - (unnamed test)
    ok 4 - shorthand - get, headers schema # time=1.825ms
    
    # Subtest: missing schema - delete
        1..1
        ok 1 - (unnamed test)
    ok 5 - missing schema - delete # time=1.701ms
    
    # Subtest: body - delete
        1..1
        ok 1 - (unnamed test)
    ok 6 - body - delete # time=1.457ms
    
    # Subtest: shorthand - delete with application/json Content-Type header and without body
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - shorthand - delete with application/json Content-Type header and without body # time=46.173ms
    
    ok 8 - should not error
    # Subtest: shorthand - request delete
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 9 - shorthand - request delete # time=37.225ms
    
    # Subtest: shorthand - request delete params schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 10 - shorthand - request delete params schema # time=7.633ms
    
    # Subtest: shorthand - request delete params schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 11 - shorthand - request delete params schema error # time=7.145ms
    
    # Subtest: shorthand - request delete headers schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 12 - shorthand - request delete headers schema # time=5.838ms
    
    # Subtest: shorthand - request delete headers schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 13 - shorthand - request delete headers schema error # time=5.485ms
    
    # Subtest: shorthand - request delete querystring schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 14 - shorthand - request delete querystring schema # time=6.674ms
    
    # Subtest: shorthand - request delete querystring schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 15 - shorthand - request delete querystring schema error # time=4.974ms
    
    # Subtest: shorthand - request delete missing schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 16 - shorthand - request delete missing schema # time=5.487ms
    
    # Subtest: shorthand - delete with body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - shorthand - delete with body # time=8.403ms
    
    1..17
    # time=325.425ms
ok 24 - test/delete.test.js # time=325.425ms

# Subtest: test/diagnostics-channel.test.js
    # Subtest: diagnostics_channel when present and subscribers
        1..3
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should be equal
    ok 1 - diagnostics_channel when present and subscribers # time=925.257ms
    
    # Subtest: diagnostics_channel when present and no subscribers
        1..1
        ok 1 - should be equal
    ok 2 - diagnostics_channel when present and no subscribers # time=23.309ms
    
    # Subtest: diagnostics_channel when not present
        1..1
        ok 1 - expected to not throw
    ok 3 - diagnostics_channel when not present # time=17.821ms
    
    1..3
    # time=980.039ms
ok 25 - test/diagnostics-channel.test.js # time=980.039ms

# Subtest: test/encapsulated-error-handler.test.js
    # Subtest: encapuslates an error handler
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 1 - encapuslates an error handler # time=67.153ms
    
    # Subtest: onError hook nested
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 2 - onError hook nested # time=12.423ms
    
    1..2
    # time=86.982ms
ok 26 - test/encapsulated-error-handler.test.js # time=86.982ms

# Subtest: test/esm/index.test.js
    # Subtest: named exports support
        ok 1 - should be equal
        1..1
    ok 1 - named exports support # time=36.682ms
    
    ok 2 - should be equal
    1..2
    # time=42.885ms
ok 27 - test/esm/index.test.js # time=42.885ms

# Subtest: test/fastify-instance.test.js
    # Subtest: root fastify instance is an object
        1..1
        ok 1 - type is object
    ok 1 - root fastify instance is an object # time=15.061ms
    
    # Subtest: fastify instance should contains ajv options
        1..1
        ok 1 - should be equivalent
    ok 2 - fastify instance should contains ajv options # time=6.328ms
    
    # Subtest: fastify instance should contains ajv options.plugins nested arrays
        1..1
        ok 1 - should be equivalent
    ok 3 - fastify instance should contains ajv options.plugins nested arrays # time=4.985ms
    
    # Subtest: fastify instance get invalid ajv options
        1..1
        ok 1 - expected to throw
    ok 4 - fastify instance get invalid ajv options # time=1.492ms
    
    # Subtest: fastify instance get invalid ajv options.plugins
        1..1
        ok 1 - expected to throw
    ok 5 - fastify instance get invalid ajv options.plugins # time=1.091ms
    
    # Subtest: fastify instance should contain default errorHandler
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 6 - fastify instance should contain default errorHandler # time=2.584ms
    
    # Subtest: errorHandler in plugin should be separate from the external one
        1..4
        ok 1 - should not be equivalent
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equivalent
    ok 7 - errorHandler in plugin should be separate from the external one # time=15.309ms
    
    1..7
    # time=66.942ms
ok 28 - test/fastify-instance.test.js # time=66.942ms

# Subtest: test/fluent-schema.test.js
    # Subtest: use fluent-json-schema object
        1..15
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equivalent
    ok 1 - use fluent-json-schema object # time=185.01ms
    
    # Subtest: use complex fluent-json-schema object
        1..1
        ok 1 - should not error
    ok 2 - use complex fluent-json-schema object # time=44.198ms
    
    # Subtest: use fluent schema and plain JSON schema
        1..1
        ok 1 - should not error
    ok 3 - use fluent schema and plain JSON schema # time=63.954ms
    
    # Subtest: Should call valueOf internally
        1..1
        ok 1 - should not error
    ok 4 - Should call valueOf internally # time=75.904ms
    
    1..4
    # time=376.677ms
ok 29 - test/fluent-schema.test.js # time=376.677ms

# Subtest: test/genReqId.test.js
    # Subtest: Should accept a custom genReqId function
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 1 - Should accept a custom genReqId function # time=64.813ms
    
    1..1
    # time=71.071ms
ok 30 - test/genReqId.test.js # time=71.071ms

# Subtest: test/get.test.js
    # Subtest: shorthand - get
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - get # time=9.369ms
    
    # Subtest: shorthand - get (return null)
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - get (return null) # time=2.055ms
    
    # Subtest: shorthand - get params
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - get params # time=2.425ms
    
    # Subtest: shorthand - get, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 4 - shorthand - get, querystring schema # time=4.819ms
    
    # Subtest: shorthand - get, headers schema
        1..1
        ok 1 - (unnamed test)
    ok 5 - shorthand - get, headers schema # time=1.95ms
    
    # Subtest: missing schema - get
        1..1
        ok 1 - (unnamed test)
    ok 6 - missing schema - get # time=1.581ms
    
    # Subtest: custom serializer - get
        1..1
        ok 1 - (unnamed test)
    ok 7 - custom serializer - get # time=2.518ms
    
    # Subtest: empty response
        1..1
        ok 1 - (unnamed test)
    ok 8 - empty response # time=1.731ms
    
    # Subtest: send a falsy boolean
        1..1
        ok 1 - (unnamed test)
    ok 9 - send a falsy boolean # time=1.831ms
    
    ok 10 - should not error
    # Subtest: shorthand - request get
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - shorthand - request get # time=40.987ms
    
    # Subtest: shorthand - request get params schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 12 - shorthand - request get params schema # time=7.705ms
    
    # Subtest: shorthand - request get params schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 13 - shorthand - request get params schema error # time=6.484ms
    
    # Subtest: shorthand - request get headers schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - shorthand - request get headers schema # time=4.784ms
    
    # Subtest: shorthand - request get headers schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 15 - shorthand - request get headers schema error # time=4.751ms
    
    # Subtest: shorthand - request get querystring schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 16 - shorthand - request get querystring schema # time=4.878ms
    
    # Subtest: shorthand - request get querystring schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - shorthand - request get querystring schema error # time=4.248ms
    
    # Subtest: shorthand - request get missing schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - shorthand - request get missing schema # time=4.243ms
    
    # Subtest: shorthand - custom serializer
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 19 - shorthand - custom serializer # time=5.002ms
    
    # Subtest: shorthand - empty response
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 20 - shorthand - empty response # time=4.1ms
    
    # Subtest: shorthand - send a falsy boolean
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - shorthand - send a falsy boolean # time=12.988ms
    
    # Subtest: shorthand - send null value
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - shorthand - send null value # time=4.761ms
    
    1..22
    # time=311.438ms
ok 31 - test/get.test.js # time=311.438ms

# Subtest: test/handler-context.test.js
    # Subtest: handlers receive correct `this` context
        1..4
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 1 - handlers receive correct `this` context # time=52.245ms
    
    # Subtest: handlers have access to the internal context
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - type is Object
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 2 - handlers have access to the internal context # time=19.293ms
    
    1..2
    # time=79.652ms
ok 32 - test/handler-context.test.js # time=79.652ms

# Subtest: test/head.test.js
    # Subtest: shorthand - head
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - head # time=10.558ms
    
    # Subtest: shorthand - head params
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - head params # time=2.412ms
    
    # Subtest: shorthand - head, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - head, querystring schema # time=1.538ms
    
    # Subtest: missing schema - head
        1..1
        ok 1 - (unnamed test)
    ok 4 - missing schema - head # time=1.467ms
    
    ok 5 - should not error
    # Subtest: shorthand - request head
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 6 - shorthand - request head # time=33.371ms
    
    # Subtest: shorthand - request head params schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 7 - shorthand - request head params schema # time=5.405ms
    
    # Subtest: shorthand - request head params schema error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 8 - shorthand - request head params schema error # time=5.43ms
    
    # Subtest: shorthand - request head querystring schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 9 - shorthand - request head querystring schema # time=4.33ms
    
    # Subtest: shorthand - request head querystring schema error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - shorthand - request head querystring schema error # time=4.147ms
    
    # Subtest: shorthand - request head missing schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 11 - shorthand - request head missing schema # time=3.485ms
    
    1..11
    # time=223.207ms
ok 33 - test/head.test.js # time=223.207ms

# Subtest: test/hooks-async.test.js
    # Subtest: async hooks
        1..21
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - should not error
        ok 13 - should be equal
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equivalent
        ok 18 - should not error
        ok 19 - should be equal
        ok 20 - expect truthy value
        ok 21 - expect truthy value
    ok 1 - async hooks # time=128.404ms
    
    # Subtest: modify payload
        1..10
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - expect truthy value
        ok 4 - should be equivalent
        ok 5 - expect truthy value
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
    ok 2 - modify payload # time=36.44ms
    
    # Subtest: onRequest hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 3 - onRequest hooks should be able to block a request # time=10.485ms
    
    # Subtest: preParsing hooks should be able to modify the payload
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 4 - preParsing hooks should be able to modify the payload # time=8.1ms
    
    # Subtest: preParsing hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 5 - preParsing hooks should handle errors # time=5.732ms
    
    # Subtest: preHandler hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 6 - preHandler hooks should be able to block a request # time=5.831ms
    
    # Subtest: preValidation hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 7 - preValidation hooks should be able to block a request # time=5.431ms
    
    # Subtest: preValidation hooks should be able to change request body before validation
        1..4
        ok 1 - (unnamed test)
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - preValidation hooks should be able to change request body before validation # time=147.759ms
    
    # Subtest: preSerialization hooks should be able to modify the payload
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - preSerialization hooks should be able to modify the payload # time=7.367ms
    
    # Subtest: preSerialization hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - preSerialization hooks should handle errors # time=7.945ms
    
    # Subtest: preValidation hooks should handle throwing null
        1..4
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - preValidation hooks should handle throwing null # time=23.555ms
    
    # Subtest: preValidation hooks should handle throwing a string
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 12 - preValidation hooks should handle throwing a string # time=6.706ms
    
    # Subtest: onRequest hooks should be able to block a request (last hook)
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 13 - onRequest hooks should be able to block a request (last hook) # time=16.905ms
    
    # Subtest: preHandler hooks should be able to block a request (last hook)
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 14 - preHandler hooks should be able to block a request (last hook) # time=6.549ms
    
    # Subtest: onRequest respond with a stream
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - onRequest respond with a stream # time=11.809ms
    
    # Subtest: preHandler respond with a stream
        1..7
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 16 - preHandler respond with a stream # time=17.076ms
    
    # Subtest: Should log a warning if is an async function with `done`
        # Subtest: 3 arguments
            1..1
            ok 1 - expect truthy value
        ok 1 - 3 arguments # time=2.32ms
        
        # Subtest: 4 arguments
            1..3
            ok 1 - expect truthy value
            ok 2 - expect truthy value
            ok 3 - expect truthy value
        ok 2 - 4 arguments # time=2.755ms
        
        1..2
    ok 17 - Should log a warning if is an async function with `done` # time=16.56ms
    
    # Subtest: early termination, onRequest async
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 18 - early termination, onRequest async # time=25.704ms
    
    # Subtest: The this should be the same of the encapsulation level
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        1..4
    ok 19 - The this should be the same of the encapsulation level # time=15.549ms
    
    # Subtest: preSerializationEnd should handle errors if the serialize method throws
        # Subtest: works with sync preSerialization
            1..2
            ok 1 - should not error
            ok 2 - should not be equal
        ok 1 - works with sync preSerialization # time=15.03ms
        
        # Subtest: works with async preSerialization
            1..2
            ok 1 - should not error
            ok 2 - should not be equal
        ok 2 - works with async preSerialization # time=6.946ms
        
        1..2
    ok 20 - preSerializationEnd should handle errors if the serialize method throws # time=27.089ms
    
    1..20
    # time=565.301ms
ok 34 - test/hooks-async.test.js # time=565.301ms

# Subtest: test/hooks.on-ready.test.js
    # Subtest: onReady should be called in order
        1..7
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
        ok 7 - should not error
    ok 1 - onReady should be called in order # time=69.004ms
    
    # Subtest: async onReady should be called in order
        1..7
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
        ok 7 - ready
    ok 2 - async onReady should be called in order # time=10.484ms
    
    # Subtest: mix ready and onReady
        1..2
        ok 1 - should be equal
        ok 2 - ready hooks execute once
    ok 3 - mix ready and onReady # time=17.267ms
    
    # Subtest: listen and onReady order
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - trigger the onReady
        ok 9 - do not trigger the onReady
    ok 4 - listen and onReady order # time=32.841ms
    
    # Subtest: multiple ready calls
        1..11
        ok 1 - ready and hooks not triggered yet
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - trigger the onReady
        ok 10 - do not trigger the onReady
        ok 11 - do not trigger the onReady
    ok 5 - multiple ready calls # time=37.371ms
    
    # Subtest: onReady should manage error in sync
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 6 - onReady should manage error in sync # time=6.656ms
    
    # Subtest: onReady should manage error in async
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 7 - onReady should manage error in async # time=31.457ms
    
    # Subtest: onReady should manage sync error
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 8 - onReady should manage sync error # time=7.899ms
    
    # Subtest: onReady can not add decorators or application hooks
        1..3
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should not error
    ok 9 - onReady can not add decorators or application hooks # time=5.137ms
    
    # Subtest: onReady cannot add lifecycle hooks
        1..5
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 10 - onReady cannot add lifecycle hooks # time=8.994ms
    
    # Subtest: onReady throw loading error
        1..1
        ok 1 - expect truthy value
    ok 11 - onReady throw loading error # time=1.848ms
    
    # Subtest: onReady does not call done
        1..6
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
        ok 6 - should be equal
    ok 12 - onReady does not call done # time=517.229ms
    
    # Subtest: onReady execution order
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 13 - onReady execution order # time=3.646ms
    
    # Subtest: ready return the server with callback
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 14 - ready return the server with callback # time=30.259ms
    
    # Subtest: ready return the server with Promise
        1..1
        ok 1 - should be equivalent
    ok 15 - ready return the server with Promise # time=5.742ms
    
    # Subtest: ready return registered
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
    ok 16 - ready return registered # time=10.762ms
    
    1..16
    # time=809.696ms
ok 35 - test/hooks.on-ready.test.js # time=809.696ms

# Subtest: test/hooks.test.js
    # Subtest: hooks
        1..43
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - (unnamed test)
        ok 4 - (unnamed test)
        ok 5 - (unnamed test)
        ok 6 - (unnamed test)
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - expect truthy value
        ok 20 - expect truthy value
        ok 21 - expect truthy value
        ok 22 - expect truthy value
        ok 23 - should be equal
        ok 24 - should be equal
        ok 25 - should be equal
        ok 26 - should be equal
        ok 27 - should be equal
        ok 28 - should be equal
        ok 29 - should be equal
        ok 30 - should be equal
        ok 31 - should be equal
        ok 32 - expect truthy value
        ok 33 - expect truthy value
        ok 34 - expect truthy value
        ok 35 - expect truthy value
        ok 36 - should not error
        ok 37 - should be equal
        ok 38 - should be equal
        ok 39 - should be equivalent
        ok 40 - should not error
        ok 41 - should be equal
        ok 42 - should not error
        ok 43 - should be equal
    ok 1 - hooks # time=254.032ms
    
    # Subtest: onRequest hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 2 - onRequest hook should support encapsulation / 1 # time=50.154ms
    
    # Subtest: onRequest hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 3 - onRequest hook should support encapsulation / 2 # time=8.834ms
    
    # Subtest: onRequest hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 4 - onRequest hook should support encapsulation / 3 # time=24.375ms
    
    # Subtest: preHandler hook should support encapsulation / 5
        1..17
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equivalent
    ok 5 - preHandler hook should support encapsulation / 5 # time=16.599ms
    
    # Subtest: onRoute hook should be called / 1
        1..2
        ok 1 - (unnamed test)
        ok 2 - should not error
    ok 6 - onRoute hook should be called / 1 # time=4.922ms
    
    # Subtest: onRoute hook should be called / 2
        1..5
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 7 - onRoute hook should be called / 2 # time=8.591ms
    
    # Subtest: onRoute hook should be called / 3
        1..5
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - (unnamed test)
        ok 5 - should not error
    ok 8 - onRoute hook should be called / 3 # time=16.931ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 4
        1..4
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - (unnamed test)
        ok 4 - should not error
    ok 9 - onRoute hook should be called (encapsulation support) / 4 # time=7.279ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 5
        1..2
        ok 1 - (unnamed test)
        ok 2 - should not error
    ok 10 - onRoute hook should be called (encapsulation support) / 5 # time=6.756ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 6
        1..1
        ok 1 - should not error
    ok 11 - onRoute hook should be called (encapsulation support) / 6 # time=4.118ms
    
    # Subtest: onRoute should keep the context
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
    ok 12 - onRoute should keep the context # time=5.005ms
    
    # Subtest: onRoute hook should pass correct route
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should not error
    ok 13 - onRoute hook should pass correct route # time=21.35ms
    
    # Subtest: onRoute hook should pass correct route with custom prefix
        1..11
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
    ok 14 - onRoute hook should pass correct route with custom prefix # time=11.579ms
    
    # Subtest: onRoute hook should pass correct route with custom options
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - type is function
        ok 6 - should not error
    ok 15 - onRoute hook should pass correct route with custom options # time=5.212ms
    
    # Subtest: onRoute hook should receive any route option
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 16 - onRoute hook should receive any route option # time=5.358ms
    
    # Subtest: onRoute hook should preserve system route configuration
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 17 - onRoute hook should preserve system route configuration # time=12.431ms
    
    # Subtest: onRoute hook should preserve handler function in options of shorthand route system configuration
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 18 - onRoute hook should preserve handler function in options of shorthand route system configuration # time=4.168ms
    
    # Subtest: onRoute hook should be called once when prefixTrailingSlash
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 19 - onRoute hook should be called once when prefixTrailingSlash # time=5.498ms
    
    # Subtest: onRoute hook should able to change the route url
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 20 - onRoute hook should able to change the route url # time=25.48ms
    
    # Subtest: onRoute hook that throws should be caught
        1..1
        ok 1 - expect truthy value
    ok 21 - onRoute hook that throws should be caught # time=4.365ms
    
    # Subtest: onRoute hook with many prefix
        1..3
        ok 1 - should match pattern provided
        ok 2 - should match pattern provided
        ok 3 - should not error
    ok 22 - onRoute hook with many prefix # time=45.905ms
    
    # Subtest: onRoute hook should not be called when it registered after route
        1..3
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
    ok 23 - onRoute hook should not be called when it registered after route # time=8.868ms
    
    # Subtest: onResponse hook should log request error
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 24 - onResponse hook should log request error # time=102.721ms
    
    # Subtest: onResponse hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 25 - onResponse hook should support encapsulation / 1 # time=7.688ms
    
    # Subtest: onResponse hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 26 - onResponse hook should support encapsulation / 2 # time=3.956ms
    
    # Subtest: onResponse hook should support encapsulation / 3
        1..16
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 27 - onResponse hook should support encapsulation / 3 # time=17.859ms
    
    # Subtest: onSend hook should support encapsulation / 1
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 28 - onSend hook should support encapsulation / 1 # time=4.232ms
    
    # Subtest: onSend hook should support encapsulation / 2
        1..16
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 29 - onSend hook should support encapsulation / 2 # time=28.655ms
    
    # Subtest: onSend hook is called after payload is serialized and headers are set
        1..30
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should be equal
        ok 15 - should not error
        ok 16 - should be equal
        ok 17 - should be equivalent
        ok 18 - should be equal
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equivalent
        ok 22 - should be equal
        ok 23 - should not error
        ok 24 - should be equal
        ok 25 - should be equivalent
        ok 26 - should be equal
        ok 27 - should not error
        ok 28 - should be equal
        ok 29 - should be equivalent
        ok 30 - should be equal
    ok 30 - onSend hook is called after payload is serialized and headers are set # time=26.532ms
    
    # Subtest: modify payload
        1..10
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - expect truthy value
        ok 4 - should be equivalent
        ok 5 - expect truthy value
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
    ok 31 - modify payload # time=7.975ms
    
    # Subtest: clear payload
        1..6
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 32 - clear payload # time=5.487ms
    
    # Subtest: onSend hook throws
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 33 - onSend hook throws # time=16.094ms
    
    # Subtest: onSend hook should receive valid request and reply objects if onRequest hook fails
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 34 - onSend hook should receive valid request and reply objects if onRequest hook fails # time=6.869ms
    
    # Subtest: onSend hook should receive valid request and reply objects if a custom content type parser fails
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 35 - onSend hook should receive valid request and reply objects if a custom content type parser fails # time=15.429ms
    
    # Subtest: Content-Length header should be updated if onSend hook modifies the payload
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 36 - Content-Length header should be updated if onSend hook modifies the payload # time=23.26ms
    
    # Subtest: cannot add hook after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 37 - cannot add hook after binding # time=20.566ms
    
    # Subtest: onRequest hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 38 - onRequest hooks should be able to block a request # time=4.775ms
    
    # Subtest: preValidation hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 39 - preValidation hooks should be able to block a request # time=4.328ms
    
    # Subtest: preValidation hooks should be able to change request body before validation
        1..4
        ok 1 - (unnamed test)
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 40 - preValidation hooks should be able to change request body before validation # time=78.599ms
    
    # Subtest: preParsing hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 41 - preParsing hooks should be able to block a request # time=5.755ms
    
    # Subtest: preHandler hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 42 - preHandler hooks should be able to block a request # time=4.749ms
    
    # Subtest: onRequest hooks should be able to block a request (last hook)
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 43 - onRequest hooks should be able to block a request (last hook) # time=4.323ms
    
    # Subtest: preHandler hooks should be able to block a request (last hook)
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 44 - preHandler hooks should be able to block a request (last hook) # time=5.704ms
    
    # Subtest: preParsing hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 45 - preParsing hooks should handle errors # time=4.301ms
    
    # Subtest: onRequest respond with a stream
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 46 - onRequest respond with a stream # time=10.875ms
    
    # Subtest: preHandler respond with a stream
        1..7
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 47 - preHandler respond with a stream # time=6.068ms
    
    # Subtest: Register an hook after a plugin inside a plugin
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 48 - Register an hook after a plugin inside a plugin # time=8.203ms
    
    # Subtest: Register an hook after a plugin inside a plugin (with preHandler option)
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 49 - Register an hook after a plugin inside a plugin (with preHandler option) # time=10.533ms
    
    # Subtest: Register hooks inside a plugin after an encapsulated plugin
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 50 - Register hooks inside a plugin after an encapsulated plugin # time=14.003ms
    
    # Subtest: onRequest hooks should run in the order in which they are defined
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 51 - onRequest hooks should run in the order in which they are defined # time=12.705ms
    
    # Subtest: preHandler hooks should run in the order in which they are defined
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 52 - preHandler hooks should run in the order in which they are defined # time=10.894ms
    
    # Subtest: onSend hooks should run in the order in which they are defined
        1..8
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equivalent
    ok 53 - onSend hooks should run in the order in which they are defined # time=7.951ms
    
    # Subtest: onResponse hooks should run in the order in which they are defined
        1..8
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equivalent
    ok 54 - onResponse hooks should run in the order in which they are defined # time=8.553ms
    
    # Subtest: onRequest, preHandler, and onResponse hooks that resolve to a value do not cause an error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 55 - onRequest, preHandler, and onResponse hooks that resolve to a value do not cause an error # time=23.437ms
    
    # Subtest: If a response header has been set inside an hook it shoulod not be overwritten by the final response handler
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 56 - If a response header has been set inside an hook it shoulod not be overwritten by the final response handler # time=4.062ms
    
    # Subtest: If the content type has been set inside an hook it should not be changed
        1..5
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 57 - If the content type has been set inside an hook it should not be changed # time=4.734ms
    
    # Subtest: request in onRequest, preParsing, preValidation and onResponse
        1..18
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equivalent
        ok 10 - should be equivalent
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equivalent
        ok 14 - should be equivalent
        ok 15 - should be equivalent
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
    ok 58 - request in onRequest, preParsing, preValidation and onResponse # time=12.683ms
    
    # Subtest: preValidation hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 59 - preValidation hook should support encapsulation / 1 # time=6.201ms
    
    # Subtest: preValidation hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 60 - preValidation hook should support encapsulation / 2 # time=17.51ms
    
    # Subtest: preValidation hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 61 - preValidation hook should support encapsulation / 3 # time=31.779ms
    
    # Subtest: onError hook
        1..3
        ok 1 - should match pattern provided
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 62 - onError hook # time=10.247ms
    
    # Subtest: reply.send should throw if called inside the onError hook
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 63 - reply.send should throw if called inside the onError hook # time=4.548ms
    
    # Subtest: onError hook with setErrorHandler
        # Subtest: Send error
            1..3
            ok 1 - should match pattern provided
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 1 - Send error # time=4.571ms
        
        1..1
    ok 64 - onError hook with setErrorHandler # time=8.932ms
    
    # Subtest: preParsing hook should run before parsing and be able to modify the payload
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 65 - preParsing hook should run before parsing and be able to modify the payload # time=15.102ms
    
    # Subtest: preParsing hooks should run in the order in which they are defined
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 66 - preParsing hooks should run in the order in which they are defined # time=7.173ms
    
    # Subtest: preParsing hooks should support encapsulation
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 67 - preParsing hooks should support encapsulation # time=10.809ms
    
    # Subtest: preParsing hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 68 - preParsing hook should support encapsulation / 1 # time=5.728ms
    
    # Subtest: preParsing hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 69 - preParsing hook should support encapsulation / 2 # time=5.467ms
    
    # Subtest: preParsing hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 70 - preParsing hook should support encapsulation / 3 # time=12.165ms
    
    # Subtest: preSerialization hook should run before serialization and be able to modify the payload
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 71 - preSerialization hook should run before serialization and be able to modify the payload # time=14.473ms
    
    # Subtest: preSerialization hook should be able to throw errors which are validated against schema response
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        1..6
    ok 72 - preSerialization hook should be able to throw errors which are validated against schema response # time=26.993ms
    
    # Subtest: preSerialization hook which returned error should still run onError hooks
        1..4
        ok 1 - should not error
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - should be equal
    ok 73 - preSerialization hook which returned error should still run onError hooks # time=6.677ms
    
    # Subtest: preSerialization hooks should run in the order in which they are defined
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 74 - preSerialization hooks should run in the order in which they are defined # time=14.965ms
    
    # Subtest: preSerialization hooks should support encapsulation
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 75 - preSerialization hooks should support encapsulation # time=12.197ms
    
    # Subtest: onRegister hook should be called / 1
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should not error
    ok 76 - onRegister hook should be called / 1 # time=3.757ms
    
    # Subtest: onRegister hook should be called / 2
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
    ok 77 - onRegister hook should be called / 2 # time=5.201ms
    
    # Subtest: onRegister hook should be called / 3
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
    ok 78 - onRegister hook should be called / 3 # time=5.327ms
    
    # Subtest: onRegister hook should be called (encapsulation)
        1..1
        ok 1 - should not error
    ok 79 - onRegister hook should be called (encapsulation) # time=2.251ms
    
    # Subtest: early termination, onRequest
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 80 - early termination, onRequest # time=4.847ms
    
    # Subtest: reply.send should throw if undefined error is thrown
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 81 - reply.send should throw if undefined error is thrown # time=14.166ms
    
    # Subtest: reply.send should throw if undefined error is thrown at preParsing hook
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 82 - reply.send should throw if undefined error is thrown at preParsing hook # time=17.349ms
    
    # Subtest: reply.send should throw if undefined error is thrown at onSend hook
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 83 - reply.send should throw if undefined error is thrown at onSend hook # time=4.161ms
    
    # Subtest: onTimeout should be triggered
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - onTimeout
        ok 5 - type is Error
        ok 6 - should be equal
    ok 84 - onTimeout should be triggered # time=509.433ms
    
    # Subtest: onTimeout should be triggered and socket _meta is set
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - onTimeout
        ok 5 - type is Error
        ok 6 - should be equal
    ok 85 - onTimeout should be triggered and socket _meta is set # time=506.903ms
    
    1..85
    # time=2429.188ms
ok 36 - test/hooks.test.js # time=2429.188ms

# Subtest: test/http2/closing.test.js
    # Subtest: http/2 request while fastify closing
        ok 1 - http2 successfully loaded
        ok 2 - should not error
        # Subtest: return 200
            ok 1 - should be equal
            1..1
        ok 3 - return 200 # time=11.919ms
        
        1..3
    ok 1 - http/2 request while fastify closing # time=56.98ms
    
    # Subtest: http/2 request while fastify closing - return503OnClosing: false
        ok 1 - http2 successfully loaded
        ok 2 - should not error
        # Subtest: return 200
            ok 1 - should be equal
            1..1
        ok 3 - return 200 # time=4.871ms
        
        1..3
    ok 2 - http/2 request while fastify closing - return503OnClosing: false # time=13.533ms
    
    # Subtest: http/2 closes successfully with async await
        1..0
    ok 3 - http/2 closes successfully with async await # time=114.494ms
    
    # Subtest: https/2 closes successfully with async await
        1..0
    ok 4 - https/2 closes successfully with async await # time=13.334ms
    
    # Subtest: http/2 server side session emits a timeout event
        ok 1 - should be equal
        1..1
    ok 5 - http/2 server side session emits a timeout event # time=108.3ms
    
    1..5
    # time=335.54ms
ok 37 - test/http2/closing.test.js # time=335.54ms

# Subtest: test/http2/constraint.test.js
    # Subtest: A route supports host constraints under http2 protocol and secure connection
        1..5
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request - no constrain
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - https get request - no constrain # time=61.01ms
        
        # Subtest: https get request - constrain
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - https get request - constrain # time=14.245ms
        
        # Subtest: https get request - constrain - not found
            1..1
            ok 1 - should be equal
        ok 5 - https get request - constrain - not found # time=12.024ms
        
    ok 1 - A route supports host constraints under http2 protocol and secure connection # time=173.177ms
    
    1..1
    # time=203.549ms
ok 38 - test/http2/constraint.test.js # time=203.549ms

# Subtest: test/http2/head.test.js
    ok 1 - http2 successfully loaded
    ok 2 - should not error
    # Subtest: http HEAD request
        1..1
        ok 1 - should be equal
    ok 3 - http HEAD request # time=63.983ms
    
    1..3
    # time=149.738ms
ok 39 - test/http2/head.test.js # time=149.738ms

# Subtest: test/http2/missing-http2-module.test.js
    # Subtest: should throw when http2 module cannot be found
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - should throw when http2 module cannot be found # time=12.285ms
    
    1..1
    # time=18.642ms
ok 40 - test/http2/missing-http2-module.test.js # time=18.642ms

# Subtest: test/http2/plain.test.js
    ok 1 - http2 successfully loaded
    ok 2 - should not error
    # Subtest: http get request
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 3 - http get request # time=34.707ms
    
    # Subtest: http hostname
        1..1
        ok 1 - should be equal
    ok 4 - http hostname # time=7.181ms
    
    1..4
    # time=127.112ms
ok 41 - test/http2/plain.test.js # time=127.112ms

# Subtest: test/http2/secure-with-fallback.test.js
    # Subtest: secure with fallback
        1..7
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get error
            1..1
            ok 1 - should be equal
        ok 3 - https get error # time=41.67ms
        
        # Subtest: https post
            1..2
            ok 1 - should be equal
            ok 2 - should be equivalent
        ok 4 - https post # time=19.719ms
        
        # Subtest: https get request
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - https get request # time=11.578ms
        
        # Subtest: http1 get request
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 6 - http1 get request # time=34.21ms
        
        # Subtest: http1 get error
            1..2
            ok 1 - should not error
            ok 2 - should be equal
        ok 7 - http1 get error # time=8.79ms
        
    ok 1 - secure with fallback # time=208.874ms
    
    1..1
    # time=237.214ms
ok 42 - test/http2/secure-with-fallback.test.js # time=237.214ms

# Subtest: test/http2/secure.test.js
    # Subtest: secure
        1..4
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - https get request # time=41.505ms
        
        # Subtest: https get request without trust proxy - protocol
            1..2
            ok 1 - should be equivalent
            ok 2 - should be equivalent
        ok 4 - https get request without trust proxy - protocol # time=24.384ms
        
    ok 1 - secure # time=171.883ms
    
    1..1
    # time=216.547ms
ok 43 - test/http2/secure.test.js # time=216.547ms

# Subtest: test/http2/unknown-http-method.test.js
    ok 1 - should not error
    # Subtest: http UNKNOWN_METHOD request
        1..2
        ok 1 - should be equal
        ok 2 - should be equivalent
    ok 2 - http UNKNOWN_METHOD request # time=37.474ms
    
    1..2
    # time=97.335ms
ok 44 - test/http2/unknown-http-method.test.js # time=97.335ms

# Subtest: test/https/custom-https-server.test.js
    # Subtest: Should support a custom https server
        1..4
        ok 1 - it is called twice for every HOST interface
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - Should support a custom https server # time=84.549ms
    
    1..1
    # time=117.222ms
ok 45 - test/https/custom-https-server.test.js # time=117.222ms

# Subtest: test/https/https.test.js
    # Subtest: https
        1..4
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 3 - https get request # time=40.719ms
        
        # Subtest: https get request without trust proxy - protocol
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 4 - https get request without trust proxy - protocol # time=18.053ms
        
    ok 1 - https # time=142.594ms
    
    1..1
    # time=172.487ms
ok 46 - test/https/https.test.js # time=172.487ms

# Subtest: test/imports.test.js
    # Subtest: should import as default
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 1 - should import as default # time=778.442ms
    
    # Subtest: should import as esm
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 2 - should import as esm # time=1.862ms
    
    1..2
    # time=791.883ms
ok 47 - test/imports.test.js # time=791.883ms

# Subtest: test/inject.test.js
    # Subtest: inject should exist
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 1 - inject should exist # time=16.731ms
    
    # Subtest: should wait for the ready event
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 2 - should wait for the ready event # time=596.526ms
    
    # Subtest: inject get request
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 3 - inject get request # time=7.844ms
    
    # Subtest: inject get request - code check
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 4 - inject get request - code check # time=24.152ms
    
    # Subtest: inject get request - headers check
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 5 - inject get request - headers check # time=6.648ms
    
    # Subtest: inject get request - querystring
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 6 - inject get request - querystring # time=6.496ms
    
    # Subtest: inject get request - params
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 7 - inject get request - params # time=6.123ms
    
    # Subtest: inject get request - wildcard
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - inject get request - wildcard # time=5.416ms
    
    # Subtest: inject get request - headers
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 9 - inject get request - headers # time=9.952ms
    
    # Subtest: inject post request
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 10 - inject post request # time=11.455ms
    
    # Subtest: inject post request - send stream
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 11 - inject post request - send stream # time=9.21ms
    
    # Subtest: inject get request - reply stream
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 12 - inject get request - reply stream # time=8.468ms
    
    # Subtest: inject promisify - waiting for ready event
        1..1
        ok 1 - should be equal
    ok 13 - inject promisify - waiting for ready event # time=6.237ms
    
    # Subtest: inject promisify - after the ready event
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 14 - inject promisify - after the ready event # time=5.928ms
    
    # Subtest: inject promisify - when the server is up
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 15 - inject promisify - when the server is up # time=17.985ms
    
    # Subtest: should reject in error case
        1..1
        ok 1 - should be equal
    ok 16 - should reject in error case # time=505.601ms
    
    # Subtest: inject a multipart request using form-body
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 17 - inject a multipart request using form-body # time=28.104ms
    
    # Subtest: should error the promise if ready errors
        1..3
        ok 1 - after is called
        ok 2 - expect truthy value
        ok 3 - should be equal
    ok 18 - should error the promise if ready errors # time=28.901ms
    
    # Subtest: should throw error if callback specified and if ready errors
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 19 - should throw error if callback specified and if ready errors # time=4.111ms
    
    # Subtest: should support builder-style injection with ready app
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
    ok 20 - should support builder-style injection with ready app # time=9.771ms
    
    # Subtest: should support builder-style injection with non-ready app
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
    ok 21 - should support builder-style injection with non-ready app # time=6.3ms
    
    # Subtest: should handle errors in builder-style injection correctly
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 22 - should handle errors in builder-style injection correctly # time=27.188ms
    
    1..22
    # time=1367.726ms
ok 48 - test/inject.test.js # time=1367.726ms

# Subtest: test/internals/all.test.js
    # Subtest: fastify.all should add all the methods to the same url
        1..14
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equivalent
    ok 1 - fastify.all should add all the methods to the same url # time=67.861ms
    
    1..1
    # time=72.434ms
ok 49 - test/internals/all.test.js # time=72.434ms

# Subtest: test/internals/contentTypeParser.test.js
    # Subtest: rawBody function
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - rawBody function # time=27.454ms
    
    # Subtest: Should support Webpack and faux modules
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - Should support Webpack and faux modules # time=9.823ms
    
    1..2
    # time=44.196ms
ok 50 - test/internals/contentTypeParser.test.js # time=44.196ms

# Subtest: test/internals/decorator.test.js
    # Subtest: decorate should add the given method to its instance
        1..1
        ok 1 - expect truthy value
    ok 1 - decorate should add the given method to its instance # time=6.025ms
    
    # Subtest: decorate is chainable
        1..3
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
    ok 2 - decorate is chainable # time=5.31ms
    
    # Subtest: checkExistence should check if a property is part of the given instance
        1..1
        ok 1 - expect truthy value
    ok 3 - checkExistence should check if a property is part of the given instance # time=1.125ms
    
    # Subtest: checkExistence should find the instance if not given
        1..1
        ok 1 - expect truthy value
    ok 4 - checkExistence should find the instance if not given # time=1.117ms
    
    # Subtest: checkExistence should check the prototype as well
        1..1
        ok 1 - expect truthy value
    ok 5 - checkExistence should check the prototype as well # time=0.966ms
    
    # Subtest: checkDependencies should throw if a dependency is not present
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 6 - checkDependencies should throw if a dependency is not present # time=1.405ms
    
    # Subtest: decorate should internally call checkDependencies
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 7 - decorate should internally call checkDependencies # time=0.898ms
    
    # Subtest: decorate should recognize getter/setter objects
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - (unnamed test)
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 8 - decorate should recognize getter/setter objects # time=1.555ms
    
    1..8
    # time=69.686ms
ok 51 - test/internals/decorator.test.js # time=69.686ms

# Subtest: test/internals/handleRequest.test.js
    # Subtest: handleRequest function - sent reply
        1..1
        ok 1 - should be equal
    ok 1 - handleRequest function - sent reply # time=5.701ms
    
    # Subtest: handleRequest function - invoke with error
        1..1
        ok 1 - should be equal
    ok 2 - handleRequest function - invoke with error # time=1.314ms
    
    # Subtest: handler function - invalid schema
        1..1
        ok 1 - errorHandler called
    ok 3 - handler function - invalid schema # time=67.979ms
    
    # Subtest: handler function - reply
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - (unnamed test)
    ok 4 - handler function - reply # time=2.858ms
    
    # Subtest: handler function - preValidationCallback with finished response
        1..0
    ok 5 - handler function - preValidationCallback with finished response # time=0.774ms
    
    # Subtest: request should be defined in onSend Hook on post request with content type application/json
        1..8
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - should not error
        ok 8 - should be equal
    ok 6 - request should be defined in onSend Hook on post request with content type application/json # time=306.043ms
    
    # Subtest: request should be defined in onSend Hook on post request with content type application/x-www-form-urlencoded
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - should be equal
    ok 7 - request should be defined in onSend Hook on post request with content type application/x-www-form-urlencoded # time=14.97ms
    
    # Subtest: request should be defined in onSend Hook on options request with content type application/x-www-form-urlencoded
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - should be equal
    ok 8 - request should be defined in onSend Hook on options request with content type application/x-www-form-urlencoded # time=27.935ms
    
    # Subtest: request should respond with an error if an unserialized payload is sent inside an async handler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
    ok 9 - request should respond with an error if an unserialized payload is sent inside an async handler # time=35.765ms
    
    1..9
    # time=489.906ms
ok 52 - test/internals/handleRequest.test.js # time=489.906ms

# Subtest: test/internals/hookRunner.test.js
    # Subtest: hookRunner - Basic
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 1 - hookRunner - Basic # time=10.49ms
    
    # Subtest: hookRunner - In case of error should skip to done
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 2 - hookRunner - In case of error should skip to done # time=3.623ms
    
    # Subtest: hookRunner - Should handle throw
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 3 - hookRunner - Should handle throw # time=3.108ms
    
    # Subtest: hookRunner - Should handle promises
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 4 - hookRunner - Should handle promises # time=23.04ms
    
    # Subtest: hookRunner - In case of error should skip to done (with promises)
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 5 - hookRunner - In case of error should skip to done (with promises) # time=3.32ms
    
    # Subtest: hookRunner - Be able to exit before its natural end
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 6 - hookRunner - Be able to exit before its natural end # time=1.855ms
    
    # Subtest: hookRunner - Promises that resolve to a value do not change the state
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 7 - hookRunner - Promises that resolve to a value do not change the state # time=2.201ms
    
    # Subtest: onSendHookRunner - Basic
        1..13
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equal
        ok 10 - should not error
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equal
    ok 8 - onSendHookRunner - Basic # time=10.089ms
    
    # Subtest: onSendHookRunner - Can change the payload
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 9 - onSendHookRunner - Can change the payload # time=4.631ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 10 - onSendHookRunner - In case of error should skip to done # time=3.446ms
    
    # Subtest: onSendHookRunner - Should handle promises
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 11 - onSendHookRunner - Should handle promises # time=3.788ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done (with promises)
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 12 - onSendHookRunner - In case of error should skip to done (with promises) # time=3.56ms
    
    # Subtest: onSendHookRunner - Be able to exit before its natural end
        1..2
        ok 1 - should be equivalent
        ok 2 - should be equivalent
    ok 13 - onSendHookRunner - Be able to exit before its natural end # time=1.404ms
    
    1..13
    # time=116.587ms
ok 53 - test/internals/hookRunner.test.js # time=116.587ms

# Subtest: test/internals/hooks.test.js
    # Subtest: hooks should have 4 array with the registered hooks
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        1..8
    ok 1 - hooks should have 4 array with the registered hooks # time=7.704ms
    
    # Subtest: hooks.add should add a hook to the given hook
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        1..14
    ok 2 - hooks.add should add a hook to the given hook # time=4.159ms
    
    # Subtest: hooks should throw on unexisting handler
        1..1
        ok 1 - (unnamed test)
    ok 3 - hooks should throw on unexisting handler # time=0.995ms
    
    # Subtest: should throw on wrong parameters
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 4 - should throw on wrong parameters # time=1.514ms
    
    1..4
    # time=45.357ms
ok 54 - test/internals/hooks.test.js # time=45.357ms

# Subtest: test/internals/initialConfig.test.js
    # Subtest: Fastify.initialConfig is an object
        1..1
        ok 1 - type is object
    ok 1 - Fastify.initialConfig is an object # time=14.89ms
    
    # Subtest: without options passed to Fastify, initialConfig should expose default values
        1..1
        ok 1 - should be equivalent
    ok 2 - without options passed to Fastify, initialConfig should expose default values # time=8.022ms
    
    # Subtest: Fastify.initialConfig should expose all options
        1..20
        ok 1 - should be equal
        ok 2 - for security reason the key cert is hidden
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - expect truthy value
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equal
    ok 3 - Fastify.initialConfig should expose all options # time=9.373ms
    
    # Subtest: Should throw if you try to modify Fastify.initialConfig
        1..4
        ok 1 - type is TypeError
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - (unnamed test)
    ok 4 - Should throw if you try to modify Fastify.initialConfig # time=2.982ms
    
    # Subtest: We must avoid shallow freezing and ensure that the whole object is freezed
        1..4
        ok 1 - type is TypeError
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - key cert removed
    ok 5 - We must avoid shallow freezing and ensure that the whole object is freezed # time=17.172ms
    
    # Subtest: https value check
        1..1
        ok 1 - expect falsey value
    ok 6 - https value check # time=1.321ms
    
    # Subtest: Return an error if options do not match the validation schema
        1..6
        ok 1 - type is Error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
        ok 6 - (unnamed test)
    ok 7 - Return an error if options do not match the validation schema # time=69.776ms
    
    # Subtest: Original options must not be frozen
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - Original options must not be frozen # time=3.273ms
    
    # Subtest: Original options must not be altered (test deep cloning)
        1..3
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 9 - Original options must not be altered (test deep cloning) # time=5.371ms
    
    # Subtest: Should not have issues when passing stream options to Pino.js
        1..15
        ok 1 - type is object
        ok 2 - should be equivalent
        ok 3 - listen at log message is ok
        ok 4 - should not error
        ok 5 - reqId is defined
        ok 6 - req is defined
        ok 7 - message is set
        ok 8 - method is get
        ok 9 - expect truthy value
        ok 10 - should be equal
        ok 11 - reqId is defined
        ok 12 - res is defined
        ok 13 - message is set
        ok 14 - statusCode is 200
        ok 15 - responseTime is defined
    ok 10 - Should not have issues when passing stream options to Pino.js # time=42.878ms
    
    # Subtest: deepFreezeObject() should not throw on TypedArray
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - (unnamed test)
    ok 11 - deepFreezeObject() should not throw on TypedArray # time=2.267ms
    
    # Subtest: Fastify.initialConfig should accept the deprecated versioning option
        1..1
        ok 1 - should be equal
    ok 12 - Fastify.initialConfig should accept the deprecated versioning option # time=4.976ms
    
    # Subtest: pluginTimeout should be parsed correctly
        ok 1 - should be equal
        ok 2 - should be equal
        1..2
    ok 13 - pluginTimeout should be parsed correctly # time=3.206ms
    
    1..13
    # time=261.93ms
ok 55 - test/internals/initialConfig.test.js # time=261.93ms

# Subtest: test/internals/logger.test.js
    # Subtest: time resolution
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - time resolution # time=6.934ms
    
    # Subtest: The logger should add a unique id for every request
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - the id should not be duplicated
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - the id should not be duplicated
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - the id should not be duplicated
        ok 11 - expect truthy value
        ok 12 - should not error
        ok 13 - the id should not be duplicated
        ok 14 - expect truthy value
        ok 15 - should not error
        ok 16 - the id should not be duplicated
        ok 17 - expect truthy value
        ok 18 - should not error
        ok 19 - the id should not be duplicated
        ok 20 - expect truthy value
        ok 21 - should not error
        ok 22 - the id should not be duplicated
        ok 23 - expect truthy value
        ok 24 - should not error
        ok 25 - the id should not be duplicated
        ok 26 - expect truthy value
        ok 27 - should not error
        ok 28 - the id should not be duplicated
        ok 29 - expect truthy value
        ok 30 - should not error
        ok 31 - the id should not be duplicated
        1..31
    ok 2 - The logger should add a unique id for every request # time=138.719ms
    
    # Subtest: The logger should reuse request id header for req.id
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - the request id from the header should be returned
        1..4
    ok 3 - The logger should reuse request id header for req.id # time=26.199ms
    
    # Subtest: The logger should error if both stream and file destination are given
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - The logger should error if both stream and file destination are given # time=2.185ms
    
    # Subtest: The serializer prevent fails if the request socket is undefined
        1..1
        ok 1 - should be equivalent
    ok 5 - The serializer prevent fails if the request socket is undefined # time=5.303ms
    
    1..5
    # time=191.143ms
ok 56 - test/internals/logger.test.js # time=191.143ms

# Subtest: test/internals/plugin.test.js
    # Subtest: shouldSkipOverride should check the 'skip-override' symbol
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 1 - shouldSkipOverride should check the 'skip-override' symbol # time=6.097ms
    
    # Subtest: getPluginName should return plugin name if the file is cached
        1..1
        ok 1 - should be equal
    ok 2 - getPluginName should return plugin name if the file is cached # time=1.771ms
    
    # Subtest: getMeta should return the object stored with the 'plugin-meta' symbol
        1..1
        ok 1 - should be equivalent
    ok 3 - getMeta should return the object stored with the 'plugin-meta' symbol # time=4.595ms
    
    # Subtest: checkDecorators should check if the given decorator is present in the instance
        1..1
        ok 1 - Everything ok
    ok 4 - checkDecorators should check if the given decorator is present in the instance # time=1.6ms
    
    # Subtest: checkDecorators should check if the given decorator is present in the instance (errored)
        1..1
        ok 1 - should be equal
    ok 5 - checkDecorators should check if the given decorator is present in the instance (errored) # time=1.084ms
    
    # Subtest: checkDecorators should accept optional decorators
        1..1
        ok 1 - Everything ok
    ok 6 - checkDecorators should accept optional decorators # time=0.706ms
    
    # Subtest: checkDependencies should check if the given dependency is present in the instance
        1..1
        ok 1 - Everything ok
    ok 7 - checkDependencies should check if the given dependency is present in the instance # time=0.909ms
    
    # Subtest: checkDependencies should check if the given dependency is present in the instance (errored)
        1..1
        ok 1 - should be equal
    ok 8 - checkDependencies should check if the given dependency is present in the instance (errored) # time=22.572ms
    
    1..8
    # time=94.728ms
ok 57 - test/internals/plugin.test.js # time=94.728ms

# Subtest: test/internals/reply-serialize.test.js
    # Subtest: Reply\#compileSerializationSchema
        1..4
        # Subtest: Should return a serialization function
            1..4
            ok 1 - type is Function
            ok 2 - type is string
            ok 3 - should be equal
            ok 4 - should be equal
        ok 1 - Should return a serialization function # time=75.797ms
        
        # Subtest: Should reuse the serialize fn across multiple invocations - Route without schema
            1..17
            ok 1 - build the schema compilation function
            ok 2 - type is Function
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - Are the same validate function
            ok 6 - type is Function
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - Are the same validate function
            ok 10 - type is Function
            ok 11 - should be equal
            ok 12 - should be equal
            ok 13 - Are the same validate function
            ok 14 - type is Function
            ok 15 - should be equal
            ok 16 - should be equal
            ok 17 - should be equal
        ok 2 - Should reuse the serialize fn across multiple invocations - Route without schema # time=16.398ms
        
        # Subtest: Should use the custom serializer compiler for the route
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equivalent
            ok 7 - {"hello":"world"}
            ok 8 - should be equivalent
            ok 9 - {"hello":"world"}
            ok 10 - should be equal
        ok 3 - Should use the custom serializer compiler for the route # time=15.391ms
        
        # Subtest: Should build a WeakMap for cache when called
            1..4
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
            ok 4 - should be equal
        ok 4 - Should build a WeakMap for cache when called # time=8.395ms
        
    ok 1 - Reply\#compileSerializationSchema # time=133.446ms
    
    # Subtest: Reply\#getSerializationFunction
        1..3
        # Subtest: Should retrieve the serialization function from the Schema definition
            1..9
            ok 1 - type is Function
            ok 2 - type is Function
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - expect falsey value
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
        ok 1 - Should retrieve the serialization function from the Schema definition # time=28.847ms
        
        # Subtest: Should retrieve the serialization function from the cached one
            1..6
            ok 1 - type is Function
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
        ok 2 - Should retrieve the serialization function from the cached one # time=8.835ms
        
        # Subtest: Should not instantiate a WeakMap if it is not needed
            1..4
            ok 1 - expect falsey value
            ok 2 - should be equal
            ok 3 - expect falsey value
            ok 4 - should be equal
        ok 3 - Should not instantiate a WeakMap if it is not needed # time=21.019ms
        
    ok 2 - Reply\#getSerializationFunction # time=69.126ms
    
    # Subtest: Reply\#serializeInput
        1..5
        # Subtest: Should throw if missed serialization function from HTTP status
            1..2
            ok 1 - should be equal
            ok 2 - should be equivalent
        ok 1 - Should throw if missed serialization function from HTTP status # time=23.904ms
        
        # Subtest: Should use a serializer fn from HTTP status
            1..4
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
        ok 2 - Should use a serializer fn from HTTP status # time=12.527ms
        
        # Subtest: Should compile a serializer out of a schema if serializer fn missed
            1..10
            ok 1 - should be equal
            ok 2 - expect falsey value
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 3 - Should compile a serializer out of a schema if serializer fn missed # time=20.034ms
        
        # Subtest: Should use a cached serializer fn
            1..12
            ok 1 - should be equal
            ok 2 - expect falsey value
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
            ok 11 - should be equal
            ok 12 - should be equal
        ok 4 - Should use a cached serializer fn # time=23.765ms
        
        # Subtest: Should instantiate a WeakMap after first call
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
        ok 5 - Should instantiate a WeakMap after first call # time=15.077ms
        
    ok 3 - Reply\#serializeInput # time=104.042ms
    
    1..3
    # time=317.829ms
ok 58 - test/internals/reply-serialize.test.js # time=317.829ms

# Subtest: test/internals/reply.test.js
    # Subtest: Once called, Reply should return an object with methods
        1..13
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should be equal
        ok 13 - should be equal
    ok 1 - Once called, Reply should return an object with methods # time=14.936ms
    
    # Subtest: reply.send will logStream error and destroy the stream
        1..1
        ok 1 - Error not logged and not streamed
    ok 2 - reply.send will logStream error and destroy the stream # time=4.893ms
    
    # Subtest: reply.send throw with circular JSON
        1..1
        ok 1 - Converting circular structure to JSON
    ok 3 - reply.send throw with circular JSON # time=2.564ms
    
    # Subtest: reply.send returns itself
        1..1
        ok 1 - should be equal
    ok 4 - reply.send returns itself # time=1.779ms
    
    # Subtest: reply.serializer should set a custom serializer
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 5 - reply.serializer should set a custom serializer # time=1.425ms
    
    # Subtest: reply.serializer should support running preSerialization hooks
        1..3
        ok 1 - preSerialization
        ok 2 - should not error
        ok 3 - should be equal
    ok 6 - reply.serializer should support running preSerialization hooks # time=729.634ms
    
    # Subtest: reply.serialize should serialize payload
        1..1
        ok 1 - should be equal
    ok 7 - reply.serialize should serialize payload # time=0.916ms
    
    # Subtest: reply.serialize should serialize payload with a custom serializer
        1..2
        ok 1 - should be equal
        ok 2 - custom serializer not called
    ok 8 - reply.serialize should serialize payload with a custom serializer # time=0.801ms
    
    # Subtest: reply.serialize should serialize payload with a context default serializer
        1..2
        ok 1 - should be equal
        ok 2 - custom serializer not called
    ok 9 - reply.serialize should serialize payload with a context default serializer # time=0.912ms
    
    # Subtest: reply.serialize should serialize payload with Fastify instance
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - reply.serialize should serialize payload with Fastify instance # time=21.046ms
    
    # Subtest: within an instance
        ok 1 - should not error
        # Subtest: custom serializer should be used
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - custom serializer should be used # time=37.226ms
        
        # Subtest: status code and content-type should be correct
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 3 - status code and content-type should be correct # time=6.156ms
        
        # Subtest: auto status code shoud be 200
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - auto status code shoud be 200 # time=5.524ms
        
        # Subtest: auto type shoud be text/plain
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - auto type shoud be text/plain # time=4.581ms
        
        # Subtest: redirect to `/` - 1
            1..1
            ok 1 - should be equal
        ok 6 - redirect to `/` - 1 # time=4.247ms
        
        # Subtest: redirect to `/` - 2
            1..1
            ok 1 - should be equal
        ok 7 - redirect to `/` - 2 # time=3.695ms
        
        # Subtest: redirect to `/` - 3
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 8 - redirect to `/` - 3 # time=7.904ms
        
        # Subtest: redirect to `/` - 4
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 9 - redirect to `/` - 4 # time=8.526ms
        
        # Subtest: redirect to `/` - 5
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
        ok 10 - redirect to `/` - 5 # time=3.771ms
        
        # Subtest: redirect to `/` - 6
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 11 - redirect to `/` - 6 # time=7.275ms
        
        # Subtest: redirect to `/` - 7
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 12 - redirect to `/` - 7 # time=7.388ms
        
        # Subtest: redirect to `/` - 8
            1..1
            ok 1 - should be equal
        ok 13 - redirect to `/` - 8 # time=3.196ms
        
        # Subtest: redirect to `/` - 9
            1..1
            ok 1 - should be equal
        ok 14 - redirect to `/` - 9 # time=3.439ms
        
        # Subtest: redirect with async function to `/` - 10
            1..1
            ok 1 - should be equal
        ok 15 - redirect with async function to `/` - 10 # time=3.395ms
        
        1..15
    ok 11 - within an instance # time=179.651ms
    
    # Subtest: buffer without content type should send a application/octet-stream and raw buffer
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 12 - buffer without content type should send a application/octet-stream and raw buffer # time=15.851ms
    
    # Subtest: buffer with content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 13 - buffer with content type should not send application/octet-stream # time=10.149ms
    
    # Subtest: stream with content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 14 - stream with content type should not send application/octet-stream # time=19.135ms
    
    # Subtest: stream without content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 15 - stream without content type should not send application/octet-stream # time=83.339ms
    
    # Subtest: stream using reply.raw.writeHead should return customize headers
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 16 - stream using reply.raw.writeHead should return customize headers # time=24.523ms
    
    # Subtest: plain string without content type should send a text/plain
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 17 - plain string without content type should send a text/plain # time=25.085ms
    
    # Subtest: plain string with content type should be sent unmodified
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - plain string with content type should be sent unmodified # time=15.744ms
    
    # Subtest: plain string with content type and custom serializer should be serialized
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 19 - plain string with content type and custom serializer should be serialized # time=8.351ms
    
    # Subtest: plain string with content type application/json should NOT be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 20 - plain string with content type application/json should NOT be serialized as json # time=8.296ms
    
    # Subtest: plain string with custom json content type should NOT be serialized as json
        1..19
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equivalent
    ok 21 - plain string with custom json content type should NOT be serialized as json # time=23.672ms
    
    # Subtest: non-string with content type application/json SHOULD be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 22 - non-string with content type application/json SHOULD be serialized as json # time=44.311ms
    
    # Subtest: non-string with custom json's content-type SHOULD be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 23 - non-string with custom json's content-type SHOULD be serialized as json # time=10.349ms
    
    # Subtest: non-string with custom json content type SHOULD be serialized as json
        1..16
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 24 - non-string with custom json content type SHOULD be serialized as json # time=18.206ms
    
    # Subtest: error object with a content type that is not application/json should work
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 25 - error object with a content type that is not application/json should work # time=26.312ms
    
    # Subtest: undefined payload should be sent as-is
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 26 - undefined payload should be sent as-is # time=18.596ms
    
    # Subtest: for HEAD method, no body should be sent but content-length should be
        1..11
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
    ok 27 - for HEAD method, no body should be sent but content-length should be # time=10.984ms
    
    # Subtest: reply.send(new NotFound()) should not invoke the 404 handler
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 28 - reply.send(new NotFound()) should not invoke the 404 handler # time=16.037ms
    
    # Subtest: reply can set multiple instances of same header
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - expect truthy value
        ok 4 - should be equivalent strictly
    ok 29 - reply can set multiple instances of same header # time=8.637ms
    
    # Subtest: reply.hasHeader returns correct values
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 30 - reply.hasHeader returns correct values # time=5.582ms
    
    # Subtest: reply.getHeader returns correct values
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
        ok 4 - should be equivalent strictly
    ok 31 - reply.getHeader returns correct values # time=16.881ms
    
    # Subtest: reply.getHeader returns raw header if there is not in the reply headers
        1..1
        ok 1 - should be equal
    ok 32 - reply.getHeader returns raw header if there is not in the reply headers # time=1.104ms
    
    # Subtest: reply.getHeaders returns correct values
        1..3
        ok 1 - should be equivalent strictly
        ok 2 - should be equivalent strictly
        ok 3 - should not error
    ok 33 - reply.getHeaders returns correct values # time=8.635ms
    
    # Subtest: reply.removeHeader can remove the value
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent strictly
        ok 5 - (unnamed test)
    ok 34 - reply.removeHeader can remove the value # time=7.25ms
    
    # Subtest: reply.header can reset the value
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent strictly
        ok 3 - (unnamed test)
    ok 35 - reply.header can reset the value # time=6.385ms
    
    # Subtest: reply.hasHeader computes raw and fastify headers
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - (unnamed test)
    ok 36 - reply.hasHeader computes raw and fastify headers # time=6.175ms
    
    # Subtest: Reply should handle JSON content type with a charset
        1..16
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should not error
        ok 16 - should be equal
    ok 37 - Reply should handle JSON content type with a charset # time=17.231ms
    
    # Subtest: Content type and charset set previously
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 38 - Content type and charset set previously # time=4.857ms
    
    # Subtest: .status() is an alias for .code()
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 39 - .status() is an alias for .code() # time=3.918ms
    
    # Subtest: .statusCode is getter and setter
        1..4
        ok 1 - 200
        ok 2 - 418
        ok 3 - should not error
        ok 4 - should be equal
    ok 40 - .statusCode is getter and setter # time=5.15ms
    
    # Subtest: reply.header setting multiple cookies as multiple Set-Cookie headers
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equivalent strictly
        ok 4 - should not error
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - should be equivalent strictly
    ok 41 - reply.header setting multiple cookies as multiple Set-Cookie headers # time=10.023ms
    
    # Subtest: should emit deprecation warning when trying to modify the reply.sent property
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 42 - should emit deprecation warning when trying to modify the reply.sent property # time=6.146ms
    
    # Subtest: should throw error when passing falsy value to reply.sent
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 43 - should throw error when passing falsy value to reply.sent # time=4.433ms
    
    # Subtest: should throw error when attempting to set reply.sent more than once
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 44 - should throw error when attempting to set reply.sent more than once # time=5.061ms
    
    # Subtest: should not throw error when attempting to set reply.sent if the underlining request was sent
        1..3
        ok 1 - expected to not throw
        ok 2 - should not error
        ok 3 - (unnamed test)
    ok 45 - should not throw error when attempting to set reply.sent if the underlining request was sent # time=7.224ms
    
    # Subtest: reply.getResponseTime() should return 0 before the timer is initialised on the reply by setting up response listeners
        1..1
        ok 1 - should be equal
    ok 46 - reply.getResponseTime() should return 0 before the timer is initialised on the reply by setting up response listeners # time=0.642ms
    
    # Subtest: reply.getResponseTime() should return a number greater than 0 after the timer is initialised on the reply by setting up response listeners
        1..1
        ok 1 - expect truthy value
    ok 47 - reply.getResponseTime() should return a number greater than 0 after the timer is initialised on the reply by setting up response listeners # time=5.114ms
    
    # Subtest: reply.getResponseTime() should return the time since a request started while inflight
        1..1
        ok 1 - should not be equal
    ok 48 - reply.getResponseTime() should return the time since a request started while inflight # time=3.767ms
    
    # Subtest: reply.getResponseTime() should return the same value after a request is finished
        1..1
        ok 1 - should be equal
    ok 49 - reply.getResponseTime() should return the same value after a request is finished # time=3.904ms
    
    # Subtest: reply should use the custom serializer
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 50 - reply should use the custom serializer # time=6.772ms
    
    # Subtest: reply should use the right serializer in encapsulated context
        1..9
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 51 - reply should use the right serializer in encapsulated context # time=9.953ms
    
    # Subtest: reply should use the right serializer in deep encapsulated context
        1..8
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 52 - reply should use the right serializer in deep encapsulated context # time=9.284ms
    
    # Subtest: reply should use the route serializer
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equal
    ok 53 - reply should use the route serializer # time=17.344ms
    
    # Subtest: cannot set the replySerializer when the server is running
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 54 - cannot set the replySerializer when the server is running # time=11.81ms
    
    # Subtest: reply should not call the custom serializer for errors and not found
        1..9
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 55 - reply should not call the custom serializer for errors and not found # time=7.039ms
    
    # Subtest: reply.then
        1..4
        # Subtest: without an error
            1..1
            ok 1 - fulfilled called
        ok 1 - without an error # time=10.468ms
        
        # Subtest: with an error
            1..1
            ok 1 - should be equal
        ok 2 - with an error # time=1.218ms
        
        # Subtest: with error but without reject callback
            1..1
            ok 1 - (unnamed test)
        ok 3 - with error but without reject callback # time=0.662ms
        
        # Subtest: with error, without reject callback, with logger
            1..1
            ok 1 - should be equal
        ok 4 - with error, without reject callback, with logger # time=1.204ms
        
    ok 56 - reply.then # time=19.849ms
    
    # Subtest: reply.sent should read from response.writableEnded if it is defined
        1..1
        ok 1 - should be equal
    ok 57 - reply.sent should read from response.writableEnded if it is defined # time=0.505ms
    
    # Subtest: redirect to an invalid URL should not crash the server
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        1..7
    ok 58 - redirect to an invalid URL should not crash the server # time=13.447ms
    
    # Subtest: invalid response headers should not crash the server
        ok 1 - only the first invalid header is logged
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 59 - invalid response headers should not crash the server # time=6.893ms
    
    # Subtest: invalid response headers when sending back an error
        ok 1 - only the first invalid header is logged
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 60 - invalid response headers when sending back an error # time=6.167ms
    
    # Subtest: invalid response headers and custom error handler
        ok 1 - custom error handler receives the error
        ok 2 - only the first invalid header is logged
        ok 3 - should be equal
        ok 4 - should be equivalent
        1..4
    ok 61 - invalid response headers and custom error handler # time=6.605ms
    
    1..61
    # time=1685.669ms
ok 59 - test/internals/reply.test.js # time=1685.669ms

# Subtest: test/internals/request-validate.test.js
    # Subtest: \#compileValidationSchema
        1..5
        # Subtest: Should return a function - Route without schema
            1..3
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
        ok 1 - Should return a function - Route without schema # time=155.18ms
        
        # Subtest: Should reuse the validate fn across multiple invocations - Route without schema
            1..16
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
            ok 4 - Are the same validate function
            ok 5 - type is Function
            ok 6 - expect truthy value
            ok 7 - expect falsey value
            ok 8 - Are the same validate function
            ok 9 - type is Function
            ok 10 - expect truthy value
            ok 11 - expect falsey value
            ok 12 - Are the same validate function
            ok 13 - type is Function
            ok 14 - expect truthy value
            ok 15 - expect falsey value
            ok 16 - should be equal
        ok 2 - Should reuse the validate fn across multiple invocations - Route without schema # time=53.419ms
        
        # Subtest: Should return a function - Route with schema
            1..3
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
        ok 3 - Should return a function - Route with schema # time=79.316ms
        
        # Subtest: Should use the custom validator compiler for the route
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equivalent
            ok 7 - expect truthy value
            ok 8 - should be equivalent
            ok 9 - expect truthy value
            ok 10 - should be equal
        ok 4 - Should use the custom validator compiler for the route # time=13.252ms
        
        # Subtest: Should instantiate a WeakMap when executed for first time
            1..5
            ok 1 - should be equal
            ok 2 - type is Function
            ok 3 - type is WeakMap
            ok 4 - type is Function
            ok 5 - type is WeakMap
        ok 5 - Should instantiate a WeakMap when executed for first time # time=44.796ms
        
    ok 1 - \#compileValidationSchema # time=366.863ms
    
    # Subtest: \#getValidationFunction
        1..4
        # Subtest: Should return a validation function
            1..1
            ok 1 - should be equal
        ok 1 - Should return a validation function # time=59.546ms
        
        # Subtest: Should return undefined if no schema compiled
            1..2
            ok 1 - expect falsey value
            ok 2 - expect falsey value
        ok 2 - Should return undefined if no schema compiled # time=5.678ms
        
        # Subtest: Should return the validation function from each HTTP part
            1..15
            ok 1 - expect truthy value
            ok 2 - expect truthy value
            ok 3 - expect falsey value
            ok 4 - expect truthy value
            ok 5 - expect truthy value
            ok 6 - expect falsey value
            ok 7 - expect truthy value
            ok 8 - expect truthy value
            ok 9 - expect truthy value
            ok 10 - expect truthy value
            ok 11 - expect falsey value
            ok 12 - should be equal
            ok 13 - expect truthy value
            ok 14 - expect falsey value
            ok 15 - should be equal
        ok 3 - Should return the validation function from each HTTP part # time=75.774ms
        
        # Subtest: Should not set a WeakMap if there is no schema
            1..1
            ok 1 - should be equal
        ok 4 - Should not set a WeakMap if there is no schema # time=17.63ms
        
    ok 2 - \#getValidationFunction # time=169.691ms
    
    # Subtest: \#validate
        1..7
        # Subtest: Should return true/false if input valid - Route without schema
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 1 - Should return true/false if input valid - Route without schema # time=68.017ms
        
        # Subtest: Should use the custom validator compiler for the route
            1..9
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equivalent
            ok 6 - should be equivalent
            ok 7 - expect truthy value
            ok 8 - expect truthy value
            ok 9 - should be equal
        ok 2 - Should use the custom validator compiler for the route # time=8.012ms
        
        # Subtest: Should return true/false if input valid - With Schema for Route defined
            1..8
            ok 1 - expect truthy value
            ok 2 - expect falsey value
            ok 3 - expect falsey value
            ok 4 - expect truthy value
            ok 5 - expect falsey value
            ok 6 - expect truthy value
            ok 7 - expect truthy value
            ok 8 - expect falsey value
        ok 3 - Should return true/false if input valid - With Schema for Route defined # time=103.095ms
        
        # Subtest: Should throw if missing validation fn for HTTP part and not schema provided
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 4 - Should throw if missing validation fn for HTTP part and not schema provided # time=10.418ms
        
        # Subtest: Should throw if missing validation fn for HTTP part and not valid schema provided
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 5 - Should throw if missing validation fn for HTTP part and not valid schema provided # time=20.743ms
        
        # Subtest: Should throw if invalid schema passed
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 6 - Should throw if invalid schema passed # time=17.564ms
        
        # Subtest: Should set a WeakMap if compiling the very first schema
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
        ok 7 - Should set a WeakMap if compiling the very first schema # time=39.157ms
        
    ok 3 - \#validate # time=276.804ms
    
    # Subtest: Nested Context
        1..1
        # Subtest: Level_1
            1..3
            # Subtest: \#compileValidationSchema
                1..4
                # Subtest: Should return a function - Route without schema
                    1..3
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                ok 1 - Should return a function - Route without schema # time=117.888ms
                
                # Subtest: Should reuse the validate fn across multiple invocations - Route without schema
                    1..16
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                    ok 4 - Are the same validate function
                    ok 5 - type is Function
                    ok 6 - expect truthy value
                    ok 7 - expect falsey value
                    ok 8 - Are the same validate function
                    ok 9 - type is Function
                    ok 10 - expect truthy value
                    ok 11 - expect falsey value
                    ok 12 - Are the same validate function
                    ok 13 - type is Function
                    ok 14 - expect truthy value
                    ok 15 - expect falsey value
                    ok 16 - should be equal
                ok 2 - Should reuse the validate fn across multiple invocations - Route without schema # time=53.367ms
                
                # Subtest: Should return a function - Route with schema
                    1..3
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                ok 3 - Should return a function - Route with schema # time=46.475ms
                
                # Subtest: Should use the custom validator compiler for the route
                    1..10
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - should be equal
                    ok 5 - should be equal
                    ok 6 - should be equivalent
                    ok 7 - expect truthy value
                    ok 8 - should be equivalent
                    ok 9 - expect truthy value
                    ok 10 - should be equal
                ok 4 - Should use the custom validator compiler for the route # time=8.474ms
                
            ok 1 - \#compileValidationSchema # time=236.465ms
            
            # Subtest: \#getValidationFunction
                1..6
                # Subtest: Should return a validation function
                    1..1
                    ok 1 - should be equal
                ok 1 - Should return a validation function # time=55.701ms
                
                # Subtest: Should return undefined if no schema compiled
                    1..1
                    ok 1 - expect falsey value
                ok 2 - Should return undefined if no schema compiled # time=4.6ms
                
                # Subtest: Should return the validation function from each HTTP part
                    1..15
                    ok 1 - expect truthy value
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                    ok 4 - expect truthy value
                    ok 5 - expect truthy value
                    ok 6 - expect falsey value
                    ok 7 - expect truthy value
                    ok 8 - expect truthy value
                    ok 9 - expect truthy value
                    ok 10 - expect truthy value
                    ok 11 - expect falsey value
                    ok 12 - should be equal
                    ok 13 - expect truthy value
                    ok 14 - expect falsey value
                    ok 15 - should be equal
                ok 3 - Should return the validation function from each HTTP part # time=43.899ms
                
                # Subtest: Should return a validation function - nested
                    1..6
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - expect falsey value
                    ok 5 - should be equal
                    ok 6 - should be equal
                ok 4 - Should return a validation function - nested # time=13.289ms
                
                # Subtest: Should return undefined if no schema compiled - nested
                    1..3
                    ok 1 - should be equal
                    ok 2 - expect falsey value
                    ok 3 - should be equal
                ok 5 - Should return undefined if no schema compiled - nested # time=19.98ms
                
                # Subtest: Should per-route defined validation compiler
                    1..5
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should not be equal
                    ok 4 - should be equal
                    ok 5 - should be equal
                ok 6 - Should per-route defined validation compiler # time=7.429ms
                
            ok 2 - \#getValidationFunction # time=154.692ms
            
            # Subtest: \#validate
                1..3
                # Subtest: Should return true/false if input valid - Route without schema
                    1..2
                    ok 1 - expect falsey value
                    ok 2 - expect truthy value
                ok 1 - Should return true/false if input valid - Route without schema # time=43.048ms
                
                # Subtest: Should use the custom validator compiler for the route
                    1..10
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - should be equal
                    ok 5 - should be equivalent
                    ok 6 - should be equivalent
                    ok 7 - expect truthy value
                    ok 8 - expect truthy value
                    ok 9 - should be equal
                    ok 10 - should be equal
                ok 2 - Should use the custom validator compiler for the route # time=9.689ms
                
                # Subtest: Should return true/false if input valid - With Schema for Route defined and scoped validator compiler
                    1..13
                    ok 1 - expect truthy value
                    ok 2 - expect falsey value
                    ok 3 - expect falsey value
                    ok 4 - expect truthy value
                    ok 5 - expect falsey value
                    ok 6 - expect truthy value
                    ok 7 - expect truthy value
                    ok 8 - expect falsey value
                    ok 9 - should be equal
                    ok 10 - should be equal
                    ok 11 - should be equal
                    ok 12 - should be equal
                    ok 13 - should be equal
                ok 3 - Should return true/false if input valid - With Schema for Route defined and scoped validator compiler # time=89.493ms
                
            ok 3 - \#validate # time=149.267ms
            
        ok 1 - Level_1 # time=547.185ms
        
    ok 4 - Nested Context # time=551.924ms
    
    1..4
    # time=1371.15ms
ok 60 - test/internals/request-validate.test.js # time=1371.15ms

# Subtest: test/internals/request.test.js
    # Subtest: Regular request
        ok 1 - type is Request
        ok 2 - type is Function
        ok 3 - type is Function
        ok 4 - type is Function
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        1..19
    ok 1 - Regular request # time=12.508ms
    
    # Subtest: Regular request - hostname from authority
        1..2
        ok 1 - type is Request
        ok 2 - should be equal
    ok 2 - Regular request - hostname from authority # time=1.373ms
    
    # Subtest: Regular request - host header has precedence over authority
        1..2
        ok 1 - type is Request
        ok 2 - should be equal
    ok 3 - Regular request - host header has precedence over authority # time=0.805ms
    
    # Subtest: Request with trust proxy
        1..18
        ok 1 - type is _Request
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - type is Function
        ok 17 - type is Function
        ok 18 - type is Function
    ok 4 - Request with trust proxy # time=10.003ms
    
    # Subtest: Request with trust proxy, encrypted
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 5 - Request with trust proxy, encrypted # time=1.012ms
    
    # Subtest: Request with trust proxy - no x-forwarded-host header
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 6 - Request with trust proxy - no x-forwarded-host header # time=0.869ms
    
    # Subtest: Request with trust proxy - no x-forwarded-host header and fallback to authority
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 7 - Request with trust proxy - no x-forwarded-host header and fallback to authority # time=0.857ms
    
    # Subtest: Request with trust proxy - x-forwarded-host header has precedence over host
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 8 - Request with trust proxy - x-forwarded-host header has precedence over host # time=1.026ms
    
    # Subtest: Request with trust proxy - handles multiple entries in x-forwarded-host/proto
        1..3
        ok 1 - type is _Request
        ok 2 - should be equal
        ok 3 - should be equal
    ok 9 - Request with trust proxy - handles multiple entries in x-forwarded-host/proto # time=0.975ms
    
    # Subtest: Request with trust proxy - plain
        1..1
        ok 1 - should be equivalent
    ok 10 - Request with trust proxy - plain # time=1.047ms
    
    # Subtest: Request with undefined socket
        1..18
        ok 1 - type is Request
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equivalent
        ok 16 - type is Function
        ok 17 - type is Function
        ok 18 - type is Function
    ok 11 - Request with undefined socket # time=12.318ms
    
    # Subtest: Request with trust proxy and undefined socket
        1..1
        ok 1 - should be equivalent
    ok 12 - Request with trust proxy and undefined socket # time=0.856ms
    
    1..12
    # time=112.619ms
ok 61 - test/internals/request.test.js # time=112.619ms

# Subtest: test/internals/server.test.js
    # Subtest: start listening
        ok 1 - server started
        1..1
    ok 1 - start listening # time=53.029ms
    
    # Subtest: DNS errors does not stop the main server on localhost - promise interface
        ok 1 - server started
        1..1
    ok 2 - DNS errors does not stop the main server on localhost - promise interface # time=13.94ms
    
    # Subtest: DNS errors does not stop the main server on localhost - callback interface
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 3 - DNS errors does not stop the main server on localhost - callback interface # time=28.882ms
    
    # Subtest: DNS returns empty binding
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 4 - DNS returns empty binding # time=23.277ms
    
    # Subtest: DNS returns more than two binding
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 5 - DNS returns more than two binding # time=14.649ms
    
    1..5
    # time=141.707ms
ok 62 - test/internals/server.test.js # time=141.707ms

# Subtest: test/internals/validation.test.js
    # Subtest: Symbols
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 1 - Symbols # time=7.935ms
    
    # Subtest: compileSchemasForValidation schema - missing schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - compileSchemasForValidation schema - missing schema # time=2.293ms
    
    # Subtest: compileSchemasForValidation schema - missing output schema
        1..1
        ok 1 - should be equal
    ok 3 - compileSchemasForValidation schema - missing output schema # time=1.264ms
    
    # Subtest: compileSchemasForSerialization schema - missing schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - compileSchemasForSerialization schema - missing schema # time=1.769ms
    
    # Subtest: compileSchemasForSerialization schema - missing output schema
        1..1
        ok 1 - should be equal
    ok 5 - compileSchemasForSerialization schema - missing output schema # time=0.911ms
    
    # Subtest: build schema - output schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 6 - build schema - output schema # time=66.923ms
    
    # Subtest: build schema - payload schema
        1..1
        ok 1 - should be equal
    ok 7 - build schema - payload schema # time=2.366ms
    
    # Subtest: build schema - avoid repeated normalize schema
        1..3
        ok 1 - should not be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 8 - build schema - avoid repeated normalize schema # time=2.203ms
    
    # Subtest: build schema - query schema
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 9 - build schema - query schema # time=2.895ms
    
    # Subtest: build schema - query schema abbreviated
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 10 - build schema - query schema abbreviated # time=2.696ms
    
    # Subtest: build schema - querystring schema
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 11 - build schema - querystring schema # time=2.603ms
    
    # Subtest: build schema - querystring schema abbreviated
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 12 - build schema - querystring schema abbreviated # time=2.58ms
    
    # Subtest: build schema - must throw if querystring and query schema exist
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 13 - build schema - must throw if querystring and query schema exist # time=1.671ms
    
    # Subtest: build schema - params schema
        1..1
        ok 1 - should be equal
    ok 14 - build schema - params schema # time=2.225ms
    
    # Subtest: build schema - headers schema
        1..1
        ok 1 - should be equal
    ok 15 - build schema - headers schema # time=2.42ms
    
    # Subtest: build schema - headers are lowercase
        1..1
        ok 1 - lowercase content-type exists
    ok 16 - build schema - headers are lowercase # time=1.112ms
    
    # Subtest: build schema - headers are not lowercased in case of custom object
        1..1
        ok 1 - type is Headers
    ok 17 - build schema - headers are not lowercased in case of custom object # time=1.062ms
    
    # Subtest: build schema - uppercased headers are not included
        1..1
        ok 1 - uppercase does not exist
    ok 18 - build schema - uppercased headers are not included # time=0.964ms
    
    1..18
    # time=192.539ms
ok 63 - test/internals/validation.test.js # time=192.539ms

# Subtest: test/keepAliveTimeout.test.js
    # Subtest: keepAliveTimeout
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not be equal
        ok 6 - should be equal
    ok 1 - keepAliveTimeout # time=40.942ms
    
    1..1
    # time=49.256ms
ok 64 - test/keepAliveTimeout.test.js # time=49.256ms

# Subtest: test/listen.deprecated.test.js
    # Subtest: listen accepts a port and a callback
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 1 - listen accepts a port and a callback # time=35.285ms
    
    # Subtest: listen accepts a port and a callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 2 - listen accepts a port and a callback with (err, address) # time=5.465ms
    
    # Subtest: listen accepts a port, address, and callback
        1..1
        ok 1 - should not error
    ok 3 - listen accepts a port, address, and callback # time=18.037ms
    
    # Subtest: listen accepts options, backlog and a callback
        1..1
        ok 1 - should not error
    ok 4 - listen accepts options, backlog and a callback # time=5.788ms
    
    # Subtest: listen accepts options (no port), backlog and a callback
        1..1
        ok 1 - should not error
    ok 5 - listen accepts options (no port), backlog and a callback # time=8.623ms
    
    # Subtest: listen accepts options (no host), backlog and a callback
        1..1
        ok 1 - should not error
    ok 6 - listen accepts options (no host), backlog and a callback # time=17.228ms
    
    # Subtest: listen accepts options (no port, no host), backlog and a callback
        1..1
        ok 1 - should not error
    ok 7 - listen accepts options (no port, no host), backlog and a callback # time=11.855ms
    
    # Subtest: listen accepts a port, address and a callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 8 - listen accepts a port, address and a callback with (err, address) # time=3.73ms
    
    # Subtest: listen accepts a port, address, backlog and callback
        1..1
        ok 1 - should not error
    ok 9 - listen accepts a port, address, backlog and callback # time=4.466ms
    
    # Subtest: listen accepts a port, address, backlog and callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 10 - listen accepts a port, address, backlog and callback with (err, address) # time=16.602ms
    
    # Subtest: listen without callback (port zero)
        1..1
        ok 1 - should be equal
    ok 11 - listen without callback (port zero) # time=13.814ms
    
    # Subtest: listen without callback (port not given)
        1..1
        ok 1 - should be equal
    ok 12 - listen without callback (port not given) # time=5.153ms
    
    # Subtest: listen null without callback with (address)
        1..1
        ok 1 - should be equal
    ok 13 - listen null without callback with (address) # time=14.081ms
    
    # Subtest: listen without port without callback with (address)
        1..1
        ok 1 - should be equal
    ok 14 - listen without port without callback with (address) # time=3.831ms
    
    # Subtest: listen with undefined without callback with (address)
        1..1
        ok 1 - should be equal
    ok 15 - listen with undefined without callback with (address) # time=21.28ms
    
    # Subtest: listen when firstArg is string(pipe) and without backlog
        1..1
        ok 1 - should be equal
    ok 16 - listen when firstArg is string(pipe) and without backlog # time=11.288ms
    
    # Subtest: listen when firstArg is string(pipe) and with backlog
        1..1
        ok 1 - should be equal
    ok 17 - listen when firstArg is string(pipe) and with backlog # time=3.483ms
    
    # Subtest: listen when firstArg is { path: string(pipe) } and with backlog and callback
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 18 - listen when firstArg is { path: string(pipe) } and with backlog and callback # time=6.51ms
    
    1..18
    # time=288.842ms
ok 65 - test/listen.deprecated.test.js # time=288.842ms

# Subtest: test/listen.test.js
    # Subtest: listen works without arguments
        ok 1 - should be equal
        ok 2 - expect truthy value
        1..2
    ok 1 - listen works without arguments # time=30.17ms
    
    # Subtest: Async/await listen with arguments
        1..1
        ok 1 - should be equal
    ok 2 - Async/await listen with arguments # time=4.839ms
    
    # Subtest: Promise listen with arguments
        1..1
        ok 1 - should be equal
    ok 3 - Promise listen with arguments # time=17.46ms
    
    # Subtest: listen accepts a callback
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 4 - listen accepts a callback # time=10.207ms
    
    # Subtest: listen accepts options and a callback
        1..1
        ok 1 - should not error
    ok 5 - listen accepts options and a callback # time=8.611ms
    
    # Subtest: listen after Promise.resolve()
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 6 - listen after Promise.resolve() # time=4.221ms
    
    # Subtest: register after listen using Promise.resolve()
        1..1
        ok 1 - resolved
    ok 7 - register after listen using Promise.resolve() # time=10.571ms
    
    # Subtest: double listen errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
    ok 8 - double listen errors # time=4.497ms
    
    # Subtest: double listen errors callback with (err, address)
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 9 - double listen errors callback with (err, address) # time=5.109ms
    
    # Subtest: listen twice on the same port
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 10 - listen twice on the same port # time=11.683ms
    
    # Subtest: listen twice on the same port callback with (err, address)
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 11 - listen twice on the same port callback with (err, address) # time=7.556ms
    
    # Subtest: listen on socket
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent strictly
        ok 3 - should be equal
    ok 12 - listen on socket # time=11.168ms
    
    # Subtest: listen without callback with (address)
        1..1
        ok 1 - should be equal
    ok 13 - listen without callback with (address) # time=4.333ms
    
    # Subtest: double listen without callback rejects
        1..1
        ok 1 - expect truthy value
    ok 14 - double listen without callback rejects # time=28.456ms
    
    # Subtest: double listen without callback with (address)
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 15 - double listen without callback with (address) # time=16.984ms
    
    # Subtest: listen twice on the same port without callback rejects
        1..1
        ok 1 - expect truthy value
    ok 16 - listen twice on the same port without callback rejects # time=6.495ms
    
    # Subtest: listen twice on the same port without callback rejects with (address)
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 17 - listen twice on the same port without callback rejects with (address) # time=27.83ms
    
    # Subtest: listen on invalid port without callback rejects
        ok 1 - expect truthy value
        1..1
    ok 18 - listen on invalid port without callback rejects # time=3.2ms
    
    # Subtest: listen logs the port as info
        1..1
        ok 1 - expect truthy value
    ok 19 - listen logs the port as info # time=3.258ms
    
    # Subtest: listen on localhost binds IPv4 and IPv6 - promise interface
        1..2
        ok 1 - should be equal
        ok 2 - should be equivalent
    ok 20 - listen on localhost binds IPv4 and IPv6 - promise interface # time=23.479ms
    
    # Subtest: listen on localhost binds to all interfaces (both IPv4 and IPv6 if present) - callback interface
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 21 - listen on localhost binds to all interfaces (both IPv4 and IPv6 if present) - callback interface # time=9.558ms
    
    # Subtest: addresses getter
        1..4
        ok 1 - before ready
        ok 2 - after ready
        ok 3 - after listen
        ok 4 - after close
    ok 22 - addresses getter # time=8.086ms
    
    1..22
    # time=349.6ms
ok 66 - test/listen.test.js # time=349.6ms

# Subtest: test/logger.test.js
    # Subtest: defaults to info level
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
        ok 13 - responseTime is defined
        1..13
    ok 1 - defaults to info level # time=58.815ms
    
    # Subtest: test log stream
        1..12
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
    ok 2 - test log stream # time=25.585ms
    
    # Subtest: test error log stream
        1..11
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - reqId is defined
        ok 9 - res is defined
        ok 10 - message is set
        ok 11 - statusCode is 500
    ok 3 - test error log stream # time=85.197ms
    
    # Subtest: can use external logger instance
        1..6
        ok 1 - "Server listening at http://127.0.0.1:43123" dont match "/^Server listening at /"
        ok 2 - should not error
        ok 3 - "incoming request" dont match "/^incoming request$/"
        ok 4 - expect truthy value
        ok 5 - "log success" dont match "/^log success$/"
        ok 6 - "request completed" dont match "/^request completed$/"
    ok 4 - can use external logger instance # time=33.391ms
    
    # Subtest: can use external logger instance with custom serializer
        1..6
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - expect truthy value
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 5 - can use external logger instance with custom serializer # time=18.404ms
    
    # Subtest: expose the logger
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equivalent
    ok 6 - expose the logger # time=2.44ms
    
    # Subtest: The request id header key can be customized
        1..9
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - message is set
        ok 6 - should be equal
        ok 7 - message is set
        ok 8 - should be equal
        ok 9 - message is set
    ok 7 - The request id header key can be customized # time=31.25ms
    
    # Subtest: The request id header key can be customized along with a custom id generator
        1..12
        ok 1 - should match pattern provided
        ok 2 - should be equal
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should be equal
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
    ok 8 - The request id header key can be customized along with a custom id generator # time=34.824ms
    
    # Subtest: The request id log label can be changed
        1..6
        ok 1 - should match pattern provided
        ok 2 - should be equal
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should not error
        ok 6 - should be equal
    ok 9 - The request id log label can be changed # time=13.146ms
    
    # Subtest: The logger should accept custom serializer
        1..9
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - req is defined
        ok 4 - message is set
        ok 5 - custom req serializer is use
        ok 6 - expect truthy value
        ok 7 - res is defined
        ok 8 - message is set
        ok 9 - default res serializer is use
    ok 10 - The logger should accept custom serializer # time=14.741ms
    
    # Subtest: reply.send logs an error if called twice in a row
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
    ok 11 - reply.send logs an error if called twice in a row # time=82.295ms
    
    # Subtest: logger can be silented
        1..17
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equivalent
        ok 10 - should be equivalent
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equivalent
        ok 14 - should be equivalent
        ok 15 - should be equivalent
        ok 16 - should be equivalent
        ok 17 - should be equivalent
    ok 12 - logger can be silented # time=5.661ms
    
    # Subtest: Should set a custom logLevel for a plugin
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equivalent
    ok 13 - Should set a custom logLevel for a plugin # time=13.674ms
    
    # Subtest: Should set a custom logSerializers for a plugin
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 14 - Should set a custom logSerializers for a plugin # time=31.231ms
    
    # Subtest: Should set a custom logLevel for every plugin
        1..18
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equivalent
        ok 15 - should not error
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equivalent
    ok 15 - Should set a custom logLevel for every plugin # time=17.66ms
    
    # Subtest: Should set a custom logSerializers for every plugin
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 16 - Should set a custom logSerializers for every plugin # time=14.686ms
    
    # Subtest: Should override serializers from route
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 17 - Should override serializers from route # time=11.172ms
    
    # Subtest: Should override serializers from plugin
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 18 - Should override serializers from plugin # time=21.025ms
    
    # Subtest: Should use serializers from plugin and route
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 19 - Should use serializers from plugin and route # time=9.377ms
    
    # Subtest: Should use serializers from instance fastify and route
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 20 - Should use serializers from instance fastify and route # time=6.368ms
    
    # Subtest: Should use serializers inherit from contexts
        1..5
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 21 - Should use serializers inherit from contexts # time=6.889ms
    
    # Subtest: Should increase the log level for a specific plugin
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 22 - Should increase the log level for a specific plugin # time=5.965ms
    
    # Subtest: Should set the log level for the customized 404 handler
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 23 - Should set the log level for the customized 404 handler # time=6.105ms
    
    # Subtest: Should set the log level for the customized 500 handler
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 24 - Should set the log level for the customized 500 handler # time=6.297ms
    
    # Subtest: Should set a custom log level for a specific route
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equivalent
    ok 25 - Should set a custom log level for a specific route # time=8.072ms
    
    # Subtest: The default 404 handler logs the incoming request
        1..5
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
    ok 26 - The default 404 handler logs the incoming request # time=5.582ms
    
    # Subtest: should serialize request and response
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 27 - should serialize request and response # time=5.974ms
    
    # Subtest: Wrap IPv6 address in listening log message
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 28 - Wrap IPv6 address in listening log message # time=3.519ms
    
    # Subtest: Do not wrap IPv4 address
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 29 - Do not wrap IPv4 address # time=3.643ms
    
    # Subtest: file option
        1..13
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - listen at log message is ok
        ok 4 - reqId is defined
        ok 5 - req is defined
        ok 6 - message is set
        ok 7 - method is get
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
        ok 13 - responseTime is defined
    ok 30 - file option # time=16.928ms
    
    # Subtest: should log the error if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 31 - should log the error if no error handler is defined # time=10.576ms
    
    # Subtest: should log as info if error status code >= 400 and < 500 if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 32 - should log as info if error status code >= 400 and < 500 if no error handler is defined # time=10.745ms
    
    # Subtest: should log as error if error status code >= 500 if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 33 - should log as error if error status code >= 500 if no error handler is defined # time=9.702ms
    
    # Subtest: should not log the error if error handler is defined and it does not error
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - level is correct
        ok 7 - message is set
        ok 8 - status code is set
    ok 34 - should not log the error if error handler is defined and it does not error # time=24.887ms
    
    # Subtest: should not rely on raw request to log errors
        1..7
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - status code is set
    ok 35 - should not rely on raw request to log errors # time=8.475ms
    
    # Subtest: should redact the authorization header if so specified
        1..7
        ok 1 - listen at log message is ok
        ok 2 - should not error
        ok 3 - authorization is redacted
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 36 - should redact the authorization header if so specified # time=18.046ms
    
    # Subtest: should not log incoming request and outgoing response when disabled
        1..3
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should be equivalent
    ok 37 - should not log incoming request and outgoing response when disabled # time=5.695ms
    
    # Subtest: should not log incoming request and outgoing response for 404 onBadUrl when disabled
        1..1
        ok 1 - should be equivalent
    ok 38 - should not log incoming request and outgoing response for 404 onBadUrl when disabled # time=8.267ms
    
    # Subtest: should pass when using unWritable props in the logger option
        1..1
        ok 1 - (unnamed test)
    ok 39 - should pass when using unWritable props in the logger option # time=1.462ms
    
    # Subtest: should be able to use a custom logger
        1..1
        ok 1 - (unnamed test)
    ok 40 - should be able to use a custom logger # time=10.375ms
    
    # Subtest: should create a default logger if provided one is invalid
        1..1
        ok 1 - (unnamed test)
    ok 41 - should create a default logger if provided one is invalid # time=1.338ms
    
    # Subtest: should not throw error when serializing custom req
        1..1
        ok 1 - should be equivalent
    ok 42 - should not throw error when serializing custom req # time=1.634ms
    
    1..42
    # time=858.561ms
ok 67 - test/logger.test.js # time=858.561ms

# Subtest: test/maxRequestsPerSocket.test.js
    # Subtest: maxRequestsPerSocket on node version >= 16.10.0
        1..8
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should match pattern provided
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
    ok 1 - maxRequestsPerSocket on node version >= 16.10.0 # time=82.849ms
    
    # Subtest: maxRequestsPerSocket zero should behave same as null
        1..10
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should match pattern provided
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
        ok 9 - should match pattern provided
        ok 10 - should match pattern provided
    ok 2 - maxRequestsPerSocket zero should behave same as null # time=17.673ms
    
    # Subtest: maxRequestsPerSocket should be set
        1..1
        ok 1 - should be equivalent
    ok 3 - maxRequestsPerSocket should be set # time=1.896ms
    
    # Subtest: maxRequestsPerSocket should 0
        1..1
        ok 1 - should be equivalent
    ok 4 - maxRequestsPerSocket should 0 # time=1.405ms
    
    # Subtest: requestTimeout passed to server
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 5 - requestTimeout passed to server # time=19.697ms
    
    1..5
    # time=144.112ms
ok 68 - test/maxRequestsPerSocket.test.js # time=144.112ms

# Subtest: test/middleware.test.js
    # Subtest: Should be able to override the default use API
        1..1
        ok 1 - should be equal
    ok 1 - Should be able to override the default use API # time=15.263ms
    
    # Subtest: Cannot decorate use twice
        1..1
        ok 1 - expect truthy value
    ok 2 - Cannot decorate use twice # time=2.671ms
    
    # Subtest: Encapsulation works
        1..1
        ok 1 - should be equal
    ok 3 - Encapsulation works # time=12.187ms
    
    1..3
    # time=42.674ms
ok 69 - test/middleware.test.js # time=42.674ms

# Subtest: test/noop-set.test.js
    # Subtest: does a lot of nothing
        ok 1 - type is object
        ok 2 - should be equal
        1..2
    ok 1 - does a lot of nothing # time=7.614ms
    
    1..1
    # time=13.472ms
ok 70 - test/noop-set.test.js # time=13.472ms

# Subtest: test/nullable-validation.test.js
    # Subtest: nullable string
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 1 - nullable string # time=148.568ms
    
    # Subtest: object or null body
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 2 - object or null body # time=65.507ms
    
    # Subtest: nullable body
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 3 - nullable body # time=56.236ms
    
    # Subtest: Nullable body with 204
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 4 - Nullable body with 204 # time=36.507ms
    
    1..4
    # time=315.468ms
ok 71 - test/nullable-validation.test.js # time=315.468ms

# Subtest: test/options.error-handler.test.js
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - OPTIONS can be created # time=9.894ms
    
    # Subtest: OPTIONS without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - OPTIONS without schema can be created # time=2.252ms
    
    # Subtest: OPTIONS with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - OPTIONS with body and querystring # time=1.875ms
    
    # Subtest: OPTIONS with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - OPTIONS with bodyLimit option # time=1.977ms
    
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - OPTIONS can be created # time=2.817ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - OPTIONS - correctly replies # time=59.728ms
    
    # Subtest: OPTIONS - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - OPTIONS - correctly replies with very large body # time=9.358ms
    
    # Subtest: OPTIONS - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - OPTIONS - correctly replies if the content type has the charset # time=5.385ms
    
    # Subtest: OPTIONS without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - OPTIONS without schema - correctly replies # time=5.077ms
    
    # Subtest: OPTIONS with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - OPTIONS with body and querystring - correctly replies # time=5.245ms
    
    # Subtest: OPTIONS with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - OPTIONS with no body - correctly replies # time=32.589ms
    
    # Subtest: OPTIONS returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - OPTIONS returns 415 - incorrect media type if body is not json # time=4.127ms
    
    # Subtest: OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text # time=5.406ms
    
    # Subtest: OPTIONS returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 14 - OPTIONS returns 400 - Bad Request # time=7.102ms
    
    # Subtest: OPTIONS returns 413 - Payload Too Large
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - OPTIONS returns 413 - Payload Too Large # time=6.535ms
    
    # Subtest: OPTIONS should fail with empty body and application/json content-type
        1..0
    ok 16 - OPTIONS should fail with empty body and application/json content-type # time=0.586ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - OPTIONS - correctly replies # time=4.358ms
    
    # Subtest: OPTIONS - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - OPTIONS - 400 on bad parameters # time=5.058ms
    
    # Subtest: OPTIONS - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - OPTIONS - input-validation coerce # time=4.149ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - OPTIONS - input-validation custom schema compiler # time=4.273ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - OPTIONS - input-validation joi schema compiler ok # time=6.027ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - OPTIONS - input-validation joi schema compiler ko # time=6.245ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - OPTIONS - input-validation yup schema compiler ok # time=6.221ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - OPTIONS - input-validation yup schema compiler ko # time=5.455ms
    
    # Subtest: OPTIONS - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - OPTIONS - input-validation instance custom schema compiler encapsulated # time=3.853ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 26 - OPTIONS - input-validation custom schema compiler encapsulated # time=3.817ms
    
    ok 27 - type is object
    ok 28 - type is Request
    ok 29 - type is object
    ok 30 - type is Request
    ok 31 - type is object
    ok 32 - type is Request
    ok 33 - type is object
    ok 34 - type is Request
    ok 35 - type is object
    ok 36 - type is Request
    1..36
    # time=1400.428ms
ok 72 - test/options.error-handler.test.js # time=1400.428ms

# Subtest: test/options.test.js
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - OPTIONS can be created # time=11.039ms
    
    # Subtest: OPTIONS without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - OPTIONS without schema can be created # time=2.74ms
    
    # Subtest: OPTIONS with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - OPTIONS with body and querystring # time=1.801ms
    
    # Subtest: OPTIONS with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - OPTIONS with bodyLimit option # time=1.99ms
    
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - OPTIONS can be created # time=2.982ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - OPTIONS - correctly replies # time=67.706ms
    
    # Subtest: OPTIONS - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - OPTIONS - correctly replies with very large body # time=9.356ms
    
    # Subtest: OPTIONS - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - OPTIONS - correctly replies if the content type has the charset # time=5.443ms
    
    # Subtest: OPTIONS without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - OPTIONS without schema - correctly replies # time=5.097ms
    
    # Subtest: OPTIONS with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - OPTIONS with body and querystring - correctly replies # time=5.361ms
    
    # Subtest: OPTIONS with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - OPTIONS with no body - correctly replies # time=32.933ms
    
    # Subtest: OPTIONS returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - OPTIONS returns 415 - incorrect media type if body is not json # time=3.998ms
    
    # Subtest: OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text # time=5.003ms
    
    # Subtest: OPTIONS returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 14 - OPTIONS returns 400 - Bad Request # time=7.212ms
    
    # Subtest: OPTIONS returns 413 - Payload Too Large
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - OPTIONS returns 413 - Payload Too Large # time=6.417ms
    
    # Subtest: OPTIONS should fail with empty body and application/json content-type
        1..0
    ok 16 - OPTIONS should fail with empty body and application/json content-type # time=0.592ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - OPTIONS - correctly replies # time=4.475ms
    
    # Subtest: OPTIONS - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - OPTIONS - 400 on bad parameters # time=4.888ms
    
    # Subtest: OPTIONS - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - OPTIONS - input-validation coerce # time=4.205ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - OPTIONS - input-validation custom schema compiler # time=4.402ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - OPTIONS - input-validation joi schema compiler ok # time=5.912ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - OPTIONS - input-validation joi schema compiler ko # time=5.835ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - OPTIONS - input-validation yup schema compiler ok # time=5.918ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - OPTIONS - input-validation yup schema compiler ko # time=5.146ms
    
    # Subtest: OPTIONS - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - OPTIONS - input-validation instance custom schema compiler encapsulated # time=3.727ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 26 - OPTIONS - input-validation custom schema compiler encapsulated # time=3.866ms
    
    1..26
    # time=1165.495ms
ok 73 - test/options.test.js # time=1165.495ms

# Subtest: test/output-validation.test.js
    # Subtest: shorthand - output string
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - output string # time=29.508ms
    
    # Subtest: shorthand - output number
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - output number # time=2.084ms
    
    # Subtest: wrong object for schema - output
        1..1
        ok 1 - (unnamed test)
    ok 3 - wrong object for schema - output # time=1.949ms
    
    # Subtest: empty response
        1..1
        ok 1 - (unnamed test)
    ok 4 - empty response # time=1.974ms
    
    # Subtest: unlisted response code
        1..1
        ok 1 - (unnamed test)
    ok 5 - unlisted response code # time=1.822ms
    
    ok 6 - should not error
    # Subtest: shorthand - string get ok
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - shorthand - string get ok # time=33.587ms
    
    # Subtest: shorthand - number get ok
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 8 - shorthand - number get ok # time=6.615ms
    
    # Subtest: shorthand - wrong-object-for-schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 9 - shorthand - wrong-object-for-schema # time=6.949ms
    
    # Subtest: shorthand - empty
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - shorthand - empty # time=4.502ms
    
    # Subtest: shorthand - 400
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - shorthand - 400 # time=5.263ms
    
    1..11
    # time=207.116ms
ok 74 - test/output-validation.test.js # time=207.116ms

# Subtest: test/patch.error-handler.test.js
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PATCH can be created # time=9.172ms
    
    # Subtest: PATCH without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PATCH without schema can be created # time=1.871ms
    
    # Subtest: PATCH with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PATCH with body and querystring # time=1.449ms
    
    # Subtest: PATCH with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PATCH with bodyLimit option # time=1.647ms
    
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - PATCH can be created # time=2.591ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - PATCH - correctly replies # time=58.509ms
    
    # Subtest: PATCH - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - PATCH - correctly replies with very large body # time=9.173ms
    
    # Subtest: PATCH - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - PATCH - correctly replies if the content type has the charset # time=5.329ms
    
    # Subtest: PATCH without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - PATCH without schema - correctly replies # time=5.078ms
    
    # Subtest: PATCH with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - PATCH with body and querystring - correctly replies # time=5.31ms
    
    # Subtest: PATCH with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - PATCH with no body - correctly replies # time=32.346ms
    
    # Subtest: PATCH returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - PATCH returns 415 - incorrect media type if body is not json # time=5.979ms
    
    # Subtest: PATCH returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 13 - PATCH returns 400 - Bad Request # time=7.306ms
    
    # Subtest: PATCH returns 413 - Payload Too Large
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 14 - PATCH returns 413 - Payload Too Large # time=13.725ms
    
    # Subtest: PATCH should fail with empty body and application/json content-type
        1..12
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
    ok 15 - PATCH should fail with empty body and application/json content-type # time=19.455ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - PATCH - correctly replies # time=4.619ms
    
    # Subtest: PATCH - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - PATCH - 400 on bad parameters # time=4.241ms
    
    # Subtest: PATCH - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - PATCH - input-validation coerce # time=3.795ms
    
    # Subtest: PATCH - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - PATCH - input-validation custom schema compiler # time=3.916ms
    
    # Subtest: PATCH - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - PATCH - input-validation joi schema compiler ok # time=5.503ms
    
    # Subtest: PATCH - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - PATCH - input-validation joi schema compiler ko # time=5.107ms
    
    # Subtest: PATCH - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - PATCH - input-validation yup schema compiler ok # time=4.986ms
    
    # Subtest: PATCH - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - PATCH - input-validation yup schema compiler ko # time=4.829ms
    
    # Subtest: PATCH - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - PATCH - input-validation instance custom schema compiler encapsulated # time=3.418ms
    
    # Subtest: PATCH - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - PATCH - input-validation custom schema compiler encapsulated # time=3.758ms
    
    ok 26 - type is object
    ok 27 - type is Request
    ok 28 - type is object
    ok 29 - type is Request
    ok 30 - type is object
    ok 31 - type is Request
    ok 32 - type is object
    ok 33 - type is Request
    ok 34 - type is object
    ok 35 - type is Request
    ok 36 - type is object
    ok 37 - type is Request
    ok 38 - type is object
    ok 39 - type is Request
    ok 40 - type is object
    ok 41 - type is Request
    ok 42 - type is object
    ok 43 - type is Request
    ok 44 - type is object
    ok 45 - type is Request
    ok 46 - type is object
    ok 47 - type is Request
    ok 48 - type is object
    ok 49 - type is Request
    1..49
    # time=1005.975ms
ok 75 - test/patch.error-handler.test.js # time=1005.975ms

# Subtest: test/patch.test.js
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PATCH can be created # time=9.248ms
    
    # Subtest: PATCH without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PATCH without schema can be created # time=2.376ms
    
    # Subtest: PATCH with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PATCH with body and querystring # time=1.927ms
    
    # Subtest: PATCH with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PATCH with bodyLimit option # time=1.973ms
    
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - PATCH can be created # time=2.654ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - PATCH - correctly replies # time=138.543ms
    
    # Subtest: PATCH - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - PATCH - correctly replies with very large body # time=50.455ms
    
    # Subtest: PATCH - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - PATCH - correctly replies if the content type has the charset # time=6.715ms
    
    # Subtest: PATCH without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - PATCH without schema - correctly replies # time=5.128ms
    
    # Subtest: PATCH with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - PATCH with body and querystring - correctly replies # time=5.636ms
    
    # Subtest: PATCH with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - PATCH with no body - correctly replies # time=47.999ms
    
    # Subtest: PATCH returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - PATCH returns 415 - incorrect media type if body is not json # time=6.409ms
    
    # Subtest: PATCH returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 13 - PATCH returns 400 - Bad Request # time=7.859ms
    
    # Subtest: PATCH returns 413 - Payload Too Large
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 14 - PATCH returns 413 - Payload Too Large # time=14.223ms
    
    # Subtest: PATCH should fail with empty body and application/json content-type
        1..12
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
    ok 15 - PATCH should fail with empty body and application/json content-type # time=20.579ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - PATCH - correctly replies # time=5.568ms
    
    # Subtest: PATCH - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - PATCH - 400 on bad parameters # time=5.11ms
    
    # Subtest: PATCH - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - PATCH - input-validation coerce # time=4.454ms
    
    # Subtest: PATCH - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - PATCH - input-validation custom schema compiler # time=4.313ms
    
    # Subtest: PATCH - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - PATCH - input-validation joi schema compiler ok # time=6.009ms
    
    # Subtest: PATCH - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - PATCH - input-validation joi schema compiler ko # time=5.597ms
    
    # Subtest: PATCH - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - PATCH - input-validation yup schema compiler ok # time=5.47ms
    
    # Subtest: PATCH - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - PATCH - input-validation yup schema compiler ko # time=5.274ms
    
    # Subtest: PATCH - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - PATCH - input-validation instance custom schema compiler encapsulated # time=3.804ms
    
    # Subtest: PATCH - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - PATCH - input-validation custom schema compiler encapsulated # time=3.854ms
    
    1..25
    # time=1195.137ms
ok 76 - test/patch.test.js # time=1195.137ms

# Subtest: test/plugin.test.js
    # Subtest: require a plugin
        1..1
        ok 1 - expect truthy value
    ok 1 - require a plugin # time=108.206ms
    
    # Subtest: plugin metadata - ignore prefix
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 2 - plugin metadata - ignore prefix # time=37.945ms
    
    # Subtest: plugin metadata - naming plugins
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 3 - plugin metadata - naming plugins # time=9.117ms
    
    # Subtest: fastify.register with fastify-plugin should not encapsulate his code
        1..10
        ok 1 - expect falsey value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 4 - fastify.register with fastify-plugin should not encapsulate his code # time=54.347ms
    
    # Subtest: fastify.register with fastify-plugin should provide access to external fastify instance if opts argument is a function
        1..22
        ok 1 - expect falsey value
        ok 2 - expect falsey value
        ok 3 - expect falsey value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect falsey value
        ok 10 - expect truthy value
        ok 11 - expect falsey value
        ok 12 - expect truthy value
        ok 13 - expect truthy value
        ok 14 - should be equal
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - should not error
        ok 18 - expect truthy value
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equal
        ok 22 - should be equivalent
    ok 5 - fastify.register with fastify-plugin should provide access to external fastify instance if opts argument is a function # time=33.106ms
    
    # Subtest: fastify.register with fastify-plugin registers fastify level plugins
        1..15
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should not error
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equivalent
    ok 6 - fastify.register with fastify-plugin registers fastify level plugins # time=17.635ms
    
    # Subtest: check dependencies - should not throw
        1..12
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - should not error
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
    ok 7 - check dependencies - should not throw # time=12.604ms
    
    # Subtest: check dependencies - should throw
        1..12
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - should not error
        ok 7 - expect truthy value
        ok 8 - expect falsey value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
    ok 8 - check dependencies - should throw # time=40.446ms
    
    # Subtest: set the plugin name based on the plugin displayName symbol
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
    ok 9 - set the plugin name based on the plugin displayName symbol # time=8.704ms
    
    # Subtest: plugin name will change when using no encapsulation
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
    ok 10 - plugin name will change when using no encapsulation # time=6.625ms
    
    # Subtest: plugin name is undefined when accessing in no plugin context
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 11 - plugin name is undefined when accessing in no plugin context # time=20.878ms
    
    # Subtest: set the plugin name based on the plugin function name
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 12 - set the plugin name based on the plugin function name # time=13.484ms
    
    # Subtest: approximate a plugin name when no meta data is available
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
    ok 13 - approximate a plugin name when no meta data is available # time=6.804ms
    
    # Subtest: approximate a plugin name also when fastify-plugin has no meta data
        1..4
        ok 1 - should match pattern provided
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should not error
    ok 14 - approximate a plugin name also when fastify-plugin has no meta data # time=20.37ms
    
    # Subtest: plugin encapsulation
        1..10
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 15 - plugin encapsulation # time=24.277ms
    
    # Subtest: if a plugin raises an error and there is not a callback to handle it, the server must not start
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 16 - if a plugin raises an error and there is not a callback to handle it, the server must not start # time=11.093ms
    
    # Subtest: add hooks after route declaration
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 17 - add hooks after route declaration # time=28.352ms
    
    # Subtest: nested plugins
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 18 - nested plugins # time=20.779ms
    
    # Subtest: nested plugins awaited
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 19 - nested plugins awaited # time=14.734ms
    
    # Subtest: plugin metadata - decorators
        1..1
        ok 1 - expect truthy value
    ok 20 - plugin metadata - decorators # time=14.669ms
    
    # Subtest: plugin metadata - decorators - should throw
        1..1
        ok 1 - should be equal
    ok 21 - plugin metadata - decorators - should throw # time=3.122ms
    
    # Subtest: plugin metadata - decorators - should throw with plugin name
        1..1
        ok 1 - should be equal
    ok 22 - plugin metadata - decorators - should throw with plugin name # time=11.041ms
    
    # Subtest: plugin metadata - dependencies
        1..1
        ok 1 - everything right
    ok 23 - plugin metadata - dependencies # time=3.266ms
    
    # Subtest: plugin metadata - dependencies (nested)
        1..1
        ok 1 - everything right
    ok 24 - plugin metadata - dependencies (nested) # time=6.685ms
    
    # Subtest: pluginTimeout
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 25 - pluginTimeout # time=14.485ms
    
    # "pluginTimeout - named function" has `only` set but all tests run
    # Subtest: pluginTimeout - named function
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 26 - pluginTimeout - named function # time=14.582ms
    
    # Subtest: pluginTimeout default
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 27 - pluginTimeout default # time=-67418043.083ms
    
    # Subtest: plugin metadata - version
        1..1
        ok 1 - everything right
    ok 28 - plugin metadata - version # time=7.131ms
    
    # Subtest: plugin metadata - version range
        1..1
        ok 1 - everything right
    ok 29 - plugin metadata - version range # time=3.464ms
    
    # Subtest: plugin metadata - version not matching requirement
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 30 - plugin metadata - version not matching requirement # time=3.274ms
    
    # Subtest: plugin metadata - version not matching requirement 2
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 31 - plugin metadata - version not matching requirement 2 # time=3.487ms
    
    # Subtest: plugin metadata - version not matching requirement 3
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 32 - plugin metadata - version not matching requirement 3 # time=3.07ms
    
    # Subtest: plugin metadata - release candidate
        1..2
        ok 1 - should not error
        ok 2 - everything right
    ok 33 - plugin metadata - release candidate # time=13.844ms
    
    # Subtest: fastify-rc loads prior version plugins
        1..2
        ok 1 - should not error
        ok 2 - everything right
    ok 34 - fastify-rc loads prior version plugins # time=5.721ms
    
    # Subtest: hasPlugin method exists as a function
        1..1
        ok 1 - should be equal
    ok 35 - hasPlugin method exists as a function # time=3.192ms
    
    # Subtest: hasPlugin returns true if the specified plugin has been registered
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
    ok 36 - hasPlugin returns true if the specified plugin has been registered # time=9.48ms
    
    # Subtest: hasPlugin returns false if the specified plugin has not been registered
        1..1
        ok 1 - expect falsey value
    ok 37 - hasPlugin returns false if the specified plugin has not been registered # time=1.274ms
    
    # Subtest: hasPlugin returns false when using encapsulation
        1..25
        ok 1 - expect truthy value
        ok 2 - expect falsey value
        ok 3 - expect falsey value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect truthy value
        ok 8 - expect falsey value
        ok 9 - expect falsey value
        ok 10 - expect falsey value
        ok 11 - expect falsey value
        ok 12 - expect falsey value
        ok 13 - expect truthy value
        ok 14 - expect falsey value
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - expect falsey value
        ok 18 - expect falsey value
        ok 19 - expect truthy value
        ok 20 - expect falsey value
        ok 21 - expect falsey value
        ok 22 - expect falsey value
        ok 23 - expect falsey value
        ok 24 - expect falsey value
        ok 25 - expect truthy value
    ok 38 - hasPlugin returns false when using encapsulation # time=16.389ms
    
    # Subtest: hasPlugin returns true when using no encapsulation
        1..26
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect falsey value
        ok 10 - expect falsey value
        ok 11 - expect falsey value
        ok 12 - expect truthy value
        ok 13 - expect truthy value
        ok 14 - expect truthy value
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - expect truthy value
        ok 18 - expect truthy value
        ok 19 - expect truthy value
        ok 20 - expect truthy value
        ok 21 - expect falsey value
        ok 22 - expect truthy value
        ok 23 - expect truthy value
        ok 24 - expect truthy value
        ok 25 - expect truthy value
        ok 26 - expect truthy value
    ok 39 - hasPlugin returns true when using no encapsulation # time=25.585ms
    
    1..39
    # time=702.085ms
ok 77 - test/plugin.test.js # time=702.085ms

# Subtest: test/pretty-print.test.js
    # Subtest: pretty print - static routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - pretty print - static routes # time=39.891ms
    
    # Subtest: pretty print - parametric routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - pretty print - parametric routes # time=7.234ms
    
    # Subtest: pretty print - mixed parametric routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 3 - pretty print - mixed parametric routes # time=7.695ms
    
    # Subtest: pretty print - wildcard routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - pretty print - wildcard routes # time=8.335ms
    
    # Subtest: pretty print - empty plugins
        1..2
        ok 1 - should be equal
        ok 2 - should match pattern provided
    ok 5 - pretty print - empty plugins # time=7.18ms
    
    # Subtest: pretty print - nested plugins
        1..4
        ok 1 - should be equal
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
    ok 6 - pretty print - nested plugins # time=10.482ms
    
    # Subtest: pretty print - commonPrefix
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 7 - pretty print - commonPrefix # time=24.677ms
    
    # Subtest: pretty print - includeMeta, includeHooks
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 8 - pretty print - includeMeta, includeHooks # time=8.736ms
    
    1..8
    # time=123.023ms
ok 78 - test/pretty-print.test.js # time=123.023ms

# Subtest: test/promises.test.js
    ok 1 - should not error
    # Subtest: shorthand - sget return promise es6 get
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - shorthand - sget return promise es6 get # time=47.108ms
    
    # Subtest: shorthand - sget promise es6 get return error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 3 - shorthand - sget promise es6 get return error # time=8.406ms
    
    # Subtest: sget promise double send
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 4 - sget promise double send # time=6.327ms
    
    # Subtest: thenable
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 5 - thenable # time=6.395ms
    
    # Subtest: thenable (error)
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 6 - thenable (error) # time=4.178ms
    
    # Subtest: return-reply
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - return-reply # time=4.723ms
    
    1..7
    # time=139.472ms
ok 79 - test/promises.test.js # time=139.472ms

# Subtest: test/proto-poisoning.test.js
    # Subtest: proto-poisoning error
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 1 - proto-poisoning error # time=72.363ms
    
    # Subtest: proto-poisoning remove
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 2 - proto-poisoning remove # time=17.058ms
    
    # Subtest: proto-poisoning ignore
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 3 - proto-poisoning ignore # time=38.614ms
    
    # Subtest: constructor-poisoning error (default in v3)
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 4 - constructor-poisoning error (default in v3) # time=9.563ms
    
    # Subtest: constructor-poisoning error
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 5 - constructor-poisoning error # time=9.351ms
    
    # Subtest: constructor-poisoning remove
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 6 - constructor-poisoning remove # time=12.779ms
    
    1..6
    # time=190.974ms
ok 80 - test/proto-poisoning.test.js # time=190.974ms

# Subtest: test/put.error-handler.test.js
    # Subtest: PUT can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PUT can be created # time=10.155ms
    
    # Subtest: PUT without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PUT without schema can be created # time=1.939ms
    
    # Subtest: PUT with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PUT with body and querystring # time=1.494ms
    
    # Subtest: PUT with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PUT with bodyLimit option # time=1.676ms
    
    # Subtest: PUT can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - PUT can be created # time=2.576ms
    
    # Subtest: PUT - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - PUT - correctly replies # time=60.173ms
    
    # Subtest: PUT - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - PUT - correctly replies with very large body # time=8.567ms
    
    # Subtest: PUT - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - PUT - correctly replies if the content type has the charset # time=5.429ms
    
    # Subtest: PUT without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - PUT without schema - correctly replies # time=5.035ms
    
    # Subtest: PUT with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - PUT with body and querystring - correctly replies # time=5.358ms
    
    # Subtest: PUT with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - PUT with no body - correctly replies # time=32.895ms
    
    # Subtest: PUT returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - PUT returns 415 - incorrect media type if body is not json # time=5.734ms
    
    # Subtest: PUT returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 13 - PUT returns 400 - Bad Request # time=7.487ms
    
    # Subtest: PUT returns 413 - Payload Too Large
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 14 - PUT returns 413 - Payload Too Large # time=13.068ms
    
    # Subtest: PUT should fail with empty body and application/json content-type
        1..12
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
    ok 15 - PUT should fail with empty body and application/json content-type # time=19.857ms
    
    # Subtest: PUT - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - PUT - correctly replies # time=4.465ms
    
    # Subtest: PUT - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - PUT - 400 on bad parameters # time=4.24ms
    
    # Subtest: PUT - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - PUT - input-validation coerce # time=3.948ms
    
    # Subtest: PUT - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - PUT - input-validation custom schema compiler # time=4.122ms
    
    # Subtest: PUT - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - PUT - input-validation joi schema compiler ok # time=5.318ms
    
    # Subtest: PUT - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - PUT - input-validation joi schema compiler ko # time=5.393ms
    
    # Subtest: PUT - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - PUT - input-validation yup schema compiler ok # time=5.723ms
    
    # Subtest: PUT - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - PUT - input-validation yup schema compiler ko # time=5.566ms
    
    # Subtest: PUT - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - PUT - input-validation instance custom schema compiler encapsulated # time=3.836ms
    
    # Subtest: PUT - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - PUT - input-validation custom schema compiler encapsulated # time=4.824ms
    
    ok 26 - type is object
    ok 27 - type is Request
    ok 28 - type is object
    ok 29 - type is Request
    ok 30 - type is object
    ok 31 - type is Request
    ok 32 - type is object
    ok 33 - type is Request
    ok 34 - type is object
    ok 35 - type is Request
    ok 36 - type is object
    ok 37 - type is Request
    ok 38 - type is object
    ok 39 - type is Request
    ok 40 - type is object
    ok 41 - type is Request
    ok 42 - type is object
    ok 43 - type is Request
    ok 44 - type is object
    ok 45 - type is Request
    ok 46 - type is object
    ok 47 - type is Request
    ok 48 - type is object
    ok 49 - type is Request
    1..49
    # time=1074.309ms
ok 81 - test/put.error-handler.test.js # time=1074.309ms

# Subtest: test/put.test.js
    # Subtest: PUT can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PUT can be created # time=8.992ms
    
    # Subtest: PUT without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PUT without schema can be created # time=1.876ms
    
    # Subtest: PUT with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PUT with body and querystring # time=1.468ms
    
    # Subtest: PUT with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PUT with bodyLimit option # time=1.66ms
    
    # Subtest: PUT can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - PUT can be created # time=3.119ms
    
    # Subtest: PUT - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - PUT - correctly replies # time=59.509ms
    
    # Subtest: PUT - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - PUT - correctly replies with very large body # time=15.387ms
    
    # Subtest: PUT - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - PUT - correctly replies if the content type has the charset # time=5.718ms
    
    # Subtest: PUT without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - PUT without schema - correctly replies # time=5.465ms
    
    # Subtest: PUT with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - PUT with body and querystring - correctly replies # time=5.788ms
    
    # Subtest: PUT with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - PUT with no body - correctly replies # time=27.227ms
    
    # Subtest: PUT returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - PUT returns 415 - incorrect media type if body is not json # time=6.112ms
    
    # Subtest: PUT returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 13 - PUT returns 400 - Bad Request # time=8.439ms
    
    # Subtest: PUT returns 413 - Payload Too Large
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 14 - PUT returns 413 - Payload Too Large # time=14.432ms
    
    # Subtest: PUT should fail with empty body and application/json content-type
        1..12
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
    ok 15 - PUT should fail with empty body and application/json content-type # time=21.296ms
    
    # Subtest: PUT - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - PUT - correctly replies # time=5.776ms
    
    # Subtest: PUT - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - PUT - 400 on bad parameters # time=5.377ms
    
    # Subtest: PUT - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - PUT - input-validation coerce # time=4.919ms
    
    # Subtest: PUT - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - PUT - input-validation custom schema compiler # time=5.102ms
    
    # Subtest: PUT - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - PUT - input-validation joi schema compiler ok # time=6.663ms
    
    # Subtest: PUT - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - PUT - input-validation joi schema compiler ko # time=6.375ms
    
    # Subtest: PUT - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - PUT - input-validation yup schema compiler ok # time=5.996ms
    
    # Subtest: PUT - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - PUT - input-validation yup schema compiler ko # time=5.844ms
    
    # Subtest: PUT - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - PUT - input-validation instance custom schema compiler encapsulated # time=4.45ms
    
    # Subtest: PUT - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - PUT - input-validation custom schema compiler encapsulated # time=4.66ms
    
    1..25
    # time=1061.51ms
ok 82 - test/put.test.js # time=1061.51ms

./VariantsPureDep/fastify/variant4/fastify

> fastify@4.3.0 test
> npm run lint && npm run unit && npm run test:typescript


> fastify@4.3.0 lint
> npm run lint:standard && npm run lint:typescript && npm run lint:markdown


> fastify@4.3.0 lint:standard
> standard | snazzy

-----------------------------|---------|----------|---------|---------|-----------------------------
File                         | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s           
-----------------------------|---------|----------|---------|---------|-----------------------------
All files                    |   92.78 |    92.03 |    92.3 |   92.91 |                             
 fastify                     |   85.23 |    88.12 |   82.14 |    84.9 |                             
  fastify.js                 |   85.23 |    88.12 |   82.14 |    84.9 | ...,676-695,721-724,732-743 
 fastify/lib                 |   93.85 |    92.55 |   94.23 |   94.06 |                             
  contentTypeParser.js       |    97.8 |    99.15 |     100 |   97.64 | 233-236                     
  context.js                 |     100 |      100 |     100 |     100 |                             
  decorate.js                |   98.21 |    98.03 |     100 |   98.07 | 41                          
  error-handler.js           |    94.2 |    93.61 |     100 |    94.2 | 108-110,118                 
  errors.js                  |     100 |      100 |     100 |     100 |                             
  fourOhFour.js              |     100 |      100 |     100 |     100 |                             
  handleRequest.js           |   98.48 |    98.03 |     100 |   98.41 | 97                          
  headRoute.js               |      20 |     12.5 |   33.33 |   14.28 | 4-21,26                     
  hooks.js                   |     100 |      100 |     100 |     100 |                             
  initialConfigValidation.js |     100 |      100 |     100 |     100 |                             
  logger.js                  |     100 |      100 |     100 |     100 |                             
  noop-set.js                |     100 |      100 |     100 |     100 |                             
  pluginOverride.js          |   97.56 |       90 |     100 |    97.5 | 75                          
  pluginUtils.js             |     100 |      100 |     100 |     100 |                             
  reply.js                   |    87.7 |    84.86 |   88.88 |   88.76 | ...-618,622-627,648-654,659 
  reqIdGenFactory.js         |     100 |      100 |     100 |     100 |                             
  request.js                 |   87.96 |    90.62 |      80 |   89.42 | 45-54,157-167,206,211       
  route.js                   |   88.84 |    88.04 |     100 |   88.69 | ...,355-362,396-397,461,465 
  schema-controller.js       |    92.3 |    79.41 |   84.61 |    92.3 | 23,58,71                    
  schemas.js                 |   92.64 |    93.65 |   88.88 |   94.02 | 28,32,43,147                
  server.js                  |     100 |      100 |     100 |     100 |                             
  symbols.js                 |     100 |      100 |     100 |     100 |                             
  validation.js              |   98.55 |    96.55 |     100 |   98.43 | 22                          
  warnings.js                |     100 |      100 |     100 |     100 |                             
  wrapThenable.js            |   93.33 |       90 |     100 |   93.33 | 11                          
-----------------------------|---------|----------|---------|---------|-----------------------------

> fastify@4.3.0 lint:typescript
> eslint -c types/.eslintrc.json types/**/*.d.ts test/types/**/*.test-d.ts


> fastify@4.3.0 lint:markdown
> markdownlint-cli2

markdownlint-cli2 v0.4.0 (markdownlint v0.25.1)

> fastify@4.3.0 unit
> tap

TAP version 13
# Subtest: test/404s.test.js
    # Subtest: default 404
        1..4
        ok 1 - should not error
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - unsupported method # time=29.028ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - framework-unsupported method # time=6.192ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - unsupported route # time=5.219ms
        
    ok 1 - default 404 # time=185.91ms
    
    # Subtest: customized 404
        1..6
        ok 1 - should not error
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - unsupported method # time=11.126ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - framework-unsupported method # time=4.713ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - unsupported route # time=4.016ms
        
        # Subtest: with error object
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - with error object # time=9.358ms
        
        # Subtest: error object with headers property
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 6 - error object with headers property # time=4.976ms
        
    ok 2 - customized 404 # time=48.203ms
    
    # Subtest: custom header in notFound handler
        1..2
        ok 1 - should not error
        # Subtest: not found with custom header
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
        ok 2 - not found with custom header # time=13.166ms
        
    ok 3 - custom header in notFound handler # time=24.085ms
    
    # Subtest: setting a custom 404 handler multiple times is an error
        1..5
        # Subtest: at the root level
            1..2
            ok 1 - type is Error
            ok 2 - should be equal
        ok 1 - at the root level # time=3.692ms
        
        # Subtest: at the plugin level
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 2 - at the plugin level # time=36.546ms
        
        # Subtest: at multiple levels
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 3 - at multiple levels # time=6.76ms
        
        # Subtest: at multiple levels / 2
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 4 - at multiple levels / 2 # time=10.534ms
        
        # Subtest: in separate plugins at the same level
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 5 - in separate plugins at the same level # time=10.952ms
        
    ok 4 - setting a custom 404 handler multiple times is an error # time=78.64ms
    
    # Subtest: encapsulated 404
        1..13
        ok 1 - should not error
        # Subtest: root unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - root unsupported method # time=20.851ms
        
        # Subtest: root framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - root framework-unsupported method # time=4.863ms
        
        # Subtest: root unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - root unsupported route # time=4.539ms
        
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 5 - unsupported method # time=4.993ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 6 - framework-unsupported method # time=4.871ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 7 - unsupported route # time=4.454ms
        
        # Subtest: unsupported method 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 8 - unsupported method 2 # time=4.815ms
        
        # Subtest: framework-unsupported method 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 9 - framework-unsupported method 2 # time=15.468ms
        
        # Subtest: unsupported route 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 10 - unsupported route 2 # time=4.517ms
        
        # Subtest: unsupported method 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 11 - unsupported method 3 # time=4.664ms
        
        # Subtest: framework-unsupported method 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 12 - framework-unsupported method 3 # time=4.111ms
        
        # Subtest: unsupported route 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 13 - unsupported route 3 # time=4.058ms
        
    ok 5 - encapsulated 404 # time=140.975ms
    
    # Subtest: custom 404 hook and handler context
        1..21
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should not error
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equal
    ok 6 - custom 404 hook and handler context # time=46.499ms
    
    # Subtest: encapsulated custom 404 without - prefix hook and handler context
        1..13
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equal
    ok 7 - encapsulated custom 404 without - prefix hook and handler context # time=10.983ms
    
    # Subtest: run hooks on default 404
        1..7
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - preHandler called
        ok 4 - onSend called
        ok 5 - onResponse called
        ok 6 - should not error
        ok 7 - should be equal
    ok 8 - run hooks on default 404 # time=11.049ms
    
    # Subtest: run non-encapsulated plugin hooks on default 404
        1..6
        ok 1 - onRequest called
        ok 2 - preHandler called
        ok 3 - onSend called
        ok 4 - onResponse called
        ok 5 - should not error
        ok 6 - should be equal
    ok 9 - run non-encapsulated plugin hooks on default 404 # time=10.326ms
    
    # Subtest: run non-encapsulated plugin hooks on custom 404
        1..11
        ok 1 - onRequest called
        ok 2 - onRequest called
        ok 3 - preHandler called
        ok 4 - preHandler called
        ok 5 - onSend called
        ok 6 - onSend called
        ok 7 - onResponse called
        ok 8 - onResponse called
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
    ok 10 - run non-encapsulated plugin hooks on custom 404 # time=31.383ms
    
    # Subtest: run hook with encapsulated 404
        1..11
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - onRequest 2 called
        ok 4 - preHandler called
        ok 5 - preHandler 2 called
        ok 6 - onSend called
        ok 7 - onSend 2 called
        ok 8 - onResponse called
        ok 9 - onResponse 2 called
        ok 10 - should not error
        ok 11 - should be equal
    ok 11 - run hook with encapsulated 404 # time=26.305ms
    
    # Subtest: run hook with encapsulated 404 and framework-unsupported method
        1..11
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - onRequest 2 called
        ok 4 - preHandler called
        ok 5 - preHandler 2 called
        ok 6 - onSend called
        ok 7 - onSend 2 called
        ok 8 - onResponse called
        ok 9 - onResponse 2 called
        ok 10 - should not error
        ok 11 - should be equal
    ok 12 - run hook with encapsulated 404 and framework-unsupported method # time=30.086ms
    
    # Subtest: hooks check 404
        1..13
        ok 1 - should not error
        ok 2 - onRequest
        ok 3 - should be equivalent
        ok 4 - onSend
        ok 5 - onResponse
        ok 6 - onRequest
        ok 7 - should be equivalent
        ok 8 - onSend
        ok 9 - onResponse
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should not error
        ok 13 - should be equal
    ok 13 - hooks check 404 # time=26.757ms
    
    # Subtest: setNotFoundHandler should not suppress duplicated routes checking
        1..1
        ok 1 - expect truthy value
    ok 14 - setNotFoundHandler should not suppress duplicated routes checking # time=3.643ms
    
    # Subtest: log debug for 404
        1..1
        # Subtest: log debug
            1..7
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
        ok 1 - log debug # time=8.319ms
        
    ok 15 - log debug for 404 # time=15.637ms
    
    # Subtest: Unknown method
        1..5
        ok 1 - should not error
        ok 2 - expected to throw
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent strictly
    ok 16 - Unknown method # time=18.883ms
    
    # Subtest: recognizes errors from the http-errors module
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent strictly
    ok 17 - recognizes errors from the http-errors module # time=32.142ms
    
    # Subtest: the default 404 handler can be invoked inside a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
    ok 18 - the default 404 handler can be invoked inside a prefixed plugin # time=20.166ms
    
    # Subtest: an inherited custom 404 handler can be invoked inside a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - an inherited custom 404 handler can be invoked inside a prefixed plugin # time=6.581ms
    
    # Subtest: encapsulated custom 404 handler without a prefix is the handler for the entire 404 level
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 20 - encapsulated custom 404 handler without a prefix is the handler for the entire 404 level # time=11.014ms
    
    # Subtest: cannot set notFoundHandler after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 21 - cannot set notFoundHandler after binding # time=13.064ms
    
    # Subtest: 404 inside onSend
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 22 - 404 inside onSend # time=17.045ms
    
    # Subtest: onSend hooks run when an encapsulated route invokes the notFound handler
        1..3
        ok 1 - onSend hook called
        ok 2 - should not error
        ok 3 - should be equal
    ok 23 - onSend hooks run when an encapsulated route invokes the notFound handler # time=7.522ms
    
    # Subtest: preHandler option for setNotFoundHandler
        1..10
        # Subtest: preHandler option
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 1 - preHandler option # time=37.613ms
        
        # Subtest: preHandler hook in setNotFoundHandler should be called when callNotFound
            1..3
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 2 - preHandler hook in setNotFoundHandler should be called when callNotFound # time=14.324ms
        
        # Subtest: preHandler hook in setNotFoundHandler should accept an array of functions and be called when callNotFound
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 3 - preHandler hook in setNotFoundHandler should accept an array of functions and be called when callNotFound # time=5.772ms
        
        # Subtest: preHandler option should be called after preHandler hook
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 4 - preHandler option should be called after preHandler hook # time=5.393ms
        
        # Subtest: preHandler option should be unique per prefix
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 5 - preHandler option should be unique per prefix # time=9.581ms
        
        # Subtest: preHandler option should handle errors
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 6 - preHandler option should handle errors # time=5.356ms
        
        # Subtest: preHandler option should handle errors with custom status code
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 7 - preHandler option should handle errors with custom status code # time=5.254ms
        
        # Subtest: preHandler option could accept an array of functions
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 8 - preHandler option could accept an array of functions # time=4.425ms
        
        # Subtest: preHandler option does not interfere with preHandler
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 9 - preHandler option does not interfere with preHandler # time=9.033ms
        
        # Subtest: preHandler option should keep the context
            1..3
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 10 - preHandler option should keep the context # time=5.087ms
        
    ok 24 - preHandler option for setNotFoundHandler # time=114.034ms
    
    # Subtest: reply.notFound invoked the notFound handler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - reply.notFound invoked the notFound handler # time=5.049ms
    
    # Subtest: The custom error handler should be invoked after the custom not found handler
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - type is Error
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 26 - The custom error handler should be invoked after the custom not found handler # time=6.329ms
    
    # Subtest: If the custom not found handler does not use an Error, the custom error handler should not be called
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 27 - If the custom not found handler does not use an Error, the custom error handler should not be called # time=4.351ms
    
    # Subtest: preValidation option
        1..3
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 28 - preValidation option # time=5.008ms
    
    # Subtest: preValidation option could accept an array of functions
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 29 - preValidation option could accept an array of functions # time=4.935ms
    
    # Subtest: Should fail to invoke callNotFound inside a 404 handler
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 30 - Should fail to invoke callNotFound inside a 404 handler # time=6.926ms
    
    # Subtest: 400 in case of bad url (pre find-my-way v2.2.0 was a 404)
        # Subtest: Dynamic route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 1 - Dynamic route # time=19.283ms
        
        # Subtest: Wildcard
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - Wildcard # time=12.193ms
        
        # Subtest: No route registered
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - No route registered # time=20.435ms
        
        # Subtest: Only / is registered
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - Only / is registered # time=14.324ms
        
        # Subtest: customized 404
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - customized 404 # time=14.466ms
        
        1..5
    ok 31 - 400 in case of bad url (pre find-my-way v2.2.0 was a 404) # time=88.519ms
    
    # Subtest: setNotFoundHandler should be chaining fastify instance
        # Subtest: Register route after setNotFoundHandler
            1..6
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should not error
            ok 5 - should be equal
            ok 6 - should be equal
        ok 1 - Register route after setNotFoundHandler # time=9.786ms
        
        1..1
    ok 32 - setNotFoundHandler should be chaining fastify instance # time=15.385ms
    
    # Subtest: Send 404 when frameworkError calls reply.callNotFound
        # Subtest: Dynamic route
            1..4
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 1 - Dynamic route # time=5.156ms
        
        1..1
    ok 33 - Send 404 when frameworkError calls reply.callNotFound # time=19.738ms
    
    1..33
    # time=1117.244ms
ok 1 - test/404s.test.js # time=1117.244ms

# Subtest: test/500s.test.js
    # Subtest: default 500
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - default 500 # time=83.031ms
    
    # Subtest: custom 500
        1..6
        ok 1 - type is object
        ok 2 - type is Request
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 2 - custom 500 # time=12.022ms
    
    # Subtest: encapsulated 500
        1..10
        ok 1 - type is object
        ok 2 - type is Request
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 3 - encapsulated 500 # time=27.141ms
    
    # Subtest: custom 500 with hooks
        1..7
        ok 1 - onRequest
        ok 2 - onSend
        ok 3 - onResponse
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 4 - custom 500 with hooks # time=8.162ms
    
    # Subtest: cannot set errorHandler after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 5 - cannot set errorHandler after binding # time=21.282ms
    
    1..5
    # time=165.962ms
ok 2 - test/500s.test.js # time=165.962ms

# Subtest: test/allowUnsafeRegex.test.js
    # Subtest: allow unsafe regex
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - allow unsafe regex # time=67.9ms
    
    # Subtest: allow unsafe regex not match
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 2 - allow unsafe regex not match # time=12.07ms
    
    # Subtest: allow unsafe regex not safe
        1..1
        ok 1 - expected to throw
    ok 3 - allow unsafe regex not safe # time=87.838ms
    
    # Subtest: allow unsafe regex not safe by default
        1..1
        ok 1 - expected to throw
    ok 4 - allow unsafe regex not safe by default # time=2.949ms
    
    # Subtest: allow unsafe regex allow unsafe
        1..5
        ok 1 - expected to not throw
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 5 - allow unsafe regex allow unsafe # time=20.133ms
    
    1..5
    # time=234.389ms
ok 3 - test/allowUnsafeRegex.test.js # time=234.389ms

# Subtest: test/als.test.js
    ok 1 - should not error
    ok 2 - expect truthy value
    ok 3 - should not error
    ok 4 - should be equal
    ok 5 - should be equivalent
    ok 6 - expect truthy value
    ok 7 - should not error
    ok 8 - should be equal
    ok 9 - should be equivalent
    ok 10 - expect truthy value
    ok 11 - should not error
    ok 12 - should be equal
    ok 13 - should be equivalent
    1..13
    # time=46.718ms
ok 4 - test/als.test.js # time=46.718ms

# Subtest: test/async-await.test.js
    # Subtest: async await
        1..11
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 1 - async await # time=321.221ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (undefined)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 2 - ignore the result of the promise if reply.send is called beforehand (undefined) # time=13.101ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (object)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 3 - ignore the result of the promise if reply.send is called beforehand (object) # time=13.554ms
    
    # Subtest: server logs an error if reply.send is called and a value is returned via async/await
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 4 - server logs an error if reply.send is called and a value is returned via async/await # time=94.139ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (undefined)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 5 - ignore the result of the promise if reply.send is called beforehand (undefined) # time=9.359ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (object)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 6 - ignore the result of the promise if reply.send is called beforehand (object) # time=11.75ms
    
    # Subtest: await reply if we will be calling reply.send in the future
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 7 - await reply if we will be calling reply.send in the future # time=7.609ms
    
    # Subtest: await reply if we will be calling reply.send in the future (error case)
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 8 - await reply if we will be calling reply.send in the future (error case) # time=15.006ms
    
    # Subtest: support reply decorators with await
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 9 - support reply decorators with await # time=7.657ms
    
    # Subtest: inject async await
        1..1
        ok 1 - should be equivalent
    ok 10 - inject async await # time=7.034ms
    
    # Subtest: inject async await - when the server equal up
        1..2
        ok 1 - should be equivalent
        ok 2 - should be equivalent
    ok 11 - inject async await - when the server equal up # time=212.158ms
    
    # Subtest: async await plugin
        1..1
        ok 1 - should be equivalent
    ok 12 - async await plugin # time=215.522ms
    
    # Subtest: does not call reply.send() twice if 204 response equal already sent
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - does not call reply.send() twice if 204 response equal already sent # time=11.627ms
    
    # Subtest: promise was fulfilled with undefined
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - promise was fulfilled with undefined # time=17.779ms
    
    # Subtest: error is not logged because promise was fulfilled with undefined but response was sent before promise resolution
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 15 - error is not logged because promise was fulfilled with undefined but response was sent before promise resolution # time=27.981ms
    
    # Subtest: Thrown Error instance sets HTTP status code
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - Thrown Error instance sets HTTP status code # time=11.577ms
    
    # Subtest: customErrorHandler support
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 17 - customErrorHandler support # time=17.979ms
    
    # Subtest: customErrorHandler support without throwing
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - customErrorHandler support without throwing # time=4.921ms
    
    # Subtest: customErrorHandler only called if reply not already sent
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - customErrorHandler only called if reply not already sent # time=8.213ms
    
    # Subtest: setNotFoundHandler should accept return value
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - setNotFoundHandler should accept return value # time=14.701ms
    
    # Subtest: customErrorHandler should accept return value
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 21 - customErrorHandler should accept return value # time=5.85ms
    
    # Subtest: await self
        ok 1 - should be equal
        1..1
    ok 22 - await self # time=3.65ms
    
    1..22
    # time=1081.409ms
ok 5 - test/async-await.test.js # time=1081.409ms

# Subtest: test/bodyLimit.test.js
    # Subtest: bodyLimit
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should not error
        ok 5 - should be equal
    ok 1 - bodyLimit # time=40.052ms
    
    1..1
    # time=45.364ms
ok 6 - test/bodyLimit.test.js # time=45.364ms

# Subtest: test/build/error-serializer.test.js
    # Subtest: check generated code syntax
        1..1
        ok 1 - should be equal
    ok 1 - check generated code syntax # time=3758.301ms
    
    ok 2 - ensure the current error serializer is latest # SKIP
    1..2
    # skip: 1
    # time=3820.444ms
ok 7 - test/build/error-serializer.test.js # time=3820.444ms

# Subtest: test/build/version.test.js
    # Subtest: should be the same as package.json
        1..1
        ok 1 - should be equal
    ok 1 - should be the same as package.json # time=6.208ms
    
    1..1
    # time=11.947ms
ok 8 - test/build/version.test.js # time=11.947ms

# Subtest: test/case-insensitive.test.js
    # Subtest: case insensitive
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - case insensitive # time=68.196ms
    
    # Subtest: case insensitive inject
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - case insensitive inject # time=34.444ms
    
    # Subtest: case insensitive (parametric)
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 3 - case insensitive (parametric) # time=11.996ms
    
    # Subtest: case insensitive (wildcard)
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 4 - case insensitive (wildcard) # time=28.415ms
    
    1..4
    # time=162.51ms
ok 9 - test/case-insensitive.test.js # time=162.51ms

# Subtest: test/chainable.test.js
    # Subtest: chainable - get
        1..1
        ok 1 - type is [object Object]
    ok 1 - chainable - get # time=10.117ms
    
    # Subtest: chainable - post
        1..1
        ok 1 - type is [object Object]
    ok 2 - chainable - post # time=2.624ms
    
    # Subtest: chainable - route
        1..1
        ok 1 - type is [object Object]
    ok 3 - chainable - route # time=2.554ms
    
    1..3
    # time=30.273ms
ok 10 - test/chainable.test.js # time=30.273ms

# Subtest: test/close-pipelining.test.js
    # Subtest: Should return 503 while closing - pipelining
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        1..3
    ok 1 - Should return 503 while closing - pipelining # time=92.229ms
    
    # Subtest: Should not return 503 while closing - pipelining - return503OnClosing
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        1..3
    ok 2 - Should not return 503 while closing - pipelining - return503OnClosing # time=14.1ms
    
    1..2
    # time=153.394ms
ok 11 - test/close-pipelining.test.js # time=153.394ms

# Subtest: test/close.test.js
    # Subtest: close callback
        1..4
        ok 1 - should not error
        ok 2 - type is [object Object]
        ok 3 - should not error
        ok 4 - expect truthy value
    ok 1 - close callback # time=102.642ms
    
    # Subtest: inside register
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - expect truthy value
    ok 2 - inside register # time=11.47ms
    
    # Subtest: close order
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 3 - close order # time=25.786ms
    
    # Subtest: close order - async
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 4 - close order - async # time=7.816ms
    
    # Subtest: should not throw an error if the server is not listening
        1..2
        ok 1 - type is [object Object]
        ok 2 - should not error
    ok 5 - should not throw an error if the server is not listening # time=7.182ms
    
    # Subtest: onClose should keep the context
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
    ok 6 - onClose should keep the context # time=36.415ms
    
    # Subtest: Should return error while closing (promise) - injection
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 7 - Should return error while closing (promise) - injection # time=64.28ms
    
    # Subtest: Should return error while closing (callback) - injection
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 8 - Should return error while closing (callback) - injection # time=119.518ms
    
    # Subtest: Current opened connection should continue to work after closing and return "connection: close" header - return503OnClosing: false
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        1..5
    ok 9 - Current opened connection should continue to work after closing and return "connection: close" header - return503OnClosing: false # time=24.272ms
    
    # Subtest: Current opened connection should not accept new incoming connections
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 10 - Current opened connection should not accept new incoming connections # time=269.198ms
    
    # Subtest: Cannot be reopened the closed server without listen callback
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 11 - Cannot be reopened the closed server without listen callback # time=8.679ms
    
    # Subtest: Cannot be reopened the closed server has listen callback
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 12 - Cannot be reopened the closed server has listen callback # time=4.48ms
    
    ok 13 - shutsdown while keep-alive connections are active (non-async, native) # SKIP
    ok 14 - shutsdown while keep-alive connections are active (non-async, idle, native) # SKIP
    # Subtest: shutsdown while keep-alive connections are active (non-async, custom)
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 15 - shutsdown while keep-alive connections are active (non-async, custom) # time=9.2ms
    
    1..15
    # skip: 2
    # time=721.019ms
ok 12 - test/close.test.js # time=721.019ms

# Subtest: test/connectionTimeout.test.js
    # Subtest: connectionTimeout
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 1 - connectionTimeout # time=56.866ms
    
    1..1
    # time=65.867ms
ok 13 - test/connectionTimeout.test.js # time=65.867ms

# Subtest: test/constrained-routes.test.js
    # Subtest: Should register a host constrained route
        1..7
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 1 - Should register a host constrained route # time=120.533ms
    
    # Subtest: Should register the same route with host constraints
        1..8
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 2 - Should register the same route with host constraints # time=12.672ms
    
    # Subtest: Should allow registering custom constrained routes
        1..8
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 3 - Should allow registering custom constrained routes # time=38.197ms
    
    # Subtest: Should allow registering custom constrained routes outside constructor
        1..8
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 4 - Should allow registering custom constrained routes outside constructor # time=15.678ms
    
    # Subtest: Add a constraint strategy after fastify instance was started
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - Cannot add constraint strategy when fastify instance is already started!
    ok 5 - Add a constraint strategy after fastify instance was started # time=6.262ms
    
    # Subtest: Add a constraint strategy should throw an error if there already exist custom strategy with the same name
        1..1
        ok 1 - There already exists a custom constraint with the name secret.
    ok 6 - Add a constraint strategy should throw an error if there already exist custom strategy with the same name # time=1.728ms
    
    # Subtest: Add a constraint strategy shouldn't throw an error if default constraint with the same name isn't used
        1..1
        ok 1 - (unnamed test)
    ok 7 - Add a constraint strategy shouldn't throw an error if default constraint with the same name isn't used # time=1.292ms
    
    # Subtest: Add a constraint strategy should throw an error if default constraint with the same name is used
        1..1
        ok 1 - There already exists a route with version constraint.
    ok 8 - Add a constraint strategy should throw an error if default constraint with the same name is used # time=2.263ms
    
    # Subtest: The hasConstraintStrategy should return false for default constraints until they are used
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 9 - The hasConstraintStrategy should return false for default constraints until they are used # time=4.353ms
    
    # Subtest: The hasConstraintStrategy should return true if there already exist a custom constraint with the same name
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 10 - The hasConstraintStrategy should return true if there already exist a custom constraint with the same name # time=2.291ms
    
    # Subtest: Should allow registering an unconstrained route after a constrained route
        1..6
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
    ok 11 - Should allow registering an unconstrained route after a constrained route # time=8.21ms
    
    # Subtest: Should allow registering constrained routes in a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 12 - Should allow registering constrained routes in a prefixed plugin # time=12.139ms
    
    # Subtest: Should allow registering a constrained GET route after a constrained HEAD route
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 13 - Should allow registering a constrained GET route after a constrained HEAD route # time=5.052ms
    
    # Subtest: Should allow registering a constrained GET route after an unconstrained HEAD route
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 14 - Should allow registering a constrained GET route after an unconstrained HEAD route # time=4.782ms
    
    # Subtest: Will not try to re-createprefixed HEAD route if it already exists and exposeHeadRoutes is true for constrained routes
        1..1
        ok 1 - expect truthy value
    ok 15 - Will not try to re-createprefixed HEAD route if it already exists and exposeHeadRoutes is true for constrained routes # time=10.902ms
    
    # Subtest: allows separate constrained and unconstrained HEAD routes
        1..1
        ok 1 - expect truthy value
    ok 16 - allows separate constrained and unconstrained HEAD routes # time=5.096ms
    
    1..16
    # time=277.269ms
ok 14 - test/constrained-routes.test.js # time=277.269ms

# Subtest: test/content-length.test.js
    # Subtest: default 413 with bodyLimit option
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - default 413 with bodyLimit option # time=92.834ms
    
    # Subtest: default 400 with wrong content-length
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - default 400 with wrong content-length # time=11.179ms
    
    # Subtest: custom 413 with bodyLimit option
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 3 - custom 413 with bodyLimit option # time=18.572ms
    
    # Subtest: custom 400 with wrong content-length
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 4 - custom 400 with wrong content-length # time=6.58ms
    
    # Subtest: \#2214 - wrong content-length
        ok 1 - should be equal
        1..1
    ok 5 - \#2214 - wrong content-length # time=7.671ms
    
    # Subtest: \#2543 - wrong content-length with errorHandler
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 6 - \#2543 - wrong content-length with errorHandler # time=6.305ms
    
    1..6
    # time=150.692ms
ok 15 - test/content-length.test.js # time=150.692ms

# Subtest: test/content-parser.test.js
    # Subtest: hasContentTypeParser
        1..0
    ok 1 - hasContentTypeParser # time=13.17ms
    
    # Subtest: should know about internal parsers
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
    ok 2 - should know about internal parsers # time=42.094ms
    
    # Subtest: should work with string and RegExp
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect falsey value
    ok 3 - should work with string and RegExp # time=6.696ms
    
    # Subtest: getParser
        1..0
    ok 4 - getParser # time=86.898ms
    
    # Subtest: existingParser
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect falsey value
        1..7
    ok 5 - existingParser # time=17.314ms
    
    # Subtest: add
        1..0
    ok 6 - add # time=29.324ms
    
    # Subtest: non-Error thrown from content parser is properly handled
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 7 - non-Error thrown from content parser is properly handled # time=34.579ms
    
    # Subtest: Error thrown 415 from content type is null and make post request to server
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 8 - Error thrown 415 from content type is null and make post request to server # time=11.503ms
    
    # Subtest: remove
        1..0
    ok 9 - remove # time=21.074ms
    
    # Subtest: remove all should remove all existing parsers and reset cache
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
    ok 10 - remove all should remove all existing parsers and reset cache # time=5.203ms
    
    # Subtest: should return matching parser
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 11 - should return matching parser # time=2.184ms
    
    # Subtest: should return matching parser with caching
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 12 - should return matching parser with caching # time=2.25ms
    
    # Subtest: should prefer content type parser with string value
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 13 - should prefer content type parser with string value # time=2.273ms
    
    # Subtest: should return parser that catches all if no other is set
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 14 - should return parser that catches all if no other is set # time=2.921ms
    
    # Subtest: should return undefined if no matching parser exist
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 15 - should return undefined if no matching parser exist # time=2.202ms
    
    # Subtest: returns always false for "*"
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 16 - returns always false for "*" # time=1.489ms
    
    # Subtest: let you override the default parser once
        1..2
        ok 1 - Content type parser 'application/json' already present
        ok 2 - Content type parser 'text/plain' already present
    ok 17 - let you override the default parser once # time=4.519ms
    
    # Subtest: should only accept string and RegExp
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - The content type should be a string or a RegExp
        ok 4 - The content type should be a string or a RegExp
    ok 18 - should only accept string and RegExp # time=3.446ms
    
    # Subtest: should set "*" as parser that catches all
        1..1
        ok 1 - should be equal
    ok 19 - should set "*" as parser that catches all # time=1.447ms
    
    # Subtest: should remove default parser
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 20 - should remove default parser # time=1.554ms
    
    # Subtest: should remove RegExp parser
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 21 - should remove RegExp parser # time=1.273ms
    
    # Subtest: should throw an error if content type is neither string nor RegExp
        1..1
        ok 1 - expected to throw
    ok 22 - should throw an error if content type is neither string nor RegExp # time=1.525ms
    
    # Subtest: should not throw error if content type does not exist
        1..1
        ok 1 - expected to not throw
    ok 23 - should not throw error if content type does not exist # time=1.185ms
    
    # Subtest: should not remove any content type parser if content type does not exist
        1..1
        ok 1 - should be equivalent
    ok 24 - should not remove any content type parser if content type does not exist # time=1.787ms
    
    1..24
    # time=325.059ms
ok 16 - test/content-parser.test.js # time=325.059ms

# Subtest: test/context-config.test.js
    # Subtest: config
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 1 - config # time=89.443ms
    
    # Subtest: config with exposeHeadRoutes
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 2 - config with exposeHeadRoutes # time=17.241ms
    
    # Subtest: config without exposeHeadRoutes
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 3 - config without exposeHeadRoutes # time=15.826ms
    
    1..3
    # time=141.52ms
ok 17 - test/context-config.test.js # time=141.52ms

# Subtest: test/custom-http-server.test.js
    # Subtest: Should support a custom http server
        1..4
        ok 1 - it is called twice for every HOST interface
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - Should support a custom http server # time=63ms
    
    # Subtest: Should not allow forceCloseConnection=idle if the server does not support closeIdleConnections
        1..1
        ok 1 - Cannot set forceCloseConnections to 'idle' as your HTTP server does not support closeIdleConnections method
    ok 2 - Should not allow forceCloseConnection=idle if the server does not support closeIdleConnections # time=3.574ms
    
    1..2
    # time=74ms
ok 18 - test/custom-http-server.test.js # time=74ms

# Subtest: test/custom-parser-async.test.js
    # Subtest: contentTypeParser should add a custom async parser
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=34.791ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=12.919ms
        
    ok 1 - contentTypeParser should add a custom async parser # time=115.831ms
    
    1..1
    # time=121.836ms
ok 19 - test/custom-parser-async.test.js # time=121.836ms

# Subtest: test/custom-parser.test.js
    # Subtest: contentTypeParser method should exist
        1..1
        ok 1 - expect truthy value
    ok 1 - contentTypeParser method should exist # time=15.732ms
    
    # Subtest: contentTypeParser should add a custom parser
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=27.713ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=7.129ms
        
    ok 2 - contentTypeParser should add a custom parser # time=183.759ms
    
    # Subtest: contentTypeParser should handle multiple custom parsers
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 3 - contentTypeParser should handle multiple custom parsers # time=14.958ms
    
    # Subtest: contentTypeParser should handle an array of custom contentTypes
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 4 - contentTypeParser should handle an array of custom contentTypes # time=17.989ms
    
    # Subtest: contentTypeParser should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 5 - contentTypeParser should handle errors # time=10.842ms
    
    # Subtest: contentTypeParser should support encapsulation
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - expect falsey value
        ok 6 - expect falsey value
    ok 6 - contentTypeParser should support encapsulation # time=9.161ms
    
    # Subtest: contentTypeParser should support encapsulation, second try
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - contentTypeParser should support encapsulation, second try # time=11.147ms
    
    # Subtest: contentTypeParser shouldn't support request with undefined "Content-Type"
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 8 - contentTypeParser shouldn't support request with undefined "Content-Type" # time=9.546ms
    
    # Subtest: the content type should be a string or RegExp
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 9 - the content type should be a string or RegExp # time=2.704ms
    
    # Subtest: the content type cannot be an empty string
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 10 - the content type cannot be an empty string # time=3.206ms
    
    # Subtest: the content type handler should be a function
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 11 - the content type handler should be a function # time=2.487ms
    
    # Subtest: catch all content type parser
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 12 - catch all content type parser # time=16.311ms
    
    # Subtest: catch all content type parser should not interfere with other conte type parsers
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 13 - catch all content type parser should not interfere with other conte type parsers # time=12.392ms
    
    # Subtest: '*' catch undefined Content-Type requests
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - '*' catch undefined Content-Type requests # time=13.814ms
    
    # Subtest: cannot add custom parser after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 15 - cannot add custom parser after binding # time=6.173ms
    
    # Subtest: Can override the default json parser
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 16 - Can override the default json parser # time=21.47ms
    
    # Subtest: Can override the default plain text parser
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 17 - Can override the default plain text parser # time=17.623ms
    
    # Subtest: Can override the default json parser in a plugin
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 18 - Can override the default json parser in a plugin # time=11.305ms
    
    # Subtest: Can't override the json parser multiple times
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 19 - Can't override the json parser multiple times # time=1.815ms
    
    # Subtest: Can't override the plain text parser multiple times
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 20 - Can't override the plain text parser multiple times # time=2.008ms
    
    # Subtest: Should get the body as string
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 21 - Should get the body as string # time=9.142ms
    
    # Subtest: Should return defined body with no custom parser defined and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 22 - Should return defined body with no custom parser defined and content type = 'text/plain' # time=36.074ms
    
    # Subtest: Should have typeof body object with no custom parser defined, no body defined and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 23 - Should have typeof body object with no custom parser defined, no body defined and content type = 'text/plain' # time=33.992ms
    
    # Subtest: Should have typeof body object with no custom parser defined, null body and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 24 - Should have typeof body object with no custom parser defined, null body and content type = 'text/plain' # time=8.291ms
    
    # Subtest: Should have typeof body object with no custom parser defined, undefined body and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 25 - Should have typeof body object with no custom parser defined, undefined body and content type = 'text/plain' # time=14.462ms
    
    # Subtest: Should get the body as string
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 26 - Should get the body as string # time=7.021ms
    
    # Subtest: Should get the body as buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 27 - Should get the body as buffer # time=20.687ms
    
    # Subtest: Should get the body as buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 28 - Should get the body as buffer # time=16.1ms
    
    # Subtest: Should parse empty bodies as a string
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 29 - Should parse empty bodies as a string # time=17.319ms
    
    # Subtest: Should parse empty bodies as a buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 30 - Should parse empty bodies as a buffer # time=6.733ms
    
    # Subtest: The charset should not interfere with the content type handling
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 31 - The charset should not interfere with the content type handling # time=6.169ms
    
    # Subtest: Wrong parseAs parameter
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 32 - Wrong parseAs parameter # time=1.413ms
    
    # Subtest: Should allow defining the bodyLimit per parser
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent strictly
    ok 33 - Should allow defining the bodyLimit per parser # time=7.864ms
    
    # Subtest: route bodyLimit should take precedence over a custom parser bodyLimit
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent strictly
    ok 34 - route bodyLimit should take precedence over a custom parser bodyLimit # time=5.816ms
    
    # Subtest: should be able to use default parser for extra content type
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent strictly
    ok 35 - should be able to use default parser for extra content type # time=6.975ms
    
    # Subtest: contentTypeParser should add a custom parser with RegExp value
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=4.988ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=3.643ms
        
    ok 36 - contentTypeParser should add a custom parser with RegExp value # time=14.65ms
    
    # Subtest: contentTypeParser should add multiple custom parsers with RegExp values
        1..6
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 37 - contentTypeParser should add multiple custom parsers with RegExp values # time=44.973ms
    
    # Subtest: catch all content type parser should not interfere with content type parser
        1..10
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 38 - catch all content type parser should not interfere with content type parser # time=11.392ms
    
    # Subtest: should prefer string content types over RegExp ones
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 39 - should prefer string content types over RegExp ones # time=8.535ms
    
    # Subtest: removeContentTypeParser should support arrays of content types to remove
        1..8
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 40 - removeContentTypeParser should support arrays of content types to remove # time=10.105ms
    
    # Subtest: removeContentTypeParser should support encapsulation
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 41 - removeContentTypeParser should support encapsulation # time=9.473ms
    
    # Subtest: removeAllContentTypeParsers should support encapsulation
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 42 - removeAllContentTypeParsers should support encapsulation # time=10.978ms
    
    # Subtest: cannot remove all content type parsers after binding
        1..2
        ok 1 - should not error
        ok 2 - expected to throw
    ok 43 - cannot remove all content type parsers after binding # time=4.125ms
    
    # Subtest: cannot remove content type parsers after binding
        1..2
        ok 1 - should not error
        ok 2 - expected to throw
    ok 44 - cannot remove content type parsers after binding # time=3.229ms
    
    # Subtest: should be able to override the default json parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 45 - should be able to override the default json parser after removeAllContentTypeParsers # time=5.816ms
    
    # Subtest: should be able to override the default plain text parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 46 - should be able to override the default plain text parser after removeAllContentTypeParsers # time=5.742ms
    
    # Subtest: should be able to add a custom content type parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 47 - should be able to add a custom content type parser after removeAllContentTypeParsers # time=6.488ms
    
    1..47
    # time=763.336ms
ok 20 - test/custom-parser.test.js # time=763.336ms

# Subtest: test/custom-querystring-parser.test.js
    # Subtest: Custom querystring parser
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 1 - Custom querystring parser # time=127.697ms
    
    # Subtest: Custom querystring parser should be called also if there is nothing to parse
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 2 - Custom querystring parser should be called also if there is nothing to parse # time=16.262ms
    
    # Subtest: Querystring without value
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 3 - Querystring without value # time=31.677ms
    
    # Subtest: Custom querystring parser should be a function
        1..1
        ok 1 - should be equal
    ok 4 - Custom querystring parser should be a function # time=4.826ms
    
    1..4
    # time=192.884ms
ok 21 - test/custom-querystring-parser.test.js # time=192.884ms

# Subtest: test/decorator.test.js
    # Subtest: server methods should exist
        1..2
        ok 1 - expect truthy value
        ok 2 - expect truthy value
    ok 1 - server methods should exist # time=16.889ms
    
    # Subtest: should check if the given decoration already exist when null
        1..1
        ok 1 - expect truthy value
    ok 2 - should check if the given decoration already exist when null # time=78.134ms
    
    # Subtest: server methods should be encapsulated via .register
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 3 - server methods should be encapsulated via .register # time=7.736ms
    
    # Subtest: hasServerMethod should check if the given method already exist
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 4 - hasServerMethod should check if the given method already exist # time=17.272ms
    
    # Subtest: decorate should throw if a declared dependency is not present
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - (unnamed test)
    ok 5 - decorate should throw if a declared dependency is not present # time=16.939ms
    
    # Subtest: decorate should throw if declared dependency is not array
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - (unnamed test)
    ok 6 - decorate should throw if declared dependency is not array # time=6.505ms
    
    # Subtest: should pass error for missing request decorator
        1..2
        ok 1 - type is Error
        ok 2 - should match pattern provided
    ok 7 - should pass error for missing request decorator # time=16.259ms
    
    # Subtest: decorateReply inside register
        1..11
        ok 1 - should not error
        ok 2 - test exists
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 8 - decorateReply inside register # time=43.79ms
    
    # Subtest: decorateReply as plugin (inside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 9 - decorateReply as plugin (inside .after) # time=38.041ms
    
    # Subtest: decorateReply as plugin (outside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 10 - decorateReply as plugin (outside .after) # time=22.142ms
    
    # Subtest: decorateRequest inside register
        1..11
        ok 1 - should not error
        ok 2 - test exists
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 11 - decorateRequest inside register # time=19.101ms
    
    # Subtest: decorateRequest as plugin (inside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 12 - decorateRequest as plugin (inside .after) # time=36.453ms
    
    # Subtest: decorateRequest as plugin (outside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 13 - decorateRequest as plugin (outside .after) # time=18.509ms
    
    # Subtest: decorators should be instance separated
        1..1
        ok 1 - (unnamed test)
    ok 14 - decorators should be instance separated # time=2.18ms
    
    # Subtest: hasRequestDecorator
        # Subtest: is a function
            1..1
            ok 1 - expect truthy value
        ok 1 - is a function # time=1.207ms
        
        # Subtest: should check if the given request decoration already exist
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 2 - should check if the given request decoration already exist # time=1.669ms
        
        # Subtest: should check if the given request decoration already exist when null
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 3 - should check if the given request decoration already exist when null # time=1.6ms
        
        # Subtest: should be plugin encapsulable
            1..4
            ok 1 - expect falsey value
            ok 2 - expect falsey value
            ok 3 - expect truthy value
            ok 4 - expect falsey value
        ok 4 - should be plugin encapsulable # time=19.523ms
        
        # Subtest: should be inherited
            1..2
            ok 1 - expect truthy value
            ok 2 - expect truthy value
        ok 5 - should be inherited # time=17.867ms
        
        1..5
    ok 15 - hasRequestDecorator # time=61.393ms
    
    # Subtest: hasReplyDecorator
        # Subtest: is a function
            1..1
            ok 1 - expect truthy value
        ok 1 - is a function # time=1.437ms
        
        # Subtest: should check if the given reply decoration already exist
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 2 - should check if the given reply decoration already exist # time=1.747ms
        
        # Subtest: should check if the given reply decoration already exist when null
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 3 - should check if the given reply decoration already exist when null # time=1.713ms
        
        # Subtest: should be plugin encapsulable
            1..4
            ok 1 - expect falsey value
            ok 2 - expect falsey value
            ok 3 - expect truthy value
            ok 4 - expect falsey value
        ok 4 - should be plugin encapsulable # time=12.09ms
        
        # Subtest: should be inherited
            1..2
            ok 1 - expect truthy value
            ok 2 - expect truthy value
        ok 5 - should be inherited # time=10.836ms
        
        1..5
    ok 16 - hasReplyDecorator # time=142.468ms
    
    # Subtest: should register properties via getter/setter objects
        1..3
        ok 1 - expect truthy value
        ok 2 - a getter
        ok 3 - expect falsey value
    ok 17 - should register properties via getter/setter objects # time=3.394ms
    
    # Subtest: decorateRequest should work with getter/setter
        1..5
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - (unnamed test)
    ok 18 - decorateRequest should work with getter/setter # time=30.421ms
    
    # Subtest: decorateReply should work with getter/setter
        1..5
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - (unnamed test)
    ok 19 - decorateReply should work with getter/setter # time=14.562ms
    
    # Subtest: should register empty values
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 20 - should register empty values # time=3.177ms
    
    # Subtest: nested plugins can override things
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 21 - nested plugins can override things # time=4.054ms
    
    # Subtest: a decorator should addSchema to all the encapsulated tree
        1..1
        ok 1 - should not error
    ok 22 - a decorator should addSchema to all the encapsulated tree # time=4.258ms
    
    # Subtest: after can access to a decorated instance and previous plugin decoration
        1..11
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
    ok 23 - after can access to a decorated instance and previous plugin decoration # time=7.739ms
    
    # Subtest: decorate* should throw if called after ready
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 24 - decorate* should throw if called after ready # time=22.194ms
    
    # Subtest: decorate* should emit warning if an array is passed
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 25 - decorate* should emit warning if an array is passed # time=28.185ms
    
    # Subtest: decorate* should emit warning if object type is passed
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 26 - decorate* should emit warning if object type is passed # time=23.162ms
    
    # Subtest: decorate* should not emit warning if object with getter/setter is passed
        1..0
    ok 27 - decorate* should not emit warning if object with getter/setter is passed # time=22.974ms
    
    # Subtest: decorate* should not emit warning if string,bool,numbers are passed
        1..0
    ok 28 - decorate* should not emit warning if string,bool,numbers are passed # time=23.433ms
    
    # Subtest: Request/reply decorators should be able to access the server instance
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not be equal
        ok 4 - should be equal
        ok 5 - should not be equal
        ok 6 - should be equal
    ok 29 - Request/reply decorators should be able to access the server instance # time=8.159ms
    
    # Subtest: plugin required decorators
        1..0
    ok 30 - plugin required decorators # time=3.635ms
    
    # Subtest: decorateRequest/decorateReply empty string
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 31 - decorateRequest/decorateReply empty string # time=7.387ms
    
    # Subtest: decorateRequest/decorateReply is undefined
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 32 - decorateRequest/decorateReply is undefined # time=7.325ms
    
    # Subtest: decorateRequest/decorateReply is not set to a value
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 33 - decorateRequest/decorateReply is not set to a value # time=7.587ms
    
    # Subtest: decorateRequest with dependencies
        1..2
        ok 1 - expected to not throw
        ok 2 - expect truthy value
    ok 34 - decorateRequest with dependencies # time=1.479ms
    
    # Subtest: decorateRequest with dependencies (functions)
        1..2
        ok 1 - expected to not throw
        ok 2 - expect truthy value
    ok 35 - decorateRequest with dependencies (functions) # time=1.16ms
    
    # Subtest: chain of decorators on Request
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        1..6
    ok 36 - chain of decorators on Request # time=22.181ms
    
    # Subtest: chain of decorators on Reply
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        1..6
    ok 37 - chain of decorators on Reply # time=13.921ms
    
    1..37
    # time=849.367ms
ok 22 - test/decorator.test.js # time=849.367ms

# Subtest: test/default-route.test.js
    # Subtest: should fail if defaultRoute is not a function
        1..1
        ok 1 - should be equal
    ok 1 - should fail if defaultRoute is not a function # time=21.479ms
    
    # Subtest: correctly sets, returns, and calls defaultRoute
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 2 - correctly sets, returns, and calls defaultRoute # time=54.895ms
    
    1..2
    # time=87.155ms
ok 23 - test/default-route.test.js # time=87.155ms

# Subtest: test/delete.test.js
    # Subtest: shorthand - delete
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - delete # time=9.316ms
    
    # Subtest: shorthand - delete params
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - delete params # time=2.047ms
    
    # Subtest: shorthand - delete, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - delete, querystring schema # time=1.477ms
    
    # Subtest: shorthand - get, headers schema
        1..1
        ok 1 - (unnamed test)
    ok 4 - shorthand - get, headers schema # time=1.408ms
    
    # Subtest: missing schema - delete
        1..1
        ok 1 - (unnamed test)
    ok 5 - missing schema - delete # time=1.422ms
    
    # Subtest: body - delete
        1..1
        ok 1 - (unnamed test)
    ok 6 - body - delete # time=1.141ms
    
    # Subtest: shorthand - delete with application/json Content-Type header and without body
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - shorthand - delete with application/json Content-Type header and without body # time=42.283ms
    
    ok 8 - should not error
    # Subtest: shorthand - request delete
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 9 - shorthand - request delete # time=34.426ms
    
    # Subtest: shorthand - request delete params schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 10 - shorthand - request delete params schema # time=6.501ms
    
    # Subtest: shorthand - request delete params schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 11 - shorthand - request delete params schema error # time=6.319ms
    
    # Subtest: shorthand - request delete headers schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 12 - shorthand - request delete headers schema # time=4.945ms
    
    # Subtest: shorthand - request delete headers schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 13 - shorthand - request delete headers schema error # time=4.735ms
    
    # Subtest: shorthand - request delete querystring schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 14 - shorthand - request delete querystring schema # time=5.389ms
    
    # Subtest: shorthand - request delete querystring schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 15 - shorthand - request delete querystring schema error # time=4.178ms
    
    # Subtest: shorthand - request delete missing schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 16 - shorthand - request delete missing schema # time=4.724ms
    
    # Subtest: shorthand - delete with body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - shorthand - delete with body # time=7.368ms
    
    1..17
    # time=303.935ms
ok 24 - test/delete.test.js # time=303.935ms

# Subtest: test/diagnostics-channel.test.js
    # Subtest: diagnostics_channel when present and subscribers
        1..3
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should be equal
    ok 1 - diagnostics_channel when present and subscribers # time=967.578ms
    
    # Subtest: diagnostics_channel when present and no subscribers
        1..1
        ok 1 - should be equal
    ok 2 - diagnostics_channel when present and no subscribers # time=34.974ms
    
    # Subtest: diagnostics_channel when not present
        1..1
        ok 1 - expected to not throw
    ok 3 - diagnostics_channel when not present # time=20.796ms
    
    1..3
    # time=1043.356ms
ok 25 - test/diagnostics-channel.test.js # time=1043.356ms

# Subtest: test/encapsulated-error-handler.test.js
    # Subtest: encapuslates an error handler
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 1 - encapuslates an error handler # time=67.618ms
    
    # Subtest: onError hook nested
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 2 - onError hook nested # time=12.029ms
    
    1..2
    # time=87.112ms
ok 26 - test/encapsulated-error-handler.test.js # time=87.112ms

# Subtest: test/esm/index.test.js
    # Subtest: named exports support
        ok 1 - should be equal
        1..1
    ok 1 - named exports support # time=33.282ms
    
    ok 2 - should be equal
    1..2
    # time=38.336ms
ok 27 - test/esm/index.test.js # time=38.336ms

# Subtest: test/fastify-instance.test.js
    # Subtest: root fastify instance is an object
        1..1
        ok 1 - type is object
    ok 1 - root fastify instance is an object # time=15.306ms
    
    # Subtest: fastify instance should contains ajv options
        1..1
        ok 1 - should be equivalent
    ok 2 - fastify instance should contains ajv options # time=6.414ms
    
    # Subtest: fastify instance should contains ajv options.plugins nested arrays
        1..1
        ok 1 - should be equivalent
    ok 3 - fastify instance should contains ajv options.plugins nested arrays # time=3.024ms
    
    # Subtest: fastify instance get invalid ajv options
        1..1
        ok 1 - expected to throw
    ok 4 - fastify instance get invalid ajv options # time=1.441ms
    
    # Subtest: fastify instance get invalid ajv options.plugins
        1..1
        ok 1 - expected to throw
    ok 5 - fastify instance get invalid ajv options.plugins # time=1.121ms
    
    # Subtest: fastify instance should contain default errorHandler
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 6 - fastify instance should contain default errorHandler # time=2.68ms
    
    # Subtest: errorHandler in plugin should be separate from the external one
        1..4
        ok 1 - should not be equivalent
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equivalent
    ok 7 - errorHandler in plugin should be separate from the external one # time=18.515ms
    
    1..7
    # time=69.208ms
ok 28 - test/fastify-instance.test.js # time=69.208ms

# Subtest: test/fluent-schema.test.js
    # Subtest: use fluent-json-schema object
        1..15
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equivalent
    ok 1 - use fluent-json-schema object # time=196.765ms
    
    # Subtest: use complex fluent-json-schema object
        1..1
        ok 1 - should not error
    ok 2 - use complex fluent-json-schema object # time=53.196ms
    
    # Subtest: use fluent schema and plain JSON schema
        1..1
        ok 1 - should not error
    ok 3 - use fluent schema and plain JSON schema # time=69.597ms
    
    # Subtest: Should call valueOf internally
        1..1
        ok 1 - should not error
    ok 4 - Should call valueOf internally # time=58.606ms
    
    1..4
    # time=387.382ms
ok 29 - test/fluent-schema.test.js # time=387.382ms

# Subtest: test/genReqId.test.js
    # Subtest: Should accept a custom genReqId function
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 1 - Should accept a custom genReqId function # time=84.311ms
    
    1..1
    # time=90.667ms
ok 30 - test/genReqId.test.js # time=90.667ms

# Subtest: test/get.test.js
    # Subtest: shorthand - get
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - get # time=9.476ms
    
    # Subtest: shorthand - get (return null)
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - get (return null) # time=3.133ms
    
    # Subtest: shorthand - get params
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - get params # time=2.408ms
    
    # Subtest: shorthand - get, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 4 - shorthand - get, querystring schema # time=2.002ms
    
    # Subtest: shorthand - get, headers schema
        1..1
        ok 1 - (unnamed test)
    ok 5 - shorthand - get, headers schema # time=1.942ms
    
    # Subtest: missing schema - get
        1..1
        ok 1 - (unnamed test)
    ok 6 - missing schema - get # time=1.571ms
    
    # Subtest: custom serializer - get
        1..1
        ok 1 - (unnamed test)
    ok 7 - custom serializer - get # time=2.021ms
    
    # Subtest: empty response
        1..1
        ok 1 - (unnamed test)
    ok 8 - empty response # time=1.475ms
    
    # Subtest: send a falsy boolean
        1..1
        ok 1 - (unnamed test)
    ok 9 - send a falsy boolean # time=1.462ms
    
    ok 10 - should not error
    # Subtest: shorthand - request get
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - shorthand - request get # time=46.991ms
    
    # Subtest: shorthand - request get params schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 12 - shorthand - request get params schema # time=6.474ms
    
    # Subtest: shorthand - request get params schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 13 - shorthand - request get params schema error # time=6.178ms
    
    # Subtest: shorthand - request get headers schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - shorthand - request get headers schema # time=4.736ms
    
    # Subtest: shorthand - request get headers schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 15 - shorthand - request get headers schema error # time=4.609ms
    
    # Subtest: shorthand - request get querystring schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 16 - shorthand - request get querystring schema # time=4.648ms
    
    # Subtest: shorthand - request get querystring schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - shorthand - request get querystring schema error # time=4.165ms
    
    # Subtest: shorthand - request get missing schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - shorthand - request get missing schema # time=4.019ms
    
    # Subtest: shorthand - custom serializer
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 19 - shorthand - custom serializer # time=5.602ms
    
    # Subtest: shorthand - empty response
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 20 - shorthand - empty response # time=4.043ms
    
    # Subtest: shorthand - send a falsy boolean
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - shorthand - send a falsy boolean # time=7.477ms
    
    # Subtest: shorthand - send null value
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - shorthand - send null value # time=3.774ms
    
    1..22
    # time=308.791ms
ok 31 - test/get.test.js # time=308.791ms

# Subtest: test/handler-context.test.js
    # Subtest: handlers receive correct `this` context
        1..4
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 1 - handlers receive correct `this` context # time=64.879ms
    
    # Subtest: handlers have access to the internal context
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - type is Object
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 2 - handlers have access to the internal context # time=19.036ms
    
    1..2
    # time=100.779ms
ok 32 - test/handler-context.test.js # time=100.779ms

# Subtest: test/head.test.js
    # Subtest: shorthand - head
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - head # time=15.263ms
    
    # Subtest: shorthand - head params
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - head params # time=2.225ms
    
    # Subtest: shorthand - head, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - head, querystring schema # time=1.508ms
    
    # Subtest: missing schema - head
        1..1
        ok 1 - (unnamed test)
    ok 4 - missing schema - head # time=1.439ms
    
    ok 5 - should not error
    # Subtest: shorthand - request head
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 6 - shorthand - request head # time=37.898ms
    
    # Subtest: shorthand - request head params schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 7 - shorthand - request head params schema # time=5.544ms
    
    # Subtest: shorthand - request head params schema error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 8 - shorthand - request head params schema error # time=5.554ms
    
    # Subtest: shorthand - request head querystring schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 9 - shorthand - request head querystring schema # time=4.35ms
    
    # Subtest: shorthand - request head querystring schema error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - shorthand - request head querystring schema error # time=4.224ms
    
    # Subtest: shorthand - request head missing schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 11 - shorthand - request head missing schema # time=3.741ms
    
    1..11
    # time=221.628ms
ok 33 - test/head.test.js # time=221.628ms

# Subtest: test/hooks-async.test.js
    # Subtest: async hooks
        1..21
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - should not error
        ok 13 - should be equal
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equivalent
        ok 18 - should not error
        ok 19 - should be equal
        ok 20 - expect truthy value
        ok 21 - expect truthy value
    ok 1 - async hooks # time=151.364ms
    
    # Subtest: modify payload
        1..10
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - expect truthy value
        ok 4 - should be equivalent
        ok 5 - expect truthy value
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
    ok 2 - modify payload # time=71.056ms
    
    # Subtest: onRequest hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 3 - onRequest hooks should be able to block a request # time=45.159ms
    
    # Subtest: preParsing hooks should be able to modify the payload
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 4 - preParsing hooks should be able to modify the payload # time=14.162ms
    
    # Subtest: preParsing hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 5 - preParsing hooks should handle errors # time=6.158ms
    
    # Subtest: preHandler hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 6 - preHandler hooks should be able to block a request # time=6.343ms
    
    # Subtest: preValidation hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 7 - preValidation hooks should be able to block a request # time=21.949ms
    
    # Subtest: preValidation hooks should be able to change request body before validation
        1..4
        ok 1 - (unnamed test)
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - preValidation hooks should be able to change request body before validation # time=102.839ms
    
    # Subtest: preSerialization hooks should be able to modify the payload
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - preSerialization hooks should be able to modify the payload # time=6.567ms
    
    # Subtest: preSerialization hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - preSerialization hooks should handle errors # time=6.99ms
    
    # Subtest: preValidation hooks should handle throwing null
        1..4
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - preValidation hooks should handle throwing null # time=18.838ms
    
    # Subtest: preValidation hooks should handle throwing a string
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 12 - preValidation hooks should handle throwing a string # time=6.249ms
    
    # Subtest: onRequest hooks should be able to block a request (last hook)
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 13 - onRequest hooks should be able to block a request (last hook) # time=6.533ms
    
    # Subtest: preHandler hooks should be able to block a request (last hook)
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 14 - preHandler hooks should be able to block a request (last hook) # time=10.004ms
    
    # Subtest: onRequest respond with a stream
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - onRequest respond with a stream # time=11.253ms
    
    # Subtest: preHandler respond with a stream
        1..7
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 16 - preHandler respond with a stream # time=10.477ms
    
    # Subtest: Should log a warning if is an async function with `done`
        # Subtest: 3 arguments
            1..1
            ok 1 - expect truthy value
        ok 1 - 3 arguments # time=2.227ms
        
        # Subtest: 4 arguments
            1..3
            ok 1 - expect truthy value
            ok 2 - expect truthy value
            ok 3 - expect truthy value
        ok 2 - 4 arguments # time=2.546ms
        
        1..2
    ok 17 - Should log a warning if is an async function with `done` # time=16.017ms
    
    # Subtest: early termination, onRequest async
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 18 - early termination, onRequest async # time=5.179ms
    
    # Subtest: The this should be the same of the encapsulation level
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        1..4
    ok 19 - The this should be the same of the encapsulation level # time=11.711ms
    
    # Subtest: preSerializationEnd should handle errors if the serialize method throws
        # Subtest: works with sync preSerialization
            1..2
            ok 1 - should not error
            ok 2 - should not be equal
        ok 1 - works with sync preSerialization # time=13.67ms
        
        # Subtest: works with async preSerialization
            1..2
            ok 1 - should not error
            ok 2 - should not be equal
        ok 2 - works with async preSerialization # time=5.941ms
        
        1..2
    ok 20 - preSerializationEnd should handle errors if the serialize method throws # time=24.449ms
    
    1..20
    # time=568.655ms
ok 34 - test/hooks-async.test.js # time=568.655ms

# Subtest: test/hooks.on-ready.test.js
    # Subtest: onReady should be called in order
        1..7
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
        ok 7 - should not error
    ok 1 - onReady should be called in order # time=62.471ms
    
    # Subtest: async onReady should be called in order
        1..7
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
        ok 7 - ready
    ok 2 - async onReady should be called in order # time=11.561ms
    
    # Subtest: mix ready and onReady
        1..2
        ok 1 - should be equal
        ok 2 - ready hooks execute once
    ok 3 - mix ready and onReady # time=7.877ms
    
    # Subtest: listen and onReady order
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - trigger the onReady
        ok 9 - do not trigger the onReady
    ok 4 - listen and onReady order # time=23.922ms
    
    # Subtest: multiple ready calls
        1..11
        ok 1 - ready and hooks not triggered yet
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - trigger the onReady
        ok 10 - do not trigger the onReady
        ok 11 - do not trigger the onReady
    ok 5 - multiple ready calls # time=16.82ms
    
    # Subtest: onReady should manage error in sync
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 6 - onReady should manage error in sync # time=8.503ms
    
    # Subtest: onReady should manage error in async
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 7 - onReady should manage error in async # time=27.469ms
    
    # Subtest: onReady should manage sync error
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 8 - onReady should manage sync error # time=5.542ms
    
    # Subtest: onReady can not add decorators or application hooks
        1..3
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should not error
    ok 9 - onReady can not add decorators or application hooks # time=12.436ms
    
    # Subtest: onReady cannot add lifecycle hooks
        1..5
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 10 - onReady cannot add lifecycle hooks # time=23.345ms
    
    # Subtest: onReady throw loading error
        1..1
        ok 1 - expect truthy value
    ok 11 - onReady throw loading error # time=9.163ms
    
    # Subtest: onReady does not call done
        1..6
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
        ok 6 - should be equal
    ok 12 - onReady does not call done # time=514.354ms
    
    # Subtest: onReady execution order
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 13 - onReady execution order # time=21.441ms
    
    # Subtest: ready return the server with callback
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 14 - ready return the server with callback # time=19.214ms
    
    # Subtest: ready return the server with Promise
        1..1
        ok 1 - should be equivalent
    ok 15 - ready return the server with Promise # time=5.703ms
    
    # Subtest: ready return registered
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
    ok 16 - ready return registered # time=7.935ms
    
    1..16
    # time=794.09ms
ok 35 - test/hooks.on-ready.test.js # time=794.09ms

# Subtest: test/hooks.test.js
    # Subtest: hooks
        1..43
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - (unnamed test)
        ok 4 - (unnamed test)
        ok 5 - (unnamed test)
        ok 6 - (unnamed test)
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - expect truthy value
        ok 20 - expect truthy value
        ok 21 - expect truthy value
        ok 22 - expect truthy value
        ok 23 - should be equal
        ok 24 - should be equal
        ok 25 - should be equal
        ok 26 - should be equal
        ok 27 - should be equal
        ok 28 - should be equal
        ok 29 - should be equal
        ok 30 - should be equal
        ok 31 - should be equal
        ok 32 - expect truthy value
        ok 33 - expect truthy value
        ok 34 - expect truthy value
        ok 35 - expect truthy value
        ok 36 - should not error
        ok 37 - should be equal
        ok 38 - should be equal
        ok 39 - should be equivalent
        ok 40 - should not error
        ok 41 - should be equal
        ok 42 - should not error
        ok 43 - should be equal
    ok 1 - hooks # time=199.624ms
    
    # Subtest: onRequest hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 2 - onRequest hook should support encapsulation / 1 # time=35.188ms
    
    # Subtest: onRequest hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 3 - onRequest hook should support encapsulation / 2 # time=22.223ms
    
    # Subtest: onRequest hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 4 - onRequest hook should support encapsulation / 3 # time=22.413ms
    
    # Subtest: preHandler hook should support encapsulation / 5
        1..17
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equivalent
    ok 5 - preHandler hook should support encapsulation / 5 # time=17.307ms
    
    # Subtest: onRoute hook should be called / 1
        1..2
        ok 1 - (unnamed test)
        ok 2 - should not error
    ok 6 - onRoute hook should be called / 1 # time=5.461ms
    
    # Subtest: onRoute hook should be called / 2
        1..5
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 7 - onRoute hook should be called / 2 # time=19.07ms
    
    # Subtest: onRoute hook should be called / 3
        1..5
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - (unnamed test)
        ok 5 - should not error
    ok 8 - onRoute hook should be called / 3 # time=26.316ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 4
        1..4
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - (unnamed test)
        ok 4 - should not error
    ok 9 - onRoute hook should be called (encapsulation support) / 4 # time=12.937ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 5
        1..2
        ok 1 - (unnamed test)
        ok 2 - should not error
    ok 10 - onRoute hook should be called (encapsulation support) / 5 # time=11.994ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 6
        1..1
        ok 1 - should not error
    ok 11 - onRoute hook should be called (encapsulation support) / 6 # time=4.797ms
    
    # Subtest: onRoute should keep the context
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
    ok 12 - onRoute should keep the context # time=6.805ms
    
    # Subtest: onRoute hook should pass correct route
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should not error
    ok 13 - onRoute hook should pass correct route # time=7.468ms
    
    # Subtest: onRoute hook should pass correct route with custom prefix
        1..11
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
    ok 14 - onRoute hook should pass correct route with custom prefix # time=8.275ms
    
    # Subtest: onRoute hook should pass correct route with custom options
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - type is function
        ok 6 - should not error
    ok 15 - onRoute hook should pass correct route with custom options # time=7.359ms
    
    # Subtest: onRoute hook should receive any route option
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 16 - onRoute hook should receive any route option # time=12.08ms
    
    # Subtest: onRoute hook should preserve system route configuration
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 17 - onRoute hook should preserve system route configuration # time=15.961ms
    
    # Subtest: onRoute hook should preserve handler function in options of shorthand route system configuration
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 18 - onRoute hook should preserve handler function in options of shorthand route system configuration # time=12.611ms
    
    # Subtest: onRoute hook should be called once when prefixTrailingSlash
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 19 - onRoute hook should be called once when prefixTrailingSlash # time=6.089ms
    
    # Subtest: onRoute hook should able to change the route url
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 20 - onRoute hook should able to change the route url # time=9.745ms
    
    # Subtest: onRoute hook that throws should be caught
        1..1
        ok 1 - expect truthy value
    ok 21 - onRoute hook that throws should be caught # time=3.547ms
    
    # Subtest: onRoute hook with many prefix
        1..3
        ok 1 - should match pattern provided
        ok 2 - should match pattern provided
        ok 3 - should not error
    ok 22 - onRoute hook with many prefix # time=7.85ms
    
    # Subtest: onRoute hook should not be called when it registered after route
        1..3
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
    ok 23 - onRoute hook should not be called when it registered after route # time=3.877ms
    
    # Subtest: onResponse hook should log request error
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 24 - onResponse hook should log request error # time=84.605ms
    
    # Subtest: onResponse hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 25 - onResponse hook should support encapsulation / 1 # time=18.2ms
    
    # Subtest: onResponse hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 26 - onResponse hook should support encapsulation / 2 # time=12.582ms
    
    # Subtest: onResponse hook should support encapsulation / 3
        1..16
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 27 - onResponse hook should support encapsulation / 3 # time=22.412ms
    
    # Subtest: onSend hook should support encapsulation / 1
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 28 - onSend hook should support encapsulation / 1 # time=3.742ms
    
    # Subtest: onSend hook should support encapsulation / 2
        1..16
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 29 - onSend hook should support encapsulation / 2 # time=14.268ms
    
    # Subtest: onSend hook is called after payload is serialized and headers are set
        1..30
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should be equal
        ok 15 - should not error
        ok 16 - should be equal
        ok 17 - should be equivalent
        ok 18 - should be equal
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equivalent
        ok 22 - should be equal
        ok 23 - should not error
        ok 24 - should be equal
        ok 25 - should be equivalent
        ok 26 - should be equal
        ok 27 - should not error
        ok 28 - should be equal
        ok 29 - should be equivalent
        ok 30 - should be equal
    ok 30 - onSend hook is called after payload is serialized and headers are set # time=41.019ms
    
    # Subtest: modify payload
        1..10
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - expect truthy value
        ok 4 - should be equivalent
        ok 5 - expect truthy value
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
    ok 31 - modify payload # time=7.507ms
    
    # Subtest: clear payload
        1..6
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 32 - clear payload # time=4.624ms
    
    # Subtest: onSend hook throws
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 33 - onSend hook throws # time=30.994ms
    
    # Subtest: onSend hook should receive valid request and reply objects if onRequest hook fails
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 34 - onSend hook should receive valid request and reply objects if onRequest hook fails # time=18.577ms
    
    # Subtest: onSend hook should receive valid request and reply objects if a custom content type parser fails
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 35 - onSend hook should receive valid request and reply objects if a custom content type parser fails # time=10.109ms
    
    # Subtest: Content-Length header should be updated if onSend hook modifies the payload
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 36 - Content-Length header should be updated if onSend hook modifies the payload # time=6.154ms
    
    # Subtest: cannot add hook after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 37 - cannot add hook after binding # time=5.415ms
    
    # Subtest: onRequest hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 38 - onRequest hooks should be able to block a request # time=5.876ms
    
    # Subtest: preValidation hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 39 - preValidation hooks should be able to block a request # time=5.675ms
    
    # Subtest: preValidation hooks should be able to change request body before validation
        1..4
        ok 1 - (unnamed test)
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 40 - preValidation hooks should be able to change request body before validation # time=85.813ms
    
    # Subtest: preParsing hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 41 - preParsing hooks should be able to block a request # time=5.713ms
    
    # Subtest: preHandler hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 42 - preHandler hooks should be able to block a request # time=5.202ms
    
    # Subtest: onRequest hooks should be able to block a request (last hook)
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 43 - onRequest hooks should be able to block a request (last hook) # time=5.226ms
    
    # Subtest: preHandler hooks should be able to block a request (last hook)
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 44 - preHandler hooks should be able to block a request (last hook) # time=5.08ms
    
    # Subtest: preParsing hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 45 - preParsing hooks should handle errors # time=4.907ms
    
    # Subtest: onRequest respond with a stream
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 46 - onRequest respond with a stream # time=25.557ms
    
    # Subtest: preHandler respond with a stream
        1..7
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 47 - preHandler respond with a stream # time=7.457ms
    
    # Subtest: Register an hook after a plugin inside a plugin
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 48 - Register an hook after a plugin inside a plugin # time=8.267ms
    
    # Subtest: Register an hook after a plugin inside a plugin (with preHandler option)
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 49 - Register an hook after a plugin inside a plugin (with preHandler option) # time=7.269ms
    
    # Subtest: Register hooks inside a plugin after an encapsulated plugin
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 50 - Register hooks inside a plugin after an encapsulated plugin # time=7.921ms
    
    # Subtest: onRequest hooks should run in the order in which they are defined
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 51 - onRequest hooks should run in the order in which they are defined # time=10.987ms
    
    # Subtest: preHandler hooks should run in the order in which they are defined
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 52 - preHandler hooks should run in the order in which they are defined # time=8.794ms
    
    # Subtest: onSend hooks should run in the order in which they are defined
        1..8
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equivalent
    ok 53 - onSend hooks should run in the order in which they are defined # time=8.626ms
    
    # Subtest: onResponse hooks should run in the order in which they are defined
        1..8
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equivalent
    ok 54 - onResponse hooks should run in the order in which they are defined # time=8.753ms
    
    # Subtest: onRequest, preHandler, and onResponse hooks that resolve to a value do not cause an error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 55 - onRequest, preHandler, and onResponse hooks that resolve to a value do not cause an error # time=5.004ms
    
    # Subtest: If a response header has been set inside an hook it shoulod not be overwritten by the final response handler
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 56 - If a response header has been set inside an hook it shoulod not be overwritten by the final response handler # time=4.649ms
    
    # Subtest: If the content type has been set inside an hook it should not be changed
        1..5
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 57 - If the content type has been set inside an hook it should not be changed # time=4.69ms
    
    # Subtest: request in onRequest, preParsing, preValidation and onResponse
        1..18
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equivalent
        ok 10 - should be equivalent
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equivalent
        ok 14 - should be equivalent
        ok 15 - should be equivalent
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
    ok 58 - request in onRequest, preParsing, preValidation and onResponse # time=15.019ms
    
    # Subtest: preValidation hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 59 - preValidation hook should support encapsulation / 1 # time=10.849ms
    
    # Subtest: preValidation hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 60 - preValidation hook should support encapsulation / 2 # time=4.182ms
    
    # Subtest: preValidation hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 61 - preValidation hook should support encapsulation / 3 # time=18.19ms
    
    # Subtest: onError hook
        1..3
        ok 1 - should match pattern provided
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 62 - onError hook # time=5.992ms
    
    # Subtest: reply.send should throw if called inside the onError hook
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 63 - reply.send should throw if called inside the onError hook # time=6.026ms
    
    # Subtest: onError hook with setErrorHandler
        # Subtest: Send error
            1..3
            ok 1 - should match pattern provided
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 1 - Send error # time=5.612ms
        
        1..1
    ok 64 - onError hook with setErrorHandler # time=10.939ms
    
    # Subtest: preParsing hook should run before parsing and be able to modify the payload
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 65 - preParsing hook should run before parsing and be able to modify the payload # time=35.27ms
    
    # Subtest: preParsing hooks should run in the order in which they are defined
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 66 - preParsing hooks should run in the order in which they are defined # time=28.398ms
    
    # Subtest: preParsing hooks should support encapsulation
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 67 - preParsing hooks should support encapsulation # time=12.646ms
    
    # Subtest: preParsing hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 68 - preParsing hook should support encapsulation / 1 # time=7.334ms
    
    # Subtest: preParsing hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 69 - preParsing hook should support encapsulation / 2 # time=5.836ms
    
    # Subtest: preParsing hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 70 - preParsing hook should support encapsulation / 3 # time=15.771ms
    
    # Subtest: preSerialization hook should run before serialization and be able to modify the payload
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 71 - preSerialization hook should run before serialization and be able to modify the payload # time=14.376ms
    
    # Subtest: preSerialization hook should be able to throw errors which are validated against schema response
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        1..6
    ok 72 - preSerialization hook should be able to throw errors which are validated against schema response # time=10.453ms
    
    # Subtest: preSerialization hook which returned error should still run onError hooks
        1..4
        ok 1 - should not error
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - should be equal
    ok 73 - preSerialization hook which returned error should still run onError hooks # time=7.456ms
    
    # Subtest: preSerialization hooks should run in the order in which they are defined
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 74 - preSerialization hooks should run in the order in which they are defined # time=9.551ms
    
    # Subtest: preSerialization hooks should support encapsulation
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 75 - preSerialization hooks should support encapsulation # time=12.005ms
    
    # Subtest: onRegister hook should be called / 1
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should not error
    ok 76 - onRegister hook should be called / 1 # time=3.937ms
    
    # Subtest: onRegister hook should be called / 2
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
    ok 77 - onRegister hook should be called / 2 # time=5.531ms
    
    # Subtest: onRegister hook should be called / 3
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
    ok 78 - onRegister hook should be called / 3 # time=5.443ms
    
    # Subtest: onRegister hook should be called (encapsulation)
        1..1
        ok 1 - should not error
    ok 79 - onRegister hook should be called (encapsulation) # time=2.273ms
    
    # Subtest: early termination, onRequest
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 80 - early termination, onRequest # time=4.219ms
    
    # Subtest: reply.send should throw if undefined error is thrown
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 81 - reply.send should throw if undefined error is thrown # time=8.35ms
    
    # Subtest: reply.send should throw if undefined error is thrown at preParsing hook
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 82 - reply.send should throw if undefined error is thrown at preParsing hook # time=7.162ms
    
    # Subtest: reply.send should throw if undefined error is thrown at onSend hook
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 83 - reply.send should throw if undefined error is thrown at onSend hook # time=10.699ms
    
    # Subtest: onTimeout should be triggered
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - onTimeout
        ok 5 - type is Error
        ok 6 - should be equal
    ok 84 - onTimeout should be triggered # time=509.058ms
    
    # Subtest: onTimeout should be triggered and socket _meta is set
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - onTimeout
        ok 5 - type is Error
        ok 6 - should be equal
    ok 85 - onTimeout should be triggered and socket _meta is set # time=509.21ms
    
    1..85
    # time=2365.026ms
ok 36 - test/hooks.test.js # time=2365.026ms

# Subtest: test/http2/closing.test.js
    # Subtest: http/2 request while fastify closing
        ok 1 - http2 successfully loaded
        ok 2 - should not error
        # Subtest: return 200
            ok 1 - should be equal
            1..1
        ok 3 - return 200 # time=11.617ms
        
        1..3
    ok 1 - http/2 request while fastify closing # time=63.169ms
    
    # Subtest: http/2 request while fastify closing - return503OnClosing: false
        ok 1 - http2 successfully loaded
        ok 2 - should not error
        # Subtest: return 200
            ok 1 - should be equal
            1..1
        ok 3 - return 200 # time=4.72ms
        
        1..3
    ok 2 - http/2 request while fastify closing - return503OnClosing: false # time=13.292ms
    
    # Subtest: http/2 closes successfully with async await
        1..0
    ok 3 - http/2 closes successfully with async await # time=110.633ms
    
    # Subtest: https/2 closes successfully with async await
        1..0
    ok 4 - https/2 closes successfully with async await # time=12.837ms
    
    # Subtest: http/2 server side session emits a timeout event
        ok 1 - should be equal
        1..1
    ok 5 - http/2 server side session emits a timeout event # time=107.851ms
    
    1..5
    # time=337.668ms
ok 37 - test/http2/closing.test.js # time=337.668ms

# Subtest: test/http2/constraint.test.js
    # Subtest: A route supports host constraints under http2 protocol and secure connection
        1..5
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request - no constrain
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - https get request - no constrain # time=37.157ms
        
        # Subtest: https get request - constrain
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - https get request - constrain # time=12.642ms
        
        # Subtest: https get request - constrain - not found
            1..1
            ok 1 - should be equal
        ok 5 - https get request - constrain - not found # time=9.974ms
        
    ok 1 - A route supports host constraints under http2 protocol and secure connection # time=147.472ms
    
    1..1
    # time=176.962ms
ok 38 - test/http2/constraint.test.js # time=176.962ms

# Subtest: test/http2/head.test.js
    ok 1 - http2 successfully loaded
    ok 2 - should not error
    # Subtest: http HEAD request
        1..1
        ok 1 - should be equal
    ok 3 - http HEAD request # time=71.706ms
    
    1..3
    # time=159.835ms
ok 39 - test/http2/head.test.js # time=159.835ms

# Subtest: test/http2/missing-http2-module.test.js
    # Subtest: should throw when http2 module cannot be found
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - should throw when http2 module cannot be found # time=11.773ms
    
    1..1
    # time=17.223ms
ok 40 - test/http2/missing-http2-module.test.js # time=17.223ms

# Subtest: test/http2/plain.test.js
    ok 1 - http2 successfully loaded
    ok 2 - should not error
    # Subtest: http get request
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 3 - http get request # time=33.881ms
    
    # Subtest: http hostname
        1..1
        ok 1 - should be equal
    ok 4 - http hostname # time=7.211ms
    
    1..4
    # time=122.579ms
ok 41 - test/http2/plain.test.js # time=122.579ms

# Subtest: test/http2/secure-with-fallback.test.js
    # Subtest: secure with fallback
        1..7
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get error
            1..1
            ok 1 - should be equal
        ok 3 - https get error # time=43.105ms
        
        # Subtest: https post
            1..2
            ok 1 - should be equal
            ok 2 - should be equivalent
        ok 4 - https post # time=19.277ms
        
        # Subtest: https get request
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - https get request # time=11.627ms
        
        # Subtest: http1 get request
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 6 - http1 get request # time=19.567ms
        
        # Subtest: http1 get error
            1..2
            ok 1 - should not error
            ok 2 - should be equal
        ok 7 - http1 get error # time=7.976ms
        
    ok 1 - secure with fallback # time=191.495ms
    
    1..1
    # time=221.583ms
ok 42 - test/http2/secure-with-fallback.test.js # time=221.583ms

# Subtest: test/http2/secure.test.js
    # Subtest: secure
        1..4
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - https get request # time=40.793ms
        
        # Subtest: https get request without trust proxy - protocol
            1..2
            ok 1 - should be equivalent
            ok 2 - should be equivalent
        ok 4 - https get request without trust proxy - protocol # time=23.517ms
        
    ok 1 - secure # time=169.871ms
    
    1..1
    # time=200.677ms
ok 43 - test/http2/secure.test.js # time=200.677ms

# Subtest: test/http2/unknown-http-method.test.js
    ok 1 - should not error
    # Subtest: http UNKNOWN_METHOD request
        1..2
        ok 1 - should be equal
        ok 2 - should be equivalent
    ok 2 - http UNKNOWN_METHOD request # time=34.267ms
    
    1..2
    # time=89.358ms
ok 44 - test/http2/unknown-http-method.test.js # time=89.358ms

# Subtest: test/https/custom-https-server.test.js
    # Subtest: Should support a custom https server
        1..4
        ok 1 - it is called twice for every HOST interface
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - Should support a custom https server # time=82.403ms
    
    1..1
    # time=114.312ms
ok 45 - test/https/custom-https-server.test.js # time=114.312ms

# Subtest: test/https/https.test.js
    # Subtest: https
        1..4
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 3 - https get request # time=39.315ms
        
        # Subtest: https get request without trust proxy - protocol
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 4 - https get request without trust proxy - protocol # time=16.874ms
        
    ok 1 - https # time=137.212ms
    
    1..1
    # time=166.271ms
ok 46 - test/https/https.test.js # time=166.271ms

# Subtest: test/imports.test.js
    # Subtest: should import as default
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 1 - should import as default # time=742.582ms
    
    # Subtest: should import as esm
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 2 - should import as esm # time=1.684ms
    
    1..2
    # time=755.363ms
ok 47 - test/imports.test.js # time=755.363ms

# Subtest: test/inject.test.js
    # Subtest: inject should exist
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 1 - inject should exist # time=15.822ms
    
    # Subtest: should wait for the ready event
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 2 - should wait for the ready event # time=594.868ms
    
    # Subtest: inject get request
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 3 - inject get request # time=7.959ms
    
    # Subtest: inject get request - code check
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 4 - inject get request - code check # time=9.617ms
    
    # Subtest: inject get request - headers check
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 5 - inject get request - headers check # time=5.923ms
    
    # Subtest: inject get request - querystring
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 6 - inject get request - querystring # time=6.052ms
    
    # Subtest: inject get request - params
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 7 - inject get request - params # time=5.544ms
    
    # Subtest: inject get request - wildcard
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - inject get request - wildcard # time=6.067ms
    
    # Subtest: inject get request - headers
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 9 - inject get request - headers # time=5.957ms
    
    # Subtest: inject post request
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 10 - inject post request # time=11.054ms
    
    # Subtest: inject post request - send stream
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 11 - inject post request - send stream # time=9.076ms
    
    # Subtest: inject get request - reply stream
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 12 - inject get request - reply stream # time=20.943ms
    
    # Subtest: inject promisify - waiting for ready event
        1..1
        ok 1 - should be equal
    ok 13 - inject promisify - waiting for ready event # time=10.226ms
    
    # Subtest: inject promisify - after the ready event
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 14 - inject promisify - after the ready event # time=10.122ms
    
    # Subtest: inject promisify - when the server is up
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 15 - inject promisify - when the server is up # time=16.383ms
    
    # Subtest: should reject in error case
        1..1
        ok 1 - should be equal
    ok 16 - should reject in error case # time=518.32ms
    
    # Subtest: inject a multipart request using form-body
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 17 - inject a multipart request using form-body # time=34.246ms
    
    # Subtest: should error the promise if ready errors
        1..3
        ok 1 - after is called
        ok 2 - expect truthy value
        ok 3 - should be equal
    ok 18 - should error the promise if ready errors # time=35.97ms
    
    # Subtest: should throw error if callback specified and if ready errors
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 19 - should throw error if callback specified and if ready errors # time=14.751ms
    
    # Subtest: should support builder-style injection with ready app
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
    ok 20 - should support builder-style injection with ready app # time=9.97ms
    
    # Subtest: should support builder-style injection with non-ready app
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
    ok 21 - should support builder-style injection with non-ready app # time=6.402ms
    
    # Subtest: should handle errors in builder-style injection correctly
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 22 - should handle errors in builder-style injection correctly # time=4.95ms
    
    1..22
    # time=1390.409ms
ok 48 - test/inject.test.js # time=1390.409ms

# Subtest: test/internals/all.test.js
    # Subtest: fastify.all should add all the methods to the same url
        1..14
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equivalent
    ok 1 - fastify.all should add all the methods to the same url # time=51.278ms
    
    1..1
    # time=55.071ms
ok 49 - test/internals/all.test.js # time=55.071ms

# Subtest: test/internals/contentTypeParser.test.js
    # Subtest: rawBody function
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - rawBody function # time=20.456ms
    
    # Subtest: Should support Webpack and faux modules
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - Should support Webpack and faux modules # time=17.032ms
    
    1..2
    # time=46.397ms
ok 50 - test/internals/contentTypeParser.test.js # time=46.397ms

# Subtest: test/internals/decorator.test.js
    # Subtest: decorate should add the given method to its instance
        1..1
        ok 1 - expect truthy value
    ok 1 - decorate should add the given method to its instance # time=5.589ms
    
    # Subtest: decorate is chainable
        1..3
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
    ok 2 - decorate is chainable # time=3.058ms
    
    # Subtest: checkExistence should check if a property is part of the given instance
        1..1
        ok 1 - expect truthy value
    ok 3 - checkExistence should check if a property is part of the given instance # time=1.221ms
    
    # Subtest: checkExistence should find the instance if not given
        1..1
        ok 1 - expect truthy value
    ok 4 - checkExistence should find the instance if not given # time=1.095ms
    
    # Subtest: checkExistence should check the prototype as well
        1..1
        ok 1 - expect truthy value
    ok 5 - checkExistence should check the prototype as well # time=0.995ms
    
    # Subtest: checkDependencies should throw if a dependency is not present
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 6 - checkDependencies should throw if a dependency is not present # time=1.553ms
    
    # Subtest: decorate should internally call checkDependencies
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 7 - decorate should internally call checkDependencies # time=0.953ms
    
    # Subtest: decorate should recognize getter/setter objects
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - (unnamed test)
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 8 - decorate should recognize getter/setter objects # time=1.855ms
    
    1..8
    # time=68.996ms
ok 51 - test/internals/decorator.test.js # time=68.996ms

# Subtest: test/internals/handleRequest.test.js
    # Subtest: handleRequest function - sent reply
        1..1
        ok 1 - should be equal
    ok 1 - handleRequest function - sent reply # time=5.885ms
    
    # Subtest: handleRequest function - invoke with error
        1..1
        ok 1 - should be equal
    ok 2 - handleRequest function - invoke with error # time=1.327ms
    
    # Subtest: handler function - invalid schema
        1..1
        ok 1 - errorHandler called
    ok 3 - handler function - invalid schema # time=71.598ms
    
    # Subtest: handler function - reply
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - (unnamed test)
    ok 4 - handler function - reply # time=2.787ms
    
    # Subtest: handler function - preValidationCallback with finished response
        1..0
    ok 5 - handler function - preValidationCallback with finished response # time=0.771ms
    
    # Subtest: request should be defined in onSend Hook on post request with content type application/json
        1..8
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - should not error
        ok 8 - should be equal
    ok 6 - request should be defined in onSend Hook on post request with content type application/json # time=304.281ms
    
    # Subtest: request should be defined in onSend Hook on post request with content type application/x-www-form-urlencoded
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - should be equal
    ok 7 - request should be defined in onSend Hook on post request with content type application/x-www-form-urlencoded # time=11.201ms
    
    # Subtest: request should be defined in onSend Hook on options request with content type application/x-www-form-urlencoded
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - should be equal
    ok 8 - request should be defined in onSend Hook on options request with content type application/x-www-form-urlencoded # time=24.91ms
    
    # Subtest: request should respond with an error if an unserialized payload is sent inside an async handler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
    ok 9 - request should respond with an error if an unserialized payload is sent inside an async handler # time=39.54ms
    
    1..9
    # time=485.212ms
ok 52 - test/internals/handleRequest.test.js # time=485.212ms

# Subtest: test/internals/hookRunner.test.js
    # Subtest: hookRunner - Basic
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 1 - hookRunner - Basic # time=10.217ms
    
    # Subtest: hookRunner - In case of error should skip to done
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 2 - hookRunner - In case of error should skip to done # time=3.662ms
    
    # Subtest: hookRunner - Should handle throw
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 3 - hookRunner - Should handle throw # time=2.932ms
    
    # Subtest: hookRunner - Should handle promises
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 4 - hookRunner - Should handle promises # time=23.921ms
    
    # Subtest: hookRunner - In case of error should skip to done (with promises)
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 5 - hookRunner - In case of error should skip to done (with promises) # time=3.39ms
    
    # Subtest: hookRunner - Be able to exit before its natural end
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 6 - hookRunner - Be able to exit before its natural end # time=1.922ms
    
    # Subtest: hookRunner - Promises that resolve to a value do not change the state
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 7 - hookRunner - Promises that resolve to a value do not change the state # time=2.226ms
    
    # Subtest: onSendHookRunner - Basic
        1..13
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equal
        ok 10 - should not error
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equal
    ok 8 - onSendHookRunner - Basic # time=9.95ms
    
    # Subtest: onSendHookRunner - Can change the payload
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 9 - onSendHookRunner - Can change the payload # time=4.771ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 10 - onSendHookRunner - In case of error should skip to done # time=3.319ms
    
    # Subtest: onSendHookRunner - Should handle promises
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 11 - onSendHookRunner - Should handle promises # time=3.89ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done (with promises)
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 12 - onSendHookRunner - In case of error should skip to done (with promises) # time=3.507ms
    
    # Subtest: onSendHookRunner - Be able to exit before its natural end
        1..2
        ok 1 - should be equivalent
        ok 2 - should be equivalent
    ok 13 - onSendHookRunner - Be able to exit before its natural end # time=1.526ms
    
    1..13
    # time=121.372ms
ok 53 - test/internals/hookRunner.test.js # time=121.372ms

# Subtest: test/internals/hooks.test.js
    # Subtest: hooks should have 4 array with the registered hooks
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        1..8
    ok 1 - hooks should have 4 array with the registered hooks # time=7.713ms
    
    # Subtest: hooks.add should add a hook to the given hook
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        1..14
    ok 2 - hooks.add should add a hook to the given hook # time=3.91ms
    
    # Subtest: hooks should throw on unexisting handler
        1..1
        ok 1 - (unnamed test)
    ok 3 - hooks should throw on unexisting handler # time=0.901ms
    
    # Subtest: should throw on wrong parameters
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 4 - should throw on wrong parameters # time=1.522ms
    
    1..4
    # time=27.569ms
ok 54 - test/internals/hooks.test.js # time=27.569ms

# Subtest: test/internals/initialConfig.test.js
    # Subtest: Fastify.initialConfig is an object
        1..1
        ok 1 - type is object
    ok 1 - Fastify.initialConfig is an object # time=15.055ms
    
    # Subtest: without options passed to Fastify, initialConfig should expose default values
        1..1
        ok 1 - should be equivalent
    ok 2 - without options passed to Fastify, initialConfig should expose default values # time=8.115ms
    
    # Subtest: Fastify.initialConfig should expose all options
        1..20
        ok 1 - should be equal
        ok 2 - for security reason the key cert is hidden
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - expect truthy value
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equal
    ok 3 - Fastify.initialConfig should expose all options # time=15.443ms
    
    # Subtest: Should throw if you try to modify Fastify.initialConfig
        1..4
        ok 1 - type is TypeError
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - (unnamed test)
    ok 4 - Should throw if you try to modify Fastify.initialConfig # time=2.951ms
    
    # Subtest: We must avoid shallow freezing and ensure that the whole object is freezed
        1..4
        ok 1 - type is TypeError
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - key cert removed
    ok 5 - We must avoid shallow freezing and ensure that the whole object is freezed # time=15.162ms
    
    # Subtest: https value check
        1..1
        ok 1 - expect falsey value
    ok 6 - https value check # time=1.299ms
    
    # Subtest: Return an error if options do not match the validation schema
        1..6
        ok 1 - type is Error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
        ok 6 - (unnamed test)
    ok 7 - Return an error if options do not match the validation schema # time=69.216ms
    
    # Subtest: Original options must not be frozen
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - Original options must not be frozen # time=2.748ms
    
    # Subtest: Original options must not be altered (test deep cloning)
        1..3
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 9 - Original options must not be altered (test deep cloning) # time=35.127ms
    
    # Subtest: Should not have issues when passing stream options to Pino.js
        1..15
        ok 1 - type is object
        ok 2 - should be equivalent
        ok 3 - listen at log message is ok
        ok 4 - should not error
        ok 5 - reqId is defined
        ok 6 - req is defined
        ok 7 - message is set
        ok 8 - method is get
        ok 9 - expect truthy value
        ok 10 - should be equal
        ok 11 - reqId is defined
        ok 12 - res is defined
        ok 13 - message is set
        ok 14 - statusCode is 200
        ok 15 - responseTime is defined
    ok 10 - Should not have issues when passing stream options to Pino.js # time=51.104ms
    
    # Subtest: deepFreezeObject() should not throw on TypedArray
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - (unnamed test)
    ok 11 - deepFreezeObject() should not throw on TypedArray # time=1.35ms
    
    # Subtest: Fastify.initialConfig should accept the deprecated versioning option
        1..1
        ok 1 - should be equal
    ok 12 - Fastify.initialConfig should accept the deprecated versioning option # time=4.473ms
    
    # Subtest: pluginTimeout should be parsed correctly
        ok 1 - should be equal
        ok 2 - should be equal
        1..2
    ok 13 - pluginTimeout should be parsed correctly # time=2.675ms
    
    1..13
    # time=299.549ms
ok 55 - test/internals/initialConfig.test.js # time=299.549ms

# Subtest: test/internals/logger.test.js
    # Subtest: time resolution
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - time resolution # time=6.579ms
    
    # Subtest: The logger should add a unique id for every request
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - the id should not be duplicated
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - the id should not be duplicated
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - the id should not be duplicated
        ok 11 - expect truthy value
        ok 12 - should not error
        ok 13 - the id should not be duplicated
        ok 14 - expect truthy value
        ok 15 - should not error
        ok 16 - the id should not be duplicated
        ok 17 - expect truthy value
        ok 18 - should not error
        ok 19 - the id should not be duplicated
        ok 20 - expect truthy value
        ok 21 - should not error
        ok 22 - the id should not be duplicated
        ok 23 - expect truthy value
        ok 24 - should not error
        ok 25 - the id should not be duplicated
        ok 26 - expect truthy value
        ok 27 - should not error
        ok 28 - the id should not be duplicated
        ok 29 - expect truthy value
        ok 30 - should not error
        ok 31 - the id should not be duplicated
        1..31
    ok 2 - The logger should add a unique id for every request # time=82.596ms
    
    # Subtest: The logger should reuse request id header for req.id
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - the request id from the header should be returned
        1..4
    ok 3 - The logger should reuse request id header for req.id # time=8.026ms
    
    # Subtest: The logger should error if both stream and file destination are given
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - The logger should error if both stream and file destination are given # time=1.386ms
    
    # Subtest: The serializer prevent fails if the request socket is undefined
        1..1
        ok 1 - should be equivalent
    ok 5 - The serializer prevent fails if the request socket is undefined # time=4.408ms
    
    1..5
    # time=112.815ms
ok 56 - test/internals/logger.test.js # time=112.815ms

# Subtest: test/internals/plugin.test.js
    # Subtest: shouldSkipOverride should check the 'skip-override' symbol
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 1 - shouldSkipOverride should check the 'skip-override' symbol # time=5.983ms
    
    # Subtest: getPluginName should return plugin name if the file is cached
        1..1
        ok 1 - should be equal
    ok 2 - getPluginName should return plugin name if the file is cached # time=1.779ms
    
    # Subtest: getMeta should return the object stored with the 'plugin-meta' symbol
        1..1
        ok 1 - should be equivalent
    ok 3 - getMeta should return the object stored with the 'plugin-meta' symbol # time=4.576ms
    
    # Subtest: checkDecorators should check if the given decorator is present in the instance
        1..1
        ok 1 - Everything ok
    ok 4 - checkDecorators should check if the given decorator is present in the instance # time=1.597ms
    
    # Subtest: checkDecorators should check if the given decorator is present in the instance (errored)
        1..1
        ok 1 - should be equal
    ok 5 - checkDecorators should check if the given decorator is present in the instance (errored) # time=1.155ms
    
    # Subtest: checkDecorators should accept optional decorators
        1..1
        ok 1 - Everything ok
    ok 6 - checkDecorators should accept optional decorators # time=0.618ms
    
    # Subtest: checkDependencies should check if the given dependency is present in the instance
        1..1
        ok 1 - Everything ok
    ok 7 - checkDependencies should check if the given dependency is present in the instance # time=0.982ms
    
    # Subtest: checkDependencies should check if the given dependency is present in the instance (errored)
        1..1
        ok 1 - should be equal
    ok 8 - checkDependencies should check if the given dependency is present in the instance (errored) # time=30.333ms
    
    1..8
    # time=107.165ms
ok 57 - test/internals/plugin.test.js # time=107.165ms

# Subtest: test/internals/reply-serialize.test.js
    # Subtest: Reply\#compileSerializationSchema
        1..4
        # Subtest: Should return a serialization function
            1..4
            ok 1 - type is Function
            ok 2 - type is string
            ok 3 - should be equal
            ok 4 - should be equal
        ok 1 - Should return a serialization function # time=77.414ms
        
        # Subtest: Should reuse the serialize fn across multiple invocations - Route without schema
            1..17
            ok 1 - build the schema compilation function
            ok 2 - type is Function
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - Are the same validate function
            ok 6 - type is Function
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - Are the same validate function
            ok 10 - type is Function
            ok 11 - should be equal
            ok 12 - should be equal
            ok 13 - Are the same validate function
            ok 14 - type is Function
            ok 15 - should be equal
            ok 16 - should be equal
            ok 17 - should be equal
        ok 2 - Should reuse the serialize fn across multiple invocations - Route without schema # time=15.644ms
        
        # Subtest: Should use the custom serializer compiler for the route
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equivalent
            ok 7 - {"hello":"world"}
            ok 8 - should be equivalent
            ok 9 - {"hello":"world"}
            ok 10 - should be equal
        ok 3 - Should use the custom serializer compiler for the route # time=34.224ms
        
        # Subtest: Should build a WeakMap for cache when called
            1..4
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
            ok 4 - should be equal
        ok 4 - Should build a WeakMap for cache when called # time=8.545ms
        
    ok 1 - Reply\#compileSerializationSchema # time=159.801ms
    
    # Subtest: Reply\#getSerializationFunction
        1..3
        # Subtest: Should retrieve the serialization function from the Schema definition
            1..9
            ok 1 - type is Function
            ok 2 - type is Function
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - expect falsey value
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
        ok 1 - Should retrieve the serialization function from the Schema definition # time=22.043ms
        
        # Subtest: Should retrieve the serialization function from the cached one
            1..6
            ok 1 - type is Function
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
        ok 2 - Should retrieve the serialization function from the cached one # time=8.569ms
        
        # Subtest: Should not instantiate a WeakMap if it is not needed
            1..4
            ok 1 - expect falsey value
            ok 2 - should be equal
            ok 3 - expect falsey value
            ok 4 - should be equal
        ok 3 - Should not instantiate a WeakMap if it is not needed # time=24.523ms
        
    ok 2 - Reply\#getSerializationFunction # time=64.9ms
    
    # Subtest: Reply\#serializeInput
        1..5
        # Subtest: Should throw if missed serialization function from HTTP status
            1..2
            ok 1 - should be equal
            ok 2 - should be equivalent
        ok 1 - Should throw if missed serialization function from HTTP status # time=33.898ms
        
        # Subtest: Should use a serializer fn from HTTP status
            1..4
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
        ok 2 - Should use a serializer fn from HTTP status # time=37.998ms
        
        # Subtest: Should compile a serializer out of a schema if serializer fn missed
            1..10
            ok 1 - should be equal
            ok 2 - expect falsey value
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 3 - Should compile a serializer out of a schema if serializer fn missed # time=11.543ms
        
        # Subtest: Should use a cached serializer fn
            1..12
            ok 1 - should be equal
            ok 2 - expect falsey value
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
            ok 11 - should be equal
            ok 12 - should be equal
        ok 4 - Should use a cached serializer fn # time=12.914ms
        
        # Subtest: Should instantiate a WeakMap after first call
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
        ok 5 - Should instantiate a WeakMap after first call # time=10.4ms
        
    ok 3 - Reply\#serializeInput # time=115.072ms
    
    1..3
    # time=362.983ms
ok 58 - test/internals/reply-serialize.test.js # time=362.983ms

# Subtest: test/internals/reply.test.js
    # Subtest: Once called, Reply should return an object with methods
        1..13
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should be equal
        ok 13 - should be equal
    ok 1 - Once called, Reply should return an object with methods # time=13.475ms
    
    # Subtest: reply.send will logStream error and destroy the stream
        1..1
        ok 1 - Error not logged and not streamed
    ok 2 - reply.send will logStream error and destroy the stream # time=24.142ms
    
    # Subtest: reply.send throw with circular JSON
        1..1
        ok 1 - Converting circular structure to JSON
    ok 3 - reply.send throw with circular JSON # time=1.486ms
    
    # Subtest: reply.send returns itself
        1..1
        ok 1 - should be equal
    ok 4 - reply.send returns itself # time=1.459ms
    
    # Subtest: reply.serializer should set a custom serializer
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 5 - reply.serializer should set a custom serializer # time=1.019ms
    
    # Subtest: reply.serializer should support running preSerialization hooks
        1..3
        ok 1 - preSerialization
        ok 2 - should not error
        ok 3 - should be equal
    ok 6 - reply.serializer should support running preSerialization hooks # time=717.266ms
    
    # Subtest: reply.serialize should serialize payload
        1..1
        ok 1 - should be equal
    ok 7 - reply.serialize should serialize payload # time=0.894ms
    
    # Subtest: reply.serialize should serialize payload with a custom serializer
        1..2
        ok 1 - should be equal
        ok 2 - custom serializer not called
    ok 8 - reply.serialize should serialize payload with a custom serializer # time=0.815ms
    
    # Subtest: reply.serialize should serialize payload with a context default serializer
        1..2
        ok 1 - should be equal
        ok 2 - custom serializer not called
    ok 9 - reply.serialize should serialize payload with a context default serializer # time=0.948ms
    
    # Subtest: reply.serialize should serialize payload with Fastify instance
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - reply.serialize should serialize payload with Fastify instance # time=20.568ms
    
    # Subtest: within an instance
        ok 1 - should not error
        # Subtest: custom serializer should be used
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - custom serializer should be used # time=35ms
        
        # Subtest: status code and content-type should be correct
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 3 - status code and content-type should be correct # time=6.167ms
        
        # Subtest: auto status code shoud be 200
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - auto status code shoud be 200 # time=4.998ms
        
        # Subtest: auto type shoud be text/plain
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - auto type shoud be text/plain # time=4.518ms
        
        # Subtest: redirect to `/` - 1
            1..1
            ok 1 - should be equal
        ok 6 - redirect to `/` - 1 # time=3.956ms
        
        # Subtest: redirect to `/` - 2
            1..1
            ok 1 - should be equal
        ok 7 - redirect to `/` - 2 # time=3.569ms
        
        # Subtest: redirect to `/` - 3
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 8 - redirect to `/` - 3 # time=17.411ms
        
        # Subtest: redirect to `/` - 4
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 9 - redirect to `/` - 4 # time=7.704ms
        
        # Subtest: redirect to `/` - 5
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
        ok 10 - redirect to `/` - 5 # time=3.441ms
        
        # Subtest: redirect to `/` - 6
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 11 - redirect to `/` - 6 # time=6.456ms
        
        # Subtest: redirect to `/` - 7
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 12 - redirect to `/` - 7 # time=6.844ms
        
        # Subtest: redirect to `/` - 8
            1..1
            ok 1 - should be equal
        ok 13 - redirect to `/` - 8 # time=2.942ms
        
        # Subtest: redirect to `/` - 9
            1..1
            ok 1 - should be equal
        ok 14 - redirect to `/` - 9 # time=2.959ms
        
        # Subtest: redirect with async function to `/` - 10
            1..1
            ok 1 - should be equal
        ok 15 - redirect with async function to `/` - 10 # time=3.094ms
        
        1..15
    ok 11 - within an instance # time=173.411ms
    
    # Subtest: buffer without content type should send a application/octet-stream and raw buffer
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 12 - buffer without content type should send a application/octet-stream and raw buffer # time=31.425ms
    
    # Subtest: buffer with content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 13 - buffer with content type should not send application/octet-stream # time=12.855ms
    
    # Subtest: stream with content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 14 - stream with content type should not send application/octet-stream # time=17.657ms
    
    # Subtest: stream without content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 15 - stream without content type should not send application/octet-stream # time=68.894ms
    
    # Subtest: stream using reply.raw.writeHead should return customize headers
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 16 - stream using reply.raw.writeHead should return customize headers # time=48.97ms
    
    # Subtest: plain string without content type should send a text/plain
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 17 - plain string without content type should send a text/plain # time=7.964ms
    
    # Subtest: plain string with content type should be sent unmodified
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - plain string with content type should be sent unmodified # time=25.108ms
    
    # Subtest: plain string with content type and custom serializer should be serialized
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 19 - plain string with content type and custom serializer should be serialized # time=12.916ms
    
    # Subtest: plain string with content type application/json should NOT be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 20 - plain string with content type application/json should NOT be serialized as json # time=25.262ms
    
    # Subtest: plain string with custom json content type should NOT be serialized as json
        1..19
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equivalent
    ok 21 - plain string with custom json content type should NOT be serialized as json # time=22.636ms
    
    # Subtest: non-string with content type application/json SHOULD be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 22 - non-string with content type application/json SHOULD be serialized as json # time=26.902ms
    
    # Subtest: non-string with custom json's content-type SHOULD be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 23 - non-string with custom json's content-type SHOULD be serialized as json # time=20.256ms
    
    # Subtest: non-string with custom json content type SHOULD be serialized as json
        1..16
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 24 - non-string with custom json content type SHOULD be serialized as json # time=18.469ms
    
    # Subtest: error object with a content type that is not application/json should work
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 25 - error object with a content type that is not application/json should work # time=8.287ms
    
    # Subtest: undefined payload should be sent as-is
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 26 - undefined payload should be sent as-is # time=11.388ms
    
    # Subtest: for HEAD method, no body should be sent but content-length should be
        1..11
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
    ok 27 - for HEAD method, no body should be sent but content-length should be # time=10.558ms
    
    # Subtest: reply.send(new NotFound()) should not invoke the 404 handler
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 28 - reply.send(new NotFound()) should not invoke the 404 handler # time=14.545ms
    
    # Subtest: reply can set multiple instances of same header
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - expect truthy value
        ok 4 - should be equivalent strictly
    ok 29 - reply can set multiple instances of same header # time=8.44ms
    
    # Subtest: reply.hasHeader returns correct values
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 30 - reply.hasHeader returns correct values # time=5.375ms
    
    # Subtest: reply.getHeader returns correct values
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
        ok 4 - should be equivalent strictly
    ok 31 - reply.getHeader returns correct values # time=8.771ms
    
    # Subtest: reply.getHeader returns raw header if there is not in the reply headers
        1..1
        ok 1 - should be equal
    ok 32 - reply.getHeader returns raw header if there is not in the reply headers # time=1.012ms
    
    # Subtest: reply.getHeaders returns correct values
        1..3
        ok 1 - should be equivalent strictly
        ok 2 - should be equivalent strictly
        ok 3 - should not error
    ok 33 - reply.getHeaders returns correct values # time=12.793ms
    
    # Subtest: reply.removeHeader can remove the value
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent strictly
        ok 5 - (unnamed test)
    ok 34 - reply.removeHeader can remove the value # time=7.308ms
    
    # Subtest: reply.header can reset the value
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent strictly
        ok 3 - (unnamed test)
    ok 35 - reply.header can reset the value # time=14.199ms
    
    # Subtest: reply.hasHeader computes raw and fastify headers
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - (unnamed test)
    ok 36 - reply.hasHeader computes raw and fastify headers # time=28.852ms
    
    # Subtest: Reply should handle JSON content type with a charset
        1..16
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should not error
        ok 16 - should be equal
    ok 37 - Reply should handle JSON content type with a charset # time=17.591ms
    
    # Subtest: Content type and charset set previously
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 38 - Content type and charset set previously # time=4.07ms
    
    # Subtest: .status() is an alias for .code()
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 39 - .status() is an alias for .code() # time=3.462ms
    
    # Subtest: .statusCode is getter and setter
        1..4
        ok 1 - 200
        ok 2 - 418
        ok 3 - should not error
        ok 4 - should be equal
    ok 40 - .statusCode is getter and setter # time=4.482ms
    
    # Subtest: reply.header setting multiple cookies as multiple Set-Cookie headers
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equivalent strictly
        ok 4 - should not error
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - should be equivalent strictly
    ok 41 - reply.header setting multiple cookies as multiple Set-Cookie headers # time=9.201ms
    
    # Subtest: should emit deprecation warning when trying to modify the reply.sent property
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 42 - should emit deprecation warning when trying to modify the reply.sent property # time=6.392ms
    
    # Subtest: should throw error when passing falsy value to reply.sent
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 43 - should throw error when passing falsy value to reply.sent # time=4.102ms
    
    # Subtest: should throw error when attempting to set reply.sent more than once
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 44 - should throw error when attempting to set reply.sent more than once # time=4.57ms
    
    # Subtest: should not throw error when attempting to set reply.sent if the underlining request was sent
        1..3
        ok 1 - expected to not throw
        ok 2 - should not error
        ok 3 - (unnamed test)
    ok 45 - should not throw error when attempting to set reply.sent if the underlining request was sent # time=7.7ms
    
    # Subtest: reply.getResponseTime() should return 0 before the timer is initialised on the reply by setting up response listeners
        1..1
        ok 1 - should be equal
    ok 46 - reply.getResponseTime() should return 0 before the timer is initialised on the reply by setting up response listeners # time=0.852ms
    
    # Subtest: reply.getResponseTime() should return a number greater than 0 after the timer is initialised on the reply by setting up response listeners
        1..1
        ok 1 - expect truthy value
    ok 47 - reply.getResponseTime() should return a number greater than 0 after the timer is initialised on the reply by setting up response listeners # time=4.498ms
    
    # Subtest: reply.getResponseTime() should return the time since a request started while inflight
        1..1
        ok 1 - should not be equal
    ok 48 - reply.getResponseTime() should return the time since a request started while inflight # time=3.921ms
    
    # Subtest: reply.getResponseTime() should return the same value after a request is finished
        1..1
        ok 1 - should be equal
    ok 49 - reply.getResponseTime() should return the same value after a request is finished # time=3.991ms
    
    # Subtest: reply should use the custom serializer
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 50 - reply should use the custom serializer # time=7.175ms
    
    # Subtest: reply should use the right serializer in encapsulated context
        1..9
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 51 - reply should use the right serializer in encapsulated context # time=10.609ms
    
    # Subtest: reply should use the right serializer in deep encapsulated context
        1..8
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 52 - reply should use the right serializer in deep encapsulated context # time=12.663ms
    
    # Subtest: reply should use the route serializer
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equal
    ok 53 - reply should use the route serializer # time=4.554ms
    
    # Subtest: cannot set the replySerializer when the server is running
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 54 - cannot set the replySerializer when the server is running # time=12.106ms
    
    # Subtest: reply should not call the custom serializer for errors and not found
        1..9
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 55 - reply should not call the custom serializer for errors and not found # time=9.045ms
    
    # Subtest: reply.then
        1..4
        # Subtest: without an error
            1..1
            ok 1 - fulfilled called
        ok 1 - without an error # time=18.764ms
        
        # Subtest: with an error
            1..1
            ok 1 - should be equal
        ok 2 - with an error # time=1.198ms
        
        # Subtest: with error but without reject callback
            1..1
            ok 1 - (unnamed test)
        ok 3 - with error but without reject callback # time=0.652ms
        
        # Subtest: with error, without reject callback, with logger
            1..1
            ok 1 - should be equal
        ok 4 - with error, without reject callback, with logger # time=1.2ms
        
    ok 56 - reply.then # time=28.844ms
    
    # Subtest: reply.sent should read from response.writableEnded if it is defined
        1..1
        ok 1 - should be equal
    ok 57 - reply.sent should read from response.writableEnded if it is defined # time=8.602ms
    
    # Subtest: redirect to an invalid URL should not crash the server
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        1..7
    ok 58 - redirect to an invalid URL should not crash the server # time=38.534ms
    
    # Subtest: invalid response headers should not crash the server
        ok 1 - only the first invalid header is logged
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 59 - invalid response headers should not crash the server # time=7.322ms
    
    # Subtest: invalid response headers when sending back an error
        ok 1 - only the first invalid header is logged
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 60 - invalid response headers when sending back an error # time=6.624ms
    
    # Subtest: invalid response headers and custom error handler
        ok 1 - custom error handler receives the error
        ok 2 - only the first invalid header is logged
        ok 3 - should be equal
        ok 4 - should be equivalent
        1..4
    ok 61 - invalid response headers and custom error handler # time=7.053ms
    
    1..61
    # time=1727.36ms
ok 59 - test/internals/reply.test.js # time=1727.36ms

# Subtest: test/internals/request-validate.test.js
    # Subtest: \#compileValidationSchema
        1..5
        # Subtest: Should return a function - Route without schema
            1..3
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
        ok 1 - Should return a function - Route without schema # time=151.049ms
        
        # Subtest: Should reuse the validate fn across multiple invocations - Route without schema
            1..16
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
            ok 4 - Are the same validate function
            ok 5 - type is Function
            ok 6 - expect truthy value
            ok 7 - expect falsey value
            ok 8 - Are the same validate function
            ok 9 - type is Function
            ok 10 - expect truthy value
            ok 11 - expect falsey value
            ok 12 - Are the same validate function
            ok 13 - type is Function
            ok 14 - expect truthy value
            ok 15 - expect falsey value
            ok 16 - should be equal
        ok 2 - Should reuse the validate fn across multiple invocations - Route without schema # time=60.3ms
        
        # Subtest: Should return a function - Route with schema
            1..3
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
        ok 3 - Should return a function - Route with schema # time=70.429ms
        
        # Subtest: Should use the custom validator compiler for the route
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equivalent
            ok 7 - expect truthy value
            ok 8 - should be equivalent
            ok 9 - expect truthy value
            ok 10 - should be equal
        ok 4 - Should use the custom validator compiler for the route # time=12.064ms
        
        # Subtest: Should instantiate a WeakMap when executed for first time
            1..5
            ok 1 - should be equal
            ok 2 - type is Function
            ok 3 - type is WeakMap
            ok 4 - type is Function
            ok 5 - type is WeakMap
        ok 5 - Should instantiate a WeakMap when executed for first time # time=38.094ms
        
    ok 1 - \#compileValidationSchema # time=352.493ms
    
    # Subtest: \#getValidationFunction
        1..4
        # Subtest: Should return a validation function
            1..1
            ok 1 - should be equal
        ok 1 - Should return a validation function # time=66.475ms
        
        # Subtest: Should return undefined if no schema compiled
            1..2
            ok 1 - expect falsey value
            ok 2 - expect falsey value
        ok 2 - Should return undefined if no schema compiled # time=11.481ms
        
        # Subtest: Should return the validation function from each HTTP part
            1..15
            ok 1 - expect truthy value
            ok 2 - expect truthy value
            ok 3 - expect falsey value
            ok 4 - expect truthy value
            ok 5 - expect truthy value
            ok 6 - expect falsey value
            ok 7 - expect truthy value
            ok 8 - expect truthy value
            ok 9 - expect truthy value
            ok 10 - expect truthy value
            ok 11 - expect falsey value
            ok 12 - should be equal
            ok 13 - expect truthy value
            ok 14 - expect falsey value
            ok 15 - should be equal
        ok 3 - Should return the validation function from each HTTP part # time=68.381ms
        
        # Subtest: Should not set a WeakMap if there is no schema
            1..1
            ok 1 - should be equal
        ok 4 - Should not set a WeakMap if there is no schema # time=15.553ms
        
    ok 2 - \#getValidationFunction # time=172.043ms
    
    # Subtest: \#validate
        1..7
        # Subtest: Should return true/false if input valid - Route without schema
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 1 - Should return true/false if input valid - Route without schema # time=114.69ms
        
        # Subtest: Should use the custom validator compiler for the route
            1..9
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equivalent
            ok 6 - should be equivalent
            ok 7 - expect truthy value
            ok 8 - expect truthy value
            ok 9 - should be equal
        ok 2 - Should use the custom validator compiler for the route # time=8.333ms
        
        # Subtest: Should return true/false if input valid - With Schema for Route defined
            1..8
            ok 1 - expect truthy value
            ok 2 - expect falsey value
            ok 3 - expect falsey value
            ok 4 - expect truthy value
            ok 5 - expect falsey value
            ok 6 - expect truthy value
            ok 7 - expect truthy value
            ok 8 - expect falsey value
        ok 3 - Should return true/false if input valid - With Schema for Route defined # time=112.002ms
        
        # Subtest: Should throw if missing validation fn for HTTP part and not schema provided
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 4 - Should throw if missing validation fn for HTTP part and not schema provided # time=12.795ms
        
        # Subtest: Should throw if missing validation fn for HTTP part and not valid schema provided
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 5 - Should throw if missing validation fn for HTTP part and not valid schema provided # time=31.419ms
        
        # Subtest: Should throw if invalid schema passed
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 6 - Should throw if invalid schema passed # time=14.504ms
        
        # Subtest: Should set a WeakMap if compiling the very first schema
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
        ok 7 - Should set a WeakMap if compiling the very first schema # time=47.894ms
        
    ok 3 - \#validate # time=356.899ms
    
    # Subtest: Nested Context
        1..1
        # Subtest: Level_1
            1..3
            # Subtest: \#compileValidationSchema
                1..4
                # Subtest: Should return a function - Route without schema
                    1..3
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                ok 1 - Should return a function - Route without schema # time=81.358ms
                
                # Subtest: Should reuse the validate fn across multiple invocations - Route without schema
                    1..16
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                    ok 4 - Are the same validate function
                    ok 5 - type is Function
                    ok 6 - expect truthy value
                    ok 7 - expect falsey value
                    ok 8 - Are the same validate function
                    ok 9 - type is Function
                    ok 10 - expect truthy value
                    ok 11 - expect falsey value
                    ok 12 - Are the same validate function
                    ok 13 - type is Function
                    ok 14 - expect truthy value
                    ok 15 - expect falsey value
                    ok 16 - should be equal
                ok 2 - Should reuse the validate fn across multiple invocations - Route without schema # time=59.72ms
                
                # Subtest: Should return a function - Route with schema
                    1..3
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                ok 3 - Should return a function - Route with schema # time=60.667ms
                
                # Subtest: Should use the custom validator compiler for the route
                    1..10
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - should be equal
                    ok 5 - should be equal
                    ok 6 - should be equivalent
                    ok 7 - expect truthy value
                    ok 8 - should be equivalent
                    ok 9 - expect truthy value
                    ok 10 - should be equal
                ok 4 - Should use the custom validator compiler for the route # time=16.094ms
                
            ok 1 - \#compileValidationSchema # time=243.423ms
            
            # Subtest: \#getValidationFunction
                1..6
                # Subtest: Should return a validation function
                    1..1
                    ok 1 - should be equal
                ok 1 - Should return a validation function # time=91.744ms
                
                # Subtest: Should return undefined if no schema compiled
                    1..1
                    ok 1 - expect falsey value
                ok 2 - Should return undefined if no schema compiled # time=16.773ms
                
                # Subtest: Should return the validation function from each HTTP part
                    1..15
                    ok 1 - expect truthy value
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                    ok 4 - expect truthy value
                    ok 5 - expect truthy value
                    ok 6 - expect falsey value
                    ok 7 - expect truthy value
                    ok 8 - expect truthy value
                    ok 9 - expect truthy value
                    ok 10 - expect truthy value
                    ok 11 - expect falsey value
                    ok 12 - should be equal
                    ok 13 - expect truthy value
                    ok 14 - expect falsey value
                    ok 15 - should be equal
                ok 3 - Should return the validation function from each HTTP part # time=90.564ms
                
                # Subtest: Should return a validation function - nested
                    1..6
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - expect falsey value
                    ok 5 - should be equal
                    ok 6 - should be equal
                ok 4 - Should return a validation function - nested # time=15.643ms
                
                # Subtest: Should return undefined if no schema compiled - nested
                    1..3
                    ok 1 - should be equal
                    ok 2 - expect falsey value
                    ok 3 - should be equal
                ok 5 - Should return undefined if no schema compiled - nested # time=11.831ms
                
                # Subtest: Should per-route defined validation compiler
                    1..5
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should not be equal
                    ok 4 - should be equal
                    ok 5 - should be equal
                ok 6 - Should per-route defined validation compiler # time=8.093ms
                
            ok 2 - \#getValidationFunction # time=258.923ms
            
            # Subtest: \#validate
                1..3
                # Subtest: Should return true/false if input valid - Route without schema
                    1..2
                    ok 1 - expect falsey value
                    ok 2 - expect truthy value
                ok 1 - Should return true/false if input valid - Route without schema # time=80.565ms
                
                # Subtest: Should use the custom validator compiler for the route
                    1..10
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - should be equal
                    ok 5 - should be equivalent
                    ok 6 - should be equivalent
                    ok 7 - expect truthy value
                    ok 8 - expect truthy value
                    ok 9 - should be equal
                    ok 10 - should be equal
                ok 2 - Should use the custom validator compiler for the route # time=8.313ms
                
                # Subtest: Should return true/false if input valid - With Schema for Route defined and scoped validator compiler
                    1..13
                    ok 1 - expect truthy value
                    ok 2 - expect falsey value
                    ok 3 - expect falsey value
                    ok 4 - expect truthy value
                    ok 5 - expect falsey value
                    ok 6 - expect truthy value
                    ok 7 - expect truthy value
                    ok 8 - expect falsey value
                    ok 9 - should be equal
                    ok 10 - should be equal
                    ok 11 - should be equal
                    ok 12 - should be equal
                    ok 13 - should be equal
                ok 3 - Should return true/false if input valid - With Schema for Route defined and scoped validator compiler # time=74.795ms
                
            ok 3 - \#validate # time=171.684ms
            
        ok 1 - Level_1 # time=681.117ms
        
    ok 4 - Nested Context # time=686.043ms
    
    1..4
    # time=1583.349ms
ok 60 - test/internals/request-validate.test.js # time=1583.349ms

# Subtest: test/internals/request.test.js
    # Subtest: Regular request
        ok 1 - type is Request
        ok 2 - type is Function
        ok 3 - type is Function
        ok 4 - type is Function
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        1..19
    ok 1 - Regular request # time=16.04ms
    
    # Subtest: Regular request - hostname from authority
        1..2
        ok 1 - type is Request
        ok 2 - should be equal
    ok 2 - Regular request - hostname from authority # time=1.812ms
    
    # Subtest: Regular request - host header has precedence over authority
        1..2
        ok 1 - type is Request
        ok 2 - should be equal
    ok 3 - Regular request - host header has precedence over authority # time=1.387ms
    
    # Subtest: Request with trust proxy
        1..18
        ok 1 - type is _Request
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - type is Function
        ok 17 - type is Function
        ok 18 - type is Function
    ok 4 - Request with trust proxy # time=11.649ms
    
    # Subtest: Request with trust proxy, encrypted
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 5 - Request with trust proxy, encrypted # time=1.661ms
    
    # Subtest: Request with trust proxy - no x-forwarded-host header
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 6 - Request with trust proxy - no x-forwarded-host header # time=1.344ms
    
    # Subtest: Request with trust proxy - no x-forwarded-host header and fallback to authority
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 7 - Request with trust proxy - no x-forwarded-host header and fallback to authority # time=1.345ms
    
    # Subtest: Request with trust proxy - x-forwarded-host header has precedence over host
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 8 - Request with trust proxy - x-forwarded-host header has precedence over host # time=1.596ms
    
    # Subtest: Request with trust proxy - handles multiple entries in x-forwarded-host/proto
        1..3
        ok 1 - type is _Request
        ok 2 - should be equal
        ok 3 - should be equal
    ok 9 - Request with trust proxy - handles multiple entries in x-forwarded-host/proto # time=1.619ms
    
    # Subtest: Request with trust proxy - plain
        1..1
        ok 1 - should be equivalent
    ok 10 - Request with trust proxy - plain # time=8.782ms
    
    # Subtest: Request with undefined socket
        1..18
        ok 1 - type is Request
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equivalent
        ok 16 - type is Function
        ok 17 - type is Function
        ok 18 - type is Function
    ok 11 - Request with undefined socket # time=9.617ms
    
    # Subtest: Request with trust proxy and undefined socket
        1..1
        ok 1 - should be equivalent
    ok 12 - Request with trust proxy and undefined socket # time=0.746ms
    
    1..12
    # time=130.244ms
ok 61 - test/internals/request.test.js # time=130.244ms

# Subtest: test/internals/server.test.js
    # Subtest: start listening
        ok 1 - server started
        1..1
    ok 1 - start listening # time=40.787ms
    
    # Subtest: DNS errors does not stop the main server on localhost - promise interface
        ok 1 - server started
        1..1
    ok 2 - DNS errors does not stop the main server on localhost - promise interface # time=17.465ms
    
    # Subtest: DNS errors does not stop the main server on localhost - callback interface
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 3 - DNS errors does not stop the main server on localhost - callback interface # time=27.999ms
    
    # Subtest: DNS returns empty binding
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 4 - DNS returns empty binding # time=25.327ms
    
    # Subtest: DNS returns more than two binding
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 5 - DNS returns more than two binding # time=14.844ms
    
    1..5
    # time=133.98ms
ok 62 - test/internals/server.test.js # time=133.98ms

# Subtest: test/internals/validation.test.js
    # Subtest: Symbols
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 1 - Symbols # time=7.017ms
    
    # Subtest: compileSchemasForValidation schema - missing schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - compileSchemasForValidation schema - missing schema # time=1.787ms
    
    # Subtest: compileSchemasForValidation schema - missing output schema
        1..1
        ok 1 - should be equal
    ok 3 - compileSchemasForValidation schema - missing output schema # time=0.946ms
    
    # Subtest: compileSchemasForSerialization schema - missing schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - compileSchemasForSerialization schema - missing schema # time=1.36ms
    
    # Subtest: compileSchemasForSerialization schema - missing output schema
        1..1
        ok 1 - should be equal
    ok 5 - compileSchemasForSerialization schema - missing output schema # time=0.58ms
    
    # Subtest: build schema - output schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 6 - build schema - output schema # time=63.228ms
    
    # Subtest: build schema - payload schema
        1..1
        ok 1 - should be equal
    ok 7 - build schema - payload schema # time=1.981ms
    
    # Subtest: build schema - avoid repeated normalize schema
        1..3
        ok 1 - should not be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 8 - build schema - avoid repeated normalize schema # time=1.458ms
    
    # Subtest: build schema - query schema
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 9 - build schema - query schema # time=12.274ms
    
    # Subtest: build schema - query schema abbreviated
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 10 - build schema - query schema abbreviated # time=2.818ms
    
    # Subtest: build schema - querystring schema
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 11 - build schema - querystring schema # time=2.587ms
    
    # Subtest: build schema - querystring schema abbreviated
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 12 - build schema - querystring schema abbreviated # time=2.606ms
    
    # Subtest: build schema - must throw if querystring and query schema exist
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 13 - build schema - must throw if querystring and query schema exist # time=1.734ms
    
    # Subtest: build schema - params schema
        1..1
        ok 1 - should be equal
    ok 14 - build schema - params schema # time=2.255ms
    
    # Subtest: build schema - headers schema
        1..1
        ok 1 - should be equal
    ok 15 - build schema - headers schema # time=2.397ms
    
    # Subtest: build schema - headers are lowercase
        1..1
        ok 1 - lowercase content-type exists
    ok 16 - build schema - headers are lowercase # time=1.264ms
    
    # Subtest: build schema - headers are not lowercased in case of custom object
        1..1
        ok 1 - type is Headers
    ok 17 - build schema - headers are not lowercased in case of custom object # time=1.009ms
    
    # Subtest: build schema - uppercased headers are not included
        1..1
        ok 1 - uppercase does not exist
    ok 18 - build schema - uppercased headers are not included # time=0.971ms
    
    1..18
    # time=179.711ms
ok 63 - test/internals/validation.test.js # time=179.711ms

# Subtest: test/keepAliveTimeout.test.js
    # Subtest: keepAliveTimeout
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not be equal
        ok 6 - should be equal
    ok 1 - keepAliveTimeout # time=40.231ms
    
    1..1
    # time=45.622ms
ok 64 - test/keepAliveTimeout.test.js # time=45.622ms

# Subtest: test/listen.deprecated.test.js
    # Subtest: listen accepts a port and a callback
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 1 - listen accepts a port and a callback # time=30.501ms
    
    # Subtest: listen accepts a port and a callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 2 - listen accepts a port and a callback with (err, address) # time=5.549ms
    
    # Subtest: listen accepts a port, address, and callback
        1..1
        ok 1 - should not error
    ok 3 - listen accepts a port, address, and callback # time=16.16ms
    
    # Subtest: listen accepts options, backlog and a callback
        1..1
        ok 1 - should not error
    ok 4 - listen accepts options, backlog and a callback # time=10.709ms
    
    # Subtest: listen accepts options (no port), backlog and a callback
        1..1
        ok 1 - should not error
    ok 5 - listen accepts options (no port), backlog and a callback # time=11.189ms
    
    # Subtest: listen accepts options (no host), backlog and a callback
        1..1
        ok 1 - should not error
    ok 6 - listen accepts options (no host), backlog and a callback # time=4.145ms
    
    # Subtest: listen accepts options (no port, no host), backlog and a callback
        1..1
        ok 1 - should not error
    ok 7 - listen accepts options (no port, no host), backlog and a callback # time=20.905ms
    
    # Subtest: listen accepts a port, address and a callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 8 - listen accepts a port, address and a callback with (err, address) # time=5.469ms
    
    # Subtest: listen accepts a port, address, backlog and callback
        1..1
        ok 1 - should not error
    ok 9 - listen accepts a port, address, backlog and callback # time=4.965ms
    
    # Subtest: listen accepts a port, address, backlog and callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 10 - listen accepts a port, address, backlog and callback with (err, address) # time=9.283ms
    
    # Subtest: listen without callback (port zero)
        1..1
        ok 1 - should be equal
    ok 11 - listen without callback (port zero) # time=5.217ms
    
    # Subtest: listen without callback (port not given)
        1..1
        ok 1 - should be equal
    ok 12 - listen without callback (port not given) # time=3.946ms
    
    # Subtest: listen null without callback with (address)
        1..1
        ok 1 - should be equal
    ok 13 - listen null without callback with (address) # time=4.089ms
    
    # Subtest: listen without port without callback with (address)
        1..1
        ok 1 - should be equal
    ok 14 - listen without port without callback with (address) # time=3.71ms
    
    # Subtest: listen with undefined without callback with (address)
        1..1
        ok 1 - should be equal
    ok 15 - listen with undefined without callback with (address) # time=3.814ms
    
    # Subtest: listen when firstArg is string(pipe) and without backlog
        1..1
        ok 1 - should be equal
    ok 16 - listen when firstArg is string(pipe) and without backlog # time=5.126ms
    
    # Subtest: listen when firstArg is string(pipe) and with backlog
        1..1
        ok 1 - should be equal
    ok 17 - listen when firstArg is string(pipe) and with backlog # time=7.036ms
    
    # Subtest: listen when firstArg is { path: string(pipe) } and with backlog and callback
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 18 - listen when firstArg is { path: string(pipe) } and with backlog and callback # time=3.695ms
    
    1..18
    # time=282.706ms
ok 65 - test/listen.deprecated.test.js # time=282.706ms

# Subtest: test/listen.test.js
    # Subtest: listen works without arguments
        ok 1 - should be equal
        ok 2 - expect truthy value
        1..2
    ok 1 - listen works without arguments # time=30.158ms
    
    # Subtest: Async/await listen with arguments
        1..1
        ok 1 - should be equal
    ok 2 - Async/await listen with arguments # time=4.774ms
    
    # Subtest: Promise listen with arguments
        1..1
        ok 1 - should be equal
    ok 3 - Promise listen with arguments # time=19.029ms
    
    # Subtest: listen accepts a callback
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 4 - listen accepts a callback # time=9.557ms
    
    # Subtest: listen accepts options and a callback
        1..1
        ok 1 - should not error
    ok 5 - listen accepts options and a callback # time=10.61ms
    
    # Subtest: listen after Promise.resolve()
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 6 - listen after Promise.resolve() # time=4.302ms
    
    # Subtest: register after listen using Promise.resolve()
        1..1
        ok 1 - resolved
    ok 7 - register after listen using Promise.resolve() # time=11.353ms
    
    # Subtest: double listen errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
    ok 8 - double listen errors # time=4.663ms
    
    # Subtest: double listen errors callback with (err, address)
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 9 - double listen errors callback with (err, address) # time=5.152ms
    
    # Subtest: listen twice on the same port
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 10 - listen twice on the same port # time=25.228ms
    
    # Subtest: listen twice on the same port callback with (err, address)
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 11 - listen twice on the same port callback with (err, address) # time=25.818ms
    
    # Subtest: listen on socket
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent strictly
        ok 3 - should be equal
    ok 12 - listen on socket # time=11.781ms
    
    # Subtest: listen without callback with (address)
        1..1
        ok 1 - should be equal
    ok 13 - listen without callback with (address) # time=8.981ms
    
    # Subtest: double listen without callback rejects
        1..1
        ok 1 - expect truthy value
    ok 14 - double listen without callback rejects # time=28.501ms
    
    # Subtest: double listen without callback with (address)
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 15 - double listen without callback with (address) # time=13.413ms
    
    # Subtest: listen twice on the same port without callback rejects
        1..1
        ok 1 - expect truthy value
    ok 16 - listen twice on the same port without callback rejects # time=5.905ms
    
    # Subtest: listen twice on the same port without callback rejects with (address)
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 17 - listen twice on the same port without callback rejects with (address) # time=6.074ms
    
    # Subtest: listen on invalid port without callback rejects
        ok 1 - expect truthy value
        1..1
    ok 18 - listen on invalid port without callback rejects # time=2.809ms
    
    # Subtest: listen logs the port as info
        1..1
        ok 1 - expect truthy value
    ok 19 - listen logs the port as info # time=3.019ms
    
    # Subtest: listen on localhost binds IPv4 and IPv6 - promise interface
        1..2
        ok 1 - should be equal
        ok 2 - should be equivalent
    ok 20 - listen on localhost binds IPv4 and IPv6 - promise interface # time=23.422ms
    
    # Subtest: listen on localhost binds to all interfaces (both IPv4 and IPv6 if present) - callback interface
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 21 - listen on localhost binds to all interfaces (both IPv4 and IPv6 if present) - callback interface # time=8.965ms
    
    # Subtest: addresses getter
        1..4
        ok 1 - before ready
        ok 2 - after ready
        ok 3 - after listen
        ok 4 - after close
    ok 22 - addresses getter # time=7.492ms
    
    1..22
    # time=360.832ms
ok 66 - test/listen.test.js # time=360.832ms

# Subtest: test/logger.test.js
    # Subtest: defaults to info level
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
        ok 13 - responseTime is defined
        1..13
    ok 1 - defaults to info level # time=60.939ms
    
    # Subtest: test log stream
        1..12
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
    ok 2 - test log stream # time=17.391ms
    
    # Subtest: test error log stream
        1..11
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - reqId is defined
        ok 9 - res is defined
        ok 10 - message is set
        ok 11 - statusCode is 500
    ok 3 - test error log stream # time=66.856ms
    
    # Subtest: can use external logger instance
        1..6
        ok 1 - "Server listening at http://127.0.0.1:34509" dont match "/^Server listening at /"
        ok 2 - should not error
        ok 3 - "incoming request" dont match "/^incoming request$/"
        ok 4 - expect truthy value
        ok 5 - "log success" dont match "/^log success$/"
        ok 6 - "request completed" dont match "/^request completed$/"
    ok 4 - can use external logger instance # time=30.321ms
    
    # Subtest: can use external logger instance with custom serializer
        1..6
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - expect truthy value
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 5 - can use external logger instance with custom serializer # time=17.606ms
    
    # Subtest: expose the logger
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equivalent
    ok 6 - expose the logger # time=3.009ms
    
    # Subtest: The request id header key can be customized
        1..9
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - message is set
        ok 6 - should be equal
        ok 7 - message is set
        ok 8 - should be equal
        ok 9 - message is set
    ok 7 - The request id header key can be customized # time=38.944ms
    
    # Subtest: The request id header key can be customized along with a custom id generator
        1..12
        ok 1 - should match pattern provided
        ok 2 - should be equal
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should be equal
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
    ok 8 - The request id header key can be customized along with a custom id generator # time=45.342ms
    
    # Subtest: The request id log label can be changed
        1..6
        ok 1 - should match pattern provided
        ok 2 - should be equal
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should not error
        ok 6 - should be equal
    ok 9 - The request id log label can be changed # time=10.581ms
    
    # Subtest: The logger should accept custom serializer
        1..9
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - req is defined
        ok 4 - message is set
        ok 5 - custom req serializer is use
        ok 6 - expect truthy value
        ok 7 - res is defined
        ok 8 - message is set
        ok 9 - default res serializer is use
    ok 10 - The logger should accept custom serializer # time=34.853ms
    
    # Subtest: reply.send logs an error if called twice in a row
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
    ok 11 - reply.send logs an error if called twice in a row # time=42.503ms
    
    # Subtest: logger can be silented
        1..17
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equivalent
        ok 10 - should be equivalent
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equivalent
        ok 14 - should be equivalent
        ok 15 - should be equivalent
        ok 16 - should be equivalent
        ok 17 - should be equivalent
    ok 12 - logger can be silented # time=7.391ms
    
    # Subtest: Should set a custom logLevel for a plugin
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equivalent
    ok 13 - Should set a custom logLevel for a plugin # time=13.006ms
    
    # Subtest: Should set a custom logSerializers for a plugin
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 14 - Should set a custom logSerializers for a plugin # time=11.419ms
    
    # Subtest: Should set a custom logLevel for every plugin
        1..18
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equivalent
        ok 15 - should not error
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equivalent
    ok 15 - Should set a custom logLevel for every plugin # time=17.624ms
    
    # Subtest: Should set a custom logSerializers for every plugin
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 16 - Should set a custom logSerializers for every plugin # time=14.299ms
    
    # Subtest: Should override serializers from route
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 17 - Should override serializers from route # time=8.256ms
    
    # Subtest: Should override serializers from plugin
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 18 - Should override serializers from plugin # time=14.54ms
    
    # Subtest: Should use serializers from plugin and route
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 19 - Should use serializers from plugin and route # time=11.179ms
    
    # Subtest: Should use serializers from instance fastify and route
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 20 - Should use serializers from instance fastify and route # time=7.015ms
    
    # Subtest: Should use serializers inherit from contexts
        1..5
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 21 - Should use serializers inherit from contexts # time=16.792ms
    
    # Subtest: Should increase the log level for a specific plugin
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 22 - Should increase the log level for a specific plugin # time=9.744ms
    
    # Subtest: Should set the log level for the customized 404 handler
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 23 - Should set the log level for the customized 404 handler # time=6.845ms
    
    # Subtest: Should set the log level for the customized 500 handler
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 24 - Should set the log level for the customized 500 handler # time=18.321ms
    
    # Subtest: Should set a custom log level for a specific route
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equivalent
    ok 25 - Should set a custom log level for a specific route # time=17.155ms
    
    # Subtest: The default 404 handler logs the incoming request
        1..5
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
    ok 26 - The default 404 handler logs the incoming request # time=8.504ms
    
    # Subtest: should serialize request and response
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 27 - should serialize request and response # time=5.872ms
    
    # Subtest: Wrap IPv6 address in listening log message
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 28 - Wrap IPv6 address in listening log message # time=3.509ms
    
    # Subtest: Do not wrap IPv4 address
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 29 - Do not wrap IPv4 address # time=3.537ms
    
    # Subtest: file option
        1..13
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - listen at log message is ok
        ok 4 - reqId is defined
        ok 5 - req is defined
        ok 6 - message is set
        ok 7 - method is get
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
        ok 13 - responseTime is defined
    ok 30 - file option # time=26.919ms
    
    # Subtest: should log the error if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 31 - should log the error if no error handler is defined # time=9.944ms
    
    # Subtest: should log as info if error status code >= 400 and < 500 if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 32 - should log as info if error status code >= 400 and < 500 if no error handler is defined # time=9.824ms
    
    # Subtest: should log as error if error status code >= 500 if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 33 - should log as error if error status code >= 500 if no error handler is defined # time=9.226ms
    
    # Subtest: should not log the error if error handler is defined and it does not error
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - level is correct
        ok 7 - message is set
        ok 8 - status code is set
    ok 34 - should not log the error if error handler is defined and it does not error # time=8.614ms
    
    # Subtest: should not rely on raw request to log errors
        1..7
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - status code is set
    ok 35 - should not rely on raw request to log errors # time=8.523ms
    
    # Subtest: should redact the authorization header if so specified
        1..7
        ok 1 - listen at log message is ok
        ok 2 - should not error
        ok 3 - authorization is redacted
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 36 - should redact the authorization header if so specified # time=18.378ms
    
    # Subtest: should not log incoming request and outgoing response when disabled
        1..3
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should be equivalent
    ok 37 - should not log incoming request and outgoing response when disabled # time=5.853ms
    
    # Subtest: should not log incoming request and outgoing response for 404 onBadUrl when disabled
        1..1
        ok 1 - should be equivalent
    ok 38 - should not log incoming request and outgoing response for 404 onBadUrl when disabled # time=3.788ms
    
    # Subtest: should pass when using unWritable props in the logger option
        1..1
        ok 1 - (unnamed test)
    ok 39 - should pass when using unWritable props in the logger option # time=6.347ms
    
    # Subtest: should be able to use a custom logger
        1..1
        ok 1 - (unnamed test)
    ok 40 - should be able to use a custom logger # time=10.232ms
    
    # Subtest: should create a default logger if provided one is invalid
        1..1
        ok 1 - (unnamed test)
    ok 41 - should create a default logger if provided one is invalid # time=1.319ms
    
    # Subtest: should not throw error when serializing custom req
        1..1
        ok 1 - should be equivalent
    ok 42 - should not throw error when serializing custom req # time=1.651ms
    
    1..42
    # time=833.795ms
ok 67 - test/logger.test.js # time=833.795ms

# Subtest: test/maxRequestsPerSocket.test.js
    # Subtest: maxRequestsPerSocket on node version >= 16.10.0
        1..8
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should match pattern provided
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
    ok 1 - maxRequestsPerSocket on node version >= 16.10.0 # time=74.133ms
    
    # Subtest: maxRequestsPerSocket zero should behave same as null
        1..10
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should match pattern provided
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
        ok 9 - should match pattern provided
        ok 10 - should match pattern provided
    ok 2 - maxRequestsPerSocket zero should behave same as null # time=18.001ms
    
    # Subtest: maxRequestsPerSocket should be set
        1..1
        ok 1 - should be equivalent
    ok 3 - maxRequestsPerSocket should be set # time=2.525ms
    
    # Subtest: maxRequestsPerSocket should 0
        1..1
        ok 1 - should be equivalent
    ok 4 - maxRequestsPerSocket should 0 # time=1.778ms
    
    # Subtest: requestTimeout passed to server
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 5 - requestTimeout passed to server # time=13.719ms
    
    1..5
    # time=121.149ms
ok 68 - test/maxRequestsPerSocket.test.js # time=121.149ms

# Subtest: test/middleware.test.js
    # Subtest: Should be able to override the default use API
        1..1
        ok 1 - should be equal
    ok 1 - Should be able to override the default use API # time=15.112ms
    
    # Subtest: Cannot decorate use twice
        1..1
        ok 1 - expect truthy value
    ok 2 - Cannot decorate use twice # time=2.672ms
    
    # Subtest: Encapsulation works
        1..1
        ok 1 - should be equal
    ok 3 - Encapsulation works # time=12.322ms
    
    1..3
    # time=42.688ms
ok 69 - test/middleware.test.js # time=42.688ms

# Subtest: test/noop-set.test.js
    # Subtest: does a lot of nothing
        ok 1 - type is object
        ok 2 - should be equal
        1..2
    ok 1 - does a lot of nothing # time=7.756ms
    
    1..1
    # time=13.307ms
ok 70 - test/noop-set.test.js # time=13.307ms

# Subtest: test/nullable-validation.test.js
    # Subtest: nullable string
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 1 - nullable string # time=152.587ms
    
    # Subtest: object or null body
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 2 - object or null body # time=55.96ms
    
    # Subtest: nullable body
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 3 - nullable body # time=50.198ms
    
    # Subtest: Nullable body with 204
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 4 - Nullable body with 204 # time=30.918ms
    
    1..4
    # time=297.707ms
ok 71 - test/nullable-validation.test.js # time=297.707ms

# Subtest: test/options.error-handler.test.js
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - OPTIONS can be created # time=9.088ms
    
    # Subtest: OPTIONS without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - OPTIONS without schema can be created # time=1.951ms
    
    # Subtest: OPTIONS with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - OPTIONS with body and querystring # time=1.473ms
    
    # Subtest: OPTIONS with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - OPTIONS with bodyLimit option # time=3.156ms
    
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - OPTIONS can be created # time=3.224ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - OPTIONS - correctly replies # time=57.399ms
    
    # Subtest: OPTIONS - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - OPTIONS - correctly replies with very large body # time=8.835ms
    
    # Subtest: OPTIONS - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - OPTIONS - correctly replies if the content type has the charset # time=5.396ms
    
    # Subtest: OPTIONS without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - OPTIONS without schema - correctly replies # time=5.055ms
    
    # Subtest: OPTIONS with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - OPTIONS with body and querystring - correctly replies # time=5.342ms
    
    # Subtest: OPTIONS with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - OPTIONS with no body - correctly replies # time=35.306ms
    
    # Subtest: OPTIONS returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - OPTIONS returns 415 - incorrect media type if body is not json # time=5.334ms
    
    # Subtest: OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text # time=6.13ms
    
    # Subtest: OPTIONS returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 14 - OPTIONS returns 400 - Bad Request # time=7.937ms
    
    # Subtest: OPTIONS returns 413 - Payload Too Large
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - OPTIONS returns 413 - Payload Too Large # time=6.751ms
    
    # Subtest: OPTIONS should fail with empty body and application/json content-type
        1..0
    ok 16 - OPTIONS should fail with empty body and application/json content-type # time=0.605ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - OPTIONS - correctly replies # time=5.903ms
    
    # Subtest: OPTIONS - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - OPTIONS - 400 on bad parameters # time=5.318ms
    
    # Subtest: OPTIONS - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - OPTIONS - input-validation coerce # time=4.265ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - OPTIONS - input-validation custom schema compiler # time=4.276ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - OPTIONS - input-validation joi schema compiler ok # time=6.055ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - OPTIONS - input-validation joi schema compiler ko # time=6.384ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - OPTIONS - input-validation yup schema compiler ok # time=6.312ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - OPTIONS - input-validation yup schema compiler ko # time=5.602ms
    
    # Subtest: OPTIONS - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - OPTIONS - input-validation instance custom schema compiler encapsulated # time=4.003ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 26 - OPTIONS - input-validation custom schema compiler encapsulated # time=3.852ms
    
    ok 27 - type is object
    ok 28 - type is Request
    ok 29 - type is object
    ok 30 - type is Request
    ok 31 - type is object
    ok 32 - type is Request
    ok 33 - type is object
    ok 34 - type is Request
    ok 35 - type is object
    ok 36 - type is Request
    1..36
    # time=1522.956ms
ok 72 - test/options.error-handler.test.js # time=1522.956ms

# Subtest: test/options.test.js
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - OPTIONS can be created # time=9.5ms
    
    # Subtest: OPTIONS without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - OPTIONS without schema can be created # time=2.259ms
    
    # Subtest: OPTIONS with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - OPTIONS with body and querystring # time=1.779ms
    
    # Subtest: OPTIONS with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - OPTIONS with bodyLimit option # time=1.963ms
    
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - OPTIONS can be created # time=2.622ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - OPTIONS - correctly replies # time=71.583ms
    
    # Subtest: OPTIONS - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - OPTIONS - correctly replies with very large body # time=9.137ms
    
    # Subtest: OPTIONS - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - OPTIONS - correctly replies if the content type has the charset # time=5.257ms
    
    # Subtest: OPTIONS without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - OPTIONS without schema - correctly replies # time=4.922ms
    
    # Subtest: OPTIONS with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - OPTIONS with body and querystring - correctly replies # time=5.52ms
    
    # Subtest: OPTIONS with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - OPTIONS with no body - correctly replies # time=26.504ms
    
    # Subtest: OPTIONS returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - OPTIONS returns 415 - incorrect media type if body is not json # time=4.232ms
    
    # Subtest: OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text # time=5.333ms
    
    # Subtest: OPTIONS returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 14 - OPTIONS returns 400 - Bad Request # time=7.311ms
    
    # Subtest: OPTIONS returns 413 - Payload Too Large
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - OPTIONS returns 413 - Payload Too Large # time=6.756ms
    
    # Subtest: OPTIONS should fail with empty body and application/json content-type
        1..0
    ok 16 - OPTIONS should fail with empty body and application/json content-type # time=0.599ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - OPTIONS - correctly replies # time=5.555ms
    
    # Subtest: OPTIONS - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - OPTIONS - 400 on bad parameters # time=5.088ms
    
    # Subtest: OPTIONS - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - OPTIONS - input-validation coerce # time=4.406ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - OPTIONS - input-validation custom schema compiler # time=4.319ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - OPTIONS - input-validation joi schema compiler ok # time=6.134ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - OPTIONS - input-validation joi schema compiler ko # time=6.147ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - OPTIONS - input-validation yup schema compiler ok # time=6.266ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - OPTIONS - input-validation yup schema compiler ko # time=5.363ms
    
    # Subtest: OPTIONS - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - OPTIONS - input-validation instance custom schema compiler encapsulated # time=3.953ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 26 - OPTIONS - input-validation custom schema compiler encapsulated # time=3.969ms
    
    1..26
    # time=1026.344ms
ok 73 - test/options.test.js # time=1026.344ms

# Subtest: test/output-validation.test.js
    # Subtest: shorthand - output string
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - output string # time=10.337ms
    
    # Subtest: shorthand - output number
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - output number # time=2.634ms
    
    # Subtest: wrong object for schema - output
        1..1
        ok 1 - (unnamed test)
    ok 3 - wrong object for schema - output # time=2.542ms
    
    # Subtest: empty response
        1..1
        ok 1 - (unnamed test)
    ok 4 - empty response # time=2.397ms
    
    # Subtest: unlisted response code
        1..1
        ok 1 - (unnamed test)
    ok 5 - unlisted response code # time=2.182ms
    
    ok 6 - should not error
    # Subtest: shorthand - string get ok
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - shorthand - string get ok # time=37.964ms
    
    # Subtest: shorthand - number get ok
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 8 - shorthand - number get ok # time=7.474ms
    
    # Subtest: shorthand - wrong-object-for-schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 9 - shorthand - wrong-object-for-schema # time=7.527ms
    
    # Subtest: shorthand - empty
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - shorthand - empty # time=4.554ms
    
    # Subtest: shorthand - 400
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - shorthand - 400 # time=5.632ms
    
    1..11
    # time=202.109ms
ok 74 - test/output-validation.test.js # time=202.109ms

# Subtest: test/patch.error-handler.test.js
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PATCH can be created # time=9.197ms
    
    # Subtest: PATCH without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PATCH without schema can be created # time=1.964ms
    
    # Subtest: PATCH with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PATCH with body and querystring # time=1.49ms
    
    # Subtest: PATCH with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PATCH with bodyLimit option # time=1.649ms
    
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - PATCH can be created # time=3.077ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - PATCH - correctly replies # time=63.562ms
    
    # Subtest: PATCH - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - PATCH - correctly replies with very large body # time=9.145ms
    
    # Subtest: PATCH - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - PATCH - correctly replies if the content type has the charset # time=5.51ms
    
    # Subtest: PATCH without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - PATCH without schema - correctly replies # time=5.281ms
    
    # Subtest: PATCH with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - PATCH with body and querystring - correctly replies # time=5.459ms
    
    # Subtest: PATCH with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - PATCH with no body - correctly replies # time=36.161ms
    
    # Subtest: PATCH returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - PATCH returns 415 - incorrect media type if body is not json # time=6.688ms
    
    # Subtest: PATCH returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 13 - PATCH returns 400 - Bad Request # time=8.386ms
    
    # Subtest: PATCH returns 413 - Payload Too Large
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 14 - PATCH returns 413 - Payload Too Large # time=15.853ms
    
    # Subtest: PATCH should fail with empty body and application/json content-type
        1..12
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
    ok 15 - PATCH should fail with empty body and application/json content-type # time=23.627ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - PATCH - correctly replies # time=6.841ms
    
    # Subtest: PATCH - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - PATCH - 400 on bad parameters # time=5.054ms
    
    # Subtest: PATCH - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - PATCH - input-validation coerce # time=4.599ms
    
    # Subtest: PATCH - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - PATCH - input-validation custom schema compiler # time=4.699ms
    
    # Subtest: PATCH - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - PATCH - input-validation joi schema compiler ok # time=5.937ms
    
    # Subtest: PATCH - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - PATCH - input-validation joi schema compiler ko # time=5.304ms
    
    # Subtest: PATCH - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - PATCH - input-validation yup schema compiler ok # time=5.277ms
    
    # Subtest: PATCH - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - PATCH - input-validation yup schema compiler ko # time=5.003ms
    
    # Subtest: PATCH - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - PATCH - input-validation instance custom schema compiler encapsulated # time=3.566ms
    
    # Subtest: PATCH - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - PATCH - input-validation custom schema compiler encapsulated # time=3.975ms
    
    ok 26 - type is object
    ok 27 - type is Request
    ok 28 - type is object
    ok 29 - type is Request
    ok 30 - type is object
    ok 31 - type is Request
    ok 32 - type is object
    ok 33 - type is Request
    ok 34 - type is object
    ok 35 - type is Request
    ok 36 - type is object
    ok 37 - type is Request
    ok 38 - type is object
    ok 39 - type is Request
    ok 40 - type is object
    ok 41 - type is Request
    ok 42 - type is object
    ok 43 - type is Request
    ok 44 - type is object
    ok 45 - type is Request
    ok 46 - type is object
    ok 47 - type is Request
    ok 48 - type is object
    ok 49 - type is Request
    1..49
    # time=1040.134ms
ok 75 - test/patch.error-handler.test.js # time=1040.134ms

# Subtest: test/patch.test.js
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PATCH can be created # time=9.638ms
    
    # Subtest: PATCH without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PATCH without schema can be created # time=1.954ms
    
    # Subtest: PATCH with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PATCH with body and querystring # time=1.521ms
    
    # Subtest: PATCH with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PATCH with bodyLimit option # time=1.737ms
    
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - PATCH can be created # time=2.457ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - PATCH - correctly replies # time=56.726ms
    
    # Subtest: PATCH - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - PATCH - correctly replies with very large body # time=9.811ms
    
    # Subtest: PATCH - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - PATCH - correctly replies if the content type has the charset # time=5.894ms
    
    # Subtest: PATCH without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - PATCH without schema - correctly replies # time=5.545ms
    
    # Subtest: PATCH with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - PATCH with body and querystring - correctly replies # time=6.931ms
    
    # Subtest: PATCH with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - PATCH with no body - correctly replies # time=31.146ms
    
    # Subtest: PATCH returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - PATCH returns 415 - incorrect media type if body is not json # time=6.318ms
    
    # Subtest: PATCH returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 13 - PATCH returns 400 - Bad Request # time=8.462ms
    
    # Subtest: PATCH returns 413 - Payload Too Large
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 14 - PATCH returns 413 - Payload Too Large # time=15.226ms
    
    # Subtest: PATCH should fail with empty body and application/json content-type
        1..12
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
    ok 15 - PATCH should fail with empty body and application/json content-type # time=21.561ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - PATCH - correctly replies # time=5.738ms
    
    # Subtest: PATCH - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - PATCH - 400 on bad parameters # time=5.151ms
    
    # Subtest: PATCH - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - PATCH - input-validation coerce # time=4.457ms
    
    # Subtest: PATCH - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - PATCH - input-validation custom schema compiler # time=4.629ms
    
    # Subtest: PATCH - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - PATCH - input-validation joi schema compiler ok # time=6.084ms
    
    # Subtest: PATCH - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - PATCH - input-validation joi schema compiler ko # time=6.181ms
    
    # Subtest: PATCH - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - PATCH - input-validation yup schema compiler ok # time=19.335ms
    
    # Subtest: PATCH - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - PATCH - input-validation yup schema compiler ko # time=9.252ms
    
    # Subtest: PATCH - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - PATCH - input-validation instance custom schema compiler encapsulated # time=3.702ms
    
    # Subtest: PATCH - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - PATCH - input-validation custom schema compiler encapsulated # time=3.602ms
    
    1..25
    # time=1115.318ms
ok 76 - test/patch.test.js # time=1115.318ms

# Subtest: test/plugin.test.js
    # Subtest: require a plugin
        1..1
        ok 1 - expect truthy value
    ok 1 - require a plugin # time=105.036ms
    
    # Subtest: plugin metadata - ignore prefix
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 2 - plugin metadata - ignore prefix # time=41.035ms
    
    # Subtest: plugin metadata - naming plugins
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 3 - plugin metadata - naming plugins # time=10.357ms
    
    # Subtest: fastify.register with fastify-plugin should not encapsulate his code
        1..10
        ok 1 - expect falsey value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 4 - fastify.register with fastify-plugin should not encapsulate his code # time=93.553ms
    
    # Subtest: fastify.register with fastify-plugin should provide access to external fastify instance if opts argument is a function
        1..22
        ok 1 - expect falsey value
        ok 2 - expect falsey value
        ok 3 - expect falsey value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect falsey value
        ok 10 - expect truthy value
        ok 11 - expect falsey value
        ok 12 - expect truthy value
        ok 13 - expect truthy value
        ok 14 - should be equal
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - should not error
        ok 18 - expect truthy value
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equal
        ok 22 - should be equivalent
    ok 5 - fastify.register with fastify-plugin should provide access to external fastify instance if opts argument is a function # time=80.891ms
    
    # Subtest: fastify.register with fastify-plugin registers fastify level plugins
        1..15
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should not error
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equivalent
    ok 6 - fastify.register with fastify-plugin registers fastify level plugins # time=43.632ms
    
    # Subtest: check dependencies - should not throw
        1..12
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - should not error
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
    ok 7 - check dependencies - should not throw # time=41.762ms
    
    # Subtest: check dependencies - should throw
        1..12
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - should not error
        ok 7 - expect truthy value
        ok 8 - expect falsey value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
    ok 8 - check dependencies - should throw # time=33.547ms
    
    # Subtest: set the plugin name based on the plugin displayName symbol
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
    ok 9 - set the plugin name based on the plugin displayName symbol # time=9.096ms
    
    # Subtest: plugin name will change when using no encapsulation
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
    ok 10 - plugin name will change when using no encapsulation # time=7.037ms
    
    # Subtest: plugin name is undefined when accessing in no plugin context
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 11 - plugin name is undefined when accessing in no plugin context # time=16.651ms
    
    # Subtest: set the plugin name based on the plugin function name
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 12 - set the plugin name based on the plugin function name # time=18.505ms
    
    # Subtest: approximate a plugin name when no meta data is available
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
    ok 13 - approximate a plugin name when no meta data is available # time=7.026ms
    
    # Subtest: approximate a plugin name also when fastify-plugin has no meta data
        1..4
        ok 1 - should match pattern provided
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should not error
    ok 14 - approximate a plugin name also when fastify-plugin has no meta data # time=24.931ms
    
    # Subtest: plugin encapsulation
        1..10
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 15 - plugin encapsulation # time=26.41ms
    
    # Subtest: if a plugin raises an error and there is not a callback to handle it, the server must not start
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 16 - if a plugin raises an error and there is not a callback to handle it, the server must not start # time=11.007ms
    
    # Subtest: add hooks after route declaration
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 17 - add hooks after route declaration # time=11.436ms
    
    # Subtest: nested plugins
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 18 - nested plugins # time=14.876ms
    
    # Subtest: nested plugins awaited
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 19 - nested plugins awaited # time=15.624ms
    
    # Subtest: plugin metadata - decorators
        1..1
        ok 1 - expect truthy value
    ok 20 - plugin metadata - decorators # time=17.169ms
    
    # Subtest: plugin metadata - decorators - should throw
        1..1
        ok 1 - should be equal
    ok 21 - plugin metadata - decorators - should throw # time=3.482ms
    
    # Subtest: plugin metadata - decorators - should throw with plugin name
        1..1
        ok 1 - should be equal
    ok 22 - plugin metadata - decorators - should throw with plugin name # time=3.342ms
    
    # Subtest: plugin metadata - dependencies
        1..1
        ok 1 - everything right
    ok 23 - plugin metadata - dependencies # time=3.419ms
    
    # Subtest: plugin metadata - dependencies (nested)
        1..1
        ok 1 - everything right
    ok 24 - plugin metadata - dependencies (nested) # time=3.965ms
    
    # Subtest: pluginTimeout
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 25 - pluginTimeout # time=16.01ms
    
    # "pluginTimeout - named function" has `only` set but all tests run
    # Subtest: pluginTimeout - named function
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 26 - pluginTimeout - named function # time=14.77ms
    
    # Subtest: pluginTimeout default
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 27 - pluginTimeout default # time=-67538851.598ms
    
    # Subtest: plugin metadata - version
        1..1
        ok 1 - everything right
    ok 28 - plugin metadata - version # time=7.625ms
    
    # Subtest: plugin metadata - version range
        1..1
        ok 1 - everything right
    ok 29 - plugin metadata - version range # time=4.135ms
    
    # Subtest: plugin metadata - version not matching requirement
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 30 - plugin metadata - version not matching requirement # time=3.193ms
    
    # Subtest: plugin metadata - version not matching requirement 2
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 31 - plugin metadata - version not matching requirement 2 # time=3.264ms
    
    # Subtest: plugin metadata - version not matching requirement 3
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 32 - plugin metadata - version not matching requirement 3 # time=3.046ms
    
    # Subtest: plugin metadata - release candidate
        1..2
        ok 1 - should not error
        ok 2 - everything right
    ok 33 - plugin metadata - release candidate # time=4.565ms
    
    # Subtest: fastify-rc loads prior version plugins
        1..2
        ok 1 - should not error
        ok 2 - everything right
    ok 34 - fastify-rc loads prior version plugins # time=3.673ms
    
    # Subtest: hasPlugin method exists as a function
        1..1
        ok 1 - should be equal
    ok 35 - hasPlugin method exists as a function # time=1.289ms
    
    # Subtest: hasPlugin returns true if the specified plugin has been registered
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
    ok 36 - hasPlugin returns true if the specified plugin has been registered # time=5.774ms
    
    # Subtest: hasPlugin returns false if the specified plugin has not been registered
        1..1
        ok 1 - expect falsey value
    ok 37 - hasPlugin returns false if the specified plugin has not been registered # time=1.255ms
    
    # Subtest: hasPlugin returns false when using encapsulation
        1..25
        ok 1 - expect truthy value
        ok 2 - expect falsey value
        ok 3 - expect falsey value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect truthy value
        ok 8 - expect falsey value
        ok 9 - expect falsey value
        ok 10 - expect falsey value
        ok 11 - expect falsey value
        ok 12 - expect falsey value
        ok 13 - expect truthy value
        ok 14 - expect falsey value
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - expect falsey value
        ok 18 - expect falsey value
        ok 19 - expect truthy value
        ok 20 - expect falsey value
        ok 21 - expect falsey value
        ok 22 - expect falsey value
        ok 23 - expect falsey value
        ok 24 - expect falsey value
        ok 25 - expect truthy value
    ok 38 - hasPlugin returns false when using encapsulation # time=14.293ms
    
    # Subtest: hasPlugin returns true when using no encapsulation
        1..26
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect falsey value
        ok 10 - expect falsey value
        ok 11 - expect falsey value
        ok 12 - expect truthy value
        ok 13 - expect truthy value
        ok 14 - expect truthy value
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - expect truthy value
        ok 18 - expect truthy value
        ok 19 - expect truthy value
        ok 20 - expect truthy value
        ok 21 - expect falsey value
        ok 22 - expect truthy value
        ok 23 - expect truthy value
        ok 24 - expect truthy value
        ok 25 - expect truthy value
        ok 26 - expect truthy value
    ok 39 - hasPlugin returns true when using no encapsulation # time=22.317ms
    
    1..39
    # time=782.505ms
ok 77 - test/plugin.test.js # time=782.505ms

# Subtest: test/pretty-print.test.js
    # Subtest: pretty print - static routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - pretty print - static routes # time=54.187ms
    
    # Subtest: pretty print - parametric routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - pretty print - parametric routes # time=7.347ms
    
    # Subtest: pretty print - mixed parametric routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 3 - pretty print - mixed parametric routes # time=7.723ms
    
    # Subtest: pretty print - wildcard routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - pretty print - wildcard routes # time=14.946ms
    
    # Subtest: pretty print - empty plugins
        1..2
        ok 1 - should be equal
        ok 2 - should match pattern provided
    ok 5 - pretty print - empty plugins # time=15.63ms
    
    # Subtest: pretty print - nested plugins
        1..4
        ok 1 - should be equal
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
    ok 6 - pretty print - nested plugins # time=18.116ms
    
    # Subtest: pretty print - commonPrefix
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 7 - pretty print - commonPrefix # time=30.738ms
    
    # Subtest: pretty print - includeMeta, includeHooks
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 8 - pretty print - includeMeta, includeHooks # time=24.952ms
    
    1..8
    # time=194.344ms
ok 78 - test/pretty-print.test.js # time=194.344ms

# Subtest: test/promises.test.js
    ok 1 - should not error
    # Subtest: shorthand - sget return promise es6 get
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - shorthand - sget return promise es6 get # time=42.816ms
    
    # Subtest: shorthand - sget promise es6 get return error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 3 - shorthand - sget promise es6 get return error # time=8.409ms
    
    # Subtest: sget promise double send
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 4 - sget promise double send # time=6.544ms
    
    # Subtest: thenable
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 5 - thenable # time=7.226ms
    
    # Subtest: thenable (error)
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 6 - thenable (error) # time=4.763ms
    
    # Subtest: return-reply
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - return-reply # time=5.637ms
    
    1..7
    # time=136.108ms
ok 79 - test/promises.test.js # time=136.108ms

# Subtest: test/proto-poisoning.test.js
    # Subtest: proto-poisoning error
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 1 - proto-poisoning error # time=69.74ms
    
    # Subtest: proto-poisoning remove
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 2 - proto-poisoning remove # time=12.633ms
    
    # Subtest: proto-poisoning ignore
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 3 - proto-poisoning ignore # time=23.588ms
    
    # Subtest: constructor-poisoning error (default in v3)
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 4 - constructor-poisoning error (default in v3) # time=8.558ms
    
    # Subtest: constructor-poisoning error
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 5 - constructor-poisoning error # time=8.71ms
    
    # Subtest: constructor-poisoning remove
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 6 - constructor-poisoning remove # time=26.335ms
    
    1..6
    # time=165.524ms
ok 80 - test/proto-poisoning.test.js # time=165.524ms

./VariantsPureDep/fastify/variant3/fastify

> fastify@4.3.0 test
> npm run lint && npm run unit && npm run test:typescript


> fastify@4.3.0 lint
> npm run lint:standard && npm run lint:typescript && npm run lint:markdown


> fastify@4.3.0 lint:standard
> standard | snazzy

-----------------------------|---------|----------|---------|---------|-----------------------------
File                         | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s           
-----------------------------|---------|----------|---------|---------|-----------------------------
All files                    |   92.78 |    92.03 |    92.3 |   92.91 |                             
 fastify                     |   85.23 |    88.12 |   82.14 |    84.9 |                             
  fastify.js                 |   85.23 |    88.12 |   82.14 |    84.9 | ...,676-695,721-724,732-743 
 fastify/lib                 |   93.85 |    92.55 |   94.23 |   94.06 |                             
  contentTypeParser.js       |    97.8 |    99.15 |     100 |   97.64 | 233-236                     
  context.js                 |     100 |      100 |     100 |     100 |                             
  decorate.js                |   98.21 |    98.03 |     100 |   98.07 | 41                          
  error-handler.js           |    94.2 |    93.61 |     100 |    94.2 | 108-110,118                 
  errors.js                  |     100 |      100 |     100 |     100 |                             
  fourOhFour.js              |     100 |      100 |     100 |     100 |                             
  handleRequest.js           |   98.48 |    98.03 |     100 |   98.41 | 97                          
  headRoute.js               |      20 |     12.5 |   33.33 |   14.28 | 4-21,26                     
  hooks.js                   |     100 |      100 |     100 |     100 |                             
  initialConfigValidation.js |     100 |      100 |     100 |     100 |                             
  logger.js                  |     100 |      100 |     100 |     100 |                             
  noop-set.js                |     100 |      100 |     100 |     100 |                             
  pluginOverride.js          |   97.56 |       90 |     100 |    97.5 | 75                          
  pluginUtils.js             |     100 |      100 |     100 |     100 |                             
  reply.js                   |    87.7 |    84.86 |   88.88 |   88.76 | ...-618,622-627,648-654,659 
  reqIdGenFactory.js         |     100 |      100 |     100 |     100 |                             
  request.js                 |   87.96 |    90.62 |      80 |   89.42 | 45-54,157-167,206,211       
  route.js                   |   88.84 |    88.04 |     100 |   88.69 | ...,355-362,396-397,461,465 
  schema-controller.js       |    92.3 |    79.41 |   84.61 |    92.3 | 23,58,71                    
  schemas.js                 |   92.64 |    93.65 |   88.88 |   94.02 | 28,32,43,147                
  server.js                  |     100 |      100 |     100 |     100 |                             
  symbols.js                 |     100 |      100 |     100 |     100 |                             
  validation.js              |   98.55 |    96.55 |     100 |   98.43 | 22                          
  warnings.js                |     100 |      100 |     100 |     100 |                             
  wrapThenable.js            |   93.33 |       90 |     100 |   93.33 | 11                          
-----------------------------|---------|----------|---------|---------|-----------------------------

> fastify@4.3.0 lint:typescript
> eslint -c types/.eslintrc.json types/**/*.d.ts test/types/**/*.test-d.ts


> fastify@4.3.0 lint:markdown
> markdownlint-cli2

markdownlint-cli2 v0.4.0 (markdownlint v0.25.1)

> fastify@4.3.0 unit
> tap

TAP version 13
# Subtest: test/404s.test.js
    # Subtest: default 404
        1..4
        ok 1 - should not error
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - unsupported method # time=29.859ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - framework-unsupported method # time=5.748ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - unsupported route # time=7.465ms
        
    ok 1 - default 404 # time=185.495ms
    
    # Subtest: customized 404
        1..6
        ok 1 - should not error
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - unsupported method # time=11.618ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - framework-unsupported method # time=4.04ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - unsupported route # time=3.872ms
        
        # Subtest: with error object
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - with error object # time=9.714ms
        
        # Subtest: error object with headers property
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 6 - error object with headers property # time=5.147ms
        
    ok 2 - customized 404 # time=49.025ms
    
    # Subtest: custom header in notFound handler
        1..2
        ok 1 - should not error
        # Subtest: not found with custom header
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
        ok 2 - not found with custom header # time=4.641ms
        
    ok 3 - custom header in notFound handler # time=24.016ms
    
    # Subtest: setting a custom 404 handler multiple times is an error
        1..5
        # Subtest: at the root level
            1..2
            ok 1 - type is Error
            ok 2 - should be equal
        ok 1 - at the root level # time=3.467ms
        
        # Subtest: at the plugin level
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 2 - at the plugin level # time=38.532ms
        
        # Subtest: at multiple levels
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 3 - at multiple levels # time=10.65ms
        
        # Subtest: at multiple levels / 2
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 4 - at multiple levels / 2 # time=33.533ms
        
        # Subtest: in separate plugins at the same level
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 5 - in separate plugins at the same level # time=24.141ms
        
    ok 4 - setting a custom 404 handler multiple times is an error # time=128.227ms
    
    # Subtest: encapsulated 404
        1..13
        ok 1 - should not error
        # Subtest: root unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - root unsupported method # time=24.681ms
        
        # Subtest: root framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - root framework-unsupported method # time=5.09ms
        
        # Subtest: root unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - root unsupported route # time=4.698ms
        
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 5 - unsupported method # time=5.379ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 6 - framework-unsupported method # time=4.894ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 7 - unsupported route # time=4.654ms
        
        # Subtest: unsupported method 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 8 - unsupported method 2 # time=5.337ms
        
        # Subtest: framework-unsupported method 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 9 - framework-unsupported method 2 # time=4.772ms
        
        # Subtest: unsupported route 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 10 - unsupported route 2 # time=4.773ms
        
        # Subtest: unsupported method 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 11 - unsupported method 3 # time=5.155ms
        
        # Subtest: framework-unsupported method 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 12 - framework-unsupported method 3 # time=4.583ms
        
        # Subtest: unsupported route 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 13 - unsupported route 3 # time=4.608ms
        
    ok 5 - encapsulated 404 # time=120.452ms
    
    # Subtest: custom 404 hook and handler context
        1..21
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should not error
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equal
    ok 6 - custom 404 hook and handler context # time=89.175ms
    
    # Subtest: encapsulated custom 404 without - prefix hook and handler context
        1..13
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equal
    ok 7 - encapsulated custom 404 without - prefix hook and handler context # time=11.651ms
    
    # Subtest: run hooks on default 404
        1..7
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - preHandler called
        ok 4 - onSend called
        ok 5 - onResponse called
        ok 6 - should not error
        ok 7 - should be equal
    ok 8 - run hooks on default 404 # time=29.091ms
    
    # Subtest: run non-encapsulated plugin hooks on default 404
        1..6
        ok 1 - onRequest called
        ok 2 - preHandler called
        ok 3 - onSend called
        ok 4 - onResponse called
        ok 5 - should not error
        ok 6 - should be equal
    ok 9 - run non-encapsulated plugin hooks on default 404 # time=14.403ms
    
    # Subtest: run non-encapsulated plugin hooks on custom 404
        1..11
        ok 1 - onRequest called
        ok 2 - onRequest called
        ok 3 - preHandler called
        ok 4 - preHandler called
        ok 5 - onSend called
        ok 6 - onSend called
        ok 7 - onResponse called
        ok 8 - onResponse called
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
    ok 10 - run non-encapsulated plugin hooks on custom 404 # time=10.502ms
    
    # Subtest: run hook with encapsulated 404
        1..11
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - onRequest 2 called
        ok 4 - preHandler called
        ok 5 - preHandler 2 called
        ok 6 - onSend called
        ok 7 - onSend 2 called
        ok 8 - onResponse called
        ok 9 - onResponse 2 called
        ok 10 - should not error
        ok 11 - should be equal
    ok 11 - run hook with encapsulated 404 # time=13.934ms
    
    # Subtest: run hook with encapsulated 404 and framework-unsupported method
        1..11
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - onRequest 2 called
        ok 4 - preHandler called
        ok 5 - preHandler 2 called
        ok 6 - onSend called
        ok 7 - onSend 2 called
        ok 8 - onResponse called
        ok 9 - onResponse 2 called
        ok 10 - should not error
        ok 11 - should be equal
    ok 12 - run hook with encapsulated 404 and framework-unsupported method # time=12.946ms
    
    # Subtest: hooks check 404
        1..13
        ok 1 - should not error
        ok 2 - onRequest
        ok 3 - should be equivalent
        ok 4 - onSend
        ok 5 - onResponse
        ok 6 - onRequest
        ok 7 - should be equivalent
        ok 8 - onSend
        ok 9 - onResponse
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should not error
        ok 13 - should be equal
    ok 13 - hooks check 404 # time=27.773ms
    
    # Subtest: setNotFoundHandler should not suppress duplicated routes checking
        1..1
        ok 1 - expect truthy value
    ok 14 - setNotFoundHandler should not suppress duplicated routes checking # time=3.523ms
    
    # Subtest: log debug for 404
        1..1
        # Subtest: log debug
            1..7
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
        ok 1 - log debug # time=11.218ms
        
    ok 15 - log debug for 404 # time=17.946ms
    
    # Subtest: Unknown method
        1..5
        ok 1 - should not error
        ok 2 - expected to throw
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent strictly
    ok 16 - Unknown method # time=13.197ms
    
    # Subtest: recognizes errors from the http-errors module
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent strictly
    ok 17 - recognizes errors from the http-errors module # time=32.364ms
    
    # Subtest: the default 404 handler can be invoked inside a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
    ok 18 - the default 404 handler can be invoked inside a prefixed plugin # time=6.571ms
    
    # Subtest: an inherited custom 404 handler can be invoked inside a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - an inherited custom 404 handler can be invoked inside a prefixed plugin # time=6.613ms
    
    # Subtest: encapsulated custom 404 handler without a prefix is the handler for the entire 404 level
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 20 - encapsulated custom 404 handler without a prefix is the handler for the entire 404 level # time=9.647ms
    
    # Subtest: cannot set notFoundHandler after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 21 - cannot set notFoundHandler after binding # time=4.026ms
    
    # Subtest: 404 inside onSend
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 22 - 404 inside onSend # time=5.947ms
    
    # Subtest: onSend hooks run when an encapsulated route invokes the notFound handler
        1..3
        ok 1 - onSend hook called
        ok 2 - should not error
        ok 3 - should be equal
    ok 23 - onSend hooks run when an encapsulated route invokes the notFound handler # time=4.562ms
    
    # Subtest: preHandler option for setNotFoundHandler
        1..10
        # Subtest: preHandler option
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 1 - preHandler option # time=53.29ms
        
        # Subtest: preHandler hook in setNotFoundHandler should be called when callNotFound
            1..3
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 2 - preHandler hook in setNotFoundHandler should be called when callNotFound # time=6.577ms
        
        # Subtest: preHandler hook in setNotFoundHandler should accept an array of functions and be called when callNotFound
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 3 - preHandler hook in setNotFoundHandler should accept an array of functions and be called when callNotFound # time=5.228ms
        
        # Subtest: preHandler option should be called after preHandler hook
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 4 - preHandler option should be called after preHandler hook # time=4.96ms
        
        # Subtest: preHandler option should be unique per prefix
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 5 - preHandler option should be unique per prefix # time=9.4ms
        
        # Subtest: preHandler option should handle errors
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 6 - preHandler option should handle errors # time=5.156ms
        
        # Subtest: preHandler option should handle errors with custom status code
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 7 - preHandler option should handle errors with custom status code # time=5.17ms
        
        # Subtest: preHandler option could accept an array of functions
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 8 - preHandler option could accept an array of functions # time=4.526ms
        
        # Subtest: preHandler option does not interfere with preHandler
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 9 - preHandler option does not interfere with preHandler # time=8.794ms
        
        # Subtest: preHandler option should keep the context
            1..3
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 10 - preHandler option should keep the context # time=4.796ms
        
    ok 24 - preHandler option for setNotFoundHandler # time=119.528ms
    
    # Subtest: reply.notFound invoked the notFound handler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - reply.notFound invoked the notFound handler # time=4.936ms
    
    # Subtest: The custom error handler should be invoked after the custom not found handler
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - type is Error
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 26 - The custom error handler should be invoked after the custom not found handler # time=6.019ms
    
    # Subtest: If the custom not found handler does not use an Error, the custom error handler should not be called
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 27 - If the custom not found handler does not use an Error, the custom error handler should not be called # time=4.291ms
    
    # Subtest: preValidation option
        1..3
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 28 - preValidation option # time=5.078ms
    
    # Subtest: preValidation option could accept an array of functions
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 29 - preValidation option could accept an array of functions # time=5.348ms
    
    # Subtest: Should fail to invoke callNotFound inside a 404 handler
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 30 - Should fail to invoke callNotFound inside a 404 handler # time=7.197ms
    
    # Subtest: 400 in case of bad url (pre find-my-way v2.2.0 was a 404)
        # Subtest: Dynamic route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 1 - Dynamic route # time=19.385ms
        
        # Subtest: Wildcard
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - Wildcard # time=5.668ms
        
        # Subtest: No route registered
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - No route registered # time=43.03ms
        
        # Subtest: Only / is registered
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - Only / is registered # time=6.434ms
        
        # Subtest: customized 404
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - customized 404 # time=6.118ms
        
        1..5
    ok 31 - 400 in case of bad url (pre find-my-way v2.2.0 was a 404) # time=88.627ms
    
    # Subtest: setNotFoundHandler should be chaining fastify instance
        # Subtest: Register route after setNotFoundHandler
            1..6
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should not error
            ok 5 - should be equal
            ok 6 - should be equal
        ok 1 - Register route after setNotFoundHandler # time=15.231ms
        
        1..1
    ok 32 - setNotFoundHandler should be chaining fastify instance # time=20.786ms
    
    # Subtest: Send 404 when frameworkError calls reply.callNotFound
        # Subtest: Dynamic route
            1..4
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 1 - Dynamic route # time=6.599ms
        
        1..1
    ok 33 - Send 404 when frameworkError calls reply.callNotFound # time=12.189ms
    
    1..33
    # time=1125.768ms
ok 1 - test/404s.test.js # time=1125.768ms

# Subtest: test/500s.test.js
    # Subtest: default 500
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - default 500 # time=82.995ms
    
    # Subtest: custom 500
        1..6
        ok 1 - type is object
        ok 2 - type is Request
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 2 - custom 500 # time=14.441ms
    
    # Subtest: encapsulated 500
        1..10
        ok 1 - type is object
        ok 2 - type is Request
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 3 - encapsulated 500 # time=55.422ms
    
    # Subtest: custom 500 with hooks
        1..7
        ok 1 - onRequest
        ok 2 - onSend
        ok 3 - onResponse
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 4 - custom 500 with hooks # time=10.477ms
    
    # Subtest: cannot set errorHandler after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 5 - cannot set errorHandler after binding # time=18.806ms
    
    1..5
    # time=201.308ms
ok 2 - test/500s.test.js # time=201.308ms

# Subtest: test/allowUnsafeRegex.test.js
    # Subtest: allow unsafe regex
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - allow unsafe regex # time=72.237ms
    
    # Subtest: allow unsafe regex not match
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 2 - allow unsafe regex not match # time=12.718ms
    
    # Subtest: allow unsafe regex not safe
        1..1
        ok 1 - expected to throw
    ok 3 - allow unsafe regex not safe # time=81.741ms
    
    # Subtest: allow unsafe regex not safe by default
        1..1
        ok 1 - expected to throw
    ok 4 - allow unsafe regex not safe by default # time=10.574ms
    
    # Subtest: allow unsafe regex allow unsafe
        1..5
        ok 1 - expected to not throw
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 5 - allow unsafe regex allow unsafe # time=21.996ms
    
    1..5
    # time=233.131ms
ok 3 - test/allowUnsafeRegex.test.js # time=233.131ms

# Subtest: test/als.test.js
    ok 1 - should not error
    ok 2 - expect truthy value
    ok 3 - should not error
    ok 4 - should be equal
    ok 5 - should be equivalent
    ok 6 - expect truthy value
    ok 7 - should not error
    ok 8 - should be equal
    ok 9 - should be equivalent
    ok 10 - expect truthy value
    ok 11 - should not error
    ok 12 - should be equal
    ok 13 - should be equivalent
    1..13
    # time=102.742ms
ok 4 - test/als.test.js # time=102.742ms

# Subtest: test/async-await.test.js
    # Subtest: async await
        1..11
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 1 - async await # time=343.033ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (undefined)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 2 - ignore the result of the promise if reply.send is called beforehand (undefined) # time=13.435ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (object)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 3 - ignore the result of the promise if reply.send is called beforehand (object) # time=26.72ms
    
    # Subtest: server logs an error if reply.send is called and a value is returned via async/await
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 4 - server logs an error if reply.send is called and a value is returned via async/await # time=96.211ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (undefined)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 5 - ignore the result of the promise if reply.send is called beforehand (undefined) # time=10.589ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (object)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 6 - ignore the result of the promise if reply.send is called beforehand (object) # time=13.691ms
    
    # Subtest: await reply if we will be calling reply.send in the future
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 7 - await reply if we will be calling reply.send in the future # time=9.191ms
    
    # Subtest: await reply if we will be calling reply.send in the future (error case)
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 8 - await reply if we will be calling reply.send in the future (error case) # time=12.075ms
    
    # Subtest: support reply decorators with await
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 9 - support reply decorators with await # time=9.18ms
    
    # Subtest: inject async await
        1..1
        ok 1 - should be equivalent
    ok 10 - inject async await # time=7.579ms
    
    # Subtest: inject async await - when the server equal up
        1..2
        ok 1 - should be equivalent
        ok 2 - should be equivalent
    ok 11 - inject async await - when the server equal up # time=223.572ms
    
    # Subtest: async await plugin
        1..1
        ok 1 - should be equivalent
    ok 12 - async await plugin # time=209.678ms
    
    # Subtest: does not call reply.send() twice if 204 response equal already sent
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - does not call reply.send() twice if 204 response equal already sent # time=14.187ms
    
    # Subtest: promise was fulfilled with undefined
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - promise was fulfilled with undefined # time=17.186ms
    
    # Subtest: error is not logged because promise was fulfilled with undefined but response was sent before promise resolution
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 15 - error is not logged because promise was fulfilled with undefined but response was sent before promise resolution # time=28.176ms
    
    # Subtest: Thrown Error instance sets HTTP status code
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - Thrown Error instance sets HTTP status code # time=16.069ms
    
    # Subtest: customErrorHandler support
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 17 - customErrorHandler support # time=15.082ms
    
    # Subtest: customErrorHandler support without throwing
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - customErrorHandler support without throwing # time=5.113ms
    
    # Subtest: customErrorHandler only called if reply not already sent
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - customErrorHandler only called if reply not already sent # time=8.022ms
    
    # Subtest: setNotFoundHandler should accept return value
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - setNotFoundHandler should accept return value # time=6.609ms
    
    # Subtest: customErrorHandler should accept return value
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 21 - customErrorHandler should accept return value # time=5.642ms
    
    # Subtest: await self
        ok 1 - should be equal
        1..1
    ok 22 - await self # time=3.418ms
    
    1..22
    # time=1117.676ms
ok 5 - test/async-await.test.js # time=1117.676ms

# Subtest: test/bodyLimit.test.js
    # Subtest: bodyLimit
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should not error
        ok 5 - should be equal
    ok 1 - bodyLimit # time=38.716ms
    
    1..1
    # time=43.467ms
ok 6 - test/bodyLimit.test.js # time=43.467ms

# Subtest: test/build/error-serializer.test.js
    # Subtest: check generated code syntax
        1..1
        ok 1 - should be equal
    ok 1 - check generated code syntax # time=4317.896ms
    
    ok 2 - ensure the current error serializer is latest # SKIP
    1..2
    # skip: 1
    # time=4398.112ms
ok 7 - test/build/error-serializer.test.js # time=4398.112ms

# Subtest: test/build/version.test.js
    # Subtest: should be the same as package.json
        1..1
        ok 1 - should be equal
    ok 1 - should be the same as package.json # time=7.059ms
    
    1..1
    # time=13.625ms
ok 8 - test/build/version.test.js # time=13.625ms

# Subtest: test/case-insensitive.test.js
    # Subtest: case insensitive
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - case insensitive # time=64.694ms
    
    # Subtest: case insensitive inject
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - case insensitive inject # time=35.541ms
    
    # Subtest: case insensitive (parametric)
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 3 - case insensitive (parametric) # time=12.608ms
    
    # Subtest: case insensitive (wildcard)
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 4 - case insensitive (wildcard) # time=14.29ms
    
    1..4
    # time=153.114ms
ok 9 - test/case-insensitive.test.js # time=153.114ms

# Subtest: test/chainable.test.js
    # Subtest: chainable - get
        1..1
        ok 1 - type is [object Object]
    ok 1 - chainable - get # time=11.793ms
    
    # Subtest: chainable - post
        1..1
        ok 1 - type is [object Object]
    ok 2 - chainable - post # time=2.616ms
    
    # Subtest: chainable - route
        1..1
        ok 1 - type is [object Object]
    ok 3 - chainable - route # time=2.667ms
    
    1..3
    # time=30.225ms
ok 10 - test/chainable.test.js # time=30.225ms

# Subtest: test/close-pipelining.test.js
    # Subtest: Should return 503 while closing - pipelining
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        1..3
    ok 1 - Should return 503 while closing - pipelining # time=118.92ms
    
    # Subtest: Should not return 503 while closing - pipelining - return503OnClosing
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        1..3
    ok 2 - Should not return 503 while closing - pipelining - return503OnClosing # time=25.509ms
    
    1..2
    # time=187.015ms
ok 11 - test/close-pipelining.test.js # time=187.015ms

# Subtest: test/close.test.js
    # Subtest: close callback
        1..4
        ok 1 - should not error
        ok 2 - type is [object Object]
        ok 3 - should not error
        ok 4 - expect truthy value
    ok 1 - close callback # time=82.13ms
    
    # Subtest: inside register
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - expect truthy value
    ok 2 - inside register # time=31.591ms
    
    # Subtest: close order
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 3 - close order # time=24.795ms
    
    # Subtest: close order - async
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 4 - close order - async # time=10.027ms
    
    # Subtest: should not throw an error if the server is not listening
        1..2
        ok 1 - type is [object Object]
        ok 2 - should not error
    ok 5 - should not throw an error if the server is not listening # time=3.938ms
    
    # Subtest: onClose should keep the context
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
    ok 6 - onClose should keep the context # time=16.258ms
    
    # Subtest: Should return error while closing (promise) - injection
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 7 - Should return error while closing (promise) - injection # time=69.035ms
    
    # Subtest: Should return error while closing (callback) - injection
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 8 - Should return error while closing (callback) - injection # time=110.011ms
    
    # Subtest: Current opened connection should continue to work after closing and return "connection: close" header - return503OnClosing: false
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        1..5
    ok 9 - Current opened connection should continue to work after closing and return "connection: close" header - return503OnClosing: false # time=41.152ms
    
    # Subtest: Current opened connection should not accept new incoming connections
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 10 - Current opened connection should not accept new incoming connections # time=271.121ms
    
    # Subtest: Cannot be reopened the closed server without listen callback
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 11 - Cannot be reopened the closed server without listen callback # time=8.9ms
    
    # Subtest: Cannot be reopened the closed server has listen callback
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 12 - Cannot be reopened the closed server has listen callback # time=4.629ms
    
    ok 13 - shutsdown while keep-alive connections are active (non-async, native) # SKIP
    ok 14 - shutsdown while keep-alive connections are active (non-async, idle, native) # SKIP
    # Subtest: shutsdown while keep-alive connections are active (non-async, custom)
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 15 - shutsdown while keep-alive connections are active (non-async, custom) # time=9.515ms
    
    1..15
    # skip: 2
    # time=713.85ms
ok 12 - test/close.test.js # time=713.85ms

# Subtest: test/connectionTimeout.test.js
    # Subtest: connectionTimeout
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 1 - connectionTimeout # time=51.665ms
    
    1..1
    # time=60.362ms
ok 13 - test/connectionTimeout.test.js # time=60.362ms

# Subtest: test/constrained-routes.test.js
    # Subtest: Should register a host constrained route
        1..7
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 1 - Should register a host constrained route # time=100.162ms
    
    # Subtest: Should register the same route with host constraints
        1..8
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 2 - Should register the same route with host constraints # time=12.395ms
    
    # Subtest: Should allow registering custom constrained routes
        1..8
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 3 - Should allow registering custom constrained routes # time=31.712ms
    
    # Subtest: Should allow registering custom constrained routes outside constructor
        1..8
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 4 - Should allow registering custom constrained routes outside constructor # time=29.398ms
    
    # Subtest: Add a constraint strategy after fastify instance was started
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - Cannot add constraint strategy when fastify instance is already started!
    ok 5 - Add a constraint strategy after fastify instance was started # time=7.726ms
    
    # Subtest: Add a constraint strategy should throw an error if there already exist custom strategy with the same name
        1..1
        ok 1 - There already exists a custom constraint with the name secret.
    ok 6 - Add a constraint strategy should throw an error if there already exist custom strategy with the same name # time=2.183ms
    
    # Subtest: Add a constraint strategy shouldn't throw an error if default constraint with the same name isn't used
        1..1
        ok 1 - (unnamed test)
    ok 7 - Add a constraint strategy shouldn't throw an error if default constraint with the same name isn't used # time=1.882ms
    
    # Subtest: Add a constraint strategy should throw an error if default constraint with the same name is used
        1..1
        ok 1 - There already exists a route with version constraint.
    ok 8 - Add a constraint strategy should throw an error if default constraint with the same name is used # time=3.187ms
    
    # Subtest: The hasConstraintStrategy should return false for default constraints until they are used
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 9 - The hasConstraintStrategy should return false for default constraints until they are used # time=5.67ms
    
    # Subtest: The hasConstraintStrategy should return true if there already exist a custom constraint with the same name
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 10 - The hasConstraintStrategy should return true if there already exist a custom constraint with the same name # time=3.157ms
    
    # Subtest: Should allow registering an unconstrained route after a constrained route
        1..6
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
    ok 11 - Should allow registering an unconstrained route after a constrained route # time=10.192ms
    
    # Subtest: Should allow registering constrained routes in a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 12 - Should allow registering constrained routes in a prefixed plugin # time=12.871ms
    
    # Subtest: Should allow registering a constrained GET route after a constrained HEAD route
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 13 - Should allow registering a constrained GET route after a constrained HEAD route # time=5.561ms
    
    # Subtest: Should allow registering a constrained GET route after an unconstrained HEAD route
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 14 - Should allow registering a constrained GET route after an unconstrained HEAD route # time=5.129ms
    
    # Subtest: Will not try to re-createprefixed HEAD route if it already exists and exposeHeadRoutes is true for constrained routes
        1..1
        ok 1 - expect truthy value
    ok 15 - Will not try to re-createprefixed HEAD route if it already exists and exposeHeadRoutes is true for constrained routes # time=10.903ms
    
    # Subtest: allows separate constrained and unconstrained HEAD routes
        1..1
        ok 1 - expect truthy value
    ok 16 - allows separate constrained and unconstrained HEAD routes # time=5.18ms
    
    1..16
    # time=273.939ms
ok 14 - test/constrained-routes.test.js # time=273.939ms

# Subtest: test/content-length.test.js
    # Subtest: default 413 with bodyLimit option
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - default 413 with bodyLimit option # time=85.505ms
    
    # Subtest: default 400 with wrong content-length
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - default 400 with wrong content-length # time=11.488ms
    
    # Subtest: custom 413 with bodyLimit option
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 3 - custom 413 with bodyLimit option # time=27.837ms
    
    # Subtest: custom 400 with wrong content-length
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 4 - custom 400 with wrong content-length # time=8.26ms
    
    # Subtest: \#2214 - wrong content-length
        ok 1 - should be equal
        1..1
    ok 5 - \#2214 - wrong content-length # time=8.713ms
    
    # Subtest: \#2543 - wrong content-length with errorHandler
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 6 - \#2543 - wrong content-length with errorHandler # time=6.468ms
    
    1..6
    # time=159.131ms
ok 15 - test/content-length.test.js # time=159.131ms

# Subtest: test/content-parser.test.js
    # Subtest: hasContentTypeParser
        1..0
    ok 1 - hasContentTypeParser # time=13.678ms
    
    # Subtest: should know about internal parsers
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
    ok 2 - should know about internal parsers # time=38.522ms
    
    # Subtest: should work with string and RegExp
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect falsey value
    ok 3 - should work with string and RegExp # time=5.741ms
    
    # Subtest: getParser
        1..0
    ok 4 - getParser # time=97.045ms
    
    # Subtest: existingParser
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect falsey value
        1..7
    ok 5 - existingParser # time=22.03ms
    
    # Subtest: add
        1..0
    ok 6 - add # time=24.117ms
    
    # Subtest: non-Error thrown from content parser is properly handled
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 7 - non-Error thrown from content parser is properly handled # time=48.741ms
    
    # Subtest: Error thrown 415 from content type is null and make post request to server
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 8 - Error thrown 415 from content type is null and make post request to server # time=29.512ms
    
    # Subtest: remove
        1..0
    ok 9 - remove # time=36.843ms
    
    # Subtest: remove all should remove all existing parsers and reset cache
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
    ok 10 - remove all should remove all existing parsers and reset cache # time=6.517ms
    
    # Subtest: should return matching parser
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 11 - should return matching parser # time=3.074ms
    
    # Subtest: should return matching parser with caching
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 12 - should return matching parser with caching # time=3.432ms
    
    # Subtest: should prefer content type parser with string value
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 13 - should prefer content type parser with string value # time=5.447ms
    
    # Subtest: should return parser that catches all if no other is set
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 14 - should return parser that catches all if no other is set # time=7.264ms
    
    # Subtest: should return undefined if no matching parser exist
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 15 - should return undefined if no matching parser exist # time=4.538ms
    
    # Subtest: returns always false for "*"
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 16 - returns always false for "*" # time=4.848ms
    
    # Subtest: let you override the default parser once
        1..2
        ok 1 - Content type parser 'application/json' already present
        ok 2 - Content type parser 'text/plain' already present
    ok 17 - let you override the default parser once # time=12.231ms
    
    # Subtest: should only accept string and RegExp
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - The content type should be a string or a RegExp
        ok 4 - The content type should be a string or a RegExp
    ok 18 - should only accept string and RegExp # time=5.617ms
    
    # Subtest: should set "*" as parser that catches all
        1..1
        ok 1 - should be equal
    ok 19 - should set "*" as parser that catches all # time=1.738ms
    
    # Subtest: should remove default parser
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 20 - should remove default parser # time=1.996ms
    
    # Subtest: should remove RegExp parser
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 21 - should remove RegExp parser # time=2.071ms
    
    # Subtest: should throw an error if content type is neither string nor RegExp
        1..1
        ok 1 - expected to throw
    ok 22 - should throw an error if content type is neither string nor RegExp # time=2.162ms
    
    # Subtest: should not throw error if content type does not exist
        1..1
        ok 1 - expected to not throw
    ok 23 - should not throw error if content type does not exist # time=1.82ms
    
    # Subtest: should not remove any content type parser if content type does not exist
        1..1
        ok 1 - should be equivalent
    ok 24 - should not remove any content type parser if content type does not exist # time=2.359ms
    
    1..24
    # time=406.638ms
ok 16 - test/content-parser.test.js # time=406.638ms

# Subtest: test/context-config.test.js
    # Subtest: config
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 1 - config # time=98.5ms
    
    # Subtest: config with exposeHeadRoutes
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 2 - config with exposeHeadRoutes # time=14.142ms
    
    # Subtest: config without exposeHeadRoutes
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 3 - config without exposeHeadRoutes # time=30.702ms
    
    1..3
    # time=154.77ms
ok 17 - test/context-config.test.js # time=154.77ms

# Subtest: test/custom-http-server.test.js
    # Subtest: Should support a custom http server
        1..4
        ok 1 - it is called twice for every HOST interface
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - Should support a custom http server # time=62.651ms
    
    # Subtest: Should not allow forceCloseConnection=idle if the server does not support closeIdleConnections
        1..1
        ok 1 - Cannot set forceCloseConnections to 'idle' as your HTTP server does not support closeIdleConnections method
    ok 2 - Should not allow forceCloseConnection=idle if the server does not support closeIdleConnections # time=3.635ms
    
    1..2
    # time=73.748ms
ok 18 - test/custom-http-server.test.js # time=73.748ms

# Subtest: test/custom-parser-async.test.js
    # Subtest: contentTypeParser should add a custom async parser
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=31.729ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=7.457ms
        
    ok 1 - contentTypeParser should add a custom async parser # time=113.361ms
    
    1..1
    # time=118.627ms
ok 19 - test/custom-parser-async.test.js # time=118.627ms

# Subtest: test/custom-parser.test.js
    # Subtest: contentTypeParser method should exist
        1..1
        ok 1 - expect truthy value
    ok 1 - contentTypeParser method should exist # time=14.23ms
    
    # Subtest: contentTypeParser should add a custom parser
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=27.061ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=6.401ms
        
    ok 2 - contentTypeParser should add a custom parser # time=178.058ms
    
    # Subtest: contentTypeParser should handle multiple custom parsers
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 3 - contentTypeParser should handle multiple custom parsers # time=22.104ms
    
    # Subtest: contentTypeParser should handle an array of custom contentTypes
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 4 - contentTypeParser should handle an array of custom contentTypes # time=37.141ms
    
    # Subtest: contentTypeParser should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 5 - contentTypeParser should handle errors # time=10.076ms
    
    # Subtest: contentTypeParser should support encapsulation
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - expect falsey value
        ok 6 - expect falsey value
    ok 6 - contentTypeParser should support encapsulation # time=7.926ms
    
    # Subtest: contentTypeParser should support encapsulation, second try
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - contentTypeParser should support encapsulation, second try # time=30.269ms
    
    # Subtest: contentTypeParser shouldn't support request with undefined "Content-Type"
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 8 - contentTypeParser shouldn't support request with undefined "Content-Type" # time=10.755ms
    
    # Subtest: the content type should be a string or RegExp
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 9 - the content type should be a string or RegExp # time=2.082ms
    
    # Subtest: the content type cannot be an empty string
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 10 - the content type cannot be an empty string # time=2.371ms
    
    # Subtest: the content type handler should be a function
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 11 - the content type handler should be a function # time=1.944ms
    
    # Subtest: catch all content type parser
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 12 - catch all content type parser # time=11.619ms
    
    # Subtest: catch all content type parser should not interfere with other conte type parsers
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 13 - catch all content type parser should not interfere with other conte type parsers # time=32.616ms
    
    # Subtest: '*' catch undefined Content-Type requests
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - '*' catch undefined Content-Type requests # time=12.581ms
    
    # Subtest: cannot add custom parser after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 15 - cannot add custom parser after binding # time=4.621ms
    
    # Subtest: Can override the default json parser
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 16 - Can override the default json parser # time=21.043ms
    
    # Subtest: Can override the default plain text parser
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 17 - Can override the default plain text parser # time=16.558ms
    
    # Subtest: Can override the default json parser in a plugin
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 18 - Can override the default json parser in a plugin # time=9.394ms
    
    # Subtest: Can't override the json parser multiple times
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 19 - Can't override the json parser multiple times # time=1.637ms
    
    # Subtest: Can't override the plain text parser multiple times
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 20 - Can't override the plain text parser multiple times # time=1.817ms
    
    # Subtest: Should get the body as string
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 21 - Should get the body as string # time=14.149ms
    
    # Subtest: Should return defined body with no custom parser defined and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 22 - Should return defined body with no custom parser defined and content type = 'text/plain' # time=21.768ms
    
    # Subtest: Should have typeof body object with no custom parser defined, no body defined and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 23 - Should have typeof body object with no custom parser defined, no body defined and content type = 'text/plain' # time=6.335ms
    
    # Subtest: Should have typeof body object with no custom parser defined, null body and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 24 - Should have typeof body object with no custom parser defined, null body and content type = 'text/plain' # time=6.867ms
    
    # Subtest: Should have typeof body object with no custom parser defined, undefined body and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 25 - Should have typeof body object with no custom parser defined, undefined body and content type = 'text/plain' # time=6.659ms
    
    # Subtest: Should get the body as string
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 26 - Should get the body as string # time=6.596ms
    
    # Subtest: Should get the body as buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 27 - Should get the body as buffer # time=7.351ms
    
    # Subtest: Should get the body as buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 28 - Should get the body as buffer # time=6.61ms
    
    # Subtest: Should parse empty bodies as a string
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 29 - Should parse empty bodies as a string # time=20.481ms
    
    # Subtest: Should parse empty bodies as a buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 30 - Should parse empty bodies as a buffer # time=10.588ms
    
    # Subtest: The charset should not interfere with the content type handling
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 31 - The charset should not interfere with the content type handling # time=30.228ms
    
    # Subtest: Wrong parseAs parameter
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 32 - Wrong parseAs parameter # time=1.648ms
    
    # Subtest: Should allow defining the bodyLimit per parser
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent strictly
    ok 33 - Should allow defining the bodyLimit per parser # time=13.53ms
    
    # Subtest: route bodyLimit should take precedence over a custom parser bodyLimit
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent strictly
    ok 34 - route bodyLimit should take precedence over a custom parser bodyLimit # time=6.739ms
    
    # Subtest: should be able to use default parser for extra content type
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent strictly
    ok 35 - should be able to use default parser for extra content type # time=51.559ms
    
    # Subtest: contentTypeParser should add a custom parser with RegExp value
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=4.582ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=7.597ms
        
    ok 36 - contentTypeParser should add a custom parser with RegExp value # time=37.862ms
    
    # Subtest: contentTypeParser should add multiple custom parsers with RegExp values
        1..6
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 37 - contentTypeParser should add multiple custom parsers with RegExp values # time=42.756ms
    
    # Subtest: catch all content type parser should not interfere with content type parser
        1..10
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 38 - catch all content type parser should not interfere with content type parser # time=27.36ms
    
    # Subtest: should prefer string content types over RegExp ones
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 39 - should prefer string content types over RegExp ones # time=9.765ms
    
    # Subtest: removeContentTypeParser should support arrays of content types to remove
        1..8
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 40 - removeContentTypeParser should support arrays of content types to remove # time=10.99ms
    
    # Subtest: removeContentTypeParser should support encapsulation
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 41 - removeContentTypeParser should support encapsulation # time=32.492ms
    
    # Subtest: removeAllContentTypeParsers should support encapsulation
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 42 - removeAllContentTypeParsers should support encapsulation # time=14.503ms
    
    # Subtest: cannot remove all content type parsers after binding
        1..2
        ok 1 - should not error
        ok 2 - expected to throw
    ok 43 - cannot remove all content type parsers after binding # time=3.787ms
    
    # Subtest: cannot remove content type parsers after binding
        1..2
        ok 1 - should not error
        ok 2 - expected to throw
    ok 44 - cannot remove content type parsers after binding # time=2.801ms
    
    # Subtest: should be able to override the default json parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 45 - should be able to override the default json parser after removeAllContentTypeParsers # time=8.671ms
    
    # Subtest: should be able to override the default plain text parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 46 - should be able to override the default plain text parser after removeAllContentTypeParsers # time=6.051ms
    
    # Subtest: should be able to add a custom content type parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 47 - should be able to add a custom content type parser after removeAllContentTypeParsers # time=7.211ms
    
    1..47
    # time=909.066ms
ok 20 - test/custom-parser.test.js # time=909.066ms

# Subtest: test/custom-querystring-parser.test.js
    # Subtest: Custom querystring parser
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 1 - Custom querystring parser # time=111.715ms
    
    # Subtest: Custom querystring parser should be called also if there is nothing to parse
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 2 - Custom querystring parser should be called also if there is nothing to parse # time=18.216ms
    
    # Subtest: Querystring without value
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 3 - Querystring without value # time=40.446ms
    
    # Subtest: Custom querystring parser should be a function
        1..1
        ok 1 - should be equal
    ok 4 - Custom querystring parser should be a function # time=2.588ms
    
    1..4
    # time=189.587ms
ok 21 - test/custom-querystring-parser.test.js # time=189.587ms

# Subtest: test/decorator.test.js
    # Subtest: server methods should exist
        1..2
        ok 1 - expect truthy value
        ok 2 - expect truthy value
    ok 1 - server methods should exist # time=16.544ms
    
    # Subtest: should check if the given decoration already exist when null
        1..1
        ok 1 - expect truthy value
    ok 2 - should check if the given decoration already exist when null # time=85.78ms
    
    # Subtest: server methods should be encapsulated via .register
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 3 - server methods should be encapsulated via .register # time=8.394ms
    
    # Subtest: hasServerMethod should check if the given method already exist
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 4 - hasServerMethod should check if the given method already exist # time=23.25ms
    
    # Subtest: decorate should throw if a declared dependency is not present
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - (unnamed test)
    ok 5 - decorate should throw if a declared dependency is not present # time=11.707ms
    
    # Subtest: decorate should throw if declared dependency is not array
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - (unnamed test)
    ok 6 - decorate should throw if declared dependency is not array # time=6.559ms
    
    # Subtest: should pass error for missing request decorator
        1..2
        ok 1 - type is Error
        ok 2 - should match pattern provided
    ok 7 - should pass error for missing request decorator # time=7.308ms
    
    # Subtest: decorateReply inside register
        1..11
        ok 1 - should not error
        ok 2 - test exists
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 8 - decorateReply inside register # time=49.976ms
    
    # Subtest: decorateReply as plugin (inside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 9 - decorateReply as plugin (inside .after) # time=45.326ms
    
    # Subtest: decorateReply as plugin (outside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 10 - decorateReply as plugin (outside .after) # time=18.203ms
    
    # Subtest: decorateRequest inside register
        1..11
        ok 1 - should not error
        ok 2 - test exists
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 11 - decorateRequest inside register # time=19.701ms
    
    # Subtest: decorateRequest as plugin (inside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 12 - decorateRequest as plugin (inside .after) # time=20.583ms
    
    # Subtest: decorateRequest as plugin (outside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 13 - decorateRequest as plugin (outside .after) # time=15.745ms
    
    # Subtest: decorators should be instance separated
        1..1
        ok 1 - (unnamed test)
    ok 14 - decorators should be instance separated # time=2.247ms
    
    # Subtest: hasRequestDecorator
        # Subtest: is a function
            1..1
            ok 1 - expect truthy value
        ok 1 - is a function # time=1.25ms
        
        # Subtest: should check if the given request decoration already exist
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 2 - should check if the given request decoration already exist # time=1.896ms
        
        # Subtest: should check if the given request decoration already exist when null
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 3 - should check if the given request decoration already exist when null # time=1.648ms
        
        # Subtest: should be plugin encapsulable
            1..4
            ok 1 - expect falsey value
            ok 2 - expect falsey value
            ok 3 - expect truthy value
            ok 4 - expect falsey value
        ok 4 - should be plugin encapsulable # time=9.99ms
        
        # Subtest: should be inherited
            1..2
            ok 1 - expect truthy value
            ok 2 - expect truthy value
        ok 5 - should be inherited # time=8.689ms
        
        1..5
    ok 15 - hasRequestDecorator # time=41.633ms
    
    # Subtest: hasReplyDecorator
        # Subtest: is a function
            1..1
            ok 1 - expect truthy value
        ok 1 - is a function # time=1.899ms
        
        # Subtest: should check if the given reply decoration already exist
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 2 - should check if the given reply decoration already exist # time=2.066ms
        
        # Subtest: should check if the given reply decoration already exist when null
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 3 - should check if the given reply decoration already exist when null # time=1.496ms
        
        # Subtest: should be plugin encapsulable
            1..4
            ok 1 - expect falsey value
            ok 2 - expect falsey value
            ok 3 - expect truthy value
            ok 4 - expect falsey value
        ok 4 - should be plugin encapsulable # time=11.213ms
        
        # Subtest: should be inherited
            1..2
            ok 1 - expect truthy value
            ok 2 - expect truthy value
        ok 5 - should be inherited # time=6.808ms
        
        1..5
    ok 16 - hasReplyDecorator # time=127.578ms
    
    # Subtest: should register properties via getter/setter objects
        1..3
        ok 1 - expect truthy value
        ok 2 - a getter
        ok 3 - expect falsey value
    ok 17 - should register properties via getter/setter objects # time=7.831ms
    
    # Subtest: decorateRequest should work with getter/setter
        1..5
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - (unnamed test)
    ok 18 - decorateRequest should work with getter/setter # time=51.226ms
    
    # Subtest: decorateReply should work with getter/setter
        1..5
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - (unnamed test)
    ok 19 - decorateReply should work with getter/setter # time=15.67ms
    
    # Subtest: should register empty values
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 20 - should register empty values # time=3.616ms
    
    # Subtest: nested plugins can override things
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 21 - nested plugins can override things # time=5.071ms
    
    # Subtest: a decorator should addSchema to all the encapsulated tree
        1..1
        ok 1 - should not error
    ok 22 - a decorator should addSchema to all the encapsulated tree # time=4.719ms
    
    # Subtest: after can access to a decorated instance and previous plugin decoration
        1..11
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
    ok 23 - after can access to a decorated instance and previous plugin decoration # time=9.999ms
    
    # Subtest: decorate* should throw if called after ready
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 24 - decorate* should throw if called after ready # time=8.329ms
    
    # Subtest: decorate* should emit warning if an array is passed
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 25 - decorate* should emit warning if an array is passed # time=28.406ms
    
    # Subtest: decorate* should emit warning if object type is passed
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 26 - decorate* should emit warning if object type is passed # time=24.252ms
    
    # Subtest: decorate* should not emit warning if object with getter/setter is passed
        1..0
    ok 27 - decorate* should not emit warning if object with getter/setter is passed # time=23.61ms
    
    # Subtest: decorate* should not emit warning if string,bool,numbers are passed
        1..0
    ok 28 - decorate* should not emit warning if string,bool,numbers are passed # time=23.59ms
    
    # Subtest: Request/reply decorators should be able to access the server instance
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not be equal
        ok 4 - should be equal
        ok 5 - should not be equal
        ok 6 - should be equal
    ok 29 - Request/reply decorators should be able to access the server instance # time=9.823ms
    
    # Subtest: plugin required decorators
        1..0
    ok 30 - plugin required decorators # time=4.071ms
    
    # Subtest: decorateRequest/decorateReply empty string
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 31 - decorateRequest/decorateReply empty string # time=20.002ms
    
    # Subtest: decorateRequest/decorateReply is undefined
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 32 - decorateRequest/decorateReply is undefined # time=8.827ms
    
    # Subtest: decorateRequest/decorateReply is not set to a value
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 33 - decorateRequest/decorateReply is not set to a value # time=19.308ms
    
    # Subtest: decorateRequest with dependencies
        1..2
        ok 1 - expected to not throw
        ok 2 - expect truthy value
    ok 34 - decorateRequest with dependencies # time=7.773ms
    
    # Subtest: decorateRequest with dependencies (functions)
        1..2
        ok 1 - expected to not throw
        ok 2 - expect truthy value
    ok 35 - decorateRequest with dependencies (functions) # time=1.892ms
    
    # Subtest: chain of decorators on Request
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        1..6
    ok 36 - chain of decorators on Request # time=19.367ms
    
    # Subtest: chain of decorators on Reply
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        1..6
    ok 37 - chain of decorators on Reply # time=15.321ms
    
    1..37
    # time=852.571ms
ok 22 - test/decorator.test.js # time=852.571ms

# Subtest: test/default-route.test.js
    # Subtest: should fail if defaultRoute is not a function
        1..1
        ok 1 - should be equal
    ok 1 - should fail if defaultRoute is not a function # time=19.174ms
    
    # Subtest: correctly sets, returns, and calls defaultRoute
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 2 - correctly sets, returns, and calls defaultRoute # time=38.573ms
    
    1..2
    # time=67.103ms
ok 23 - test/default-route.test.js # time=67.103ms

# Subtest: test/delete.test.js
    # Subtest: shorthand - delete
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - delete # time=8.474ms
    
    # Subtest: shorthand - delete params
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - delete params # time=1.816ms
    
    # Subtest: shorthand - delete, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - delete, querystring schema # time=1.531ms
    
    # Subtest: shorthand - get, headers schema
        1..1
        ok 1 - (unnamed test)
    ok 4 - shorthand - get, headers schema # time=1.395ms
    
    # Subtest: missing schema - delete
        1..1
        ok 1 - (unnamed test)
    ok 5 - missing schema - delete # time=1.456ms
    
    # Subtest: body - delete
        1..1
        ok 1 - (unnamed test)
    ok 6 - body - delete # time=1.172ms
    
    # Subtest: shorthand - delete with application/json Content-Type header and without body
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - shorthand - delete with application/json Content-Type header and without body # time=43.092ms
    
    ok 8 - should not error
    # Subtest: shorthand - request delete
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 9 - shorthand - request delete # time=30.633ms
    
    # Subtest: shorthand - request delete params schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 10 - shorthand - request delete params schema # time=7.029ms
    
    # Subtest: shorthand - request delete params schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 11 - shorthand - request delete params schema error # time=14.287ms
    
    # Subtest: shorthand - request delete headers schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 12 - shorthand - request delete headers schema # time=5.303ms
    
    # Subtest: shorthand - request delete headers schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 13 - shorthand - request delete headers schema error # time=5.17ms
    
    # Subtest: shorthand - request delete querystring schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 14 - shorthand - request delete querystring schema # time=4.875ms
    
    # Subtest: shorthand - request delete querystring schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 15 - shorthand - request delete querystring schema error # time=4.441ms
    
    # Subtest: shorthand - request delete missing schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 16 - shorthand - request delete missing schema # time=4.727ms
    
    # Subtest: shorthand - delete with body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - shorthand - delete with body # time=7.552ms
    
    1..17
    # time=326.436ms
ok 24 - test/delete.test.js # time=326.436ms

# Subtest: test/diagnostics-channel.test.js
    # Subtest: diagnostics_channel when present and subscribers
        1..3
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should be equal
    ok 1 - diagnostics_channel when present and subscribers # time=1027.25ms
    
    # Subtest: diagnostics_channel when present and no subscribers
        1..1
        ok 1 - should be equal
    ok 2 - diagnostics_channel when present and no subscribers # time=20.133ms
    
    # Subtest: diagnostics_channel when not present
        1..1
        ok 1 - expected to not throw
    ok 3 - diagnostics_channel when not present # time=18.194ms
    
    1..3
    # time=1078.857ms
ok 25 - test/diagnostics-channel.test.js # time=1078.857ms

# Subtest: test/encapsulated-error-handler.test.js
    # Subtest: encapuslates an error handler
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 1 - encapuslates an error handler # time=84.746ms
    
    # Subtest: onError hook nested
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 2 - onError hook nested # time=12.041ms
    
    1..2
    # time=104.281ms
ok 26 - test/encapsulated-error-handler.test.js # time=104.281ms

# Subtest: test/esm/index.test.js
    # Subtest: named exports support
        ok 1 - should be equal
        1..1
    ok 1 - named exports support # time=52.101ms
    
    ok 2 - should be equal
    1..2
    # time=64.347ms
ok 27 - test/esm/index.test.js # time=64.347ms

# Subtest: test/fastify-instance.test.js
    # Subtest: root fastify instance is an object
        1..1
        ok 1 - type is object
    ok 1 - root fastify instance is an object # time=15.515ms
    
    # Subtest: fastify instance should contains ajv options
        1..1
        ok 1 - should be equivalent
    ok 2 - fastify instance should contains ajv options # time=6.569ms
    
    # Subtest: fastify instance should contains ajv options.plugins nested arrays
        1..1
        ok 1 - should be equivalent
    ok 3 - fastify instance should contains ajv options.plugins nested arrays # time=3.165ms
    
    # Subtest: fastify instance get invalid ajv options
        1..1
        ok 1 - expected to throw
    ok 4 - fastify instance get invalid ajv options # time=1.493ms
    
    # Subtest: fastify instance get invalid ajv options.plugins
        1..1
        ok 1 - expected to throw
    ok 5 - fastify instance get invalid ajv options.plugins # time=1.156ms
    
    # Subtest: fastify instance should contain default errorHandler
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 6 - fastify instance should contain default errorHandler # time=2.723ms
    
    # Subtest: errorHandler in plugin should be separate from the external one
        1..4
        ok 1 - should not be equivalent
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equivalent
    ok 7 - errorHandler in plugin should be separate from the external one # time=15.753ms
    
    1..7
    # time=68.212ms
ok 28 - test/fastify-instance.test.js # time=68.212ms

# Subtest: test/fluent-schema.test.js
    # Subtest: use fluent-json-schema object
        1..15
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equivalent
    ok 1 - use fluent-json-schema object # time=185.19ms
    
    # Subtest: use complex fluent-json-schema object
        1..1
        ok 1 - should not error
    ok 2 - use complex fluent-json-schema object # time=42.768ms
    
    # Subtest: use fluent schema and plain JSON schema
        1..1
        ok 1 - should not error
    ok 3 - use fluent schema and plain JSON schema # time=65.181ms
    
    # Subtest: Should call valueOf internally
        1..1
        ok 1 - should not error
    ok 4 - Should call valueOf internally # time=63.761ms
    
    1..4
    # time=370.613ms
ok 29 - test/fluent-schema.test.js # time=370.613ms

# Subtest: test/genReqId.test.js
    # Subtest: Should accept a custom genReqId function
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 1 - Should accept a custom genReqId function # time=69.047ms
    
    1..1
    # time=74.918ms
ok 30 - test/genReqId.test.js # time=74.918ms

# Subtest: test/get.test.js
    # Subtest: shorthand - get
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - get # time=9.722ms
    
    # Subtest: shorthand - get (return null)
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - get (return null) # time=2.077ms
    
    # Subtest: shorthand - get params
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - get params # time=2.343ms
    
    # Subtest: shorthand - get, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 4 - shorthand - get, querystring schema # time=1.974ms
    
    # Subtest: shorthand - get, headers schema
        1..1
        ok 1 - (unnamed test)
    ok 5 - shorthand - get, headers schema # time=1.905ms
    
    # Subtest: missing schema - get
        1..1
        ok 1 - (unnamed test)
    ok 6 - missing schema - get # time=1.529ms
    
    # Subtest: custom serializer - get
        1..1
        ok 1 - (unnamed test)
    ok 7 - custom serializer - get # time=2.482ms
    
    # Subtest: empty response
        1..1
        ok 1 - (unnamed test)
    ok 8 - empty response # time=1.466ms
    
    # Subtest: send a falsy boolean
        1..1
        ok 1 - (unnamed test)
    ok 9 - send a falsy boolean # time=1.431ms
    
    ok 10 - should not error
    # Subtest: shorthand - request get
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - shorthand - request get # time=40.28ms
    
    # Subtest: shorthand - request get params schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 12 - shorthand - request get params schema # time=7.14ms
    
    # Subtest: shorthand - request get params schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 13 - shorthand - request get params schema error # time=6.689ms
    
    # Subtest: shorthand - request get headers schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - shorthand - request get headers schema # time=5.591ms
    
    # Subtest: shorthand - request get headers schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 15 - shorthand - request get headers schema error # time=24.632ms
    
    # Subtest: shorthand - request get querystring schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 16 - shorthand - request get querystring schema # time=6.11ms
    
    # Subtest: shorthand - request get querystring schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - shorthand - request get querystring schema error # time=5.177ms
    
    # Subtest: shorthand - request get missing schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - shorthand - request get missing schema # time=5.067ms
    
    # Subtest: shorthand - custom serializer
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 19 - shorthand - custom serializer # time=6.1ms
    
    # Subtest: shorthand - empty response
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 20 - shorthand - empty response # time=5.003ms
    
    # Subtest: shorthand - send a falsy boolean
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - shorthand - send a falsy boolean # time=5.893ms
    
    # Subtest: shorthand - send null value
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - shorthand - send null value # time=4.64ms
    
    1..22
    # time=337.681ms
ok 31 - test/get.test.js # time=337.681ms

# Subtest: test/handler-context.test.js
    # Subtest: handlers receive correct `this` context
        1..4
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 1 - handlers receive correct `this` context # time=52.455ms
    
    # Subtest: handlers have access to the internal context
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - type is Object
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 2 - handlers have access to the internal context # time=16.297ms
    
    1..2
    # time=75.982ms
ok 32 - test/handler-context.test.js # time=75.982ms

# Subtest: test/head.test.js
    # Subtest: shorthand - head
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - head # time=9.869ms
    
    # Subtest: shorthand - head params
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - head params # time=2.942ms
    
    # Subtest: shorthand - head, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - head, querystring schema # time=1.996ms
    
    # Subtest: missing schema - head
        1..1
        ok 1 - (unnamed test)
    ok 4 - missing schema - head # time=1.929ms
    
    ok 5 - should not error
    # Subtest: shorthand - request head
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 6 - shorthand - request head # time=38.326ms
    
    # Subtest: shorthand - request head params schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 7 - shorthand - request head params schema # time=6.298ms
    
    # Subtest: shorthand - request head params schema error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 8 - shorthand - request head params schema error # time=6.314ms
    
    # Subtest: shorthand - request head querystring schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 9 - shorthand - request head querystring schema # time=4.929ms
    
    # Subtest: shorthand - request head querystring schema error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - shorthand - request head querystring schema error # time=4.803ms
    
    # Subtest: shorthand - request head missing schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 11 - shorthand - request head missing schema # time=4.306ms
    
    1..11
    # time=231.706ms
ok 33 - test/head.test.js # time=231.706ms

# Subtest: test/hooks-async.test.js
    # Subtest: async hooks
        1..21
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - should not error
        ok 13 - should be equal
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equivalent
        ok 18 - should not error
        ok 19 - should be equal
        ok 20 - expect truthy value
        ok 21 - expect truthy value
    ok 1 - async hooks # time=131.869ms
    
    # Subtest: modify payload
        1..10
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - expect truthy value
        ok 4 - should be equivalent
        ok 5 - expect truthy value
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
    ok 2 - modify payload # time=38.145ms
    
    # Subtest: onRequest hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 3 - onRequest hooks should be able to block a request # time=20.385ms
    
    # Subtest: preParsing hooks should be able to modify the payload
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 4 - preParsing hooks should be able to modify the payload # time=16.621ms
    
    # Subtest: preParsing hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 5 - preParsing hooks should handle errors # time=6.038ms
    
    # Subtest: preHandler hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 6 - preHandler hooks should be able to block a request # time=25.747ms
    
    # Subtest: preValidation hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 7 - preValidation hooks should be able to block a request # time=6.336ms
    
    # Subtest: preValidation hooks should be able to change request body before validation
        1..4
        ok 1 - (unnamed test)
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - preValidation hooks should be able to change request body before validation # time=110.597ms
    
    # Subtest: preSerialization hooks should be able to modify the payload
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - preSerialization hooks should be able to modify the payload # time=26.28ms
    
    # Subtest: preSerialization hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - preSerialization hooks should handle errors # time=18.477ms
    
    # Subtest: preValidation hooks should handle throwing null
        1..4
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - preValidation hooks should handle throwing null # time=20.164ms
    
    # Subtest: preValidation hooks should handle throwing a string
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 12 - preValidation hooks should handle throwing a string # time=31.863ms
    
    # Subtest: onRequest hooks should be able to block a request (last hook)
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 13 - onRequest hooks should be able to block a request (last hook) # time=27.595ms
    
    # Subtest: preHandler hooks should be able to block a request (last hook)
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 14 - preHandler hooks should be able to block a request (last hook) # time=13.726ms
    
    # Subtest: onRequest respond with a stream
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - onRequest respond with a stream # time=24.128ms
    
    # Subtest: preHandler respond with a stream
        1..7
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 16 - preHandler respond with a stream # time=10.758ms
    
    # Subtest: Should log a warning if is an async function with `done`
        # Subtest: 3 arguments
            1..1
            ok 1 - expect truthy value
        ok 1 - 3 arguments # time=1.803ms
        
        # Subtest: 4 arguments
            1..3
            ok 1 - expect truthy value
            ok 2 - expect truthy value
            ok 3 - expect truthy value
        ok 2 - 4 arguments # time=1.964ms
        
        1..2
    ok 17 - Should log a warning if is an async function with `done` # time=14.691ms
    
    # Subtest: early termination, onRequest async
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 18 - early termination, onRequest async # time=5.403ms
    
    # Subtest: The this should be the same of the encapsulation level
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        1..4
    ok 19 - The this should be the same of the encapsulation level # time=12.575ms
    
    # Subtest: preSerializationEnd should handle errors if the serialize method throws
        # Subtest: works with sync preSerialization
            1..2
            ok 1 - should not error
            ok 2 - should not be equal
        ok 1 - works with sync preSerialization # time=13.846ms
        
        # Subtest: works with async preSerialization
            1..2
            ok 1 - should not error
            ok 2 - should not be equal
        ok 2 - works with async preSerialization # time=5.769ms
        
        1..2
    ok 20 - preSerializationEnd should handle errors if the serialize method throws # time=24.019ms
    
    1..20
    # time=599.836ms
ok 34 - test/hooks-async.test.js # time=599.836ms

# Subtest: test/hooks.on-ready.test.js
    # Subtest: onReady should be called in order
        1..7
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
        ok 7 - should not error
    ok 1 - onReady should be called in order # time=69.267ms
    
    # Subtest: async onReady should be called in order
        1..7
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
        ok 7 - ready
    ok 2 - async onReady should be called in order # time=10.45ms
    
    # Subtest: mix ready and onReady
        1..2
        ok 1 - should be equal
        ok 2 - ready hooks execute once
    ok 3 - mix ready and onReady # time=11.729ms
    
    # Subtest: listen and onReady order
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - trigger the onReady
        ok 9 - do not trigger the onReady
    ok 4 - listen and onReady order # time=21.672ms
    
    # Subtest: multiple ready calls
        1..11
        ok 1 - ready and hooks not triggered yet
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - trigger the onReady
        ok 10 - do not trigger the onReady
        ok 11 - do not trigger the onReady
    ok 5 - multiple ready calls # time=11.876ms
    
    # Subtest: onReady should manage error in sync
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 6 - onReady should manage error in sync # time=6.154ms
    
    # Subtest: onReady should manage error in async
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 7 - onReady should manage error in async # time=17.309ms
    
    # Subtest: onReady should manage sync error
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 8 - onReady should manage sync error # time=14.265ms
    
    # Subtest: onReady can not add decorators or application hooks
        1..3
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should not error
    ok 9 - onReady can not add decorators or application hooks # time=5.096ms
    
    # Subtest: onReady cannot add lifecycle hooks
        1..5
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 10 - onReady cannot add lifecycle hooks # time=8.871ms
    
    # Subtest: onReady throw loading error
        1..1
        ok 1 - expect truthy value
    ok 11 - onReady throw loading error # time=1.789ms
    
    # Subtest: onReady does not call done
        1..6
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
        ok 6 - should be equal
    ok 12 - onReady does not call done # time=516.103ms
    
    # Subtest: onReady execution order
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 13 - onReady execution order # time=3.726ms
    
    # Subtest: ready return the server with callback
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 14 - ready return the server with callback # time=67.252ms
    
    # Subtest: ready return the server with Promise
        1..1
        ok 1 - should be equivalent
    ok 15 - ready return the server with Promise # time=7.962ms
    
    # Subtest: ready return registered
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
    ok 16 - ready return registered # time=11.522ms
    
    1..16
    # time=814.63ms
ok 35 - test/hooks.on-ready.test.js # time=814.63ms

# Subtest: test/hooks.test.js
    # Subtest: hooks
        1..43
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - (unnamed test)
        ok 4 - (unnamed test)
        ok 5 - (unnamed test)
        ok 6 - (unnamed test)
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - expect truthy value
        ok 20 - expect truthy value
        ok 21 - expect truthy value
        ok 22 - expect truthy value
        ok 23 - should be equal
        ok 24 - should be equal
        ok 25 - should be equal
        ok 26 - should be equal
        ok 27 - should be equal
        ok 28 - should be equal
        ok 29 - should be equal
        ok 30 - should be equal
        ok 31 - should be equal
        ok 32 - expect truthy value
        ok 33 - expect truthy value
        ok 34 - expect truthy value
        ok 35 - expect truthy value
        ok 36 - should not error
        ok 37 - should be equal
        ok 38 - should be equal
        ok 39 - should be equivalent
        ok 40 - should not error
        ok 41 - should be equal
        ok 42 - should not error
        ok 43 - should be equal
    ok 1 - hooks # time=159.347ms
    
    # Subtest: onRequest hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 2 - onRequest hook should support encapsulation / 1 # time=24.097ms
    
    # Subtest: onRequest hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 3 - onRequest hook should support encapsulation / 2 # time=8.772ms
    
    # Subtest: onRequest hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 4 - onRequest hook should support encapsulation / 3 # time=20.124ms
    
    # Subtest: preHandler hook should support encapsulation / 5
        1..17
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equivalent
    ok 5 - preHandler hook should support encapsulation / 5 # time=18.374ms
    
    # Subtest: onRoute hook should be called / 1
        1..2
        ok 1 - (unnamed test)
        ok 2 - should not error
    ok 6 - onRoute hook should be called / 1 # time=5.879ms
    
    # Subtest: onRoute hook should be called / 2
        1..5
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 7 - onRoute hook should be called / 2 # time=9.802ms
    
    # Subtest: onRoute hook should be called / 3
        1..5
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - (unnamed test)
        ok 5 - should not error
    ok 8 - onRoute hook should be called / 3 # time=18.363ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 4
        1..4
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - (unnamed test)
        ok 4 - should not error
    ok 9 - onRoute hook should be called (encapsulation support) / 4 # time=19.06ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 5
        1..2
        ok 1 - (unnamed test)
        ok 2 - should not error
    ok 10 - onRoute hook should be called (encapsulation support) / 5 # time=8.214ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 6
        1..1
        ok 1 - should not error
    ok 11 - onRoute hook should be called (encapsulation support) / 6 # time=5.401ms
    
    # Subtest: onRoute should keep the context
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
    ok 12 - onRoute should keep the context # time=10.011ms
    
    # Subtest: onRoute hook should pass correct route
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should not error
    ok 13 - onRoute hook should pass correct route # time=7.716ms
    
    # Subtest: onRoute hook should pass correct route with custom prefix
        1..11
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
    ok 14 - onRoute hook should pass correct route with custom prefix # time=8.402ms
    
    # Subtest: onRoute hook should pass correct route with custom options
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - type is function
        ok 6 - should not error
    ok 15 - onRoute hook should pass correct route with custom options # time=20.728ms
    
    # Subtest: onRoute hook should receive any route option
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 16 - onRoute hook should receive any route option # time=13.21ms
    
    # Subtest: onRoute hook should preserve system route configuration
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 17 - onRoute hook should preserve system route configuration # time=17.396ms
    
    # Subtest: onRoute hook should preserve handler function in options of shorthand route system configuration
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 18 - onRoute hook should preserve handler function in options of shorthand route system configuration # time=4.972ms
    
    # Subtest: onRoute hook should be called once when prefixTrailingSlash
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 19 - onRoute hook should be called once when prefixTrailingSlash # time=9.089ms
    
    # Subtest: onRoute hook should able to change the route url
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 20 - onRoute hook should able to change the route url # time=9.686ms
    
    # Subtest: onRoute hook that throws should be caught
        1..1
        ok 1 - expect truthy value
    ok 21 - onRoute hook that throws should be caught # time=3.985ms
    
    # Subtest: onRoute hook with many prefix
        1..3
        ok 1 - should match pattern provided
        ok 2 - should match pattern provided
        ok 3 - should not error
    ok 22 - onRoute hook with many prefix # time=8.492ms
    
    # Subtest: onRoute hook should not be called when it registered after route
        1..3
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
    ok 23 - onRoute hook should not be called when it registered after route # time=3.877ms
    
    # Subtest: onResponse hook should log request error
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 24 - onResponse hook should log request error # time=78.007ms
    
    # Subtest: onResponse hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 25 - onResponse hook should support encapsulation / 1 # time=8.431ms
    
    # Subtest: onResponse hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 26 - onResponse hook should support encapsulation / 2 # time=4.801ms
    
    # Subtest: onResponse hook should support encapsulation / 3
        1..16
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 27 - onResponse hook should support encapsulation / 3 # time=44.53ms
    
    # Subtest: onSend hook should support encapsulation / 1
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 28 - onSend hook should support encapsulation / 1 # time=6.011ms
    
    # Subtest: onSend hook should support encapsulation / 2
        1..16
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 29 - onSend hook should support encapsulation / 2 # time=15.415ms
    
    # Subtest: onSend hook is called after payload is serialized and headers are set
        1..30
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should be equal
        ok 15 - should not error
        ok 16 - should be equal
        ok 17 - should be equivalent
        ok 18 - should be equal
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equivalent
        ok 22 - should be equal
        ok 23 - should not error
        ok 24 - should be equal
        ok 25 - should be equivalent
        ok 26 - should be equal
        ok 27 - should not error
        ok 28 - should be equal
        ok 29 - should be equivalent
        ok 30 - should be equal
    ok 30 - onSend hook is called after payload is serialized and headers are set # time=24.09ms
    
    # Subtest: modify payload
        1..10
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - expect truthy value
        ok 4 - should be equivalent
        ok 5 - expect truthy value
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
    ok 31 - modify payload # time=6.548ms
    
    # Subtest: clear payload
        1..6
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 32 - clear payload # time=4.409ms
    
    # Subtest: onSend hook throws
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 33 - onSend hook throws # time=36.743ms
    
    # Subtest: onSend hook should receive valid request and reply objects if onRequest hook fails
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 34 - onSend hook should receive valid request and reply objects if onRequest hook fails # time=10.593ms
    
    # Subtest: onSend hook should receive valid request and reply objects if a custom content type parser fails
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 35 - onSend hook should receive valid request and reply objects if a custom content type parser fails # time=6.028ms
    
    # Subtest: Content-Length header should be updated if onSend hook modifies the payload
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 36 - Content-Length header should be updated if onSend hook modifies the payload # time=5.211ms
    
    # Subtest: cannot add hook after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 37 - cannot add hook after binding # time=5.061ms
    
    # Subtest: onRequest hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 38 - onRequest hooks should be able to block a request # time=5.117ms
    
    # Subtest: preValidation hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 39 - preValidation hooks should be able to block a request # time=6.141ms
    
    # Subtest: preValidation hooks should be able to change request body before validation
        1..4
        ok 1 - (unnamed test)
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 40 - preValidation hooks should be able to change request body before validation # time=77.836ms
    
    # Subtest: preParsing hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 41 - preParsing hooks should be able to block a request # time=5.011ms
    
    # Subtest: preHandler hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 42 - preHandler hooks should be able to block a request # time=4.559ms
    
    # Subtest: onRequest hooks should be able to block a request (last hook)
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 43 - onRequest hooks should be able to block a request (last hook) # time=4.231ms
    
    # Subtest: preHandler hooks should be able to block a request (last hook)
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 44 - preHandler hooks should be able to block a request (last hook) # time=3.981ms
    
    # Subtest: preParsing hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 45 - preParsing hooks should handle errors # time=4.157ms
    
    # Subtest: onRequest respond with a stream
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 46 - onRequest respond with a stream # time=21.604ms
    
    # Subtest: preHandler respond with a stream
        1..7
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 47 - preHandler respond with a stream # time=6.813ms
    
    # Subtest: Register an hook after a plugin inside a plugin
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 48 - Register an hook after a plugin inside a plugin # time=7.381ms
    
    # Subtest: Register an hook after a plugin inside a plugin (with preHandler option)
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 49 - Register an hook after a plugin inside a plugin (with preHandler option) # time=6.608ms
    
    # Subtest: Register hooks inside a plugin after an encapsulated plugin
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 50 - Register hooks inside a plugin after an encapsulated plugin # time=6.917ms
    
    # Subtest: onRequest hooks should run in the order in which they are defined
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 51 - onRequest hooks should run in the order in which they are defined # time=8.246ms
    
    # Subtest: preHandler hooks should run in the order in which they are defined
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 52 - preHandler hooks should run in the order in which they are defined # time=21.667ms
    
    # Subtest: onSend hooks should run in the order in which they are defined
        1..8
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equivalent
    ok 53 - onSend hooks should run in the order in which they are defined # time=8.421ms
    
    # Subtest: onResponse hooks should run in the order in which they are defined
        1..8
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equivalent
    ok 54 - onResponse hooks should run in the order in which they are defined # time=9.017ms
    
    # Subtest: onRequest, preHandler, and onResponse hooks that resolve to a value do not cause an error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 55 - onRequest, preHandler, and onResponse hooks that resolve to a value do not cause an error # time=11.828ms
    
    # Subtest: If a response header has been set inside an hook it shoulod not be overwritten by the final response handler
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 56 - If a response header has been set inside an hook it shoulod not be overwritten by the final response handler # time=15.771ms
    
    # Subtest: If the content type has been set inside an hook it should not be changed
        1..5
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 57 - If the content type has been set inside an hook it should not be changed # time=4.307ms
    
    # Subtest: request in onRequest, preParsing, preValidation and onResponse
        1..18
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equivalent
        ok 10 - should be equivalent
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equivalent
        ok 14 - should be equivalent
        ok 15 - should be equivalent
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
    ok 58 - request in onRequest, preParsing, preValidation and onResponse # time=20.719ms
    
    # Subtest: preValidation hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 59 - preValidation hook should support encapsulation / 1 # time=6.368ms
    
    # Subtest: preValidation hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 60 - preValidation hook should support encapsulation / 2 # time=7.454ms
    
    # Subtest: preValidation hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 61 - preValidation hook should support encapsulation / 3 # time=15.675ms
    
    # Subtest: onError hook
        1..3
        ok 1 - should match pattern provided
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 62 - onError hook # time=26.277ms
    
    # Subtest: reply.send should throw if called inside the onError hook
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 63 - reply.send should throw if called inside the onError hook # time=5.392ms
    
    # Subtest: onError hook with setErrorHandler
        # Subtest: Send error
            1..3
            ok 1 - should match pattern provided
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 1 - Send error # time=5.355ms
        
        1..1
    ok 64 - onError hook with setErrorHandler # time=10.295ms
    
    # Subtest: preParsing hook should run before parsing and be able to modify the payload
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 65 - preParsing hook should run before parsing and be able to modify the payload # time=35.598ms
    
    # Subtest: preParsing hooks should run in the order in which they are defined
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 66 - preParsing hooks should run in the order in which they are defined # time=25.065ms
    
    # Subtest: preParsing hooks should support encapsulation
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 67 - preParsing hooks should support encapsulation # time=11.957ms
    
    # Subtest: preParsing hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 68 - preParsing hook should support encapsulation / 1 # time=5.62ms
    
    # Subtest: preParsing hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 69 - preParsing hook should support encapsulation / 2 # time=5.574ms
    
    # Subtest: preParsing hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 70 - preParsing hook should support encapsulation / 3 # time=12.764ms
    
    # Subtest: preSerialization hook should run before serialization and be able to modify the payload
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 71 - preSerialization hook should run before serialization and be able to modify the payload # time=14.401ms
    
    # Subtest: preSerialization hook should be able to throw errors which are validated against schema response
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        1..6
    ok 72 - preSerialization hook should be able to throw errors which are validated against schema response # time=13.211ms
    
    # Subtest: preSerialization hook which returned error should still run onError hooks
        1..4
        ok 1 - should not error
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - should be equal
    ok 73 - preSerialization hook which returned error should still run onError hooks # time=6.985ms
    
    # Subtest: preSerialization hooks should run in the order in which they are defined
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 74 - preSerialization hooks should run in the order in which they are defined # time=8.58ms
    
    # Subtest: preSerialization hooks should support encapsulation
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 75 - preSerialization hooks should support encapsulation # time=13.65ms
    
    # Subtest: onRegister hook should be called / 1
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should not error
    ok 76 - onRegister hook should be called / 1 # time=3.852ms
    
    # Subtest: onRegister hook should be called / 2
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
    ok 77 - onRegister hook should be called / 2 # time=5.284ms
    
    # Subtest: onRegister hook should be called / 3
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
    ok 78 - onRegister hook should be called / 3 # time=5.382ms
    
    # Subtest: onRegister hook should be called (encapsulation)
        1..1
        ok 1 - should not error
    ok 79 - onRegister hook should be called (encapsulation) # time=2.522ms
    
    # Subtest: early termination, onRequest
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 80 - early termination, onRequest # time=4.305ms
    
    # Subtest: reply.send should throw if undefined error is thrown
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 81 - reply.send should throw if undefined error is thrown # time=6.945ms
    
    # Subtest: reply.send should throw if undefined error is thrown at preParsing hook
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 82 - reply.send should throw if undefined error is thrown at preParsing hook # time=6.393ms
    
    # Subtest: reply.send should throw if undefined error is thrown at onSend hook
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 83 - reply.send should throw if undefined error is thrown at onSend hook # time=4.251ms
    
    # Subtest: onTimeout should be triggered
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - onTimeout
        ok 5 - type is Error
        ok 6 - should be equal
    ok 84 - onTimeout should be triggered # time=508.88ms
    
    # Subtest: onTimeout should be triggered and socket _meta is set
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - onTimeout
        ok 5 - type is Error
        ok 6 - should be equal
    ok 85 - onTimeout should be triggered and socket _meta is set # time=509.447ms
    
    1..85
    # time=2260.468ms
ok 36 - test/hooks.test.js # time=2260.468ms

# Subtest: test/http2/closing.test.js
    # Subtest: http/2 request while fastify closing
        ok 1 - http2 successfully loaded
        ok 2 - should not error
        # Subtest: return 200
            ok 1 - should be equal
            1..1
        ok 3 - return 200 # time=12.189ms
        
        1..3
    ok 1 - http/2 request while fastify closing # time=59.405ms
    
    # Subtest: http/2 request while fastify closing - return503OnClosing: false
        ok 1 - http2 successfully loaded
        ok 2 - should not error
        # Subtest: return 200
            ok 1 - should be equal
            1..1
        ok 3 - return 200 # time=7.75ms
        
        1..3
    ok 2 - http/2 request while fastify closing - return503OnClosing: false # time=16.929ms
    
    # Subtest: http/2 closes successfully with async await
        1..0
    ok 3 - http/2 closes successfully with async await # time=109.833ms
    
    # Subtest: https/2 closes successfully with async await
        1..0
    ok 4 - https/2 closes successfully with async await # time=20.163ms
    
    # Subtest: http/2 server side session emits a timeout event
        ok 1 - should be equal
        1..1
    ok 5 - http/2 server side session emits a timeout event # time=110.556ms
    
    1..5
    # time=344.908ms
ok 37 - test/http2/closing.test.js # time=344.908ms

# Subtest: test/http2/constraint.test.js
    # Subtest: A route supports host constraints under http2 protocol and secure connection
        1..5
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request - no constrain
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - https get request - no constrain # time=49.689ms
        
        # Subtest: https get request - constrain
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - https get request - constrain # time=15.29ms
        
        # Subtest: https get request - constrain - not found
            1..1
            ok 1 - should be equal
        ok 5 - https get request - constrain - not found # time=11.648ms
        
    ok 1 - A route supports host constraints under http2 protocol and secure connection # time=160.454ms
    
    1..1
    # time=188.977ms
ok 38 - test/http2/constraint.test.js # time=188.977ms

# Subtest: test/http2/head.test.js
    ok 1 - http2 successfully loaded
    ok 2 - should not error
    # Subtest: http HEAD request
        1..1
        ok 1 - should be equal
    ok 3 - http HEAD request # time=99.508ms
    
    1..3
    # time=174.098ms
ok 39 - test/http2/head.test.js # time=174.098ms

# Subtest: test/http2/missing-http2-module.test.js
    # Subtest: should throw when http2 module cannot be found
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - should throw when http2 module cannot be found # time=11.181ms
    
    1..1
    # time=16.703ms
ok 40 - test/http2/missing-http2-module.test.js # time=16.703ms

# Subtest: test/http2/plain.test.js
    ok 1 - http2 successfully loaded
    ok 2 - should not error
    # Subtest: http get request
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 3 - http get request # time=34.598ms
    
    # Subtest: http hostname
        1..1
        ok 1 - should be equal
    ok 4 - http hostname # time=7.735ms
    
    1..4
    # time=126.16ms
ok 41 - test/http2/plain.test.js # time=126.16ms

# Subtest: test/http2/secure-with-fallback.test.js
    # Subtest: secure with fallback
        1..7
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get error
            1..1
            ok 1 - should be equal
        ok 3 - https get error # time=40.662ms
        
        # Subtest: https post
            1..2
            ok 1 - should be equal
            ok 2 - should be equivalent
        ok 4 - https post # time=25.147ms
        
        # Subtest: https get request
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - https get request # time=17.027ms
        
        # Subtest: http1 get request
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 6 - http1 get request # time=21.195ms
        
        # Subtest: http1 get error
            1..2
            ok 1 - should not error
            ok 2 - should be equal
        ok 7 - http1 get error # time=8.284ms
        
    ok 1 - secure with fallback # time=208.408ms
    
    1..1
    # time=240.547ms
ok 42 - test/http2/secure-with-fallback.test.js # time=240.547ms

# Subtest: test/http2/secure.test.js
    # Subtest: secure
        1..4
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - https get request # time=40.264ms
        
        # Subtest: https get request without trust proxy - protocol
            1..2
            ok 1 - should be equivalent
            ok 2 - should be equivalent
        ok 4 - https get request without trust proxy - protocol # time=29.61ms
        
    ok 1 - secure # time=154.142ms
    
    1..1
    # time=183.981ms
ok 43 - test/http2/secure.test.js # time=183.981ms

# Subtest: test/http2/unknown-http-method.test.js
    ok 1 - should not error
    # Subtest: http UNKNOWN_METHOD request
        1..2
        ok 1 - should be equal
        ok 2 - should be equivalent
    ok 2 - http UNKNOWN_METHOD request # time=34.967ms
    
    1..2
    # time=93.32ms
ok 44 - test/http2/unknown-http-method.test.js # time=93.32ms

# Subtest: test/https/custom-https-server.test.js
    # Subtest: Should support a custom https server
        1..4
        ok 1 - it is called twice for every HOST interface
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - Should support a custom https server # time=84.479ms
    
    1..1
    # time=117.316ms
ok 45 - test/https/custom-https-server.test.js # time=117.316ms

# Subtest: test/https/https.test.js
    # Subtest: https
        1..4
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 3 - https get request # time=37.751ms
        
        # Subtest: https get request without trust proxy - protocol
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 4 - https get request without trust proxy - protocol # time=16.153ms
        
    ok 1 - https # time=139.898ms
    
    1..1
    # time=170.346ms
ok 46 - test/https/https.test.js # time=170.346ms

# Subtest: test/imports.test.js
    # Subtest: should import as default
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 1 - should import as default # time=777.681ms
    
    # Subtest: should import as esm
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 2 - should import as esm # time=2.061ms
    
    1..2
    # time=791.439ms
ok 47 - test/imports.test.js # time=791.439ms

# Subtest: test/inject.test.js
    # Subtest: inject should exist
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 1 - inject should exist # time=15.709ms
    
    # Subtest: should wait for the ready event
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 2 - should wait for the ready event # time=593.672ms
    
    # Subtest: inject get request
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 3 - inject get request # time=8.227ms
    
    # Subtest: inject get request - code check
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 4 - inject get request - code check # time=10.314ms
    
    # Subtest: inject get request - headers check
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 5 - inject get request - headers check # time=6.496ms
    
    # Subtest: inject get request - querystring
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 6 - inject get request - querystring # time=7.087ms
    
    # Subtest: inject get request - params
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 7 - inject get request - params # time=6.238ms
    
    # Subtest: inject get request - wildcard
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - inject get request - wildcard # time=13.16ms
    
    # Subtest: inject get request - headers
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 9 - inject get request - headers # time=20.483ms
    
    # Subtest: inject post request
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 10 - inject post request # time=18.73ms
    
    # Subtest: inject post request - send stream
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 11 - inject post request - send stream # time=15.127ms
    
    # Subtest: inject get request - reply stream
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 12 - inject get request - reply stream # time=9.568ms
    
    # Subtest: inject promisify - waiting for ready event
        1..1
        ok 1 - should be equal
    ok 13 - inject promisify - waiting for ready event # time=20.48ms
    
    # Subtest: inject promisify - after the ready event
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 14 - inject promisify - after the ready event # time=14.55ms
    
    # Subtest: inject promisify - when the server is up
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 15 - inject promisify - when the server is up # time=20.132ms
    
    # Subtest: should reject in error case
        1..1
        ok 1 - should be equal
    ok 16 - should reject in error case # time=505.649ms
    
    # Subtest: inject a multipart request using form-body
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 17 - inject a multipart request using form-body # time=32.173ms
    
    # Subtest: should error the promise if ready errors
        1..3
        ok 1 - after is called
        ok 2 - expect truthy value
        ok 3 - should be equal
    ok 18 - should error the promise if ready errors # time=15.331ms
    
    # Subtest: should throw error if callback specified and if ready errors
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 19 - should throw error if callback specified and if ready errors # time=4.699ms
    
    # Subtest: should support builder-style injection with ready app
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
    ok 20 - should support builder-style injection with ready app # time=8.012ms
    
    # Subtest: should support builder-style injection with non-ready app
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
    ok 21 - should support builder-style injection with non-ready app # time=6.015ms
    
    # Subtest: should handle errors in builder-style injection correctly
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 22 - should handle errors in builder-style injection correctly # time=4.518ms
    
    1..22
    # time=1374.711ms
ok 48 - test/inject.test.js # time=1374.711ms

# Subtest: test/internals/all.test.js
    # Subtest: fastify.all should add all the methods to the same url
        1..14
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equivalent
    ok 1 - fastify.all should add all the methods to the same url # time=67.084ms
    
    1..1
    # time=72.045ms
ok 49 - test/internals/all.test.js # time=72.045ms

# Subtest: test/internals/contentTypeParser.test.js
    # Subtest: rawBody function
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - rawBody function # time=20.239ms
    
    # Subtest: Should support Webpack and faux modules
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - Should support Webpack and faux modules # time=17.534ms
    
    1..2
    # time=46.437ms
ok 50 - test/internals/contentTypeParser.test.js # time=46.437ms

# Subtest: test/internals/decorator.test.js
    # Subtest: decorate should add the given method to its instance
        1..1
        ok 1 - expect truthy value
    ok 1 - decorate should add the given method to its instance # time=5.619ms
    
    # Subtest: decorate is chainable
        1..3
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
    ok 2 - decorate is chainable # time=1.843ms
    
    # Subtest: checkExistence should check if a property is part of the given instance
        1..1
        ok 1 - expect truthy value
    ok 3 - checkExistence should check if a property is part of the given instance # time=1.084ms
    
    # Subtest: checkExistence should find the instance if not given
        1..1
        ok 1 - expect truthy value
    ok 4 - checkExistence should find the instance if not given # time=0.927ms
    
    # Subtest: checkExistence should check the prototype as well
        1..1
        ok 1 - expect truthy value
    ok 5 - checkExistence should check the prototype as well # time=1.044ms
    
    # Subtest: checkDependencies should throw if a dependency is not present
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 6 - checkDependencies should throw if a dependency is not present # time=1.52ms
    
    # Subtest: decorate should internally call checkDependencies
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 7 - decorate should internally call checkDependencies # time=0.935ms
    
    # Subtest: decorate should recognize getter/setter objects
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - (unnamed test)
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 8 - decorate should recognize getter/setter objects # time=1.862ms
    
    1..8
    # time=69.453ms
ok 51 - test/internals/decorator.test.js # time=69.453ms

# Subtest: test/internals/handleRequest.test.js
    # Subtest: handleRequest function - sent reply
        1..1
        ok 1 - should be equal
    ok 1 - handleRequest function - sent reply # time=5.801ms
    
    # Subtest: handleRequest function - invoke with error
        1..1
        ok 1 - should be equal
    ok 2 - handleRequest function - invoke with error # time=1.288ms
    
    # Subtest: handler function - invalid schema
        1..1
        ok 1 - errorHandler called
    ok 3 - handler function - invalid schema # time=70.409ms
    
    # Subtest: handler function - reply
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - (unnamed test)
    ok 4 - handler function - reply # time=2.85ms
    
    # Subtest: handler function - preValidationCallback with finished response
        1..0
    ok 5 - handler function - preValidationCallback with finished response # time=0.799ms
    
    # Subtest: request should be defined in onSend Hook on post request with content type application/json
        1..8
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - should not error
        ok 8 - should be equal
    ok 6 - request should be defined in onSend Hook on post request with content type application/json # time=320.373ms
    
    # Subtest: request should be defined in onSend Hook on post request with content type application/x-www-form-urlencoded
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - should be equal
    ok 7 - request should be defined in onSend Hook on post request with content type application/x-www-form-urlencoded # time=12.405ms
    
    # Subtest: request should be defined in onSend Hook on options request with content type application/x-www-form-urlencoded
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - should be equal
    ok 8 - request should be defined in onSend Hook on options request with content type application/x-www-form-urlencoded # time=23.967ms
    
    # Subtest: request should respond with an error if an unserialized payload is sent inside an async handler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
    ok 9 - request should respond with an error if an unserialized payload is sent inside an async handler # time=40.542ms
    
    1..9
    # time=503.974ms
ok 52 - test/internals/handleRequest.test.js # time=503.974ms

# Subtest: test/internals/hookRunner.test.js
    # Subtest: hookRunner - Basic
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 1 - hookRunner - Basic # time=9.054ms
    
    # Subtest: hookRunner - In case of error should skip to done
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 2 - hookRunner - In case of error should skip to done # time=2.719ms
    
    # Subtest: hookRunner - Should handle throw
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 3 - hookRunner - Should handle throw # time=2.091ms
    
    # Subtest: hookRunner - Should handle promises
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 4 - hookRunner - Should handle promises # time=27.496ms
    
    # Subtest: hookRunner - In case of error should skip to done (with promises)
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 5 - hookRunner - In case of error should skip to done (with promises) # time=2.469ms
    
    # Subtest: hookRunner - Be able to exit before its natural end
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 6 - hookRunner - Be able to exit before its natural end # time=1.292ms
    
    # Subtest: hookRunner - Promises that resolve to a value do not change the state
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 7 - hookRunner - Promises that resolve to a value do not change the state # time=1.564ms
    
    # Subtest: onSendHookRunner - Basic
        1..13
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equal
        ok 10 - should not error
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equal
    ok 8 - onSendHookRunner - Basic # time=8.544ms
    
    # Subtest: onSendHookRunner - Can change the payload
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 9 - onSendHookRunner - Can change the payload # time=3.783ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 10 - onSendHookRunner - In case of error should skip to done # time=2.568ms
    
    # Subtest: onSendHookRunner - Should handle promises
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 11 - onSendHookRunner - Should handle promises # time=2.988ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done (with promises)
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 12 - onSendHookRunner - In case of error should skip to done (with promises) # time=2.784ms
    
    # Subtest: onSendHookRunner - Be able to exit before its natural end
        1..2
        ok 1 - should be equivalent
        ok 2 - should be equivalent
    ok 13 - onSendHookRunner - Be able to exit before its natural end # time=1.055ms
    
    1..13
    # time=109.625ms
ok 53 - test/internals/hookRunner.test.js # time=109.625ms

# Subtest: test/internals/hooks.test.js
    # Subtest: hooks should have 4 array with the registered hooks
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        1..8
    ok 1 - hooks should have 4 array with the registered hooks # time=9.759ms
    
    # Subtest: hooks.add should add a hook to the given hook
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        1..14
    ok 2 - hooks.add should add a hook to the given hook # time=6.923ms
    
    # Subtest: hooks should throw on unexisting handler
        1..1
        ok 1 - (unnamed test)
    ok 3 - hooks should throw on unexisting handler # time=1.332ms
    
    # Subtest: should throw on wrong parameters
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 4 - should throw on wrong parameters # time=2.091ms
    
    1..4
    # time=35.706ms
ok 54 - test/internals/hooks.test.js # time=35.706ms

# Subtest: test/internals/initialConfig.test.js
    # Subtest: Fastify.initialConfig is an object
        1..1
        ok 1 - type is object
    ok 1 - Fastify.initialConfig is an object # time=16.36ms
    
    # Subtest: without options passed to Fastify, initialConfig should expose default values
        1..1
        ok 1 - should be equivalent
    ok 2 - without options passed to Fastify, initialConfig should expose default values # time=12.953ms
    
    # Subtest: Fastify.initialConfig should expose all options
        1..20
        ok 1 - should be equal
        ok 2 - for security reason the key cert is hidden
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - expect truthy value
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equal
    ok 3 - Fastify.initialConfig should expose all options # time=10.813ms
    
    # Subtest: Should throw if you try to modify Fastify.initialConfig
        1..4
        ok 1 - type is TypeError
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - (unnamed test)
    ok 4 - Should throw if you try to modify Fastify.initialConfig # time=3.117ms
    
    # Subtest: We must avoid shallow freezing and ensure that the whole object is freezed
        1..4
        ok 1 - type is TypeError
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - key cert removed
    ok 5 - We must avoid shallow freezing and ensure that the whole object is freezed # time=22.848ms
    
    # Subtest: https value check
        1..1
        ok 1 - expect falsey value
    ok 6 - https value check # time=6.306ms
    
    # Subtest: Return an error if options do not match the validation schema
        1..6
        ok 1 - type is Error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
        ok 6 - (unnamed test)
    ok 7 - Return an error if options do not match the validation schema # time=84.348ms
    
    # Subtest: Original options must not be frozen
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - Original options must not be frozen # time=2.734ms
    
    # Subtest: Original options must not be altered (test deep cloning)
        1..3
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 9 - Original options must not be altered (test deep cloning) # time=4.718ms
    
    # Subtest: Should not have issues when passing stream options to Pino.js
        1..15
        ok 1 - type is object
        ok 2 - should be equivalent
        ok 3 - listen at log message is ok
        ok 4 - should not error
        ok 5 - reqId is defined
        ok 6 - req is defined
        ok 7 - message is set
        ok 8 - method is get
        ok 9 - expect truthy value
        ok 10 - should be equal
        ok 11 - reqId is defined
        ok 12 - res is defined
        ok 13 - message is set
        ok 14 - statusCode is 200
        ok 15 - responseTime is defined
    ok 10 - Should not have issues when passing stream options to Pino.js # time=46.263ms
    
    # Subtest: deepFreezeObject() should not throw on TypedArray
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - (unnamed test)
    ok 11 - deepFreezeObject() should not throw on TypedArray # time=1.64ms
    
    # Subtest: Fastify.initialConfig should accept the deprecated versioning option
        1..1
        ok 1 - should be equal
    ok 12 - Fastify.initialConfig should accept the deprecated versioning option # time=4.709ms
    
    # Subtest: pluginTimeout should be parsed correctly
        ok 1 - should be equal
        ok 2 - should be equal
        1..2
    ok 13 - pluginTimeout should be parsed correctly # time=2.68ms
    
    1..13
    # time=309.275ms
ok 55 - test/internals/initialConfig.test.js # time=309.275ms

# Subtest: test/internals/logger.test.js
    # Subtest: time resolution
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - time resolution # time=5.859ms
    
    # Subtest: The logger should add a unique id for every request
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - the id should not be duplicated
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - the id should not be duplicated
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - the id should not be duplicated
        ok 11 - expect truthy value
        ok 12 - should not error
        ok 13 - the id should not be duplicated
        ok 14 - expect truthy value
        ok 15 - should not error
        ok 16 - the id should not be duplicated
        ok 17 - expect truthy value
        ok 18 - should not error
        ok 19 - the id should not be duplicated
        ok 20 - expect truthy value
        ok 21 - should not error
        ok 22 - the id should not be duplicated
        ok 23 - expect truthy value
        ok 24 - should not error
        ok 25 - the id should not be duplicated
        ok 26 - expect truthy value
        ok 27 - should not error
        ok 28 - the id should not be duplicated
        ok 29 - expect truthy value
        ok 30 - should not error
        ok 31 - the id should not be duplicated
        1..31
    ok 2 - The logger should add a unique id for every request # time=77.21ms
    
    # Subtest: The logger should reuse request id header for req.id
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - the request id from the header should be returned
        1..4
    ok 3 - The logger should reuse request id header for req.id # time=11.621ms
    
    # Subtest: The logger should error if both stream and file destination are given
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - The logger should error if both stream and file destination are given # time=1.628ms
    
    # Subtest: The serializer prevent fails if the request socket is undefined
        1..1
        ok 1 - should be equivalent
    ok 5 - The serializer prevent fails if the request socket is undefined # time=4.778ms
    
    1..5
    # time=110.856ms
ok 56 - test/internals/logger.test.js # time=110.856ms

# Subtest: test/internals/plugin.test.js
    # Subtest: shouldSkipOverride should check the 'skip-override' symbol
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 1 - shouldSkipOverride should check the 'skip-override' symbol # time=6.919ms
    
    # Subtest: getPluginName should return plugin name if the file is cached
        1..1
        ok 1 - should be equal
    ok 2 - getPluginName should return plugin name if the file is cached # time=1.834ms
    
    # Subtest: getMeta should return the object stored with the 'plugin-meta' symbol
        1..1
        ok 1 - should be equivalent
    ok 3 - getMeta should return the object stored with the 'plugin-meta' symbol # time=3.618ms
    
    # Subtest: checkDecorators should check if the given decorator is present in the instance
        1..1
        ok 1 - Everything ok
    ok 4 - checkDecorators should check if the given decorator is present in the instance # time=1.595ms
    
    # Subtest: checkDecorators should check if the given decorator is present in the instance (errored)
        1..1
        ok 1 - should be equal
    ok 5 - checkDecorators should check if the given decorator is present in the instance (errored) # time=1.744ms
    
    # Subtest: checkDecorators should accept optional decorators
        1..1
        ok 1 - Everything ok
    ok 6 - checkDecorators should accept optional decorators # time=1.013ms
    
    # Subtest: checkDependencies should check if the given dependency is present in the instance
        1..1
        ok 1 - Everything ok
    ok 7 - checkDependencies should check if the given dependency is present in the instance # time=2.472ms
    
    # Subtest: checkDependencies should check if the given dependency is present in the instance (errored)
        1..1
        ok 1 - should be equal
    ok 8 - checkDependencies should check if the given dependency is present in the instance (errored) # time=40.05ms
    
    1..8
    # time=126.959ms
ok 57 - test/internals/plugin.test.js # time=126.959ms

# Subtest: test/internals/reply-serialize.test.js
    # Subtest: Reply\#compileSerializationSchema
        1..4
        # Subtest: Should return a serialization function
            1..4
            ok 1 - type is Function
            ok 2 - type is string
            ok 3 - should be equal
            ok 4 - should be equal
        ok 1 - Should return a serialization function # time=79.831ms
        
        # Subtest: Should reuse the serialize fn across multiple invocations - Route without schema
            1..17
            ok 1 - build the schema compilation function
            ok 2 - type is Function
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - Are the same validate function
            ok 6 - type is Function
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - Are the same validate function
            ok 10 - type is Function
            ok 11 - should be equal
            ok 12 - should be equal
            ok 13 - Are the same validate function
            ok 14 - type is Function
            ok 15 - should be equal
            ok 16 - should be equal
            ok 17 - should be equal
        ok 2 - Should reuse the serialize fn across multiple invocations - Route without schema # time=22.042ms
        
        # Subtest: Should use the custom serializer compiler for the route
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equivalent
            ok 7 - {"hello":"world"}
            ok 8 - should be equivalent
            ok 9 - {"hello":"world"}
            ok 10 - should be equal
        ok 3 - Should use the custom serializer compiler for the route # time=33.772ms
        
        # Subtest: Should build a WeakMap for cache when called
            1..4
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
            ok 4 - should be equal
        ok 4 - Should build a WeakMap for cache when called # time=11.783ms
        
    ok 1 - Reply\#compileSerializationSchema # time=164.923ms
    
    # Subtest: Reply\#getSerializationFunction
        1..3
        # Subtest: Should retrieve the serialization function from the Schema definition
            1..9
            ok 1 - type is Function
            ok 2 - type is Function
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - expect falsey value
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
        ok 1 - Should retrieve the serialization function from the Schema definition # time=23.635ms
        
        # Subtest: Should retrieve the serialization function from the cached one
            1..6
            ok 1 - type is Function
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
        ok 2 - Should retrieve the serialization function from the cached one # time=9.31ms
        
        # Subtest: Should not instantiate a WeakMap if it is not needed
            1..4
            ok 1 - expect falsey value
            ok 2 - should be equal
            ok 3 - expect falsey value
            ok 4 - should be equal
        ok 3 - Should not instantiate a WeakMap if it is not needed # time=24.101ms
        
    ok 2 - Reply\#getSerializationFunction # time=71.741ms
    
    # Subtest: Reply\#serializeInput
        1..5
        # Subtest: Should throw if missed serialization function from HTTP status
            1..2
            ok 1 - should be equal
            ok 2 - should be equivalent
        ok 1 - Should throw if missed serialization function from HTTP status # time=43.304ms
        
        # Subtest: Should use a serializer fn from HTTP status
            1..4
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
        ok 2 - Should use a serializer fn from HTTP status # time=23.624ms
        
        # Subtest: Should compile a serializer out of a schema if serializer fn missed
            1..10
            ok 1 - should be equal
            ok 2 - expect falsey value
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 3 - Should compile a serializer out of a schema if serializer fn missed # time=9.186ms
        
        # Subtest: Should use a cached serializer fn
            1..12
            ok 1 - should be equal
            ok 2 - expect falsey value
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
            ok 11 - should be equal
            ok 12 - should be equal
        ok 4 - Should use a cached serializer fn # time=9.413ms
        
        # Subtest: Should instantiate a WeakMap after first call
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
        ok 5 - Should instantiate a WeakMap after first call # time=6.705ms
        
    ok 3 - Reply\#serializeInput # time=101.685ms
    
    1..3
    # time=345.789ms
ok 58 - test/internals/reply-serialize.test.js # time=345.789ms

# Subtest: test/internals/reply.test.js
    # Subtest: Once called, Reply should return an object with methods
        1..13
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should be equal
        ok 13 - should be equal
    ok 1 - Once called, Reply should return an object with methods # time=13.143ms
    
    # Subtest: reply.send will logStream error and destroy the stream
        1..1
        ok 1 - Error not logged and not streamed
    ok 2 - reply.send will logStream error and destroy the stream # time=4.862ms
    
    # Subtest: reply.send throw with circular JSON
        1..1
        ok 1 - Converting circular structure to JSON
    ok 3 - reply.send throw with circular JSON # time=1.367ms
    
    # Subtest: reply.send returns itself
        1..1
        ok 1 - should be equal
    ok 4 - reply.send returns itself # time=1.304ms
    
    # Subtest: reply.serializer should set a custom serializer
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 5 - reply.serializer should set a custom serializer # time=1.047ms
    
    # Subtest: reply.serializer should support running preSerialization hooks
        1..3
        ok 1 - preSerialization
        ok 2 - should not error
        ok 3 - should be equal
    ok 6 - reply.serializer should support running preSerialization hooks # time=740.546ms
    
    # Subtest: reply.serialize should serialize payload
        1..1
        ok 1 - should be equal
    ok 7 - reply.serialize should serialize payload # time=1.204ms
    
    # Subtest: reply.serialize should serialize payload with a custom serializer
        1..2
        ok 1 - should be equal
        ok 2 - custom serializer not called
    ok 8 - reply.serialize should serialize payload with a custom serializer # time=1.189ms
    
    # Subtest: reply.serialize should serialize payload with a context default serializer
        1..2
        ok 1 - should be equal
        ok 2 - custom serializer not called
    ok 9 - reply.serialize should serialize payload with a context default serializer # time=1.311ms
    
    # Subtest: reply.serialize should serialize payload with Fastify instance
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - reply.serialize should serialize payload with Fastify instance # time=20.966ms
    
    # Subtest: within an instance
        ok 1 - should not error
        # Subtest: custom serializer should be used
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - custom serializer should be used # time=36.271ms
        
        # Subtest: status code and content-type should be correct
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 3 - status code and content-type should be correct # time=6.005ms
        
        # Subtest: auto status code shoud be 200
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - auto status code shoud be 200 # time=4.864ms
        
        # Subtest: auto type shoud be text/plain
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - auto type shoud be text/plain # time=4.312ms
        
        # Subtest: redirect to `/` - 1
            1..1
            ok 1 - should be equal
        ok 6 - redirect to `/` - 1 # time=3.944ms
        
        # Subtest: redirect to `/` - 2
            1..1
            ok 1 - should be equal
        ok 7 - redirect to `/` - 2 # time=3.43ms
        
        # Subtest: redirect to `/` - 3
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 8 - redirect to `/` - 3 # time=7.57ms
        
        # Subtest: redirect to `/` - 4
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 9 - redirect to `/` - 4 # time=7.675ms
        
        # Subtest: redirect to `/` - 5
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
        ok 10 - redirect to `/` - 5 # time=3.474ms
        
        # Subtest: redirect to `/` - 6
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 11 - redirect to `/` - 6 # time=6.533ms
        
        # Subtest: redirect to `/` - 7
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 12 - redirect to `/` - 7 # time=6.749ms
        
        # Subtest: redirect to `/` - 8
            1..1
            ok 1 - should be equal
        ok 13 - redirect to `/` - 8 # time=2.936ms
        
        # Subtest: redirect to `/` - 9
            1..1
            ok 1 - should be equal
        ok 14 - redirect to `/` - 9 # time=3.108ms
        
        # Subtest: redirect with async function to `/` - 10
            1..1
            ok 1 - should be equal
        ok 15 - redirect with async function to `/` - 10 # time=3.158ms
        
        1..15
    ok 11 - within an instance # time=206.651ms
    
    # Subtest: buffer without content type should send a application/octet-stream and raw buffer
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 12 - buffer without content type should send a application/octet-stream and raw buffer # time=15.594ms
    
    # Subtest: buffer with content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 13 - buffer with content type should not send application/octet-stream # time=9.52ms
    
    # Subtest: stream with content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 14 - stream with content type should not send application/octet-stream # time=25.47ms
    
    # Subtest: stream without content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 15 - stream without content type should not send application/octet-stream # time=79.369ms
    
    # Subtest: stream using reply.raw.writeHead should return customize headers
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 16 - stream using reply.raw.writeHead should return customize headers # time=20.947ms
    
    # Subtest: plain string without content type should send a text/plain
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 17 - plain string without content type should send a text/plain # time=7.802ms
    
    # Subtest: plain string with content type should be sent unmodified
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - plain string with content type should be sent unmodified # time=7.525ms
    
    # Subtest: plain string with content type and custom serializer should be serialized
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 19 - plain string with content type and custom serializer should be serialized # time=7.287ms
    
    # Subtest: plain string with content type application/json should NOT be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 20 - plain string with content type application/json should NOT be serialized as json # time=8.337ms
    
    # Subtest: plain string with custom json content type should NOT be serialized as json
        1..19
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equivalent
    ok 21 - plain string with custom json content type should NOT be serialized as json # time=21.179ms
    
    # Subtest: non-string with content type application/json SHOULD be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 22 - non-string with content type application/json SHOULD be serialized as json # time=41.385ms
    
    # Subtest: non-string with custom json's content-type SHOULD be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 23 - non-string with custom json's content-type SHOULD be serialized as json # time=14.961ms
    
    # Subtest: non-string with custom json content type SHOULD be serialized as json
        1..16
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 24 - non-string with custom json content type SHOULD be serialized as json # time=39.039ms
    
    # Subtest: error object with a content type that is not application/json should work
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 25 - error object with a content type that is not application/json should work # time=7.549ms
    
    # Subtest: undefined payload should be sent as-is
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 26 - undefined payload should be sent as-is # time=7.642ms
    
    # Subtest: for HEAD method, no body should be sent but content-length should be
        1..11
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
    ok 27 - for HEAD method, no body should be sent but content-length should be # time=8.883ms
    
    # Subtest: reply.send(new NotFound()) should not invoke the 404 handler
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 28 - reply.send(new NotFound()) should not invoke the 404 handler # time=12.766ms
    
    # Subtest: reply can set multiple instances of same header
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - expect truthy value
        ok 4 - should be equivalent strictly
    ok 29 - reply can set multiple instances of same header # time=7.38ms
    
    # Subtest: reply.hasHeader returns correct values
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 30 - reply.hasHeader returns correct values # time=4.557ms
    
    # Subtest: reply.getHeader returns correct values
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
        ok 4 - should be equivalent strictly
    ok 31 - reply.getHeader returns correct values # time=7.184ms
    
    # Subtest: reply.getHeader returns raw header if there is not in the reply headers
        1..1
        ok 1 - should be equal
    ok 32 - reply.getHeader returns raw header if there is not in the reply headers # time=0.623ms
    
    # Subtest: reply.getHeaders returns correct values
        1..3
        ok 1 - should be equivalent strictly
        ok 2 - should be equivalent strictly
        ok 3 - should not error
    ok 33 - reply.getHeaders returns correct values # time=4.517ms
    
    # Subtest: reply.removeHeader can remove the value
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent strictly
        ok 5 - (unnamed test)
    ok 34 - reply.removeHeader can remove the value # time=6.215ms
    
    # Subtest: reply.header can reset the value
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent strictly
        ok 3 - (unnamed test)
    ok 35 - reply.header can reset the value # time=5.54ms
    
    # Subtest: reply.hasHeader computes raw and fastify headers
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - (unnamed test)
    ok 36 - reply.hasHeader computes raw and fastify headers # time=5.325ms
    
    # Subtest: Reply should handle JSON content type with a charset
        1..16
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should not error
        ok 16 - should be equal
    ok 37 - Reply should handle JSON content type with a charset # time=14.695ms
    
    # Subtest: Content type and charset set previously
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 38 - Content type and charset set previously # time=3.744ms
    
    # Subtest: .status() is an alias for .code()
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 39 - .status() is an alias for .code() # time=10.399ms
    
    # Subtest: .statusCode is getter and setter
        1..4
        ok 1 - 200
        ok 2 - 418
        ok 3 - should not error
        ok 4 - should be equal
    ok 40 - .statusCode is getter and setter # time=4.202ms
    
    # Subtest: reply.header setting multiple cookies as multiple Set-Cookie headers
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equivalent strictly
        ok 4 - should not error
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - should be equivalent strictly
    ok 41 - reply.header setting multiple cookies as multiple Set-Cookie headers # time=17.35ms
    
    # Subtest: should emit deprecation warning when trying to modify the reply.sent property
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 42 - should emit deprecation warning when trying to modify the reply.sent property # time=3.911ms
    
    # Subtest: should throw error when passing falsy value to reply.sent
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 43 - should throw error when passing falsy value to reply.sent # time=3.449ms
    
    # Subtest: should throw error when attempting to set reply.sent more than once
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 44 - should throw error when attempting to set reply.sent more than once # time=3.011ms
    
    # Subtest: should not throw error when attempting to set reply.sent if the underlining request was sent
        1..3
        ok 1 - expected to not throw
        ok 2 - should not error
        ok 3 - (unnamed test)
    ok 45 - should not throw error when attempting to set reply.sent if the underlining request was sent # time=3.5ms
    
    # Subtest: reply.getResponseTime() should return 0 before the timer is initialised on the reply by setting up response listeners
        1..1
        ok 1 - should be equal
    ok 46 - reply.getResponseTime() should return 0 before the timer is initialised on the reply by setting up response listeners # time=0.487ms
    
    # Subtest: reply.getResponseTime() should return a number greater than 0 after the timer is initialised on the reply by setting up response listeners
        1..1
        ok 1 - expect truthy value
    ok 47 - reply.getResponseTime() should return a number greater than 0 after the timer is initialised on the reply by setting up response listeners # time=4.167ms
    
    # Subtest: reply.getResponseTime() should return the time since a request started while inflight
        1..1
        ok 1 - should not be equal
    ok 48 - reply.getResponseTime() should return the time since a request started while inflight # time=3.121ms
    
    # Subtest: reply.getResponseTime() should return the same value after a request is finished
        1..1
        ok 1 - should be equal
    ok 49 - reply.getResponseTime() should return the same value after a request is finished # time=3.55ms
    
    # Subtest: reply should use the custom serializer
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 50 - reply should use the custom serializer # time=4.853ms
    
    # Subtest: reply should use the right serializer in encapsulated context
        1..9
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 51 - reply should use the right serializer in encapsulated context # time=10.648ms
    
    # Subtest: reply should use the right serializer in deep encapsulated context
        1..8
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 52 - reply should use the right serializer in deep encapsulated context # time=9.996ms
    
    # Subtest: reply should use the route serializer
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equal
    ok 53 - reply should use the route serializer # time=16.863ms
    
    # Subtest: cannot set the replySerializer when the server is running
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 54 - cannot set the replySerializer when the server is running # time=9.674ms
    
    # Subtest: reply should not call the custom serializer for errors and not found
        1..9
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 55 - reply should not call the custom serializer for errors and not found # time=6.593ms
    
    # Subtest: reply.then
        1..4
        # Subtest: without an error
            1..1
            ok 1 - fulfilled called
        ok 1 - without an error # time=10.42ms
        
        # Subtest: with an error
            1..1
            ok 1 - should be equal
        ok 2 - with an error # time=1.383ms
        
        # Subtest: with error but without reject callback
            1..1
            ok 1 - (unnamed test)
        ok 3 - with error but without reject callback # time=0.907ms
        
        # Subtest: with error, without reject callback, with logger
            1..1
            ok 1 - should be equal
        ok 4 - with error, without reject callback, with logger # time=1.404ms
        
    ok 56 - reply.then # time=20.92ms
    
    # Subtest: reply.sent should read from response.writableEnded if it is defined
        1..1
        ok 1 - should be equal
    ok 57 - reply.sent should read from response.writableEnded if it is defined # time=0.659ms
    
    # Subtest: redirect to an invalid URL should not crash the server
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        1..7
    ok 58 - redirect to an invalid URL should not crash the server # time=13.112ms
    
    # Subtest: invalid response headers should not crash the server
        ok 1 - only the first invalid header is logged
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 59 - invalid response headers should not crash the server # time=7.116ms
    
    # Subtest: invalid response headers when sending back an error
        ok 1 - only the first invalid header is logged
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 60 - invalid response headers when sending back an error # time=6.378ms
    
    # Subtest: invalid response headers and custom error handler
        ok 1 - custom error handler receives the error
        ok 2 - only the first invalid header is logged
        ok 3 - should be equal
        ok 4 - should be equivalent
        1..4
    ok 61 - invalid response headers and custom error handler # time=6.953ms
    
    1..61
    # time=1646.748ms
ok 59 - test/internals/reply.test.js # time=1646.748ms

# Subtest: test/internals/request-validate.test.js
    # Subtest: \#compileValidationSchema
        1..5
        # Subtest: Should return a function - Route without schema
            1..3
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
        ok 1 - Should return a function - Route without schema # time=150.465ms
        
        # Subtest: Should reuse the validate fn across multiple invocations - Route without schema
            1..16
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
            ok 4 - Are the same validate function
            ok 5 - type is Function
            ok 6 - expect truthy value
            ok 7 - expect falsey value
            ok 8 - Are the same validate function
            ok 9 - type is Function
            ok 10 - expect truthy value
            ok 11 - expect falsey value
            ok 12 - Are the same validate function
            ok 13 - type is Function
            ok 14 - expect truthy value
            ok 15 - expect falsey value
            ok 16 - should be equal
        ok 2 - Should reuse the validate fn across multiple invocations - Route without schema # time=44.164ms
        
        # Subtest: Should return a function - Route with schema
            1..3
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
        ok 3 - Should return a function - Route with schema # time=87.099ms
        
        # Subtest: Should use the custom validator compiler for the route
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equivalent
            ok 7 - expect truthy value
            ok 8 - should be equivalent
            ok 9 - expect truthy value
            ok 10 - should be equal
        ok 4 - Should use the custom validator compiler for the route # time=11.904ms
        
        # Subtest: Should instantiate a WeakMap when executed for first time
            1..5
            ok 1 - should be equal
            ok 2 - type is Function
            ok 3 - type is WeakMap
            ok 4 - type is Function
            ok 5 - type is WeakMap
        ok 5 - Should instantiate a WeakMap when executed for first time # time=55.857ms
        
    ok 1 - \#compileValidationSchema # time=377.288ms
    
    # Subtest: \#getValidationFunction
        1..4
        # Subtest: Should return a validation function
            1..1
            ok 1 - should be equal
        ok 1 - Should return a validation function # time=85.675ms
        
        # Subtest: Should return undefined if no schema compiled
            1..2
            ok 1 - expect falsey value
            ok 2 - expect falsey value
        ok 2 - Should return undefined if no schema compiled # time=5.224ms
        
        # Subtest: Should return the validation function from each HTTP part
            1..15
            ok 1 - expect truthy value
            ok 2 - expect truthy value
            ok 3 - expect falsey value
            ok 4 - expect truthy value
            ok 5 - expect truthy value
            ok 6 - expect falsey value
            ok 7 - expect truthy value
            ok 8 - expect truthy value
            ok 9 - expect truthy value
            ok 10 - expect truthy value
            ok 11 - expect falsey value
            ok 12 - should be equal
            ok 13 - expect truthy value
            ok 14 - expect falsey value
            ok 15 - should be equal
        ok 3 - Should return the validation function from each HTTP part # time=87.953ms
        
        # Subtest: Should not set a WeakMap if there is no schema
            1..1
            ok 1 - should be equal
        ok 4 - Should not set a WeakMap if there is no schema # time=15.501ms
        
    ok 2 - \#getValidationFunction # time=205.958ms
    
    # Subtest: \#validate
        1..7
        # Subtest: Should return true/false if input valid - Route without schema
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 1 - Should return true/false if input valid - Route without schema # time=52.727ms
        
        # Subtest: Should use the custom validator compiler for the route
            1..9
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equivalent
            ok 6 - should be equivalent
            ok 7 - expect truthy value
            ok 8 - expect truthy value
            ok 9 - should be equal
        ok 2 - Should use the custom validator compiler for the route # time=8.683ms
        
        # Subtest: Should return true/false if input valid - With Schema for Route defined
            1..8
            ok 1 - expect truthy value
            ok 2 - expect falsey value
            ok 3 - expect falsey value
            ok 4 - expect truthy value
            ok 5 - expect falsey value
            ok 6 - expect truthy value
            ok 7 - expect truthy value
            ok 8 - expect falsey value
        ok 3 - Should return true/false if input valid - With Schema for Route defined # time=95.295ms
        
        # Subtest: Should throw if missing validation fn for HTTP part and not schema provided
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 4 - Should throw if missing validation fn for HTTP part and not schema provided # time=10.022ms
        
        # Subtest: Should throw if missing validation fn for HTTP part and not valid schema provided
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 5 - Should throw if missing validation fn for HTTP part and not valid schema provided # time=12.351ms
        
        # Subtest: Should throw if invalid schema passed
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 6 - Should throw if invalid schema passed # time=9.275ms
        
        # Subtest: Should set a WeakMap if compiling the very first schema
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
        ok 7 - Should set a WeakMap if compiling the very first schema # time=24.397ms
        
    ok 3 - \#validate # time=222.1ms
    
    # Subtest: Nested Context
        1..1
        # Subtest: Level_1
            1..3
            # Subtest: \#compileValidationSchema
                1..4
                # Subtest: Should return a function - Route without schema
                    1..3
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                ok 1 - Should return a function - Route without schema # time=89.931ms
                
                # Subtest: Should reuse the validate fn across multiple invocations - Route without schema
                    1..16
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                    ok 4 - Are the same validate function
                    ok 5 - type is Function
                    ok 6 - expect truthy value
                    ok 7 - expect falsey value
                    ok 8 - Are the same validate function
                    ok 9 - type is Function
                    ok 10 - expect truthy value
                    ok 11 - expect falsey value
                    ok 12 - Are the same validate function
                    ok 13 - type is Function
                    ok 14 - expect truthy value
                    ok 15 - expect falsey value
                    ok 16 - should be equal
                ok 2 - Should reuse the validate fn across multiple invocations - Route without schema # time=71.725ms
                
                # Subtest: Should return a function - Route with schema
                    1..3
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                ok 3 - Should return a function - Route with schema # time=36.007ms
                
                # Subtest: Should use the custom validator compiler for the route
                    1..10
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - should be equal
                    ok 5 - should be equal
                    ok 6 - should be equivalent
                    ok 7 - expect truthy value
                    ok 8 - should be equivalent
                    ok 9 - expect truthy value
                    ok 10 - should be equal
                ok 4 - Should use the custom validator compiler for the route # time=9.863ms
                
            ok 1 - \#compileValidationSchema # time=221.201ms
            
            # Subtest: \#getValidationFunction
                1..6
                # Subtest: Should return a validation function
                    1..1
                    ok 1 - should be equal
                ok 1 - Should return a validation function # time=58.12ms
                
                # Subtest: Should return undefined if no schema compiled
                    1..1
                    ok 1 - expect falsey value
                ok 2 - Should return undefined if no schema compiled # time=5.052ms
                
                # Subtest: Should return the validation function from each HTTP part
                    1..15
                    ok 1 - expect truthy value
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                    ok 4 - expect truthy value
                    ok 5 - expect truthy value
                    ok 6 - expect falsey value
                    ok 7 - expect truthy value
                    ok 8 - expect truthy value
                    ok 9 - expect truthy value
                    ok 10 - expect truthy value
                    ok 11 - expect falsey value
                    ok 12 - should be equal
                    ok 13 - expect truthy value
                    ok 14 - expect falsey value
                    ok 15 - should be equal
                ok 3 - Should return the validation function from each HTTP part # time=45.472ms
                
                # Subtest: Should return a validation function - nested
                    1..6
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - expect falsey value
                    ok 5 - should be equal
                    ok 6 - should be equal
                ok 4 - Should return a validation function - nested # time=13.511ms
                
                # Subtest: Should return undefined if no schema compiled - nested
                    1..3
                    ok 1 - should be equal
                    ok 2 - expect falsey value
                    ok 3 - should be equal
                ok 5 - Should return undefined if no schema compiled - nested # time=8.421ms
                
                # Subtest: Should per-route defined validation compiler
                    1..5
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should not be equal
                    ok 4 - should be equal
                    ok 5 - should be equal
                ok 6 - Should per-route defined validation compiler # time=8.395ms
                
            ok 2 - \#getValidationFunction # time=150.989ms
            
            # Subtest: \#validate
                1..3
                # Subtest: Should return true/false if input valid - Route without schema
                    1..2
                    ok 1 - expect falsey value
                    ok 2 - expect truthy value
                ok 1 - Should return true/false if input valid - Route without schema # time=71.064ms
                
                # Subtest: Should use the custom validator compiler for the route
                    1..10
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - should be equal
                    ok 5 - should be equivalent
                    ok 6 - should be equivalent
                    ok 7 - expect truthy value
                    ok 8 - expect truthy value
                    ok 9 - should be equal
                    ok 10 - should be equal
                ok 2 - Should use the custom validator compiler for the route # time=8.775ms
                
                # Subtest: Should return true/false if input valid - With Schema for Route defined and scoped validator compiler
                    1..13
                    ok 1 - expect truthy value
                    ok 2 - expect falsey value
                    ok 3 - expect falsey value
                    ok 4 - expect truthy value
                    ok 5 - expect falsey value
                    ok 6 - expect truthy value
                    ok 7 - expect truthy value
                    ok 8 - expect falsey value
                    ok 9 - should be equal
                    ok 10 - should be equal
                    ok 11 - should be equal
                    ok 12 - should be equal
                    ok 13 - should be equal
                ok 3 - Should return true/false if input valid - With Schema for Route defined and scoped validator compiler # time=107.12ms
                
            ok 3 - \#validate # time=196.596ms
            
        ok 1 - Level_1 # time=576.388ms
        
    ok 4 - Nested Context # time=581.202ms
    
    1..4
    # time=1393.88ms
ok 60 - test/internals/request-validate.test.js # time=1393.88ms

# Subtest: test/internals/request.test.js
    # Subtest: Regular request
        ok 1 - type is Request
        ok 2 - type is Function
        ok 3 - type is Function
        ok 4 - type is Function
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        1..19
    ok 1 - Regular request # time=22.13ms
    
    # Subtest: Regular request - hostname from authority
        1..2
        ok 1 - type is Request
        ok 2 - should be equal
    ok 2 - Regular request - hostname from authority # time=1.7ms
    
    # Subtest: Regular request - host header has precedence over authority
        1..2
        ok 1 - type is Request
        ok 2 - should be equal
    ok 3 - Regular request - host header has precedence over authority # time=1.229ms
    
    # Subtest: Request with trust proxy
        1..18
        ok 1 - type is _Request
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - type is Function
        ok 17 - type is Function
        ok 18 - type is Function
    ok 4 - Request with trust proxy # time=11.527ms
    
    # Subtest: Request with trust proxy, encrypted
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 5 - Request with trust proxy, encrypted # time=1.369ms
    
    # Subtest: Request with trust proxy - no x-forwarded-host header
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 6 - Request with trust proxy - no x-forwarded-host header # time=1.228ms
    
    # Subtest: Request with trust proxy - no x-forwarded-host header and fallback to authority
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 7 - Request with trust proxy - no x-forwarded-host header and fallback to authority # time=1.278ms
    
    # Subtest: Request with trust proxy - x-forwarded-host header has precedence over host
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 8 - Request with trust proxy - x-forwarded-host header has precedence over host # time=0.787ms
    
    # Subtest: Request with trust proxy - handles multiple entries in x-forwarded-host/proto
        1..3
        ok 1 - type is _Request
        ok 2 - should be equal
        ok 3 - should be equal
    ok 9 - Request with trust proxy - handles multiple entries in x-forwarded-host/proto # time=1.131ms
    
    # Subtest: Request with trust proxy - plain
        1..1
        ok 1 - should be equivalent
    ok 10 - Request with trust proxy - plain # time=0.945ms
    
    # Subtest: Request with undefined socket
        1..18
        ok 1 - type is Request
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equivalent
        ok 16 - type is Function
        ok 17 - type is Function
        ok 18 - type is Function
    ok 11 - Request with undefined socket # time=3.548ms
    
    # Subtest: Request with trust proxy and undefined socket
        1..1
        ok 1 - should be equivalent
    ok 12 - Request with trust proxy and undefined socket # time=0.724ms
    
    1..12
    # time=115.053ms
ok 61 - test/internals/request.test.js # time=115.053ms

# Subtest: test/internals/server.test.js
    # Subtest: start listening
        ok 1 - server started
        1..1
    ok 1 - start listening # time=42.958ms
    
    # Subtest: DNS errors does not stop the main server on localhost - promise interface
        ok 1 - server started
        1..1
    ok 2 - DNS errors does not stop the main server on localhost - promise interface # time=18.94ms
    
    # Subtest: DNS errors does not stop the main server on localhost - callback interface
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 3 - DNS errors does not stop the main server on localhost - callback interface # time=34.13ms
    
    # Subtest: DNS returns empty binding
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 4 - DNS returns empty binding # time=22.17ms
    
    # Subtest: DNS returns more than two binding
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 5 - DNS returns more than two binding # time=16.802ms
    
    1..5
    # time=144.464ms
ok 62 - test/internals/server.test.js # time=144.464ms

# Subtest: test/internals/validation.test.js
    # Subtest: Symbols
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 1 - Symbols # time=7.16ms
    
    # Subtest: compileSchemasForValidation schema - missing schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - compileSchemasForValidation schema - missing schema # time=2.04ms
    
    # Subtest: compileSchemasForValidation schema - missing output schema
        1..1
        ok 1 - should be equal
    ok 3 - compileSchemasForValidation schema - missing output schema # time=0.904ms
    
    # Subtest: compileSchemasForSerialization schema - missing schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - compileSchemasForSerialization schema - missing schema # time=1.313ms
    
    # Subtest: compileSchemasForSerialization schema - missing output schema
        1..1
        ok 1 - should be equal
    ok 5 - compileSchemasForSerialization schema - missing output schema # time=0.598ms
    
    # Subtest: build schema - output schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 6 - build schema - output schema # time=66.002ms
    
    # Subtest: build schema - payload schema
        1..1
        ok 1 - should be equal
    ok 7 - build schema - payload schema # time=2.016ms
    
    # Subtest: build schema - avoid repeated normalize schema
        1..3
        ok 1 - should not be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 8 - build schema - avoid repeated normalize schema # time=1.647ms
    
    # Subtest: build schema - query schema
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 9 - build schema - query schema # time=11.662ms
    
    # Subtest: build schema - query schema abbreviated
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 10 - build schema - query schema abbreviated # time=2.391ms
    
    # Subtest: build schema - querystring schema
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 11 - build schema - querystring schema # time=2.053ms
    
    # Subtest: build schema - querystring schema abbreviated
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 12 - build schema - querystring schema abbreviated # time=2.113ms
    
    # Subtest: build schema - must throw if querystring and query schema exist
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 13 - build schema - must throw if querystring and query schema exist # time=1.249ms
    
    # Subtest: build schema - params schema
        1..1
        ok 1 - should be equal
    ok 14 - build schema - params schema # time=1.716ms
    
    # Subtest: build schema - headers schema
        1..1
        ok 1 - should be equal
    ok 15 - build schema - headers schema # time=2.096ms
    
    # Subtest: build schema - headers are lowercase
        1..1
        ok 1 - lowercase content-type exists
    ok 16 - build schema - headers are lowercase # time=0.844ms
    
    # Subtest: build schema - headers are not lowercased in case of custom object
        1..1
        ok 1 - type is Headers
    ok 17 - build schema - headers are not lowercased in case of custom object # time=0.637ms
    
    # Subtest: build schema - uppercased headers are not included
        1..1
        ok 1 - uppercase does not exist
    ok 18 - build schema - uppercased headers are not included # time=0.641ms
    
    1..18
    # time=183.827ms
ok 63 - test/internals/validation.test.js # time=183.827ms

# Subtest: test/keepAliveTimeout.test.js
    # Subtest: keepAliveTimeout
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not be equal
        ok 6 - should be equal
    ok 1 - keepAliveTimeout # time=41.966ms
    
    1..1
    # time=47.438ms
ok 64 - test/keepAliveTimeout.test.js # time=47.438ms

# Subtest: test/listen.deprecated.test.js
    # Subtest: listen accepts a port and a callback
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 1 - listen accepts a port and a callback # time=30.342ms
    
    # Subtest: listen accepts a port and a callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 2 - listen accepts a port and a callback with (err, address) # time=5.111ms
    
    # Subtest: listen accepts a port, address, and callback
        1..1
        ok 1 - should not error
    ok 3 - listen accepts a port, address, and callback # time=7.224ms
    
    # Subtest: listen accepts options, backlog and a callback
        1..1
        ok 1 - should not error
    ok 4 - listen accepts options, backlog and a callback # time=11.662ms
    
    # Subtest: listen accepts options (no port), backlog and a callback
        1..1
        ok 1 - should not error
    ok 5 - listen accepts options (no port), backlog and a callback # time=11.058ms
    
    # Subtest: listen accepts options (no host), backlog and a callback
        1..1
        ok 1 - should not error
    ok 6 - listen accepts options (no host), backlog and a callback # time=4.488ms
    
    # Subtest: listen accepts options (no port, no host), backlog and a callback
        1..1
        ok 1 - should not error
    ok 7 - listen accepts options (no port, no host), backlog and a callback # time=6.678ms
    
    # Subtest: listen accepts a port, address and a callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 8 - listen accepts a port, address and a callback with (err, address) # time=3.219ms
    
    # Subtest: listen accepts a port, address, backlog and callback
        1..1
        ok 1 - should not error
    ok 9 - listen accepts a port, address, backlog and callback # time=5.458ms
    
    # Subtest: listen accepts a port, address, backlog and callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 10 - listen accepts a port, address, backlog and callback with (err, address) # time=4.655ms
    
    # Subtest: listen without callback (port zero)
        1..1
        ok 1 - should be equal
    ok 11 - listen without callback (port zero) # time=4.986ms
    
    # Subtest: listen without callback (port not given)
        1..1
        ok 1 - should be equal
    ok 12 - listen without callback (port not given) # time=4.564ms
    
    # Subtest: listen null without callback with (address)
        1..1
        ok 1 - should be equal
    ok 13 - listen null without callback with (address) # time=4.314ms
    
    # Subtest: listen without port without callback with (address)
        1..1
        ok 1 - should be equal
    ok 14 - listen without port without callback with (address) # time=5.513ms
    
    # Subtest: listen with undefined without callback with (address)
        1..1
        ok 1 - should be equal
    ok 15 - listen with undefined without callback with (address) # time=5.968ms
    
    # Subtest: listen when firstArg is string(pipe) and without backlog
        1..1
        ok 1 - should be equal
    ok 16 - listen when firstArg is string(pipe) and without backlog # time=19.984ms
    
    # Subtest: listen when firstArg is string(pipe) and with backlog
        1..1
        ok 1 - should be equal
    ok 17 - listen when firstArg is string(pipe) and with backlog # time=11.732ms
    
    # Subtest: listen when firstArg is { path: string(pipe) } and with backlog and callback
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 18 - listen when firstArg is { path: string(pipe) } and with backlog and callback # time=16.436ms
    
    1..18
    # time=264.145ms
ok 65 - test/listen.deprecated.test.js # time=264.145ms

# Subtest: test/listen.test.js
    # Subtest: listen works without arguments
        ok 1 - should be equal
        ok 2 - expect truthy value
        1..2
    ok 1 - listen works without arguments # time=31.294ms
    
    # Subtest: Async/await listen with arguments
        1..1
        ok 1 - should be equal
    ok 2 - Async/await listen with arguments # time=5.2ms
    
    # Subtest: Promise listen with arguments
        1..1
        ok 1 - should be equal
    ok 3 - Promise listen with arguments # time=7.996ms
    
    # Subtest: listen accepts a callback
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 4 - listen accepts a callback # time=17.159ms
    
    # Subtest: listen accepts options and a callback
        1..1
        ok 1 - should not error
    ok 5 - listen accepts options and a callback # time=4.801ms
    
    # Subtest: listen after Promise.resolve()
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 6 - listen after Promise.resolve() # time=4.58ms
    
    # Subtest: register after listen using Promise.resolve()
        1..1
        ok 1 - resolved
    ok 7 - register after listen using Promise.resolve() # time=10.764ms
    
    # Subtest: double listen errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
    ok 8 - double listen errors # time=4.986ms
    
    # Subtest: double listen errors callback with (err, address)
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 9 - double listen errors callback with (err, address) # time=5.748ms
    
    # Subtest: listen twice on the same port
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 10 - listen twice on the same port # time=12.042ms
    
    # Subtest: listen twice on the same port callback with (err, address)
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 11 - listen twice on the same port callback with (err, address) # time=17.17ms
    
    # Subtest: listen on socket
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent strictly
        ok 3 - should be equal
    ok 12 - listen on socket # time=11.792ms
    
    # Subtest: listen without callback with (address)
        1..1
        ok 1 - should be equal
    ok 13 - listen without callback with (address) # time=4.216ms
    
    # Subtest: double listen without callback rejects
        1..1
        ok 1 - expect truthy value
    ok 14 - double listen without callback rejects # time=8.457ms
    
    # Subtest: double listen without callback with (address)
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 15 - double listen without callback with (address) # time=17.348ms
    
    # Subtest: listen twice on the same port without callback rejects
        1..1
        ok 1 - expect truthy value
    ok 16 - listen twice on the same port without callback rejects # time=6.923ms
    
    # Subtest: listen twice on the same port without callback rejects with (address)
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 17 - listen twice on the same port without callback rejects with (address) # time=11.081ms
    
    # Subtest: listen on invalid port without callback rejects
        ok 1 - expect truthy value
        1..1
    ok 18 - listen on invalid port without callback rejects # time=3.438ms
    
    # Subtest: listen logs the port as info
        1..1
        ok 1 - expect truthy value
    ok 19 - listen logs the port as info # time=3.681ms
    
    # Subtest: listen on localhost binds IPv4 and IPv6 - promise interface
        1..2
        ok 1 - should be equal
        ok 2 - should be equivalent
    ok 20 - listen on localhost binds IPv4 and IPv6 - promise interface # time=25.734ms
    
    # Subtest: listen on localhost binds to all interfaces (both IPv4 and IPv6 if present) - callback interface
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 21 - listen on localhost binds to all interfaces (both IPv4 and IPv6 if present) - callback interface # time=9.636ms
    
    # Subtest: addresses getter
        1..4
        ok 1 - before ready
        ok 2 - after ready
        ok 3 - after listen
        ok 4 - after close
    ok 22 - addresses getter # time=8.277ms
    
    1..22
    # time=322.843ms
ok 66 - test/listen.test.js # time=322.843ms

# Subtest: test/logger.test.js
    # Subtest: defaults to info level
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
        ok 13 - responseTime is defined
        1..13
    ok 1 - defaults to info level # time=58.67ms
    
    # Subtest: test log stream
        1..12
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
    ok 2 - test log stream # time=16.3ms
    
    # Subtest: test error log stream
        1..11
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - reqId is defined
        ok 9 - res is defined
        ok 10 - message is set
        ok 11 - statusCode is 500
    ok 3 - test error log stream # time=70.697ms
    
    # Subtest: can use external logger instance
        1..6
        ok 1 - "Server listening at http://127.0.0.1:36115" dont match "/^Server listening at /"
        ok 2 - should not error
        ok 3 - "incoming request" dont match "/^incoming request$/"
        ok 4 - expect truthy value
        ok 5 - "log success" dont match "/^log success$/"
        ok 6 - "request completed" dont match "/^request completed$/"
    ok 4 - can use external logger instance # time=40.3ms
    
    # Subtest: can use external logger instance with custom serializer
        1..6
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - expect truthy value
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 5 - can use external logger instance with custom serializer # time=15.187ms
    
    # Subtest: expose the logger
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equivalent
    ok 6 - expose the logger # time=2.718ms
    
    # Subtest: The request id header key can be customized
        1..9
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - message is set
        ok 6 - should be equal
        ok 7 - message is set
        ok 8 - should be equal
        ok 9 - message is set
    ok 7 - The request id header key can be customized # time=29.505ms
    
    # Subtest: The request id header key can be customized along with a custom id generator
        1..12
        ok 1 - should match pattern provided
        ok 2 - should be equal
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should be equal
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
    ok 8 - The request id header key can be customized along with a custom id generator # time=37.936ms
    
    # Subtest: The request id log label can be changed
        1..6
        ok 1 - should match pattern provided
        ok 2 - should be equal
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should not error
        ok 6 - should be equal
    ok 9 - The request id log label can be changed # time=9.747ms
    
    # Subtest: The logger should accept custom serializer
        1..9
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - req is defined
        ok 4 - message is set
        ok 5 - custom req serializer is use
        ok 6 - expect truthy value
        ok 7 - res is defined
        ok 8 - message is set
        ok 9 - default res serializer is use
    ok 10 - The logger should accept custom serializer # time=37.885ms
    
    # Subtest: reply.send logs an error if called twice in a row
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
    ok 11 - reply.send logs an error if called twice in a row # time=75.366ms
    
    # Subtest: logger can be silented
        1..17
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equivalent
        ok 10 - should be equivalent
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equivalent
        ok 14 - should be equivalent
        ok 15 - should be equivalent
        ok 16 - should be equivalent
        ok 17 - should be equivalent
    ok 12 - logger can be silented # time=7.222ms
    
    # Subtest: Should set a custom logLevel for a plugin
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equivalent
    ok 13 - Should set a custom logLevel for a plugin # time=14.108ms
    
    # Subtest: Should set a custom logSerializers for a plugin
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 14 - Should set a custom logSerializers for a plugin # time=28.209ms
    
    # Subtest: Should set a custom logLevel for every plugin
        1..18
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equivalent
        ok 15 - should not error
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equivalent
    ok 15 - Should set a custom logLevel for every plugin # time=22.312ms
    
    # Subtest: Should set a custom logSerializers for every plugin
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 16 - Should set a custom logSerializers for every plugin # time=20.138ms
    
    # Subtest: Should override serializers from route
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 17 - Should override serializers from route # time=8.207ms
    
    # Subtest: Should override serializers from plugin
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 18 - Should override serializers from plugin # time=47.528ms
    
    # Subtest: Should use serializers from plugin and route
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 19 - Should use serializers from plugin and route # time=9.931ms
    
    # Subtest: Should use serializers from instance fastify and route
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 20 - Should use serializers from instance fastify and route # time=6.74ms
    
    # Subtest: Should use serializers inherit from contexts
        1..5
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 21 - Should use serializers inherit from contexts # time=7.58ms
    
    # Subtest: Should increase the log level for a specific plugin
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 22 - Should increase the log level for a specific plugin # time=6.861ms
    
    # Subtest: Should set the log level for the customized 404 handler
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 23 - Should set the log level for the customized 404 handler # time=6.142ms
    
    # Subtest: Should set the log level for the customized 500 handler
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 24 - Should set the log level for the customized 500 handler # time=6.615ms
    
    # Subtest: Should set a custom log level for a specific route
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equivalent
    ok 25 - Should set a custom log level for a specific route # time=8.149ms
    
    # Subtest: The default 404 handler logs the incoming request
        1..5
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
    ok 26 - The default 404 handler logs the incoming request # time=5.414ms
    
    # Subtest: should serialize request and response
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 27 - should serialize request and response # time=8.411ms
    
    # Subtest: Wrap IPv6 address in listening log message
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 28 - Wrap IPv6 address in listening log message # time=3.237ms
    
    # Subtest: Do not wrap IPv4 address
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 29 - Do not wrap IPv4 address # time=3.609ms
    
    # Subtest: file option
        1..13
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - listen at log message is ok
        ok 4 - reqId is defined
        ok 5 - req is defined
        ok 6 - message is set
        ok 7 - method is get
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
        ok 13 - responseTime is defined
    ok 30 - file option # time=18.565ms
    
    # Subtest: should log the error if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 31 - should log the error if no error handler is defined # time=10.726ms
    
    # Subtest: should log as info if error status code >= 400 and < 500 if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 32 - should log as info if error status code >= 400 and < 500 if no error handler is defined # time=11.431ms
    
    # Subtest: should log as error if error status code >= 500 if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 33 - should log as error if error status code >= 500 if no error handler is defined # time=9.895ms
    
    # Subtest: should not log the error if error handler is defined and it does not error
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - level is correct
        ok 7 - message is set
        ok 8 - status code is set
    ok 34 - should not log the error if error handler is defined and it does not error # time=8.677ms
    
    # Subtest: should not rely on raw request to log errors
        1..7
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - status code is set
    ok 35 - should not rely on raw request to log errors # time=8.977ms
    
    # Subtest: should redact the authorization header if so specified
        1..7
        ok 1 - listen at log message is ok
        ok 2 - should not error
        ok 3 - authorization is redacted
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 36 - should redact the authorization header if so specified # time=20.575ms
    
    # Subtest: should not log incoming request and outgoing response when disabled
        1..3
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should be equivalent
    ok 37 - should not log incoming request and outgoing response when disabled # time=6.212ms
    
    # Subtest: should not log incoming request and outgoing response for 404 onBadUrl when disabled
        1..1
        ok 1 - should be equivalent
    ok 38 - should not log incoming request and outgoing response for 404 onBadUrl when disabled # time=9.016ms
    
    # Subtest: should pass when using unWritable props in the logger option
        1..1
        ok 1 - (unnamed test)
    ok 39 - should pass when using unWritable props in the logger option # time=1.708ms
    
    # Subtest: should be able to use a custom logger
        1..1
        ok 1 - (unnamed test)
    ok 40 - should be able to use a custom logger # time=5.241ms
    
    # Subtest: should create a default logger if provided one is invalid
        1..1
        ok 1 - (unnamed test)
    ok 41 - should create a default logger if provided one is invalid # time=8.557ms
    
    # Subtest: should not throw error when serializing custom req
        1..1
        ok 1 - should be equivalent
    ok 42 - should not throw error when serializing custom req # time=1.914ms
    
    1..42
    # time=936.777ms
ok 67 - test/logger.test.js # time=936.777ms

# Subtest: test/maxRequestsPerSocket.test.js
    # Subtest: maxRequestsPerSocket on node version >= 16.10.0
        1..8
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should match pattern provided
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
    ok 1 - maxRequestsPerSocket on node version >= 16.10.0 # time=68.715ms
    
    # Subtest: maxRequestsPerSocket zero should behave same as null
        1..10
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should match pattern provided
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
        ok 9 - should match pattern provided
        ok 10 - should match pattern provided
    ok 2 - maxRequestsPerSocket zero should behave same as null # time=17.196ms
    
    # Subtest: maxRequestsPerSocket should be set
        1..1
        ok 1 - should be equivalent
    ok 3 - maxRequestsPerSocket should be set # time=2.111ms
    
    # Subtest: maxRequestsPerSocket should 0
        1..1
        ok 1 - should be equivalent
    ok 4 - maxRequestsPerSocket should 0 # time=1.403ms
    
    # Subtest: requestTimeout passed to server
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 5 - requestTimeout passed to server # time=14.204ms
    
    1..5
    # time=113.809ms
ok 68 - test/maxRequestsPerSocket.test.js # time=113.809ms

# Subtest: test/middleware.test.js
    # Subtest: Should be able to override the default use API
        1..1
        ok 1 - should be equal
    ok 1 - Should be able to override the default use API # time=32.869ms
    
    # Subtest: Cannot decorate use twice
        1..1
        ok 1 - expect truthy value
    ok 2 - Cannot decorate use twice # time=2.454ms
    
    # Subtest: Encapsulation works
        1..1
        ok 1 - should be equal
    ok 3 - Encapsulation works # time=29.298ms
    
    1..3
    # time=85.735ms
ok 69 - test/middleware.test.js # time=85.735ms

# Subtest: test/noop-set.test.js
    # Subtest: does a lot of nothing
        ok 1 - type is object
        ok 2 - should be equal
        1..2
    ok 1 - does a lot of nothing # time=6.658ms
    
    1..1
    # time=11.962ms
ok 70 - test/noop-set.test.js # time=11.962ms

# Subtest: test/nullable-validation.test.js
    # Subtest: nullable string
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 1 - nullable string # time=120.127ms
    
    # Subtest: object or null body
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 2 - object or null body # time=50.427ms
    
    # Subtest: nullable body
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 3 - nullable body # time=48.978ms
    
    # Subtest: Nullable body with 204
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 4 - Nullable body with 204 # time=27.156ms
    
    1..4
    # time=254.555ms
ok 71 - test/nullable-validation.test.js # time=254.555ms

# Subtest: test/options.error-handler.test.js
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - OPTIONS can be created # time=8.742ms
    
    # Subtest: OPTIONS without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - OPTIONS without schema can be created # time=1.845ms
    
    # Subtest: OPTIONS with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - OPTIONS with body and querystring # time=1.475ms
    
    # Subtest: OPTIONS with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - OPTIONS with bodyLimit option # time=1.642ms
    
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - OPTIONS can be created # time=3.115ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - OPTIONS - correctly replies # time=56.867ms
    
    # Subtest: OPTIONS - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - OPTIONS - correctly replies with very large body # time=9.735ms
    
    # Subtest: OPTIONS - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - OPTIONS - correctly replies if the content type has the charset # time=5.897ms
    
    # Subtest: OPTIONS without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - OPTIONS without schema - correctly replies # time=5.517ms
    
    # Subtest: OPTIONS with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - OPTIONS with body and querystring - correctly replies # time=5.715ms
    
    # Subtest: OPTIONS with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - OPTIONS with no body - correctly replies # time=35.227ms
    
    # Subtest: OPTIONS returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - OPTIONS returns 415 - incorrect media type if body is not json # time=4.376ms
    
    # Subtest: OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text # time=5.685ms
    
    # Subtest: OPTIONS returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 14 - OPTIONS returns 400 - Bad Request # time=7.979ms
    
    # Subtest: OPTIONS returns 413 - Payload Too Large
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - OPTIONS returns 413 - Payload Too Large # time=6.856ms
    
    # Subtest: OPTIONS should fail with empty body and application/json content-type
        1..0
    ok 16 - OPTIONS should fail with empty body and application/json content-type # time=0.764ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - OPTIONS - correctly replies # time=4.903ms
    
    # Subtest: OPTIONS - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - OPTIONS - 400 on bad parameters # time=5.457ms
    
    # Subtest: OPTIONS - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - OPTIONS - input-validation coerce # time=4.569ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - OPTIONS - input-validation custom schema compiler # time=4.63ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - OPTIONS - input-validation joi schema compiler ok # time=6.238ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - OPTIONS - input-validation joi schema compiler ko # time=6.531ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - OPTIONS - input-validation yup schema compiler ok # time=6.362ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - OPTIONS - input-validation yup schema compiler ko # time=5.851ms
    
    # Subtest: OPTIONS - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - OPTIONS - input-validation instance custom schema compiler encapsulated # time=4.039ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 26 - OPTIONS - input-validation custom schema compiler encapsulated # time=4.195ms
    
    ok 27 - type is object
    ok 28 - type is Request
    ok 29 - type is object
    ok 30 - type is Request
    ok 31 - type is object
    ok 32 - type is Request
    ok 33 - type is object
    ok 34 - type is Request
    ok 35 - type is object
    ok 36 - type is Request
    1..36
    # time=1498.654ms
ok 72 - test/options.error-handler.test.js # time=1498.654ms

# Subtest: test/options.test.js
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - OPTIONS can be created # time=8.517ms
    
    # Subtest: OPTIONS without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - OPTIONS without schema can be created # time=1.776ms
    
    # Subtest: OPTIONS with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - OPTIONS with body and querystring # time=1.368ms
    
    # Subtest: OPTIONS with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - OPTIONS with bodyLimit option # time=1.588ms
    
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - OPTIONS can be created # time=12.547ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - OPTIONS - correctly replies # time=63.756ms
    
    # Subtest: OPTIONS - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - OPTIONS - correctly replies with very large body # time=9.181ms
    
    # Subtest: OPTIONS - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - OPTIONS - correctly replies if the content type has the charset # time=5.311ms
    
    # Subtest: OPTIONS without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - OPTIONS without schema - correctly replies # time=5.231ms
    
    # Subtest: OPTIONS with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - OPTIONS with body and querystring - correctly replies # time=5.397ms
    
    # Subtest: OPTIONS with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - OPTIONS with no body - correctly replies # time=27.305ms
    
    # Subtest: OPTIONS returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - OPTIONS returns 415 - incorrect media type if body is not json # time=4.295ms
    
    # Subtest: OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text # time=5.217ms
    
    # Subtest: OPTIONS returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 14 - OPTIONS returns 400 - Bad Request # time=7.611ms
    
    # Subtest: OPTIONS returns 413 - Payload Too Large
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - OPTIONS returns 413 - Payload Too Large # time=7.259ms
    
    # Subtest: OPTIONS should fail with empty body and application/json content-type
        1..0
    ok 16 - OPTIONS should fail with empty body and application/json content-type # time=0.763ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - OPTIONS - correctly replies # time=4.937ms
    
    # Subtest: OPTIONS - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - OPTIONS - 400 on bad parameters # time=5.468ms
    
    # Subtest: OPTIONS - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - OPTIONS - input-validation coerce # time=4.815ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - OPTIONS - input-validation custom schema compiler # time=4.7ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - OPTIONS - input-validation joi schema compiler ok # time=6.416ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - OPTIONS - input-validation joi schema compiler ko # time=7.121ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - OPTIONS - input-validation yup schema compiler ok # time=6.549ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - OPTIONS - input-validation yup schema compiler ko # time=5.683ms
    
    # Subtest: OPTIONS - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - OPTIONS - input-validation instance custom schema compiler encapsulated # time=4.262ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 26 - OPTIONS - input-validation custom schema compiler encapsulated # time=4.357ms
    
    1..26
    # time=1188.148ms
ok 73 - test/options.test.js # time=1188.148ms

# Subtest: test/output-validation.test.js
    # Subtest: shorthand - output string
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - output string # time=9.904ms
    
    # Subtest: shorthand - output number
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - output number # time=2.312ms
    
    # Subtest: wrong object for schema - output
        1..1
        ok 1 - (unnamed test)
    ok 3 - wrong object for schema - output # time=2.089ms
    
    # Subtest: empty response
        1..1
        ok 1 - (unnamed test)
    ok 4 - empty response # time=1.992ms
    
    # Subtest: unlisted response code
        1..1
        ok 1 - (unnamed test)
    ok 5 - unlisted response code # time=1.743ms
    
    ok 6 - should not error
    # Subtest: shorthand - string get ok
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - shorthand - string get ok # time=36.525ms
    
    # Subtest: shorthand - number get ok
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 8 - shorthand - number get ok # time=6.369ms
    
    # Subtest: shorthand - wrong-object-for-schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 9 - shorthand - wrong-object-for-schema # time=6.376ms
    
    # Subtest: shorthand - empty
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - shorthand - empty # time=4.099ms
    
    # Subtest: shorthand - 400
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - shorthand - 400 # time=4.864ms
    
    1..11
    # time=216.302ms
ok 74 - test/output-validation.test.js # time=216.302ms

# Subtest: test/patch.error-handler.test.js
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PATCH can be created # time=9.508ms
    
    # Subtest: PATCH without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PATCH without schema can be created # time=2.07ms
    
    # Subtest: PATCH with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PATCH with body and querystring # time=22.29ms
    
    # Subtest: PATCH with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PATCH with bodyLimit option # time=14.868ms
    
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - PATCH can be created # time=3.188ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - PATCH - correctly replies # time=59.223ms
    
    # Subtest: PATCH - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - PATCH - correctly replies with very large body # time=9.726ms
    
    # Subtest: PATCH - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - PATCH - correctly replies if the content type has the charset # time=11.791ms
    
    # Subtest: PATCH without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - PATCH without schema - correctly replies # time=5.571ms
    
    # Subtest: PATCH with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - PATCH with body and querystring - correctly replies # time=5.775ms
    
    # Subtest: PATCH with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - PATCH with no body - correctly replies # time=27.605ms
    
    # Subtest: PATCH returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - PATCH returns 415 - incorrect media type if body is not json # time=6.303ms
    
    # Subtest: PATCH returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 13 - PATCH returns 400 - Bad Request # time=8.057ms
    
    # Subtest: PATCH returns 413 - Payload Too Large
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 14 - PATCH returns 413 - Payload Too Large # time=14.48ms
    
    # Subtest: PATCH should fail with empty body and application/json content-type
        1..12
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
    ok 15 - PATCH should fail with empty body and application/json content-type # time=21.433ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - PATCH - correctly replies # time=5.237ms
    
    # Subtest: PATCH - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - PATCH - 400 on bad parameters # time=5.064ms
    
    # Subtest: PATCH - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - PATCH - input-validation coerce # time=4.282ms
    
    # Subtest: PATCH - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - PATCH - input-validation custom schema compiler # time=4.407ms
    
    # Subtest: PATCH - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - PATCH - input-validation joi schema compiler ok # time=5.987ms
    
    # Subtest: PATCH - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - PATCH - input-validation joi schema compiler ko # time=5.619ms
    
    # Subtest: PATCH - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - PATCH - input-validation yup schema compiler ok # time=5.402ms
    
    # Subtest: PATCH - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - PATCH - input-validation yup schema compiler ko # time=5.362ms
    
    # Subtest: PATCH - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - PATCH - input-validation instance custom schema compiler encapsulated # time=3.848ms
    
    # Subtest: PATCH - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - PATCH - input-validation custom schema compiler encapsulated # time=4.177ms
    
    ok 26 - type is object
    ok 27 - type is Request
    ok 28 - type is object
    ok 29 - type is Request
    ok 30 - type is object
    ok 31 - type is Request
    ok 32 - type is object
    ok 33 - type is Request
    ok 34 - type is object
    ok 35 - type is Request
    ok 36 - type is object
    ok 37 - type is Request
    ok 38 - type is object
    ok 39 - type is Request
    ok 40 - type is object
    ok 41 - type is Request
    ok 42 - type is object
    ok 43 - type is Request
    ok 44 - type is object
    ok 45 - type is Request
    ok 46 - type is object
    ok 47 - type is Request
    ok 48 - type is object
    ok 49 - type is Request
    1..49
    # time=1129.978ms
ok 75 - test/patch.error-handler.test.js # time=1129.978ms

# Subtest: test/patch.test.js
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PATCH can be created # time=9.036ms
    
    # Subtest: PATCH without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PATCH without schema can be created # time=1.979ms
    
    # Subtest: PATCH with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PATCH with body and querystring # time=1.557ms
    
    # Subtest: PATCH with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PATCH with bodyLimit option # time=1.738ms
    
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - PATCH can be created # time=2.985ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - PATCH - correctly replies # time=57.791ms
    
    # Subtest: PATCH - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - PATCH - correctly replies with very large body # time=9.233ms
    
    # Subtest: PATCH - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - PATCH - correctly replies if the content type has the charset # time=5.458ms
    
    # Subtest: PATCH without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - PATCH without schema - correctly replies # time=5.124ms
    
    # Subtest: PATCH with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - PATCH with body and querystring - correctly replies # time=5.332ms
    
    # Subtest: PATCH with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - PATCH with no body - correctly replies # time=32.227ms
    
    # Subtest: PATCH returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - PATCH returns 415 - incorrect media type if body is not json # time=5.758ms
    
    # Subtest: PATCH returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 13 - PATCH returns 400 - Bad Request # time=7.476ms
    
    # Subtest: PATCH returns 413 - Payload Too Large
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 14 - PATCH returns 413 - Payload Too Large # time=13.449ms
    
    # Subtest: PATCH should fail with empty body and application/json content-type
        1..12
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
    ok 15 - PATCH should fail with empty body and application/json content-type # time=18.906ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - PATCH - correctly replies # time=4.697ms
    
    # Subtest: PATCH - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - PATCH - 400 on bad parameters # time=4.379ms
    
    # Subtest: PATCH - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - PATCH - input-validation coerce # time=3.885ms
    
    # Subtest: PATCH - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - PATCH - input-validation custom schema compiler # time=3.873ms
    
    # Subtest: PATCH - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - PATCH - input-validation joi schema compiler ok # time=6.146ms
    
    # Subtest: PATCH - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - PATCH - input-validation joi schema compiler ko # time=5.144ms
    
    # Subtest: PATCH - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - PATCH - input-validation yup schema compiler ok # time=5.083ms
    
    # Subtest: PATCH - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - PATCH - input-validation yup schema compiler ko # time=4.783ms
    
    # Subtest: PATCH - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - PATCH - input-validation instance custom schema compiler encapsulated # time=3.36ms
    
    # Subtest: PATCH - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - PATCH - input-validation custom schema compiler encapsulated # time=3.396ms
    
    1..25
    # time=1026.273ms
ok 76 - test/patch.test.js # time=1026.273ms

# Subtest: test/plugin.test.js
    # Subtest: require a plugin
        1..1
        ok 1 - expect truthy value
    ok 1 - require a plugin # time=100.271ms
    
    # Subtest: plugin metadata - ignore prefix
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 2 - plugin metadata - ignore prefix # time=41.131ms
    
    # Subtest: plugin metadata - naming plugins
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 3 - plugin metadata - naming plugins # time=9.762ms
    
    # Subtest: fastify.register with fastify-plugin should not encapsulate his code
        1..10
        ok 1 - expect falsey value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 4 - fastify.register with fastify-plugin should not encapsulate his code # time=57.509ms
    
    # Subtest: fastify.register with fastify-plugin should provide access to external fastify instance if opts argument is a function
        1..22
        ok 1 - expect falsey value
        ok 2 - expect falsey value
        ok 3 - expect falsey value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect falsey value
        ok 10 - expect truthy value
        ok 11 - expect falsey value
        ok 12 - expect truthy value
        ok 13 - expect truthy value
        ok 14 - should be equal
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - should not error
        ok 18 - expect truthy value
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equal
        ok 22 - should be equivalent
    ok 5 - fastify.register with fastify-plugin should provide access to external fastify instance if opts argument is a function # time=34.049ms
    
    # Subtest: fastify.register with fastify-plugin registers fastify level plugins
        1..15
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should not error
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equivalent
    ok 6 - fastify.register with fastify-plugin registers fastify level plugins # time=18.404ms
    
    # Subtest: check dependencies - should not throw
        1..12
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - should not error
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
    ok 7 - check dependencies - should not throw # time=26.631ms
    
    # Subtest: check dependencies - should throw
        1..12
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - should not error
        ok 7 - expect truthy value
        ok 8 - expect falsey value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
    ok 8 - check dependencies - should throw # time=17.906ms
    
    # Subtest: set the plugin name based on the plugin displayName symbol
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
    ok 9 - set the plugin name based on the plugin displayName symbol # time=13.628ms
    
    # Subtest: plugin name will change when using no encapsulation
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
    ok 10 - plugin name will change when using no encapsulation # time=7.733ms
    
    # Subtest: plugin name is undefined when accessing in no plugin context
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 11 - plugin name is undefined when accessing in no plugin context # time=4.873ms
    
    # Subtest: set the plugin name based on the plugin function name
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 12 - set the plugin name based on the plugin function name # time=10.619ms
    
    # Subtest: approximate a plugin name when no meta data is available
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
    ok 13 - approximate a plugin name when no meta data is available # time=6.706ms
    
    # Subtest: approximate a plugin name also when fastify-plugin has no meta data
        1..4
        ok 1 - should match pattern provided
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should not error
    ok 14 - approximate a plugin name also when fastify-plugin has no meta data # time=7.386ms
    
    # Subtest: plugin encapsulation
        1..10
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 15 - plugin encapsulation # time=23.773ms
    
    # Subtest: if a plugin raises an error and there is not a callback to handle it, the server must not start
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 16 - if a plugin raises an error and there is not a callback to handle it, the server must not start # time=4.87ms
    
    # Subtest: add hooks after route declaration
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 17 - add hooks after route declaration # time=15.668ms
    
    # Subtest: nested plugins
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 18 - nested plugins # time=15.949ms
    
    # Subtest: nested plugins awaited
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 19 - nested plugins awaited # time=15.917ms
    
    # Subtest: plugin metadata - decorators
        1..1
        ok 1 - expect truthy value
    ok 20 - plugin metadata - decorators # time=4.453ms
    
    # Subtest: plugin metadata - decorators - should throw
        1..1
        ok 1 - should be equal
    ok 21 - plugin metadata - decorators - should throw # time=3.277ms
    
    # Subtest: plugin metadata - decorators - should throw with plugin name
        1..1
        ok 1 - should be equal
    ok 22 - plugin metadata - decorators - should throw with plugin name # time=6.475ms
    
    # Subtest: plugin metadata - dependencies
        1..1
        ok 1 - everything right
    ok 23 - plugin metadata - dependencies # time=3.294ms
    
    # Subtest: plugin metadata - dependencies (nested)
        1..1
        ok 1 - everything right
    ok 24 - plugin metadata - dependencies (nested) # time=3.956ms
    
    # Subtest: pluginTimeout
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 25 - pluginTimeout # time=15.328ms
    
    # "pluginTimeout - named function" has `only` set but all tests run
    # Subtest: pluginTimeout - named function
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 26 - pluginTimeout - named function # time=17.133ms
    
    # Subtest: pluginTimeout default
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 27 - pluginTimeout default # time=-67659933.538ms
    
    # Subtest: plugin metadata - version
        1..1
        ok 1 - everything right
    ok 28 - plugin metadata - version # time=9.001ms
    
    # Subtest: plugin metadata - version range
        1..1
        ok 1 - everything right
    ok 29 - plugin metadata - version range # time=4.474ms
    
    # Subtest: plugin metadata - version not matching requirement
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 30 - plugin metadata - version not matching requirement # time=3.637ms
    
    # Subtest: plugin metadata - version not matching requirement 2
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 31 - plugin metadata - version not matching requirement 2 # time=4.116ms
    
    # Subtest: plugin metadata - version not matching requirement 3
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 32 - plugin metadata - version not matching requirement 3 # time=3.291ms
    
    # Subtest: plugin metadata - release candidate
        1..2
        ok 1 - should not error
        ok 2 - everything right
    ok 33 - plugin metadata - release candidate # time=4.732ms
    
    # Subtest: fastify-rc loads prior version plugins
        1..2
        ok 1 - should not error
        ok 2 - everything right
    ok 34 - fastify-rc loads prior version plugins # time=3.983ms
    
    # Subtest: hasPlugin method exists as a function
        1..1
        ok 1 - should be equal
    ok 35 - hasPlugin method exists as a function # time=1.485ms
    
    # Subtest: hasPlugin returns true if the specified plugin has been registered
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
    ok 36 - hasPlugin returns true if the specified plugin has been registered # time=6.437ms
    
    # Subtest: hasPlugin returns false if the specified plugin has not been registered
        1..1
        ok 1 - expect falsey value
    ok 37 - hasPlugin returns false if the specified plugin has not been registered # time=1.263ms
    
    # Subtest: hasPlugin returns false when using encapsulation
        1..25
        ok 1 - expect truthy value
        ok 2 - expect falsey value
        ok 3 - expect falsey value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect truthy value
        ok 8 - expect falsey value
        ok 9 - expect falsey value
        ok 10 - expect falsey value
        ok 11 - expect falsey value
        ok 12 - expect falsey value
        ok 13 - expect truthy value
        ok 14 - expect falsey value
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - expect falsey value
        ok 18 - expect falsey value
        ok 19 - expect truthy value
        ok 20 - expect falsey value
        ok 21 - expect falsey value
        ok 22 - expect falsey value
        ok 23 - expect falsey value
        ok 24 - expect falsey value
        ok 25 - expect truthy value
    ok 38 - hasPlugin returns false when using encapsulation # time=30.177ms
    
    # Subtest: hasPlugin returns true when using no encapsulation
        1..26
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect falsey value
        ok 10 - expect falsey value
        ok 11 - expect falsey value
        ok 12 - expect truthy value
        ok 13 - expect truthy value
        ok 14 - expect truthy value
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - expect truthy value
        ok 18 - expect truthy value
        ok 19 - expect truthy value
        ok 20 - expect truthy value
        ok 21 - expect falsey value
        ok 22 - expect truthy value
        ok 23 - expect truthy value
        ok 24 - expect truthy value
        ok 25 - expect truthy value
        ok 26 - expect truthy value
    ok 39 - hasPlugin returns true when using no encapsulation # time=6.676ms
    
    1..39
    # time=602.674ms
ok 77 - test/plugin.test.js # time=602.674ms

# Subtest: test/pretty-print.test.js
    # Subtest: pretty print - static routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - pretty print - static routes # time=58.694ms
    
    # Subtest: pretty print - parametric routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - pretty print - parametric routes # time=6.925ms
    
    # Subtest: pretty print - mixed parametric routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 3 - pretty print - mixed parametric routes # time=8.097ms
    
    # Subtest: pretty print - wildcard routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - pretty print - wildcard routes # time=18.48ms
    
    # Subtest: pretty print - empty plugins
        1..2
        ok 1 - should be equal
        ok 2 - should match pattern provided
    ok 5 - pretty print - empty plugins # time=19.45ms
    
    # Subtest: pretty print - nested plugins
        1..4
        ok 1 - should be equal
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
    ok 6 - pretty print - nested plugins # time=20.925ms
    
    # Subtest: pretty print - commonPrefix
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 7 - pretty print - commonPrefix # time=31.576ms
    
    # Subtest: pretty print - includeMeta, includeHooks
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 8 - pretty print - includeMeta, includeHooks # time=29.548ms
    
    1..8
    # time=212.792ms
ok 78 - test/pretty-print.test.js # time=212.792ms

# Subtest: test/promises.test.js
    ok 1 - should not error
    # Subtest: shorthand - sget return promise es6 get
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - shorthand - sget return promise es6 get # time=37.407ms
    
    # Subtest: shorthand - sget promise es6 get return error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 3 - shorthand - sget promise es6 get return error # time=7.679ms
    
    # Subtest: sget promise double send
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 4 - sget promise double send # time=5.75ms
    
    # Subtest: thenable
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 5 - thenable # time=6.189ms
    
    # Subtest: thenable (error)
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 6 - thenable (error) # time=4.761ms
    
    # Subtest: return-reply
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - return-reply # time=6.189ms
    
    1..7
    # time=131.639ms
ok 79 - test/promises.test.js # time=131.639ms

# Subtest: test/proto-poisoning.test.js
    # Subtest: proto-poisoning error
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 1 - proto-poisoning error # time=76.48ms
    
    # Subtest: proto-poisoning remove
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 2 - proto-poisoning remove # time=11.733ms
    
    # Subtest: proto-poisoning ignore
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 3 - proto-poisoning ignore # time=14.001ms
    
    # Subtest: constructor-poisoning error (default in v3)
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 4 - constructor-poisoning error (default in v3) # time=7.636ms
    
    # Subtest: constructor-poisoning error
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 5 - constructor-poisoning error # time=8.22ms
    
    # Subtest: constructor-poisoning remove
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 6 - constructor-poisoning remove # time=7.304ms
    
    1..6
    # time=135.833ms
ok 80 - test/proto-poisoning.test.js # time=135.833ms

./VariantsPureDep/fastify/variant2/fastify

> fastify@4.3.0 test
> npm run lint && npm run unit && npm run test:typescript


> fastify@4.3.0 lint
> npm run lint:standard && npm run lint:typescript && npm run lint:markdown


> fastify@4.3.0 lint:standard
> standard | snazzy

-----------------------------|---------|----------|---------|---------|-----------------------------
File                         | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s           
-----------------------------|---------|----------|---------|---------|-----------------------------
All files                    |   92.78 |    92.03 |    92.3 |   92.91 |                             
 fastify                     |   85.23 |    88.12 |   82.14 |    84.9 |                             
  fastify.js                 |   85.23 |    88.12 |   82.14 |    84.9 | ...,676-695,721-724,732-743 
 fastify/lib                 |   93.85 |    92.55 |   94.23 |   94.06 |                             
  contentTypeParser.js       |    97.8 |    99.15 |     100 |   97.64 | 233-236                     
  context.js                 |     100 |      100 |     100 |     100 |                             
  decorate.js                |   98.21 |    98.03 |     100 |   98.07 | 41                          
  error-handler.js           |    94.2 |    93.61 |     100 |    94.2 | 108-110,118                 
  errors.js                  |     100 |      100 |     100 |     100 |                             
  fourOhFour.js              |     100 |      100 |     100 |     100 |                             
  handleRequest.js           |   98.48 |    98.03 |     100 |   98.41 | 97                          
  headRoute.js               |      20 |     12.5 |   33.33 |   14.28 | 4-21,26                     
  hooks.js                   |     100 |      100 |     100 |     100 |                             
  initialConfigValidation.js |     100 |      100 |     100 |     100 |                             
  logger.js                  |     100 |      100 |     100 |     100 |                             
  noop-set.js                |     100 |      100 |     100 |     100 |                             
  pluginOverride.js          |   97.56 |       90 |     100 |    97.5 | 75                          
  pluginUtils.js             |     100 |      100 |     100 |     100 |                             
  reply.js                   |    87.7 |    84.86 |   88.88 |   88.76 | ...-618,622-627,648-654,659 
  reqIdGenFactory.js         |     100 |      100 |     100 |     100 |                             
  request.js                 |   87.96 |    90.62 |      80 |   89.42 | 45-54,157-167,206,211       
  route.js                   |   88.84 |    88.04 |     100 |   88.69 | ...,355-362,396-397,461,465 
  schema-controller.js       |    92.3 |    79.41 |   84.61 |    92.3 | 23,58,71                    
  schemas.js                 |   92.64 |    93.65 |   88.88 |   94.02 | 28,32,43,147                
  server.js                  |     100 |      100 |     100 |     100 |                             
  symbols.js                 |     100 |      100 |     100 |     100 |                             
  validation.js              |   98.55 |    96.55 |     100 |   98.43 | 22                          
  warnings.js                |     100 |      100 |     100 |     100 |                             
  wrapThenable.js            |   93.33 |       90 |     100 |   93.33 | 11                          
-----------------------------|---------|----------|---------|---------|-----------------------------

> fastify@4.3.0 lint:typescript
> eslint -c types/.eslintrc.json types/**/*.d.ts test/types/**/*.test-d.ts


> fastify@4.3.0 lint:markdown
> markdownlint-cli2

markdownlint-cli2 v0.4.0 (markdownlint v0.25.1)

> fastify@4.3.0 unit
> tap

TAP version 13
# Subtest: test/404s.test.js
    # Subtest: default 404
        1..4
        ok 1 - should not error
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - unsupported method # time=35.405ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - framework-unsupported method # time=6.092ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - unsupported route # time=4.993ms
        
    ok 1 - default 404 # time=177.688ms
    
    # Subtest: customized 404
        1..6
        ok 1 - should not error
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - unsupported method # time=9.79ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - framework-unsupported method # time=4.398ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - unsupported route # time=3.907ms
        
        # Subtest: with error object
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - with error object # time=9.546ms
        
        # Subtest: error object with headers property
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 6 - error object with headers property # time=4.837ms
        
    ok 2 - customized 404 # time=45.493ms
    
    # Subtest: custom header in notFound handler
        1..2
        ok 1 - should not error
        # Subtest: not found with custom header
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
        ok 2 - not found with custom header # time=6.496ms
        
    ok 3 - custom header in notFound handler # time=19.75ms
    
    # Subtest: setting a custom 404 handler multiple times is an error
        1..5
        # Subtest: at the root level
            1..2
            ok 1 - type is Error
            ok 2 - should be equal
        ok 1 - at the root level # time=2.131ms
        
        # Subtest: at the plugin level
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 2 - at the plugin level # time=26.04ms
        
        # Subtest: at multiple levels
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 3 - at multiple levels # time=21.958ms
        
        # Subtest: at multiple levels / 2
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 4 - at multiple levels / 2 # time=10.743ms
        
        # Subtest: in separate plugins at the same level
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 5 - in separate plugins at the same level # time=10.881ms
        
    ok 4 - setting a custom 404 handler multiple times is an error # time=87.676ms
    
    # Subtest: encapsulated 404
        1..13
        ok 1 - should not error
        # Subtest: root unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - root unsupported method # time=20.985ms
        
        # Subtest: root framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - root framework-unsupported method # time=4.448ms
        
        # Subtest: root unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - root unsupported route # time=4.631ms
        
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 5 - unsupported method # time=18.374ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 6 - framework-unsupported method # time=3.744ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 7 - unsupported route # time=3.34ms
        
        # Subtest: unsupported method 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 8 - unsupported method 2 # time=4.097ms
        
        # Subtest: framework-unsupported method 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 9 - framework-unsupported method 2 # time=4.327ms
        
        # Subtest: unsupported route 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 10 - unsupported route 2 # time=4.269ms
        
        # Subtest: unsupported method 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 11 - unsupported method 3 # time=4.59ms
        
        # Subtest: framework-unsupported method 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 12 - framework-unsupported method 3 # time=4.176ms
        
        # Subtest: unsupported route 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 13 - unsupported route 3 # time=4.047ms
        
    ok 5 - encapsulated 404 # time=135.862ms
    
    # Subtest: custom 404 hook and handler context
        1..21
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should not error
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equal
    ok 6 - custom 404 hook and handler context # time=51.225ms
    
    # Subtest: encapsulated custom 404 without - prefix hook and handler context
        1..13
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equal
    ok 7 - encapsulated custom 404 without - prefix hook and handler context # time=11.698ms
    
    # Subtest: run hooks on default 404
        1..7
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - preHandler called
        ok 4 - onSend called
        ok 5 - onResponse called
        ok 6 - should not error
        ok 7 - should be equal
    ok 8 - run hooks on default 404 # time=11.729ms
    
    # Subtest: run non-encapsulated plugin hooks on default 404
        1..6
        ok 1 - onRequest called
        ok 2 - preHandler called
        ok 3 - onSend called
        ok 4 - onResponse called
        ok 5 - should not error
        ok 6 - should be equal
    ok 9 - run non-encapsulated plugin hooks on default 404 # time=13.414ms
    
    # Subtest: run non-encapsulated plugin hooks on custom 404
        1..11
        ok 1 - onRequest called
        ok 2 - onRequest called
        ok 3 - preHandler called
        ok 4 - preHandler called
        ok 5 - onSend called
        ok 6 - onSend called
        ok 7 - onResponse called
        ok 8 - onResponse called
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
    ok 10 - run non-encapsulated plugin hooks on custom 404 # time=11.356ms
    
    # Subtest: run hook with encapsulated 404
        1..11
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - onRequest 2 called
        ok 4 - preHandler called
        ok 5 - preHandler 2 called
        ok 6 - onSend called
        ok 7 - onSend 2 called
        ok 8 - onResponse called
        ok 9 - onResponse 2 called
        ok 10 - should not error
        ok 11 - should be equal
    ok 11 - run hook with encapsulated 404 # time=15.787ms
    
    # Subtest: run hook with encapsulated 404 and framework-unsupported method
        1..11
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - onRequest 2 called
        ok 4 - preHandler called
        ok 5 - preHandler 2 called
        ok 6 - onSend called
        ok 7 - onSend 2 called
        ok 8 - onResponse called
        ok 9 - onResponse 2 called
        ok 10 - should not error
        ok 11 - should be equal
    ok 12 - run hook with encapsulated 404 and framework-unsupported method # time=29.279ms
    
    # Subtest: hooks check 404
        1..13
        ok 1 - should not error
        ok 2 - onRequest
        ok 3 - should be equivalent
        ok 4 - onSend
        ok 5 - onResponse
        ok 6 - onRequest
        ok 7 - should be equivalent
        ok 8 - onSend
        ok 9 - onResponse
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should not error
        ok 13 - should be equal
    ok 13 - hooks check 404 # time=16.661ms
    
    # Subtest: setNotFoundHandler should not suppress duplicated routes checking
        1..1
        ok 1 - expect truthy value
    ok 14 - setNotFoundHandler should not suppress duplicated routes checking # time=3.619ms
    
    # Subtest: log debug for 404
        1..1
        # Subtest: log debug
            1..7
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
        ok 1 - log debug # time=8.136ms
        
    ok 15 - log debug for 404 # time=15.039ms
    
    # Subtest: Unknown method
        1..5
        ok 1 - should not error
        ok 2 - expected to throw
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent strictly
    ok 16 - Unknown method # time=31.478ms
    
    # Subtest: recognizes errors from the http-errors module
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent strictly
    ok 17 - recognizes errors from the http-errors module # time=24.557ms
    
    # Subtest: the default 404 handler can be invoked inside a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
    ok 18 - the default 404 handler can be invoked inside a prefixed plugin # time=7.342ms
    
    # Subtest: an inherited custom 404 handler can be invoked inside a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - an inherited custom 404 handler can be invoked inside a prefixed plugin # time=7.138ms
    
    # Subtest: encapsulated custom 404 handler without a prefix is the handler for the entire 404 level
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 20 - encapsulated custom 404 handler without a prefix is the handler for the entire 404 level # time=15.434ms
    
    # Subtest: cannot set notFoundHandler after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 21 - cannot set notFoundHandler after binding # time=4.866ms
    
    # Subtest: 404 inside onSend
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 22 - 404 inside onSend # time=7.556ms
    
    # Subtest: onSend hooks run when an encapsulated route invokes the notFound handler
        1..3
        ok 1 - onSend hook called
        ok 2 - should not error
        ok 3 - should be equal
    ok 23 - onSend hooks run when an encapsulated route invokes the notFound handler # time=6.393ms
    
    # Subtest: preHandler option for setNotFoundHandler
        1..10
        # Subtest: preHandler option
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 1 - preHandler option # time=41.348ms
        
        # Subtest: preHandler hook in setNotFoundHandler should be called when callNotFound
            1..3
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 2 - preHandler hook in setNotFoundHandler should be called when callNotFound # time=15.882ms
        
        # Subtest: preHandler hook in setNotFoundHandler should accept an array of functions and be called when callNotFound
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 3 - preHandler hook in setNotFoundHandler should accept an array of functions and be called when callNotFound # time=6.03ms
        
        # Subtest: preHandler option should be called after preHandler hook
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 4 - preHandler option should be called after preHandler hook # time=5.748ms
        
        # Subtest: preHandler option should be unique per prefix
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 5 - preHandler option should be unique per prefix # time=10.544ms
        
        # Subtest: preHandler option should handle errors
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 6 - preHandler option should handle errors # time=11.468ms
        
        # Subtest: preHandler option should handle errors with custom status code
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 7 - preHandler option should handle errors with custom status code # time=5.967ms
        
        # Subtest: preHandler option could accept an array of functions
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 8 - preHandler option could accept an array of functions # time=5.173ms
        
        # Subtest: preHandler option does not interfere with preHandler
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 9 - preHandler option does not interfere with preHandler # time=8.971ms
        
        # Subtest: preHandler option should keep the context
            1..3
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 10 - preHandler option should keep the context # time=5.346ms
        
    ok 24 - preHandler option for setNotFoundHandler # time=128.95ms
    
    # Subtest: reply.notFound invoked the notFound handler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - reply.notFound invoked the notFound handler # time=5.17ms
    
    # Subtest: The custom error handler should be invoked after the custom not found handler
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - type is Error
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 26 - The custom error handler should be invoked after the custom not found handler # time=6.458ms
    
    # Subtest: If the custom not found handler does not use an Error, the custom error handler should not be called
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 27 - If the custom not found handler does not use an Error, the custom error handler should not be called # time=4.558ms
    
    # Subtest: preValidation option
        1..3
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 28 - preValidation option # time=5.281ms
    
    # Subtest: preValidation option could accept an array of functions
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 29 - preValidation option could accept an array of functions # time=5.365ms
    
    # Subtest: Should fail to invoke callNotFound inside a 404 handler
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 30 - Should fail to invoke callNotFound inside a 404 handler # time=7.044ms
    
    # Subtest: 400 in case of bad url (pre find-my-way v2.2.0 was a 404)
        # Subtest: Dynamic route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 1 - Dynamic route # time=19.397ms
        
        # Subtest: Wildcard
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - Wildcard # time=5.564ms
        
        # Subtest: No route registered
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - No route registered # time=18.456ms
        
        # Subtest: Only / is registered
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - Only / is registered # time=6.386ms
        
        # Subtest: customized 404
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - customized 404 # time=13.704ms
        
        1..5
    ok 31 - 400 in case of bad url (pre find-my-way v2.2.0 was a 404) # time=79.933ms
    
    # Subtest: setNotFoundHandler should be chaining fastify instance
        # Subtest: Register route after setNotFoundHandler
            1..6
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should not error
            ok 5 - should be equal
            ok 6 - should be equal
        ok 1 - Register route after setNotFoundHandler # time=8.108ms
        
        1..1
    ok 32 - setNotFoundHandler should be chaining fastify instance # time=18.427ms
    
    # Subtest: Send 404 when frameworkError calls reply.callNotFound
        # Subtest: Dynamic route
            1..4
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 1 - Dynamic route # time=7.065ms
        
        1..1
    ok 33 - Send 404 when frameworkError calls reply.callNotFound # time=30.078ms
    
    1..33
    # time=1075.182ms
ok 1 - test/404s.test.js # time=1075.182ms

# Subtest: test/500s.test.js
    # Subtest: default 500
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - default 500 # time=79.252ms
    
    # Subtest: custom 500
        1..6
        ok 1 - type is object
        ok 2 - type is Request
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 2 - custom 500 # time=12.063ms
    
    # Subtest: encapsulated 500
        1..10
        ok 1 - type is object
        ok 2 - type is Request
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 3 - encapsulated 500 # time=40.655ms
    
    # Subtest: custom 500 with hooks
        1..7
        ok 1 - onRequest
        ok 2 - onSend
        ok 3 - onResponse
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 4 - custom 500 with hooks # time=8.717ms
    
    # Subtest: cannot set errorHandler after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 5 - cannot set errorHandler after binding # time=17.704ms
    
    1..5
    # time=172.802ms
ok 2 - test/500s.test.js # time=172.802ms

# Subtest: test/allowUnsafeRegex.test.js
    # Subtest: allow unsafe regex
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - allow unsafe regex # time=69.724ms
    
    # Subtest: allow unsafe regex not match
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 2 - allow unsafe regex not match # time=11.864ms
    
    # Subtest: allow unsafe regex not safe
        1..1
        ok 1 - expected to throw
    ok 3 - allow unsafe regex not safe # time=91.469ms
    
    # Subtest: allow unsafe regex not safe by default
        1..1
        ok 1 - expected to throw
    ok 4 - allow unsafe regex not safe by default # time=2.966ms
    
    # Subtest: allow unsafe regex allow unsafe
        1..5
        ok 1 - expected to not throw
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 5 - allow unsafe regex allow unsafe # time=37.987ms
    
    1..5
    # time=239.411ms
ok 3 - test/allowUnsafeRegex.test.js # time=239.411ms

# Subtest: test/als.test.js
    ok 1 - should not error
    ok 2 - expect truthy value
    ok 3 - should not error
    ok 4 - should be equal
    ok 5 - should be equivalent
    ok 6 - expect truthy value
    ok 7 - should not error
    ok 8 - should be equal
    ok 9 - should be equivalent
    ok 10 - expect truthy value
    ok 11 - should not error
    ok 12 - should be equal
    ok 13 - should be equivalent
    1..13
    # time=62.356ms
ok 4 - test/als.test.js # time=62.356ms

# Subtest: test/async-await.test.js
    # Subtest: async await
        1..11
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        not ok 3 - Failed building the serialization schema for GET: /, due to error Cannot read properties of undefined (reading 'forEach')
          ---
          origin:
            at:
              line: 328
              column: 21
              file: lib/route.js
              function: Boot.<anonymous>
            stack: |
              Boot.<anonymous> (lib/route.js:328:21)
              node_modules/avvio/boot.js:160:12
              node_modules/avvio/plugin.js:275:7
              done (node_modules/avvio/plugin.js:200:5)
              check (node_modules/avvio/plugin.js:224:9)
            type: FastifyError
            code: FST_ERR_SCH_SERIALIZATION_BUILD
            statusCode: 500
            source: >2
                          } catch (error) {
                            throw new FST_ERR_SCH_SERIALIZATION_BUILD(opts.method, url, error.message)
              --------------------^
                          }
                        }
          found:
            !error
            name: FastifyError
            message: "Failed building the serialization schema for GET: /, due to error
              Cannot read properties of undefined (reading 'forEach')"
            stack: >-
              FastifyError: 
                  at Boot.<anonymous> (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/lib/route.js:328:21)
                  at Object.onceWrapper (node:events:627:28)
                  at Boot.emit (node:events:525:35)
                  at /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/boot.js:160:12
                  at /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/plugin.js:275:7
                  at done (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/plugin.js:200:5)
                  at check (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/plugin.js:224:9)
                  at node:internal/process/task_queues:141:7
                  at AsyncResource.runInAsyncScope (node:async_hooks:203:9)
                  at AsyncResource.runMicrotask (node:internal/process/task_queues:138:8)
            code: FST_ERR_SCH_SERIALIZATION_BUILD
            statusCode: 500
          at:
            line: 50
            column: 7
            file: test/async-await.test.js
          stack: |
            cb (test/async-await.test.js:50:7)
            Object.cb (lib/server.js:61:11)
            cb (lib/server.js:173:43)
            manageErr (fastify.js:538:11)
            fastify.js:520:11
            Object._encapsulateThreeParam (node_modules/avvio/boot.js:557:7)
            Boot.timeoutCall (node_modules/avvio/boot.js:453:5)
            Boot.callWithCbOrNextTick (node_modules/avvio/boot.js:435:19)
            release (node_modules/fastq/queue.js:149:16)
            Object.resume (node_modules/fastq/queue.js:82:7)
            node_modules/avvio/boot.js:174:18
            node_modules/avvio/plugin.js:275:7
            done (node_modules/avvio/plugin.js:200:5)
            check (node_modules/avvio/plugin.js:224:9)
          source: |2
              fastify.listen({ port: 0 }, err => {
                t.error(err)
            ------^
                t.teardown(() => { fastify.close() })
          ...
        
        not ok 4 - test unfinished
          ---
          stack: |
            Object.<anonymous> (test/async-await.test.js:27:1)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          test: async await
          at:
            line: 27
            column: 1
            file: test/async-await.test.js
            function: Object.<anonymous>
          source: |
          
            test('async await', t => {
            ^
              t.plan(11)
              const fastify = Fastify()
          ...
        
        # test count(4) != plan(11)
        # failed 2 of 4 tests
    not ok 1 - async await # time=234.139ms
    
    not ok 2 - child test left in queue: t.test ignore the result of the promise if reply.send is called beforehand (undefined)
    not ok 3 - child test left in queue: t.test ignore the result of the promise if reply.send is called beforehand (object)
    not ok 4 - child test left in queue: t.test server logs an error if reply.send is called and a value is returned via async/await
    not ok 5 - child test left in queue: t.test ignore the result of the promise if reply.send is called beforehand (undefined)
    not ok 6 - child test left in queue: t.test ignore the result of the promise if reply.send is called beforehand (object)
    not ok 7 - child test left in queue: t.test await reply if we will be calling reply.send in the future
    not ok 8 - child test left in queue: t.test await reply if we will be calling reply.send in the future (error case)
    not ok 9 - child test left in queue: t.test support reply decorators with await
    not ok 10 - child test left in queue: t.test inject async await
    not ok 11 - child test left in queue: t.test inject async await - when the server equal up
    not ok 12 - child test left in queue: t.test async await plugin
    not ok 13 - child test left in queue: t.test does not call reply.send() twice if 204 response equal already sent
    not ok 14 - child test left in queue: t.test promise was fulfilled with undefined
    not ok 15 - child test left in queue: t.test error is not logged because promise was fulfilled with undefined but response was sent before promise resolution
    not ok 16 - child test left in queue: t.test Thrown Error instance sets HTTP status code
    not ok 17 - child test left in queue: t.test customErrorHandler support
    not ok 18 - child test left in queue: t.test customErrorHandler support without throwing
    not ok 19 - child test left in queue: t.test customErrorHandler only called if reply not already sent
    not ok 20 - child test left in queue: t.test setNotFoundHandler should accept return value
    not ok 21 - child test left in queue: t.test customErrorHandler should accept return value
    not ok 22 - child test left in queue: t.test await self
    1..1
    # test count(22) != plan(1)
    # failed 43 of 22 tests
    # time=241.511ms
not ok 5 - test/async-await.test.js # time=241.511ms
  ---
  env: {}
  file: test/async-await.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/async-await.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify
  failures:
    - &a1
      id: 2
      name: "child test left in queue: t.test ignore the result of the promise if
        reply.send is called beforehand (undefined)"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a2
      id: 3
      name: "child test left in queue: t.test ignore the result of the promise if
        reply.send is called beforehand (object)"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a3
      id: 4
      name: "child test left in queue: t.test server logs an error if reply.send is
        called and a value is returned via async/await"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a4
      id: 5
      name: "child test left in queue: t.test ignore the result of the promise if
        reply.send is called beforehand (undefined)"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a5
      id: 6
      name: "child test left in queue: t.test ignore the result of the promise if
        reply.send is called beforehand (object)"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a6
      id: 7
      name: "child test left in queue: t.test await reply if we will be calling
        reply.send in the future"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a7
      id: 8
      name: "child test left in queue: t.test await reply if we will be calling
        reply.send in the future (error case)"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a8
      id: 9
      name: "child test left in queue: t.test support reply decorators with await"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a9
      id: 10
      name: "child test left in queue: t.test inject async await"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a10
      id: 11
      name: "child test left in queue: t.test inject async await - when the server
        equal up"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a11
      id: 12
      name: "child test left in queue: t.test async await plugin"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a12
      id: 13
      name: "child test left in queue: t.test does not call reply.send() twice if 204
        response equal already sent"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a13
      id: 14
      name: "child test left in queue: t.test promise was fulfilled with undefined"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a14
      id: 15
      name: "child test left in queue: t.test error is not logged because promise was
        fulfilled with undefined but response was sent before promise resolution"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a15
      id: 16
      name: "child test left in queue: t.test Thrown Error instance sets HTTP status
        code"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a16
      id: 17
      name: "child test left in queue: t.test customErrorHandler support"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a17
      id: 18
      name: "child test left in queue: t.test customErrorHandler support without
        throwing"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a18
      id: 19
      name: "child test left in queue: t.test customErrorHandler only called if reply
        not already sent"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a19
      id: 20
      name: "child test left in queue: t.test setNotFoundHandler should accept return
        value"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a20
      id: 21
      name: "child test left in queue: t.test customErrorHandler should accept return
        value"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a21
      id: 22
      name: "child test left in queue: t.test await self"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - *a1
    - *a2
    - *a3
    - *a4
    - *a5
    - *a6
    - *a7
    - *a8
    - *a9
    - *a10
    - *a11
    - *a12
    - *a13
    - *a14
    - *a15
    - *a16
    - *a17
    - *a18
    - *a19
    - *a20
    - *a21
  exitCode: 1
  ...

# Subtest: test/bodyLimit.test.js
    # Subtest: bodyLimit
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should not error
        ok 5 - should be equal
    ok 1 - bodyLimit # time=104.458ms
    
    1..1
    # time=111.118ms
ok 6 - test/bodyLimit.test.js # time=111.118ms

# Subtest: test/build/error-serializer.test.js
    1..0 # no tests found
not ok 7 - test/build/error-serializer.test.js # time=906.569ms
  ---
  env: {}
  file: test/build/error-serializer.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/build/error-serializer.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify
  exitCode: 1
  ...

# Subtest: test/build/version.test.js
    # Subtest: should be the same as package.json
        1..1
        ok 1 - should be equal
    ok 1 - should be the same as package.json # time=6.823ms
    
    1..1
    # time=13.432ms
ok 8 - test/build/version.test.js # time=13.432ms

# Subtest: test/case-insensitive.test.js
    # Subtest: case insensitive
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - case insensitive # time=108.278ms
    
    # Subtest: case insensitive inject
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - case insensitive inject # time=33.664ms
    
    # Subtest: case insensitive (parametric)
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 3 - case insensitive (parametric) # time=11.84ms
    
    # Subtest: case insensitive (wildcard)
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 4 - case insensitive (wildcard) # time=28.004ms
    
    1..4
    # time=214.701ms
ok 9 - test/case-insensitive.test.js # time=214.701ms

# Subtest: test/chainable.test.js
    # Subtest: chainable - get
        1..1
        ok 1 - type is [object Object]
    ok 1 - chainable - get # time=9.694ms
    
    # Subtest: chainable - post
        1..1
        ok 1 - type is [object Object]
    ok 2 - chainable - post # time=2.124ms
    
    # Subtest: chainable - route
        1..1
        ok 1 - type is [object Object]
    ok 3 - chainable - route # time=2.034ms
    
    1..3
    # time=25.684ms
ok 10 - test/chainable.test.js # time=25.684ms

# Subtest: test/close-pipelining.test.js
    # Subtest: Should return 503 while closing - pipelining
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        1..3
    ok 1 - Should return 503 while closing - pipelining # time=97.679ms
    
    # Subtest: Should not return 503 while closing - pipelining - return503OnClosing
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        1..3
    ok 2 - Should not return 503 while closing - pipelining - return503OnClosing # time=29.29ms
    
    1..2
    # time=158.09ms
ok 11 - test/close-pipelining.test.js # time=158.09ms

# Subtest: test/close.test.js
    # Subtest: close callback
        1..4
        ok 1 - should not error
        ok 2 - type is [object Object]
        ok 3 - should not error
        ok 4 - expect truthy value
    ok 1 - close callback # time=88.784ms
    
    # Subtest: inside register
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - expect truthy value
    ok 2 - inside register # time=20.984ms
    
    # Subtest: close order
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 3 - close order # time=39.005ms
    
    # Subtest: close order - async
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 4 - close order - async # time=15.239ms
    
    # Subtest: should not throw an error if the server is not listening
        1..2
        ok 1 - type is [object Object]
        ok 2 - should not error
    ok 5 - should not throw an error if the server is not listening # time=3.644ms
    
    # Subtest: onClose should keep the context
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
    ok 6 - onClose should keep the context # time=13.843ms
    
    # Subtest: Should return error while closing (promise) - injection
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 7 - Should return error while closing (promise) - injection # time=65.081ms
    
    # Subtest: Should return error while closing (callback) - injection
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 8 - Should return error while closing (callback) - injection # time=109.343ms
    
    # Subtest: Current opened connection should continue to work after closing and return "connection: close" header - return503OnClosing: false
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        1..5
    ok 9 - Current opened connection should continue to work after closing and return "connection: close" header - return503OnClosing: false # time=25.849ms
    
    # Subtest: Current opened connection should not accept new incoming connections
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 10 - Current opened connection should not accept new incoming connections # time=270.525ms
    
    # Subtest: Cannot be reopened the closed server without listen callback
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 11 - Cannot be reopened the closed server without listen callback # time=18.935ms
    
    # Subtest: Cannot be reopened the closed server has listen callback
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 12 - Cannot be reopened the closed server has listen callback # time=10.264ms
    
    ok 13 - shutsdown while keep-alive connections are active (non-async, native) # SKIP
    ok 14 - shutsdown while keep-alive connections are active (non-async, idle, native) # SKIP
    # Subtest: shutsdown while keep-alive connections are active (non-async, custom)
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 15 - shutsdown while keep-alive connections are active (non-async, custom) # time=11.161ms
    
    1..15
    # skip: 2
    # time=710.188ms
ok 12 - test/close.test.js # time=710.188ms

# Subtest: test/connectionTimeout.test.js
    # Subtest: connectionTimeout
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 1 - connectionTimeout # time=38.147ms
    
    1..1
    # time=42.941ms
ok 13 - test/connectionTimeout.test.js # time=42.941ms

# Subtest: test/constrained-routes.test.js
    # Subtest: Should register a host constrained route
        1..7
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 1 - Should register a host constrained route # time=107.787ms
    
    # Subtest: Should register the same route with host constraints
        1..8
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 2 - Should register the same route with host constraints # time=11.853ms
    
    # Subtest: Should allow registering custom constrained routes
        1..8
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 3 - Should allow registering custom constrained routes # time=27.728ms
    
    # Subtest: Should allow registering custom constrained routes outside constructor
        1..8
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 4 - Should allow registering custom constrained routes outside constructor # time=19.331ms
    
    # Subtest: Add a constraint strategy after fastify instance was started
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - Cannot add constraint strategy when fastify instance is already started!
    ok 5 - Add a constraint strategy after fastify instance was started # time=8.405ms
    
    # Subtest: Add a constraint strategy should throw an error if there already exist custom strategy with the same name
        1..1
        ok 1 - There already exists a custom constraint with the name secret.
    ok 6 - Add a constraint strategy should throw an error if there already exist custom strategy with the same name # time=1.617ms
    
    # Subtest: Add a constraint strategy shouldn't throw an error if default constraint with the same name isn't used
        1..1
        ok 1 - (unnamed test)
    ok 7 - Add a constraint strategy shouldn't throw an error if default constraint with the same name isn't used # time=1.363ms
    
    # Subtest: Add a constraint strategy should throw an error if default constraint with the same name is used
        1..1
        ok 1 - There already exists a route with version constraint.
    ok 8 - Add a constraint strategy should throw an error if default constraint with the same name is used # time=2.281ms
    
    # Subtest: The hasConstraintStrategy should return false for default constraints until they are used
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 9 - The hasConstraintStrategy should return false for default constraints until they are used # time=4.41ms
    
    # Subtest: The hasConstraintStrategy should return true if there already exist a custom constraint with the same name
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 10 - The hasConstraintStrategy should return true if there already exist a custom constraint with the same name # time=2.228ms
    
    # Subtest: Should allow registering an unconstrained route after a constrained route
        1..6
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
    ok 11 - Should allow registering an unconstrained route after a constrained route # time=8.537ms
    
    # Subtest: Should allow registering constrained routes in a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 12 - Should allow registering constrained routes in a prefixed plugin # time=18.8ms
    
    # Subtest: Should allow registering a constrained GET route after a constrained HEAD route
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 13 - Should allow registering a constrained GET route after a constrained HEAD route # time=17.699ms
    
    # Subtest: Should allow registering a constrained GET route after an unconstrained HEAD route
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 14 - Should allow registering a constrained GET route after an unconstrained HEAD route # time=5.33ms
    
    # Subtest: Will not try to re-createprefixed HEAD route if it already exists and exposeHeadRoutes is true for constrained routes
        1..1
        ok 1 - expect truthy value
    ok 15 - Will not try to re-createprefixed HEAD route if it already exists and exposeHeadRoutes is true for constrained routes # time=13.988ms
    
    # Subtest: allows separate constrained and unconstrained HEAD routes
        1..1
        ok 1 - expect truthy value
    ok 16 - allows separate constrained and unconstrained HEAD routes # time=5.995ms
    
    1..16
    # time=283.845ms
ok 14 - test/constrained-routes.test.js # time=283.845ms

# Subtest: test/content-length.test.js
    # Subtest: default 413 with bodyLimit option
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - default 413 with bodyLimit option # time=79.744ms
    
    # Subtest: default 400 with wrong content-length
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - default 400 with wrong content-length # time=14.44ms
    
    # Subtest: custom 413 with bodyLimit option
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 3 - custom 413 with bodyLimit option # time=34.075ms
    
    # Subtest: custom 400 with wrong content-length
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 4 - custom 400 with wrong content-length # time=13.454ms
    
    # Subtest: \#2214 - wrong content-length
        ok 1 - should be equal
        1..1
    ok 5 - \#2214 - wrong content-length # time=8.685ms
    
    # Subtest: \#2543 - wrong content-length with errorHandler
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 6 - \#2543 - wrong content-length with errorHandler # time=8.897ms
    
    1..6
    # time=169.434ms
ok 15 - test/content-length.test.js # time=169.434ms

# Subtest: test/content-parser.test.js
    # Subtest: hasContentTypeParser
        1..0
    ok 1 - hasContentTypeParser # time=11.37ms
    
    # Subtest: should know about internal parsers
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
    ok 2 - should know about internal parsers # time=57.092ms
    
    # Subtest: should work with string and RegExp
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect falsey value
    ok 3 - should work with string and RegExp # time=4.394ms
    
    # Subtest: getParser
        1..0
    ok 4 - getParser # time=91.199ms
    
    # Subtest: existingParser
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect falsey value
        1..7
    ok 5 - existingParser # time=17.839ms
    
    # Subtest: add
        1..0
    ok 6 - add # time=8.237ms
    
    # Subtest: non-Error thrown from content parser is properly handled
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 7 - non-Error thrown from content parser is properly handled # time=42.083ms
    
    # Subtest: Error thrown 415 from content type is null and make post request to server
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 8 - Error thrown 415 from content type is null and make post request to server # time=17.323ms
    
    # Subtest: remove
        1..0
    ok 9 - remove # time=34.04ms
    
    # Subtest: remove all should remove all existing parsers and reset cache
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
    ok 10 - remove all should remove all existing parsers and reset cache # time=5.057ms
    
    # Subtest: should return matching parser
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 11 - should return matching parser # time=2.201ms
    
    # Subtest: should return matching parser with caching
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 12 - should return matching parser with caching # time=2.226ms
    
    # Subtest: should prefer content type parser with string value
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 13 - should prefer content type parser with string value # time=2.296ms
    
    # Subtest: should return parser that catches all if no other is set
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 14 - should return parser that catches all if no other is set # time=4.201ms
    
    # Subtest: should return undefined if no matching parser exist
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 15 - should return undefined if no matching parser exist # time=2.171ms
    
    # Subtest: returns always false for "*"
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 16 - returns always false for "*" # time=1.453ms
    
    # Subtest: let you override the default parser once
        1..2
        ok 1 - Content type parser 'application/json' already present
        ok 2 - Content type parser 'text/plain' already present
    ok 17 - let you override the default parser once # time=4.762ms
    
    # Subtest: should only accept string and RegExp
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - The content type should be a string or a RegExp
        ok 4 - The content type should be a string or a RegExp
    ok 18 - should only accept string and RegExp # time=3.192ms
    
    # Subtest: should set "*" as parser that catches all
        1..1
        ok 1 - should be equal
    ok 19 - should set "*" as parser that catches all # time=1.187ms
    
    # Subtest: should remove default parser
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 20 - should remove default parser # time=1.414ms
    
    # Subtest: should remove RegExp parser
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 21 - should remove RegExp parser # time=1.334ms
    
    # Subtest: should throw an error if content type is neither string nor RegExp
        1..1
        ok 1 - expected to throw
    ok 22 - should throw an error if content type is neither string nor RegExp # time=1.627ms
    
    # Subtest: should not throw error if content type does not exist
        1..1
        ok 1 - expected to not throw
    ok 23 - should not throw error if content type does not exist # time=1.325ms
    
    # Subtest: should not remove any content type parser if content type does not exist
        1..1
        ok 1 - should be equivalent
    ok 24 - should not remove any content type parser if content type does not exist # time=1.738ms
    
    1..24
    # time=335.621ms
ok 16 - test/content-parser.test.js # time=335.621ms

# Subtest: test/context-config.test.js
    # Subtest: config
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 1 - config # time=92.733ms
    
    # Subtest: config with exposeHeadRoutes
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 2 - config with exposeHeadRoutes # time=16.686ms
    
    # Subtest: config without exposeHeadRoutes
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 3 - config without exposeHeadRoutes # time=32.365ms
    
    1..3
    # time=155.258ms
ok 17 - test/context-config.test.js # time=155.258ms

# Subtest: test/custom-http-server.test.js
    # Subtest: Should support a custom http server
        1..4
        ok 1 - it is called twice for every HOST interface
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - Should support a custom http server # time=66.266ms
    
    # Subtest: Should not allow forceCloseConnection=idle if the server does not support closeIdleConnections
        1..1
        ok 1 - Cannot set forceCloseConnections to 'idle' as your HTTP server does not support closeIdleConnections method
    ok 2 - Should not allow forceCloseConnection=idle if the server does not support closeIdleConnections # time=4.197ms
    
    1..2
    # time=79.294ms
ok 18 - test/custom-http-server.test.js # time=79.294ms

# Subtest: test/custom-parser-async.test.js
    # Subtest: contentTypeParser should add a custom async parser
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=30.592ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=7.381ms
        
    ok 1 - contentTypeParser should add a custom async parser # time=108.767ms
    
    1..1
    # time=114.194ms
ok 19 - test/custom-parser-async.test.js # time=114.194ms

# Subtest: test/custom-parser.test.js
    # Subtest: contentTypeParser method should exist
        1..1
        ok 1 - expect truthy value
    ok 1 - contentTypeParser method should exist # time=14.805ms
    
    # Subtest: contentTypeParser should add a custom parser
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=25.27ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=7.035ms
        
    ok 2 - contentTypeParser should add a custom parser # time=179.636ms
    
    # Subtest: contentTypeParser should handle multiple custom parsers
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 3 - contentTypeParser should handle multiple custom parsers # time=15.379ms
    
    # Subtest: contentTypeParser should handle an array of custom contentTypes
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 4 - contentTypeParser should handle an array of custom contentTypes # time=36.244ms
    
    # Subtest: contentTypeParser should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 5 - contentTypeParser should handle errors # time=10.566ms
    
    # Subtest: contentTypeParser should support encapsulation
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - expect falsey value
        ok 6 - expect falsey value
    ok 6 - contentTypeParser should support encapsulation # time=11.97ms
    
    # Subtest: contentTypeParser should support encapsulation, second try
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - contentTypeParser should support encapsulation, second try # time=34.288ms
    
    # Subtest: contentTypeParser shouldn't support request with undefined "Content-Type"
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 8 - contentTypeParser shouldn't support request with undefined "Content-Type" # time=9.684ms
    
    # Subtest: the content type should be a string or RegExp
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 9 - the content type should be a string or RegExp # time=2.706ms
    
    # Subtest: the content type cannot be an empty string
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 10 - the content type cannot be an empty string # time=3.051ms
    
    # Subtest: the content type handler should be a function
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 11 - the content type handler should be a function # time=2.729ms
    
    # Subtest: catch all content type parser
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 12 - catch all content type parser # time=30.137ms
    
    # Subtest: catch all content type parser should not interfere with other conte type parsers
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 13 - catch all content type parser should not interfere with other conte type parsers # time=12.309ms
    
    # Subtest: '*' catch undefined Content-Type requests
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - '*' catch undefined Content-Type requests # time=13.733ms
    
    # Subtest: cannot add custom parser after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 15 - cannot add custom parser after binding # time=6.348ms
    
    # Subtest: Can override the default json parser
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 16 - Can override the default json parser # time=13.033ms
    
    # Subtest: Can override the default plain text parser
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 17 - Can override the default plain text parser # time=18.022ms
    
    # Subtest: Can override the default json parser in a plugin
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 18 - Can override the default json parser in a plugin # time=10.046ms
    
    # Subtest: Can't override the json parser multiple times
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 19 - Can't override the json parser multiple times # time=2.467ms
    
    # Subtest: Can't override the plain text parser multiple times
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 20 - Can't override the plain text parser multiple times # time=3.188ms
    
    # Subtest: Should get the body as string
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 21 - Should get the body as string # time=10.622ms
    
    # Subtest: Should return defined body with no custom parser defined and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 22 - Should return defined body with no custom parser defined and content type = 'text/plain' # time=15.061ms
    
    # Subtest: Should have typeof body object with no custom parser defined, no body defined and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 23 - Should have typeof body object with no custom parser defined, no body defined and content type = 'text/plain' # time=7.052ms
    
    # Subtest: Should have typeof body object with no custom parser defined, null body and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 24 - Should have typeof body object with no custom parser defined, null body and content type = 'text/plain' # time=7.458ms
    
    # Subtest: Should have typeof body object with no custom parser defined, undefined body and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 25 - Should have typeof body object with no custom parser defined, undefined body and content type = 'text/plain' # time=17.896ms
    
    # Subtest: Should get the body as string
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 26 - Should get the body as string # time=7.95ms
    
    # Subtest: Should get the body as buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 27 - Should get the body as buffer # time=8.06ms
    
    # Subtest: Should get the body as buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 28 - Should get the body as buffer # time=20.005ms
    
    # Subtest: Should parse empty bodies as a string
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 29 - Should parse empty bodies as a string # time=29.354ms
    
    # Subtest: Should parse empty bodies as a buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 30 - Should parse empty bodies as a buffer # time=9.112ms
    
    # Subtest: The charset should not interfere with the content type handling
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 31 - The charset should not interfere with the content type handling # time=9.63ms
    
    # Subtest: Wrong parseAs parameter
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 32 - Wrong parseAs parameter # time=2.053ms
    
    # Subtest: Should allow defining the bodyLimit per parser
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent strictly
    ok 33 - Should allow defining the bodyLimit per parser # time=9.706ms
    
    # Subtest: route bodyLimit should take precedence over a custom parser bodyLimit
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent strictly
    ok 34 - route bodyLimit should take precedence over a custom parser bodyLimit # time=6.829ms
    
    # Subtest: should be able to use default parser for extra content type
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent strictly
    ok 35 - should be able to use default parser for extra content type # time=7.035ms
    
    # Subtest: contentTypeParser should add a custom parser with RegExp value
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=5.451ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=5.066ms
        
    ok 36 - contentTypeParser should add a custom parser with RegExp value # time=16.822ms
    
    # Subtest: contentTypeParser should add multiple custom parsers with RegExp values
        1..6
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 37 - contentTypeParser should add multiple custom parsers with RegExp values # time=47.534ms
    
    # Subtest: catch all content type parser should not interfere with content type parser
        1..10
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 38 - catch all content type parser should not interfere with content type parser # time=11.832ms
    
    # Subtest: should prefer string content types over RegExp ones
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 39 - should prefer string content types over RegExp ones # time=8.804ms
    
    # Subtest: removeContentTypeParser should support arrays of content types to remove
        1..8
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 40 - removeContentTypeParser should support arrays of content types to remove # time=10.088ms
    
    # Subtest: removeContentTypeParser should support encapsulation
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 41 - removeContentTypeParser should support encapsulation # time=9.159ms
    
    # Subtest: removeAllContentTypeParsers should support encapsulation
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 42 - removeAllContentTypeParsers should support encapsulation # time=10.847ms
    
    # Subtest: cannot remove all content type parsers after binding
        1..2
        ok 1 - should not error
        ok 2 - expected to throw
    ok 43 - cannot remove all content type parsers after binding # time=4.178ms
    
    # Subtest: cannot remove content type parsers after binding
        1..2
        ok 1 - should not error
        ok 2 - expected to throw
    ok 44 - cannot remove content type parsers after binding # time=2.85ms
    
    # Subtest: should be able to override the default json parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 45 - should be able to override the default json parser after removeAllContentTypeParsers # time=5.901ms
    
    # Subtest: should be able to override the default plain text parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 46 - should be able to override the default plain text parser after removeAllContentTypeParsers # time=35.594ms
    
    # Subtest: should be able to add a custom content type parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 47 - should be able to add a custom content type parser after removeAllContentTypeParsers # time=36.698ms
    
    1..47
    # time=850.39ms
ok 20 - test/custom-parser.test.js # time=850.39ms

# Subtest: test/custom-querystring-parser.test.js
    # Subtest: Custom querystring parser
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 1 - Custom querystring parser # time=120.268ms
    
    # Subtest: Custom querystring parser should be called also if there is nothing to parse
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 2 - Custom querystring parser should be called also if there is nothing to parse # time=13.969ms
    
    # Subtest: Querystring without value
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 3 - Querystring without value # time=25.234ms
    
    # Subtest: Custom querystring parser should be a function
        1..1
        ok 1 - should be equal
    ok 4 - Custom querystring parser should be a function # time=1.052ms
    
    1..4
    # time=190.941ms
ok 21 - test/custom-querystring-parser.test.js # time=190.941ms

# Subtest: test/decorator.test.js
    # Subtest: server methods should exist
        1..2
        ok 1 - expect truthy value
        ok 2 - expect truthy value
    ok 1 - server methods should exist # time=13.002ms
    
    # Subtest: should check if the given decoration already exist when null
        1..1
        ok 1 - expect truthy value
    ok 2 - should check if the given decoration already exist when null # time=78.812ms
    
    # Subtest: server methods should be encapsulated via .register
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 3 - server methods should be encapsulated via .register # time=7.67ms
    
    # Subtest: hasServerMethod should check if the given method already exist
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 4 - hasServerMethod should check if the given method already exist # time=15.713ms
    
    # Subtest: decorate should throw if a declared dependency is not present
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - (unnamed test)
    ok 5 - decorate should throw if a declared dependency is not present # time=17.043ms
    
    # Subtest: decorate should throw if declared dependency is not array
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - (unnamed test)
    ok 6 - decorate should throw if declared dependency is not array # time=6.948ms
    
    # Subtest: should pass error for missing request decorator
        1..2
        ok 1 - type is Error
        ok 2 - should match pattern provided
    ok 7 - should pass error for missing request decorator # time=6.946ms
    
    # Subtest: decorateReply inside register
        1..11
        ok 1 - should not error
        ok 2 - test exists
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 8 - decorateReply inside register # time=43.508ms
    
    # Subtest: decorateReply as plugin (inside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 9 - decorateReply as plugin (inside .after) # time=51.019ms
    
    # Subtest: decorateReply as plugin (outside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 10 - decorateReply as plugin (outside .after) # time=17.392ms
    
    # Subtest: decorateRequest inside register
        1..11
        ok 1 - should not error
        ok 2 - test exists
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 11 - decorateRequest inside register # time=16.281ms
    
    # Subtest: decorateRequest as plugin (inside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 12 - decorateRequest as plugin (inside .after) # time=43.617ms
    
    # Subtest: decorateRequest as plugin (outside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 13 - decorateRequest as plugin (outside .after) # time=15.341ms
    
    # Subtest: decorators should be instance separated
        1..1
        ok 1 - (unnamed test)
    ok 14 - decorators should be instance separated # time=2.128ms
    
    # Subtest: hasRequestDecorator
        # Subtest: is a function
            1..1
            ok 1 - expect truthy value
        ok 1 - is a function # time=1.28ms
        
        # Subtest: should check if the given request decoration already exist
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 2 - should check if the given request decoration already exist # time=1.799ms
        
        # Subtest: should check if the given request decoration already exist when null
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 3 - should check if the given request decoration already exist when null # time=1.727ms
        
        # Subtest: should be plugin encapsulable
            1..4
            ok 1 - expect falsey value
            ok 2 - expect falsey value
            ok 3 - expect truthy value
            ok 4 - expect falsey value
        ok 4 - should be plugin encapsulable # time=21.218ms
        
        # Subtest: should be inherited
            1..2
            ok 1 - expect truthy value
            ok 2 - expect truthy value
        ok 5 - should be inherited # time=5.558ms
        
        1..5
    ok 15 - hasRequestDecorator # time=51.893ms
    
    # Subtest: hasReplyDecorator
        # Subtest: is a function
            1..1
            ok 1 - expect truthy value
        ok 1 - is a function # time=1.436ms
        
        # Subtest: should check if the given reply decoration already exist
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 2 - should check if the given reply decoration already exist # time=1.729ms
        
        # Subtest: should check if the given reply decoration already exist when null
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 3 - should check if the given reply decoration already exist when null # time=1.622ms
        
        # Subtest: should be plugin encapsulable
            1..4
            ok 1 - expect falsey value
            ok 2 - expect falsey value
            ok 3 - expect truthy value
            ok 4 - expect falsey value
        ok 4 - should be plugin encapsulable # time=11.455ms
        
        # Subtest: should be inherited
            1..2
            ok 1 - expect truthy value
            ok 2 - expect truthy value
        ok 5 - should be inherited # time=21.093ms
        
        1..5
    ok 16 - hasReplyDecorator # time=123.121ms
    
    # Subtest: should register properties via getter/setter objects
        1..3
        ok 1 - expect truthy value
        ok 2 - a getter
        ok 3 - expect falsey value
    ok 17 - should register properties via getter/setter objects # time=7.334ms
    
    # Subtest: decorateRequest should work with getter/setter
        1..5
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - (unnamed test)
    ok 18 - decorateRequest should work with getter/setter # time=31.975ms
    
    # Subtest: decorateReply should work with getter/setter
        1..5
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - (unnamed test)
    ok 19 - decorateReply should work with getter/setter # time=10.166ms
    
    # Subtest: should register empty values
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 20 - should register empty values # time=3.538ms
    
    # Subtest: nested plugins can override things
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 21 - nested plugins can override things # time=4.624ms
    
    # Subtest: a decorator should addSchema to all the encapsulated tree
        1..1
        ok 1 - should not error
    ok 22 - a decorator should addSchema to all the encapsulated tree # time=4.816ms
    
    # Subtest: after can access to a decorated instance and previous plugin decoration
        1..11
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
    ok 23 - after can access to a decorated instance and previous plugin decoration # time=8.566ms
    
    # Subtest: decorate* should throw if called after ready
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 24 - decorate* should throw if called after ready # time=8.728ms
    
    # Subtest: decorate* should emit warning if an array is passed
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 25 - decorate* should emit warning if an array is passed # time=29.553ms
    
    # Subtest: decorate* should emit warning if object type is passed
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 26 - decorate* should emit warning if object type is passed # time=32.768ms
    
    # Subtest: decorate* should not emit warning if object with getter/setter is passed
        1..0
    ok 27 - decorate* should not emit warning if object with getter/setter is passed # time=22.896ms
    
    # Subtest: decorate* should not emit warning if string,bool,numbers are passed
        1..0
    ok 28 - decorate* should not emit warning if string,bool,numbers are passed # time=23.716ms
    
    # Subtest: Request/reply decorators should be able to access the server instance
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not be equal
        ok 4 - should be equal
        ok 5 - should not be equal
        ok 6 - should be equal
    ok 29 - Request/reply decorators should be able to access the server instance # time=20.354ms
    
    # Subtest: plugin required decorators
        1..0
    ok 30 - plugin required decorators # time=4.131ms
    
    # Subtest: decorateRequest/decorateReply empty string
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 31 - decorateRequest/decorateReply empty string # time=9.058ms
    
    # Subtest: decorateRequest/decorateReply is undefined
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 32 - decorateRequest/decorateReply is undefined # time=8.727ms
    
    # Subtest: decorateRequest/decorateReply is not set to a value
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 33 - decorateRequest/decorateReply is not set to a value # time=9.096ms
    
    # Subtest: decorateRequest with dependencies
        1..2
        ok 1 - expected to not throw
        ok 2 - expect truthy value
    ok 34 - decorateRequest with dependencies # time=2.078ms
    
    # Subtest: decorateRequest with dependencies (functions)
        1..2
        ok 1 - expected to not throw
        ok 2 - expect truthy value
    ok 35 - decorateRequest with dependencies (functions) # time=1.887ms
    
    # Subtest: chain of decorators on Request
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        1..6
    ok 36 - chain of decorators on Request # time=16.923ms
    
    # Subtest: chain of decorators on Reply
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        1..6
    ok 37 - chain of decorators on Reply # time=15.244ms
    
    1..37
    # time=820.89ms
ok 22 - test/decorator.test.js # time=820.89ms

# Subtest: test/default-route.test.js
    # Subtest: should fail if defaultRoute is not a function
        1..1
        ok 1 - should be equal
    ok 1 - should fail if defaultRoute is not a function # time=23.245ms
    
    # Subtest: correctly sets, returns, and calls defaultRoute
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 2 - correctly sets, returns, and calls defaultRoute # time=41.446ms
    
    1..2
    # time=76.16ms
ok 23 - test/default-route.test.js # time=76.16ms

# Subtest: test/delete.test.js
    # Subtest: shorthand - delete
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - delete # time=9.859ms
    
    # Subtest: shorthand - delete params
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - delete params # time=2.525ms
    
    # Subtest: shorthand - delete, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - delete, querystring schema # time=1.931ms
    
    # Subtest: shorthand - get, headers schema
        1..1
        ok 1 - (unnamed test)
    ok 4 - shorthand - get, headers schema # time=1.84ms
    
    # Subtest: missing schema - delete
        1..1
        ok 1 - (unnamed test)
    ok 5 - missing schema - delete # time=1.767ms
    
    # Subtest: body - delete
        1..1
        ok 1 - (unnamed test)
    ok 6 - body - delete # time=1.526ms
    
    # Subtest: shorthand - delete with application/json Content-Type header and without body
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - shorthand - delete with application/json Content-Type header and without body # time=45.951ms
    
    not ok 8 - Failed building the serialization schema for DELETE: /, due to error Cannot read properties of undefined (reading 'forEach')
      ---
      origin:
        at:
          line: 328
          column: 21
          file: lib/route.js
          function: Boot.<anonymous>
        stack: |
          Boot.<anonymous> (lib/route.js:328:21)
          node_modules/avvio/boot.js:160:12
          node_modules/avvio/plugin.js:275:7
          done (node_modules/avvio/plugin.js:200:5)
          check (node_modules/avvio/plugin.js:224:9)
        type: FastifyError
        code: FST_ERR_SCH_SERIALIZATION_BUILD
        statusCode: 500
        source: >2
                      } catch (error) {
                        throw new FST_ERR_SCH_SERIALIZATION_BUILD(opts.method, url, error.message)
          --------------------^
                      }
                    }
      found:
        !error
        name: FastifyError
        message: "Failed building the serialization schema for DELETE: /, due to error
          Cannot read properties of undefined (reading 'forEach')"
        stack: >-
          FastifyError: 
              at Boot.<anonymous> (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/lib/route.js:328:21)
              at Object.onceWrapper (node:events:627:28)
              at Boot.emit (node:events:525:35)
              at /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/boot.js:160:12
              at /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/plugin.js:275:7
              at done (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/plugin.js:200:5)
              at check (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/plugin.js:224:9)
              at node:internal/process/task_queues:141:7
              at AsyncResource.runInAsyncScope (node:async_hooks:203:9)
              at AsyncResource.runMicrotask (node:internal/process/task_queues:138:8)
        code: FST_ERR_SCH_SERIALIZATION_BUILD
        statusCode: 500
      at:
        line: 161
        column: 5
        file: test/delete.test.js
      stack: |
        cb (test/delete.test.js:161:5)
        Object.cb (lib/server.js:61:11)
        cb (lib/server.js:173:43)
        manageErr (fastify.js:538:11)
        fastify.js:520:11
        Object._encapsulateThreeParam (node_modules/avvio/boot.js:557:7)
        Boot.timeoutCall (node_modules/avvio/boot.js:453:5)
        Boot.callWithCbOrNextTick (node_modules/avvio/boot.js:435:19)
        release (node_modules/fastq/queue.js:149:16)
        Object.resume (node_modules/fastq/queue.js:82:7)
        node_modules/avvio/boot.js:174:18
        node_modules/avvio/plugin.js:275:7
        done (node_modules/avvio/plugin.js:200:5)
        check (node_modules/avvio/plugin.js:224:9)
      source: |
        fastify.listen({ port: 0 }, err => {
          t.error(err)
        ----^
          t.teardown(() => { fastify.close() })
      ...
    
    # Subtest: shorthand - request delete
        1..4
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/delete.test.js:168:58)
          at:
            line: 168
            column: 58
            file: test/delete.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - request delete
          source: |2
                  method: 'DELETE',
                  url: 'http://localhost:' + fastify.server.address().port
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 9 - shorthand - request delete # time=10.987ms
    
    # Subtest: shorthand - request delete params schema
        1..4
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/delete.test.js:181:58)
          at:
            line: 181
            column: 58
            file: test/delete.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - request delete params schema
          source: >2
                  method: 'DELETE',
                  url: 'http://localhost:' + fastify.server.address().port + '/params/world/123'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 10 - shorthand - request delete params schema # time=8.522ms
    
    # Subtest: shorthand - request delete params schema error
        1..3
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/delete.test.js:194:58)
          at:
            line: 194
            column: 58
            file: test/delete.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - request delete params schema error
          source: >2
                  method: 'DELETE',
                  url: 'http://localhost:' + fastify.server.address().port + '/params/world/string'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 11 - shorthand - request delete params schema error # time=8.548ms
    
    # Subtest: shorthand - request delete headers schema
        1..4
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/delete.test.js:213:58)
          at:
            line: 213
            column: 58
            file: test/delete.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - request delete headers schema
          source: |2
                  },
                  url: 'http://localhost:' + fastify.server.address().port + '/headers'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 12 - shorthand - request delete headers schema # time=7.985ms
    
    # Subtest: shorthand - request delete headers schema error
        1..3
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/delete.test.js:229:58)
          at:
            line: 229
            column: 58
            file: test/delete.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - request delete headers schema error
          source: |2
                  },
                  url: 'http://localhost:' + fastify.server.address().port + '/headers'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 13 - shorthand - request delete headers schema error # time=7.996ms
    
    # Subtest: shorthand - request delete querystring schema
        1..4
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/delete.test.js:245:58)
          at:
            line: 245
            column: 58
            file: test/delete.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - request delete querystring schema
          source: >2
                  method: 'DELETE',
                  url: 'http://localhost:' + fastify.server.address().port + '/query?hello=123'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 14 - shorthand - request delete querystring schema # time=20.857ms
    
    # Subtest: shorthand - request delete querystring schema error
        1..3
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/delete.test.js:258:58)
          at:
            line: 258
            column: 58
            file: test/delete.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - request delete querystring schema error
          source: >2
                  method: 'DELETE',
                  url: 'http://localhost:' + fastify.server.address().port + '/query?hello=world'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 15 - shorthand - request delete querystring schema error # time=7.603ms
    
    # Subtest: shorthand - request delete missing schema
        1..4
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/delete.test.js:274:58)
          at:
            line: 274
            column: 58
            file: test/delete.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - request delete missing schema
          source: |2
                  method: 'DELETE',
                  url: 'http://localhost:' + fastify.server.address().port + '/missing'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 16 - shorthand - request delete missing schema # time=7.773ms
    
    # Subtest: shorthand - delete with body
        1..3
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/delete.test.js:287:58)
          at:
            line: 287
            column: 58
            file: test/delete.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - delete with body
          source: |2
                  method: 'DELETE',
                  url: 'http://localhost:' + fastify.server.address().port + '/body',
            ---------------------------------------------------------^
                  body: {
                    hello: 'world'
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 17 - shorthand - delete with body # time=11.595ms
    
    1..17
    # failed 10 of 17 tests
    # time=382.245ms
not ok 24 - test/delete.test.js # time=382.245ms
  ---
  env: {}
  file: test/delete.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/delete.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify
  exitCode: 1
  ...

# Subtest: test/diagnostics-channel.test.js
    # Subtest: diagnostics_channel when present and subscribers
        1..3
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should be equal
    ok 1 - diagnostics_channel when present and subscribers # time=694.617ms
    
    # Subtest: diagnostics_channel when present and no subscribers
        1..1
        ok 1 - should be equal
    ok 2 - diagnostics_channel when present and no subscribers # time=18.585ms
    
    # Subtest: diagnostics_channel when not present
        1..1
        ok 1 - expected to not throw
    ok 3 - diagnostics_channel when not present # time=17.788ms
    
    1..3
    # time=743.587ms
ok 25 - test/diagnostics-channel.test.js # time=743.587ms

# Subtest: test/encapsulated-error-handler.test.js
    # Subtest: encapuslates an error handler
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 1 - encapuslates an error handler # time=65.957ms
    
    # Subtest: onError hook nested
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 2 - onError hook nested # time=10.567ms
    
    1..2
    # time=82.936ms
ok 26 - test/encapsulated-error-handler.test.js # time=82.936ms

# Subtest: test/esm/index.test.js
    # Subtest: named exports support
        ok 1 - should be equal
        1..1
    ok 1 - named exports support # time=35.173ms
    
    ok 2 - should be equal
    1..2
    # time=41.389ms
ok 27 - test/esm/index.test.js # time=41.389ms

# Subtest: test/fastify-instance.test.js
    # Subtest: root fastify instance is an object
        1..1
        ok 1 - type is object
    ok 1 - root fastify instance is an object # time=15.984ms
    
    # Subtest: fastify instance should contains ajv options
        1..1
        ok 1 - should be equivalent
    ok 2 - fastify instance should contains ajv options # time=7.047ms
    
    # Subtest: fastify instance should contains ajv options.plugins nested arrays
        1..1
        ok 1 - should be equivalent
    ok 3 - fastify instance should contains ajv options.plugins nested arrays # time=3.544ms
    
    # Subtest: fastify instance get invalid ajv options
        1..1
        ok 1 - expected to throw
    ok 4 - fastify instance get invalid ajv options # time=1.888ms
    
    # Subtest: fastify instance get invalid ajv options.plugins
        1..1
        ok 1 - expected to throw
    ok 5 - fastify instance get invalid ajv options.plugins # time=1.505ms
    
    # Subtest: fastify instance should contain default errorHandler
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 6 - fastify instance should contain default errorHandler # time=3.424ms
    
    # Subtest: errorHandler in plugin should be separate from the external one
        1..4
        ok 1 - should not be equivalent
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equivalent
    ok 7 - errorHandler in plugin should be separate from the external one # time=16.598ms
    
    1..7
    # time=75.803ms
ok 28 - test/fastify-instance.test.js # time=75.803ms

# Subtest: test/fluent-schema.test.js
    # Subtest: use fluent-json-schema object
        1..15
        not ok 1 - Cannot read properties of undefined (reading 'forEach')
          ---
          origin:
            at:
              line: 14
              column: 24
              file: node_modules/ajv/lib/ajv.ts
              function: Ajv._addVocabularies
            stack: |
              Ajv._addVocabularies (node_modules/ajv/lib/ajv.ts:14:24)
              new Ajv (node_modules/ajv/lib/core.ts:308:10)
              new Ajv (node_modules/ajv/lib/ajv.ts:11:1)
              new ValidatorCompiler (node_modules/@fastify/ajv-compiler/index.js:51:18)
              buildCompilerFromPool (node_modules/@fastify/ajv-compiler/index.js:32:22)
              SchemaController.setupValidator (lib/schema-controller.js:100:30)
              Boot.<anonymous> (lib/route.js:314:32)
              node_modules/avvio/boot.js:160:12
            type: TypeError
            source: |2
                  super._addVocabularies()
                  draft7Vocabularies.forEach((v) => this.addVocabulary(v))
              -----------------------^
                  if (this.opts.discriminator) this.addKeyword(discriminator)
                }
          found:
            !error
            name: TypeError
            message: Cannot read properties of undefined (reading 'forEach')
            stack: >-
              TypeError: 
                  at Ajv._addVocabularies (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/ajv/lib/ajv.ts:14:24)
                  at new Ajv (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/ajv/lib/core.ts:308:10)
                  at new Ajv (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/ajv/lib/ajv.ts:11:1)
                  at new ValidatorCompiler (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/@fastify/ajv-compiler/index.js:51:18)
                  at buildCompilerFromPool (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/@fastify/ajv-compiler/index.js:32:22)
                  at SchemaController.setupValidator (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/lib/schema-controller.js:100:30)
                  at Boot.<anonymous> (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/lib/route.js:314:32)
                  at Object.onceWrapper (node:events:627:28)
                  at Boot.emit (node:events:525:35)
                  at /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/boot.js:160:12
          at:
            line: 35
            column: 7
            file: test/fluent-schema.test.js
          stack: |
            cb (test/fluent-schema.test.js:35:7)
            cb (fastify.js:486:18)
            manageErr (fastify.js:538:11)
            fastify.js:520:11
            Object._encapsulateThreeParam (node_modules/avvio/boot.js:557:7)
            Boot.timeoutCall (node_modules/avvio/boot.js:453:5)
            Boot.callWithCbOrNextTick (node_modules/avvio/boot.js:435:19)
            release (node_modules/fastq/queue.js:149:16)
            Object.resume (node_modules/fastq/queue.js:82:7)
            node_modules/avvio/boot.js:174:18
            node_modules/avvio/plugin.js:275:7
            done (node_modules/avvio/plugin.js:200:5)
            check (node_modules/avvio/plugin.js:224:9)
          source: >2
              }, (err, res) => {
                t.error(err)
            ------^
                t.equal(res.statusCode, 400)
                t.same(res.json(), { statusCode: 400, error: 'Bad Request', message: 'params/id must be >= 42' })
          ...
        
        not ok 2 - test unfinished
          ---
          stack: |
            Object.<anonymous> (test/fluent-schema.test.js:8:1)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          test: use fluent-json-schema object
          at:
            line: 8
            column: 1
            file: test/fluent-schema.test.js
            function: Object.<anonymous>
          source: |
          
            test('use fluent-json-schema object', t => {
            ^
              t.plan(15)
              const fastify = Fastify()
          ...
        
        # test count(2) != plan(15)
        # failed 2 of 2 tests
    not ok 1 - use fluent-json-schema object # time=253.956ms
    
    not ok 2 - child test left in queue: t.test use complex fluent-json-schema object
    not ok 3 - child test left in queue: t.test use fluent schema and plain JSON schema
    not ok 4 - child test left in queue: t.test Should call valueOf internally
    1..1
    # test count(4) != plan(1)
    # failed 7 of 4 tests
    # time=260.667ms
not ok 29 - test/fluent-schema.test.js # time=260.667ms
  ---
  env: {}
  file: test/fluent-schema.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/fluent-schema.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify
  failures:
    - &a1
      id: 2
      name: "child test left in queue: t.test use complex fluent-json-schema object"
      fullname: test/fluent-schema.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a2
      id: 3
      name: "child test left in queue: t.test use fluent schema and plain JSON schema"
      fullname: test/fluent-schema.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a3
      id: 4
      name: "child test left in queue: t.test Should call valueOf internally"
      fullname: test/fluent-schema.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - *a1
    - *a2
    - *a3
  exitCode: 1
  ...

# Subtest: test/genReqId.test.js
    # Subtest: Should accept a custom genReqId function
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 1 - Should accept a custom genReqId function # time=69.678ms
    
    1..1
    # time=78.333ms
ok 30 - test/genReqId.test.js # time=78.333ms

# Subtest: test/get.test.js
    # Subtest: shorthand - get
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - get # time=10.204ms
    
    # Subtest: shorthand - get (return null)
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - get (return null) # time=4.223ms
    
    # Subtest: shorthand - get params
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - get params # time=2.764ms
    
    # Subtest: shorthand - get, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 4 - shorthand - get, querystring schema # time=2.284ms
    
    # Subtest: shorthand - get, headers schema
        1..1
        ok 1 - (unnamed test)
    ok 5 - shorthand - get, headers schema # time=2.255ms
    
    # Subtest: missing schema - get
        1..1
        ok 1 - (unnamed test)
    ok 6 - missing schema - get # time=1.854ms
    
    # Subtest: custom serializer - get
        1..1
        ok 1 - (unnamed test)
    ok 7 - custom serializer - get # time=2.297ms
    
    # Subtest: empty response
        1..1
        ok 1 - (unnamed test)
    ok 8 - empty response # time=1.834ms
    
    # Subtest: send a falsy boolean
        1..1
        ok 1 - (unnamed test)
    ok 9 - send a falsy boolean # time=1.788ms
    
    not ok 10 - Failed building the serialization schema for GET: /, due to error Cannot read properties of undefined (reading 'forEach')
      ---
      origin:
        at:
          line: 328
          column: 21
          file: lib/route.js
          function: Boot.<anonymous>
        stack: |
          Boot.<anonymous> (lib/route.js:328:21)
          node_modules/avvio/boot.js:160:12
          node_modules/avvio/plugin.js:275:7
          done (node_modules/avvio/plugin.js:200:5)
          check (node_modules/avvio/plugin.js:224:9)
        type: FastifyError
        code: FST_ERR_SCH_SERIALIZATION_BUILD
        statusCode: 500
        source: >2
                      } catch (error) {
                        throw new FST_ERR_SCH_SERIALIZATION_BUILD(opts.method, url, error.message)
          --------------------^
                      }
                    }
      found:
        !error
        name: FastifyError
        message: "Failed building the serialization schema for GET: /, due to error
          Cannot read properties of undefined (reading 'forEach')"
        stack: >-
          FastifyError: 
              at Boot.<anonymous> (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/lib/route.js:328:21)
              at Object.onceWrapper (node:events:627:28)
              at Boot.emit (node:events:525:35)
              at /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/boot.js:160:12
              at /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/plugin.js:275:7
              at done (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/plugin.js:200:5)
              at check (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/plugin.js:224:9)
              at node:internal/process/task_queues:141:7
              at AsyncResource.runInAsyncScope (node:async_hooks:203:9)
              at AsyncResource.runMicrotask (node:internal/process/task_queues:138:8)
        code: FST_ERR_SCH_SERIALIZATION_BUILD
        statusCode: 500
      at:
        line: 207
        column: 5
        file: test/get.test.js
      stack: |
        cb (test/get.test.js:207:5)
        Object.cb (lib/server.js:61:11)
        cb (lib/server.js:173:43)
        manageErr (fastify.js:538:11)
        fastify.js:520:11
        Object._encapsulateThreeParam (node_modules/avvio/boot.js:557:7)
        Boot.timeoutCall (node_modules/avvio/boot.js:453:5)
        Boot.callWithCbOrNextTick (node_modules/avvio/boot.js:435:19)
        release (node_modules/fastq/queue.js:149:16)
        Object.resume (node_modules/fastq/queue.js:82:7)
        node_modules/avvio/boot.js:174:18
        node_modules/avvio/plugin.js:275:7
        done (node_modules/avvio/plugin.js:200:5)
        check (node_modules/avvio/plugin.js:224:9)
      source: |
        fastify.listen({ port: 0 }, err => {
          t.error(err)
        ----^
          t.teardown(() => { fastify.close() })
      ...
    
    # Subtest: shorthand - request get
        1..4
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/get.test.js:214:58)
          at:
            line: 214
            column: 58
            file: test/get.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - request get
          source: |2
                  method: 'GET',
                  url: 'http://localhost:' + fastify.server.address().port
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 11 - shorthand - request get # time=10.822ms
    
    # Subtest: shorthand - request get params schema
        1..4
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/get.test.js:227:58)
          at:
            line: 227
            column: 58
            file: test/get.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - request get params schema
          source: >2
                  method: 'GET',
                  url: 'http://localhost:' + fastify.server.address().port + '/params/world/123'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 12 - shorthand - request get params schema # time=7.717ms
    
    # Subtest: shorthand - request get params schema error
        1..3
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/get.test.js:240:58)
          at:
            line: 240
            column: 58
            file: test/get.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - request get params schema error
          source: >2
                  method: 'GET',
                  url: 'http://localhost:' + fastify.server.address().port + '/params/world/string'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 13 - shorthand - request get params schema error # time=8.133ms
    
    # Subtest: shorthand - request get headers schema
        1..4
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/get.test.js:261:58)
          at:
            line: 261
            column: 58
            file: test/get.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - request get headers schema
          source: |2
                  json: true,
                  url: 'http://localhost:' + fastify.server.address().port + '/headers'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 14 - shorthand - request get headers schema # time=8.252ms
    
    # Subtest: shorthand - request get headers schema error
        1..3
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/get.test.js:277:58)
          at:
            line: 277
            column: 58
            file: test/get.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - request get headers schema error
          source: |2
                  },
                  url: 'http://localhost:' + fastify.server.address().port + '/headers'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 15 - shorthand - request get headers schema error # time=10.125ms
    
    # Subtest: shorthand - request get querystring schema
        1..4
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/get.test.js:293:58)
          at:
            line: 293
            column: 58
            file: test/get.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - request get querystring schema
          source: >2
                  method: 'GET',
                  url: 'http://localhost:' + fastify.server.address().port + '/query?hello=123'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 16 - shorthand - request get querystring schema # time=7.787ms
    
    # Subtest: shorthand - request get querystring schema error
        1..3
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/get.test.js:306:58)
          at:
            line: 306
            column: 58
            file: test/get.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - request get querystring schema error
          source: >2
                  method: 'GET',
                  url: 'http://localhost:' + fastify.server.address().port + '/query?hello=world'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 17 - shorthand - request get querystring schema error # time=7.05ms
    
    # Subtest: shorthand - request get missing schema
        1..4
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/get.test.js:322:58)
          at:
            line: 322
            column: 58
            file: test/get.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - request get missing schema
          source: |2
                  method: 'GET',
                  url: 'http://localhost:' + fastify.server.address().port + '/missing'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 18 - shorthand - request get missing schema # time=6.876ms
    
    # Subtest: shorthand - custom serializer
        1..4
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/get.test.js:335:58)
          at:
            line: 335
            column: 58
            file: test/get.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - custom serializer
          source: >2
                  method: 'GET',
                  url: 'http://localhost:' + fastify.server.address().port + '/custom-serializer'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 19 - shorthand - custom serializer # time=16.472ms
    
    # Subtest: shorthand - empty response
        1..4
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/get.test.js:348:58)
          at:
            line: 348
            column: 58
            file: test/get.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - empty response
          source: |2
                  method: 'GET',
                  url: 'http://localhost:' + fastify.server.address().port + '/empty'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 20 - shorthand - empty response # time=6.274ms
    
    # Subtest: shorthand - send a falsy boolean
        1..3
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/get.test.js:361:58)
          at:
            line: 361
            column: 58
            file: test/get.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - send a falsy boolean
          source: |2
                  method: 'GET',
                  url: 'http://localhost:' + fastify.server.address().port + '/boolean'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 21 - shorthand - send a falsy boolean # time=4.752ms
    
    # Subtest: shorthand - send null value
        1..3
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/get.test.js:373:58)
          at:
            line: 373
            column: 58
            file: test/get.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - send null value
          source: |2
                  method: 'GET',
                  url: 'http://localhost:' + fastify.server.address().port + '/null'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 22 - shorthand - send null value # time=4.535ms
    
    1..22
    # failed 13 of 22 tests
    # time=410.361ms
not ok 31 - test/get.test.js # time=410.361ms
  ---
  env: {}
  file: test/get.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/get.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify
  exitCode: 1
  ...

# Subtest: test/handler-context.test.js
    # Subtest: handlers receive correct `this` context
        1..4
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 1 - handlers receive correct `this` context # time=60.206ms
    
    # Subtest: handlers have access to the internal context
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - type is Object
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 2 - handlers have access to the internal context # time=22.752ms
    
    1..2
    # time=90.99ms
ok 32 - test/handler-context.test.js # time=90.99ms

# Subtest: test/head.test.js
    # Subtest: shorthand - head
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - head # time=9.162ms
    
    # Subtest: shorthand - head params
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - head params # time=2.642ms
    
    # Subtest: shorthand - head, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - head, querystring schema # time=1.898ms
    
    # Subtest: missing schema - head
        1..1
        ok 1 - (unnamed test)
    ok 4 - missing schema - head # time=2.505ms
    
    not ok 5 - Failed building the serialization schema for HEAD: /, due to error Cannot read properties of undefined (reading 'forEach')
      ---
      origin:
        at:
          line: 328
          column: 21
          file: lib/route.js
          function: Boot.<anonymous>
        stack: |
          Boot.<anonymous> (lib/route.js:328:21)
          node_modules/avvio/boot.js:160:12
          node_modules/avvio/plugin.js:275:7
          done (node_modules/avvio/plugin.js:200:5)
          check (node_modules/avvio/plugin.js:224:9)
        type: FastifyError
        code: FST_ERR_SCH_SERIALIZATION_BUILD
        statusCode: 500
        source: >2
                      } catch (error) {
                        throw new FST_ERR_SCH_SERIALIZATION_BUILD(opts.method, url, error.message)
          --------------------^
                      }
                    }
      found:
        !error
        name: FastifyError
        message: "Failed building the serialization schema for HEAD: /, due to error
          Cannot read properties of undefined (reading 'forEach')"
        stack: >-
          FastifyError: 
              at Boot.<anonymous> (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/lib/route.js:328:21)
              at Object.onceWrapper (node:events:627:28)
              at Boot.emit (node:events:525:35)
              at /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/boot.js:160:12
              at /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/plugin.js:275:7
              at done (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/plugin.js:200:5)
              at check (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/plugin.js:224:9)
              at node:internal/process/task_queues:141:7
              at AsyncResource.runInAsyncScope (node:async_hooks:203:9)
              at AsyncResource.runMicrotask (node:internal/process/task_queues:138:8)
        code: FST_ERR_SCH_SERIALIZATION_BUILD
        statusCode: 500
      at:
        line: 96
        column: 5
        file: test/head.test.js
      stack: |
        cb (test/head.test.js:96:5)
        Object.cb (lib/server.js:61:11)
        cb (lib/server.js:173:43)
        manageErr (fastify.js:538:11)
        fastify.js:520:11
        Object._encapsulateThreeParam (node_modules/avvio/boot.js:557:7)
        Boot.timeoutCall (node_modules/avvio/boot.js:453:5)
        Boot.callWithCbOrNextTick (node_modules/avvio/boot.js:435:19)
        release (node_modules/fastq/queue.js:149:16)
        Object.resume (node_modules/fastq/queue.js:82:7)
        node_modules/avvio/boot.js:174:18
        node_modules/avvio/plugin.js:275:7
        done (node_modules/avvio/plugin.js:200:5)
        check (node_modules/avvio/plugin.js:224:9)
      source: |
        fastify.listen({ port: 0 }, err => {
          t.error(err)
        ----^
          t.teardown(() => { fastify.close() })
      ...
    
    # Subtest: shorthand - request head
        1..2
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/head.test.js:103:58)
          at:
            line: 103
            column: 58
            file: test/head.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - request head
          source: |2
                  method: 'HEAD',
                  url: 'http://localhost:' + fastify.server.address().port
            ---------------------------------------------------------^
                }, (err, response) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(2)
        # failed 1 test
    not ok 6 - shorthand - request head # time=7.638ms
    
    # Subtest: shorthand - request head params schema
        1..2
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/head.test.js:114:58)
          at:
            line: 114
            column: 58
            file: test/head.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - request head params schema
          source: >2
                  method: 'HEAD',
                  url: 'http://localhost:' + fastify.server.address().port + '/params/world/123'
            ---------------------------------------------------------^
                }, (err, response) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(2)
        # failed 1 test
    not ok 7 - shorthand - request head params schema # time=5.614ms
    
    # Subtest: shorthand - request head params schema error
        1..2
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/head.test.js:125:58)
          at:
            line: 125
            column: 58
            file: test/head.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - request head params schema error
          source: >2
                  method: 'HEAD',
                  url: 'http://localhost:' + fastify.server.address().port + '/params/world/string'
            ---------------------------------------------------------^
                }, (err, response) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(2)
        # failed 1 test
    not ok 8 - shorthand - request head params schema error # time=5.942ms
    
    # Subtest: shorthand - request head querystring schema
        1..2
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/head.test.js:136:58)
          at:
            line: 136
            column: 58
            file: test/head.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - request head querystring schema
          source: >2
                  method: 'HEAD',
                  url: 'http://localhost:' + fastify.server.address().port + '/query?hello=123'
            ---------------------------------------------------------^
                }, (err, response) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(2)
        # failed 1 test
    not ok 9 - shorthand - request head querystring schema # time=5.577ms
    
    # Subtest: shorthand - request head querystring schema error
        1..2
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/head.test.js:147:58)
          at:
            line: 147
            column: 58
            file: test/head.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - request head querystring schema error
          source: >2
                  method: 'HEAD',
                  url: 'http://localhost:' + fastify.server.address().port + '/query?hello=world'
            ---------------------------------------------------------^
                }, (err, response) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(2)
        # failed 1 test
    not ok 10 - shorthand - request head querystring schema error # time=5.269ms
    
    # Subtest: shorthand - request head missing schema
        1..2
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/head.test.js:158:58)
          at:
            line: 158
            column: 58
            file: test/head.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - request head missing schema
          source: |2
                  method: 'HEAD',
                  url: 'http://localhost:' + fastify.server.address().port + '/missing'
            ---------------------------------------------------------^
                }, (err, response) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(2)
        # failed 1 test
    not ok 11 - shorthand - request head missing schema # time=10.086ms
    
    1..11
    # failed 7 of 11 tests
    # time=263.345ms
not ok 33 - test/head.test.js # time=263.345ms
  ---
  env: {}
  file: test/head.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/head.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify
  exitCode: 1
  ...

# Subtest: test/hooks-async.test.js
    # Subtest: async hooks
        1..21
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - should not error
        ok 13 - should be equal
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equivalent
        ok 18 - should not error
        ok 19 - should be equal
        ok 20 - expect truthy value
        ok 21 - expect truthy value
    ok 1 - async hooks # time=119.935ms
    
    # Subtest: modify payload
        1..10
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - expect truthy value
        ok 4 - should be equivalent
        ok 5 - expect truthy value
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
    ok 2 - modify payload # time=37.671ms
    
    # Subtest: onRequest hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 3 - onRequest hooks should be able to block a request # time=18.162ms
    
    # Subtest: preParsing hooks should be able to modify the payload
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 4 - preParsing hooks should be able to modify the payload # time=17.071ms
    
    # Subtest: preParsing hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 5 - preParsing hooks should handle errors # time=8.109ms
    
    # Subtest: preHandler hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 6 - preHandler hooks should be able to block a request # time=6.244ms
    
    # Subtest: preValidation hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 7 - preValidation hooks should be able to block a request # time=22.316ms
    
    # Subtest: preValidation hooks should be able to change request body before validation
        1..4
        not ok 1 - Cannot read properties of undefined (reading 'forEach')
          ---
          origin:
            at:
              line: 14
              column: 24
              file: node_modules/ajv/lib/ajv.ts
              function: Ajv._addVocabularies
            stack: |
              Ajv._addVocabularies (node_modules/ajv/lib/ajv.ts:14:24)
              new Ajv (node_modules/ajv/lib/core.ts:308:10)
              new Ajv (node_modules/ajv/lib/ajv.ts:11:1)
              new ValidatorCompiler (node_modules/@fastify/ajv-compiler/index.js:51:18)
              buildCompilerFromPool (node_modules/@fastify/ajv-compiler/index.js:32:22)
              SchemaController.setupValidator (lib/schema-controller.js:100:30)
              Boot.<anonymous> (lib/route.js:314:32)
              node_modules/avvio/boot.js:160:12
            type: TypeError
            source: |2
                  super._addVocabularies()
                  draft7Vocabularies.forEach((v) => this.addVocabulary(v))
              -----------------------^
                  if (this.opts.discriminator) this.addKeyword(discriminator)
                }
          found:
            !error
            name: TypeError
            message: Cannot read properties of undefined (reading 'forEach')
            stack: >-
              TypeError: 
                  at Ajv._addVocabularies (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/ajv/lib/ajv.ts:14:24)
                  at new Ajv (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/ajv/lib/core.ts:308:10)
                  at new Ajv (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/ajv/lib/ajv.ts:11:1)
                  at new ValidatorCompiler (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/@fastify/ajv-compiler/index.js:51:18)
                  at buildCompilerFromPool (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/@fastify/ajv-compiler/index.js:32:22)
                  at SchemaController.setupValidator (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/lib/schema-controller.js:100:30)
                  at Boot.<anonymous> (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/lib/route.js:314:32)
                  at Object.onceWrapper (node:events:627:28)
                  at Boot.emit (node:events:525:35)
                  at /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/boot.js:160:12
          at:
            line: 330
            column: 7
            file: test/hooks-async.test.js
          stack: |
            cb (test/hooks-async.test.js:330:7)
            cb (fastify.js:486:18)
            manageErr (fastify.js:538:11)
            fastify.js:520:11
            Object._encapsulateThreeParam (node_modules/avvio/boot.js:557:7)
            Boot.timeoutCall (node_modules/avvio/boot.js:453:5)
            Boot.callWithCbOrNextTick (node_modules/avvio/boot.js:435:19)
            release (node_modules/fastq/queue.js:149:16)
            Object.resume (node_modules/fastq/queue.js:82:7)
            node_modules/avvio/boot.js:174:18
            node_modules/avvio/plugin.js:275:7
            done (node_modules/avvio/plugin.js:200:5)
            check (node_modules/avvio/plugin.js:224:9)
          source: |2
              }, (err, res) => {
                t.error(err)
            ------^
                t.equal(res.statusCode, 200)
                t.equal(res.payload, 'hello')
          ...
        
        not ok 2 - test unfinished
          ---
          stack: |
            Object.<anonymous> (test/hooks-async.test.js:290:1)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          test: preValidation hooks should be able to change request body before validation
          at:
            line: 290
            column: 1
            file: test/hooks-async.test.js
            function: Object.<anonymous>
          source: >
          
            test('preValidation hooks should be able to change request body before validation', t => {
          
            ^
              t.plan(4)
              const fastify = Fastify()
          ...
        
        # test count(2) != plan(4)
        # failed 2 of 2 tests
    not ok 8 - preValidation hooks should be able to change request body before validation # time=173.365ms
    
    not ok 9 - child test left in queue: t.test preSerialization hooks should be able to modify the payload
    not ok 10 - child test left in queue: t.test preSerialization hooks should handle errors
    not ok 11 - child test left in queue: t.test preValidation hooks should handle throwing null
    not ok 12 - child test left in queue: t.test preValidation hooks should handle throwing a string
    not ok 13 - child test left in queue: t.test onRequest hooks should be able to block a request (last hook)
    not ok 14 - child test left in queue: t.test preHandler hooks should be able to block a request (last hook)
    not ok 15 - child test left in queue: t.test onRequest respond with a stream
    not ok 16 - child test left in queue: t.test preHandler respond with a stream
    not ok 17 - child test left in queue: t.test Should log a warning if is an async function with `done`
    not ok 18 - child test left in queue: t.test early termination, onRequest async
    not ok 19 - child test left in queue: t.test The this should be the same of the encapsulation level
    not ok 20 - child test left in queue: t.test preSerializationEnd should handle errors if the serialize method throws
    1..8
    # test count(20) != plan(8)
    # failed 25 of 20 tests
    # time=412.201ms
not ok 34 - test/hooks-async.test.js # time=412.201ms
  ---
  env: {}
  file: test/hooks-async.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/hooks-async.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify
  failures:
    - &a1
      id: 9
      name: "child test left in queue: t.test preSerialization hooks should be able to
        modify the payload"
      fullname: test/hooks-async.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 8
    - &a2
      id: 10
      name: "child test left in queue: t.test preSerialization hooks should handle
        errors"
      fullname: test/hooks-async.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 8
    - &a3
      id: 11
      name: "child test left in queue: t.test preValidation hooks should handle
        throwing null"
      fullname: test/hooks-async.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 8
    - &a4
      id: 12
      name: "child test left in queue: t.test preValidation hooks should handle
        throwing a string"
      fullname: test/hooks-async.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 8
    - &a5
      id: 13
      name: "child test left in queue: t.test onRequest hooks should be able to block
        a request (last hook)"
      fullname: test/hooks-async.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 8
    - &a6
      id: 14
      name: "child test left in queue: t.test preHandler hooks should be able to block
        a request (last hook)"
      fullname: test/hooks-async.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 8
    - &a7
      id: 15
      name: "child test left in queue: t.test onRequest respond with a stream"
      fullname: test/hooks-async.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 8
    - &a8
      id: 16
      name: "child test left in queue: t.test preHandler respond with a stream"
      fullname: test/hooks-async.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 8
    - &a9
      id: 17
      name: "child test left in queue: t.test Should log a warning if is an async
        function with `done`"
      fullname: test/hooks-async.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 8
    - &a10
      id: 18
      name: "child test left in queue: t.test early termination, onRequest async"
      fullname: test/hooks-async.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 8
    - &a11
      id: 19
      name: "child test left in queue: t.test The this should be the same of the
        encapsulation level"
      fullname: test/hooks-async.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 8
    - &a12
      id: 20
      name: "child test left in queue: t.test preSerializationEnd should handle errors
        if the serialize method throws"
      fullname: test/hooks-async.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 8
    - *a1
    - *a2
    - *a3
    - *a4
    - *a5
    - *a6
    - *a7
    - *a8
    - *a9
    - *a10
    - *a11
    - *a12
  exitCode: 1
  ...

# Subtest: test/hooks.on-ready.test.js
    # Subtest: onReady should be called in order
        1..7
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
        ok 7 - should not error
    ok 1 - onReady should be called in order # time=69.022ms
    
    # Subtest: async onReady should be called in order
        1..7
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
        ok 7 - ready
    ok 2 - async onReady should be called in order # time=13.301ms
    
    # Subtest: mix ready and onReady
        1..2
        ok 1 - should be equal
        ok 2 - ready hooks execute once
    ok 3 - mix ready and onReady # time=18.241ms
    
    # Subtest: listen and onReady order
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - trigger the onReady
        ok 9 - do not trigger the onReady
    ok 4 - listen and onReady order # time=22.559ms
    
    # Subtest: multiple ready calls
        1..11
        ok 1 - ready and hooks not triggered yet
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - trigger the onReady
        ok 10 - do not trigger the onReady
        ok 11 - do not trigger the onReady
    ok 5 - multiple ready calls # time=9.083ms
    
    # Subtest: onReady should manage error in sync
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 6 - onReady should manage error in sync # time=5.957ms
    
    # Subtest: onReady should manage error in async
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 7 - onReady should manage error in async # time=25.125ms
    
    # Subtest: onReady should manage sync error
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 8 - onReady should manage sync error # time=5.37ms
    
    # Subtest: onReady can not add decorators or application hooks
        1..3
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should not error
    ok 9 - onReady can not add decorators or application hooks # time=12.458ms
    
    # Subtest: onReady cannot add lifecycle hooks
        1..5
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 10 - onReady cannot add lifecycle hooks # time=9.145ms
    
    # Subtest: onReady throw loading error
        1..1
        ok 1 - expect truthy value
    ok 11 - onReady throw loading error # time=1.896ms
    
    # Subtest: onReady does not call done
        1..6
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
        ok 6 - should be equal
    ok 12 - onReady does not call done # time=516.654ms
    
    # Subtest: onReady execution order
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 13 - onReady execution order # time=3.797ms
    
    # Subtest: ready return the server with callback
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 14 - ready return the server with callback # time=18.707ms
    
    # Subtest: ready return the server with Promise
        1..1
        ok 1 - should be equivalent
    ok 15 - ready return the server with Promise # time=5.624ms
    
    # Subtest: ready return registered
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
    ok 16 - ready return registered # time=9.099ms
    
    1..16
    # time=762.12ms
ok 35 - test/hooks.on-ready.test.js # time=762.12ms

# Subtest: test/hooks.test.js
    # Subtest: hooks
        1..43
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - (unnamed test)
        ok 4 - (unnamed test)
        ok 5 - (unnamed test)
        ok 6 - (unnamed test)
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - expect truthy value
        ok 20 - expect truthy value
        ok 21 - expect truthy value
        ok 22 - expect truthy value
        ok 23 - should be equal
        ok 24 - should be equal
        ok 25 - should be equal
        ok 26 - should be equal
        ok 27 - should be equal
        ok 28 - should be equal
        ok 29 - should be equal
        ok 30 - should be equal
        ok 31 - should be equal
        ok 32 - expect truthy value
        ok 33 - expect truthy value
        ok 34 - expect truthy value
        ok 35 - expect truthy value
        ok 36 - should not error
        ok 37 - should be equal
        ok 38 - should be equal
        ok 39 - should be equivalent
        ok 40 - should not error
        ok 41 - should be equal
        ok 42 - should not error
        ok 43 - should be equal
    ok 1 - hooks # time=240.66ms
    
    # Subtest: onRequest hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 2 - onRequest hook should support encapsulation / 1 # time=34.973ms
    
    # Subtest: onRequest hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 3 - onRequest hook should support encapsulation / 2 # time=8.444ms
    
    # Subtest: onRequest hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 4 - onRequest hook should support encapsulation / 3 # time=19.781ms
    
    # Subtest: preHandler hook should support encapsulation / 5
        1..17
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equivalent
    ok 5 - preHandler hook should support encapsulation / 5 # time=20.623ms
    
    # Subtest: onRoute hook should be called / 1
        1..2
        ok 1 - (unnamed test)
        ok 2 - should not error
    ok 6 - onRoute hook should be called / 1 # time=5.595ms
    
    # Subtest: onRoute hook should be called / 2
        1..5
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 7 - onRoute hook should be called / 2 # time=9.528ms
    
    # Subtest: onRoute hook should be called / 3
        1..5
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - (unnamed test)
        ok 5 - should not error
    ok 8 - onRoute hook should be called / 3 # time=17.638ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 4
        1..4
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - (unnamed test)
        ok 4 - should not error
    ok 9 - onRoute hook should be called (encapsulation support) / 4 # time=6.496ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 5
        1..2
        ok 1 - (unnamed test)
        ok 2 - should not error
    ok 10 - onRoute hook should be called (encapsulation support) / 5 # time=10.503ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 6
        1..1
        ok 1 - should not error
    ok 11 - onRoute hook should be called (encapsulation support) / 6 # time=4.524ms
    
    # Subtest: onRoute should keep the context
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
    ok 12 - onRoute should keep the context # time=8.244ms
    
    # Subtest: onRoute hook should pass correct route
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should not error
    ok 13 - onRoute hook should pass correct route # time=5.755ms
    
    # Subtest: onRoute hook should pass correct route with custom prefix
        1..11
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
    ok 14 - onRoute hook should pass correct route with custom prefix # time=6.157ms
    
    # Subtest: onRoute hook should pass correct route with custom options
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - type is function
        ok 6 - should not error
    ok 15 - onRoute hook should pass correct route with custom options # time=5.685ms
    
    # Subtest: onRoute hook should receive any route option
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 16 - onRoute hook should receive any route option # time=24.463ms
    
    # Subtest: onRoute hook should preserve system route configuration
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 17 - onRoute hook should preserve system route configuration # time=5.037ms
    
    # Subtest: onRoute hook should preserve handler function in options of shorthand route system configuration
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 18 - onRoute hook should preserve handler function in options of shorthand route system configuration # time=14.205ms
    
    # Subtest: onRoute hook should be called once when prefixTrailingSlash
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 19 - onRoute hook should be called once when prefixTrailingSlash # time=5.731ms
    
    # Subtest: onRoute hook should able to change the route url
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 20 - onRoute hook should able to change the route url # time=11.73ms
    
    # Subtest: onRoute hook that throws should be caught
        1..1
        ok 1 - expect truthy value
    ok 21 - onRoute hook that throws should be caught # time=4.021ms
    
    # Subtest: onRoute hook with many prefix
        1..3
        ok 1 - should match pattern provided
        ok 2 - should match pattern provided
        ok 3 - should not error
    ok 22 - onRoute hook with many prefix # time=21.32ms
    
    # Subtest: onRoute hook should not be called when it registered after route
        1..3
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
    ok 23 - onRoute hook should not be called when it registered after route # time=12.082ms
    
    # Subtest: onResponse hook should log request error
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 24 - onResponse hook should log request error # time=70.105ms
    
    # Subtest: onResponse hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 25 - onResponse hook should support encapsulation / 1 # time=7.32ms
    
    # Subtest: onResponse hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 26 - onResponse hook should support encapsulation / 2 # time=3.849ms
    
    # Subtest: onResponse hook should support encapsulation / 3
        1..16
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 27 - onResponse hook should support encapsulation / 3 # time=18.866ms
    
    # Subtest: onSend hook should support encapsulation / 1
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 28 - onSend hook should support encapsulation / 1 # time=12.133ms
    
    # Subtest: onSend hook should support encapsulation / 2
        1..16
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 29 - onSend hook should support encapsulation / 2 # time=14.453ms
    
    # Subtest: onSend hook is called after payload is serialized and headers are set
        1..30
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should be equal
        ok 15 - should not error
        ok 16 - should be equal
        ok 17 - should be equivalent
        ok 18 - should be equal
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equivalent
        ok 22 - should be equal
        ok 23 - should not error
        ok 24 - should be equal
        ok 25 - should be equivalent
        ok 26 - should be equal
        ok 27 - should not error
        ok 28 - should be equal
        ok 29 - should be equivalent
        ok 30 - should be equal
    ok 30 - onSend hook is called after payload is serialized and headers are set # time=21.358ms
    
    # Subtest: modify payload
        1..10
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - expect truthy value
        ok 4 - should be equivalent
        ok 5 - expect truthy value
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
    ok 31 - modify payload # time=6.586ms
    
    # Subtest: clear payload
        1..6
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 32 - clear payload # time=21.945ms
    
    # Subtest: onSend hook throws
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 33 - onSend hook throws # time=36.69ms
    
    # Subtest: onSend hook should receive valid request and reply objects if onRequest hook fails
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 34 - onSend hook should receive valid request and reply objects if onRequest hook fails # time=12.411ms
    
    # Subtest: onSend hook should receive valid request and reply objects if a custom content type parser fails
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 35 - onSend hook should receive valid request and reply objects if a custom content type parser fails # time=6.511ms
    
    # Subtest: Content-Length header should be updated if onSend hook modifies the payload
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 36 - Content-Length header should be updated if onSend hook modifies the payload # time=4.927ms
    
    # Subtest: cannot add hook after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 37 - cannot add hook after binding # time=5.085ms
    
    # Subtest: onRequest hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 38 - onRequest hooks should be able to block a request # time=5.623ms
    
    # Subtest: preValidation hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 39 - preValidation hooks should be able to block a request # time=5.593ms
    
    # Subtest: preValidation hooks should be able to change request body before validation
        1..4
        not ok 1 - Cannot read properties of undefined (reading 'forEach')
          ---
          origin:
            at:
              line: 14
              column: 24
              file: node_modules/ajv/lib/ajv.ts
              function: Ajv._addVocabularies
            stack: |
              Ajv._addVocabularies (node_modules/ajv/lib/ajv.ts:14:24)
              new Ajv (node_modules/ajv/lib/core.ts:308:10)
              new Ajv (node_modules/ajv/lib/ajv.ts:11:1)
              new ValidatorCompiler (node_modules/@fastify/ajv-compiler/index.js:51:18)
              buildCompilerFromPool (node_modules/@fastify/ajv-compiler/index.js:32:22)
              SchemaController.setupValidator (lib/schema-controller.js:100:30)
              Boot.<anonymous> (lib/route.js:314:32)
              node_modules/avvio/boot.js:160:12
            type: TypeError
            source: |2
                  super._addVocabularies()
                  draft7Vocabularies.forEach((v) => this.addVocabulary(v))
              -----------------------^
                  if (this.opts.discriminator) this.addKeyword(discriminator)
                }
          found:
            !error
            name: TypeError
            message: Cannot read properties of undefined (reading 'forEach')
            stack: >-
              TypeError: 
                  at Ajv._addVocabularies (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/ajv/lib/ajv.ts:14:24)
                  at new Ajv (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/ajv/lib/core.ts:308:10)
                  at new Ajv (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/ajv/lib/ajv.ts:11:1)
                  at new ValidatorCompiler (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/@fastify/ajv-compiler/index.js:51:18)
                  at buildCompilerFromPool (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/@fastify/ajv-compiler/index.js:32:22)
                  at SchemaController.setupValidator (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/lib/schema-controller.js:100:30)
                  at Boot.<anonymous> (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/lib/route.js:314:32)
                  at Object.onceWrapper (node:events:627:28)
                  at Boot.emit (node:events:525:35)
                  at /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/boot.js:160:12
          at:
            line: 1542
            column: 7
            file: test/hooks.test.js
          stack: |
            cb (test/hooks.test.js:1542:7)
            cb (fastify.js:486:18)
            manageErr (fastify.js:538:11)
            fastify.js:520:11
            Object._encapsulateThreeParam (node_modules/avvio/boot.js:557:7)
            Boot.timeoutCall (node_modules/avvio/boot.js:453:5)
            Boot.callWithCbOrNextTick (node_modules/avvio/boot.js:435:19)
            release (node_modules/fastq/queue.js:149:16)
            Object.resume (node_modules/fastq/queue.js:82:7)
            node_modules/avvio/boot.js:174:18
            node_modules/avvio/plugin.js:275:7
            done (node_modules/avvio/plugin.js:200:5)
            check (node_modules/avvio/plugin.js:224:9)
          source: |2
              }, (err, res) => {
                t.error(err)
            ------^
                t.equal(res.statusCode, 200)
                t.equal(res.payload, 'hello')
          ...
        
        not ok 2 - test unfinished
          ---
          stack: |
            Object.<anonymous> (test/hooks.test.js:1501:1)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          test: preValidation hooks should be able to change request body before validation
          at:
            line: 1501
            column: 1
            file: test/hooks.test.js
            function: Object.<anonymous>
          source: >
          
            test('preValidation hooks should be able to change request body before validation', t => {
          
            ^
              t.plan(4)
              const fastify = Fastify()
          ...
        
        # test count(2) != plan(4)
        # failed 2 of 2 tests
    not ok 40 - preValidation hooks should be able to change request body before validation # time=86.909ms
    
    not ok 41 - child test left in queue: t.test preParsing hooks should be able to block a request
    not ok 42 - child test left in queue: t.test preHandler hooks should be able to block a request
    not ok 43 - child test left in queue: t.test onRequest hooks should be able to block a request (last hook)
    not ok 44 - child test left in queue: t.test preHandler hooks should be able to block a request (last hook)
    not ok 45 - child test left in queue: t.test preParsing hooks should handle errors
    not ok 46 - child test left in queue: t.test onRequest respond with a stream
    not ok 47 - child test left in queue: t.test preHandler respond with a stream
    not ok 48 - child test left in queue: t.test Register an hook after a plugin inside a plugin
    not ok 49 - child test left in queue: t.test Register an hook after a plugin inside a plugin (with preHandler option)
    not ok 50 - child test left in queue: t.test Register hooks inside a plugin after an encapsulated plugin
    not ok 51 - child test left in queue: t.test onRequest hooks should run in the order in which they are defined
    not ok 52 - child test left in queue: t.test preHandler hooks should run in the order in which they are defined
    not ok 53 - child test left in queue: t.test onSend hooks should run in the order in which they are defined
    not ok 54 - child test left in queue: t.test onResponse hooks should run in the order in which they are defined
    not ok 55 - child test left in queue: t.test onRequest, preHandler, and onResponse hooks that resolve to a value do not cause an error
    not ok 56 - child test left in queue: t.test If a response header has been set inside an hook it shoulod not be overwritten by the final response handler
    not ok 57 - child test left in queue: t.test If the content type has been set inside an hook it should not be changed
    not ok 58 - child test left in queue: t.test request in onRequest, preParsing, preValidation and onResponse
    not ok 59 - child test left in queue: t.test preValidation hook should support encapsulation / 1
    not ok 60 - child test left in queue: t.test preValidation hook should support encapsulation / 2
    not ok 61 - child test left in queue: t.test preValidation hook should support encapsulation / 3
    not ok 62 - child test left in queue: t.test onError hook
    not ok 63 - child test left in queue: t.test reply.send should throw if called inside the onError hook
    not ok 64 - child test left in queue: t.test onError hook with setErrorHandler
    not ok 65 - child test left in queue: t.test preParsing hook should run before parsing and be able to modify the payload
    not ok 66 - child test left in queue: t.test preParsing hooks should run in the order in which they are defined
    not ok 67 - child test left in queue: t.test preParsing hooks should support encapsulation
    not ok 68 - child test left in queue: t.test preParsing hook should support encapsulation / 1
    not ok 69 - child test left in queue: t.test preParsing hook should support encapsulation / 2
    not ok 70 - child test left in queue: t.test preParsing hook should support encapsulation / 3
    not ok 71 - child test left in queue: t.test preSerialization hook should run before serialization and be able to modify the payload
    not ok 72 - child test left in queue: t.test preSerialization hook should be able to throw errors which are validated against schema response
    not ok 73 - child test left in queue: t.test preSerialization hook which returned error should still run onError hooks
    not ok 74 - child test left in queue: t.test preSerialization hooks should run in the order in which they are defined
    not ok 75 - child test left in queue: t.test preSerialization hooks should support encapsulation
    not ok 76 - child test left in queue: t.test onRegister hook should be called / 1
    not ok 77 - child test left in queue: t.test onRegister hook should be called / 2
    not ok 78 - child test left in queue: t.test onRegister hook should be called / 3
    not ok 79 - child test left in queue: t.test onRegister hook should be called (encapsulation)
    not ok 80 - child test left in queue: t.test early termination, onRequest
    not ok 81 - child test left in queue: t.test reply.send should throw if undefined error is thrown
    not ok 82 - child test left in queue: t.test reply.send should throw if undefined error is thrown at preParsing hook
    not ok 83 - child test left in queue: t.test reply.send should throw if undefined error is thrown at onSend hook
    not ok 84 - child test left in queue: t.test onTimeout should be triggered
    not ok 85 - child test left in queue: t.test onTimeout should be triggered and socket _meta is set
    1..40
    # test count(85) != plan(40)
    # failed 91 of 85 tests
    # time=885.631ms
not ok 36 - test/hooks.test.js # time=885.631ms
  ---
  env: {}
  file: test/hooks.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/hooks.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify
  failures:
    - &a1
      id: 41
      name: "child test left in queue: t.test preParsing hooks should be able to block
        a request"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a2
      id: 42
      name: "child test left in queue: t.test preHandler hooks should be able to block
        a request"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a3
      id: 43
      name: "child test left in queue: t.test onRequest hooks should be able to block
        a request (last hook)"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a4
      id: 44
      name: "child test left in queue: t.test preHandler hooks should be able to block
        a request (last hook)"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a5
      id: 45
      name: "child test left in queue: t.test preParsing hooks should handle errors"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a6
      id: 46
      name: "child test left in queue: t.test onRequest respond with a stream"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a7
      id: 47
      name: "child test left in queue: t.test preHandler respond with a stream"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a8
      id: 48
      name: "child test left in queue: t.test Register an hook after a plugin inside a
        plugin"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a9
      id: 49
      name: "child test left in queue: t.test Register an hook after a plugin inside a
        plugin (with preHandler option)"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a10
      id: 50
      name: "child test left in queue: t.test Register hooks inside a plugin after an
        encapsulated plugin"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a11
      id: 51
      name: "child test left in queue: t.test onRequest hooks should run in the order
        in which they are defined"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a12
      id: 52
      name: "child test left in queue: t.test preHandler hooks should run in the order
        in which they are defined"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a13
      id: 53
      name: "child test left in queue: t.test onSend hooks should run in the order in
        which they are defined"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a14
      id: 54
      name: "child test left in queue: t.test onResponse hooks should run in the order
        in which they are defined"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a15
      id: 55
      name: "child test left in queue: t.test onRequest, preHandler, and onResponse
        hooks that resolve to a value do not cause an error"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a16
      id: 56
      name: "child test left in queue: t.test If a response header has been set inside
        an hook it shoulod not be overwritten by the final response handler"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a17
      id: 57
      name: "child test left in queue: t.test If the content type has been set inside
        an hook it should not be changed"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a18
      id: 58
      name: "child test left in queue: t.test request in onRequest, preParsing,
        preValidation and onResponse"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a19
      id: 59
      name: "child test left in queue: t.test preValidation hook should support
        encapsulation / 1"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a20
      id: 60
      name: "child test left in queue: t.test preValidation hook should support
        encapsulation / 2"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a21
      id: 61
      name: "child test left in queue: t.test preValidation hook should support
        encapsulation / 3"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a22
      id: 62
      name: "child test left in queue: t.test onError hook"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a23
      id: 63
      name: "child test left in queue: t.test reply.send should throw if called inside
        the onError hook"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a24
      id: 64
      name: "child test left in queue: t.test onError hook with setErrorHandler"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a25
      id: 65
      name: "child test left in queue: t.test preParsing hook should run before
        parsing and be able to modify the payload"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a26
      id: 66
      name: "child test left in queue: t.test preParsing hooks should run in the order
        in which they are defined"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a27
      id: 67
      name: "child test left in queue: t.test preParsing hooks should support
        encapsulation"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a28
      id: 68
      name: "child test left in queue: t.test preParsing hook should support
        encapsulation / 1"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a29
      id: 69
      name: "child test left in queue: t.test preParsing hook should support
        encapsulation / 2"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a30
      id: 70
      name: "child test left in queue: t.test preParsing hook should support
        encapsulation / 3"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a31
      id: 71
      name: "child test left in queue: t.test preSerialization hook should run before
        serialization and be able to modify the payload"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a32
      id: 72
      name: "child test left in queue: t.test preSerialization hook should be able to
        throw errors which are validated against schema response"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a33
      id: 73
      name: "child test left in queue: t.test preSerialization hook which returned
        error should still run onError hooks"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a34
      id: 74
      name: "child test left in queue: t.test preSerialization hooks should run in the
        order in which they are defined"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a35
      id: 75
      name: "child test left in queue: t.test preSerialization hooks should support
        encapsulation"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a36
      id: 76
      name: "child test left in queue: t.test onRegister hook should be called / 1"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a37
      id: 77
      name: "child test left in queue: t.test onRegister hook should be called / 2"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a38
      id: 78
      name: "child test left in queue: t.test onRegister hook should be called / 3"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a39
      id: 79
      name: "child test left in queue: t.test onRegister hook should be called
        (encapsulation)"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a40
      id: 80
      name: "child test left in queue: t.test early termination, onRequest"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a41
      id: 81
      name: "child test left in queue: t.test reply.send should throw if undefined
        error is thrown"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a42
      id: 82
      name: "child test left in queue: t.test reply.send should throw if undefined
        error is thrown at preParsing hook"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a43
      id: 83
      name: "child test left in queue: t.test reply.send should throw if undefined
        error is thrown at onSend hook"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a44
      id: 84
      name: "child test left in queue: t.test onTimeout should be triggered"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a45
      id: 85
      name: "child test left in queue: t.test onTimeout should be triggered and socket
        _meta is set"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - *a1
    - *a2
    - *a3
    - *a4
    - *a5
    - *a6
    - *a7
    - *a8
    - *a9
    - *a10
    - *a11
    - *a12
    - *a13
    - *a14
    - *a15
    - *a16
    - *a17
    - *a18
    - *a19
    - *a20
    - *a21
    - *a22
    - *a23
    - *a24
    - *a25
    - *a26
    - *a27
    - *a28
    - *a29
    - *a30
    - *a31
    - *a32
    - *a33
    - *a34
    - *a35
    - *a36
    - *a37
    - *a38
    - *a39
    - *a40
    - *a41
    - *a42
    - *a43
    - *a44
    - *a45
  exitCode: 1
  ...

# Subtest: test/http2/closing.test.js
    # Subtest: http/2 request while fastify closing
        ok 1 - http2 successfully loaded
        ok 2 - should not error
        # Subtest: return 200
            ok 1 - should be equal
            1..1
        ok 3 - return 200 # time=18.329ms
        
        1..3
    ok 1 - http/2 request while fastify closing # time=88.329ms
    
    # Subtest: http/2 request while fastify closing - return503OnClosing: false
        ok 1 - http2 successfully loaded
        ok 2 - should not error
        # Subtest: return 200
            ok 1 - should be equal
            1..1
        ok 3 - return 200 # time=7.23ms
        
        1..3
    ok 2 - http/2 request while fastify closing - return503OnClosing: false # time=20.541ms
    
    # Subtest: http/2 closes successfully with async await
        1..0
    ok 3 - http/2 closes successfully with async await # time=135.574ms
    
    # Subtest: https/2 closes successfully with async await
        1..0
    ok 4 - https/2 closes successfully with async await # time=19.166ms
    
    # Subtest: http/2 server side session emits a timeout event
        ok 1 - should be equal
        1..1
    ok 5 - http/2 server side session emits a timeout event # time=108.904ms
    
    1..5
    # time=413.246ms
ok 37 - test/http2/closing.test.js # time=413.246ms

# Subtest: test/http2/constraint.test.js
    # Subtest: A route supports host constraints under http2 protocol and secure connection
        1..5
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request - no constrain
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - https get request - no constrain # time=41.471ms
        
        # Subtest: https get request - constrain
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - https get request - constrain # time=13.739ms
        
        # Subtest: https get request - constrain - not found
            1..1
            ok 1 - should be equal
        ok 5 - https get request - constrain - not found # time=10.666ms
        
    ok 1 - A route supports host constraints under http2 protocol and secure connection # time=153.11ms
    
    1..1
    # time=182.602ms
ok 38 - test/http2/constraint.test.js # time=182.602ms

# Subtest: test/http2/head.test.js
    ok 1 - http2 successfully loaded
    ok 2 - should not error
    # Subtest: http HEAD request
        1..1
        ok 1 - should be equal
    ok 3 - http HEAD request # time=67.94ms
    
    1..3
    # time=151.118ms
ok 39 - test/http2/head.test.js # time=151.118ms

# Subtest: test/http2/missing-http2-module.test.js
    # Subtest: should throw when http2 module cannot be found
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - should throw when http2 module cannot be found # time=11.663ms
    
    1..1
    # time=17.352ms
ok 40 - test/http2/missing-http2-module.test.js # time=17.352ms

# Subtest: test/http2/plain.test.js
    ok 1 - http2 successfully loaded
    ok 2 - should not error
    # Subtest: http get request
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 3 - http get request # time=37.73ms
    
    # Subtest: http hostname
        1..1
        ok 1 - should be equal
    ok 4 - http hostname # time=7.761ms
    
    1..4
    # time=134.544ms
ok 41 - test/http2/plain.test.js # time=134.544ms

# Subtest: test/http2/secure-with-fallback.test.js
    # Subtest: secure with fallback
        1..7
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get error
            1..1
            ok 1 - should be equal
        ok 3 - https get error # time=40.577ms
        
        # Subtest: https post
            1..2
            ok 1 - should be equal
            ok 2 - should be equivalent
        ok 4 - https post # time=20.148ms
        
        # Subtest: https get request
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - https get request # time=12.456ms
        
        # Subtest: http1 get request
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 6 - http1 get request # time=21.616ms
        
        # Subtest: http1 get error
            1..2
            ok 1 - should not error
            ok 2 - should be equal
        ok 7 - http1 get error # time=9.458ms
        
    ok 1 - secure with fallback # time=205.635ms
    
    1..1
    # time=235.469ms
ok 42 - test/http2/secure-with-fallback.test.js # time=235.469ms

# Subtest: test/http2/secure.test.js
    # Subtest: secure
        1..4
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - https get request # time=39.25ms
        
        # Subtest: https get request without trust proxy - protocol
            1..2
            ok 1 - should be equivalent
            ok 2 - should be equivalent
        ok 4 - https get request without trust proxy - protocol # time=23.37ms
        
    ok 1 - secure # time=158.607ms
    
    1..1
    # time=216.855ms
ok 43 - test/http2/secure.test.js # time=216.855ms

# Subtest: test/http2/unknown-http-method.test.js
    ok 1 - should not error
    # Subtest: http UNKNOWN_METHOD request
        1..2
        ok 1 - should be equal
        ok 2 - should be equivalent
    ok 2 - http UNKNOWN_METHOD request # time=38.025ms
    
    1..2
    # time=98.962ms
ok 44 - test/http2/unknown-http-method.test.js # time=98.962ms

# Subtest: test/https/custom-https-server.test.js
    # Subtest: Should support a custom https server
        1..4
        ok 1 - it is called twice for every HOST interface
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - Should support a custom https server # time=80.245ms
    
    1..1
    # time=111.904ms
ok 45 - test/https/custom-https-server.test.js # time=111.904ms

# Subtest: test/https/https.test.js
    # Subtest: https
        1..4
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 3 - https get request # time=44.051ms
        
        # Subtest: https get request without trust proxy - protocol
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 4 - https get request without trust proxy - protocol # time=17.238ms
        
    ok 1 - https # time=145.606ms
    
    1..1
    # time=176.261ms
ok 46 - test/https/https.test.js # time=176.261ms

# Subtest: test/imports.test.js
    # Subtest: should import as default
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 1 - should import as default # time=659.007ms
    
    # Subtest: should import as esm
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 2 - should import as esm # time=1.502ms
    
    1..2
    # time=671.676ms
ok 47 - test/imports.test.js # time=671.676ms

# Subtest: test/inject.test.js
    # Subtest: inject should exist
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 1 - inject should exist # time=16.315ms
    
    # Subtest: should wait for the ready event
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 2 - should wait for the ready event # time=667.617ms
    
    # Subtest: inject get request
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 3 - inject get request # time=8.066ms
    
    # Subtest: inject get request - code check
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 4 - inject get request - code check # time=18.072ms
    
    # Subtest: inject get request - headers check
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 5 - inject get request - headers check # time=16.592ms
    
    # Subtest: inject get request - querystring
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 6 - inject get request - querystring # time=7.614ms
    
    # Subtest: inject get request - params
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 7 - inject get request - params # time=5.81ms
    
    # Subtest: inject get request - wildcard
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - inject get request - wildcard # time=6.796ms
    
    # Subtest: inject get request - headers
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 9 - inject get request - headers # time=12.922ms
    
    # Subtest: inject post request
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 10 - inject post request # time=30.013ms
    
    # Subtest: inject post request - send stream
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 11 - inject post request - send stream # time=8.581ms
    
    # Subtest: inject get request - reply stream
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 12 - inject get request - reply stream # time=7.587ms
    
    # Subtest: inject promisify - waiting for ready event
        1..1
        ok 1 - should be equal
    ok 13 - inject promisify - waiting for ready event # time=13.534ms
    
    # Subtest: inject promisify - after the ready event
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 14 - inject promisify - after the ready event # time=6.155ms
    
    # Subtest: inject promisify - when the server is up
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 15 - inject promisify - when the server is up # time=16.132ms
    
    # Subtest: should reject in error case
        1..1
        ok 1 - should be equal
    ok 16 - should reject in error case # time=505.547ms
    
    # Subtest: inject a multipart request using form-body
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 17 - inject a multipart request using form-body # time=14.093ms
    
    # Subtest: should error the promise if ready errors
        1..3
        ok 1 - after is called
        ok 2 - expect truthy value
        ok 3 - should be equal
    ok 18 - should error the promise if ready errors # time=18.228ms
    
    # Subtest: should throw error if callback specified and if ready errors
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 19 - should throw error if callback specified and if ready errors # time=3.984ms
    
    # Subtest: should support builder-style injection with ready app
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
    ok 20 - should support builder-style injection with ready app # time=10.815ms
    
    # Subtest: should support builder-style injection with non-ready app
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
    ok 21 - should support builder-style injection with non-ready app # time=5.3ms
    
    # Subtest: should handle errors in builder-style injection correctly
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 22 - should handle errors in builder-style injection correctly # time=4.24ms
    
    1..22
    # time=1455.442ms
ok 48 - test/inject.test.js # time=1455.442ms

# Subtest: test/internals/all.test.js
    # Subtest: fastify.all should add all the methods to the same url
        1..14
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equivalent
    ok 1 - fastify.all should add all the methods to the same url # time=74.187ms
    
    1..1
    # time=79.212ms
ok 49 - test/internals/all.test.js # time=79.212ms

# Subtest: test/internals/contentTypeParser.test.js
    # Subtest: rawBody function
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - rawBody function # time=42.53ms
    
    # Subtest: Should support Webpack and faux modules
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - Should support Webpack and faux modules # time=14.989ms
    
    1..2
    # time=66.989ms
ok 50 - test/internals/contentTypeParser.test.js # time=66.989ms

# Subtest: test/internals/decorator.test.js
    # Subtest: decorate should add the given method to its instance
        1..1
        ok 1 - expect truthy value
    ok 1 - decorate should add the given method to its instance # time=6.071ms
    
    # Subtest: decorate is chainable
        1..3
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
    ok 2 - decorate is chainable # time=2.415ms
    
    # Subtest: checkExistence should check if a property is part of the given instance
        1..1
        ok 1 - expect truthy value
    ok 3 - checkExistence should check if a property is part of the given instance # time=1.235ms
    
    # Subtest: checkExistence should find the instance if not given
        1..1
        ok 1 - expect truthy value
    ok 4 - checkExistence should find the instance if not given # time=1.42ms
    
    # Subtest: checkExistence should check the prototype as well
        1..1
        ok 1 - expect truthy value
    ok 5 - checkExistence should check the prototype as well # time=1.246ms
    
    # Subtest: checkDependencies should throw if a dependency is not present
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 6 - checkDependencies should throw if a dependency is not present # time=1.849ms
    
    # Subtest: decorate should internally call checkDependencies
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 7 - decorate should internally call checkDependencies # time=1.317ms
    
    # Subtest: decorate should recognize getter/setter objects
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - (unnamed test)
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 8 - decorate should recognize getter/setter objects # time=2.535ms
    
    1..8
    # time=65.834ms
ok 51 - test/internals/decorator.test.js # time=65.834ms

# Subtest: test/internals/handleRequest.test.js
    1..0 # no tests found
not ok 52 - test/internals/handleRequest.test.js # time=1134.8ms
  ---
  env: {}
  file: test/internals/handleRequest.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/internals/handleRequest.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify
  exitCode: 1
  ...

# Subtest: test/internals/hookRunner.test.js
    # Subtest: hookRunner - Basic
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 1 - hookRunner - Basic # time=9.037ms
    
    # Subtest: hookRunner - In case of error should skip to done
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 2 - hookRunner - In case of error should skip to done # time=3.592ms
    
    # Subtest: hookRunner - Should handle throw
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 3 - hookRunner - Should handle throw # time=2.773ms
    
    # Subtest: hookRunner - Should handle promises
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 4 - hookRunner - Should handle promises # time=46.762ms
    
    # Subtest: hookRunner - In case of error should skip to done (with promises)
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 5 - hookRunner - In case of error should skip to done (with promises) # time=2.923ms
    
    # Subtest: hookRunner - Be able to exit before its natural end
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 6 - hookRunner - Be able to exit before its natural end # time=1.295ms
    
    # Subtest: hookRunner - Promises that resolve to a value do not change the state
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 7 - hookRunner - Promises that resolve to a value do not change the state # time=1.613ms
    
    # Subtest: onSendHookRunner - Basic
        1..13
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equal
        ok 10 - should not error
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equal
    ok 8 - onSendHookRunner - Basic # time=23.483ms
    
    # Subtest: onSendHookRunner - Can change the payload
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 9 - onSendHookRunner - Can change the payload # time=22.764ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 10 - onSendHookRunner - In case of error should skip to done # time=2.638ms
    
    # Subtest: onSendHookRunner - Should handle promises
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 11 - onSendHookRunner - Should handle promises # time=2.872ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done (with promises)
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 12 - onSendHookRunner - In case of error should skip to done (with promises) # time=14.029ms
    
    # Subtest: onSendHookRunner - Be able to exit before its natural end
        1..2
        ok 1 - should be equivalent
        ok 2 - should be equivalent
    ok 13 - onSendHookRunner - Be able to exit before its natural end # time=1.119ms
    
    1..13
    # time=178.425ms
ok 53 - test/internals/hookRunner.test.js # time=178.425ms

# Subtest: test/internals/hooks.test.js
    # Subtest: hooks should have 4 array with the registered hooks
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        1..8
    ok 1 - hooks should have 4 array with the registered hooks # time=8.218ms
    
    # Subtest: hooks.add should add a hook to the given hook
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        1..14
    ok 2 - hooks.add should add a hook to the given hook # time=4.243ms
    
    # Subtest: hooks should throw on unexisting handler
        1..1
        ok 1 - (unnamed test)
    ok 3 - hooks should throw on unexisting handler # time=1.005ms
    
    # Subtest: should throw on wrong parameters
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 4 - should throw on wrong parameters # time=1.559ms
    
    1..4
    # time=47.716ms
ok 54 - test/internals/hooks.test.js # time=47.716ms

# Subtest: test/internals/initialConfig.test.js
    # Subtest: Fastify.initialConfig is an object
        1..1
        ok 1 - type is object
    ok 1 - Fastify.initialConfig is an object # time=16.183ms
    
    # Subtest: without options passed to Fastify, initialConfig should expose default values
        1..1
        ok 1 - should be equivalent
    ok 2 - without options passed to Fastify, initialConfig should expose default values # time=8.423ms
    
    # Subtest: Fastify.initialConfig should expose all options
        1..20
        ok 1 - should be equal
        ok 2 - for security reason the key cert is hidden
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - expect truthy value
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equal
    ok 3 - Fastify.initialConfig should expose all options # time=13.657ms
    
    # Subtest: Should throw if you try to modify Fastify.initialConfig
        1..4
        ok 1 - type is TypeError
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - (unnamed test)
    ok 4 - Should throw if you try to modify Fastify.initialConfig # time=4.046ms
    
    # Subtest: We must avoid shallow freezing and ensure that the whole object is freezed
        1..4
        ok 1 - type is TypeError
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - key cert removed
    ok 5 - We must avoid shallow freezing and ensure that the whole object is freezed # time=16.578ms
    
    # Subtest: https value check
        1..1
        ok 1 - expect falsey value
    ok 6 - https value check # time=1.724ms
    
    # Subtest: Return an error if options do not match the validation schema
        1..6
        ok 1 - type is Error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
        ok 6 - (unnamed test)
    ok 7 - Return an error if options do not match the validation schema # time=53.146ms
    
    # Subtest: Original options must not be frozen
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - Original options must not be frozen # time=3.286ms
    
    # Subtest: Original options must not be altered (test deep cloning)
        1..3
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 9 - Original options must not be altered (test deep cloning) # time=5.348ms
    
    # Subtest: Should not have issues when passing stream options to Pino.js
        1..15
        ok 1 - type is object
        ok 2 - should be equivalent
        ok 3 - listen at log message is ok
        ok 4 - should not error
        ok 5 - reqId is defined
        ok 6 - req is defined
        ok 7 - message is set
        ok 8 - method is get
        ok 9 - expect truthy value
        ok 10 - should be equal
        ok 11 - reqId is defined
        ok 12 - res is defined
        ok 13 - message is set
        ok 14 - statusCode is 200
        ok 15 - responseTime is defined
    ok 10 - Should not have issues when passing stream options to Pino.js # time=43.435ms
    
    # Subtest: deepFreezeObject() should not throw on TypedArray
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - (unnamed test)
    ok 11 - deepFreezeObject() should not throw on TypedArray # time=2.209ms
    
    # Subtest: Fastify.initialConfig should accept the deprecated versioning option
        1..1
        ok 1 - should be equal
    ok 12 - Fastify.initialConfig should accept the deprecated versioning option # time=5.059ms
    
    # Subtest: pluginTimeout should be parsed correctly
        ok 1 - should be equal
        ok 2 - should be equal
        1..2
    ok 13 - pluginTimeout should be parsed correctly # time=3.304ms
    
    1..13
    # time=248.835ms
ok 55 - test/internals/initialConfig.test.js # time=248.835ms

# Subtest: test/internals/logger.test.js
    # Subtest: time resolution
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - time resolution # time=5.995ms
    
    # Subtest: The logger should add a unique id for every request
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - the id should not be duplicated
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - the id should not be duplicated
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - the id should not be duplicated
        ok 11 - expect truthy value
        ok 12 - should not error
        ok 13 - the id should not be duplicated
        ok 14 - expect truthy value
        ok 15 - should not error
        ok 16 - the id should not be duplicated
        ok 17 - expect truthy value
        ok 18 - should not error
        ok 19 - the id should not be duplicated
        ok 20 - expect truthy value
        ok 21 - should not error
        ok 22 - the id should not be duplicated
        ok 23 - expect truthy value
        ok 24 - should not error
        ok 25 - the id should not be duplicated
        ok 26 - expect truthy value
        ok 27 - should not error
        ok 28 - the id should not be duplicated
        ok 29 - expect truthy value
        ok 30 - should not error
        ok 31 - the id should not be duplicated
        1..31
    ok 2 - The logger should add a unique id for every request # time=76.771ms
    
    # Subtest: The logger should reuse request id header for req.id
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - the request id from the header should be returned
        1..4
    ok 3 - The logger should reuse request id header for req.id # time=8.584ms
    
    # Subtest: The logger should error if both stream and file destination are given
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - The logger should error if both stream and file destination are given # time=1.68ms
    
    # Subtest: The serializer prevent fails if the request socket is undefined
        1..1
        ok 1 - should be equivalent
    ok 5 - The serializer prevent fails if the request socket is undefined # time=4.669ms
    
    1..5
    # time=107.116ms
ok 56 - test/internals/logger.test.js # time=107.116ms

# Subtest: test/internals/plugin.test.js
    # Subtest: shouldSkipOverride should check the 'skip-override' symbol
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 1 - shouldSkipOverride should check the 'skip-override' symbol # time=5.387ms
    
    # Subtest: getPluginName should return plugin name if the file is cached
        1..1
        ok 1 - should be equal
    ok 2 - getPluginName should return plugin name if the file is cached # time=1.695ms
    
    # Subtest: getMeta should return the object stored with the 'plugin-meta' symbol
        1..1
        ok 1 - should be equivalent
    ok 3 - getMeta should return the object stored with the 'plugin-meta' symbol # time=4.309ms
    
    # Subtest: checkDecorators should check if the given decorator is present in the instance
        1..1
        ok 1 - Everything ok
    ok 4 - checkDecorators should check if the given decorator is present in the instance # time=1.535ms
    
    # Subtest: checkDecorators should check if the given decorator is present in the instance (errored)
        1..1
        ok 1 - should be equal
    ok 5 - checkDecorators should check if the given decorator is present in the instance (errored) # time=1.027ms
    
    # Subtest: checkDecorators should accept optional decorators
        1..1
        ok 1 - Everything ok
    ok 6 - checkDecorators should accept optional decorators # time=0.701ms
    
    # Subtest: checkDependencies should check if the given dependency is present in the instance
        1..1
        ok 1 - Everything ok
    ok 7 - checkDependencies should check if the given dependency is present in the instance # time=0.909ms
    
    # Subtest: checkDependencies should check if the given dependency is present in the instance (errored)
        1..1
        ok 1 - should be equal
    ok 8 - checkDependencies should check if the given dependency is present in the instance (errored) # time=25.319ms
    
    1..8
    # time=96.236ms
ok 57 - test/internals/plugin.test.js # time=96.236ms

# Subtest: test/internals/reply-serialize.test.js
    # Subtest: Reply\#compileSerializationSchema
        1..4
        # Subtest: Should return a serialization function
            1..4
            # test count(0) != plan(4)
            # failed 1 test
        not ok 1 - Should return a serialization function # time=87.133ms
          ---
          failures:
            - tapError: incorrect number of tests
          ...
        
        # Subtest: Should reuse the serialize fn across multiple invocations - Route without schema
            1..17
            ok 1 - build the schema compilation function
            ok 2 - should be equal
            # test count(2) != plan(17)
            # failed 1 of 2 tests
        not ok 2 - Should reuse the serialize fn across multiple invocations - Route without schema # time=12.927ms
          ---
          failures:
            - tapError: incorrect number of tests
          ...
        
        # Subtest: Should use the custom serializer compiler for the route
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equivalent
            ok 7 - {"hello":"world"}
            ok 8 - should be equivalent
            ok 9 - {"hello":"world"}
            ok 10 - should be equal
        ok 3 - Should use the custom serializer compiler for the route # time=36.13ms
        
        # Subtest: Should build a WeakMap for cache when called
            1..4
            ok 1 - should be equal
            # test count(1) != plan(4)
            # failed 1 test
        not ok 4 - Should build a WeakMap for cache when called # time=6.763ms
          ---
          failures:
            - tapError: incorrect number of tests
          ...
        
        # failed 3 of 4 tests
    not ok 1 - Reply\#compileSerializationSchema # time=184.198ms
    
    # Subtest: Reply\#getSerializationFunction
        1..3
        # Subtest: Should retrieve the serialization function from the Schema definition
            1..9
            ok 1 - should be equal
            ok 2 - should be equal
            not ok 3 - Failed building the serialization schema for GET: /:id, due to error Cannot read properties of undefined (reading 'forEach')
              ---
              stack: |
                Boot.<anonymous> (lib/route.js:328:21)
                node_modules/avvio/boot.js:160:12
                node_modules/avvio/plugin.js:275:7
                done (node_modules/avvio/plugin.js:200:5)
                check (node_modules/avvio/plugin.js:224:9)
              at:
                line: 328
                column: 21
                file: lib/route.js
                function: Boot.<anonymous>
              type: FastifyError
              code: FST_ERR_SCH_SERIALIZATION_BUILD
              statusCode: 500
              tapCaught: returnedPromiseRejection
              test: Should retrieve the serialization function from the Schema definition
              source: >2
                            } catch (error) {
                              throw new FST_ERR_SCH_SERIALIZATION_BUILD(opts.method, url, error.message)
                --------------------^
                            }
                          }
              ...
            
            # test count(3) != plan(9)
            # failed 1 of 3 tests
        not ok 1 - Should retrieve the serialization function from the Schema definition # time=87.512ms
        
        # Subtest: Should retrieve the serialization function from the cached one
            1..6
            ok 1 - should be equal
            # test count(1) != plan(6)
            # failed 1 test
        not ok 2 - Should retrieve the serialization function from the cached one # time=7.592ms
          ---
          failures:
            - tapError: incorrect number of tests
          ...
        
        # Subtest: Should not instantiate a WeakMap if it is not needed
            1..4
            ok 1 - expect falsey value
            ok 2 - should be equal
            ok 3 - expect falsey value
            ok 4 - should be equal
        ok 3 - Should not instantiate a WeakMap if it is not needed # time=20.687ms
        
        # failed 2 of 3 tests
    not ok 2 - Reply\#getSerializationFunction # time=126.947ms
    
    # Subtest: Reply\#serializeInput
        1..5
        # Subtest: Should throw if missed serialization function from HTTP status
            1..2
            ok 1 - should be equal
            ok 2 - should be equivalent
        ok 1 - Should throw if missed serialization function from HTTP status # time=37.051ms
        
        # Subtest: Should use a serializer fn from HTTP status
            1..4
            not ok 1 - Failed building the serialization schema for GET: /, due to error Cannot read properties of undefined (reading 'forEach')
              ---
              stack: |
                Boot.<anonymous> (lib/route.js:328:21)
                node_modules/avvio/boot.js:160:12
                node_modules/avvio/plugin.js:275:7
                done (node_modules/avvio/plugin.js:200:5)
                check (node_modules/avvio/plugin.js:224:9)
              at:
                line: 328
                column: 21
                file: lib/route.js
                function: Boot.<anonymous>
              type: FastifyError
              code: FST_ERR_SCH_SERIALIZATION_BUILD
              statusCode: 500
              tapCaught: returnedPromiseRejection
              test: Should use a serializer fn from HTTP status
              source: >2
                            } catch (error) {
                              throw new FST_ERR_SCH_SERIALIZATION_BUILD(opts.method, url, error.message)
                --------------------^
                            }
                          }
              ...
            
            # test count(1) != plan(4)
            # failed 1 test
        not ok 2 - Should use a serializer fn from HTTP status # time=68.991ms
        
        # Subtest: Should compile a serializer out of a schema if serializer fn missed
            1..10
            ok 1 - should be equal
            ok 2 - expect falsey value
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 3 - Should compile a serializer out of a schema if serializer fn missed # time=19.046ms
        
        # Subtest: Should use a cached serializer fn
            1..12
            ok 1 - should be equal
            ok 2 - expect falsey value
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
            ok 11 - should be equal
            ok 12 - should be equal
        ok 4 - Should use a cached serializer fn # time=24.38ms
        
        # Subtest: Should instantiate a WeakMap after first call
            1..3
            ok 1 - should be equal
            # test count(1) != plan(3)
            # failed 1 test
        not ok 5 - Should instantiate a WeakMap after first call # time=17.704ms
          ---
          failures:
            - tapError: incorrect number of tests
          ...
        
        # failed 2 of 5 tests
    not ok 3 - Reply\#serializeInput # time=184.854ms
    
    1..3
    # failed 3 of 3 tests
    # time=554.076ms
not ok 58 - test/internals/reply-serialize.test.js # time=554.076ms
  ---
  env: {}
  file: test/internals/reply-serialize.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/internals/reply-serialize.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify
  exitCode: 1
  ...

# Subtest: test/internals/reply.test.js
    # Subtest: Once called, Reply should return an object with methods
        1..13
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should be equal
        ok 13 - should be equal
    ok 1 - Once called, Reply should return an object with methods # time=13.493ms
    
    # Subtest: reply.send will logStream error and destroy the stream
        1..1
        ok 1 - Error not logged and not streamed
    ok 2 - reply.send will logStream error and destroy the stream # time=4.69ms
    
    # Subtest: reply.send throw with circular JSON
        1..1
        ok 1 - Converting circular structure to JSON
    ok 3 - reply.send throw with circular JSON # time=2.732ms
    
    # Subtest: reply.send returns itself
        1..1
        ok 1 - should be equal
    ok 4 - reply.send returns itself # time=1.882ms
    
    # Subtest: reply.serializer should set a custom serializer
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 5 - reply.serializer should set a custom serializer # time=1.455ms
    
    # Subtest: reply.serializer should support running preSerialization hooks
        1..3
        ok 1 - preSerialization
        ok 2 - should not error
        ok 3 - should be equal
    ok 6 - reply.serializer should support running preSerialization hooks # time=570.688ms
    
    # Subtest: reply.serialize should serialize payload
        1..1
        ok 1 - should be equal
    ok 7 - reply.serialize should serialize payload # time=1.257ms
    
    # Subtest: reply.serialize should serialize payload with a custom serializer
        1..2
        ok 1 - should be equal
        ok 2 - custom serializer not called
    ok 8 - reply.serialize should serialize payload with a custom serializer # time=1.265ms
    
    # Subtest: reply.serialize should serialize payload with a context default serializer
        1..2
        ok 1 - should be equal
        ok 2 - custom serializer not called
    ok 9 - reply.serialize should serialize payload with a context default serializer # time=1.344ms
    
    # Subtest: reply.serialize should serialize payload with Fastify instance
        1..2
        not ok 1 - Failed building the serialization schema for GET: /, due to error Cannot read properties of undefined (reading 'forEach')
          ---
          origin:
            at:
              line: 328
              column: 21
              file: lib/route.js
              function: Boot.<anonymous>
            stack: |
              Boot.<anonymous> (lib/route.js:328:21)
              node_modules/avvio/boot.js:160:12
              node_modules/avvio/plugin.js:275:7
              done (node_modules/avvio/plugin.js:200:5)
              check (node_modules/avvio/plugin.js:224:9)
            type: FastifyError
            code: FST_ERR_SCH_SERIALIZATION_BUILD
            statusCode: 500
            source: >2
                          } catch (error) {
                            throw new FST_ERR_SCH_SERIALIZATION_BUILD(opts.method, url, error.message)
              --------------------^
                          }
                        }
          found:
            !error
            name: FastifyError
            message: "Failed building the serialization schema for GET: /, due to error
              Cannot read properties of undefined (reading 'forEach')"
            stack: >-
              FastifyError: 
                  at Boot.<anonymous> (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/lib/route.js:328:21)
                  at Object.onceWrapper (node:events:627:28)
                  at Boot.emit (node:events:525:35)
                  at /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/boot.js:160:12
                  at /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/plugin.js:275:7
                  at done (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/plugin.js:200:5)
                  at check (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/plugin.js:224:9)
                  at node:internal/process/task_queues:141:7
                  at AsyncResource.runInAsyncScope (node:async_hooks:203:9)
                  at AsyncResource.runMicrotask (node:internal/process/task_queues:138:8)
            code: FST_ERR_SCH_SERIALIZATION_BUILD
            statusCode: 500
          at:
            line: 207
            column: 7
            file: test/internals/reply.test.js
          stack: |
            cb (test/internals/reply.test.js:207:7)
            cb (fastify.js:486:18)
            manageErr (fastify.js:538:11)
            fastify.js:520:11
            Object._encapsulateThreeParam (node_modules/avvio/boot.js:557:7)
            Boot.timeoutCall (node_modules/avvio/boot.js:453:5)
            Boot.callWithCbOrNextTick (node_modules/avvio/boot.js:435:19)
            release (node_modules/fastq/queue.js:149:16)
            Object.resume (node_modules/fastq/queue.js:82:7)
            node_modules/avvio/boot.js:174:18
            node_modules/avvio/plugin.js:275:7
            done (node_modules/avvio/plugin.js:200:5)
            check (node_modules/avvio/plugin.js:224:9)
          source: |2
              }, (err, res) => {
                t.error(err)
            ------^
                t.equal(res.payload, '{"foo":"bar"}')
              })
          ...
        
        not ok 2 - test unfinished
          ---
          stack: |
            Object.<anonymous> (test/internals/reply.test.js:180:1)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          test: reply.serialize should serialize payload with Fastify instance
          at:
            line: 180
            column: 1
            file: test/internals/reply.test.js
            function: Object.<anonymous>
          source: |
          
            test('reply.serialize should serialize payload with Fastify instance', t => {
            ^
              t.plan(2)
              const fastify = require('../..')()
          ...
        
        # failed 2 of 2 tests
    not ok 10 - reply.serialize should serialize payload with Fastify instance # time=182.221ms
    
    not ok 11 - child test left in queue: t.test within an instance
    not ok 12 - child test left in queue: t.test buffer without content type should send a application/octet-stream and raw buffer
    not ok 13 - child test left in queue: t.test buffer with content type should not send application/octet-stream
    not ok 14 - child test left in queue: t.test stream with content type should not send application/octet-stream
    not ok 15 - child test left in queue: t.test stream without content type should not send application/octet-stream
    not ok 16 - child test left in queue: t.test stream using reply.raw.writeHead should return customize headers
    not ok 17 - child test left in queue: t.test plain string without content type should send a text/plain
    not ok 18 - child test left in queue: t.test plain string with content type should be sent unmodified
    not ok 19 - child test left in queue: t.test plain string with content type and custom serializer should be serialized
    not ok 20 - child test left in queue: t.test plain string with content type application/json should NOT be serialized as json
    not ok 21 - child test left in queue: t.test plain string with custom json content type should NOT be serialized as json
    not ok 22 - child test left in queue: t.test non-string with content type application/json SHOULD be serialized as json
    not ok 23 - child test left in queue: t.test non-string with custom json's content-type SHOULD be serialized as json
    not ok 24 - child test left in queue: t.test non-string with custom json content type SHOULD be serialized as json
    not ok 25 - child test left in queue: t.test error object with a content type that is not application/json should work
    not ok 26 - child test left in queue: t.test undefined payload should be sent as-is
    not ok 27 - child test left in queue: t.test for HEAD method, no body should be sent but content-length should be
    not ok 28 - child test left in queue: t.test reply.send(new NotFound()) should not invoke the 404 handler
    not ok 29 - child test left in queue: t.test reply can set multiple instances of same header
    not ok 30 - child test left in queue: t.test reply.hasHeader returns correct values
    not ok 31 - child test left in queue: t.test reply.getHeader returns correct values
    not ok 32 - child test left in queue: t.test reply.getHeader returns raw header if there is not in the reply headers
    not ok 33 - child test left in queue: t.test reply.getHeaders returns correct values
    not ok 34 - child test left in queue: t.test reply.removeHeader can remove the value
    not ok 35 - child test left in queue: t.test reply.header can reset the value
    not ok 36 - child test left in queue: t.test reply.hasHeader computes raw and fastify headers
    not ok 37 - child test left in queue: t.test Reply should handle JSON content type with a charset
    not ok 38 - child test left in queue: t.test Content type and charset set previously
    not ok 39 - child test left in queue: t.test .status() is an alias for .code()
    not ok 40 - child test left in queue: t.test .statusCode is getter and setter
    not ok 41 - child test left in queue: t.test reply.header setting multiple cookies as multiple Set-Cookie headers
    not ok 42 - child test left in queue: t.test should emit deprecation warning when trying to modify the reply.sent property
    not ok 43 - child test left in queue: t.test should throw error when passing falsy value to reply.sent
    not ok 44 - child test left in queue: t.test should throw error when attempting to set reply.sent more than once
    not ok 45 - child test left in queue: t.test should not throw error when attempting to set reply.sent if the underlining request was sent
    not ok 46 - child test left in queue: t.test reply.getResponseTime() should return 0 before the timer is initialised on the reply by setting up response listeners
    not ok 47 - child test left in queue: t.test reply.getResponseTime() should return a number greater than 0 after the timer is initialised on the reply by setting up response listeners
    not ok 48 - child test left in queue: t.test reply.getResponseTime() should return the time since a request started while inflight
    not ok 49 - child test left in queue: t.test reply.getResponseTime() should return the same value after a request is finished
    not ok 50 - child test left in queue: t.test reply should use the custom serializer
    not ok 51 - child test left in queue: t.test reply should use the right serializer in encapsulated context
    not ok 52 - child test left in queue: t.test reply should use the right serializer in deep encapsulated context
    not ok 53 - child test left in queue: t.test reply should use the route serializer
    not ok 54 - child test left in queue: t.test cannot set the replySerializer when the server is running
    not ok 55 - child test left in queue: t.test reply should not call the custom serializer for errors and not found
    not ok 56 - child test left in queue: t.test reply.then
    not ok 57 - child test left in queue: t.test reply.sent should read from response.writableEnded if it is defined
    not ok 58 - child test left in queue: t.test redirect to an invalid URL should not crash the server
    not ok 59 - child test left in queue: t.test invalid response headers should not crash the server
    not ok 60 - child test left in queue: t.test invalid response headers when sending back an error
    not ok 61 - child test left in queue: t.test invalid response headers and custom error handler
    1..10
    # test count(61) != plan(10)
    # failed 103 of 61 tests
    # time=839.343ms
not ok 59 - test/internals/reply.test.js # time=839.343ms
  ---
  env: {}
  file: test/internals/reply.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/internals/reply.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify
  failures:
    - &a1
      id: 11
      name: "child test left in queue: t.test within an instance"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a2
      id: 12
      name: "child test left in queue: t.test buffer without content type should send
        a application/octet-stream and raw buffer"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a3
      id: 13
      name: "child test left in queue: t.test buffer with content type should not send
        application/octet-stream"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a4
      id: 14
      name: "child test left in queue: t.test stream with content type should not send
        application/octet-stream"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a5
      id: 15
      name: "child test left in queue: t.test stream without content type should not
        send application/octet-stream"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a6
      id: 16
      name: "child test left in queue: t.test stream using reply.raw.writeHead should
        return customize headers"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a7
      id: 17
      name: "child test left in queue: t.test plain string without content type should
        send a text/plain"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a8
      id: 18
      name: "child test left in queue: t.test plain string with content type should be
        sent unmodified"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a9
      id: 19
      name: "child test left in queue: t.test plain string with content type and
        custom serializer should be serialized"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a10
      id: 20
      name: "child test left in queue: t.test plain string with content type
        application/json should NOT be serialized as json"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a11
      id: 21
      name: "child test left in queue: t.test plain string with custom json content
        type should NOT be serialized as json"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a12
      id: 22
      name: "child test left in queue: t.test non-string with content type
        application/json SHOULD be serialized as json"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a13
      id: 23
      name: "child test left in queue: t.test non-string with custom json's
        content-type SHOULD be serialized as json"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a14
      id: 24
      name: "child test left in queue: t.test non-string with custom json content type
        SHOULD be serialized as json"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a15
      id: 25
      name: "child test left in queue: t.test error object with a content type that is
        not application/json should work"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a16
      id: 26
      name: "child test left in queue: t.test undefined payload should be sent as-is"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a17
      id: 27
      name: "child test left in queue: t.test for HEAD method, no body should be sent
        but content-length should be"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a18
      id: 28
      name: "child test left in queue: t.test reply.send(new NotFound()) should not
        invoke the 404 handler"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a19
      id: 29
      name: "child test left in queue: t.test reply can set multiple instances of same
        header"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a20
      id: 30
      name: "child test left in queue: t.test reply.hasHeader returns correct values"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a21
      id: 31
      name: "child test left in queue: t.test reply.getHeader returns correct values"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a22
      id: 32
      name: "child test left in queue: t.test reply.getHeader returns raw header if
        there is not in the reply headers"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a23
      id: 33
      name: "child test left in queue: t.test reply.getHeaders returns correct values"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a24
      id: 34
      name: "child test left in queue: t.test reply.removeHeader can remove the value"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a25
      id: 35
      name: "child test left in queue: t.test reply.header can reset the value"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a26
      id: 36
      name: "child test left in queue: t.test reply.hasHeader computes raw and fastify
        headers"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a27
      id: 37
      name: "child test left in queue: t.test Reply should handle JSON content type
        with a charset"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a28
      id: 38
      name: "child test left in queue: t.test Content type and charset set previously"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a29
      id: 39
      name: "child test left in queue: t.test .status() is an alias for .code()"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a30
      id: 40
      name: "child test left in queue: t.test .statusCode is getter and setter"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a31
      id: 41
      name: "child test left in queue: t.test reply.header setting multiple cookies as
        multiple Set-Cookie headers"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a32
      id: 42
      name: "child test left in queue: t.test should emit deprecation warning when
        trying to modify the reply.sent property"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a33
      id: 43
      name: "child test left in queue: t.test should throw error when passing falsy
        value to reply.sent"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a34
      id: 44
      name: "child test left in queue: t.test should throw error when attempting to
        set reply.sent more than once"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a35
      id: 45
      name: "child test left in queue: t.test should not throw error when attempting
        to set reply.sent if the underlining request was sent"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a36
      id: 46
      name: "child test left in queue: t.test reply.getResponseTime() should return 0
        before the timer is initialised on the reply by setting up response
        listeners"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a37
      id: 47
      name: "child test left in queue: t.test reply.getResponseTime() should return a
        number greater than 0 after the timer is initialised on the reply by
        setting up response listeners"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a38
      id: 48
      name: "child test left in queue: t.test reply.getResponseTime() should return
        the time since a request started while inflight"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a39
      id: 49
      name: "child test left in queue: t.test reply.getResponseTime() should return
        the same value after a request is finished"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a40
      id: 50
      name: "child test left in queue: t.test reply should use the custom serializer"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a41
      id: 51
      name: "child test left in queue: t.test reply should use the right serializer in
        encapsulated context"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a42
      id: 52
      name: "child test left in queue: t.test reply should use the right serializer in
        deep encapsulated context"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a43
      id: 53
      name: "child test left in queue: t.test reply should use the route serializer"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a44
      id: 54
      name: "child test left in queue: t.test cannot set the replySerializer when the
        server is running"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a45
      id: 55
      name: "child test left in queue: t.test reply should not call the custom
        serializer for errors and not found"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a46
      id: 56
      name: "child test left in queue: t.test reply.then"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a47
      id: 57
      name: "child test left in queue: t.test reply.sent should read from
        response.writableEnded if it is defined"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a48
      id: 58
      name: "child test left in queue: t.test redirect to an invalid URL should not
        crash the server"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a49
      id: 59
      name: "child test left in queue: t.test invalid response headers should not
        crash the server"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a50
      id: 60
      name: "child test left in queue: t.test invalid response headers when sending
        back an error"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a51
      id: 61
      name: "child test left in queue: t.test invalid response headers and custom
        error handler"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - *a1
    - *a2
    - *a3
    - *a4
    - *a5
    - *a6
    - *a7
    - *a8
    - *a9
    - *a10
    - *a11
    - *a12
    - *a13
    - *a14
    - *a15
    - *a16
    - *a17
    - *a18
    - *a19
    - *a20
    - *a21
    - *a22
    - *a23
    - *a24
    - *a25
    - *a26
    - *a27
    - *a28
    - *a29
    - *a30
    - *a31
    - *a32
    - *a33
    - *a34
    - *a35
    - *a36
    - *a37
    - *a38
    - *a39
    - *a40
    - *a41
    - *a42
    - *a43
    - *a44
    - *a45
    - *a46
    - *a47
    - *a48
    - *a49
    - *a50
    - *a51
  exitCode: 1
  ...

# Subtest: test/internals/request-validate.test.js
    # Subtest: \#compileValidationSchema
        1..5
        # Subtest: Should return a function - Route without schema
            1..3
            # test count(0) != plan(3)
            # failed 1 test
        not ok 1 - Should return a function - Route without schema # time=83.149ms
          ---
          failures:
            - tapError: incorrect number of tests
          ...
        
        # Subtest: Should reuse the validate fn across multiple invocations - Route without schema
            1..16
            ok 1 - should be equal
            # test count(1) != plan(16)
            # failed 1 test
        not ok 2 - Should reuse the validate fn across multiple invocations - Route without schema # time=11.483ms
          ---
          failures:
            - tapError: incorrect number of tests
          ...
        
        # Subtest: Should return a function - Route with schema
            1..3
            not ok 1 - Cannot read properties of undefined (reading 'forEach')
              ---
              stack: |
                Ajv._addVocabularies (node_modules/ajv/lib/ajv.ts:14:24)
                new Ajv (node_modules/ajv/lib/core.ts:308:10)
                new Ajv (node_modules/ajv/lib/ajv.ts:11:1)
                new ValidatorCompiler (node_modules/@fastify/ajv-compiler/index.js:51:18)
                buildCompilerFromPool (node_modules/@fastify/ajv-compiler/index.js:32:22)
                SchemaController.setupValidator (lib/schema-controller.js:100:30)
                Boot.<anonymous> (lib/route.js:314:32)
                node_modules/avvio/boot.js:160:12
              at:
                line: 14
                column: 24
                file: node_modules/ajv/lib/ajv.ts
                function: Ajv._addVocabularies
              type: TypeError
              tapCaught: returnedPromiseRejection
              test: Should return a function - Route with schema
              source: |2
                    super._addVocabularies()
                    draft7Vocabularies.forEach((v) => this.addVocabulary(v))
                -----------------------^
                    if (this.opts.discriminator) this.addKeyword(discriminator)
                  }
              ...
            
            # test count(1) != plan(3)
            # failed 1 test
        not ok 3 - Should return a function - Route with schema # time=137.82ms
        
        # Subtest: Should use the custom validator compiler for the route
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equivalent
            ok 7 - expect truthy value
            ok 8 - should be equivalent
            ok 9 - expect truthy value
            ok 10 - should be equal
        ok 4 - Should use the custom validator compiler for the route # time=12.746ms
        
        # Subtest: Should instantiate a WeakMap when executed for first time
            1..5
            ok 1 - should be equal
            # test count(1) != plan(5)
            # failed 1 test
        not ok 5 - Should instantiate a WeakMap when executed for first time # time=6.089ms
          ---
          failures:
            - tapError: incorrect number of tests
          ...
        
        # failed 4 of 5 tests
    not ok 1 - \#compileValidationSchema # time=285.173ms
    
    # Subtest: \#getValidationFunction
        1..4
        # Subtest: Should return a validation function
            1..1
            # test count(0) != plan(1)
            # failed 1 test
        not ok 1 - Should return a validation function # time=24.318ms
          ---
          failures:
            - tapError: incorrect number of tests
          ...
        
        # Subtest: Should return undefined if no schema compiled
            1..2
            ok 1 - expect falsey value
            ok 2 - expect falsey value
        ok 2 - Should return undefined if no schema compiled # time=17.746ms
        
        # Subtest: Should return the validation function from each HTTP part
            1..15
            not ok 1 - Cannot read properties of undefined (reading 'forEach')
              ---
              stack: |
                Ajv._addVocabularies (node_modules/ajv/lib/ajv.ts:14:24)
                new Ajv (node_modules/ajv/lib/core.ts:308:10)
                new Ajv (node_modules/ajv/lib/ajv.ts:11:1)
                new ValidatorCompiler (node_modules/@fastify/ajv-compiler/index.js:51:18)
                buildCompilerFromPool (node_modules/@fastify/ajv-compiler/index.js:32:22)
                SchemaController.setupValidator (lib/schema-controller.js:100:30)
                Boot.<anonymous> (lib/route.js:314:32)
                node_modules/avvio/boot.js:160:12
              at:
                line: 14
                column: 24
                file: node_modules/ajv/lib/ajv.ts
                function: Ajv._addVocabularies
              type: TypeError
              tapCaught: returnedPromiseRejection
              test: Should return the validation function from each HTTP part
              source: |2
                    super._addVocabularies()
                    draft7Vocabularies.forEach((v) => this.addVocabulary(v))
                -----------------------^
                    if (this.opts.discriminator) this.addKeyword(discriminator)
                  }
              ...
            
            # test count(1) != plan(15)
            # failed 1 test
        not ok 3 - Should return the validation function from each HTTP part # time=26.037ms
        
        # Subtest: Should not set a WeakMap if there is no schema
            1..1
            ok 1 - should be equal
        ok 4 - Should not set a WeakMap if there is no schema # time=38.243ms
        
        # failed 2 of 4 tests
    not ok 2 - \#getValidationFunction # time=116.56ms
    
    # Subtest: \#validate
        1..7
        # Subtest: Should return true/false if input valid - Route without schema
            1..2
            # test count(0) != plan(2)
            # failed 1 test
        not ok 1 - Should return true/false if input valid - Route without schema # time=25.71ms
          ---
          failures:
            - tapError: incorrect number of tests
          ...
        
        # Subtest: Should use the custom validator compiler for the route
            1..9
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equivalent
            ok 6 - should be equivalent
            ok 7 - expect truthy value
            ok 8 - expect truthy value
            ok 9 - should be equal
        ok 2 - Should use the custom validator compiler for the route # time=7.594ms
        
        # Subtest: Should return true/false if input valid - With Schema for Route defined
            1..8
            not ok 1 - Cannot read properties of undefined (reading 'forEach')
              ---
              stack: |
                Ajv._addVocabularies (node_modules/ajv/lib/ajv.ts:14:24)
                new Ajv (node_modules/ajv/lib/core.ts:308:10)
                new Ajv (node_modules/ajv/lib/ajv.ts:11:1)
                new ValidatorCompiler (node_modules/@fastify/ajv-compiler/index.js:51:18)
                buildCompilerFromPool (node_modules/@fastify/ajv-compiler/index.js:32:22)
                SchemaController.setupValidator (lib/schema-controller.js:100:30)
                Boot.<anonymous> (lib/route.js:314:32)
                node_modules/avvio/boot.js:160:12
              at:
                line: 14
                column: 24
                file: node_modules/ajv/lib/ajv.ts
                function: Ajv._addVocabularies
              type: TypeError
              tapCaught: returnedPromiseRejection
              test: Should return true/false if input valid - With Schema for Route defined
              source: |2
                    super._addVocabularies()
                    draft7Vocabularies.forEach((v) => this.addVocabulary(v))
                -----------------------^
                    if (this.opts.discriminator) this.addKeyword(discriminator)
                  }
              ...
            
            # test count(1) != plan(8)
            # failed 1 test
        not ok 3 - Should return true/false if input valid - With Schema for Route defined # time=30.794ms
        
        # Subtest: Should throw if missing validation fn for HTTP part and not schema provided
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 4 - Should throw if missing validation fn for HTTP part and not schema provided # time=12.115ms
        
        # Subtest: Should throw if missing validation fn for HTTP part and not valid schema provided
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 5 - Should throw if missing validation fn for HTTP part and not valid schema provided # time=15.131ms
        
        # Subtest: Should throw if invalid schema passed
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 6 - Should throw if invalid schema passed # time=10.886ms
        
        # Subtest: Should set a WeakMap if compiling the very first schema
            1..3
            ok 1 - should be equal
            # test count(1) != plan(3)
            # failed 1 test
        not ok 7 - Should set a WeakMap if compiling the very first schema # time=6.57ms
          ---
          failures:
            - tapError: incorrect number of tests
          ...
        
        # failed 3 of 7 tests
    not ok 3 - \#validate # time=125.205ms
    
    # Subtest: Nested Context
        1..1
        # Subtest: Level_1
            1..3
            # Subtest: \#compileValidationSchema
                1..4
                # Subtest: Should return a function - Route without schema
                    1..3
                    # test count(0) != plan(3)
                    # failed 1 test
                not ok 1 - Should return a function - Route without schema # time=60.75ms
                  ---
                  failures:
                    - tapError: incorrect number of tests
                  ...
                
                # Subtest: Should reuse the validate fn across multiple invocations - Route without schema
                    1..16
                    ok 1 - should be equal
                    # test count(1) != plan(16)
                    # failed 1 test
                not ok 2 - Should reuse the validate fn across multiple invocations - Route without schema # time=8.658ms
                  ---
                  failures:
                    - tapError: incorrect number of tests
                  ...
                
                # Subtest: Should return a function - Route with schema
                    1..3
                    not ok 1 - Cannot read properties of undefined (reading 'forEach')
                      ---
                      stack: |
                        Ajv._addVocabularies (node_modules/ajv/lib/ajv.ts:14:24)
                        new Ajv (node_modules/ajv/lib/core.ts:308:10)
                        new Ajv (node_modules/ajv/lib/ajv.ts:11:1)
                        new ValidatorCompiler (node_modules/@fastify/ajv-compiler/index.js:51:18)
                        buildCompilerFromPool (node_modules/@fastify/ajv-compiler/index.js:32:22)
                        SchemaController.setupValidator (lib/schema-controller.js:100:30)
                        Boot.<anonymous> (lib/route.js:314:32)
                        node_modules/avvio/boot.js:160:12
                      at:
                        line: 14
                        column: 24
                        file: node_modules/ajv/lib/ajv.ts
                        function: Ajv._addVocabularies
                      type: TypeError
                      tapCaught: returnedPromiseRejection
                      test: Should return a function - Route with schema
                      source: |2
                            super._addVocabularies()
                            draft7Vocabularies.forEach((v) => this.addVocabulary(v))
                        -----------------------^
                            if (this.opts.discriminator) this.addKeyword(discriminator)
                          }
                      ...
                    
                    # test count(1) != plan(3)
                    # failed 1 test
                not ok 3 - Should return a function - Route with schema # time=39.644ms
                
                # Subtest: Should use the custom validator compiler for the route
                    1..10
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - should be equal
                    ok 5 - should be equal
                    ok 6 - should be equivalent
                    ok 7 - expect truthy value
                    ok 8 - should be equivalent
                    ok 9 - expect truthy value
                    ok 10 - should be equal
                ok 4 - Should use the custom validator compiler for the route # time=16.736ms
                
                # failed 3 of 4 tests
            not ok 1 - \#compileValidationSchema # time=146.981ms
            
            # Subtest: \#getValidationFunction
                1..6
                # Subtest: Should return a validation function
                    1..1
                    # test count(0) != plan(1)
                    # failed 1 test
                not ok 1 - Should return a validation function # time=26.208ms
                  ---
                  failures:
                    - tapError: incorrect number of tests
                  ...
                
                # Subtest: Should return undefined if no schema compiled
                    1..1
                    ok 1 - expect falsey value
                ok 2 - Should return undefined if no schema compiled # time=5.067ms
                
                # Subtest: Should return the validation function from each HTTP part
                    1..15
                    not ok 1 - Cannot read properties of undefined (reading 'forEach')
                      ---
                      stack: |
                        Ajv._addVocabularies (node_modules/ajv/lib/ajv.ts:14:24)
                        new Ajv (node_modules/ajv/lib/core.ts:308:10)
                        new Ajv (node_modules/ajv/lib/ajv.ts:11:1)
                        new ValidatorCompiler (node_modules/@fastify/ajv-compiler/index.js:51:18)
                        buildCompilerFromPool (node_modules/@fastify/ajv-compiler/index.js:32:22)
                        SchemaController.setupValidator (lib/schema-controller.js:100:30)
                        Boot.<anonymous> (lib/route.js:314:32)
                        node_modules/avvio/boot.js:160:12
                      at:
                        line: 14
                        column: 24
                        file: node_modules/ajv/lib/ajv.ts
                        function: Ajv._addVocabularies
                      type: TypeError
                      tapCaught: returnedPromiseRejection
                      test: Should return the validation function from each HTTP part
                      source: |2
                            super._addVocabularies()
                            draft7Vocabularies.forEach((v) => this.addVocabulary(v))
                        -----------------------^
                            if (this.opts.discriminator) this.addKeyword(discriminator)
                          }
                      ...
                    
                    # test count(1) != plan(15)
                    # failed 1 test
                not ok 3 - Should return the validation function from each HTTP part # time=20.244ms
                
                # Subtest: Should return a validation function - nested
                    1..6
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - expect falsey value
                    ok 5 - should be equal
                    ok 6 - should be equal
                ok 4 - Should return a validation function - nested # time=8.174ms
                
                # Subtest: Should return undefined if no schema compiled - nested
                    1..3
                    ok 1 - should be equal
                    ok 2 - expect falsey value
                    ok 3 - should be equal
                ok 5 - Should return undefined if no schema compiled - nested # time=10.896ms
                
                # Subtest: Should per-route defined validation compiler
                    1..5
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should not be equal
                    ok 4 - should be equal
                    ok 5 - should be equal
                ok 6 - Should per-route defined validation compiler # time=27.346ms
                
                # failed 2 of 6 tests
            not ok 2 - \#getValidationFunction # time=112.939ms
            
            # Subtest: \#validate
                1..3
                # Subtest: Should return true/false if input valid - Route without schema
                    1..2
                    # test count(0) != plan(2)
                    # failed 1 test
                not ok 1 - Should return true/false if input valid - Route without schema # time=17.799ms
                  ---
                  failures:
                    - tapError: incorrect number of tests
                  ...
                
                # Subtest: Should use the custom validator compiler for the route
                    1..10
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - should be equal
                    ok 5 - should be equivalent
                    ok 6 - should be equivalent
                    ok 7 - expect truthy value
                    ok 8 - expect truthy value
                    ok 9 - should be equal
                    ok 10 - should be equal
                ok 2 - Should use the custom validator compiler for the route # time=25.288ms
                
                # Subtest: Should return true/false if input valid - With Schema for Route defined and scoped validator compiler
                    not ok 1 - Cannot read properties of undefined (reading 'forEach')
                      ---
                      stack: |
                        Ajv._addVocabularies (node_modules/ajv/lib/ajv.ts:14:24)
                        new Ajv (node_modules/ajv/lib/core.ts:308:10)
                        new Ajv (node_modules/ajv/lib/ajv.ts:11:1)
                        Test.<anonymous> (test/internals/request-validate.test.js:1178:29)
                      at:
                        line: 14
                        column: 24
                        file: node_modules/ajv/lib/ajv.ts
                        function: Ajv._addVocabularies
                      type: TypeError
                      tapCaught: returnedPromiseRejection
                      test: Should return true/false if input valid - With Schema for Route defined
                        and scoped validator compiler
                      source: |2
                            super._addVocabularies()
                            draft7Vocabularies.forEach((v) => this.addVocabulary(v))
                        -----------------------^
                            if (this.opts.discriminator) this.addKeyword(discriminator)
                          }
                      ...
                    
                    1..1
                    # failed 1 test
                not ok 3 - Should return true/false if input valid - With Schema for Route defined and scoped validator compiler # time=29.679ms
                
                # failed 2 of 3 tests
            not ok 3 - \#validate # time=93.71ms
            
            # failed 3 of 3 tests
        not ok 1 - Level_1 # time=362.72ms
        
        # failed 1 test
    not ok 4 - Nested Context # time=368.316ms
    
    # Subtest
        # Subtest
            not ok 2 - Invalid id
              ---
              at:
                line: 301
                column: 17
                file: test/internals/request-validate.test.js
              stack: |
                Object.handler (test/internals/request-validate.test.js:301:17)
                preHandlerCallback (lib/handleRequest.js:126:28)
                preValidationCallback (lib/handleRequest.js:110:5)
                handler (lib/handleRequest.js:74:7)
                lib/contentTypeParser.js:177:9
                done (lib/contentTypeParser.js:171:14)
                Parser.fn (lib/contentTypeParser.js:273:5)
                Request.onEnd (lib/contentTypeParser.js:252:27)
              source: |2
                            default:
                              t.fail('Invalid id')
                ----------------^
                          }
              ...
            
            not ok 3 - Invalid id
              ---
              at:
                line: 301
                column: 17
                file: test/internals/request-validate.test.js
              stack: |
                Object.handler (test/internals/request-validate.test.js:301:17)
                preHandlerCallback (lib/handleRequest.js:126:28)
                preValidationCallback (lib/handleRequest.js:110:5)
                handler (lib/handleRequest.js:74:7)
                lib/contentTypeParser.js:177:9
                done (lib/contentTypeParser.js:171:14)
                Parser.fn (lib/contentTypeParser.js:273:5)
                Request.onEnd (lib/contentTypeParser.js:252:27)
              source: |2
                            default:
                              t.fail('Invalid id')
                ----------------^
                          }
              ...
            
            not ok 4 - Invalid id
              ---
              at:
                line: 301
                column: 17
                file: test/internals/request-validate.test.js
              stack: |
                Object.handler (test/internals/request-validate.test.js:301:17)
                preHandlerCallback (lib/handleRequest.js:126:28)
                preValidationCallback (lib/handleRequest.js:110:5)
                handler (lib/handleRequest.js:74:7)
                lib/contentTypeParser.js:177:9
                done (lib/contentTypeParser.js:171:14)
                Parser.fn (lib/contentTypeParser.js:273:5)
                Request.onEnd (lib/contentTypeParser.js:252:27)
              source: |2
                            default:
                              t.fail('Invalid id')
                ----------------^
                          }
              ...
            
            not ok 5 - Invalid id
              ---
              at:
                line: 301
                column: 17
                file: test/internals/request-validate.test.js
              stack: |
                Object.handler (test/internals/request-validate.test.js:301:17)
                preHandlerCallback (lib/handleRequest.js:126:28)
                preValidationCallback (lib/handleRequest.js:110:5)
                handler (lib/handleRequest.js:74:7)
                lib/contentTypeParser.js:177:9
                done (lib/contentTypeParser.js:171:14)
                Parser.fn (lib/contentTypeParser.js:273:5)
                Request.onEnd (lib/contentTypeParser.js:252:27)
              source: |2
                            default:
                              t.fail('Invalid id')
                ----------------^
                          }
              ...
            
            not ok 2 - Invalid id
              ---
              at:
                line: 452
                column: 17
                file: test/internals/request-validate.test.js
              stack: |
                Object.handler (test/internals/request-validate.test.js:452:17)
                preHandlerCallback (lib/handleRequest.js:126:28)
                preValidationCallback (lib/handleRequest.js:110:5)
                handler (lib/handleRequest.js:74:7)
                lib/contentTypeParser.js:177:9
                done (lib/contentTypeParser.js:171:14)
                Parser.fn (lib/contentTypeParser.js:273:5)
                Request.onEnd (lib/contentTypeParser.js:252:27)
              source: |2
                            default:
                              t.fail('Invalid id')
                ----------------^
                          }
              ...
            
            not ok 3 - Invalid id
              ---
              at:
                line: 452
                column: 17
                file: test/internals/request-validate.test.js
              stack: |
                Object.handler (test/internals/request-validate.test.js:452:17)
                preHandlerCallback (lib/handleRequest.js:126:28)
                preValidationCallback (lib/handleRequest.js:110:5)
                handler (lib/handleRequest.js:74:7)
                lib/contentTypeParser.js:177:9
                done (lib/contentTypeParser.js:171:14)
                Parser.fn (lib/contentTypeParser.js:273:5)
                Request.onEnd (lib/contentTypeParser.js:252:27)
              source: |2
                            default:
                              t.fail('Invalid id')
                ----------------^
                          }
              ...
            
            not ok 4 - Invalid id
              ---
              at:
                line: 452
                column: 17
                file: test/internals/request-validate.test.js
              stack: |
                Object.handler (test/internals/request-validate.test.js:452:17)
                preHandlerCallback (lib/handleRequest.js:126:28)
                preValidationCallback (lib/handleRequest.js:110:5)
                handler (lib/handleRequest.js:74:7)
                lib/contentTypeParser.js:177:9
                done (lib/contentTypeParser.js:171:14)
                Parser.fn (lib/contentTypeParser.js:273:5)
                Request.onEnd (lib/contentTypeParser.js:252:27)
              source: |2
                            default:
                              t.fail('Invalid id')
                ----------------^
                          }
              ...
            
            # Subtest
                # Subtest
                    not ok 2 - Invalid id
                      ---
                      at:
                        line: 921
                        column: 23
                        file: test/internals/request-validate.test.js
                      stack: |
                        Object.handler (test/internals/request-validate.test.js:921:23)
                        preHandlerCallback (lib/handleRequest.js:126:28)
                        preValidationCallback (lib/handleRequest.js:110:5)
                        handler (lib/handleRequest.js:74:7)
                        lib/contentTypeParser.js:177:9
                        done (lib/contentTypeParser.js:171:14)
                        Parser.fn (lib/contentTypeParser.js:273:5)
                        Request.onEnd (lib/contentTypeParser.js:252:27)
                      source: |2
                                          default:
                                            t.fail('Invalid id')
                        ----------------------^
                                        }
                      ...
                    
                    not ok 3 - Invalid id
                      ---
                      at:
                        line: 921
                        column: 23
                        file: test/internals/request-validate.test.js
                      stack: |
                        Object.handler (test/internals/request-validate.test.js:921:23)
                        preHandlerCallback (lib/handleRequest.js:126:28)
                        preValidationCallback (lib/handleRequest.js:110:5)
                        handler (lib/handleRequest.js:74:7)
                        lib/contentTypeParser.js:177:9
                        done (lib/contentTypeParser.js:171:14)
                        Parser.fn (lib/contentTypeParser.js:273:5)
                        Request.onEnd (lib/contentTypeParser.js:252:27)
                      source: |2
                                          default:
                                            t.fail('Invalid id')
                        ----------------------^
                                        }
                      ...
                    
                    not ok 4 - Invalid id
                      ---
                      at:
                        line: 921
                        column: 23
                        file: test/internals/request-validate.test.js
                      stack: |
                        Object.handler (test/internals/request-validate.test.js:921:23)
                        preHandlerCallback (lib/handleRequest.js:126:28)
                        preValidationCallback (lib/handleRequest.js:110:5)
                        handler (lib/handleRequest.js:74:7)
                        lib/contentTypeParser.js:177:9
                        done (lib/contentTypeParser.js:171:14)
                        Parser.fn (lib/contentTypeParser.js:273:5)
                        Request.onEnd (lib/contentTypeParser.js:252:27)
                      source: |2
                                          default:
                                            t.fail('Invalid id')
                        ----------------------^
                                        }
                      ...
                    
                    not ok 5 - Invalid id
                      ---
                      at:
                        line: 921
                        column: 23
                        file: test/internals/request-validate.test.js
                      stack: |
                        Object.handler (test/internals/request-validate.test.js:921:23)
                        preHandlerCallback (lib/handleRequest.js:126:28)
                        preValidationCallback (lib/handleRequest.js:110:5)
                        handler (lib/handleRequest.js:74:7)
                        lib/contentTypeParser.js:177:9
                        done (lib/contentTypeParser.js:171:14)
                        Parser.fn (lib/contentTypeParser.js:273:5)
                        Request.onEnd (lib/contentTypeParser.js:252:27)
                      source: |2
                                          default:
                                            t.fail('Invalid id')
                        ----------------------^
                                        }
                      ...
                    
    1..4
                1..0 # no tests found
            # test count(7) != plan(null)
            # failed 11 of 7 tests
        # Subtest
        1..0 # no tests found
    # test count(4) != plan(null)
    # failed 5 of 4 tests
    # time=1086.3ms
                1..0 # no tests found
        1..0 # no tests found
                    # test count(4) != plan(null)
                    # failed 5 of 4 tests
                1..0 # no tests found
        1..0 # no tests found
not ok 60 - test/internals/request-validate.test.js # time=1086.3ms
  ---
  env: {}
  file: test/internals/request-validate.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/internals/request-validate.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify
  failures:
    - tapError: no plan
  exitCode: 1
  ...

# Subtest: test/internals/request.test.js
    # Subtest: Regular request
        ok 1 - type is Request
        ok 2 - type is Function
        ok 3 - type is Function
        ok 4 - type is Function
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        1..19
    ok 1 - Regular request # time=14.8ms
    
    # Subtest: Regular request - hostname from authority
        1..2
        ok 1 - type is Request
        ok 2 - should be equal
    ok 2 - Regular request - hostname from authority # time=1.754ms
    
    # Subtest: Regular request - host header has precedence over authority
        1..2
        ok 1 - type is Request
        ok 2 - should be equal
    ok 3 - Regular request - host header has precedence over authority # time=1.31ms
    
    # Subtest: Request with trust proxy
        1..18
        ok 1 - type is _Request
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - type is Function
        ok 17 - type is Function
        ok 18 - type is Function
    ok 4 - Request with trust proxy # time=11.73ms
    
    # Subtest: Request with trust proxy, encrypted
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 5 - Request with trust proxy, encrypted # time=1.358ms
    
    # Subtest: Request with trust proxy - no x-forwarded-host header
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 6 - Request with trust proxy - no x-forwarded-host header # time=1.051ms
    
    # Subtest: Request with trust proxy - no x-forwarded-host header and fallback to authority
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 7 - Request with trust proxy - no x-forwarded-host header and fallback to authority # time=1.509ms
    
    # Subtest: Request with trust proxy - x-forwarded-host header has precedence over host
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 8 - Request with trust proxy - x-forwarded-host header has precedence over host # time=1.465ms
    
    # Subtest: Request with trust proxy - handles multiple entries in x-forwarded-host/proto
        1..3
        ok 1 - type is _Request
        ok 2 - should be equal
        ok 3 - should be equal
    ok 9 - Request with trust proxy - handles multiple entries in x-forwarded-host/proto # time=2.101ms
    
    # Subtest: Request with trust proxy - plain
        1..1
        ok 1 - should be equivalent
    ok 10 - Request with trust proxy - plain # time=1.628ms
    
    # Subtest: Request with undefined socket
        1..18
        ok 1 - type is Request
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equivalent
        ok 16 - type is Function
        ok 17 - type is Function
        ok 18 - type is Function
    ok 11 - Request with undefined socket # time=13.568ms
    
    # Subtest: Request with trust proxy and undefined socket
        1..1
        ok 1 - should be equivalent
    ok 12 - Request with trust proxy and undefined socket # time=1.342ms
    
    1..12
    # time=125.881ms
ok 61 - test/internals/request.test.js # time=125.881ms

# Subtest: test/internals/server.test.js
    # Subtest: start listening
        ok 1 - server started
        1..1
    ok 1 - start listening # time=40.903ms
    
    # Subtest: DNS errors does not stop the main server on localhost - promise interface
        ok 1 - server started
        1..1
    ok 2 - DNS errors does not stop the main server on localhost - promise interface # time=17.064ms
    
    # Subtest: DNS errors does not stop the main server on localhost - callback interface
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 3 - DNS errors does not stop the main server on localhost - callback interface # time=27.578ms
    
    # Subtest: DNS returns empty binding
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 4 - DNS returns empty binding # time=18.854ms
    
    # Subtest: DNS returns more than two binding
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 5 - DNS returns more than two binding # time=22.15ms
    
    1..5
    # time=134.474ms
ok 62 - test/internals/server.test.js # time=134.474ms

# Subtest: test/internals/validation.test.js
    1..0 # no tests found
not ok 63 - test/internals/validation.test.js # time=736.301ms
  ---
  env: {}
  file: test/internals/validation.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/internals/validation.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify
  exitCode: 1
  ...

# Subtest: test/keepAliveTimeout.test.js
    # Subtest: keepAliveTimeout
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not be equal
        ok 6 - should be equal
    ok 1 - keepAliveTimeout # time=41.084ms
    
    1..1
    # time=46.55ms
ok 64 - test/keepAliveTimeout.test.js # time=46.55ms

# Subtest: test/listen.deprecated.test.js
    # Subtest: listen accepts a port and a callback
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 1 - listen accepts a port and a callback # time=35.886ms
    
    # Subtest: listen accepts a port and a callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 2 - listen accepts a port and a callback with (err, address) # time=5.523ms
    
    # Subtest: listen accepts a port, address, and callback
        1..1
        ok 1 - should not error
    ok 3 - listen accepts a port, address, and callback # time=14.949ms
    
    # Subtest: listen accepts options, backlog and a callback
        1..1
        ok 1 - should not error
    ok 4 - listen accepts options, backlog and a callback # time=10.989ms
    
    # Subtest: listen accepts options (no port), backlog and a callback
        1..1
        ok 1 - should not error
    ok 5 - listen accepts options (no port), backlog and a callback # time=6.349ms
    
    # Subtest: listen accepts options (no host), backlog and a callback
        1..1
        ok 1 - should not error
    ok 6 - listen accepts options (no host), backlog and a callback # time=3.974ms
    
    # Subtest: listen accepts options (no port, no host), backlog and a callback
        1..1
        ok 1 - should not error
    ok 7 - listen accepts options (no port, no host), backlog and a callback # time=23.264ms
    
    # Subtest: listen accepts a port, address and a callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 8 - listen accepts a port, address and a callback with (err, address) # time=3.544ms
    
    # Subtest: listen accepts a port, address, backlog and callback
        1..1
        ok 1 - should not error
    ok 9 - listen accepts a port, address, backlog and callback # time=4.459ms
    
    # Subtest: listen accepts a port, address, backlog and callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 10 - listen accepts a port, address, backlog and callback with (err, address) # time=5.013ms
    
    # Subtest: listen without callback (port zero)
        1..1
        ok 1 - should be equal
    ok 11 - listen without callback (port zero) # time=5.051ms
    
    # Subtest: listen without callback (port not given)
        1..1
        ok 1 - should be equal
    ok 12 - listen without callback (port not given) # time=19.115ms
    
    # Subtest: listen null without callback with (address)
        1..1
        ok 1 - should be equal
    ok 13 - listen null without callback with (address) # time=19.303ms
    
    # Subtest: listen without port without callback with (address)
        1..1
        ok 1 - should be equal
    ok 14 - listen without port without callback with (address) # time=3.891ms
    
    # Subtest: listen with undefined without callback with (address)
        1..1
        ok 1 - should be equal
    ok 15 - listen with undefined without callback with (address) # time=3.587ms
    
    # Subtest: listen when firstArg is string(pipe) and without backlog
        1..1
        ok 1 - should be equal
    ok 16 - listen when firstArg is string(pipe) and without backlog # time=27.872ms
    
    # Subtest: listen when firstArg is string(pipe) and with backlog
        1..1
        ok 1 - should be equal
    ok 17 - listen when firstArg is string(pipe) and with backlog # time=3.67ms
    
    # Subtest: listen when firstArg is { path: string(pipe) } and with backlog and callback
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 18 - listen when firstArg is { path: string(pipe) } and with backlog and callback # time=7.416ms
    
    1..18
    # time=289.501ms
ok 65 - test/listen.deprecated.test.js # time=289.501ms

# Subtest: test/listen.test.js
    # Subtest: listen works without arguments
        ok 1 - should be equal
        ok 2 - expect truthy value
        1..2
    ok 1 - listen works without arguments # time=30.642ms
    
    # Subtest: Async/await listen with arguments
        1..1
        ok 1 - should be equal
    ok 2 - Async/await listen with arguments # time=5.275ms
    
    # Subtest: Promise listen with arguments
        1..1
        ok 1 - should be equal
    ok 3 - Promise listen with arguments # time=22.378ms
    
    # Subtest: listen accepts a callback
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 4 - listen accepts a callback # time=12.618ms
    
    # Subtest: listen accepts options and a callback
        1..1
        ok 1 - should not error
    ok 5 - listen accepts options and a callback # time=4.83ms
    
    # Subtest: listen after Promise.resolve()
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 6 - listen after Promise.resolve() # time=4.932ms
    
    # Subtest: register after listen using Promise.resolve()
        1..1
        ok 1 - resolved
    ok 7 - register after listen using Promise.resolve() # time=11.107ms
    
    # Subtest: double listen errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
    ok 8 - double listen errors # time=5.216ms
    
    # Subtest: double listen errors callback with (err, address)
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 9 - double listen errors callback with (err, address) # time=6.056ms
    
    # Subtest: listen twice on the same port
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 10 - listen twice on the same port # time=27.071ms
    
    # Subtest: listen twice on the same port callback with (err, address)
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 11 - listen twice on the same port callback with (err, address) # time=27.54ms
    
    # Subtest: listen on socket
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent strictly
        ok 3 - should be equal
    ok 12 - listen on socket # time=20.591ms
    
    # Subtest: listen without callback with (address)
        1..1
        ok 1 - should be equal
    ok 13 - listen without callback with (address) # time=23.026ms
    
    # Subtest: double listen without callback rejects
        1..1
        ok 1 - expect truthy value
    ok 14 - double listen without callback rejects # time=25.764ms
    
    # Subtest: double listen without callback with (address)
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 15 - double listen without callback with (address) # time=10.06ms
    
    # Subtest: listen twice on the same port without callback rejects
        1..1
        ok 1 - expect truthy value
    ok 16 - listen twice on the same port without callback rejects # time=13.6ms
    
    # Subtest: listen twice on the same port without callback rejects with (address)
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 17 - listen twice on the same port without callback rejects with (address) # time=6.425ms
    
    # Subtest: listen on invalid port without callback rejects
        ok 1 - expect truthy value
        1..1
    ok 18 - listen on invalid port without callback rejects # time=3.422ms
    
    # Subtest: listen logs the port as info
        1..1
        ok 1 - expect truthy value
    ok 19 - listen logs the port as info # time=3.038ms
    
    # Subtest: listen on localhost binds IPv4 and IPv6 - promise interface
        1..2
        ok 1 - should be equal
        ok 2 - should be equivalent
    ok 20 - listen on localhost binds IPv4 and IPv6 - promise interface # time=24.233ms
    
    # Subtest: listen on localhost binds to all interfaces (both IPv4 and IPv6 if present) - callback interface
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 21 - listen on localhost binds to all interfaces (both IPv4 and IPv6 if present) - callback interface # time=9.656ms
    
    # Subtest: addresses getter
        1..4
        ok 1 - before ready
        ok 2 - after ready
        ok 3 - after listen
        ok 4 - after close
    ok 22 - addresses getter # time=7.935ms
    
    1..22
    # time=400.496ms
ok 66 - test/listen.test.js # time=400.496ms

# Subtest: test/logger.test.js
    # Subtest: defaults to info level
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
        ok 13 - responseTime is defined
        1..13
    ok 1 - defaults to info level # time=58.139ms
    
    # Subtest: test log stream
        1..12
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
    ok 2 - test log stream # time=16.177ms
    
    # Subtest: test error log stream
        1..11
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - reqId is defined
        ok 9 - res is defined
        ok 10 - message is set
        ok 11 - statusCode is 500
    ok 3 - test error log stream # time=81.57ms
    
    # Subtest: can use external logger instance
        1..6
        ok 1 - "Server listening at http://127.0.0.1:43443" dont match "/^Server listening at /"
        ok 2 - should not error
        ok 3 - "incoming request" dont match "/^incoming request$/"
        ok 4 - expect truthy value
        ok 5 - "log success" dont match "/^log success$/"
        ok 6 - "request completed" dont match "/^request completed$/"
    ok 4 - can use external logger instance # time=41.59ms
    
    # Subtest: can use external logger instance with custom serializer
        1..6
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - expect truthy value
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 5 - can use external logger instance with custom serializer # time=18.586ms
    
    # Subtest: expose the logger
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equivalent
    ok 6 - expose the logger # time=2.463ms
    
    # Subtest: The request id header key can be customized
        1..9
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - message is set
        ok 6 - should be equal
        ok 7 - message is set
        ok 8 - should be equal
        ok 9 - message is set
    ok 7 - The request id header key can be customized # time=72.061ms
    
    # Subtest: The request id header key can be customized along with a custom id generator
        1..12
        ok 1 - should match pattern provided
        ok 2 - should be equal
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should be equal
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
    ok 8 - The request id header key can be customized along with a custom id generator # time=28.642ms
    
    # Subtest: The request id log label can be changed
        1..6
        ok 1 - should match pattern provided
        ok 2 - should be equal
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should not error
        ok 6 - should be equal
    ok 9 - The request id log label can be changed # time=35.858ms
    
    # Subtest: The logger should accept custom serializer
        1..9
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - req is defined
        ok 4 - message is set
        ok 5 - custom req serializer is use
        ok 6 - expect truthy value
        ok 7 - res is defined
        ok 8 - message is set
        ok 9 - default res serializer is use
    ok 10 - The logger should accept custom serializer # time=14.541ms
    
    # Subtest: reply.send logs an error if called twice in a row
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
    ok 11 - reply.send logs an error if called twice in a row # time=34.001ms
    
    # Subtest: logger can be silented
        1..17
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equivalent
        ok 10 - should be equivalent
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equivalent
        ok 14 - should be equivalent
        ok 15 - should be equivalent
        ok 16 - should be equivalent
        ok 17 - should be equivalent
    ok 12 - logger can be silented # time=7.765ms
    
    # Subtest: Should set a custom logLevel for a plugin
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equivalent
    ok 13 - Should set a custom logLevel for a plugin # time=16.096ms
    
    # Subtest: Should set a custom logSerializers for a plugin
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 14 - Should set a custom logSerializers for a plugin # time=8.038ms
    
    # Subtest: Should set a custom logLevel for every plugin
        1..18
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equivalent
        ok 15 - should not error
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equivalent
    ok 15 - Should set a custom logLevel for every plugin # time=28.355ms
    
    # Subtest: Should set a custom logSerializers for every plugin
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 16 - Should set a custom logSerializers for every plugin # time=13.327ms
    
    # Subtest: Should override serializers from route
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 17 - Should override serializers from route # time=24.634ms
    
    # Subtest: Should override serializers from plugin
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 18 - Should override serializers from plugin # time=14.855ms
    
    # Subtest: Should use serializers from plugin and route
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 19 - Should use serializers from plugin and route # time=7.085ms
    
    # Subtest: Should use serializers from instance fastify and route
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 20 - Should use serializers from instance fastify and route # time=19.772ms
    
    # Subtest: Should use serializers inherit from contexts
        1..5
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 21 - Should use serializers inherit from contexts # time=15.404ms
    
    # Subtest: Should increase the log level for a specific plugin
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 22 - Should increase the log level for a specific plugin # time=5.738ms
    
    # Subtest: Should set the log level for the customized 404 handler
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 23 - Should set the log level for the customized 404 handler # time=5.439ms
    
    # Subtest: Should set the log level for the customized 500 handler
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 24 - Should set the log level for the customized 500 handler # time=6.006ms
    
    # Subtest: Should set a custom log level for a specific route
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equivalent
    ok 25 - Should set a custom log level for a specific route # time=7.556ms
    
    # Subtest: The default 404 handler logs the incoming request
        1..5
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
    ok 26 - The default 404 handler logs the incoming request # time=5.116ms
    
    # Subtest: should serialize request and response
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 27 - should serialize request and response # time=5.563ms
    
    # Subtest: Wrap IPv6 address in listening log message
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 28 - Wrap IPv6 address in listening log message # time=3.392ms
    
    # Subtest: Do not wrap IPv4 address
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 29 - Do not wrap IPv4 address # time=3.341ms
    
    # Subtest: file option
        1..13
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - listen at log message is ok
        ok 4 - reqId is defined
        ok 5 - req is defined
        ok 6 - message is set
        ok 7 - method is get
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
        ok 13 - responseTime is defined
    ok 30 - file option # time=15.622ms
    
    # Subtest: should log the error if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 31 - should log the error if no error handler is defined # time=10.138ms
    
    # Subtest: should log as info if error status code >= 400 and < 500 if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 32 - should log as info if error status code >= 400 and < 500 if no error handler is defined # time=10.76ms
    
    # Subtest: should log as error if error status code >= 500 if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 33 - should log as error if error status code >= 500 if no error handler is defined # time=9.8ms
    
    # Subtest: should not log the error if error handler is defined and it does not error
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - level is correct
        ok 7 - message is set
        ok 8 - status code is set
    ok 34 - should not log the error if error handler is defined and it does not error # time=21.604ms
    
    # Subtest: should not rely on raw request to log errors
        1..7
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - status code is set
    ok 35 - should not rely on raw request to log errors # time=8.655ms
    
    # Subtest: should redact the authorization header if so specified
        1..7
        ok 1 - listen at log message is ok
        ok 2 - should not error
        ok 3 - authorization is redacted
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 36 - should redact the authorization header if so specified # time=18.168ms
    
    # Subtest: should not log incoming request and outgoing response when disabled
        1..3
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should be equivalent
    ok 37 - should not log incoming request and outgoing response when disabled # time=5.724ms
    
    # Subtest: should not log incoming request and outgoing response for 404 onBadUrl when disabled
        1..1
        ok 1 - should be equivalent
    ok 38 - should not log incoming request and outgoing response for 404 onBadUrl when disabled # time=3.79ms
    
    # Subtest: should pass when using unWritable props in the logger option
        1..1
        ok 1 - (unnamed test)
    ok 39 - should pass when using unWritable props in the logger option # time=1.456ms
    
    # Subtest: should be able to use a custom logger
        1..1
        ok 1 - (unnamed test)
    ok 40 - should be able to use a custom logger # time=2.958ms
    
    # Subtest: should create a default logger if provided one is invalid
        1..1
        ok 1 - (unnamed test)
    ok 41 - should create a default logger if provided one is invalid # time=6.43ms
    
    # Subtest: should not throw error when serializing custom req
        1..1
        ok 1 - should be equivalent
    ok 42 - should not throw error when serializing custom req # time=1.92ms
    
    1..42
    # time=863.555ms
ok 67 - test/logger.test.js # time=863.555ms

# Subtest: test/maxRequestsPerSocket.test.js
    # Subtest: maxRequestsPerSocket on node version >= 16.10.0
        1..8
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should match pattern provided
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
    ok 1 - maxRequestsPerSocket on node version >= 16.10.0 # time=99.607ms
    
    # Subtest: maxRequestsPerSocket zero should behave same as null
        1..10
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should match pattern provided
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
        ok 9 - should match pattern provided
        ok 10 - should match pattern provided
    ok 2 - maxRequestsPerSocket zero should behave same as null # time=16.851ms
    
    # Subtest: maxRequestsPerSocket should be set
        1..1
        ok 1 - should be equivalent
    ok 3 - maxRequestsPerSocket should be set # time=2.151ms
    
    # Subtest: maxRequestsPerSocket should 0
        1..1
        ok 1 - should be equivalent
    ok 4 - maxRequestsPerSocket should 0 # time=1.41ms
    
    # Subtest: requestTimeout passed to server
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 5 - requestTimeout passed to server # time=14.252ms
    
    1..5
    # time=151.925ms
ok 68 - test/maxRequestsPerSocket.test.js # time=151.925ms

# Subtest: test/middleware.test.js
    # Subtest: Should be able to override the default use API
        1..1
        ok 1 - should be equal
    ok 1 - Should be able to override the default use API # time=14.972ms
    
    # Subtest: Cannot decorate use twice
        1..1
        ok 1 - expect truthy value
    ok 2 - Cannot decorate use twice # time=2.679ms
    
    # Subtest: Encapsulation works
        1..1
        ok 1 - should be equal
    ok 3 - Encapsulation works # time=12.248ms
    
    1..3
    # time=42.531ms
ok 69 - test/middleware.test.js # time=42.531ms

# Subtest: test/noop-set.test.js
    # Subtest: does a lot of nothing
        ok 1 - type is object
        ok 2 - should be equal
        1..2
    ok 1 - does a lot of nothing # time=6.892ms
    
    1..1
    # time=12.027ms
ok 70 - test/noop-set.test.js # time=12.027ms

# Subtest: test/nullable-validation.test.js
    # Subtest: nullable string
        1..3
        not ok 1 - Cannot read properties of undefined (reading 'forEach')
          ---
          origin:
            at:
              line: 14
              column: 24
              file: node_modules/ajv/lib/ajv.ts
              function: Ajv._addVocabularies
            stack: |
              Ajv._addVocabularies (node_modules/ajv/lib/ajv.ts:14:24)
              new Ajv (node_modules/ajv/lib/core.ts:308:10)
              new Ajv (node_modules/ajv/lib/ajv.ts:11:1)
              new ValidatorCompiler (node_modules/@fastify/ajv-compiler/index.js:51:18)
              buildCompilerFromPool (node_modules/@fastify/ajv-compiler/index.js:32:22)
              SchemaController.setupValidator (lib/schema-controller.js:100:30)
              Boot.<anonymous> (lib/route.js:314:32)
              node_modules/avvio/boot.js:160:12
            type: TypeError
            source: |2
                  super._addVocabularies()
                  draft7Vocabularies.forEach((v) => this.addVocabulary(v))
              -----------------------^
                  if (this.opts.discriminator) this.addKeyword(discriminator)
                }
          found:
            !error
            name: TypeError
            message: Cannot read properties of undefined (reading 'forEach')
            stack: >-
              TypeError: 
                  at Ajv._addVocabularies (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/ajv/lib/ajv.ts:14:24)
                  at new Ajv (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/ajv/lib/core.ts:308:10)
                  at new Ajv (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/ajv/lib/ajv.ts:11:1)
                  at new ValidatorCompiler (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/@fastify/ajv-compiler/index.js:51:18)
                  at buildCompilerFromPool (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/@fastify/ajv-compiler/index.js:32:22)
                  at SchemaController.setupValidator (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/lib/schema-controller.js:100:30)
                  at Boot.<anonymous> (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/lib/route.js:314:32)
                  at Object.onceWrapper (node:events:627:28)
                  at Boot.emit (node:events:525:35)
                  at /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/boot.js:160:12
          at:
            line: 50
            column: 7
            file: test/nullable-validation.test.js
          stack: |
            cb (test/nullable-validation.test.js:50:7)
            cb (fastify.js:486:18)
            manageErr (fastify.js:538:11)
            fastify.js:520:11
            Object._encapsulateThreeParam (node_modules/avvio/boot.js:557:7)
            Boot.timeoutCall (node_modules/avvio/boot.js:453:5)
            Boot.callWithCbOrNextTick (node_modules/avvio/boot.js:435:19)
            release (node_modules/fastq/queue.js:149:16)
            Object.resume (node_modules/fastq/queue.js:82:7)
            node_modules/avvio/boot.js:174:18
            node_modules/avvio/plugin.js:275:7
            done (node_modules/avvio/plugin.js:200:5)
            check (node_modules/avvio/plugin.js:224:9)
          source: |2
              }, (err, res) => {
                t.error(err)
            ------^
                t.same(res.payload.hello, null)
              })
          ...
        
        not ok 2 - test unfinished
          ---
          stack: |
            Object.<anonymous> (test/nullable-validation.test.js:8:1)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          test: nullable string
          at:
            line: 8
            column: 1
            file: test/nullable-validation.test.js
            function: Object.<anonymous>
          source: |
          
            test('nullable string', t => {
            ^
              t.plan(3)
              const fastify = Fastify()
          ...
        
        # test count(2) != plan(3)
        # failed 2 of 2 tests
    not ok 1 - nullable string # time=185.715ms
    
    not ok 2 - child test left in queue: t.test object or null body
    not ok 3 - child test left in queue: t.test nullable body
    not ok 4 - child test left in queue: t.test Nullable body with 204
    1..1
    # test count(4) != plan(1)
    # failed 7 of 4 tests
    # time=191.301ms
not ok 71 - test/nullable-validation.test.js # time=191.301ms
  ---
  env: {}
  file: test/nullable-validation.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/nullable-validation.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify
  failures:
    - &a1
      id: 2
      name: "child test left in queue: t.test object or null body"
      fullname: test/nullable-validation.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a2
      id: 3
      name: "child test left in queue: t.test nullable body"
      fullname: test/nullable-validation.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a3
      id: 4
      name: "child test left in queue: t.test Nullable body with 204"
      fullname: test/nullable-validation.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - *a1
    - *a2
    - *a3
  exitCode: 1
  ...

# Subtest: test/options.error-handler.test.js
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - OPTIONS can be created # time=9.529ms
    
    # Subtest: OPTIONS without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - OPTIONS without schema can be created # time=2.185ms
    
    # Subtest: OPTIONS with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - OPTIONS with body and querystring # time=1.642ms
    
    # Subtest: OPTIONS with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - OPTIONS with bodyLimit option # time=4.688ms
    
    not ok 5 - Cannot read properties of undefined (reading 'forEach')
      ---
      at:
        line: 14
        column: 24
        file: node_modules/ajv/lib/ajv.ts
        function: Ajv._addVocabularies
      stack: |
        Ajv._addVocabularies (node_modules/ajv/lib/ajv.ts:14:24)
        new Ajv (node_modules/ajv/lib/core.ts:308:10)
        new Ajv (node_modules/ajv/lib/ajv.ts:11:1)
        Object.module.exports.payloadMethod (test/input-validation.js:28:15)
        Object.<anonymous> (test/options.error-handler.test.js:5:31)
        Module.replacementCompile (node_modules/append-transform/index.js:60:13)
        Object.<anonymous> (node_modules/append-transform/index.js:64:4)
      type: TypeError
      tapCaught: uncaughtException
      test: TAP
      source: |2
            super._addVocabularies()
            draft7Vocabularies.forEach((v) => this.addVocabulary(v))
        -----------------------^
            if (this.opts.discriminator) this.addKeyword(discriminator)
          }
      ...
    
    1..5
    # failed 1 of 5 tests
    # time=1141.001ms
not ok 72 - test/options.error-handler.test.js # time=1141.001ms
  ---
  env: {}
  file: test/options.error-handler.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/options.error-handler.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify
  exitCode: 1
  ...

# Subtest: test/options.test.js
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - OPTIONS can be created # time=8.762ms
    
    # Subtest: OPTIONS without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - OPTIONS without schema can be created # time=1.834ms
    
    # Subtest: OPTIONS with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - OPTIONS with body and querystring # time=1.429ms
    
    # Subtest: OPTIONS with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - OPTIONS with bodyLimit option # time=1.619ms
    
    not ok 5 - Cannot read properties of undefined (reading 'forEach')
      ---
      at:
        line: 14
        column: 24
        file: node_modules/ajv/lib/ajv.ts
        function: Ajv._addVocabularies
      stack: |
        Ajv._addVocabularies (node_modules/ajv/lib/ajv.ts:14:24)
        new Ajv (node_modules/ajv/lib/core.ts:308:10)
        new Ajv (node_modules/ajv/lib/ajv.ts:11:1)
        Object.module.exports.payloadMethod (test/input-validation.js:28:15)
        Object.<anonymous> (test/options.test.js:5:31)
        Module.replacementCompile (node_modules/append-transform/index.js:60:13)
        Object.<anonymous> (node_modules/append-transform/index.js:64:4)
      type: TypeError
      tapCaught: uncaughtException
      test: TAP
      source: |2
            super._addVocabularies()
            draft7Vocabularies.forEach((v) => this.addVocabulary(v))
        -----------------------^
            if (this.opts.discriminator) this.addKeyword(discriminator)
          }
      ...
    
    1..5
    # failed 1 of 5 tests
    # time=763.257ms
not ok 73 - test/options.test.js # time=763.257ms
  ---
  env: {}
  file: test/options.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/options.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify
  exitCode: 1
  ...

# Subtest: test/output-validation.test.js
    # Subtest: shorthand - output string
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - output string # time=9.829ms
    
    # Subtest: shorthand - output number
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - output number # time=2.276ms
    
    # Subtest: wrong object for schema - output
        1..1
        ok 1 - (unnamed test)
    ok 3 - wrong object for schema - output # time=2.07ms
    
    # Subtest: empty response
        1..1
        ok 1 - (unnamed test)
    ok 4 - empty response # time=2.003ms
    
    # Subtest: unlisted response code
        1..1
        ok 1 - (unnamed test)
    ok 5 - unlisted response code # time=1.832ms
    
    not ok 6 - Failed building the serialization schema for GET: /string, due to error Cannot read properties of undefined (reading 'forEach')
      ---
      origin:
        at:
          line: 328
          column: 21
          file: lib/route.js
          function: Boot.<anonymous>
        stack: |
          Boot.<anonymous> (lib/route.js:328:21)
          node_modules/avvio/boot.js:160:12
          node_modules/avvio/plugin.js:275:7
          done (node_modules/avvio/plugin.js:200:5)
          check (node_modules/avvio/plugin.js:224:9)
        type: FastifyError
        code: FST_ERR_SCH_SERIALIZATION_BUILD
        statusCode: 500
        source: >2
                      } catch (error) {
                        throw new FST_ERR_SCH_SERIALIZATION_BUILD(opts.method, url, error.message)
          --------------------^
                      }
                    }
      found:
        !error
        name: FastifyError
        message: "Failed building the serialization schema for GET: /string, due to
          error Cannot read properties of undefined (reading 'forEach')"
        stack: >-
          FastifyError: 
              at Boot.<anonymous> (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/lib/route.js:328:21)
              at Object.onceWrapper (node:events:627:28)
              at Boot.emit (node:events:525:35)
              at /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/boot.js:160:12
              at /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/plugin.js:275:7
              at done (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/plugin.js:200:5)
              at check (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/plugin.js:224:9)
              at node:internal/process/task_queues:141:7
              at AsyncResource.runInAsyncScope (node:async_hooks:203:9)
              at AsyncResource.runMicrotask (node:internal/process/task_queues:138:8)
        code: FST_ERR_SCH_SERIALIZATION_BUILD
        statusCode: 500
      at:
        line: 94
        column: 5
        file: test/output-validation.test.js
      stack: |
        cb (test/output-validation.test.js:94:5)
        Object.cb (lib/server.js:61:11)
        cb (lib/server.js:173:43)
        manageErr (fastify.js:538:11)
        fastify.js:520:11
        Object._encapsulateThreeParam (node_modules/avvio/boot.js:557:7)
        Boot.timeoutCall (node_modules/avvio/boot.js:453:5)
        Boot.callWithCbOrNextTick (node_modules/avvio/boot.js:435:19)
        release (node_modules/fastq/queue.js:149:16)
        Object.resume (node_modules/fastq/queue.js:82:7)
        node_modules/avvio/boot.js:174:18
        node_modules/avvio/plugin.js:275:7
        done (node_modules/avvio/plugin.js:200:5)
        check (node_modules/avvio/plugin.js:224:9)
      source: |
        fastify.listen({ port: 0 }, err => {
          t.error(err)
        ----^
          t.teardown(() => { fastify.close() })
      ...
    
    # Subtest: shorthand - string get ok
        1..4
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/output-validation.test.js:101:58)
          at:
            line: 101
            column: 58
            file: test/output-validation.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - string get ok
          source: |2
                  method: 'GET',
                  url: 'http://localhost:' + fastify.server.address().port + '/string'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 7 - shorthand - string get ok # time=7.443ms
    
    # Subtest: shorthand - number get ok
        1..4
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/output-validation.test.js:114:58)
          at:
            line: 114
            column: 58
            file: test/output-validation.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - number get ok
          source: |2
                  method: 'GET',
                  url: 'http://localhost:' + fastify.server.address().port + '/number'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 8 - shorthand - number get ok # time=5.599ms
    
    # Subtest: shorthand - wrong-object-for-schema
        1..4
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/output-validation.test.js:127:58)
          at:
            line: 127
            column: 58
            file: test/output-validation.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - wrong-object-for-schema
          source: >2
                  method: 'GET',
                  url: 'http://localhost:' + fastify.server.address().port + '/wrong-object-for-schema'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 9 - shorthand - wrong-object-for-schema # time=5.23ms
    
    # Subtest: shorthand - empty
        1..2
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/output-validation.test.js:144:58)
          at:
            line: 144
            column: 58
            file: test/output-validation.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - empty
          source: |2
                  method: 'GET',
                  url: 'http://localhost:' + fastify.server.address().port + '/empty'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(2)
        # failed 1 test
    not ok 10 - shorthand - empty # time=5.564ms
    
    # Subtest: shorthand - 400
        1..4
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/output-validation.test.js:155:58)
          at:
            line: 155
            column: 58
            file: test/output-validation.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - 400
          source: |2
                  method: 'GET',
                  url: 'http://localhost:' + fastify.server.address().port + '/400'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 11 - shorthand - 400 # time=5.267ms
    
    1..11
    # failed 6 of 11 tests
    # time=251.01ms
not ok 74 - test/output-validation.test.js # time=251.01ms
  ---
  env: {}
  file: test/output-validation.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/output-validation.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify
  exitCode: 1
  ...

# Subtest: test/patch.error-handler.test.js
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PATCH can be created # time=9.703ms
    
    # Subtest: PATCH without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PATCH without schema can be created # time=2.234ms
    
    # Subtest: PATCH with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PATCH with body and querystring # time=1.763ms
    
    # Subtest: PATCH with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PATCH with bodyLimit option # time=1.906ms
    
    not ok 5 - Cannot read properties of undefined (reading 'forEach')
      ---
      at:
        line: 14
        column: 24
        file: node_modules/ajv/lib/ajv.ts
        function: Ajv._addVocabularies
      stack: |
        Ajv._addVocabularies (node_modules/ajv/lib/ajv.ts:14:24)
        new Ajv (node_modules/ajv/lib/core.ts:308:10)
        new Ajv (node_modules/ajv/lib/ajv.ts:11:1)
        Object.module.exports.payloadMethod (test/input-validation.js:28:15)
        Object.<anonymous> (test/patch.error-handler.test.js:5:31)
        Module.replacementCompile (node_modules/append-transform/index.js:60:13)
        Object.<anonymous> (node_modules/append-transform/index.js:64:4)
      type: TypeError
      tapCaught: uncaughtException
      test: TAP
      source: |2
            super._addVocabularies()
            draft7Vocabularies.forEach((v) => this.addVocabulary(v))
        -----------------------^
            if (this.opts.discriminator) this.addKeyword(discriminator)
          }
      ...
    
    1..5
    # failed 1 of 5 tests
    # time=626.938ms
not ok 75 - test/patch.error-handler.test.js # time=626.938ms
  ---
  env: {}
  file: test/patch.error-handler.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/patch.error-handler.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify
  exitCode: 1
  ...

# Subtest: test/patch.test.js
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PATCH can be created # time=9.426ms
    
    # Subtest: PATCH without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PATCH without schema can be created # time=3.079ms
    
    # Subtest: PATCH with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PATCH with body and querystring # time=1.745ms
    
    # Subtest: PATCH with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PATCH with bodyLimit option # time=1.875ms
    
    not ok 5 - Cannot read properties of undefined (reading 'forEach')
      ---
      at:
        line: 14
        column: 24
        file: node_modules/ajv/lib/ajv.ts
        function: Ajv._addVocabularies
      stack: |
        Ajv._addVocabularies (node_modules/ajv/lib/ajv.ts:14:24)
        new Ajv (node_modules/ajv/lib/core.ts:308:10)
        new Ajv (node_modules/ajv/lib/ajv.ts:11:1)
        Object.module.exports.payloadMethod (test/input-validation.js:28:15)
        Object.<anonymous> (test/patch.test.js:5:31)
        Module.replacementCompile (node_modules/append-transform/index.js:60:13)
        Object.<anonymous> (node_modules/append-transform/index.js:64:4)
      type: TypeError
      tapCaught: uncaughtException
      test: TAP
      source: |2
            super._addVocabularies()
            draft7Vocabularies.forEach((v) => this.addVocabulary(v))
        -----------------------^
            if (this.opts.discriminator) this.addKeyword(discriminator)
          }
      ...
    
    1..5
    # failed 1 of 5 tests
    # time=660.255ms
not ok 76 - test/patch.test.js # time=660.255ms
  ---
  env: {}
  file: test/patch.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/patch.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify
  exitCode: 1
  ...

# Subtest: test/plugin.test.js
    # Subtest: require a plugin
        1..1
        ok 1 - expect truthy value
    ok 1 - require a plugin # time=104.868ms
    
    # Subtest: plugin metadata - ignore prefix
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 2 - plugin metadata - ignore prefix # time=43.487ms
    
    # Subtest: plugin metadata - naming plugins
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 3 - plugin metadata - naming plugins # time=11.264ms
    
    # Subtest: fastify.register with fastify-plugin should not encapsulate his code
        1..10
        ok 1 - expect falsey value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 4 - fastify.register with fastify-plugin should not encapsulate his code # time=48.25ms
    
    # Subtest: fastify.register with fastify-plugin should provide access to external fastify instance if opts argument is a function
        1..22
        ok 1 - expect falsey value
        ok 2 - expect falsey value
        ok 3 - expect falsey value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect falsey value
        ok 10 - expect truthy value
        ok 11 - expect falsey value
        ok 12 - expect truthy value
        ok 13 - expect truthy value
        ok 14 - should be equal
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - should not error
        ok 18 - expect truthy value
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equal
        ok 22 - should be equivalent
    ok 5 - fastify.register with fastify-plugin should provide access to external fastify instance if opts argument is a function # time=23.929ms
    
    # Subtest: fastify.register with fastify-plugin registers fastify level plugins
        1..15
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should not error
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equivalent
    ok 6 - fastify.register with fastify-plugin registers fastify level plugins # time=23.843ms
    
    # Subtest: check dependencies - should not throw
        1..12
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - should not error
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
    ok 7 - check dependencies - should not throw # time=17.535ms
    
    # Subtest: check dependencies - should throw
        1..12
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - should not error
        ok 7 - expect truthy value
        ok 8 - expect falsey value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
    ok 8 - check dependencies - should throw # time=42.759ms
    
    # Subtest: set the plugin name based on the plugin displayName symbol
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
    ok 9 - set the plugin name based on the plugin displayName symbol # time=7.751ms
    
    # Subtest: plugin name will change when using no encapsulation
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
    ok 10 - plugin name will change when using no encapsulation # time=6.779ms
    
    # Subtest: plugin name is undefined when accessing in no plugin context
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 11 - plugin name is undefined when accessing in no plugin context # time=16.587ms
    
    # Subtest: set the plugin name based on the plugin function name
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 12 - set the plugin name based on the plugin function name # time=18.136ms
    
    # Subtest: approximate a plugin name when no meta data is available
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
    ok 13 - approximate a plugin name when no meta data is available # time=7.713ms
    
    # Subtest: approximate a plugin name also when fastify-plugin has no meta data
        1..4
        ok 1 - should match pattern provided
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should not error
    ok 14 - approximate a plugin name also when fastify-plugin has no meta data # time=22.088ms
    
    # Subtest: plugin encapsulation
        1..10
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 15 - plugin encapsulation # time=22.752ms
    
    # Subtest: if a plugin raises an error and there is not a callback to handle it, the server must not start
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 16 - if a plugin raises an error and there is not a callback to handle it, the server must not start # time=25.306ms
    
    # Subtest: add hooks after route declaration
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 17 - add hooks after route declaration # time=13.324ms
    
    # Subtest: nested plugins
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 18 - nested plugins # time=15.249ms
    
    # Subtest: nested plugins awaited
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 19 - nested plugins awaited # time=14.789ms
    
    # Subtest: plugin metadata - decorators
        1..1
        ok 1 - expect truthy value
    ok 20 - plugin metadata - decorators # time=8.796ms
    
    # Subtest: plugin metadata - decorators - should throw
        1..1
        ok 1 - should be equal
    ok 21 - plugin metadata - decorators - should throw # time=3.47ms
    
    # Subtest: plugin metadata - decorators - should throw with plugin name
        1..1
        ok 1 - should be equal
    ok 22 - plugin metadata - decorators - should throw with plugin name # time=3.619ms
    
    # Subtest: plugin metadata - dependencies
        1..1
        ok 1 - everything right
    ok 23 - plugin metadata - dependencies # time=3.138ms
    
    # Subtest: plugin metadata - dependencies (nested)
        1..1
        ok 1 - everything right
    ok 24 - plugin metadata - dependencies (nested) # time=3.588ms
    
    # Subtest: pluginTimeout
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 25 - pluginTimeout # time=16.809ms
    
    # "pluginTimeout - named function" has `only` set but all tests run
    # Subtest: pluginTimeout - named function
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 26 - pluginTimeout - named function # time=15.181ms
    
    # Subtest: pluginTimeout default
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 27 - pluginTimeout default # time=-67771159.574ms
    
    # Subtest: plugin metadata - version
        1..1
        ok 1 - everything right
    ok 28 - plugin metadata - version # time=20.825ms
    
    # Subtest: plugin metadata - version range
        1..1
        ok 1 - everything right
    ok 29 - plugin metadata - version range # time=12.499ms
    
    # Subtest: plugin metadata - version not matching requirement
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 30 - plugin metadata - version not matching requirement # time=3.42ms
    
    # Subtest: plugin metadata - version not matching requirement 2
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 31 - plugin metadata - version not matching requirement 2 # time=3.164ms
    
    # Subtest: plugin metadata - version not matching requirement 3
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 32 - plugin metadata - version not matching requirement 3 # time=2.62ms
    
    # Subtest: plugin metadata - release candidate
        1..2
        ok 1 - should not error
        ok 2 - everything right
    ok 33 - plugin metadata - release candidate # time=3.968ms
    
    # Subtest: fastify-rc loads prior version plugins
        1..2
        ok 1 - should not error
        ok 2 - everything right
    ok 34 - fastify-rc loads prior version plugins # time=3.076ms
    
    # Subtest: hasPlugin method exists as a function
        1..1
        ok 1 - should be equal
    ok 35 - hasPlugin method exists as a function # time=1.011ms
    
    # Subtest: hasPlugin returns true if the specified plugin has been registered
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
    ok 36 - hasPlugin returns true if the specified plugin has been registered # time=4.791ms
    
    # Subtest: hasPlugin returns false if the specified plugin has not been registered
        1..1
        ok 1 - expect falsey value
    ok 37 - hasPlugin returns false if the specified plugin has not been registered # time=1.022ms
    
    # Subtest: hasPlugin returns false when using encapsulation
        1..25
        ok 1 - expect truthy value
        ok 2 - expect falsey value
        ok 3 - expect falsey value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect truthy value
        ok 8 - expect falsey value
        ok 9 - expect falsey value
        ok 10 - expect falsey value
        ok 11 - expect falsey value
        ok 12 - expect falsey value
        ok 13 - expect truthy value
        ok 14 - expect falsey value
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - expect falsey value
        ok 18 - expect falsey value
        ok 19 - expect truthy value
        ok 20 - expect falsey value
        ok 21 - expect falsey value
        ok 22 - expect falsey value
        ok 23 - expect falsey value
        ok 24 - expect falsey value
        ok 25 - expect truthy value
    ok 38 - hasPlugin returns false when using encapsulation # time=9.57ms
    
    # Subtest: hasPlugin returns true when using no encapsulation
        1..26
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect falsey value
        ok 10 - expect falsey value
        ok 11 - expect falsey value
        ok 12 - expect truthy value
        ok 13 - expect truthy value
        ok 14 - expect truthy value
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - expect truthy value
        ok 18 - expect truthy value
        ok 19 - expect truthy value
        ok 20 - expect truthy value
        ok 21 - expect falsey value
        ok 22 - expect truthy value
        ok 23 - expect truthy value
        ok 24 - expect truthy value
        ok 25 - expect truthy value
        ok 26 - expect truthy value
    ok 39 - hasPlugin returns true when using no encapsulation # time=9.293ms
    
    1..39
    # time=656.454ms
ok 77 - test/plugin.test.js # time=656.454ms

# Subtest: test/pretty-print.test.js
    # Subtest: pretty print - static routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - pretty print - static routes # time=48.009ms
    
    # Subtest: pretty print - parametric routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - pretty print - parametric routes # time=6.567ms
    
    # Subtest: pretty print - mixed parametric routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 3 - pretty print - mixed parametric routes # time=8.365ms
    
    # Subtest: pretty print - wildcard routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - pretty print - wildcard routes # time=13.551ms
    
    # Subtest: pretty print - empty plugins
        1..2
        ok 1 - should be equal
        ok 2 - should match pattern provided
    ok 5 - pretty print - empty plugins # time=14.684ms
    
    # Subtest: pretty print - nested plugins
        1..4
        ok 1 - should be equal
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
    ok 6 - pretty print - nested plugins # time=14.947ms
    
    # Subtest: pretty print - commonPrefix
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 7 - pretty print - commonPrefix # time=25.15ms
    
    # Subtest: pretty print - includeMeta, includeHooks
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 8 - pretty print - includeMeta, includeHooks # time=21.447ms
    
    1..8
    # time=176.907ms
ok 78 - test/pretty-print.test.js # time=176.907ms

# Subtest: test/promises.test.js
    not ok 1 - Failed building the serialization schema for GET: /return, due to error Cannot read properties of undefined (reading 'forEach')
      ---
      origin:
        at:
          line: 328
          column: 21
          file: lib/route.js
          function: Boot.<anonymous>
        stack: |
          Boot.<anonymous> (lib/route.js:328:21)
          node_modules/avvio/boot.js:160:12
          node_modules/avvio/plugin.js:275:7
          done (node_modules/avvio/plugin.js:200:5)
          check (node_modules/avvio/plugin.js:224:9)
        type: FastifyError
        code: FST_ERR_SCH_SERIALIZATION_BUILD
        statusCode: 500
        source: >2
                      } catch (error) {
                        throw new FST_ERR_SCH_SERIALIZATION_BUILD(opts.method, url, error.message)
          --------------------^
                      }
                    }
      found:
        !error
        name: FastifyError
        message: "Failed building the serialization schema for GET: /return, due to
          error Cannot read properties of undefined (reading 'forEach')"
        stack: >-
          FastifyError: 
              at Boot.<anonymous> (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/lib/route.js:328:21)
              at Object.onceWrapper (node:events:627:28)
              at Boot.emit (node:events:525:35)
              at /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/boot.js:160:12
              at /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/plugin.js:275:7
              at done (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/plugin.js:200:5)
              at check (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/plugin.js:224:9)
              at node:internal/process/task_queues:141:7
              at AsyncResource.runInAsyncScope (node:async_hooks:203:9)
              at AsyncResource.runMicrotask (node:internal/process/task_queues:138:8)
        code: FST_ERR_SCH_SERIALIZATION_BUILD
        statusCode: 500
      at:
        line: 64
        column: 5
        file: test/promises.test.js
      stack: |
        cb (test/promises.test.js:64:5)
        Object.cb (lib/server.js:61:11)
        cb (lib/server.js:173:43)
        manageErr (fastify.js:538:11)
        fastify.js:520:11
        Object._encapsulateThreeParam (node_modules/avvio/boot.js:557:7)
        Boot.timeoutCall (node_modules/avvio/boot.js:453:5)
        Boot.callWithCbOrNextTick (node_modules/avvio/boot.js:435:19)
        release (node_modules/fastq/queue.js:149:16)
        Object.resume (node_modules/fastq/queue.js:82:7)
        node_modules/avvio/boot.js:174:18
        node_modules/avvio/plugin.js:275:7
        done (node_modules/avvio/plugin.js:200:5)
        check (node_modules/avvio/plugin.js:224:9)
      source: |
        fastify.listen({ port: 0 }, err => {
          t.error(err)
        ----^
          t.teardown(() => { fastify.close() })
      ...
    
    # Subtest: shorthand - sget return promise es6 get
        1..4
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/promises.test.js:71:58)
          at:
            line: 71
            column: 58
            file: test/promises.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - sget return promise es6 get
          source: |2
                  method: 'GET',
                  url: 'http://localhost:' + fastify.server.address().port + '/return'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 2 - shorthand - sget return promise es6 get # time=13.208ms
    
    # Subtest: shorthand - sget promise es6 get return error
        1..2
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/promises.test.js:84:58)
          at:
            line: 84
            column: 58
            file: test/promises.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - sget promise es6 get return error
          source: >2
                  method: 'GET',
                  url: 'http://localhost:' + fastify.server.address().port + '/return-error'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(2)
        # failed 1 test
    not ok 3 - shorthand - sget promise es6 get return error # time=7.65ms
    
    # Subtest: sget promise double send
        1..3
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/promises.test.js:96:58)
          at:
            line: 96
            column: 58
            file: test/promises.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: sget promise double send
          source: |2
                  method: 'GET',
                  url: 'http://localhost:' + fastify.server.address().port + '/double'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 4 - sget promise double send # time=8.213ms
    
    # Subtest: thenable
        1..4
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/promises.test.js:108:58)
          at:
            line: 108
            column: 58
            file: test/promises.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: thenable
          source: |2
                  method: 'GET',
                  url: 'http://localhost:' + fastify.server.address().port + '/thenable'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 5 - thenable # time=8.749ms
    
    # Subtest: thenable (error)
        1..2
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/promises.test.js:121:58)
          at:
            line: 121
            column: 58
            file: test/promises.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: thenable (error)
          source: >2
                  method: 'GET',
                  url: 'http://localhost:' + fastify.server.address().port + '/thenable-error'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(2)
        # failed 1 test
    not ok 6 - thenable (error) # time=18.698ms
    
    # Subtest: return-reply
        1..4
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/promises.test.js:132:58)
          at:
            line: 132
            column: 58
            file: test/promises.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: return-reply
          source: >2
                  method: 'GET',
                  url: 'http://localhost:' + fastify.server.address().port + '/return-reply'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 7 - return-reply # time=13.223ms
    
    1..7
    # failed 7 of 7 tests
    # time=135.983ms
not ok 79 - test/promises.test.js # time=135.983ms
  ---
  env: {}
  file: test/promises.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/promises.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify
  exitCode: 1
  ...

# Subtest: test/proto-poisoning.test.js
    # Subtest: proto-poisoning error
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 1 - proto-poisoning error # time=70.609ms
    
    # Subtest: proto-poisoning remove
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 2 - proto-poisoning remove # time=13.2ms
    
    # Subtest: proto-poisoning ignore
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 3 - proto-poisoning ignore # time=12.796ms
    
    # Subtest: constructor-poisoning error (default in v3)
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 4 - constructor-poisoning error (default in v3) # time=7.947ms
    
    # Subtest: constructor-poisoning error
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 5 - constructor-poisoning error # time=8.201ms
    
    # Subtest: constructor-poisoning remove
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 6 - constructor-poisoning remove # time=7.617ms
    
    1..6
    # time=132.552ms
ok 80 - test/proto-poisoning.test.js # time=132.552ms

# Subtest: test/put.error-handler.test.js
    # Subtest: PUT can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PUT can be created # time=9.081ms
    
    # Subtest: PUT without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PUT without schema can be created # time=1.93ms
    
    # Subtest: PUT with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PUT with body and querystring # time=1.462ms
    
    # Subtest: PUT with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PUT with bodyLimit option # time=1.675ms
    
    not ok 5 - Cannot read properties of undefined (reading 'forEach')
      ---
      at:
        line: 14
        column: 24
        file: node_modules/ajv/lib/ajv.ts
        function: Ajv._addVocabularies
      stack: |
        Ajv._addVocabularies (node_modules/ajv/lib/ajv.ts:14:24)
        new Ajv (node_modules/ajv/lib/core.ts:308:10)
        new Ajv (node_modules/ajv/lib/ajv.ts:11:1)
        Object.module.exports.payloadMethod (test/input-validation.js:28:15)
        Object.<anonymous> (test/put.error-handler.test.js:5:31)
        Module.replacementCompile (node_modules/append-transform/index.js:60:13)
        Object.<anonymous> (node_modules/append-transform/index.js:64:4)
      type: TypeError
      tapCaught: uncaughtException
      test: TAP
      source: |2
            super._addVocabularies()
            draft7Vocabularies.forEach((v) => this.addVocabulary(v))
        -----------------------^
            if (this.opts.discriminator) this.addKeyword(discriminator)
          }
      ...
    
    1..5
    # failed 1 of 5 tests
    # time=675.182ms
not ok 81 - test/put.error-handler.test.js # time=675.182ms
  ---
  env: {}
  file: test/put.error-handler.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/put.error-handler.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify
  exitCode: 1
  ...

# Subtest: test/put.test.js
    # Subtest: PUT can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PUT can be created # time=9.671ms
    
    # Subtest: PUT without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PUT without schema can be created # time=2.784ms
    
    # Subtest: PUT with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PUT with body and querystring # time=1.943ms
    
    # Subtest: PUT with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PUT with bodyLimit option # time=1.967ms
    
    not ok 5 - Cannot read properties of undefined (reading 'forEach')
      ---
      at:
        line: 14
        column: 24
        file: node_modules/ajv/lib/ajv.ts
        function: Ajv._addVocabularies
      stack: |
        Ajv._addVocabularies (node_modules/ajv/lib/ajv.ts:14:24)
        new Ajv (node_modules/ajv/lib/core.ts:308:10)
        new Ajv (node_modules/ajv/lib/ajv.ts:11:1)
        Object.module.exports.payloadMethod (test/input-validation.js:28:15)
        Object.<anonymous> (test/put.test.js:5:31)
        Module.replacementCompile (node_modules/append-transform/index.js:60:13)
        Object.<anonymous> (node_modules/append-transform/index.js:64:4)
      type: TypeError
      tapCaught: uncaughtException
      test: TAP
      source: |2
            super._addVocabularies()
            draft7Vocabularies.forEach((v) => this.addVocabulary(v))
        -----------------------^
            if (this.opts.discriminator) this.addKeyword(discriminator)
          }
      ...
    
    1..5
    # failed 1 of 5 tests
    # time=701.998ms
not ok 82 - test/put.test.js # time=701.998ms
  ---
  env: {}
  file: test/put.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/put.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify
  exitCode: 1
  ...

# Subtest: test/register.test.js
    # Subtest: register
        1..17
        ok 1 - should not be equal
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not be equal
        ok 6 - expect truthy value
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should not error
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equivalent
    ok 1 - register # time=88.566ms
    
    # Subtest: internal route declaration should pass the error generated by the register to the done handler / 1
        1..1
        ok 1 - should be equal
    ok 2 - internal route declaration should pass the error generated by the register to the done handler / 1 # time=7.018ms
    
    # Subtest: internal route declaration should pass the error generated by the register to the done handler / 2
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 3 - internal route declaration should pass the error generated by the register to the done handler / 2 # time=27.456ms
    
    # Subtest: awaitable register and after
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        1..3
    ok 4 - awaitable register and after # time=8.514ms
    
    # Subtest: awaitable register error handling
        ok 1 - expect rejected Promise: Error kaboom
        ok 2 - expect rejected Promise: Error kaboom
        ok 3 - expect rejected Promise: Error kaboom
        1..3
    ok 5 - awaitable register error handling # time=9.861ms
    
    # Subtest: awaitable after error handling
        ok 1 - expect rejected Promise: Error kaboom
        ok 2 - expect rejected Promise
        1..2
    ok 6 - awaitable after error handling # time=19.253ms
    
    # Subtest: chainable register
        1..3
        ok 1 - first loaded
        ok 2 - second loaded
        ok 3 - third loaded
    ok 7 - chainable register # time=20.367ms
    
    1..7
    # time=189.409ms
ok 83 - test/register.test.js # time=189.409ms

# Subtest: test/reply-error.test.js
    # Subtest: Reply error handling - code: 400
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - Reply error handling - code: 400 # time=211.038ms
    
    # Subtest: Reply error handling - code: 401
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - Reply error handling - code: 401 # time=9.133ms
    
    # Subtest: Reply error handling - code: 402
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 3 - Reply error handling - code: 402 # time=10.377ms
    
    # Subtest: Reply error handling - code: 403
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 4 - Reply error handling - code: 403 # time=6.844ms
    
    # Subtest: Reply error handling - code: 404
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 5 - Reply error handling - code: 404 # time=24.027ms
    
    # Subtest: Reply error handling - code: 405
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 6 - Reply error handling - code: 405 # time=5.397ms
    
    # Subtest: Reply error handling - code: 406
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - Reply error handling - code: 406 # time=17.099ms
    
    # Subtest: Reply error handling - code: 407
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 8 - Reply error handling - code: 407 # time=5.825ms
    
    # Subtest: Reply error handling - code: 408
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 9 - Reply error handling - code: 408 # time=6.861ms
    
    # Subtest: Reply error handling - code: 409
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 10 - Reply error handling - code: 409 # time=8.818ms
    
    # Subtest: Reply error handling - code: 410
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - Reply error handling - code: 410 # time=6.62ms
    
    # Subtest: Reply error handling - code: 411
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 12 - Reply error handling - code: 411 # time=23.308ms
    
    # Subtest: Reply error handling - code: 412
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 13 - Reply error handling - code: 412 # time=7.39ms
    
    # Subtest: Reply error handling - code: 413
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 14 - Reply error handling - code: 413 # time=6.224ms
    
    # Subtest: Reply error handling - code: 414
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 15 - Reply error handling - code: 414 # time=6.386ms
    
    # Subtest: Reply error handling - code: 415
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 16 - Reply error handling - code: 415 # time=36.65ms
    
    # Subtest: Reply error handling - code: 416
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 17 - Reply error handling - code: 416 # time=9.272ms
    
    # Subtest: Reply error handling - code: 417
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - Reply error handling - code: 417 # time=6.032ms
    
    # Subtest: Reply error handling - code: 418
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 19 - Reply error handling - code: 418 # time=8.914ms
    
    # Subtest: Reply error handling - code: 421
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 20 - Reply error handling - code: 421 # time=6.094ms
    
    # Subtest: Reply error handling - code: 422
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 21 - Reply error handling - code: 422 # time=5.721ms
    
    # Subtest: Reply error handling - code: 423
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 22 - Reply error handling - code: 423 # time=5.316ms
    
    # Subtest: Reply error handling - code: 424
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 23 - Reply error handling - code: 424 # time=5.301ms
    
    # Subtest: Reply error handling - code: 425
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 24 - Reply error handling - code: 425 # time=5.213ms
    
    # Subtest: Reply error handling - code: 426
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 25 - Reply error handling - code: 426 # time=4.873ms
    
    # Subtest: Reply error handling - code: 428
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 26 - Reply error handling - code: 428 # time=4.681ms
    
    # Subtest: Reply error handling - code: 429
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 27 - Reply error handling - code: 429 # time=4.404ms
    
    # Subtest: Reply error handling - code: 431
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 28 - Reply error handling - code: 431 # time=4.647ms
    
    # Subtest: Reply error handling - code: 451
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 29 - Reply error handling - code: 451 # time=4.714ms
    
    # Subtest: Reply error handling - code: 500
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 30 - Reply error handling - code: 500 # time=4.553ms
    
    # Subtest: Reply error handling - code: 501
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 31 - Reply error handling - code: 501 # time=22.745ms
    
    # Subtest: Reply error handling - code: 502
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 32 - Reply error handling - code: 502 # time=4.273ms
    
    # Subtest: Reply error handling - code: 503
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 33 - Reply error handling - code: 503 # time=6.487ms
    
    # Subtest: Reply error handling - code: 504
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 34 - Reply error handling - code: 504 # time=4.026ms
    
    # Subtest: Reply error handling - code: 505
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 35 - Reply error handling - code: 505 # time=4.394ms
    
    # Subtest: Reply error handling - code: 506
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 36 - Reply error handling - code: 506 # time=4.385ms
    
    # Subtest: Reply error handling - code: 507
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 37 - Reply error handling - code: 507 # time=3.974ms
    
    # Subtest: Reply error handling - code: 508
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 38 - Reply error handling - code: 508 # time=4.762ms
    
    # Subtest: Reply error handling - code: 509
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 39 - Reply error handling - code: 509 # time=4.215ms
    
    # Subtest: Reply error handling - code: 510
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 40 - Reply error handling - code: 510 # time=4.046ms
    
    # Subtest: Reply error handling - code: 511
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 41 - Reply error handling - code: 511 # time=4.323ms
    
    # Subtest: preHandler hook error handling with external code
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 42 - preHandler hook error handling with external code # time=4.467ms
    
    # Subtest: onRequest hook error handling with external done
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 43 - onRequest hook error handling with external done # time=3.674ms
    
    # Subtest: Should reply 400 on client error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 44 - Should reply 400 on client error # time=19.325ms
    
    # Subtest: Should set the response from client error handler
        1..5
        ok 1 - should not error
        ok 2 - type is Error
        ok 3 - should be equal
        ok 4 - Log level is not warn
        ok 5 - should be equal
    ok 45 - Should set the response from client error handler # time=10.45ms
    
    # Subtest: Error instance sets HTTP status code
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 46 - Error instance sets HTTP status code # time=12.687ms
    
    # Subtest: Error status code below 400 defaults to 500
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 47 - Error status code below 400 defaults to 500 # time=3.916ms
    
    # Subtest: Error.status property support
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 48 - Error.status property support # time=3.839ms
    
    # Subtest: Support rejection with values that are not Error instances
        1..11
        # Subtest: Type: number
            1..4
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 1 - Type: number # time=56.619ms
        
        # Subtest: Type: string
            1..4
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 2 - Type: string # time=4.008ms
        
        # Subtest: Type: object
            1..4
            ok 1 - should be equivalent
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 3 - Type: object # time=4.284ms
        
        # Subtest: Type: object
            1..4
            ok 1 - should be equivalent
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 4 - Type: object # time=4.048ms
        
        # Subtest: Type: object
            1..4
            ok 1 - should be equivalent
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 5 - Type: object # time=3.964ms
        
        # Subtest: Type: undefined
            1..4
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 6 - Type: undefined # time=3.959ms
        
        # Subtest: Type: number
            1..4
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 7 - Type: number # time=3.59ms
        
        # Subtest: Type: string
            1..4
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 8 - Type: string # time=3.535ms
        
        # Subtest: Type: object
            1..4
            ok 1 - should be equivalent
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 9 - Type: object # time=3.86ms
        
        # Subtest: Type: object
            1..4
            ok 1 - should be equivalent
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 10 - Type: object # time=4.145ms
        
        # Subtest: Type: object
            1..4
            ok 1 - should be equivalent
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 11 - Type: object # time=4.89ms
        
    ok 49 - Support rejection with values that are not Error instances # time=109.576ms
    
    # Subtest: invalid schema - ajv
        1..4
        not ok 1 - Cannot read properties of undefined (reading 'forEach')
          ---
          origin:
            at:
              line: 14
              column: 24
              file: node_modules/ajv/lib/ajv.ts
              function: Ajv._addVocabularies
            stack: |
              Ajv._addVocabularies (node_modules/ajv/lib/ajv.ts:14:24)
              new Ajv (node_modules/ajv/lib/core.ts:308:10)
              new Ajv (node_modules/ajv/lib/ajv.ts:11:1)
              new ValidatorCompiler (node_modules/@fastify/ajv-compiler/index.js:51:18)
              buildCompilerFromPool (node_modules/@fastify/ajv-compiler/index.js:32:22)
              SchemaController.setupValidator (lib/schema-controller.js:100:30)
              Boot.<anonymous> (lib/route.js:314:32)
              node_modules/avvio/boot.js:160:12
            type: TypeError
            source: |2
                  super._addVocabularies()
                  draft7Vocabularies.forEach((v) => this.addVocabulary(v))
              -----------------------^
                  if (this.opts.discriminator) this.addKeyword(discriminator)
                }
          found:
            !error
            name: TypeError
            message: Cannot read properties of undefined (reading 'forEach')
            stack: >-
              TypeError: 
                  at Ajv._addVocabularies (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/ajv/lib/ajv.ts:14:24)
                  at new Ajv (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/ajv/lib/core.ts:308:10)
                  at new Ajv (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/ajv/lib/ajv.ts:11:1)
                  at new ValidatorCompiler (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/@fastify/ajv-compiler/index.js:51:18)
                  at buildCompilerFromPool (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/@fastify/ajv-compiler/index.js:32:22)
                  at SchemaController.setupValidator (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/lib/schema-controller.js:100:30)
                  at Boot.<anonymous> (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/lib/route.js:314:32)
                  at Object.onceWrapper (node:events:627:28)
                  at Boot.emit (node:events:525:35)
                  at /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/boot.js:160:12
          at:
            line: 334
            column: 7
            file: test/reply-error.test.js
          stack: |
            cb (test/reply-error.test.js:334:7)
            cb (fastify.js:486:18)
            manageErr (fastify.js:538:11)
            fastify.js:520:11
            Object._encapsulateThreeParam (node_modules/avvio/boot.js:557:7)
            Boot.timeoutCall (node_modules/avvio/boot.js:453:5)
            Boot.callWithCbOrNextTick (node_modules/avvio/boot.js:435:19)
            release (node_modules/fastq/queue.js:149:16)
            Object.resume (node_modules/fastq/queue.js:82:7)
            node_modules/avvio/boot.js:174:18
            node_modules/avvio/plugin.js:275:7
            done (node_modules/avvio/plugin.js:200:5)
            check (node_modules/avvio/plugin.js:224:9)
          source: |2
              }, (err, res) => {
                t.error(err)
            ------^
                t.equal(res.statusCode, 400)
                t.equal(res.payload, 'error')
          ...
        
        not ok 2 - test unfinished
          ---
          stack: |
            Object.<anonymous> (test/reply-error.test.js:308:1)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          test: invalid schema - ajv
          at:
            line: 308
            column: 1
            file: test/reply-error.test.js
            function: Object.<anonymous>
          source: |
          
            test('invalid schema - ajv', t => {
            ^
              t.plan(4)
          ...
        
        # test count(2) != plan(4)
        # failed 2 of 2 tests
    not ok 50 - invalid schema - ajv # time=212.336ms
    
    not ok 51 - child test left in queue: t.test should set the status code and the headers from the error object (from route handler) (no custom error handler)
    not ok 52 - child test left in queue: t.test should set the status code and the headers from the error object (from custom error handler)
    not ok 53 - child test left in queue: t.test '*' should throw an error due to serializer can not handle the payload type
    not ok 54 - child test left in queue: t.test should throw an error if the custom serializer does not serialize the payload to a valid type
    not ok 55 - child test left in queue: t.test should not set headers or status code for custom error handler
    not ok 56 - child test left in queue: t.test error thrown by custom error handler routes to default error handler
    not ok 57 - child test left in queue: t.test should throw error if error code is undefined
    not ok 58 - child test left in queue: t.test should throw error if error code is null
    not ok 59 - child test left in queue: t.test should throw error if error code is error_code
    not ok 60 - child test left in queue: t.test should throw error if error code is 0
    not ok 61 - child test left in queue: t.test should throw error if error code is 1
    not ok 62 - child test left in queue: t.test should throw error if error code is 99
    not ok 63 - child test left in queue: t.test should throw error if error code is 600
    not ok 64 - child test left in queue: t.test should throw error if error code is 700
    not ok 65 - child test left in queue: t.test error handler is triggered when a string is thrown from sync handler
    not ok 66 - child test left in queue: t.test status code should be set to 500 and return an error json payload if route handler throws any non Error object expression
    not ok 67 - child test left in queue: t.test should preserve the status code set by the user if an expression is thrown in a sync route
    not ok 68 - child test left in queue: t.test should trigger error handlers if a sync route throws any non-error object
    not ok 69 - child test left in queue: t.test should trigger error handlers if a sync route throws undefined
    not ok 70 - child test left in queue: t.test setting content-type on reply object should not hang the server case 1
    not ok 71 - child test left in queue: t.test setting content-type on reply object should not hang the server case 2
    not ok 72 - child test left in queue: t.test setting content-type on reply object should not hang the server case 3
    not ok 73 - child test left in queue: t.test pipe stream inside error handler should not cause error
    1..50
    # test count(73) != plan(50)
    # failed 47 of 73 tests
    # time=959.05ms
not ok 84 - test/reply-error.test.js # time=959.05ms
  ---
  env: {}
  file: test/reply-error.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/reply-error.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify
  failures:
    - &a1
      id: 51
      name: "child test left in queue: t.test should set the status code and the
        headers from the error object (from route handler) (no custom error
        handler)"
      fullname: test/reply-error.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 50
    - &a2
      id: 52
      name: "child test left in queue: t.test should set the status code and the
        headers from the error object (from custom error handler)"
      fullname: test/reply-error.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 50
    - &a3
      id: 53
      name: "child test left in queue: t.test '*' should throw an error due to
        serializer can not handle the payload type"
      fullname: test/reply-error.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 50
    - &a4
      id: 54
      name: "child test left in queue: t.test should throw an error if the custom
        serializer does not serialize the payload to a valid type"
      fullname: test/reply-error.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 50
    - &a5
      id: 55
      name: "child test left in queue: t.test should not set headers or status code
        for custom error handler"
      fullname: test/reply-error.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 50
    - &a6
      id: 56
      name: "child test left in queue: t.test error thrown by custom error handler
        routes to default error handler"
      fullname: test/reply-error.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 50
    - &a7
      id: 57
      name: "child test left in queue: t.test should throw error if error code is
        undefined"
      fullname: test/reply-error.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 50
    - &a8
      id: 58
      name: "child test left in queue: t.test should throw error if error code is null"
      fullname: test/reply-error.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 50
    - &a9
      id: 59
      name: "child test left in queue: t.test should throw error if error code is
        error_code"
      fullname: test/reply-error.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 50
    - &a10
      id: 60
      name: "child test left in queue: t.test should throw error if error code is 0"
      fullname: test/reply-error.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 50
    - &a11
      id: 61
      name: "child test left in queue: t.test should throw error if error code is 1"
      fullname: test/reply-error.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 50
    - &a12
      id: 62
      name: "child test left in queue: t.test should throw error if error code is 99"
      fullname: test/reply-error.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 50
    - &a13
      id: 63
      name: "child test left in queue: t.test should throw error if error code is 600"
      fullname: test/reply-error.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 50
    - &a14
      id: 64
      name: "child test left in queue: t.test should throw error if error code is 700"
      fullname: test/reply-error.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 50
    - &a15
      id: 65
      name: "child test left in queue: t.test error handler is triggered when a string
        is thrown from sync handler"
      fullname: test/reply-error.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 50
    - &a16
      id: 66
      name: "child test left in queue: t.test status code should be set to 500 and
        return an error json payload if route handler throws any non Error object
        expression"
      fullname: test/reply-error.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 50
    - &a17
      id: 67
      name: "child test left in queue: t.test should preserve the status code set by
        the user if an expression is thrown in a sync route"
      fullname: test/reply-error.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 50
    - &a18
      id: 68
      name: "child test left in queue: t.test should trigger error handlers if a sync
        route throws any non-error object"
      fullname: test/reply-error.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 50
    - &a19
      id: 69
      name: "child test left in queue: t.test should trigger error handlers if a sync
        route throws undefined"
      fullname: test/reply-error.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 50
    - &a20
      id: 70
      name: "child test left in queue: t.test setting content-type on reply object
        should not hang the server case 1"
      fullname: test/reply-error.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 50
    - &a21
      id: 71
      name: "child test left in queue: t.test setting content-type on reply object
        should not hang the server case 2"
      fullname: test/reply-error.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 50
    - &a22
      id: 72
      name: "child test left in queue: t.test setting content-type on reply object
        should not hang the server case 3"
      fullname: test/reply-error.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 50
    - &a23
      id: 73
      name: "child test left in queue: t.test pipe stream inside error handler should
        not cause error"
      fullname: test/reply-error.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 50
    - *a1
    - *a2
    - *a3
    - *a4
    - *a5
    - *a6
    - *a7
    - *a8
    - *a9
    - *a10
    - *a11
    - *a12
    - *a13
    - *a14
    - *a15
    - *a16
    - *a17
    - *a18
    - *a19
    - *a20
    - *a21
    - *a22
    - *a23
  exitCode: 1
  ...

# Subtest: test/reply-trailers.test.js
    # Subtest: send trailers when payload is empty string
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not contain all provided fields
    ok 1 - send trailers when payload is empty string # time=86.252ms
    
    # Subtest: send trailers when payload is empty buffer
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not contain all provided fields
    ok 2 - send trailers when payload is empty buffer # time=10.895ms
    
    # Subtest: send trailers when payload is undefined
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not contain all provided fields
    ok 3 - send trailers when payload is undefined # time=25.007ms
    
    # Subtest: send trailers when payload is json
        1..7
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not contain all provided fields
    ok 4 - send trailers when payload is json # time=13.17ms
    
    # Subtest: send trailers when payload is stream
        1..7
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not contain all provided fields
    ok 5 - send trailers when payload is stream # time=11.157ms
    
    # Subtest: removeTrailer
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect falsey value
        ok 6 - should not contain all provided fields
    ok 6 - removeTrailer # time=10.261ms
    
    # Subtest: hasTrailer
        1..10
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - expect falsey value
        ok 10 - should not contain all provided fields
    ok 7 - hasTrailer # time=7.718ms
    
    # Subtest: throw error when trailer header name is not allowed
        1..14
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should not error
        ok 14 - should be equal
    ok 8 - throw error when trailer header name is not allowed # time=9.193ms
    
    # Subtest: throw error when trailer header value is not function
        1..10
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should not error
        ok 10 - should be equal
    ok 9 - throw error when trailer header value is not function # time=9.06ms
    
    1..9
    # time=195.95ms
ok 85 - test/reply-trailers.test.js # time=195.95ms

# Subtest: test/request-error.test.js
    # Subtest: default 400 on request error
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - default 400 on request error # time=84.311ms
    
    # Subtest: default 400 on request error with custom error handler
        1..6
        ok 1 - type is object
        ok 2 - type is Request
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 2 - default 400 on request error with custom error handler # time=13.442ms
    
    # Subtest: default clientError handler ignores ECONNRESET
        1..3
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should not match pattern provided
    ok 3 - default clientError handler ignores ECONNRESET # time=46.224ms
    
    # Subtest: default clientError handler ignores sockets in destroyed state
        1..1
        ok 1 - (unnamed test)
    ok 4 - default clientError handler ignores sockets in destroyed state # time=1.611ms
    
    # Subtest: default clientError handler destroys sockets in writable state
        1..2
        ok 1 - should match pattern provided
        ok 2 - destroy should be called
    ok 5 - default clientError handler destroys sockets in writable state # time=2.538ms
    
    # Subtest: default clientError handler destroys http sockets in non-writable state
        1..1
        ok 1 - destroy should be called
    ok 6 - default clientError handler destroys http sockets in non-writable state # time=1.406ms
    
    # Subtest: error handler binding
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 7 - error handler binding # time=15.991ms
    
    # Subtest: encapsulated error handler binding
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should be equal
    ok 8 - encapsulated error handler binding # time=23.62ms
    
    # Subtest: default clientError replies with bad request on reused keep-alive connection
        1..2
        ok 1 - should not error
        ok 2 - should match pattern provided
    ok 9 - default clientError replies with bad request on reused keep-alive connection # time=24.674ms
    
    1..9
    # time=234.889ms
ok 86 - test/request-error.test.js # time=234.889ms

# Subtest: test/requestTimeout.test.js
    # Subtest: requestTimeout passed to server
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 1 - requestTimeout passed to server # time=32.747ms
    
    # Subtest: requestTimeout should be set
        1..1
        ok 1 - should be equivalent
    ok 2 - requestTimeout should be set # time=4.503ms
    
    # Subtest: requestTimeout should 0
        1..1
        ok 1 - should be equivalent
    ok 3 - requestTimeout should 0 # time=2.166ms
    
    1..3
    # time=55.886ms
ok 87 - test/requestTimeout.test.js # time=55.886ms

# Subtest: test/route-hooks.test.js
    # Subtest: preHandler
        1..3
        ok 1 - hook called
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 1 - preHandler # time=192.324ms
    
    # Subtest: preHandler option should be called after preHandler hook
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
    ok 2 - preHandler option should be called after preHandler hook # time=9.318ms
    
    # Subtest: preHandler option could accept an array of functions
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
    ok 3 - preHandler option could accept an array of functions # time=19.693ms
    
    # Subtest: preHandler option does not interfere with preHandler hook
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 4 - preHandler option does not interfere with preHandler hook # time=9.19ms
    
    # Subtest: onSend
        1..3
        ok 1 - hook called
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 5 - onSend # time=7.908ms
    
    # Subtest: onSend option should be called after onSend hook
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
    ok 6 - onSend option should be called after onSend hook # time=8.756ms
    
    # Subtest: onSend option could accept an array of functions
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
    ok 7 - onSend option could accept an array of functions # time=5.304ms
    
    # Subtest: onSend option does not interfere with onSend hook
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 8 - onSend option does not interfere with onSend hook # time=7.947ms
    
    # Subtest: onRequest
        1..3
        ok 1 - hook called
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 9 - onRequest # time=10.234ms
    
    # Subtest: onRequest option should be called after onRequest hook
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
    ok 10 - onRequest option should be called after onRequest hook # time=7.626ms
    
    # Subtest: onRequest option could accept an array of functions
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
    ok 11 - onRequest option could accept an array of functions # time=5.284ms
    
    # Subtest: onRequest option does not interfere with onRequest hook
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 12 - onRequest option does not interfere with onRequest hook # time=9.701ms
    
    # Subtest: onResponse
        1..3
        ok 1 - hook called
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 13 - onResponse # time=5.781ms
    
    # Subtest: onResponse option should be called after onResponse hook
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
    ok 14 - onResponse option should be called after onResponse hook # time=6.243ms
    
    # Subtest: onResponse option could accept an array of functions
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
    ok 15 - onResponse option could accept an array of functions # time=5.355ms
    
    # Subtest: onResponse option does not interfere with onResponse hook
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 16 - onResponse option does not interfere with onResponse hook # time=15.219ms
    
    # Subtest: preValidation
        1..3
        ok 1 - hook called
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 17 - preValidation # time=6.977ms
    
    # Subtest: preValidation option should be called after preValidation hook
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
    ok 18 - preValidation option should be called after preValidation hook # time=18.745ms
    
    # Subtest: preValidation option could accept an array of functions
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
    ok 19 - preValidation option could accept an array of functions # time=5.211ms
    
    # Subtest: preValidation option does not interfere with preValidation hook
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 20 - preValidation option does not interfere with preValidation hook # time=8.809ms
    
    # Subtest: preParsing
        1..3
        ok 1 - hook called
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 21 - preParsing # time=5.573ms
    
    # Subtest: preParsing option should be called after preParsing hook
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
    ok 22 - preParsing option should be called after preParsing hook # time=4.733ms
    
    # Subtest: preParsing option could accept an array of functions
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
    ok 23 - preParsing option could accept an array of functions # time=4.058ms
    
    # Subtest: preParsing option does not interfere with preParsing hook
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 24 - preParsing option does not interfere with preParsing hook # time=5.105ms
    
    # Subtest: preHandler option should be unique per route
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 25 - preHandler option should be unique per route # time=6.044ms
    
    # Subtest: preHandler option should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 26 - preHandler option should handle errors # time=20.832ms
    
    # Subtest: preHandler option should handle throwing objects
        1..4
        ok 1 - the error object throws by the user
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 27 - preHandler option should handle throwing objects # time=6.281ms
    
    # Subtest: preHandler option should handle throwing objects by default
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 28 - preHandler option should handle throwing objects by default # time=21.762ms
    
    # Subtest: preHandler option should handle errors with custom status code
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 29 - preHandler option should handle errors with custom status code # time=9.457ms
    
    # Subtest: preHandler option should keep the context
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 30 - preHandler option should keep the context # time=4.864ms
    
    # Subtest: preHandler option should keep the context (array)
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 31 - preHandler option should keep the context (array) # time=4.018ms
    
    # Subtest: onRequest option should be unique per route
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 32 - onRequest option should be unique per route # time=4.845ms
    
    # Subtest: onRequest option should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 33 - onRequest option should handle errors # time=5.504ms
    
    # Subtest: onRequest option should handle throwing objects
        1..4
        ok 1 - the error object throws by the user
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 34 - onRequest option should handle throwing objects # time=3.677ms
    
    # Subtest: onRequest option should handle throwing objects by default
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 35 - onRequest option should handle throwing objects by default # time=3.298ms
    
    # Subtest: onRequest option should handle errors with custom status code
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 36 - onRequest option should handle errors with custom status code # time=3.398ms
    
    # Subtest: onRequest option should keep the context
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 37 - onRequest option should keep the context # time=3.716ms
    
    # Subtest: onRequest option should keep the context (array)
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 38 - onRequest option should keep the context (array) # time=3.906ms
    
    # Subtest: preValidation option should be unique per route
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 39 - preValidation option should be unique per route # time=4.621ms
    
    # Subtest: preValidation option should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 40 - preValidation option should handle errors # time=3.615ms
    
    # Subtest: preValidation option should handle throwing objects
        1..4
        ok 1 - the error object throws by the user
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 41 - preValidation option should handle throwing objects # time=4.356ms
    
    # Subtest: preValidation option should handle throwing objects by default
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 42 - preValidation option should handle throwing objects by default # time=3.751ms
    
    # Subtest: preValidation option should handle errors with custom status code
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 43 - preValidation option should handle errors with custom status code # time=4.071ms
    
    # Subtest: preValidation option should keep the context
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 44 - preValidation option should keep the context # time=3.609ms
    
    # Subtest: preValidation option should keep the context (array)
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 45 - preValidation option should keep the context (array) # time=3.57ms
    
    # Subtest: preParsing option should be unique per route
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 46 - preParsing option should be unique per route # time=5.529ms
    
    # Subtest: preParsing option should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 47 - preParsing option should handle errors # time=11.756ms
    
    # Subtest: preParsing option should handle throwing objects
        1..4
        ok 1 - the error object throws by the user
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 48 - preParsing option should handle throwing objects # time=4.561ms
    
    # Subtest: preParsing option should handle throwing objects by default
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 49 - preParsing option should handle throwing objects by default # time=4.061ms
    
    # Subtest: preParsing option should handle errors with custom status code
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 50 - preParsing option should handle errors with custom status code # time=3.746ms
    
    # Subtest: preParsing option should keep the context
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 51 - preParsing option should keep the context # time=21.551ms
    
    # Subtest: preParsing option should keep the context (array)
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 52 - preParsing option should keep the context (array) # time=3.945ms
    
    # Subtest: preValidation option should be called before preHandler hook
        1..3
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 53 - preValidation option should be called before preHandler hook # time=3.873ms
    
    # Subtest: preSerialization option should be able to modify the payload
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 54 - preSerialization option should be able to modify the payload # time=3.738ms
    
    # Subtest: preParsing option should be called before preValidation hook
        1..3
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 55 - preParsing option should be called before preValidation hook # time=3.733ms
    
    # Subtest: preParsing option should be able to modify the payload
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 56 - preParsing option should be able to modify the payload # time=4.065ms
    
    # Subtest: onRequest option should be called before preParsing
        1..3
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 57 - onRequest option should be called before preParsing # time=3.838ms
    
    # Subtest: onTimeout on route
        1..4
        ok 1 - should not error
        ok 2 - onTimeout called
        ok 3 - type is Error
        ok 4 - should be equal
    ok 58 - onTimeout on route # time=521.431ms
    
    # Subtest: onError on route
        1..3
        ok 1 - should match pattern provided
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 59 - onError on route # time=6.087ms
    
    1..59
    # time=1144.926ms
ok 88 - test/route-hooks.test.js # time=1144.926ms

# Subtest: test/route-prefix.test.js
    # Subtest: Prefix options should add a prefix for all the routes inside a register / 1
        1..6
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
    ok 1 - Prefix options should add a prefix for all the routes inside a register / 1 # time=78.842ms
    
    # Subtest: Prefix options should add a prefix for all the routes inside a register / 2
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 2 - Prefix options should add a prefix for all the routes inside a register / 2 # time=8.394ms
    
    # Subtest: Prefix options should add a prefix for all the chained routes inside a register / 3
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 3 - Prefix options should add a prefix for all the chained routes inside a register / 3 # time=9.45ms
    
    # Subtest: Prefix should support parameters as well
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 4 - Prefix should support parameters as well # time=6.648ms
    
    # Subtest: Prefix should support /
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 5 - Prefix should support / # time=6.893ms
    
    # Subtest: Prefix without /
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 6 - Prefix without / # time=5.28ms
    
    # Subtest: Prefix with trailing /
        1..6
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
    ok 7 - Prefix with trailing / # time=10.686ms
    
    # Subtest: Prefix works multiple levels deep
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 8 - Prefix works multiple levels deep # time=5.788ms
    
    # Subtest: Different register - encapsulation check
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 9 - Different register - encapsulation check # time=12.673ms
    
    # Subtest: Can retrieve prefix within encapsulated instances
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 10 - Can retrieve prefix within encapsulated instances # time=18.161ms
    
    # Subtest: matches both /prefix and /prefix/ with a / route
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 11 - matches both /prefix and /prefix/ with a / route # time=5.532ms
    
    # Subtest: prefix "/prefix/" does not match "/prefix" with a / route
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 12 - prefix "/prefix/" does not match "/prefix" with a / route # time=9.598ms
    
    # Subtest: matches both /prefix and /prefix/ with a / route - ignoreTrailingSlash: true
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 13 - matches both /prefix and /prefix/ with a / route - ignoreTrailingSlash: true # time=6.256ms
    
    # Subtest: matches both /prefix and /prefix/ with a / route - ignoreDuplicateSlashes: true
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 14 - matches both /prefix and /prefix/ with a / route - ignoreDuplicateSlashes: true # time=6.7ms
    
    # Subtest: matches both /prefix and /prefix/  with a / route - prefixTrailingSlash: "both", ignoreTrailingSlash: false
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 15 - matches both /prefix and /prefix/  with a / route - prefixTrailingSlash: "both", ignoreTrailingSlash: false # time=7.397ms
    
    # Subtest: matches both /prefix and /prefix/  with a / route - prefixTrailingSlash: "both", ignoreDuplicateSlashes: false
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 16 - matches both /prefix and /prefix/  with a / route - prefixTrailingSlash: "both", ignoreDuplicateSlashes: false # time=6.089ms
    
    # Subtest: matches both /prefix and /prefix/ with a / route - ignoreTrailingSlash: true, ignoreDuplicateSlashes: true
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 17 - matches both /prefix and /prefix/ with a / route - ignoreTrailingSlash: true, ignoreDuplicateSlashes: true # time=5.652ms
    
    # Subtest: matches both /prefix and /prefix/ with a / route - ignoreTrailingSlash: true, ignoreDuplicateSlashes: false
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 18 - matches both /prefix and /prefix/ with a / route - ignoreTrailingSlash: true, ignoreDuplicateSlashes: false # time=4.382ms
    
    # Subtest: returns 404 status code with /prefix/ and / route - prefixTrailingSlash: "both" (default), ignoreTrailingSlash: true
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 19 - returns 404 status code with /prefix/ and / route - prefixTrailingSlash: "both" (default), ignoreTrailingSlash: true # time=3.582ms
    
    # Subtest: matches both /prefix and /prefix/  with a / route - prefixTrailingSlash: "both", ignoreDuplicateSlashes: true
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 20 - matches both /prefix and /prefix/  with a / route - prefixTrailingSlash: "both", ignoreDuplicateSlashes: true # time=6.879ms
    
    # Subtest: matches both /prefix and /prefix/  with a / route - prefixTrailingSlash: "both", ignoreTrailingSlash: true, ignoreDuplicateSlashes: true
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 21 - matches both /prefix and /prefix/  with a / route - prefixTrailingSlash: "both", ignoreTrailingSlash: true, ignoreDuplicateSlashes: true # time=4.977ms
    
    # Subtest: matches both /prefix and /prefix/  with a / route - prefixTrailingSlash: "both", ignoreDuplicateSlashes: true
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 22 - matches both /prefix and /prefix/  with a / route - prefixTrailingSlash: "both", ignoreDuplicateSlashes: true # time=4.78ms
    
    # Subtest: matches only /prefix  with a / route - prefixTrailingSlash: "no-slash", ignoreTrailingSlash: false
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equal
    ok 23 - matches only /prefix  with a / route - prefixTrailingSlash: "no-slash", ignoreTrailingSlash: false # time=5.984ms
    
    # Subtest: matches only /prefix  with a / route - prefixTrailingSlash: "no-slash", ignoreDuplicateSlashes: false
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equal
    ok 24 - matches only /prefix  with a / route - prefixTrailingSlash: "no-slash", ignoreDuplicateSlashes: false # time=6.848ms
    
    # Subtest: matches only /prefix/  with a / route - prefixTrailingSlash: "slash", ignoreTrailingSlash: false
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equal
    ok 25 - matches only /prefix/  with a / route - prefixTrailingSlash: "slash", ignoreTrailingSlash: false # time=5.068ms
    
    # Subtest: calls onRoute only once when prefixing
        1..1
        ok 1 - should be equivalent
    ok 26 - calls onRoute only once when prefixing # time=3.654ms
    
    1..26
    # time=269.87ms
ok 89 - test/route-prefix.test.js # time=269.87ms

./VariantsPureDep/fastify/variant1/fastify

> fastify@4.3.0 test
> npm run lint && npm run unit && npm run test:typescript


> fastify@4.3.0 lint
> npm run lint:standard && npm run lint:typescript && npm run lint:markdown


> fastify@4.3.0 lint:standard
> standard | snazzy

-----------------------------|---------|----------|---------|---------|-----------------------------
File                         | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s           
-----------------------------|---------|----------|---------|---------|-----------------------------
All files                    |   89.79 |    86.92 |   90.02 |   90.06 |                             
 fastify                     |   84.13 |    88.12 |   82.14 |   83.77 |                             
  fastify.js                 |   84.13 |    88.12 |   82.14 |   83.77 | ...,676-702,721-724,732-743 
 fastify/lib                 |    90.6 |    86.76 |   91.52 |   90.96 |                             
  contentTypeParser.js       |    96.7 |     98.3 |     100 |   96.47 | 213-217,264                 
  context.js                 |   80.55 |    86.66 |      50 |   82.85 | 70-78                       
  decorate.js                |   98.21 |    98.03 |     100 |   98.07 | 41                          
  error-handler.js           |   89.85 |     85.1 |     100 |   89.85 | 33-37,63,108-110,118        
  errors.js                  |     100 |      100 |     100 |     100 |                             
  fourOhFour.js              |     100 |      100 |     100 |     100 |                             
  handleRequest.js           |   87.87 |    88.23 |     100 |   92.06 | 77,92-97                    
  headRoute.js               |   93.33 |      100 |   66.66 |   92.85 | 11                          
  hooks.js                   |   98.34 |    96.55 |     100 |    98.3 | 190,235                     
  initialConfigValidation.js |     100 |      100 |     100 |     100 |                             
  logger.js                  |     100 |      100 |     100 |     100 |                             
  noop-set.js                |     100 |      100 |     100 |     100 |                             
  pluginOverride.js          |   97.56 |      100 |     100 |     100 |                             
  pluginUtils.js             |     100 |      100 |     100 |     100 |                             
  reply.js                   |   84.69 |     71.1 |   81.48 |   84.26 | ...,608,617-618,622-627,797 
  reqIdGenFactory.js         |     100 |      100 |     100 |     100 |                             
  request.js                 |   87.96 |    85.93 |      80 |   89.42 | 45-54,157-167,206,211       
  route.js                   |   90.55 |    92.39 |     100 |   90.86 | ...,461,465,498,515-516,530 
  schema-controller.js       |   89.74 |    73.52 |   84.61 |   89.74 | 23,58,71,111                
  schemas.js                 |   79.41 |    79.36 |   88.88 |   80.59 | 28,32,43,55,65,139-149      
  server.js                  |     100 |      100 |     100 |     100 |                             
  symbols.js                 |     100 |      100 |     100 |     100 |                             
  validation.js              |   53.62 |    51.72 |   55.55 |   56.25 | ...,69,90,94,98,102,108-118 
  warnings.js                |     100 |      100 |     100 |     100 |                             
  wrapThenable.js            |   66.66 |       60 |     100 |   66.66 | 11,27-28,33-34              
-----------------------------|---------|----------|---------|---------|-----------------------------

> fastify@4.3.0 lint:typescript
> eslint -c types/.eslintrc.json types/**/*.d.ts test/types/**/*.test-d.ts


> fastify@4.3.0 lint:markdown
> markdownlint-cli2

markdownlint-cli2 v0.4.0 (markdownlint v0.25.1)

> fastify@4.3.0 unit
> tap

TAP version 13
# Subtest: test/404s.test.js
    # Subtest: default 404
        1..4
        ok 1 - should not error
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - unsupported method # time=27.719ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - framework-unsupported method # time=5.692ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - unsupported route # time=4.892ms
        
    ok 1 - default 404 # time=193.977ms
    
    # Subtest: customized 404
        1..6
        ok 1 - should not error
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - unsupported method # time=9.28ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - framework-unsupported method # time=4.19ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - unsupported route # time=4.342ms
        
        # Subtest: with error object
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - with error object # time=9.748ms
        
        # Subtest: error object with headers property
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 6 - error object with headers property # time=5.796ms
        
    ok 2 - customized 404 # time=46.141ms
    
    # Subtest: custom header in notFound handler
        1..2
        ok 1 - should not error
        # Subtest: not found with custom header
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
        ok 2 - not found with custom header # time=13.491ms
        
    ok 3 - custom header in notFound handler # time=40.446ms
    
    # Subtest: setting a custom 404 handler multiple times is an error
        1..5
        # Subtest: at the root level
            1..2
            ok 1 - type is Error
            ok 2 - should be equal
        ok 1 - at the root level # time=2.9ms
        
        # Subtest: at the plugin level
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 2 - at the plugin level # time=22.609ms
        
        # Subtest: at multiple levels
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 3 - at multiple levels # time=6.905ms
        
        # Subtest: at multiple levels / 2
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 4 - at multiple levels / 2 # time=10.895ms
        
        # Subtest: in separate plugins at the same level
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 5 - in separate plugins at the same level # time=11.361ms
        
    ok 4 - setting a custom 404 handler multiple times is an error # time=65.235ms
    
    # Subtest: encapsulated 404
        1..13
        ok 1 - should not error
        # Subtest: root unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - root unsupported method # time=32.576ms
        
        # Subtest: root framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - root framework-unsupported method # time=4.87ms
        
        # Subtest: root unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - root unsupported route # time=4.408ms
        
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 5 - unsupported method # time=4.815ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 6 - framework-unsupported method # time=4.888ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 7 - unsupported route # time=4.429ms
        
        # Subtest: unsupported method 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 8 - unsupported method 2 # time=4.854ms
        
        # Subtest: framework-unsupported method 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 9 - framework-unsupported method 2 # time=4.284ms
        
        # Subtest: unsupported route 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 10 - unsupported route 2 # time=4.459ms
        
        # Subtest: unsupported method 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 11 - unsupported method 3 # time=4.771ms
        
        # Subtest: framework-unsupported method 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 12 - framework-unsupported method 3 # time=4.212ms
        
        # Subtest: unsupported route 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 13 - unsupported route 3 # time=4.28ms
        
    ok 5 - encapsulated 404 # time=139.261ms
    
    # Subtest: custom 404 hook and handler context
        1..21
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should not error
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equal
    ok 6 - custom 404 hook and handler context # time=68.93ms
    
    # Subtest: encapsulated custom 404 without - prefix hook and handler context
        1..13
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equal
    ok 7 - encapsulated custom 404 without - prefix hook and handler context # time=11.681ms
    
    # Subtest: run hooks on default 404
        1..7
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - preHandler called
        ok 4 - onSend called
        ok 5 - onResponse called
        ok 6 - should not error
        ok 7 - should be equal
    ok 8 - run hooks on default 404 # time=14.88ms
    
    # Subtest: run non-encapsulated plugin hooks on default 404
        1..6
        ok 1 - onRequest called
        ok 2 - preHandler called
        ok 3 - onSend called
        ok 4 - onResponse called
        ok 5 - should not error
        ok 6 - should be equal
    ok 9 - run non-encapsulated plugin hooks on default 404 # time=10.837ms
    
    # Subtest: run non-encapsulated plugin hooks on custom 404
        1..11
        ok 1 - onRequest called
        ok 2 - onRequest called
        ok 3 - preHandler called
        ok 4 - preHandler called
        ok 5 - onSend called
        ok 6 - onSend called
        ok 7 - onResponse called
        ok 8 - onResponse called
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
    ok 10 - run non-encapsulated plugin hooks on custom 404 # time=11.546ms
    
    # Subtest: run hook with encapsulated 404
        1..11
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - onRequest 2 called
        ok 4 - preHandler called
        ok 5 - preHandler 2 called
        ok 6 - onSend called
        ok 7 - onSend 2 called
        ok 8 - onResponse called
        ok 9 - onResponse 2 called
        ok 10 - should not error
        ok 11 - should be equal
    ok 11 - run hook with encapsulated 404 # time=43.426ms
    
    # Subtest: run hook with encapsulated 404 and framework-unsupported method
        1..11
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - onRequest 2 called
        ok 4 - preHandler called
        ok 5 - preHandler 2 called
        ok 6 - onSend called
        ok 7 - onSend 2 called
        ok 8 - onResponse called
        ok 9 - onResponse 2 called
        ok 10 - should not error
        ok 11 - should be equal
    ok 12 - run hook with encapsulated 404 and framework-unsupported method # time=27.232ms
    
    # Subtest: hooks check 404
        1..13
        ok 1 - should not error
        ok 2 - onRequest
        ok 3 - should be equivalent
        ok 4 - onSend
        ok 5 - onResponse
        ok 6 - onRequest
        ok 7 - should be equivalent
        ok 8 - onSend
        ok 9 - onResponse
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should not error
        ok 13 - should be equal
    ok 13 - hooks check 404 # time=47.39ms
    
    # Subtest: setNotFoundHandler should not suppress duplicated routes checking
        1..1
        ok 1 - expect truthy value
    ok 14 - setNotFoundHandler should not suppress duplicated routes checking # time=15.65ms
    
    # Subtest: log debug for 404
        1..1
        not ok 1 - (stringifiers[key] || wildcardStringifier || stringify) is not a function
          ---
          stack: |
            asChindings (node_modules/pino/lib/tools.js:201:70)
            pino (node_modules/pino/pino.js:140:19)
            createPinoLogger (lib/logger.js:42:14)
            createLogger (lib/logger.js:98:20)
            fastify (fastify.js:122:33)
            Test.<anonymous> (test/404s.test.js:1025:19)
          at:
            line: 201
            column: 70
            file: node_modules/pino/lib/tools.js
            function: asChindings
          type: TypeError
          tapCaught: testFunctionThrow
          test: log debug for 404
          source: >2
                  value = serializers[key] ? serializers[key](value) : value
                  value = (stringifiers[key] || wildcardStringifier || stringify)(value, stringifySafe)
            ---------------------------------------------------------------------^
                  if (value === undefined) continue
                  data += ',"' + key + '":' + value
          ...
        
        # failed 1 test
    not ok 15 - log debug for 404 # time=120.057ms
    
    # Subtest: Unknown method
        1..5
        ok 1 - should not error
        ok 2 - expected to throw
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent strictly
    ok 16 - Unknown method # time=11.425ms
    
    # Subtest: recognizes errors from the http-errors module
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent strictly
    ok 17 - recognizes errors from the http-errors module # time=38.787ms
    
    # Subtest: the default 404 handler can be invoked inside a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
    ok 18 - the default 404 handler can be invoked inside a prefixed plugin # time=12.996ms
    
    # Subtest: an inherited custom 404 handler can be invoked inside a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - an inherited custom 404 handler can be invoked inside a prefixed plugin # time=6.411ms
    
    # Subtest: encapsulated custom 404 handler without a prefix is the handler for the entire 404 level
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 20 - encapsulated custom 404 handler without a prefix is the handler for the entire 404 level # time=10.306ms
    
    # Subtest: cannot set notFoundHandler after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 21 - cannot set notFoundHandler after binding # time=4.211ms
    
    # Subtest: 404 inside onSend
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 22 - 404 inside onSend # time=6.647ms
    
    # Subtest: onSend hooks run when an encapsulated route invokes the notFound handler
        1..3
        ok 1 - onSend hook called
        ok 2 - should not error
        ok 3 - should be equal
    ok 23 - onSend hooks run when an encapsulated route invokes the notFound handler # time=5.839ms
    
    # Subtest: preHandler option for setNotFoundHandler
        1..10
        # Subtest: preHandler option
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 1 - preHandler option # time=38.127ms
        
        # Subtest: preHandler hook in setNotFoundHandler should be called when callNotFound
            1..3
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 2 - preHandler hook in setNotFoundHandler should be called when callNotFound # time=21.217ms
        
        # Subtest: preHandler hook in setNotFoundHandler should accept an array of functions and be called when callNotFound
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 3 - preHandler hook in setNotFoundHandler should accept an array of functions and be called when callNotFound # time=5.838ms
        
        # Subtest: preHandler option should be called after preHandler hook
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 4 - preHandler option should be called after preHandler hook # time=5.456ms
        
        # Subtest: preHandler option should be unique per prefix
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 5 - preHandler option should be unique per prefix # time=10.855ms
        
        # Subtest: preHandler option should handle errors
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 6 - preHandler option should handle errors # time=5.755ms
        
        # Subtest: preHandler option should handle errors with custom status code
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 7 - preHandler option should handle errors with custom status code # time=5.332ms
        
        # Subtest: preHandler option could accept an array of functions
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 8 - preHandler option could accept an array of functions # time=5.197ms
        
        # Subtest: preHandler option does not interfere with preHandler
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 9 - preHandler option does not interfere with preHandler # time=10.036ms
        
        # Subtest: preHandler option should keep the context
            1..3
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 10 - preHandler option should keep the context # time=5.427ms
        
    ok 24 - preHandler option for setNotFoundHandler # time=125.854ms
    
    # Subtest: reply.notFound invoked the notFound handler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - reply.notFound invoked the notFound handler # time=4.908ms
    
    # Subtest: The custom error handler should be invoked after the custom not found handler
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - type is Error
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 26 - The custom error handler should be invoked after the custom not found handler # time=5.952ms
    
    # Subtest: If the custom not found handler does not use an Error, the custom error handler should not be called
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 27 - If the custom not found handler does not use an Error, the custom error handler should not be called # time=4.557ms
    
    # Subtest: preValidation option
        1..3
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 28 - preValidation option # time=4.936ms
    
    # Subtest: preValidation option could accept an array of functions
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 29 - preValidation option could accept an array of functions # time=4.986ms
    
    # Subtest: Should fail to invoke callNotFound inside a 404 handler
        1..5
        not ok 1 - (unnamed test)
          ---
          at:
            line: 1776
            column: 7
            file: test/404s.test.js
            type: Test
          stack: |
            Test.<anonymous> (test/404s.test.js:1776:7)
            Parser.emit (node_modules/minipass/index.js:483:23)
            Parser.emitComplete (node_modules/tap-parser/index.js:618:12)
            Parser.end (node_modules/tap-parser/index.js:587:10)
            test/404s.test.js:1759:7
            node_modules/light-my-request/lib/response.js:27:28
          source: |2
              } catch (e) {
                t.fail()
            ------^
              }
          ...
        
        not ok 2 - Cannot read properties of null (reading 'setNotFoundHandler')
          ---
          stack: |
            Test.<anonymous> (test/404s.test.js:1779:11)
          at:
            line: 1779
            column: 11
            file: test/404s.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: Should fail to invoke callNotFound inside a 404 handler
          source: |2
          
              fastify.setNotFoundHandler((req, reply) => {
            ----------^
                reply.callNotFound()
              })
          ...
        
        # test count(2) != plan(5)
        # failed 2 of 2 tests
    not ok 30 - Should fail to invoke callNotFound inside a 404 handler # time=23.319ms
    
    # Subtest: 400 in case of bad url (pre find-my-way v2.2.0 was a 404)
        # Subtest: Dynamic route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 1 - Dynamic route # time=30.907ms
        
        # Subtest: Wildcard
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - Wildcard # time=8.525ms
        
        # Subtest: No route registered
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - No route registered # time=16.622ms
        
        # Subtest: Only / is registered
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - Only / is registered # time=12.843ms
        
        # Subtest: customized 404
            1..3
            not ok 1 - (stringifiers[key] || wildcardStringifier || stringify) is not a function
              ---
              stack: |
                asChindings (node_modules/pino/lib/tools.js:201:70)
                pino (node_modules/pino/pino.js:140:19)
                createPinoLogger (lib/logger.js:42:14)
                createLogger (lib/logger.js:98:20)
                fastify (fastify.js:122:33)
                Test.<anonymous> (test/404s.test.js:1876:21)
              at:
                line: 201
                column: 70
                file: node_modules/pino/lib/tools.js
                function: asChindings
              type: TypeError
              tapCaught: testFunctionThrow
              test: customized 404
              source: >2
                      value = serializers[key] ? serializers[key](value) : value
                      value = (stringifiers[key] || wildcardStringifier || stringify)(value, stringifySafe)
                ---------------------------------------------------------------------^
                      if (value === undefined) continue
                      data += ',"' + key + '":' + value
              ...
            
            # test count(1) != plan(3)
            # failed 1 test
        not ok 5 - customized 404 # time=33.204ms
        
        1..5
        # failed 1 of 5 tests
    not ok 31 - 400 in case of bad url (pre find-my-way v2.2.0 was a 404) # time=110.848ms
    
    # Subtest: setNotFoundHandler should be chaining fastify instance
        # Subtest: Register route after setNotFoundHandler
            1..6
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should not error
            ok 5 - should be equal
            ok 6 - should be equal
        ok 1 - Register route after setNotFoundHandler # time=6.964ms
        
        1..1
    ok 32 - setNotFoundHandler should be chaining fastify instance # time=12.345ms
    
    # Subtest: Send 404 when frameworkError calls reply.callNotFound
        # Subtest: Dynamic route
            1..4
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 1 - Dynamic route # time=5.438ms
        
        1..1
    ok 33 - Send 404 when frameworkError calls reply.callNotFound # time=10.329ms
    
    1..33
    # failed 3 of 33 tests
    # time=1293.295ms
not ok 1 - test/404s.test.js # time=1293.295ms
  ---
  env: {}
  file: test/404s.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/404s.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/500s.test.js
    # Subtest: default 500
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - default 500 # time=84.413ms
    
    # Subtest: custom 500
        1..6
        ok 1 - type is object
        ok 2 - type is Request
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 2 - custom 500 # time=13.53ms
    
    # Subtest: encapsulated 500
        1..10
        ok 1 - type is object
        ok 2 - type is Request
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 3 - encapsulated 500 # time=17.979ms
    
    # Subtest: custom 500 with hooks
        1..7
        ok 1 - onRequest
        ok 2 - onSend
        ok 3 - onResponse
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 4 - custom 500 with hooks # time=8.116ms
    
    # Subtest: cannot set errorHandler after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 5 - cannot set errorHandler after binding # time=17.081ms
    
    1..5
    # time=155.139ms
ok 2 - test/500s.test.js # time=155.139ms

# Subtest: test/allowUnsafeRegex.test.js
    # Subtest: allow unsafe regex
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - allow unsafe regex # time=70.85ms
    
    # Subtest: allow unsafe regex not match
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 2 - allow unsafe regex not match # time=11.842ms
    
    # Subtest: allow unsafe regex not safe
        1..1
        ok 1 - expected to throw
    ok 3 - allow unsafe regex not safe # time=90.214ms
    
    # Subtest: allow unsafe regex not safe by default
        1..1
        ok 1 - expected to throw
    ok 4 - allow unsafe regex not safe by default # time=2.978ms
    
    # Subtest: allow unsafe regex allow unsafe
        1..5
        ok 1 - expected to not throw
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 5 - allow unsafe regex allow unsafe # time=24.517ms
    
    1..5
    # time=238.721ms
ok 3 - test/allowUnsafeRegex.test.js # time=238.721ms

# Subtest: test/als.test.js
    ok 1 - should not error
    ok 2 - expect truthy value
    ok 3 - should not error
    ok 4 - should be equal
    ok 5 - should be equivalent
    ok 6 - expect truthy value
    ok 7 - should not error
    ok 8 - should be equal
    ok 9 - should be equivalent
    ok 10 - expect truthy value
    ok 11 - should not error
    ok 12 - should be equal
    ok 13 - should be equivalent
    1..13
    # time=44.57ms
ok 4 - test/als.test.js # time=44.57ms

# Subtest: test/async-await.test.js
    # Subtest: async await
        1..11
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 1 - async await # time=315.84ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (undefined)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 2 - ignore the result of the promise if reply.send is called beforehand (undefined) # time=12.989ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (object)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 3 - ignore the result of the promise if reply.send is called beforehand (object) # time=31.538ms
    
    # Subtest: server logs an error if reply.send is called and a value is returned via async/await
        1..5
        not ok 1 - (stringifiers[key] || wildcardStringifier || stringify) is not a function
          ---
          stack: |
            asChindings (node_modules/pino/lib/tools.js:201:70)
            pino (node_modules/pino/pino.js:140:19)
            Test.<anonymous> (test/async-await.test.js:135:18)
          at:
            line: 201
            column: 70
            file: node_modules/pino/lib/tools.js
            function: asChindings
          type: TypeError
          tapCaught: testFunctionThrow
          test: server logs an error if reply.send is called and a value is returned via
            async/await
          source: >2
                  value = serializers[key] ? serializers[key](value) : value
                  value = (stringifiers[key] || wildcardStringifier || stringify)(value, stringifySafe)
            ---------------------------------------------------------------------^
                  if (value === undefined) continue
                  data += ',"' + key + '":' + value
          ...
        
        # test count(1) != plan(5)
        # failed 1 test
    not ok 4 - server logs an error if reply.send is called and a value is returned via async/await # time=31.704ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (undefined)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 5 - ignore the result of the promise if reply.send is called beforehand (undefined) # time=17.694ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (object)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 6 - ignore the result of the promise if reply.send is called beforehand (object) # time=9.407ms
    
    # Subtest: await reply if we will be calling reply.send in the future
        1..4
        not ok 1 - (stringifiers[key] || wildcardStringifier || stringify) is not a function
          ---
          stack: |
            asChindings (node_modules/pino/lib/tools.js:201:70)
            pino (node_modules/pino/pino.js:140:19)
            createPinoLogger (lib/logger.js:42:14)
            createLogger (lib/logger.js:98:20)
            fastify (fastify.js:122:33)
            Test.<anonymous> (test/async-await.test.js:216:18)
          at:
            line: 201
            column: 70
            file: node_modules/pino/lib/tools.js
            function: asChindings
          type: TypeError
          tapCaught: testFunctionThrow
          test: await reply if we will be calling reply.send in the future
          source: >2
                  value = serializers[key] ? serializers[key](value) : value
                  value = (stringifiers[key] || wildcardStringifier || stringify)(value, stringifySafe)
            ---------------------------------------------------------------------^
                  if (value === undefined) continue
                  data += ',"' + key + '":' + value
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 7 - await reply if we will be calling reply.send in the future # time=71.85ms
    
    # Subtest: await reply if we will be calling reply.send in the future (error case)
        1..5
        not ok 1 - (stringifiers[key] || wildcardStringifier || stringify) is not a function
          ---
          stack: |
            asChindings (node_modules/pino/lib/tools.js:201:70)
            pino (node_modules/pino/pino.js:140:19)
            createPinoLogger (lib/logger.js:42:14)
            createLogger (lib/logger.js:98:20)
            fastify (fastify.js:122:33)
            Test.<anonymous> (test/async-await.test.js:250:18)
          at:
            line: 201
            column: 70
            file: node_modules/pino/lib/tools.js
            function: asChindings
          type: TypeError
          tapCaught: testFunctionThrow
          test: await reply if we will be calling reply.send in the future (error case)
          source: >2
                  value = serializers[key] ? serializers[key](value) : value
                  value = (stringifiers[key] || wildcardStringifier || stringify)(value, stringifySafe)
            ---------------------------------------------------------------------^
                  if (value === undefined) continue
                  data += ',"' + key + '":' + value
          ...
        
        # test count(1) != plan(5)
        # failed 1 test
    not ok 8 - await reply if we will be calling reply.send in the future (error case) # time=7.179ms
    
    # Subtest: support reply decorators with await
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 9 - support reply decorators with await # time=58.635ms
    
    # Subtest: inject async await
        1..1
        ok 1 - should be equivalent
    ok 10 - inject async await # time=6.959ms
    
    # Subtest: inject async await - when the server equal up
        1..2
        ok 1 - should be equivalent
        ok 2 - should be equivalent
    ok 11 - inject async await - when the server equal up # time=208.365ms
    
    # Subtest: async await plugin
        1..1
        ok 1 - should be equivalent
    ok 12 - async await plugin # time=221.969ms
    
    # Subtest: does not call reply.send() twice if 204 response equal already sent
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - does not call reply.send() twice if 204 response equal already sent # time=6.523ms
    
    # Subtest: promise was fulfilled with undefined
        1..4
        not ok 1 - (unnamed test)
          ---
          at:
            line: 399
            column: 7
            file: test/async-await.test.js
            type: Test
          stack: |
            Test.<anonymous> (test/async-await.test.js:399:7)
            Parser.emit (node_modules/minipass/index.js:483:23)
            Parser.emitComplete (node_modules/tap-parser/index.js:618:12)
            Parser.end (node_modules/tap-parser/index.js:587:10)
            test/async-await.test.js:382:7
            node_modules/light-my-request/lib/response.js:27:28
          source: |2
              } catch (e) {
                t.fail()
            ------^
              }
          ...
        
        not ok 2 - Cannot read properties of null (reading 'close')
          ---
          stack: |
            Test.<anonymous> (test/async-await.test.js:402:22)
          at:
            line: 402
            column: 22
            file: test/async-await.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: promise was fulfilled with undefined
          source: |2
          
              t.teardown(fastify.close.bind(fastify))
            ---------------------^
          
              fastify.get('/', async (req, reply) => {
          ...
        
        # test count(2) != plan(4)
        # failed 2 of 2 tests
    not ok 14 - promise was fulfilled with undefined # time=20.684ms
    
    # Subtest: error is not logged because promise was fulfilled with undefined but response was sent before promise resolution
        1..4
        not ok 1 - (unnamed test)
          ---
          at:
            line: 440
            column: 7
            file: test/async-await.test.js
            type: Test
          stack: |
            Test.<anonymous> (test/async-await.test.js:440:7)
            Parser.emit (node_modules/minipass/index.js:483:23)
            Parser.emitComplete (node_modules/tap-parser/index.js:618:12)
            Parser.end (node_modules/tap-parser/index.js:587:10)
            test/async-await.test.js:382:7
            node_modules/light-my-request/lib/response.js:27:28
          source: |2
              } catch (e) {
                t.fail()
            ------^
              }
          ...
        
        not ok 2 - Cannot read properties of null (reading 'close')
          ---
          stack: |
            Test.<anonymous> (test/async-await.test.js:443:22)
          at:
            line: 443
            column: 22
            file: test/async-await.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: error is not logged because promise was fulfilled with undefined but
            response was sent before promise resolution
          source: |2
          
              t.teardown(fastify.close.bind(fastify))
            ---------------------^
          
              fastify.get('/', async (req, reply) => {
          ...
        
        # test count(2) != plan(4)
        # failed 2 of 2 tests
    not ok 15 - error is not logged because promise was fulfilled with undefined but response was sent before promise resolution # time=19.379ms
    
    # Subtest: Thrown Error instance sets HTTP status code
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - Thrown Error instance sets HTTP status code # time=9.682ms
    
    # Subtest: customErrorHandler support
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 17 - customErrorHandler support # time=21.866ms
    
    # Subtest: customErrorHandler support without throwing
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - customErrorHandler support without throwing # time=7.077ms
    
    # Subtest: customErrorHandler only called if reply not already sent
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - customErrorHandler only called if reply not already sent # time=9.277ms
    
    # Subtest: setNotFoundHandler should accept return value
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - setNotFoundHandler should accept return value # time=6.604ms
    
    # Subtest: customErrorHandler should accept return value
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 21 - customErrorHandler should accept return value # time=6.724ms
    
    # Subtest: await self
        ok 1 - should be equal
        1..1
    ok 22 - await self # time=3.33ms
    
    1..22
    # failed 5 of 22 tests
    # time=1134.52ms
not ok 5 - test/async-await.test.js # time=1134.52ms
  ---
  env: {}
  file: test/async-await.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/async-await.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/bodyLimit.test.js
    # Subtest: bodyLimit
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should not error
        ok 5 - should be equal
    ok 1 - bodyLimit # time=39.427ms
    
    1..1
    # time=44.113ms
ok 6 - test/bodyLimit.test.js # time=44.113ms

# Subtest: test/build/error-serializer.test.js
    # Subtest: check generated code syntax
        1..1
        ok 1 - should be equal
    ok 1 - check generated code syntax # time=3853.653ms
    
    ok 2 - ensure the current error serializer is latest # SKIP
    1..2
    # skip: 1
    # time=3904.731ms
ok 7 - test/build/error-serializer.test.js # time=3904.731ms

# Subtest: test/build/version.test.js
    # Subtest: should be the same as package.json
        1..1
        ok 1 - should be equal
    ok 1 - should be the same as package.json # time=6.203ms
    
    1..1
    # time=11.731ms
ok 8 - test/build/version.test.js # time=11.731ms

# Subtest: test/case-insensitive.test.js
    # Subtest: case insensitive
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - case insensitive # time=67.486ms
    
    # Subtest: case insensitive inject
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - case insensitive inject # time=34.137ms
    
    # Subtest: case insensitive (parametric)
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 3 - case insensitive (parametric) # time=10.901ms
    
    # Subtest: case insensitive (wildcard)
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 4 - case insensitive (wildcard) # time=23.983ms
    
    1..4
    # time=157.25ms
ok 9 - test/case-insensitive.test.js # time=157.25ms

# Subtest: test/chainable.test.js
    # Subtest: chainable - get
        1..1
        ok 1 - type is [object Object]
    ok 1 - chainable - get # time=10.355ms
    
    # Subtest: chainable - post
        1..1
        ok 1 - type is [object Object]
    ok 2 - chainable - post # time=2.754ms
    
    # Subtest: chainable - route
        1..1
        ok 1 - type is [object Object]
    ok 3 - chainable - route # time=2.507ms
    
    1..3
    # time=28.396ms
ok 10 - test/chainable.test.js # time=28.396ms

# Subtest: test/close-pipelining.test.js
    # Subtest: Should return 503 while closing - pipelining
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        1..3
    ok 1 - Should return 503 while closing - pipelining # time=129.885ms
    
    # Subtest: Should not return 503 while closing - pipelining - return503OnClosing
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        1..3
    ok 2 - Should not return 503 while closing - pipelining - return503OnClosing # time=31.182ms
    
    1..2
    # time=172.985ms
ok 11 - test/close-pipelining.test.js # time=172.985ms

# Subtest: test/close.test.js
    # Subtest: close callback
        1..4
        ok 1 - should not error
        ok 2 - type is [object Object]
        ok 3 - should not error
        ok 4 - expect truthy value
    ok 1 - close callback # time=104.358ms
    
    # Subtest: inside register
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - expect truthy value
    ok 2 - inside register # time=25.681ms
    
    # Subtest: close order
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 3 - close order # time=18.872ms
    
    # Subtest: close order - async
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 4 - close order - async # time=15.001ms
    
    # Subtest: should not throw an error if the server is not listening
        1..2
        ok 1 - type is [object Object]
        ok 2 - should not error
    ok 5 - should not throw an error if the server is not listening # time=11.219ms
    
    # Subtest: onClose should keep the context
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
    ok 6 - onClose should keep the context # time=6.35ms
    
    # Subtest: Should return error while closing (promise) - injection
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 7 - Should return error while closing (promise) - injection # time=55.738ms
    
    # Subtest: Should return error while closing (callback) - injection
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 8 - Should return error while closing (callback) - injection # time=110.362ms
    
    # Subtest: Current opened connection should continue to work after closing and return "connection: close" header - return503OnClosing: false
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        1..5
    ok 9 - Current opened connection should continue to work after closing and return "connection: close" header - return503OnClosing: false # time=31.703ms
    
    # Subtest: Current opened connection should not accept new incoming connections
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 10 - Current opened connection should not accept new incoming connections # time=273.543ms
    
    # Subtest: Cannot be reopened the closed server without listen callback
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 11 - Cannot be reopened the closed server without listen callback # time=8.687ms
    
    # Subtest: Cannot be reopened the closed server has listen callback
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 12 - Cannot be reopened the closed server has listen callback # time=4.604ms
    
    ok 13 - shutsdown while keep-alive connections are active (non-async, native) # SKIP
    ok 14 - shutsdown while keep-alive connections are active (non-async, idle, native) # SKIP
    # Subtest: shutsdown while keep-alive connections are active (non-async, custom)
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 15 - shutsdown while keep-alive connections are active (non-async, custom) # time=9.194ms
    
    1..15
    # skip: 2
    # time=709.276ms
ok 12 - test/close.test.js # time=709.276ms

# Subtest: test/connectionTimeout.test.js
    # Subtest: connectionTimeout
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 1 - connectionTimeout # time=45.05ms
    
    1..1
    # time=50.28ms
ok 13 - test/connectionTimeout.test.js # time=50.28ms

# Subtest: test/constrained-routes.test.js
    # Subtest: Should register a host constrained route
        1..7
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 1 - Should register a host constrained route # time=99.612ms
    
    # Subtest: Should register the same route with host constraints
        1..8
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 2 - Should register the same route with host constraints # time=13.355ms
    
    # Subtest: Should allow registering custom constrained routes
        1..8
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 3 - Should allow registering custom constrained routes # time=34.786ms
    
    # Subtest: Should allow registering custom constrained routes outside constructor
        1..8
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 4 - Should allow registering custom constrained routes outside constructor # time=19.264ms
    
    # Subtest: Add a constraint strategy after fastify instance was started
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - Cannot add constraint strategy when fastify instance is already started!
    ok 5 - Add a constraint strategy after fastify instance was started # time=7.124ms
    
    # Subtest: Add a constraint strategy should throw an error if there already exist custom strategy with the same name
        1..1
        ok 1 - There already exists a custom constraint with the name secret.
    ok 6 - Add a constraint strategy should throw an error if there already exist custom strategy with the same name # time=2.041ms
    
    # Subtest: Add a constraint strategy shouldn't throw an error if default constraint with the same name isn't used
        1..1
        ok 1 - (unnamed test)
    ok 7 - Add a constraint strategy shouldn't throw an error if default constraint with the same name isn't used # time=1.718ms
    
    # Subtest: Add a constraint strategy should throw an error if default constraint with the same name is used
        1..1
        ok 1 - There already exists a route with version constraint.
    ok 8 - Add a constraint strategy should throw an error if default constraint with the same name is used # time=2.699ms
    
    # Subtest: The hasConstraintStrategy should return false for default constraints until they are used
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 9 - The hasConstraintStrategy should return false for default constraints until they are used # time=5.461ms
    
    # Subtest: The hasConstraintStrategy should return true if there already exist a custom constraint with the same name
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 10 - The hasConstraintStrategy should return true if there already exist a custom constraint with the same name # time=2.987ms
    
    # Subtest: Should allow registering an unconstrained route after a constrained route
        1..6
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
    ok 11 - Should allow registering an unconstrained route after a constrained route # time=10.255ms
    
    # Subtest: Should allow registering constrained routes in a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 12 - Should allow registering constrained routes in a prefixed plugin # time=28.133ms
    
    # Subtest: Should allow registering a constrained GET route after a constrained HEAD route
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 13 - Should allow registering a constrained GET route after a constrained HEAD route # time=13.743ms
    
    # Subtest: Should allow registering a constrained GET route after an unconstrained HEAD route
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 14 - Should allow registering a constrained GET route after an unconstrained HEAD route # time=12.845ms
    
    # Subtest: Will not try to re-createprefixed HEAD route if it already exists and exposeHeadRoutes is true for constrained routes
        1..1
        ok 1 - expect truthy value
    ok 15 - Will not try to re-createprefixed HEAD route if it already exists and exposeHeadRoutes is true for constrained routes # time=7.603ms
    
    # Subtest: allows separate constrained and unconstrained HEAD routes
        1..1
        ok 1 - expect truthy value
    ok 16 - allows separate constrained and unconstrained HEAD routes # time=5.35ms
    
    1..16
    # time=291.645ms
ok 14 - test/constrained-routes.test.js # time=291.645ms

# Subtest: test/content-length.test.js
    # Subtest: default 413 with bodyLimit option
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - default 413 with bodyLimit option # time=73.865ms
    
    # Subtest: default 400 with wrong content-length
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - default 400 with wrong content-length # time=11.407ms
    
    # Subtest: custom 413 with bodyLimit option
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 3 - custom 413 with bodyLimit option # time=18.476ms
    
    # Subtest: custom 400 with wrong content-length
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 4 - custom 400 with wrong content-length # time=14.822ms
    
    # Subtest: \#2214 - wrong content-length
        ok 1 - should be equal
        1..1
    ok 5 - \#2214 - wrong content-length # time=7.95ms
    
    # Subtest: \#2543 - wrong content-length with errorHandler
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 6 - \#2543 - wrong content-length with errorHandler # time=6.121ms
    
    1..6
    # time=139.672ms
ok 15 - test/content-length.test.js # time=139.672ms

# Subtest: test/content-parser.test.js
    # Subtest: hasContentTypeParser
        1..0
    ok 1 - hasContentTypeParser # time=11.478ms
    
    # Subtest: should know about internal parsers
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
    ok 2 - should know about internal parsers # time=38.02ms
    
    # Subtest: should work with string and RegExp
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect falsey value
    ok 3 - should work with string and RegExp # time=4.357ms
    
    # Subtest: getParser
        1..0
    ok 4 - getParser # time=92.343ms
    
    # Subtest: existingParser
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect falsey value
        1..7
    ok 5 - existingParser # time=14.119ms
    
    # Subtest: add
        1..0
    ok 6 - add # time=10.802ms
    
    # Subtest: non-Error thrown from content parser is properly handled
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 7 - non-Error thrown from content parser is properly handled # time=44.074ms
    
    # Subtest: Error thrown 415 from content type is null and make post request to server
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 8 - Error thrown 415 from content type is null and make post request to server # time=20.147ms
    
    # Subtest: remove
        1..0
    ok 9 - remove # time=22.572ms
    
    # Subtest: remove all should remove all existing parsers and reset cache
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
    ok 10 - remove all should remove all existing parsers and reset cache # time=5.033ms
    
    # Subtest: should return matching parser
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 11 - should return matching parser # time=2.31ms
    
    # Subtest: should return matching parser with caching
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 12 - should return matching parser with caching # time=2.226ms
    
    # Subtest: should prefer content type parser with string value
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 13 - should prefer content type parser with string value # time=2.166ms
    
    # Subtest: should return parser that catches all if no other is set
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 14 - should return parser that catches all if no other is set # time=2.619ms
    
    # Subtest: should return undefined if no matching parser exist
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 15 - should return undefined if no matching parser exist # time=2.136ms
    
    # Subtest: returns always false for "*"
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 16 - returns always false for "*" # time=1.505ms
    
    # Subtest: let you override the default parser once
        1..2
        ok 1 - Content type parser 'application/json' already present
        ok 2 - Content type parser 'text/plain' already present
    ok 17 - let you override the default parser once # time=4.681ms
    
    # Subtest: should only accept string and RegExp
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - The content type should be a string or a RegExp
        ok 4 - The content type should be a string or a RegExp
    ok 18 - should only accept string and RegExp # time=3.304ms
    
    # Subtest: should set "*" as parser that catches all
        1..1
        ok 1 - should be equal
    ok 19 - should set "*" as parser that catches all # time=1.231ms
    
    # Subtest: should remove default parser
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 20 - should remove default parser # time=1.433ms
    
    # Subtest: should remove RegExp parser
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 21 - should remove RegExp parser # time=1.412ms
    
    # Subtest: should throw an error if content type is neither string nor RegExp
        1..1
        ok 1 - expected to throw
    ok 22 - should throw an error if content type is neither string nor RegExp # time=1.663ms
    
    # Subtest: should not throw error if content type does not exist
        1..1
        ok 1 - expected to not throw
    ok 23 - should not throw error if content type does not exist # time=1.361ms
    
    # Subtest: should not remove any content type parser if content type does not exist
        1..1
        ok 1 - should be equivalent
    ok 24 - should not remove any content type parser if content type does not exist # time=1.803ms
    
    1..24
    # time=310.219ms
ok 16 - test/content-parser.test.js # time=310.219ms

# Subtest: test/context-config.test.js
    # Subtest: config
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 1 - config # time=85.26ms
    
    # Subtest: config with exposeHeadRoutes
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 2 - config with exposeHeadRoutes # time=13.586ms
    
    # Subtest: config without exposeHeadRoutes
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 3 - config without exposeHeadRoutes # time=26.517ms
    
    1..3
    # time=140.279ms
ok 17 - test/context-config.test.js # time=140.279ms

# Subtest: test/custom-http-server.test.js
    # Subtest: Should support a custom http server
        1..4
        ok 1 - it is called twice for every HOST interface
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - Should support a custom http server # time=65.855ms
    
    # Subtest: Should not allow forceCloseConnection=idle if the server does not support closeIdleConnections
        1..1
        ok 1 - Cannot set forceCloseConnections to 'idle' as your HTTP server does not support closeIdleConnections method
    ok 2 - Should not allow forceCloseConnection=idle if the server does not support closeIdleConnections # time=4.145ms
    
    1..2
    # time=81.348ms
ok 18 - test/custom-http-server.test.js # time=81.348ms

# Subtest: test/custom-parser-async.test.js
    # Subtest: contentTypeParser should add a custom async parser
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=31.219ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=7.363ms
        
    ok 1 - contentTypeParser should add a custom async parser # time=101.551ms
    
    1..1
    # time=106.455ms
ok 19 - test/custom-parser-async.test.js # time=106.455ms

# Subtest: test/custom-parser.test.js
    # Subtest: contentTypeParser method should exist
        1..1
        ok 1 - expect truthy value
    ok 1 - contentTypeParser method should exist # time=15.836ms
    
    # Subtest: contentTypeParser should add a custom parser
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=27.908ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=15.336ms
        
    ok 2 - contentTypeParser should add a custom parser # time=188.632ms
    
    # Subtest: contentTypeParser should handle multiple custom parsers
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 3 - contentTypeParser should handle multiple custom parsers # time=14.33ms
    
    # Subtest: contentTypeParser should handle an array of custom contentTypes
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 4 - contentTypeParser should handle an array of custom contentTypes # time=39.072ms
    
    # Subtest: contentTypeParser should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 5 - contentTypeParser should handle errors # time=12.556ms
    
    # Subtest: contentTypeParser should support encapsulation
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - expect falsey value
        ok 6 - expect falsey value
    ok 6 - contentTypeParser should support encapsulation # time=8.723ms
    
    # Subtest: contentTypeParser should support encapsulation, second try
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - contentTypeParser should support encapsulation, second try # time=30.672ms
    
    # Subtest: contentTypeParser shouldn't support request with undefined "Content-Type"
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 8 - contentTypeParser shouldn't support request with undefined "Content-Type" # time=14.253ms
    
    # Subtest: the content type should be a string or RegExp
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 9 - the content type should be a string or RegExp # time=2.52ms
    
    # Subtest: the content type cannot be an empty string
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 10 - the content type cannot be an empty string # time=2.788ms
    
    # Subtest: the content type handler should be a function
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 11 - the content type handler should be a function # time=2.344ms
    
    # Subtest: catch all content type parser
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 12 - catch all content type parser # time=34.028ms
    
    # Subtest: catch all content type parser should not interfere with other conte type parsers
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 13 - catch all content type parser should not interfere with other conte type parsers # time=11.821ms
    
    # Subtest: '*' catch undefined Content-Type requests
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - '*' catch undefined Content-Type requests # time=11.675ms
    
    # Subtest: cannot add custom parser after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 15 - cannot add custom parser after binding # time=4.516ms
    
    # Subtest: Can override the default json parser
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 16 - Can override the default json parser # time=11.168ms
    
    # Subtest: Can override the default plain text parser
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 17 - Can override the default plain text parser # time=9.159ms
    
    # Subtest: Can override the default json parser in a plugin
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 18 - Can override the default json parser in a plugin # time=9.005ms
    
    # Subtest: Can't override the json parser multiple times
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 19 - Can't override the json parser multiple times # time=1.453ms
    
    # Subtest: Can't override the plain text parser multiple times
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 20 - Can't override the plain text parser multiple times # time=1.839ms
    
    # Subtest: Should get the body as string
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 21 - Should get the body as string # time=10.434ms
    
    # Subtest: Should return defined body with no custom parser defined and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 22 - Should return defined body with no custom parser defined and content type = 'text/plain' # time=15.615ms
    
    # Subtest: Should have typeof body object with no custom parser defined, no body defined and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 23 - Should have typeof body object with no custom parser defined, no body defined and content type = 'text/plain' # time=7.127ms
    
    # Subtest: Should have typeof body object with no custom parser defined, null body and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 24 - Should have typeof body object with no custom parser defined, null body and content type = 'text/plain' # time=7.797ms
    
    # Subtest: Should have typeof body object with no custom parser defined, undefined body and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 25 - Should have typeof body object with no custom parser defined, undefined body and content type = 'text/plain' # time=7.563ms
    
    # Subtest: Should get the body as string
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 26 - Should get the body as string # time=7.541ms
    
    # Subtest: Should get the body as buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 27 - Should get the body as buffer # time=8.356ms
    
    # Subtest: Should get the body as buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 28 - Should get the body as buffer # time=20.128ms
    
    # Subtest: Should parse empty bodies as a string
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 29 - Should parse empty bodies as a string # time=24.02ms
    
    # Subtest: Should parse empty bodies as a buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 30 - Should parse empty bodies as a buffer # time=9.578ms
    
    # Subtest: The charset should not interfere with the content type handling
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 31 - The charset should not interfere with the content type handling # time=10.423ms
    
    # Subtest: Wrong parseAs parameter
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 32 - Wrong parseAs parameter # time=1.606ms
    
    # Subtest: Should allow defining the bodyLimit per parser
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent strictly
    ok 33 - Should allow defining the bodyLimit per parser # time=8.764ms
    
    # Subtest: route bodyLimit should take precedence over a custom parser bodyLimit
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent strictly
    ok 34 - route bodyLimit should take precedence over a custom parser bodyLimit # time=6.856ms
    
    # Subtest: should be able to use default parser for extra content type
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent strictly
    ok 35 - should be able to use default parser for extra content type # time=7.057ms
    
    # Subtest: contentTypeParser should add a custom parser with RegExp value
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=4.833ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=3.577ms
        
    ok 36 - contentTypeParser should add a custom parser with RegExp value # time=14.978ms
    
    # Subtest: contentTypeParser should add multiple custom parsers with RegExp values
        1..6
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 37 - contentTypeParser should add multiple custom parsers with RegExp values # time=35.163ms
    
    # Subtest: catch all content type parser should not interfere with content type parser
        1..10
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 38 - catch all content type parser should not interfere with content type parser # time=14.104ms
    
    # Subtest: should prefer string content types over RegExp ones
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 39 - should prefer string content types over RegExp ones # time=21.436ms
    
    # Subtest: removeContentTypeParser should support arrays of content types to remove
        1..8
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 40 - removeContentTypeParser should support arrays of content types to remove # time=11.959ms
    
    # Subtest: removeContentTypeParser should support encapsulation
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 41 - removeContentTypeParser should support encapsulation # time=25.213ms
    
    # Subtest: removeAllContentTypeParsers should support encapsulation
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 42 - removeAllContentTypeParsers should support encapsulation # time=14.919ms
    
    # Subtest: cannot remove all content type parsers after binding
        1..2
        ok 1 - should not error
        ok 2 - expected to throw
    ok 43 - cannot remove all content type parsers after binding # time=4.161ms
    
    # Subtest: cannot remove content type parsers after binding
        1..2
        ok 1 - should not error
        ok 2 - expected to throw
    ok 44 - cannot remove content type parsers after binding # time=3.332ms
    
    # Subtest: should be able to override the default json parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 45 - should be able to override the default json parser after removeAllContentTypeParsers # time=6.238ms
    
    # Subtest: should be able to override the default plain text parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 46 - should be able to override the default plain text parser after removeAllContentTypeParsers # time=5.96ms
    
    # Subtest: should be able to add a custom content type parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 47 - should be able to add a custom content type parser after removeAllContentTypeParsers # time=6.368ms
    
    1..47
    # time=779.812ms
ok 20 - test/custom-parser.test.js # time=779.812ms

# Subtest: test/custom-querystring-parser.test.js
    # Subtest: Custom querystring parser
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 1 - Custom querystring parser # time=93.446ms
    
    # Subtest: Custom querystring parser should be called also if there is nothing to parse
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 2 - Custom querystring parser should be called also if there is nothing to parse # time=13.87ms
    
    # Subtest: Querystring without value
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 3 - Querystring without value # time=24.432ms
    
    # Subtest: Custom querystring parser should be a function
        1..1
        ok 1 - should be equal
    ok 4 - Custom querystring parser should be a function # time=1.055ms
    
    1..4
    # time=152.124ms
ok 21 - test/custom-querystring-parser.test.js # time=152.124ms

# Subtest: test/decorator.test.js
    # Subtest: server methods should exist
        1..2
        ok 1 - expect truthy value
        ok 2 - expect truthy value
    ok 1 - server methods should exist # time=15.271ms
    
    # Subtest: should check if the given decoration already exist when null
        1..1
        ok 1 - expect truthy value
    ok 2 - should check if the given decoration already exist when null # time=77.556ms
    
    # Subtest: server methods should be encapsulated via .register
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 3 - server methods should be encapsulated via .register # time=7.773ms
    
    # Subtest: hasServerMethod should check if the given method already exist
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 4 - hasServerMethod should check if the given method already exist # time=20.637ms
    
    # Subtest: decorate should throw if a declared dependency is not present
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - (unnamed test)
    ok 5 - decorate should throw if a declared dependency is not present # time=10.766ms
    
    # Subtest: decorate should throw if declared dependency is not array
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - (unnamed test)
    ok 6 - decorate should throw if declared dependency is not array # time=6.346ms
    
    # Subtest: should pass error for missing request decorator
        1..2
        ok 1 - type is Error
        ok 2 - should match pattern provided
    ok 7 - should pass error for missing request decorator # time=15.012ms
    
    # Subtest: decorateReply inside register
        1..11
        ok 1 - should not error
        ok 2 - test exists
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 8 - decorateReply inside register # time=105.061ms
    
    # Subtest: decorateReply as plugin (inside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 9 - decorateReply as plugin (inside .after) # time=46.125ms
    
    # Subtest: decorateReply as plugin (outside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 10 - decorateReply as plugin (outside .after) # time=16.259ms
    
    # Subtest: decorateRequest inside register
        1..11
        ok 1 - should not error
        ok 2 - test exists
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 11 - decorateRequest inside register # time=18.292ms
    
    # Subtest: decorateRequest as plugin (inside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 12 - decorateRequest as plugin (inside .after) # time=39.831ms
    
    # Subtest: decorateRequest as plugin (outside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 13 - decorateRequest as plugin (outside .after) # time=15.86ms
    
    # Subtest: decorators should be instance separated
        1..1
        ok 1 - (unnamed test)
    ok 14 - decorators should be instance separated # time=2.092ms
    
    # Subtest: hasRequestDecorator
        # Subtest: is a function
            1..1
            ok 1 - expect truthy value
        ok 1 - is a function # time=1.233ms
        
        # Subtest: should check if the given request decoration already exist
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 2 - should check if the given request decoration already exist # time=1.828ms
        
        # Subtest: should check if the given request decoration already exist when null
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 3 - should check if the given request decoration already exist when null # time=4.202ms
        
        # Subtest: should be plugin encapsulable
            1..4
            ok 1 - expect falsey value
            ok 2 - expect falsey value
            ok 3 - expect truthy value
            ok 4 - expect falsey value
        ok 4 - should be plugin encapsulable # time=28.633ms
        
        # Subtest: should be inherited
            1..2
            ok 1 - expect truthy value
            ok 2 - expect truthy value
        ok 5 - should be inherited # time=5.561ms
        
        1..5
    ok 15 - hasRequestDecorator # time=71.054ms
    
    # Subtest: hasReplyDecorator
        # Subtest: is a function
            1..1
            ok 1 - expect truthy value
        ok 1 - is a function # time=1.475ms
        
        # Subtest: should check if the given reply decoration already exist
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 2 - should check if the given reply decoration already exist # time=1.79ms
        
        # Subtest: should check if the given reply decoration already exist when null
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 3 - should check if the given reply decoration already exist when null # time=1.598ms
        
        # Subtest: should be plugin encapsulable
            1..4
            ok 1 - expect falsey value
            ok 2 - expect falsey value
            ok 3 - expect truthy value
            ok 4 - expect falsey value
        ok 4 - should be plugin encapsulable # time=10.277ms
        
        # Subtest: should be inherited
            1..2
            ok 1 - expect truthy value
            ok 2 - expect truthy value
        ok 5 - should be inherited # time=11.001ms
        
        1..5
    ok 16 - hasReplyDecorator # time=130.218ms
    
    # Subtest: should register properties via getter/setter objects
        1..3
        ok 1 - expect truthy value
        ok 2 - a getter
        ok 3 - expect falsey value
    ok 17 - should register properties via getter/setter objects # time=3.589ms
    
    # Subtest: decorateRequest should work with getter/setter
        1..5
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - (unnamed test)
    ok 18 - decorateRequest should work with getter/setter # time=41.465ms
    
    # Subtest: decorateReply should work with getter/setter
        1..5
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - (unnamed test)
    ok 19 - decorateReply should work with getter/setter # time=14.579ms
    
    # Subtest: should register empty values
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 20 - should register empty values # time=3.185ms
    
    # Subtest: nested plugins can override things
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 21 - nested plugins can override things # time=3.995ms
    
    # Subtest: a decorator should addSchema to all the encapsulated tree
        1..1
        ok 1 - should not error
    ok 22 - a decorator should addSchema to all the encapsulated tree # time=4.086ms
    
    # Subtest: after can access to a decorated instance and previous plugin decoration
        1..11
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
    ok 23 - after can access to a decorated instance and previous plugin decoration # time=10.249ms
    
    # Subtest: decorate* should throw if called after ready
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 24 - decorate* should throw if called after ready # time=23.468ms
    
    # Subtest: decorate* should emit warning if an array is passed
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 25 - decorate* should emit warning if an array is passed # time=27.873ms
    
    # Subtest: decorate* should emit warning if object type is passed
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 26 - decorate* should emit warning if object type is passed # time=23.048ms
    
    # Subtest: decorate* should not emit warning if object with getter/setter is passed
        1..0
    ok 27 - decorate* should not emit warning if object with getter/setter is passed # time=21.992ms
    
    # Subtest: decorate* should not emit warning if string,bool,numbers are passed
        1..0
    ok 28 - decorate* should not emit warning if string,bool,numbers are passed # time=22.623ms
    
    # Subtest: Request/reply decorators should be able to access the server instance
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not be equal
        ok 4 - should be equal
        ok 5 - should not be equal
        ok 6 - should be equal
    ok 29 - Request/reply decorators should be able to access the server instance # time=9.096ms
    
    # Subtest: plugin required decorators
        1..0
    ok 30 - plugin required decorators # time=3.881ms
    
    # Subtest: decorateRequest/decorateReply empty string
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 31 - decorateRequest/decorateReply empty string # time=8.726ms
    
    # Subtest: decorateRequest/decorateReply is undefined
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 32 - decorateRequest/decorateReply is undefined # time=8.225ms
    
    # Subtest: decorateRequest/decorateReply is not set to a value
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 33 - decorateRequest/decorateReply is not set to a value # time=8.618ms
    
    # Subtest: decorateRequest with dependencies
        1..2
        ok 1 - expected to not throw
        ok 2 - expect truthy value
    ok 34 - decorateRequest with dependencies # time=1.991ms
    
    # Subtest: decorateRequest with dependencies (functions)
        1..2
        ok 1 - expected to not throw
        ok 2 - expect truthy value
    ok 35 - decorateRequest with dependencies (functions) # time=1.671ms
    
    # Subtest: chain of decorators on Request
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        1..6
    ok 36 - chain of decorators on Request # time=16.694ms
    
    # Subtest: chain of decorators on Reply
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        1..6
    ok 37 - chain of decorators on Reply # time=15.071ms
    
    1..37
    # time=914.902ms
ok 22 - test/decorator.test.js # time=914.902ms

# Subtest: test/default-route.test.js
    # Subtest: should fail if defaultRoute is not a function
        1..1
        ok 1 - should be equal
    ok 1 - should fail if defaultRoute is not a function # time=22.231ms
    
    # Subtest: correctly sets, returns, and calls defaultRoute
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 2 - correctly sets, returns, and calls defaultRoute # time=40.862ms
    
    1..2
    # time=87.846ms
ok 23 - test/default-route.test.js # time=87.846ms

# Subtest: test/delete.test.js
    # Subtest: shorthand - delete
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - delete # time=9.607ms
    
    # Subtest: shorthand - delete params
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - delete params # time=2.447ms
    
    # Subtest: shorthand - delete, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - delete, querystring schema # time=1.49ms
    
    # Subtest: shorthand - get, headers schema
        1..1
        ok 1 - (unnamed test)
    ok 4 - shorthand - get, headers schema # time=1.799ms
    
    # Subtest: missing schema - delete
        1..1
        ok 1 - (unnamed test)
    ok 5 - missing schema - delete # time=1.729ms
    
    # Subtest: body - delete
        1..1
        ok 1 - (unnamed test)
    ok 6 - body - delete # time=1.442ms
    
    # Subtest: shorthand - delete with application/json Content-Type header and without body
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - shorthand - delete with application/json Content-Type header and without body # time=43.961ms
    
    ok 8 - should not error
    # Subtest: shorthand - request delete
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 9 - shorthand - request delete # time=39.457ms
    
    # Subtest: shorthand - request delete params schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 10 - shorthand - request delete params schema # time=6.943ms
    
    # Subtest: shorthand - request delete params schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 11 - shorthand - request delete params schema error # time=6.96ms
    
    # Subtest: shorthand - request delete headers schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 12 - shorthand - request delete headers schema # time=5.322ms
    
    # Subtest: shorthand - request delete headers schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 13 - shorthand - request delete headers schema error # time=5.091ms
    
    # Subtest: shorthand - request delete querystring schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 14 - shorthand - request delete querystring schema # time=4.859ms
    
    # Subtest: shorthand - request delete querystring schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 15 - shorthand - request delete querystring schema error # time=4.473ms
    
    # Subtest: shorthand - request delete missing schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 16 - shorthand - request delete missing schema # time=5.063ms
    
    # Subtest: shorthand - delete with body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - shorthand - delete with body # time=7.879ms
    
    1..17
    # time=299.681ms
ok 24 - test/delete.test.js # time=299.681ms

# Subtest: test/diagnostics-channel.test.js
    # Subtest: diagnostics_channel when present and subscribers
        1..3
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should be equal
    ok 1 - diagnostics_channel when present and subscribers # time=903.993ms
    
    # Subtest: diagnostics_channel when present and no subscribers
        1..1
        ok 1 - should be equal
    ok 2 - diagnostics_channel when present and no subscribers # time=17.927ms
    
    # Subtest: diagnostics_channel when not present
        1..1
        ok 1 - expected to not throw
    ok 3 - diagnostics_channel when not present # time=20.169ms
    
    1..3
    # time=955.781ms
ok 25 - test/diagnostics-channel.test.js # time=955.781ms

# Subtest: test/encapsulated-error-handler.test.js
    # Subtest: encapuslates an error handler
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 1 - encapuslates an error handler # time=65.761ms
    
    # Subtest: onError hook nested
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 2 - onError hook nested # time=11.01ms
    
    1..2
    # time=83.259ms
ok 26 - test/encapsulated-error-handler.test.js # time=83.259ms

# Subtest: test/esm/index.test.js
    # Subtest: named exports support
        ok 1 - should be equal
        1..1
    ok 1 - named exports support # time=34.699ms
    
    ok 2 - should be equal
    1..2
    # time=41.089ms
ok 27 - test/esm/index.test.js # time=41.089ms

# Subtest: test/fastify-instance.test.js
    # Subtest: root fastify instance is an object
        1..1
        ok 1 - type is object
    ok 1 - root fastify instance is an object # time=16.427ms
    
    # Subtest: fastify instance should contains ajv options
        1..1
        ok 1 - should be equivalent
    ok 2 - fastify instance should contains ajv options # time=7.08ms
    
    # Subtest: fastify instance should contains ajv options.plugins nested arrays
        1..1
        ok 1 - should be equivalent
    ok 3 - fastify instance should contains ajv options.plugins nested arrays # time=2.997ms
    
    # Subtest: fastify instance get invalid ajv options
        1..1
        ok 1 - expected to throw
    ok 4 - fastify instance get invalid ajv options # time=4.473ms
    
    # Subtest: fastify instance get invalid ajv options.plugins
        1..1
        ok 1 - expected to throw
    ok 5 - fastify instance get invalid ajv options.plugins # time=1.113ms
    
    # Subtest: fastify instance should contain default errorHandler
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 6 - fastify instance should contain default errorHandler # time=2.769ms
    
    # Subtest: errorHandler in plugin should be separate from the external one
        1..4
        ok 1 - should not be equivalent
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equivalent
    ok 7 - errorHandler in plugin should be separate from the external one # time=16.281ms
    
    1..7
    # time=78.748ms
ok 28 - test/fastify-instance.test.js # time=78.748ms

# Subtest: test/fluent-schema.test.js
    # Subtest: use fluent-json-schema object
        1..15
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equivalent
    ok 1 - use fluent-json-schema object # time=270.307ms
    
    # Subtest: use complex fluent-json-schema object
        1..1
        ok 1 - should not error
    ok 2 - use complex fluent-json-schema object # time=50.201ms
    
    # Subtest: use fluent schema and plain JSON schema
        1..1
        ok 1 - should not error
    ok 3 - use fluent schema and plain JSON schema # time=64.23ms
    
    # Subtest: Should call valueOf internally
        1..1
        ok 1 - should not error
    ok 4 - Should call valueOf internally # time=65.315ms
    
    1..4
    # time=458.016ms
ok 29 - test/fluent-schema.test.js # time=458.016ms

# Subtest: test/genReqId.test.js
    # Subtest: Should accept a custom genReqId function
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 1 - Should accept a custom genReqId function # time=66.068ms
    
    1..1
    # time=72.635ms
ok 30 - test/genReqId.test.js # time=72.635ms

# Subtest: test/get.test.js
    # Subtest: shorthand - get
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - get # time=9.44ms
    
    # Subtest: shorthand - get (return null)
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - get (return null) # time=2.105ms
    
    # Subtest: shorthand - get params
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - get params # time=2.341ms
    
    # Subtest: shorthand - get, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 4 - shorthand - get, querystring schema # time=1.947ms
    
    # Subtest: shorthand - get, headers schema
        1..1
        ok 1 - (unnamed test)
    ok 5 - shorthand - get, headers schema # time=1.889ms
    
    # Subtest: missing schema - get
        1..1
        ok 1 - (unnamed test)
    ok 6 - missing schema - get # time=1.546ms
    
    # Subtest: custom serializer - get
        1..1
        ok 1 - (unnamed test)
    ok 7 - custom serializer - get # time=2.258ms
    
    # Subtest: empty response
        1..1
        ok 1 - (unnamed test)
    ok 8 - empty response # time=1.716ms
    
    # Subtest: send a falsy boolean
        1..1
        ok 1 - (unnamed test)
    ok 9 - send a falsy boolean # time=1.684ms
    
    ok 10 - should not error
    # Subtest: shorthand - request get
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - shorthand - request get # time=46.167ms
    
    # Subtest: shorthand - request get params schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 12 - shorthand - request get params schema # time=6.723ms
    
    # Subtest: shorthand - request get params schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 13 - shorthand - request get params schema error # time=5.815ms
    
    # Subtest: shorthand - request get headers schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - shorthand - request get headers schema # time=4.734ms
    
    # Subtest: shorthand - request get headers schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 15 - shorthand - request get headers schema error # time=5.479ms
    
    # Subtest: shorthand - request get querystring schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 16 - shorthand - request get querystring schema # time=5.149ms
    
    # Subtest: shorthand - request get querystring schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - shorthand - request get querystring schema error # time=5.033ms
    
    # Subtest: shorthand - request get missing schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - shorthand - request get missing schema # time=4.824ms
    
    # Subtest: shorthand - custom serializer
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 19 - shorthand - custom serializer # time=5.819ms
    
    # Subtest: shorthand - empty response
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 20 - shorthand - empty response # time=4.746ms
    
    # Subtest: shorthand - send a falsy boolean
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - shorthand - send a falsy boolean # time=7.055ms
    
    # Subtest: shorthand - send null value
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - shorthand - send null value # time=4.956ms
    
    1..22
    # time=317.239ms
ok 31 - test/get.test.js # time=317.239ms

# Subtest: test/handler-context.test.js
    # Subtest: handlers receive correct `this` context
        1..4
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 1 - handlers receive correct `this` context # time=55.843ms
    
    # Subtest: handlers have access to the internal context
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - type is Object
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 2 - handlers have access to the internal context # time=18.386ms
    
    1..2
    # time=81.952ms
ok 32 - test/handler-context.test.js # time=81.952ms

# Subtest: test/head.test.js
    # Subtest: shorthand - head
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - head # time=9.044ms
    
    # Subtest: shorthand - head params
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - head params # time=2.296ms
    
    # Subtest: shorthand - head, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - head, querystring schema # time=1.39ms
    
    # Subtest: missing schema - head
        1..1
        ok 1 - (unnamed test)
    ok 4 - missing schema - head # time=1.3ms
    
    ok 5 - should not error
    # Subtest: shorthand - request head
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 6 - shorthand - request head # time=33.792ms
    
    # Subtest: shorthand - request head params schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 7 - shorthand - request head params schema # time=5.504ms
    
    # Subtest: shorthand - request head params schema error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 8 - shorthand - request head params schema error # time=5.554ms
    
    # Subtest: shorthand - request head querystring schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 9 - shorthand - request head querystring schema # time=4.297ms
    
    # Subtest: shorthand - request head querystring schema error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - shorthand - request head querystring schema error # time=4.165ms
    
    # Subtest: shorthand - request head missing schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 11 - shorthand - request head missing schema # time=3.637ms
    
    1..11
    # time=217.418ms
ok 33 - test/head.test.js # time=217.418ms

# Subtest: test/hooks-async.test.js
    # Subtest: async hooks
        1..21
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - should not error
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equivalent
        ok 16 - should not error
        ok 17 - should be equal
        ok 18 - should not error
        ok 19 - should be equal
        ok 20 - expect truthy value
        ok 21 - expect truthy value
    ok 1 - async hooks # time=154.956ms
    
    # Subtest: modify payload
        1..10
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - expect truthy value
        ok 4 - should be equivalent
        ok 5 - expect truthy value
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
    ok 2 - modify payload # time=45.296ms
    
    # Subtest: onRequest hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 3 - onRequest hooks should be able to block a request # time=41.137ms
    
    # Subtest: preParsing hooks should be able to modify the payload
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 4 - preParsing hooks should be able to modify the payload # time=10.025ms
    
    # Subtest: preParsing hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 5 - preParsing hooks should handle errors # time=6.789ms
    
    # Subtest: preHandler hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 6 - preHandler hooks should be able to block a request # time=25.945ms
    
    # Subtest: preValidation hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 7 - preValidation hooks should be able to block a request # time=11.318ms
    
    # Subtest: preValidation hooks should be able to change request body before validation
        1..4
        ok 1 - (unnamed test)
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - preValidation hooks should be able to change request body before validation # time=87.135ms
    
    # Subtest: preSerialization hooks should be able to modify the payload
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - preSerialization hooks should be able to modify the payload # time=20.459ms
    
    # Subtest: preSerialization hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - preSerialization hooks should handle errors # time=15.661ms
    
    # Subtest: preValidation hooks should handle throwing null
        1..4
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - preValidation hooks should handle throwing null # time=8.205ms
    
    # Subtest: preValidation hooks should handle throwing a string
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 12 - preValidation hooks should handle throwing a string # time=26.246ms
    
    # Subtest: onRequest hooks should be able to block a request (last hook)
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 13 - onRequest hooks should be able to block a request (last hook) # time=7.165ms
    
    # Subtest: preHandler hooks should be able to block a request (last hook)
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 14 - preHandler hooks should be able to block a request (last hook) # time=7.595ms
    
    # Subtest: onRequest respond with a stream
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - onRequest respond with a stream # time=11.181ms
    
    # Subtest: preHandler respond with a stream
        1..7
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 16 - preHandler respond with a stream # time=15.881ms
    
    # Subtest: Should log a warning if is an async function with `done`
        # Subtest: 3 arguments
            1..1
            ok 1 - expect truthy value
        ok 1 - 3 arguments # time=4.671ms
        
        # Subtest: 4 arguments
            1..3
            ok 1 - expect truthy value
            ok 2 - expect truthy value
            ok 3 - expect truthy value
        ok 2 - 4 arguments # time=2.736ms
        
        1..2
    ok 17 - Should log a warning if is an async function with `done` # time=18.321ms
    
    # Subtest: early termination, onRequest async
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 18 - early termination, onRequest async # time=6.152ms
    
    # Subtest: The this should be the same of the encapsulation level
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        1..4
    ok 19 - The this should be the same of the encapsulation level # time=13.012ms
    
    # Subtest: preSerializationEnd should handle errors if the serialize method throws
        # Subtest: works with sync preSerialization
            1..2
            ok 1 - should not error
            ok 2 - should not be equal
        ok 1 - works with sync preSerialization # time=38.045ms
        
        # Subtest: works with async preSerialization
            1..2
            ok 1 - should not error
            ok 2 - should not be equal
        ok 2 - works with async preSerialization # time=5.791ms
        
        1..2
    ok 20 - preSerializationEnd should handle errors if the serialize method throws # time=48.232ms
    
    1..20
    # time=599.789ms
ok 34 - test/hooks-async.test.js # time=599.789ms

# Subtest: test/hooks.on-ready.test.js
    # Subtest: onReady should be called in order
        1..7
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
        ok 7 - should not error
    ok 1 - onReady should be called in order # time=86.49ms
    
    # Subtest: async onReady should be called in order
        1..7
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
        ok 7 - ready
    ok 2 - async onReady should be called in order # time=11.106ms
    
    # Subtest: mix ready and onReady
        1..2
        ok 1 - should be equal
        ok 2 - ready hooks execute once
    ok 3 - mix ready and onReady # time=7.779ms
    
    # Subtest: listen and onReady order
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - trigger the onReady
        ok 9 - do not trigger the onReady
    ok 4 - listen and onReady order # time=28.099ms
    
    # Subtest: multiple ready calls
        1..11
        ok 1 - ready and hooks not triggered yet
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - trigger the onReady
        ok 10 - do not trigger the onReady
        ok 11 - do not trigger the onReady
    ok 5 - multiple ready calls # time=10.835ms
    
    # Subtest: onReady should manage error in sync
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 6 - onReady should manage error in sync # time=7.091ms
    
    # Subtest: onReady should manage error in async
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 7 - onReady should manage error in async # time=37.025ms
    
    # Subtest: onReady should manage sync error
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 8 - onReady should manage sync error # time=6.375ms
    
    # Subtest: onReady can not add decorators or application hooks
        1..3
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should not error
    ok 9 - onReady can not add decorators or application hooks # time=5.766ms
    
    # Subtest: onReady cannot add lifecycle hooks
        1..5
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 10 - onReady cannot add lifecycle hooks # time=10.142ms
    
    # Subtest: onReady throw loading error
        1..1
        ok 1 - expect truthy value
    ok 11 - onReady throw loading error # time=2.413ms
    
    # Subtest: onReady does not call done
        1..6
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
        ok 6 - should be equal
    ok 12 - onReady does not call done # time=516.354ms
    
    # Subtest: onReady execution order
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 13 - onReady execution order # time=4.666ms
    
    # Subtest: ready return the server with callback
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 14 - ready return the server with callback # time=15.162ms
    
    # Subtest: ready return the server with Promise
        1..1
        ok 1 - should be equivalent
    ok 15 - ready return the server with Promise # time=6.03ms
    
    # Subtest: ready return registered
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
    ok 16 - ready return registered # time=19.689ms
    
    1..16
    # time=790.884ms
ok 35 - test/hooks.on-ready.test.js # time=790.884ms

# Subtest: test/hooks.test.js
    # Subtest: hooks
        1..43
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - (unnamed test)
        ok 4 - (unnamed test)
        ok 5 - (unnamed test)
        ok 6 - (unnamed test)
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - expect truthy value
        ok 20 - expect truthy value
        ok 21 - expect truthy value
        ok 22 - expect truthy value
        ok 23 - should be equal
        ok 24 - should be equal
        ok 25 - should be equal
        ok 26 - should be equal
        ok 27 - should be equal
        ok 28 - should be equal
        ok 29 - should be equal
        ok 30 - should be equal
        ok 31 - should be equal
        ok 32 - expect truthy value
        ok 33 - expect truthy value
        ok 34 - expect truthy value
        ok 35 - expect truthy value
        ok 36 - should not error
        ok 37 - should be equal
        ok 38 - should be equal
        ok 39 - should be equivalent
        ok 40 - should not error
        ok 41 - should be equal
        ok 42 - should not error
        ok 43 - should be equal
    ok 1 - hooks # time=334.968ms
    
    # Subtest: onRequest hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 2 - onRequest hook should support encapsulation / 1 # time=45.702ms
    
    # Subtest: onRequest hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 3 - onRequest hook should support encapsulation / 2 # time=17.024ms
    
    # Subtest: onRequest hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 4 - onRequest hook should support encapsulation / 3 # time=26.588ms
    
    # Subtest: preHandler hook should support encapsulation / 5
        1..17
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equivalent
    ok 5 - preHandler hook should support encapsulation / 5 # time=16.631ms
    
    # Subtest: onRoute hook should be called / 1
        1..2
        ok 1 - (unnamed test)
        ok 2 - should not error
    ok 6 - onRoute hook should be called / 1 # time=5.12ms
    
    # Subtest: onRoute hook should be called / 2
        1..5
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 7 - onRoute hook should be called / 2 # time=15.661ms
    
    # Subtest: onRoute hook should be called / 3
        1..5
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - (unnamed test)
        ok 5 - should not error
    ok 8 - onRoute hook should be called / 3 # time=25.793ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 4
        1..4
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - (unnamed test)
        ok 4 - should not error
    ok 9 - onRoute hook should be called (encapsulation support) / 4 # time=9.079ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 5
        1..2
        ok 1 - (unnamed test)
        ok 2 - should not error
    ok 10 - onRoute hook should be called (encapsulation support) / 5 # time=20.887ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 6
        1..1
        ok 1 - should not error
    ok 11 - onRoute hook should be called (encapsulation support) / 6 # time=4.669ms
    
    # Subtest: onRoute should keep the context
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
    ok 12 - onRoute should keep the context # time=13.365ms
    
    # Subtest: onRoute hook should pass correct route
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should not error
    ok 13 - onRoute hook should pass correct route # time=6.686ms
    
    # Subtest: onRoute hook should pass correct route with custom prefix
        1..11
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
    ok 14 - onRoute hook should pass correct route with custom prefix # time=5.976ms
    
    # Subtest: onRoute hook should pass correct route with custom options
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - type is function
        ok 6 - should not error
    ok 15 - onRoute hook should pass correct route with custom options # time=5.735ms
    
    # Subtest: onRoute hook should receive any route option
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 16 - onRoute hook should receive any route option # time=23.589ms
    
    # Subtest: onRoute hook should preserve system route configuration
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 17 - onRoute hook should preserve system route configuration # time=17.235ms
    
    # Subtest: onRoute hook should preserve handler function in options of shorthand route system configuration
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 18 - onRoute hook should preserve handler function in options of shorthand route system configuration # time=4.298ms
    
    # Subtest: onRoute hook should be called once when prefixTrailingSlash
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 19 - onRoute hook should be called once when prefixTrailingSlash # time=5.576ms
    
    # Subtest: onRoute hook should able to change the route url
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 20 - onRoute hook should able to change the route url # time=28.575ms
    
    # Subtest: onRoute hook that throws should be caught
        1..1
        ok 1 - expect truthy value
    ok 21 - onRoute hook that throws should be caught # time=3.955ms
    
    # Subtest: onRoute hook with many prefix
        1..3
        ok 1 - should match pattern provided
        ok 2 - should match pattern provided
        ok 3 - should not error
    ok 22 - onRoute hook with many prefix # time=20.359ms
    
    # Subtest: onRoute hook should not be called when it registered after route
        1..3
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
    ok 23 - onRoute hook should not be called when it registered after route # time=12.02ms
    
    # Subtest: onResponse hook should log request error
        1..4
        not ok 1 - (unnamed test)
          ---
          at:
            line: 836
            column: 7
            file: test/hooks.test.js
            type: Test
          stack: |
            Test.<anonymous> (test/hooks.test.js:836:7)
            Parser.emit (node_modules/minipass/index.js:483:23)
            Parser.emitComplete (node_modules/tap-parser/index.js:618:12)
            Parser.end (node_modules/tap-parser/index.js:587:10)
            cb (test/hooks.test.js:819:7)
            cb (fastify.js:540:11)
            exit (lib/hooks.js:100:5)
            next (lib/hooks.js:111:9)
            hookRunnerApplication (lib/hooks.js:85:3)
            fastify.js:522:11
            Object._encapsulateThreeParam (node_modules/avvio/boot.js:557:7)
            Boot.timeoutCall (node_modules/avvio/boot.js:453:5)
            Boot.callWithCbOrNextTick (node_modules/avvio/boot.js:435:19)
            release (node_modules/fastq/queue.js:149:16)
            Object.resume (node_modules/fastq/queue.js:82:7)
            node_modules/avvio/boot.js:174:18
            node_modules/avvio/plugin.js:275:7
            done (node_modules/avvio/plugin.js:200:5)
            check (node_modules/avvio/plugin.js:224:9)
          source: |2
              } catch (e) {
                t.fail()
            ------^
              }
          ...
        
        not ok 2 - Cannot read properties of null (reading 'addHook')
          ---
          stack: |
            Test.<anonymous> (test/hooks.test.js:844:11)
          at:
            line: 844
            column: 11
            file: test/hooks.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: onResponse hook should log request error
          source: |2
          
              fastify.addHook('onResponse', (request, reply, done) => {
            ----------^
                done(new Error('kaboom'))
              })
          ...
        
        # test count(2) != plan(4)
        # failed 2 of 2 tests
    not ok 24 - onResponse hook should log request error # time=114.941ms
    
    # Subtest: onResponse hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 25 - onResponse hook should support encapsulation / 1 # time=7.519ms
    
    # Subtest: onResponse hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 26 - onResponse hook should support encapsulation / 2 # time=20.155ms
    
    # Subtest: onResponse hook should support encapsulation / 3
        1..16
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 27 - onResponse hook should support encapsulation / 3 # time=29.205ms
    
    # Subtest: onSend hook should support encapsulation / 1
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 28 - onSend hook should support encapsulation / 1 # time=3.766ms
    
    # Subtest: onSend hook should support encapsulation / 2
        1..16
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 29 - onSend hook should support encapsulation / 2 # time=13.516ms
    
    # Subtest: onSend hook is called after payload is serialized and headers are set
        1..30
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should be equal
        ok 15 - should not error
        ok 16 - should be equal
        ok 17 - should be equivalent
        ok 18 - should be equal
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equivalent
        ok 22 - should be equal
        ok 23 - should not error
        ok 24 - should be equal
        ok 25 - should be equivalent
        ok 26 - should be equal
        ok 27 - should not error
        ok 28 - should be equal
        ok 29 - should be equivalent
        ok 30 - should be equal
    ok 30 - onSend hook is called after payload is serialized and headers are set # time=22.656ms
    
    # Subtest: modify payload
        1..10
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - expect truthy value
        ok 4 - should be equivalent
        ok 5 - expect truthy value
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
    ok 31 - modify payload # time=6.183ms
    
    # Subtest: clear payload
        1..6
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 32 - clear payload # time=4.311ms
    
    # Subtest: onSend hook throws
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 33 - onSend hook throws # time=15.568ms
    
    # Subtest: onSend hook should receive valid request and reply objects if onRequest hook fails
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 34 - onSend hook should receive valid request and reply objects if onRequest hook fails # time=27.688ms
    
    # Subtest: onSend hook should receive valid request and reply objects if a custom content type parser fails
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 35 - onSend hook should receive valid request and reply objects if a custom content type parser fails # time=14.295ms
    
    # Subtest: Content-Length header should be updated if onSend hook modifies the payload
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 36 - Content-Length header should be updated if onSend hook modifies the payload # time=4.404ms
    
    # Subtest: cannot add hook after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 37 - cannot add hook after binding # time=20.021ms
    
    # Subtest: onRequest hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 38 - onRequest hooks should be able to block a request # time=4.839ms
    
    # Subtest: preValidation hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 39 - preValidation hooks should be able to block a request # time=4.545ms
    
    # Subtest: preValidation hooks should be able to change request body before validation
        1..4
        ok 1 - (unnamed test)
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 40 - preValidation hooks should be able to change request body before validation # time=74.847ms
    
    # Subtest: preParsing hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 41 - preParsing hooks should be able to block a request # time=4.614ms
    
    # Subtest: preHandler hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 42 - preHandler hooks should be able to block a request # time=4.319ms
    
    # Subtest: onRequest hooks should be able to block a request (last hook)
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 43 - onRequest hooks should be able to block a request (last hook) # time=4.244ms
    
    # Subtest: preHandler hooks should be able to block a request (last hook)
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 44 - preHandler hooks should be able to block a request (last hook) # time=11.882ms
    
    # Subtest: preParsing hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 45 - preParsing hooks should handle errors # time=4.309ms
    
    # Subtest: onRequest respond with a stream
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 46 - onRequest respond with a stream # time=15.512ms
    
    # Subtest: preHandler respond with a stream
        1..7
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 47 - preHandler respond with a stream # time=6.032ms
    
    # Subtest: Register an hook after a plugin inside a plugin
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 48 - Register an hook after a plugin inside a plugin # time=6.82ms
    
    # Subtest: Register an hook after a plugin inside a plugin (with preHandler option)
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 49 - Register an hook after a plugin inside a plugin (with preHandler option) # time=6.924ms
    
    # Subtest: Register hooks inside a plugin after an encapsulated plugin
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 50 - Register hooks inside a plugin after an encapsulated plugin # time=6.57ms
    
    # Subtest: onRequest hooks should run in the order in which they are defined
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 51 - onRequest hooks should run in the order in which they are defined # time=7.596ms
    
    # Subtest: preHandler hooks should run in the order in which they are defined
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 52 - preHandler hooks should run in the order in which they are defined # time=7.945ms
    
    # Subtest: onSend hooks should run in the order in which they are defined
        1..8
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equivalent
    ok 53 - onSend hooks should run in the order in which they are defined # time=7.865ms
    
    # Subtest: onResponse hooks should run in the order in which they are defined
        1..8
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equivalent
    ok 54 - onResponse hooks should run in the order in which they are defined # time=7.92ms
    
    # Subtest: onRequest, preHandler, and onResponse hooks that resolve to a value do not cause an error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 55 - onRequest, preHandler, and onResponse hooks that resolve to a value do not cause an error # time=4.862ms
    
    # Subtest: If a response header has been set inside an hook it shoulod not be overwritten by the final response handler
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 56 - If a response header has been set inside an hook it shoulod not be overwritten by the final response handler # time=3.858ms
    
    # Subtest: If the content type has been set inside an hook it should not be changed
        1..5
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 57 - If the content type has been set inside an hook it should not be changed # time=3.707ms
    
    # Subtest: request in onRequest, preParsing, preValidation and onResponse
        1..18
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equivalent
        ok 10 - should be equivalent
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equivalent
        ok 14 - should be equivalent
        ok 15 - should be equivalent
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
    ok 58 - request in onRequest, preParsing, preValidation and onResponse # time=12.422ms
    
    # Subtest: preValidation hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 59 - preValidation hook should support encapsulation / 1 # time=16.171ms
    
    # Subtest: preValidation hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 60 - preValidation hook should support encapsulation / 2 # time=3.559ms
    
    # Subtest: preValidation hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 61 - preValidation hook should support encapsulation / 3 # time=13.053ms
    
    # Subtest: onError hook
        1..3
        ok 1 - should match pattern provided
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 62 - onError hook # time=13.204ms
    
    # Subtest: reply.send should throw if called inside the onError hook
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 63 - reply.send should throw if called inside the onError hook # time=9.401ms
    
    # Subtest: onError hook with setErrorHandler
        # Subtest: Send error
            1..3
            ok 1 - should match pattern provided
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 1 - Send error # time=5.629ms
        
        1..1
    ok 64 - onError hook with setErrorHandler # time=10.202ms
    
    # Subtest: preParsing hook should run before parsing and be able to modify the payload
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 65 - preParsing hook should run before parsing and be able to modify the payload # time=7.985ms
    
    # Subtest: preParsing hooks should run in the order in which they are defined
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 66 - preParsing hooks should run in the order in which they are defined # time=9.475ms
    
    # Subtest: preParsing hooks should support encapsulation
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 67 - preParsing hooks should support encapsulation # time=9ms
    
    # Subtest: preParsing hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 68 - preParsing hook should support encapsulation / 1 # time=5.828ms
    
    # Subtest: preParsing hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 69 - preParsing hook should support encapsulation / 2 # time=3.259ms
    
    # Subtest: preParsing hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 70 - preParsing hook should support encapsulation / 3 # time=12.883ms
    
    # Subtest: preSerialization hook should run before serialization and be able to modify the payload
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 71 - preSerialization hook should run before serialization and be able to modify the payload # time=14.571ms
    
    # Subtest: preSerialization hook should be able to throw errors which are validated against schema response
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        1..6
    ok 72 - preSerialization hook should be able to throw errors which are validated against schema response # time=45.952ms
    
    # Subtest: preSerialization hook which returned error should still run onError hooks
        1..4
        ok 1 - should not error
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - should be equal
    ok 73 - preSerialization hook which returned error should still run onError hooks # time=23.875ms
    
    # Subtest: preSerialization hooks should run in the order in which they are defined
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 74 - preSerialization hooks should run in the order in which they are defined # time=7.552ms
    
    # Subtest: preSerialization hooks should support encapsulation
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 75 - preSerialization hooks should support encapsulation # time=17.443ms
    
    # Subtest: onRegister hook should be called / 1
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should not error
    ok 76 - onRegister hook should be called / 1 # time=3.839ms
    
    # Subtest: onRegister hook should be called / 2
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
    ok 77 - onRegister hook should be called / 2 # time=5.302ms
    
    # Subtest: onRegister hook should be called / 3
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
    ok 78 - onRegister hook should be called / 3 # time=5.496ms
    
    # Subtest: onRegister hook should be called (encapsulation)
        1..1
        ok 1 - should not error
    ok 79 - onRegister hook should be called (encapsulation) # time=2.195ms
    
    # Subtest: early termination, onRequest
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 80 - early termination, onRequest # time=4.225ms
    
    # Subtest: reply.send should throw if undefined error is thrown
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 81 - reply.send should throw if undefined error is thrown # time=5.275ms
    
    # Subtest: reply.send should throw if undefined error is thrown at preParsing hook
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 82 - reply.send should throw if undefined error is thrown at preParsing hook # time=4.469ms
    
    # Subtest: reply.send should throw if undefined error is thrown at onSend hook
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 83 - reply.send should throw if undefined error is thrown at onSend hook # time=6.347ms
    
    # Subtest: onTimeout should be triggered
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - onTimeout
        ok 5 - type is Error
        ok 6 - should be equal
    ok 84 - onTimeout should be triggered # time=513.692ms
    
    # Subtest: onTimeout should be triggered and socket _meta is set
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - onTimeout
        ok 5 - type is Error
        ok 6 - should be equal
    ok 85 - onTimeout should be triggered and socket _meta is set # time=508.608ms
    
    1..85
    # failed 1 of 85 tests
    # time=2533.185ms
not ok 36 - test/hooks.test.js # time=2533.185ms
  ---
  env: {}
  file: test/hooks.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/hooks.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/http2/closing.test.js
    # Subtest: http/2 request while fastify closing
        ok 1 - http2 successfully loaded
        ok 2 - should not error
        # Subtest: return 200
            ok 1 - should be equal
            1..1
        ok 3 - return 200 # time=11.766ms
        
        1..3
    ok 1 - http/2 request while fastify closing # time=60.322ms
    
    # Subtest: http/2 request while fastify closing - return503OnClosing: false
        ok 1 - http2 successfully loaded
        ok 2 - should not error
        # Subtest: return 200
            ok 1 - should be equal
            1..1
        ok 3 - return 200 # time=4.599ms
        
        1..3
    ok 2 - http/2 request while fastify closing - return503OnClosing: false # time=12.932ms
    
    # Subtest: http/2 closes successfully with async await
        1..0
    ok 3 - http/2 closes successfully with async await # time=109.398ms
    
    # Subtest: https/2 closes successfully with async await
        1..0
    ok 4 - https/2 closes successfully with async await # time=12.396ms
    
    # Subtest: http/2 server side session emits a timeout event
        ok 1 - should be equal
        1..1
    ok 5 - http/2 server side session emits a timeout event # time=108.101ms
    
    1..5
    # time=330.628ms
ok 37 - test/http2/closing.test.js # time=330.628ms

# Subtest: test/http2/constraint.test.js
    # Subtest: A route supports host constraints under http2 protocol and secure connection
        1..5
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request - no constrain
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - https get request - no constrain # time=40.3ms
        
        # Subtest: https get request - constrain
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - https get request - constrain # time=13.292ms
        
        # Subtest: https get request - constrain - not found
            1..1
            ok 1 - should be equal
        ok 5 - https get request - constrain - not found # time=10.608ms
        
    ok 1 - A route supports host constraints under http2 protocol and secure connection # time=188.1ms
    
    1..1
    # time=241.872ms
ok 38 - test/http2/constraint.test.js # time=241.872ms

# Subtest: test/http2/head.test.js
    ok 1 - http2 successfully loaded
    ok 2 - should not error
    # Subtest: http HEAD request
        1..1
        ok 1 - should be equal
    ok 3 - http HEAD request # time=91.208ms
    
    1..3
    # time=178.747ms
ok 39 - test/http2/head.test.js # time=178.747ms

# Subtest: test/http2/missing-http2-module.test.js
    # Subtest: should throw when http2 module cannot be found
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - should throw when http2 module cannot be found # time=11.169ms
    
    1..1
    # time=20.358ms
ok 40 - test/http2/missing-http2-module.test.js # time=20.358ms

# Subtest: test/http2/plain.test.js
    ok 1 - http2 successfully loaded
    ok 2 - should not error
    # Subtest: http get request
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 3 - http get request # time=35.373ms
    
    # Subtest: http hostname
        1..1
        ok 1 - should be equal
    ok 4 - http hostname # time=7.267ms
    
    1..4
    # time=123.996ms
ok 41 - test/http2/plain.test.js # time=123.996ms

# Subtest: test/http2/secure-with-fallback.test.js
    # Subtest: secure with fallback
        1..7
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get error
            1..1
            ok 1 - should be equal
        ok 3 - https get error # time=40.176ms
        
        # Subtest: https post
            1..2
            ok 1 - should be equal
            ok 2 - should be equivalent
        ok 4 - https post # time=21.137ms
        
        # Subtest: https get request
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - https get request # time=10.933ms
        
        # Subtest: http1 get request
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 6 - http1 get request # time=18.274ms
        
        # Subtest: http1 get error
            1..2
            ok 1 - should not error
            ok 2 - should be equal
        ok 7 - http1 get error # time=7.594ms
        
    ok 1 - secure with fallback # time=191.136ms
    
    1..1
    # time=220.653ms
ok 42 - test/http2/secure-with-fallback.test.js # time=220.653ms

# Subtest: test/http2/secure.test.js
    # Subtest: secure
        1..4
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - https get request # time=42.697ms
        
        # Subtest: https get request without trust proxy - protocol
            1..2
            ok 1 - should be equivalent
            ok 2 - should be equivalent
        ok 4 - https get request without trust proxy - protocol # time=25.748ms
        
    ok 1 - secure # time=155.76ms
    
    1..1
    # time=193.341ms
ok 43 - test/http2/secure.test.js # time=193.341ms

# Subtest: test/http2/unknown-http-method.test.js
    ok 1 - should not error
    # Subtest: http UNKNOWN_METHOD request
        1..2
        ok 1 - should be equal
        ok 2 - should be equivalent
    ok 2 - http UNKNOWN_METHOD request # time=35.88ms
    
    1..2
    # time=98.89ms
ok 44 - test/http2/unknown-http-method.test.js # time=98.89ms

# Subtest: test/https/custom-https-server.test.js
    # Subtest: Should support a custom https server
        1..4
        ok 1 - it is called twice for every HOST interface
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - Should support a custom https server # time=85.685ms
    
    1..1
    # time=127.811ms
ok 45 - test/https/custom-https-server.test.js # time=127.811ms

# Subtest: test/https/https.test.js
    # Subtest: https
        1..4
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 3 - https get request # time=39.516ms
        
        # Subtest: https get request without trust proxy - protocol
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 4 - https get request without trust proxy - protocol # time=15.93ms
        
    ok 1 - https # time=140.392ms
    
    1..1
    # time=170.105ms
ok 46 - test/https/https.test.js # time=170.105ms

# Subtest: test/imports.test.js
    # Subtest: should import as default
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 1 - should import as default # time=697.673ms
    
    # Subtest: should import as esm
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 2 - should import as esm # time=2.072ms
    
    1..2
    # time=712.816ms
ok 47 - test/imports.test.js # time=712.816ms

# Subtest: test/inject.test.js
    # Subtest: inject should exist
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 1 - inject should exist # time=15.637ms
    
    # Subtest: should wait for the ready event
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 2 - should wait for the ready event # time=603.623ms
    
    # Subtest: inject get request
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 3 - inject get request # time=9.727ms
    
    # Subtest: inject get request - code check
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 4 - inject get request - code check # time=24.049ms
    
    # Subtest: inject get request - headers check
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 5 - inject get request - headers check # time=9.765ms
    
    # Subtest: inject get request - querystring
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 6 - inject get request - querystring # time=7.101ms
    
    # Subtest: inject get request - params
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 7 - inject get request - params # time=6.707ms
    
    # Subtest: inject get request - wildcard
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - inject get request - wildcard # time=7.235ms
    
    # Subtest: inject get request - headers
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 9 - inject get request - headers # time=10.755ms
    
    # Subtest: inject post request
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 10 - inject post request # time=12.293ms
    
    # Subtest: inject post request - send stream
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 11 - inject post request - send stream # time=10.165ms
    
    # Subtest: inject get request - reply stream
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 12 - inject get request - reply stream # time=17.249ms
    
    # Subtest: inject promisify - waiting for ready event
        1..1
        ok 1 - should be equal
    ok 13 - inject promisify - waiting for ready event # time=6.704ms
    
    # Subtest: inject promisify - after the ready event
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 14 - inject promisify - after the ready event # time=9.803ms
    
    # Subtest: inject promisify - when the server is up
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 15 - inject promisify - when the server is up # time=16.337ms
    
    # Subtest: should reject in error case
        1..1
        ok 1 - should be equal
    ok 16 - should reject in error case # time=505.121ms
    
    # Subtest: inject a multipart request using form-body
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 17 - inject a multipart request using form-body # time=16.524ms
    
    # Subtest: should error the promise if ready errors
        1..3
        ok 1 - after is called
        ok 2 - expect truthy value
        ok 3 - should be equal
    ok 18 - should error the promise if ready errors # time=9.496ms
    
    # Subtest: should throw error if callback specified and if ready errors
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 19 - should throw error if callback specified and if ready errors # time=4.536ms
    
    # Subtest: should support builder-style injection with ready app
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
    ok 20 - should support builder-style injection with ready app # time=7.287ms
    
    # Subtest: should support builder-style injection with non-ready app
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
    ok 21 - should support builder-style injection with non-ready app # time=6.017ms
    
    # Subtest: should handle errors in builder-style injection correctly
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 22 - should handle errors in builder-style injection correctly # time=4.786ms
    
    1..22
    # time=1350.246ms
ok 48 - test/inject.test.js # time=1350.246ms

# Subtest: test/internals/all.test.js
    # Subtest: fastify.all should add all the methods to the same url
        1..14
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equivalent
    ok 1 - fastify.all should add all the methods to the same url # time=74.554ms
    
    1..1
    # time=79.505ms
ok 49 - test/internals/all.test.js # time=79.505ms

# Subtest: test/internals/contentTypeParser.test.js
    # Subtest: rawBody function
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - rawBody function # time=29.048ms
    
    # Subtest: Should support Webpack and faux modules
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - Should support Webpack and faux modules # time=9.792ms
    
    1..2
    # time=45.878ms
ok 50 - test/internals/contentTypeParser.test.js # time=45.878ms

# Subtest: test/internals/decorator.test.js
    # Subtest: decorate should add the given method to its instance
        1..1
        ok 1 - expect truthy value
    ok 1 - decorate should add the given method to its instance # time=5.795ms
    
    # Subtest: decorate is chainable
        1..3
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
    ok 2 - decorate is chainable # time=2.058ms
    
    # Subtest: checkExistence should check if a property is part of the given instance
        1..1
        ok 1 - expect truthy value
    ok 3 - checkExistence should check if a property is part of the given instance # time=1.232ms
    
    # Subtest: checkExistence should find the instance if not given
        1..1
        ok 1 - expect truthy value
    ok 4 - checkExistence should find the instance if not given # time=1.042ms
    
    # Subtest: checkExistence should check the prototype as well
        1..1
        ok 1 - expect truthy value
    ok 5 - checkExistence should check the prototype as well # time=1.431ms
    
    # Subtest: checkDependencies should throw if a dependency is not present
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 6 - checkDependencies should throw if a dependency is not present # time=1.489ms
    
    # Subtest: decorate should internally call checkDependencies
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 7 - decorate should internally call checkDependencies # time=0.723ms
    
    # Subtest: decorate should recognize getter/setter objects
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - (unnamed test)
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 8 - decorate should recognize getter/setter objects # time=1.553ms
    
    1..8
    # time=70.574ms
ok 51 - test/internals/decorator.test.js # time=70.574ms

# Subtest: test/internals/handleRequest.test.js
    # Subtest: handleRequest function - sent reply
        1..1
        ok 1 - should be equal
    ok 1 - handleRequest function - sent reply # time=5.851ms
    
    # Subtest: handleRequest function - invoke with error
        1..1
        ok 1 - should be equal
    ok 2 - handleRequest function - invoke with error # time=1.371ms
    
    # Subtest: handler function - invalid schema
        1..1
        ok 1 - errorHandler called
    ok 3 - handler function - invalid schema # time=83.582ms
    
    # Subtest: handler function - reply
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - (unnamed test)
    ok 4 - handler function - reply # time=3.213ms
    
    # Subtest: handler function - preValidationCallback with finished response
        1..0
    ok 5 - handler function - preValidationCallback with finished response # time=1.037ms
    
    # Subtest: request should be defined in onSend Hook on post request with content type application/json
        1..8
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - should not error
        ok 8 - should be equal
    ok 6 - request should be defined in onSend Hook on post request with content type application/json # time=411.172ms
    
    # Subtest: request should be defined in onSend Hook on post request with content type application/x-www-form-urlencoded
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - should be equal
    ok 7 - request should be defined in onSend Hook on post request with content type application/x-www-form-urlencoded # time=12.613ms
    
    # Subtest: request should be defined in onSend Hook on options request with content type application/x-www-form-urlencoded
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - should be equal
    ok 8 - request should be defined in onSend Hook on options request with content type application/x-www-form-urlencoded # time=13.918ms
    
    # Subtest: request should respond with an error if an unserialized payload is sent inside an async handler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
    ok 9 - request should respond with an error if an unserialized payload is sent inside an async handler # time=37.041ms
    
    1..9
    # time=591.775ms
ok 52 - test/internals/handleRequest.test.js # time=591.775ms

# Subtest: test/internals/hookRunner.test.js
    # Subtest: hookRunner - Basic
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 1 - hookRunner - Basic # time=10.363ms
    
    # Subtest: hookRunner - In case of error should skip to done
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 2 - hookRunner - In case of error should skip to done # time=3.636ms
    
    # Subtest: hookRunner - Should handle throw
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 3 - hookRunner - Should handle throw # time=12.517ms
    
    # Subtest: hookRunner - Should handle promises
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 4 - hookRunner - Should handle promises # time=38.531ms
    
    # Subtest: hookRunner - In case of error should skip to done (with promises)
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 5 - hookRunner - In case of error should skip to done (with promises) # time=3.313ms
    
    # Subtest: hookRunner - Be able to exit before its natural end
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 6 - hookRunner - Be able to exit before its natural end # time=1.833ms
    
    # Subtest: hookRunner - Promises that resolve to a value do not change the state
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 7 - hookRunner - Promises that resolve to a value do not change the state # time=2.244ms
    
    # Subtest: onSendHookRunner - Basic
        1..13
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equal
        ok 10 - should not error
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equal
    ok 8 - onSendHookRunner - Basic # time=10.052ms
    
    # Subtest: onSendHookRunner - Can change the payload
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 9 - onSendHookRunner - Can change the payload # time=4.604ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 10 - onSendHookRunner - In case of error should skip to done # time=3.343ms
    
    # Subtest: onSendHookRunner - Should handle promises
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 11 - onSendHookRunner - Should handle promises # time=3.881ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done (with promises)
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 12 - onSendHookRunner - In case of error should skip to done (with promises) # time=3.573ms
    
    # Subtest: onSendHookRunner - Be able to exit before its natural end
        1..2
        ok 1 - should be equivalent
        ok 2 - should be equivalent
    ok 13 - onSendHookRunner - Be able to exit before its natural end # time=1.463ms
    
    1..13
    # time=144.758ms
ok 53 - test/internals/hookRunner.test.js # time=144.758ms

# Subtest: test/internals/hooks.test.js
    # Subtest: hooks should have 4 array with the registered hooks
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        1..8
    ok 1 - hooks should have 4 array with the registered hooks # time=9.942ms
    
    # Subtest: hooks.add should add a hook to the given hook
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        1..14
    ok 2 - hooks.add should add a hook to the given hook # time=6.544ms
    
    # Subtest: hooks should throw on unexisting handler
        1..1
        ok 1 - (unnamed test)
    ok 3 - hooks should throw on unexisting handler # time=1.507ms
    
    # Subtest: should throw on wrong parameters
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 4 - should throw on wrong parameters # time=2.239ms
    
    1..4
    # time=74.034ms
ok 54 - test/internals/hooks.test.js # time=74.034ms

# Subtest: test/internals/initialConfig.test.js
    # Subtest: Fastify.initialConfig is an object
        1..1
        ok 1 - type is object
    ok 1 - Fastify.initialConfig is an object # time=15.493ms
    
    # Subtest: without options passed to Fastify, initialConfig should expose default values
        1..1
        ok 1 - should be equivalent
    ok 2 - without options passed to Fastify, initialConfig should expose default values # time=8.349ms
    
    # Subtest: Fastify.initialConfig should expose all options
        1..20
        not ok 1 - (stringifiers[key] || wildcardStringifier || stringify) is not a function
          ---
          stack: |
            asChindings (node_modules/pino/lib/tools.js:201:70)
            pino (node_modules/pino/pino.js:140:19)
            Test.<anonymous> (test/internals/initialConfig.test.js:106:13)
          at:
            line: 201
            column: 70
            file: node_modules/pino/lib/tools.js
            function: asChindings
          type: TypeError
          tapCaught: testFunctionThrow
          test: Fastify.initialConfig should expose all options
          source: >2
                  value = serializers[key] ? serializers[key](value) : value
                  value = (stringifiers[key] || wildcardStringifier || stringify)(value, stringifySafe)
            ---------------------------------------------------------------------^
                  if (value === undefined) continue
                  data += ',"' + key + '":' + value
          ...
        
        # test count(1) != plan(20)
        # failed 1 test
    not ok 3 - Fastify.initialConfig should expose all options # time=32.132ms
    
    # Subtest: Should throw if you try to modify Fastify.initialConfig
        1..4
        ok 1 - type is TypeError
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - (unnamed test)
    ok 4 - Should throw if you try to modify Fastify.initialConfig # time=3.626ms
    
    # Subtest: We must avoid shallow freezing and ensure that the whole object is freezed
        1..4
        ok 1 - type is TypeError
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - key cert removed
    ok 5 - We must avoid shallow freezing and ensure that the whole object is freezed # time=16.759ms
    
    # Subtest: https value check
        1..1
        ok 1 - expect falsey value
    ok 6 - https value check # time=1.789ms
    
    # Subtest: Return an error if options do not match the validation schema
        1..6
        ok 1 - type is Error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
        ok 6 - (unnamed test)
    ok 7 - Return an error if options do not match the validation schema # time=58.678ms
    
    # Subtest: Original options must not be frozen
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - Original options must not be frozen # time=3.223ms
    
    # Subtest: Original options must not be altered (test deep cloning)
        1..3
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 9 - Original options must not be altered (test deep cloning) # time=5.316ms
    
    # Subtest: Should not have issues when passing stream options to Pino.js
        1..15
        not ok 1 - (unnamed test)
          ---
          at:
            line: 286
            column: 7
            file: test/internals/initialConfig.test.js
            type: Test
          stack: |
            Test.<anonymous> (test/internals/initialConfig.test.js:286:7)
          source: |2
              } catch (error) {
                t.fail()
            ------^
              }
          ...
        
        not ok 2 - Cannot read properties of undefined (reading 'get')
          ---
          stack: |
            Test.<anonymous> (test/internals/initialConfig.test.js:289:11)
          at:
            line: 289
            column: 11
            file: test/internals/initialConfig.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: Should not have issues when passing stream options to Pino.js
          source: |2
          
              fastify.get('/', function (req, reply) {
            ----------^
                t.ok(req.log)
                reply.send({ hello: 'world' })
          ...
        
        # test count(2) != plan(15)
        # failed 2 of 2 tests
    not ok 10 - Should not have issues when passing stream options to Pino.js # time=20.887ms
    
    # Subtest: deepFreezeObject() should not throw on TypedArray
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - (unnamed test)
    ok 11 - deepFreezeObject() should not throw on TypedArray # time=2.441ms
    
    # Subtest: Fastify.initialConfig should accept the deprecated versioning option
        1..1
        ok 1 - should be equal
    ok 12 - Fastify.initialConfig should accept the deprecated versioning option # time=3.405ms
    
    # Subtest: pluginTimeout should be parsed correctly
        ok 1 - should be equal
        ok 2 - should be equal
        1..2
    ok 13 - pluginTimeout should be parsed correctly # time=4.472ms
    
    1..13
    # failed 2 of 13 tests
    # time=254.874ms
not ok 55 - test/internals/initialConfig.test.js # time=254.874ms
  ---
  env: {}
  file: test/internals/initialConfig.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/internals/initialConfig.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/internals/logger.test.js
    # Subtest: time resolution
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - time resolution # time=6.262ms
    
    # Subtest: The logger should add a unique id for every request
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - the id should not be duplicated
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - the id should not be duplicated
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - the id should not be duplicated
        ok 11 - expect truthy value
        ok 12 - should not error
        ok 13 - the id should not be duplicated
        ok 14 - expect truthy value
        ok 15 - should not error
        ok 16 - the id should not be duplicated
        ok 17 - expect truthy value
        ok 18 - should not error
        ok 19 - the id should not be duplicated
        ok 20 - expect truthy value
        ok 21 - should not error
        ok 22 - the id should not be duplicated
        ok 23 - expect truthy value
        ok 24 - should not error
        ok 25 - the id should not be duplicated
        ok 26 - expect truthy value
        ok 27 - should not error
        ok 28 - the id should not be duplicated
        ok 29 - expect truthy value
        ok 30 - should not error
        ok 31 - the id should not be duplicated
        1..31
    ok 2 - The logger should add a unique id for every request # time=76.488ms
    
    # Subtest: The logger should reuse request id header for req.id
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - the request id from the header should be returned
        1..4
    ok 3 - The logger should reuse request id header for req.id # time=10.833ms
    
    # Subtest: The logger should error if both stream and file destination are given
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - The logger should error if both stream and file destination are given # time=1.718ms
    
    # Subtest: The serializer prevent fails if the request socket is undefined
        1..1
        ok 1 - should be equivalent
    ok 5 - The serializer prevent fails if the request socket is undefined # time=4.671ms
    
    1..5
    # time=109.974ms
ok 56 - test/internals/logger.test.js # time=109.974ms

# Subtest: test/internals/plugin.test.js
    # Subtest: shouldSkipOverride should check the 'skip-override' symbol
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 1 - shouldSkipOverride should check the 'skip-override' symbol # time=6.42ms
    
    # Subtest: getPluginName should return plugin name if the file is cached
        1..1
        ok 1 - should be equal
    ok 2 - getPluginName should return plugin name if the file is cached # time=1.741ms
    
    # Subtest: getMeta should return the object stored with the 'plugin-meta' symbol
        1..1
        ok 1 - should be equivalent
    ok 3 - getMeta should return the object stored with the 'plugin-meta' symbol # time=4.6ms
    
    # Subtest: checkDecorators should check if the given decorator is present in the instance
        1..1
        ok 1 - Everything ok
    ok 4 - checkDecorators should check if the given decorator is present in the instance # time=1.589ms
    
    # Subtest: checkDecorators should check if the given decorator is present in the instance (errored)
        1..1
        ok 1 - should be equal
    ok 5 - checkDecorators should check if the given decorator is present in the instance (errored) # time=1.507ms
    
    # Subtest: checkDecorators should accept optional decorators
        1..1
        ok 1 - Everything ok
    ok 6 - checkDecorators should accept optional decorators # time=0.624ms
    
    # Subtest: checkDependencies should check if the given dependency is present in the instance
        1..1
        ok 1 - Everything ok
    ok 7 - checkDependencies should check if the given dependency is present in the instance # time=0.931ms
    
    # Subtest: checkDependencies should check if the given dependency is present in the instance (errored)
        1..1
        ok 1 - should be equal
    ok 8 - checkDependencies should check if the given dependency is present in the instance (errored) # time=30.891ms
    
    1..8
    # time=112.557ms
ok 57 - test/internals/plugin.test.js # time=112.557ms

# Subtest: test/internals/reply-serialize.test.js
    # Subtest: Reply\#compileSerializationSchema
        1..4
        # Subtest: Should return a serialization function
            1..4
            ok 1 - type is Function
            ok 2 - type is string
            ok 3 - should be equal
            ok 4 - should be equal
        ok 1 - Should return a serialization function # time=129.091ms
        
        # Subtest: Should reuse the serialize fn across multiple invocations - Route without schema
            1..17
            ok 1 - build the schema compilation function
            ok 2 - type is Function
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - Are the same validate function
            ok 6 - type is Function
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - Are the same validate function
            ok 10 - type is Function
            ok 11 - should be equal
            ok 12 - should be equal
            ok 13 - Are the same validate function
            ok 14 - type is Function
            ok 15 - should be equal
            ok 16 - should be equal
            ok 17 - should be equal
        ok 2 - Should reuse the serialize fn across multiple invocations - Route without schema # time=43.211ms
        
        # Subtest: Should use the custom serializer compiler for the route
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equivalent
            ok 7 - {"hello":"world"}
            ok 8 - should be equivalent
            ok 9 - {"hello":"world"}
            ok 10 - should be equal
        ok 3 - Should use the custom serializer compiler for the route # time=45.635ms
        
        # Subtest: Should build a WeakMap for cache when called
            1..4
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
            ok 4 - should be equal
        ok 4 - Should build a WeakMap for cache when called # time=12.633ms
        
    ok 1 - Reply\#compileSerializationSchema # time=257.963ms
    
    # Subtest: Reply\#getSerializationFunction
        1..3
        # Subtest: Should retrieve the serialization function from the Schema definition
            1..9
            ok 1 - type is Function
            ok 2 - type is Function
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - expect falsey value
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
        ok 1 - Should retrieve the serialization function from the Schema definition # time=24.496ms
        
        # Subtest: Should retrieve the serialization function from the cached one
            1..6
            ok 1 - type is Function
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
        ok 2 - Should retrieve the serialization function from the cached one # time=8.509ms
        
        # Subtest: Should not instantiate a WeakMap if it is not needed
            1..4
            ok 1 - expect falsey value
            ok 2 - should be equal
            ok 3 - expect falsey value
            ok 4 - should be equal
        ok 3 - Should not instantiate a WeakMap if it is not needed # time=17.526ms
        
    ok 2 - Reply\#getSerializationFunction # time=73.12ms
    
    # Subtest: Reply\#serializeInput
        1..5
        # Subtest: Should throw if missed serialization function from HTTP status
            1..2
            ok 1 - should be equal
            ok 2 - should be equivalent
        ok 1 - Should throw if missed serialization function from HTTP status # time=34.845ms
        
        # Subtest: Should use a serializer fn from HTTP status
            1..4
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
        ok 2 - Should use a serializer fn from HTTP status # time=32.054ms
        
        # Subtest: Should compile a serializer out of a schema if serializer fn missed
            1..10
            ok 1 - should be equal
            ok 2 - expect falsey value
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 3 - Should compile a serializer out of a schema if serializer fn missed # time=7.756ms
        
        # Subtest: Should use a cached serializer fn
            1..12
            ok 1 - should be equal
            ok 2 - expect falsey value
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
            ok 11 - should be equal
            ok 12 - should be equal
        ok 4 - Should use a cached serializer fn # time=20.951ms
        
        # Subtest: Should instantiate a WeakMap after first call
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
        ok 5 - Should instantiate a WeakMap after first call # time=6.087ms
        
    ok 3 - Reply\#serializeInput # time=113.591ms
    
    1..3
    # time=450.664ms
ok 58 - test/internals/reply-serialize.test.js # time=450.664ms

# Subtest: test/internals/reply.test.js
    # Subtest: Once called, Reply should return an object with methods
        1..13
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should be equal
        ok 13 - should be equal
    ok 1 - Once called, Reply should return an object with methods # time=16.425ms
    
    # Subtest: reply.send will logStream error and destroy the stream
        1..1
        ok 1 - Error not logged and not streamed
    ok 2 - reply.send will logStream error and destroy the stream # time=19.494ms
    
    # Subtest: reply.send throw with circular JSON
        1..1
        ok 1 - Converting circular structure to JSON
    ok 3 - reply.send throw with circular JSON # time=2.547ms
    
    # Subtest: reply.send returns itself
        1..1
        ok 1 - should be equal
    ok 4 - reply.send returns itself # time=1.812ms
    
    # Subtest: reply.serializer should set a custom serializer
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 5 - reply.serializer should set a custom serializer # time=1.396ms
    
    # Subtest: reply.serializer should support running preSerialization hooks
        1..3
        ok 1 - preSerialization
        ok 2 - should not error
        ok 3 - should be equal
    ok 6 - reply.serializer should support running preSerialization hooks # time=761.466ms
    
    # Subtest: reply.serialize should serialize payload
        1..1
        ok 1 - should be equal
    ok 7 - reply.serialize should serialize payload # time=1.284ms
    
    # Subtest: reply.serialize should serialize payload with a custom serializer
        1..2
        ok 1 - should be equal
        ok 2 - custom serializer not called
    ok 8 - reply.serialize should serialize payload with a custom serializer # time=1.191ms
    
    # Subtest: reply.serialize should serialize payload with a context default serializer
        1..2
        ok 1 - should be equal
        ok 2 - custom serializer not called
    ok 9 - reply.serialize should serialize payload with a context default serializer # time=6.792ms
    
    # Subtest: reply.serialize should serialize payload with Fastify instance
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - reply.serialize should serialize payload with Fastify instance # time=24.033ms
    
    # Subtest: within an instance
        ok 1 - should not error
        # Subtest: custom serializer should be used
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - custom serializer should be used # time=37.548ms
        
        # Subtest: status code and content-type should be correct
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 3 - status code and content-type should be correct # time=6.98ms
        
        # Subtest: auto status code shoud be 200
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - auto status code shoud be 200 # time=5.388ms
        
        # Subtest: auto type shoud be text/plain
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - auto type shoud be text/plain # time=5.118ms
        
        # Subtest: redirect to `/` - 1
            1..1
            ok 1 - should be equal
        ok 6 - redirect to `/` - 1 # time=4.265ms
        
        # Subtest: redirect to `/` - 2
            1..1
            ok 1 - should be equal
        ok 7 - redirect to `/` - 2 # time=3.848ms
        
        # Subtest: redirect to `/` - 3
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 8 - redirect to `/` - 3 # time=17.98ms
        
        # Subtest: redirect to `/` - 4
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 9 - redirect to `/` - 4 # time=8.446ms
        
        # Subtest: redirect to `/` - 5
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
        ok 10 - redirect to `/` - 5 # time=3.93ms
        
        # Subtest: redirect to `/` - 6
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 11 - redirect to `/` - 6 # time=6.98ms
        
        # Subtest: redirect to `/` - 7
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 12 - redirect to `/` - 7 # time=7.789ms
        
        # Subtest: redirect to `/` - 8
            1..1
            ok 1 - should be equal
        ok 13 - redirect to `/` - 8 # time=3.201ms
        
        # Subtest: redirect to `/` - 9
            1..1
            ok 1 - should be equal
        ok 14 - redirect to `/` - 9 # time=3.368ms
        
        # Subtest: redirect with async function to `/` - 10
            1..1
            ok 1 - should be equal
        ok 15 - redirect with async function to `/` - 10 # time=3.512ms
        
        1..15
    ok 11 - within an instance # time=212.88ms
    
    # Subtest: buffer without content type should send a application/octet-stream and raw buffer
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 12 - buffer without content type should send a application/octet-stream and raw buffer # time=33.268ms
    
    # Subtest: buffer with content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 13 - buffer with content type should not send application/octet-stream # time=12.88ms
    
    # Subtest: stream with content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 14 - stream with content type should not send application/octet-stream # time=19.055ms
    
    # Subtest: stream without content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 15 - stream without content type should not send application/octet-stream # time=80.316ms
    
    # Subtest: stream using reply.raw.writeHead should return customize headers
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 16 - stream using reply.raw.writeHead should return customize headers # time=61.946ms
    
    # Subtest: plain string without content type should send a text/plain
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 17 - plain string without content type should send a text/plain # time=9.131ms
    
    # Subtest: plain string with content type should be sent unmodified
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - plain string with content type should be sent unmodified # time=26.756ms
    
    # Subtest: plain string with content type and custom serializer should be serialized
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 19 - plain string with content type and custom serializer should be serialized # time=14.421ms
    
    # Subtest: plain string with content type application/json should NOT be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 20 - plain string with content type application/json should NOT be serialized as json # time=9.402ms
    
    # Subtest: plain string with custom json content type should NOT be serialized as json
        1..19
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equivalent
    ok 21 - plain string with custom json content type should NOT be serialized as json # time=23.401ms
    
    # Subtest: non-string with content type application/json SHOULD be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 22 - non-string with content type application/json SHOULD be serialized as json # time=30.708ms
    
    # Subtest: non-string with custom json's content-type SHOULD be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 23 - non-string with custom json's content-type SHOULD be serialized as json # time=15.296ms
    
    # Subtest: non-string with custom json content type SHOULD be serialized as json
        1..16
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 24 - non-string with custom json content type SHOULD be serialized as json # time=17.744ms
    
    # Subtest: error object with a content type that is not application/json should work
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 25 - error object with a content type that is not application/json should work # time=8.234ms
    
    # Subtest: undefined payload should be sent as-is
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 26 - undefined payload should be sent as-is # time=11.503ms
    
    # Subtest: for HEAD method, no body should be sent but content-length should be
        1..11
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
    ok 27 - for HEAD method, no body should be sent but content-length should be # time=9.941ms
    
    # Subtest: reply.send(new NotFound()) should not invoke the 404 handler
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 28 - reply.send(new NotFound()) should not invoke the 404 handler # time=14.119ms
    
    # Subtest: reply can set multiple instances of same header
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - expect truthy value
        ok 4 - should be equivalent strictly
    ok 29 - reply can set multiple instances of same header # time=8.627ms
    
    # Subtest: reply.hasHeader returns correct values
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 30 - reply.hasHeader returns correct values # time=5.486ms
    
    # Subtest: reply.getHeader returns correct values
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
        ok 4 - should be equivalent strictly
    ok 31 - reply.getHeader returns correct values # time=15.251ms
    
    # Subtest: reply.getHeader returns raw header if there is not in the reply headers
        1..1
        ok 1 - should be equal
    ok 32 - reply.getHeader returns raw header if there is not in the reply headers # time=5.819ms
    
    # Subtest: reply.getHeaders returns correct values
        1..3
        ok 1 - should be equivalent strictly
        ok 2 - should be equivalent strictly
        ok 3 - should not error
    ok 33 - reply.getHeaders returns correct values # time=5.554ms
    
    # Subtest: reply.removeHeader can remove the value
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent strictly
        ok 5 - (unnamed test)
    ok 34 - reply.removeHeader can remove the value # time=13.004ms
    
    # Subtest: reply.header can reset the value
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent strictly
        ok 3 - (unnamed test)
    ok 35 - reply.header can reset the value # time=6.492ms
    
    # Subtest: reply.hasHeader computes raw and fastify headers
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - (unnamed test)
    ok 36 - reply.hasHeader computes raw and fastify headers # time=18.889ms
    
    # Subtest: Reply should handle JSON content type with a charset
        1..16
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should not error
        ok 16 - should be equal
    ok 37 - Reply should handle JSON content type with a charset # time=16.811ms
    
    # Subtest: Content type and charset set previously
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 38 - Content type and charset set previously # time=4.744ms
    
    # Subtest: .status() is an alias for .code()
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 39 - .status() is an alias for .code() # time=4ms
    
    # Subtest: .statusCode is getter and setter
        1..4
        ok 1 - 200
        ok 2 - 418
        ok 3 - should not error
        ok 4 - should be equal
    ok 40 - .statusCode is getter and setter # time=6.622ms
    
    # Subtest: reply.header setting multiple cookies as multiple Set-Cookie headers
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equivalent strictly
        ok 4 - should not error
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - should be equivalent strictly
    ok 41 - reply.header setting multiple cookies as multiple Set-Cookie headers # time=9.927ms
    
    # Subtest: should emit deprecation warning when trying to modify the reply.sent property
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 42 - should emit deprecation warning when trying to modify the reply.sent property # time=5.137ms
    
    # Subtest: should throw error when passing falsy value to reply.sent
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 43 - should throw error when passing falsy value to reply.sent # time=4.412ms
    
    # Subtest: should throw error when attempting to set reply.sent more than once
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 44 - should throw error when attempting to set reply.sent more than once # time=4.127ms
    
    # Subtest: should not throw error when attempting to set reply.sent if the underlining request was sent
        1..3
        ok 1 - expected to not throw
        ok 2 - should not error
        ok 3 - (unnamed test)
    ok 45 - should not throw error when attempting to set reply.sent if the underlining request was sent # time=7.577ms
    
    # Subtest: reply.getResponseTime() should return 0 before the timer is initialised on the reply by setting up response listeners
        1..1
        ok 1 - should be equal
    ok 46 - reply.getResponseTime() should return 0 before the timer is initialised on the reply by setting up response listeners # time=0.891ms
    
    # Subtest: reply.getResponseTime() should return a number greater than 0 after the timer is initialised on the reply by setting up response listeners
        1..1
        ok 1 - expect truthy value
    ok 47 - reply.getResponseTime() should return a number greater than 0 after the timer is initialised on the reply by setting up response listeners # time=4.374ms
    
    # Subtest: reply.getResponseTime() should return the time since a request started while inflight
        1..1
        ok 1 - should not be equal
    ok 48 - reply.getResponseTime() should return the time since a request started while inflight # time=3.963ms
    
    # Subtest: reply.getResponseTime() should return the same value after a request is finished
        1..1
        ok 1 - should be equal
    ok 49 - reply.getResponseTime() should return the same value after a request is finished # time=3.746ms
    
    # Subtest: reply should use the custom serializer
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 50 - reply should use the custom serializer # time=6.839ms
    
    # Subtest: reply should use the right serializer in encapsulated context
        1..9
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 51 - reply should use the right serializer in encapsulated context # time=10.438ms
    
    # Subtest: reply should use the right serializer in deep encapsulated context
        1..8
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 52 - reply should use the right serializer in deep encapsulated context # time=9.964ms
    
    # Subtest: reply should use the route serializer
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equal
    ok 53 - reply should use the route serializer # time=4.359ms
    
    # Subtest: cannot set the replySerializer when the server is running
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 54 - cannot set the replySerializer when the server is running # time=13.882ms
    
    # Subtest: reply should not call the custom serializer for errors and not found
        1..9
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 55 - reply should not call the custom serializer for errors and not found # time=8.128ms
    
    # Subtest: reply.then
        1..4
        # Subtest: without an error
            1..1
            ok 1 - fulfilled called
        ok 1 - without an error # time=10.993ms
        
        # Subtest: with an error
            1..1
            ok 1 - should be equal
        ok 2 - with an error # time=1.436ms
        
        # Subtest: with error but without reject callback
            1..1
            ok 1 - (unnamed test)
        ok 3 - with error but without reject callback # time=0.913ms
        
        # Subtest: with error, without reject callback, with logger
            1..1
            ok 1 - should be equal
        ok 4 - with error, without reject callback, with logger # time=1.439ms
        
    ok 56 - reply.then # time=22.249ms
    
    # Subtest: reply.sent should read from response.writableEnded if it is defined
        1..1
        ok 1 - should be equal
    ok 57 - reply.sent should read from response.writableEnded if it is defined # time=0.718ms
    
    # Subtest: redirect to an invalid URL should not crash the server
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        1..7
    ok 58 - redirect to an invalid URL should not crash the server # time=30.324ms
    
    # Subtest: invalid response headers should not crash the server
        ok 1 - only the first invalid header is logged
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 59 - invalid response headers should not crash the server # time=7.465ms
    
    # Subtest: invalid response headers when sending back an error
        ok 1 - only the first invalid header is logged
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 60 - invalid response headers when sending back an error # time=6.747ms
    
    # Subtest: invalid response headers and custom error handler
        ok 1 - custom error handler receives the error
        ok 2 - only the first invalid header is logged
        ok 3 - should be equal
        ok 4 - should be equivalent
        1..4
    ok 61 - invalid response headers and custom error handler # time=7.402ms
    
    1..61
    # time=1812.708ms
ok 59 - test/internals/reply.test.js # time=1812.708ms

# Subtest: test/internals/request-validate.test.js
    # Subtest: \#compileValidationSchema
        1..5
        # Subtest: Should return a function - Route without schema
            1..3
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
        ok 1 - Should return a function - Route without schema # time=146.775ms
        
        # Subtest: Should reuse the validate fn across multiple invocations - Route without schema
            1..16
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
            ok 4 - Are the same validate function
            ok 5 - type is Function
            ok 6 - expect truthy value
            ok 7 - expect falsey value
            ok 8 - Are the same validate function
            ok 9 - type is Function
            ok 10 - expect truthy value
            ok 11 - expect falsey value
            ok 12 - Are the same validate function
            ok 13 - type is Function
            ok 14 - expect truthy value
            ok 15 - expect falsey value
            ok 16 - should be equal
        ok 2 - Should reuse the validate fn across multiple invocations - Route without schema # time=55.123ms
        
        # Subtest: Should return a function - Route with schema
            1..3
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
        ok 3 - Should return a function - Route with schema # time=73.303ms
        
        # Subtest: Should use the custom validator compiler for the route
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equivalent
            ok 7 - expect truthy value
            ok 8 - should be equivalent
            ok 9 - expect truthy value
            ok 10 - should be equal
        ok 4 - Should use the custom validator compiler for the route # time=12.665ms
        
        # Subtest: Should instantiate a WeakMap when executed for first time
            1..5
            ok 1 - should be equal
            ok 2 - type is Function
            ok 3 - type is WeakMap
            ok 4 - type is Function
            ok 5 - type is WeakMap
        ok 5 - Should instantiate a WeakMap when executed for first time # time=37.029ms
        
    ok 1 - \#compileValidationSchema # time=343.953ms
    
    # Subtest: \#getValidationFunction
        1..4
        # Subtest: Should return a validation function
            1..1
            ok 1 - should be equal
        ok 1 - Should return a validation function # time=71.587ms
        
        # Subtest: Should return undefined if no schema compiled
            1..2
            ok 1 - expect falsey value
            ok 2 - expect falsey value
        ok 2 - Should return undefined if no schema compiled # time=6.211ms
        
        # Subtest: Should return the validation function from each HTTP part
            1..15
            ok 1 - expect truthy value
            ok 2 - expect truthy value
            ok 3 - expect falsey value
            ok 4 - expect truthy value
            ok 5 - expect truthy value
            ok 6 - expect falsey value
            ok 7 - expect truthy value
            ok 8 - expect truthy value
            ok 9 - expect truthy value
            ok 10 - expect truthy value
            ok 11 - expect falsey value
            ok 12 - should be equal
            ok 13 - expect truthy value
            ok 14 - expect falsey value
            ok 15 - should be equal
        ok 3 - Should return the validation function from each HTTP part # time=66.638ms
        
        # Subtest: Should not set a WeakMap if there is no schema
            1..1
            ok 1 - should be equal
        ok 4 - Should not set a WeakMap if there is no schema # time=23.461ms
        
    ok 2 - \#getValidationFunction # time=178.208ms
    
    # Subtest: \#validate
        1..7
        # Subtest: Should return true/false if input valid - Route without schema
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 1 - Should return true/false if input valid - Route without schema # time=74.558ms
        
        # Subtest: Should use the custom validator compiler for the route
            1..9
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equivalent
            ok 6 - should be equivalent
            ok 7 - expect truthy value
            ok 8 - expect truthy value
            ok 9 - should be equal
        ok 2 - Should use the custom validator compiler for the route # time=9.309ms
        
        # Subtest: Should return true/false if input valid - With Schema for Route defined
            1..8
            ok 1 - expect truthy value
            ok 2 - expect falsey value
            ok 3 - expect falsey value
            ok 4 - expect truthy value
            ok 5 - expect falsey value
            ok 6 - expect truthy value
            ok 7 - expect truthy value
            ok 8 - expect falsey value
        ok 3 - Should return true/false if input valid - With Schema for Route defined # time=71.95ms
        
        # Subtest: Should throw if missing validation fn for HTTP part and not schema provided
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 4 - Should throw if missing validation fn for HTTP part and not schema provided # time=10.875ms
        
        # Subtest: Should throw if missing validation fn for HTTP part and not valid schema provided
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 5 - Should throw if missing validation fn for HTTP part and not valid schema provided # time=12.948ms
        
        # Subtest: Should throw if invalid schema passed
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 6 - Should throw if invalid schema passed # time=9.278ms
        
        # Subtest: Should set a WeakMap if compiling the very first schema
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
        ok 7 - Should set a WeakMap if compiling the very first schema # time=31.572ms
        
    ok 3 - \#validate # time=254.077ms
    
    # Subtest: Nested Context
        1..1
        # Subtest: Level_1
            1..3
            # Subtest: \#compileValidationSchema
                1..4
                # Subtest: Should return a function - Route without schema
                    1..3
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                ok 1 - Should return a function - Route without schema # time=88.391ms
                
                # Subtest: Should reuse the validate fn across multiple invocations - Route without schema
                    1..16
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                    ok 4 - Are the same validate function
                    ok 5 - type is Function
                    ok 6 - expect truthy value
                    ok 7 - expect falsey value
                    ok 8 - Are the same validate function
                    ok 9 - type is Function
                    ok 10 - expect truthy value
                    ok 11 - expect falsey value
                    ok 12 - Are the same validate function
                    ok 13 - type is Function
                    ok 14 - expect truthy value
                    ok 15 - expect falsey value
                    ok 16 - should be equal
                ok 2 - Should reuse the validate fn across multiple invocations - Route without schema # time=73.703ms
                
                # Subtest: Should return a function - Route with schema
                    1..3
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                ok 3 - Should return a function - Route with schema # time=50.241ms
                
                # Subtest: Should use the custom validator compiler for the route
                    1..10
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - should be equal
                    ok 5 - should be equal
                    ok 6 - should be equivalent
                    ok 7 - expect truthy value
                    ok 8 - should be equivalent
                    ok 9 - expect truthy value
                    ok 10 - should be equal
                ok 4 - Should use the custom validator compiler for the route # time=7.941ms
                
            ok 1 - \#compileValidationSchema # time=230.465ms
            
            # Subtest: \#getValidationFunction
                1..6
                # Subtest: Should return a validation function
                    1..1
                    ok 1 - should be equal
                ok 1 - Should return a validation function # time=41.037ms
                
                # Subtest: Should return undefined if no schema compiled
                    1..1
                    ok 1 - expect falsey value
                ok 2 - Should return undefined if no schema compiled # time=5.045ms
                
                # Subtest: Should return the validation function from each HTTP part
                    1..15
                    ok 1 - expect truthy value
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                    ok 4 - expect truthy value
                    ok 5 - expect truthy value
                    ok 6 - expect falsey value
                    ok 7 - expect truthy value
                    ok 8 - expect truthy value
                    ok 9 - expect truthy value
                    ok 10 - expect truthy value
                    ok 11 - expect falsey value
                    ok 12 - should be equal
                    ok 13 - expect truthy value
                    ok 14 - expect falsey value
                    ok 15 - should be equal
                ok 3 - Should return the validation function from each HTTP part # time=40.023ms
                
                # Subtest: Should return a validation function - nested
                    1..6
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - expect falsey value
                    ok 5 - should be equal
                    ok 6 - should be equal
                ok 4 - Should return a validation function - nested # time=7.225ms
                
                # Subtest: Should return undefined if no schema compiled - nested
                    1..3
                    ok 1 - should be equal
                    ok 2 - expect falsey value
                    ok 3 - should be equal
                ok 5 - Should return undefined if no schema compiled - nested # time=13.417ms
                
                # Subtest: Should per-route defined validation compiler
                    1..5
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should not be equal
                    ok 4 - should be equal
                    ok 5 - should be equal
                ok 6 - Should per-route defined validation compiler # time=8.012ms
                
            ok 2 - \#getValidationFunction # time=124.833ms
            
            # Subtest: \#validate
                1..3
                # Subtest: Should return true/false if input valid - Route without schema
                    1..2
                    ok 1 - expect falsey value
                    ok 2 - expect truthy value
                ok 1 - Should return true/false if input valid - Route without schema # time=67.536ms
                
                # Subtest: Should use the custom validator compiler for the route
                    1..10
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - should be equal
                    ok 5 - should be equivalent
                    ok 6 - should be equivalent
                    ok 7 - expect truthy value
                    ok 8 - expect truthy value
                    ok 9 - should be equal
                    ok 10 - should be equal
                ok 2 - Should use the custom validator compiler for the route # time=7.698ms
                
                # Subtest: Should return true/false if input valid - With Schema for Route defined and scoped validator compiler
                    1..13
                    ok 1 - expect truthy value
                    ok 2 - expect falsey value
                    ok 3 - expect falsey value
                    ok 4 - expect truthy value
                    ok 5 - expect falsey value
                    ok 6 - expect truthy value
                    ok 7 - expect truthy value
                    ok 8 - expect falsey value
                    ok 9 - should be equal
                    ok 10 - should be equal
                    ok 11 - should be equal
                    ok 12 - should be equal
                    ok 13 - should be equal
                ok 3 - Should return true/false if input valid - With Schema for Route defined and scoped validator compiler # time=94.21ms
                
            ok 3 - \#validate # time=176.736ms
            
        ok 1 - Level_1 # time=538.787ms
        
    ok 4 - Nested Context # time=543.399ms
    
    1..4
    # time=1325.842ms
ok 60 - test/internals/request-validate.test.js # time=1325.842ms

# Subtest: test/internals/request.test.js
    # Subtest: Regular request
        ok 1 - type is Request
        ok 2 - type is Function
        ok 3 - type is Function
        ok 4 - type is Function
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        1..19
    ok 1 - Regular request # time=17.61ms
    
    # Subtest: Regular request - hostname from authority
        1..2
        ok 1 - type is Request
        ok 2 - should be equal
    ok 2 - Regular request - hostname from authority # time=1.796ms
    
    # Subtest: Regular request - host header has precedence over authority
        1..2
        ok 1 - type is Request
        ok 2 - should be equal
    ok 3 - Regular request - host header has precedence over authority # time=1.215ms
    
    # Subtest: Request with trust proxy
        1..18
        ok 1 - type is _Request
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - type is Function
        ok 17 - type is Function
        ok 18 - type is Function
    ok 4 - Request with trust proxy # time=13.829ms
    
    # Subtest: Request with trust proxy, encrypted
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 5 - Request with trust proxy, encrypted # time=1.342ms
    
    # Subtest: Request with trust proxy - no x-forwarded-host header
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 6 - Request with trust proxy - no x-forwarded-host header # time=1.157ms
    
    # Subtest: Request with trust proxy - no x-forwarded-host header and fallback to authority
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 7 - Request with trust proxy - no x-forwarded-host header and fallback to authority # time=1.259ms
    
    # Subtest: Request with trust proxy - x-forwarded-host header has precedence over host
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 8 - Request with trust proxy - x-forwarded-host header has precedence over host # time=1.332ms
    
    # Subtest: Request with trust proxy - handles multiple entries in x-forwarded-host/proto
        1..3
        ok 1 - type is _Request
        ok 2 - should be equal
        ok 3 - should be equal
    ok 9 - Request with trust proxy - handles multiple entries in x-forwarded-host/proto # time=1.559ms
    
    # Subtest: Request with trust proxy - plain
        1..1
        ok 1 - should be equivalent
    ok 10 - Request with trust proxy - plain # time=1.222ms
    
    # Subtest: Request with undefined socket
        1..18
        ok 1 - type is Request
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equivalent
        ok 16 - type is Function
        ok 17 - type is Function
        ok 18 - type is Function
    ok 11 - Request with undefined socket # time=9.627ms
    
    # Subtest: Request with trust proxy and undefined socket
        1..1
        ok 1 - should be equivalent
    ok 12 - Request with trust proxy and undefined socket # time=1.008ms
    
    1..12
    # time=123.617ms
ok 61 - test/internals/request.test.js # time=123.617ms

# Subtest: test/internals/server.test.js
    # Subtest: start listening
        ok 1 - server started
        1..1
    ok 1 - start listening # time=39.333ms
    
    # Subtest: DNS errors does not stop the main server on localhost - promise interface
        ok 1 - server started
        1..1
    ok 2 - DNS errors does not stop the main server on localhost - promise interface # time=16.239ms
    
    # Subtest: DNS errors does not stop the main server on localhost - callback interface
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 3 - DNS errors does not stop the main server on localhost - callback interface # time=27.496ms
    
    # Subtest: DNS returns empty binding
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 4 - DNS returns empty binding # time=20.364ms
    
    # Subtest: DNS returns more than two binding
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 5 - DNS returns more than two binding # time=20.945ms
    
    1..5
    # time=131.717ms
ok 62 - test/internals/server.test.js # time=131.717ms

# Subtest: test/internals/validation.test.js
    # Subtest: Symbols
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 1 - Symbols # time=8.53ms
    
    # Subtest: compileSchemasForValidation schema - missing schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - compileSchemasForValidation schema - missing schema # time=4.364ms
    
    # Subtest: compileSchemasForValidation schema - missing output schema
        1..1
        ok 1 - should be equal
    ok 3 - compileSchemasForValidation schema - missing output schema # time=5.855ms
    
    # Subtest: compileSchemasForSerialization schema - missing schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - compileSchemasForSerialization schema - missing schema # time=5.718ms
    
    # Subtest: compileSchemasForSerialization schema - missing output schema
        1..1
        ok 1 - should be equal
    ok 5 - compileSchemasForSerialization schema - missing output schema # time=4.851ms
    
    # Subtest: build schema - output schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 6 - build schema - output schema # time=83.021ms
    
    # Subtest: build schema - payload schema
        1..1
        ok 1 - should be equal
    ok 7 - build schema - payload schema # time=2.11ms
    
    # Subtest: build schema - avoid repeated normalize schema
        1..3
        ok 1 - should not be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 8 - build schema - avoid repeated normalize schema # time=2.067ms
    
    # Subtest: build schema - query schema
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 9 - build schema - query schema # time=3.7ms
    
    # Subtest: build schema - query schema abbreviated
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 10 - build schema - query schema abbreviated # time=2.701ms
    
    # Subtest: build schema - querystring schema
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 11 - build schema - querystring schema # time=2.38ms
    
    # Subtest: build schema - querystring schema abbreviated
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 12 - build schema - querystring schema abbreviated # time=2.376ms
    
    # Subtest: build schema - must throw if querystring and query schema exist
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 13 - build schema - must throw if querystring and query schema exist # time=1.536ms
    
    # Subtest: build schema - params schema
        1..1
        ok 1 - should be equal
    ok 14 - build schema - params schema # time=2.051ms
    
    # Subtest: build schema - headers schema
        1..1
        ok 1 - should be equal
    ok 15 - build schema - headers schema # time=2.244ms
    
    # Subtest: build schema - headers are lowercase
        1..1
        ok 1 - lowercase content-type exists
    ok 16 - build schema - headers are lowercase # time=1.081ms
    
    # Subtest: build schema - headers are not lowercased in case of custom object
        1..1
        ok 1 - type is Headers
    ok 17 - build schema - headers are not lowercased in case of custom object # time=0.923ms
    
    # Subtest: build schema - uppercased headers are not included
        1..1
        ok 1 - uppercase does not exist
    ok 18 - build schema - uppercased headers are not included # time=0.935ms
    
    1..18
    # time=227.18ms
ok 63 - test/internals/validation.test.js # time=227.18ms

# Subtest: test/keepAliveTimeout.test.js
    # Subtest: keepAliveTimeout
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not be equal
        ok 6 - should be equal
    ok 1 - keepAliveTimeout # time=39.365ms
    
    1..1
    # time=45.232ms
ok 64 - test/keepAliveTimeout.test.js # time=45.232ms

# Subtest: test/listen.deprecated.test.js
    # Subtest: listen accepts a port and a callback
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 1 - listen accepts a port and a callback # time=30.149ms
    
    # Subtest: listen accepts a port and a callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 2 - listen accepts a port and a callback with (err, address) # time=5.333ms
    
    # Subtest: listen accepts a port, address, and callback
        1..1
        ok 1 - should not error
    ok 3 - listen accepts a port, address, and callback # time=13.689ms
    
    # Subtest: listen accepts options, backlog and a callback
        1..1
        ok 1 - should not error
    ok 4 - listen accepts options, backlog and a callback # time=10.783ms
    
    # Subtest: listen accepts options (no port), backlog and a callback
        1..1
        ok 1 - should not error
    ok 5 - listen accepts options (no port), backlog and a callback # time=6.758ms
    
    # Subtest: listen accepts options (no host), backlog and a callback
        1..1
        ok 1 - should not error
    ok 6 - listen accepts options (no host), backlog and a callback # time=3.919ms
    
    # Subtest: listen accepts options (no port, no host), backlog and a callback
        1..1
        ok 1 - should not error
    ok 7 - listen accepts options (no port, no host), backlog and a callback # time=15.412ms
    
    # Subtest: listen accepts a port, address and a callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 8 - listen accepts a port, address and a callback with (err, address) # time=3.466ms
    
    # Subtest: listen accepts a port, address, backlog and callback
        1..1
        ok 1 - should not error
    ok 9 - listen accepts a port, address, backlog and callback # time=12.809ms
    
    # Subtest: listen accepts a port, address, backlog and callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 10 - listen accepts a port, address, backlog and callback with (err, address) # time=6.461ms
    
    # Subtest: listen without callback (port zero)
        1..1
        ok 1 - should be equal
    ok 11 - listen without callback (port zero) # time=5.113ms
    
    # Subtest: listen without callback (port not given)
        1..1
        ok 1 - should be equal
    ok 12 - listen without callback (port not given) # time=21.874ms
    
    # Subtest: listen null without callback with (address)
        1..1
        ok 1 - should be equal
    ok 13 - listen null without callback with (address) # time=4.142ms
    
    # Subtest: listen without port without callback with (address)
        1..1
        ok 1 - should be equal
    ok 14 - listen without port without callback with (address) # time=7.829ms
    
    # Subtest: listen with undefined without callback with (address)
        1..1
        ok 1 - should be equal
    ok 15 - listen with undefined without callback with (address) # time=3.825ms
    
    # Subtest: listen when firstArg is string(pipe) and without backlog
        1..1
        ok 1 - should be equal
    ok 16 - listen when firstArg is string(pipe) and without backlog # time=22.219ms
    
    # Subtest: listen when firstArg is string(pipe) and with backlog
        1..1
        ok 1 - should be equal
    ok 17 - listen when firstArg is string(pipe) and with backlog # time=3.437ms
    
    # Subtest: listen when firstArg is { path: string(pipe) } and with backlog and callback
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 18 - listen when firstArg is { path: string(pipe) } and with backlog and callback # time=11.515ms
    
    1..18
    # time=282.819ms
ok 65 - test/listen.deprecated.test.js # time=282.819ms

# Subtest: test/listen.test.js
    # Subtest: listen works without arguments
        ok 1 - should be equal
        ok 2 - expect truthy value
        1..2
    ok 1 - listen works without arguments # time=30.103ms
    
    # Subtest: Async/await listen with arguments
        1..1
        ok 1 - should be equal
    ok 2 - Async/await listen with arguments # time=4.884ms
    
    # Subtest: Promise listen with arguments
        1..1
        ok 1 - should be equal
    ok 3 - Promise listen with arguments # time=21.73ms
    
    # Subtest: listen accepts a callback
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 4 - listen accepts a callback # time=6.876ms
    
    # Subtest: listen accepts options and a callback
        1..1
        ok 1 - should not error
    ok 5 - listen accepts options and a callback # time=4.507ms
    
    # Subtest: listen after Promise.resolve()
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 6 - listen after Promise.resolve() # time=4.673ms
    
    # Subtest: register after listen using Promise.resolve()
        1..1
        ok 1 - resolved
    ok 7 - register after listen using Promise.resolve() # time=11.576ms
    
    # Subtest: double listen errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
    ok 8 - double listen errors # time=12.414ms
    
    # Subtest: double listen errors callback with (err, address)
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 9 - double listen errors callback with (err, address) # time=5.714ms
    
    # Subtest: listen twice on the same port
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 10 - listen twice on the same port # time=12.45ms
    
    # Subtest: listen twice on the same port callback with (err, address)
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 11 - listen twice on the same port callback with (err, address) # time=8.826ms
    
    # Subtest: listen on socket
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent strictly
        ok 3 - should be equal
    ok 12 - listen on socket # time=8.405ms
    
    # Subtest: listen without callback with (address)
        1..1
        ok 1 - should be equal
    ok 13 - listen without callback with (address) # time=4.692ms
    
    # Subtest: double listen without callback rejects
        1..1
        ok 1 - expect truthy value
    ok 14 - double listen without callback rejects # time=8.814ms
    
    # Subtest: double listen without callback with (address)
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 15 - double listen without callback with (address) # time=8.225ms
    
    # Subtest: listen twice on the same port without callback rejects
        1..1
        ok 1 - expect truthy value
    ok 16 - listen twice on the same port without callback rejects # time=6.837ms
    
    # Subtest: listen twice on the same port without callback rejects with (address)
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 17 - listen twice on the same port without callback rejects with (address) # time=22.672ms
    
    # Subtest: listen on invalid port without callback rejects
        ok 1 - expect truthy value
        1..1
    ok 18 - listen on invalid port without callback rejects # time=19.056ms
    
    # Subtest: listen logs the port as info
        1..1
        ok 1 - expect truthy value
    ok 19 - listen logs the port as info # time=10.243ms
    
    # Subtest: listen on localhost binds IPv4 and IPv6 - promise interface
        1..2
        ok 1 - should be equal
        ok 2 - should be equivalent
    ok 20 - listen on localhost binds IPv4 and IPv6 - promise interface # time=24.012ms
    
    # Subtest: listen on localhost binds to all interfaces (both IPv4 and IPv6 if present) - callback interface
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 21 - listen on localhost binds to all interfaces (both IPv4 and IPv6 if present) - callback interface # time=9.897ms
    
    # Subtest: addresses getter
        1..4
        ok 1 - before ready
        ok 2 - after ready
        ok 3 - after listen
        ok 4 - after close
    ok 22 - addresses getter # time=8.187ms
    
    1..22
    # time=350.153ms
ok 66 - test/listen.test.js # time=350.153ms

# Subtest: test/logger.test.js
    # Subtest: defaults to info level
        not ok 1 - (unnamed test)
          ---
          at:
            line: 51
            column: 7
            file: test/logger.test.js
            type: Test
          stack: |
            Test.<anonymous> (test/logger.test.js:51:7)
          source: |2
              } catch (e) {
                t.fail()
            ------^
              }
          ...
        
        not ok 2 - Cannot read properties of null (reading 'get')
          ---
          stack: |
            Test.<anonymous> (test/logger.test.js:54:11)
          at:
            line: 54
            column: 11
            file: test/logger.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: defaults to info level
          source: |2
          
              fastify.get('/', function (req, reply) {
            ----------^
                t.ok(req.log)
                reply.send({ hello: 'world' })
          ...
        
        1..2
        # failed 2 of 2 tests
    not ok 1 - defaults to info level # time=47.106ms
    
    # Subtest: test log stream
        1..12
        not ok 1 - (unnamed test)
          ---
          at:
            line: 113
            column: 7
            file: test/logger.test.js
            type: Test
          stack: |
            Test.<anonymous> (test/logger.test.js:113:7)
          source: |2
              } catch (e) {
                t.fail()
            ------^
              }
          ...
        
        not ok 2 - Cannot read properties of null (reading 'get')
          ---
          stack: |
            Test.<anonymous> (test/logger.test.js:116:11)
          at:
            line: 116
            column: 11
            file: test/logger.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: test log stream
          source: |2
          
              fastify.get('/', function (req, reply) {
            ----------^
                t.ok(req.log)
                reply.send({ hello: 'world' })
          ...
        
        # test count(2) != plan(12)
        # failed 2 of 2 tests
    not ok 2 - test log stream # time=16.403ms
    
    # Subtest: test error log stream
        1..11
        not ok 1 - (unnamed test)
          ---
          at:
            line: 160
            column: 7
            file: test/logger.test.js
            type: Test
          stack: |
            Test.<anonymous> (test/logger.test.js:160:7)
          source: |2
              } catch (e) {
                t.fail()
            ------^
              }
          ...
        
        not ok 2 - Cannot read properties of null (reading 'get')
          ---
          stack: |
            Test.<anonymous> (test/logger.test.js:163:11)
          at:
            line: 163
            column: 11
            file: test/logger.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: test error log stream
          source: |2
          
              fastify.get('/error', function (req, reply) {
            ----------^
                t.ok(req.log)
                reply.send(new Error('kaboom'))
          ...
        
        # test count(2) != plan(11)
        # failed 2 of 2 tests
    not ok 3 - test error log stream # time=16.254ms
    
    # Subtest: can use external logger instance
        1..6
        not ok 1 - (stringifiers[key] || wildcardStringifier || stringify) is not a function
          ---
          stack: |
            asChindings (node_modules/pino/lib/tools.js:201:70)
            pino (node_modules/pino/pino.js:140:19)
            Test.<anonymous> (test/logger.test.js:203:33)
          at:
            line: 201
            column: 70
            file: node_modules/pino/lib/tools.js
            function: asChindings
          type: TypeError
          tapCaught: testFunctionThrow
          test: can use external logger instance
          source: >2
                  value = serializers[key] ? serializers[key](value) : value
                  value = (stringifiers[key] || wildcardStringifier || stringify)(value, stringifySafe)
            ---------------------------------------------------------------------^
                  if (value === undefined) continue
                  data += ',"' + key + '":' + value
          ...
        
        # test count(1) != plan(6)
        # failed 1 test
    not ok 4 - can use external logger instance # time=8.857ms
    
    # Subtest: can use external logger instance with custom serializer
        1..6
        not ok 1 - (stringifiers[key] || wildcardStringifier || stringify) is not a function
          ---
          stack: |
            asChindings (node_modules/pino/lib/tools.js:201:70)
            pino (node_modules/pino/pino.js:140:19)
            Test.<anonymous> (test/logger.test.js:237:33)
          at:
            line: 201
            column: 70
            file: node_modules/pino/lib/tools.js
            function: asChindings
          type: TypeError
          tapCaught: testFunctionThrow
          test: can use external logger instance with custom serializer
          source: >2
                  value = serializers[key] ? serializers[key](value) : value
                  value = (stringifiers[key] || wildcardStringifier || stringify)(value, stringifySafe)
            ---------------------------------------------------------------------^
                  if (value === undefined) continue
                  data += ',"' + key + '":' + value
          ...
        
        # test count(1) != plan(6)
        # failed 1 test
    not ok 5 - can use external logger instance with custom serializer # time=8.276ms
    
    # Subtest: expose the logger
        1..2
        not ok 1 - (unnamed test)
          ---
          at:
            line: 281
            column: 7
            file: test/logger.test.js
            type: Test
          stack: |
            Test.<anonymous> (test/logger.test.js:281:7)
          source: |2
              } catch (e) {
                t.fail()
            ------^
              }
          ...
        
        not ok 2 - Cannot read properties of null (reading 'log')
          ---
          stack: |
            Test.<anonymous> (test/logger.test.js:284:16)
          at:
            line: 284
            column: 16
            file: test/logger.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: expose the logger
          source: |2
          
              t.ok(fastify.log)
            ---------------^
              t.same(typeof fastify.log, 'object')
            })
          ...
        
        # failed 2 of 2 tests
    not ok 6 - expose the logger # time=31.49ms
    
    # Subtest: The request id header key can be customized
        1..9
        not ok 1 - (stringifiers[key] || wildcardStringifier || stringify) is not a function
          ---
          stack: |
            asChindings (node_modules/pino/lib/tools.js:201:70)
            pino (node_modules/pino/pino.js:140:19)
            createPinoLogger (lib/logger.js:42:14)
            createLogger (lib/logger.js:98:20)
            fastify (fastify.js:122:33)
            Test.<anonymous> (test/logger.test.js:293:19)
          at:
            line: 201
            column: 70
            file: node_modules/pino/lib/tools.js
            function: asChindings
          type: TypeError
          tapCaught: testFunctionThrow
          test: The request id header key can be customized
          source: >2
                  value = serializers[key] ? serializers[key](value) : value
                  value = (stringifiers[key] || wildcardStringifier || stringify)(value, stringifySafe)
            ---------------------------------------------------------------------^
                  if (value === undefined) continue
                  data += ',"' + key + '":' + value
          ...
        
        # test count(1) != plan(9)
        # failed 1 test
    not ok 7 - The request id header key can be customized # time=90.032ms
    
    # Subtest: The request id header key can be customized along with a custom id generator
        1..12
        not ok 1 - (stringifiers[key] || wildcardStringifier || stringify) is not a function
          ---
          stack: |
            asChindings (node_modules/pino/lib/tools.js:201:70)
            pino (node_modules/pino/pino.js:140:19)
            createPinoLogger (lib/logger.js:42:14)
            createLogger (lib/logger.js:98:20)
            fastify (fastify.js:122:33)
            Test.<anonymous> (test/logger.test.js:338:19)
          at:
            line: 201
            column: 70
            file: node_modules/pino/lib/tools.js
            function: asChindings
          type: TypeError
          tapCaught: testFunctionThrow
          test: The request id header key can be customized along with a custom id generator
          source: >2
                  value = serializers[key] ? serializers[key](value) : value
                  value = (stringifiers[key] || wildcardStringifier || stringify)(value, stringifySafe)
            ---------------------------------------------------------------------^
                  if (value === undefined) continue
                  data += ',"' + key + '":' + value
          ...
        
        # test count(1) != plan(12)
        # failed 1 test
    not ok 8 - The request id header key can be customized along with a custom id generator # time=19.009ms
    
    # Subtest: The request id log label can be changed
        1..6
        not ok 1 - (stringifiers[key] || wildcardStringifier || stringify) is not a function
          ---
          stack: |
            asChindings (node_modules/pino/lib/tools.js:201:70)
            pino (node_modules/pino/pino.js:140:19)
            createPinoLogger (lib/logger.js:42:14)
            createLogger (lib/logger.js:98:20)
            fastify (fastify.js:122:33)
            Test.<anonymous> (test/logger.test.js:401:19)
          at:
            line: 201
            column: 70
            file: node_modules/pino/lib/tools.js
            function: asChindings
          type: TypeError
          tapCaught: testFunctionThrow
          test: The request id log label can be changed
          source: >2
                  value = serializers[key] ? serializers[key](value) : value
                  value = (stringifiers[key] || wildcardStringifier || stringify)(value, stringifySafe)
            ---------------------------------------------------------------------^
                  if (value === undefined) continue
                  data += ',"' + key + '":' + value
          ...
        
        # test count(1) != plan(6)
        # failed 1 test
    not ok 9 - The request id log label can be changed # time=10.427ms
    
    # Subtest: The logger should accept custom serializer
        1..9
        not ok 1 - (stringifiers[key] || wildcardStringifier || stringify) is not a function
          ---
          stack: |
            asChindings (node_modules/pino/lib/tools.js:201:70)
            pino (node_modules/pino/pino.js:140:19)
            createPinoLogger (lib/logger.js:42:14)
            createLogger (lib/logger.js:98:20)
            fastify (fastify.js:122:33)
            Test.<anonymous> (test/logger.test.js:443:19)
          at:
            line: 201
            column: 70
            file: node_modules/pino/lib/tools.js
            function: asChindings
          type: TypeError
          tapCaught: testFunctionThrow
          test: The logger should accept custom serializer
          source: >2
                  value = serializers[key] ? serializers[key](value) : value
                  value = (stringifiers[key] || wildcardStringifier || stringify)(value, stringifySafe)
            ---------------------------------------------------------------------^
                  if (value === undefined) continue
                  data += ',"' + key + '":' + value
          ...
        
        # test count(1) != plan(9)
        # failed 1 test
    not ok 10 - The logger should accept custom serializer # time=7.922ms
    
    # Subtest: reply.send logs an error if called twice in a row
        1..6
        not ok 1 - (stringifiers[key] || wildcardStringifier || stringify) is not a function
          ---
          stack: |
            asChindings (node_modules/pino/lib/tools.js:201:70)
            pino (node_modules/pino/pino.js:140:19)
            Test.<anonymous> (test/logger.test.js:494:18)
          at:
            line: 201
            column: 70
            file: node_modules/pino/lib/tools.js
            function: asChindings
          type: TypeError
          tapCaught: testFunctionThrow
          test: reply.send logs an error if called twice in a row
          source: >2
                  value = serializers[key] ? serializers[key](value) : value
                  value = (stringifiers[key] || wildcardStringifier || stringify)(value, stringifySafe)
            ---------------------------------------------------------------------^
                  if (value === undefined) continue
                  data += ',"' + key + '":' + value
          ...
        
        # test count(1) != plan(6)
        # failed 1 test
    not ok 11 - reply.send logs an error if called twice in a row # time=6.87ms
    
    # Subtest: logger can be silented
        1..17
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equivalent
        ok 10 - should be equivalent
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equivalent
        ok 14 - should be equivalent
        ok 15 - should be equivalent
        ok 16 - should be equivalent
        ok 17 - should be equivalent
    ok 12 - logger can be silented # time=18.26ms
    
    # Subtest: Should set a custom logLevel for a plugin
        1..7
        not ok 1 - (stringifiers[key] || wildcardStringifier || stringify) is not a function
          ---
          stack: |
            asChindings (node_modules/pino/lib/tools.js:201:70)
            pino (node_modules/pino/pino.js:140:19)
            Test.<anonymous> (test/logger.test.js:552:18)
          at:
            line: 201
            column: 70
            file: node_modules/pino/lib/tools.js
            function: asChindings
          type: TypeError
          tapCaught: testFunctionThrow
          test: Should set a custom logLevel for a plugin
          source: >2
                  value = serializers[key] ? serializers[key](value) : value
                  value = (stringifiers[key] || wildcardStringifier || stringify)(value, stringifySafe)
            ---------------------------------------------------------------------^
                  if (value === undefined) continue
                  data += ',"' + key + '":' + value
          ...
        
        # test count(1) != plan(7)
        # failed 1 test
    not ok 13 - Should set a custom logLevel for a plugin # time=10.281ms
    
    # Subtest: Should set a custom logSerializers for a plugin
        1..3
        not ok 1 - (stringifiers[key] || wildcardStringifier || stringify) is not a function
          ---
          stack: |
            asChindings (node_modules/pino/lib/tools.js:201:70)
            pino (node_modules/pino/pino.js:140:19)
            Test.<anonymous> (test/logger.test.js:600:18)
          at:
            line: 201
            column: 70
            file: node_modules/pino/lib/tools.js
            function: asChindings
          type: TypeError
          tapCaught: testFunctionThrow
          test: Should set a custom logSerializers for a plugin
          source: >2
                  value = serializers[key] ? serializers[key](value) : value
                  value = (stringifiers[key] || wildcardStringifier || stringify)(value, stringifySafe)
            ---------------------------------------------------------------------^
                  if (value === undefined) continue
                  data += ',"' + key + '":' + value
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 14 - Should set a custom logSerializers for a plugin # time=7.278ms
    
    # Subtest: Should set a custom logLevel for every plugin
        1..18
        not ok 1 - (stringifiers[key] || wildcardStringifier || stringify) is not a function
          ---
          stack: |
            asChindings (node_modules/pino/lib/tools.js:201:70)
            pino (node_modules/pino/pino.js:140:19)
            Test.<anonymous> (test/logger.test.js:634:18)
          at:
            line: 201
            column: 70
            file: node_modules/pino/lib/tools.js
            function: asChindings
          type: TypeError
          tapCaught: testFunctionThrow
          test: Should set a custom logLevel for every plugin
          source: >2
                  value = serializers[key] ? serializers[key](value) : value
                  value = (stringifiers[key] || wildcardStringifier || stringify)(value, stringifySafe)
            ---------------------------------------------------------------------^
                  if (value === undefined) continue
                  data += ',"' + key + '":' + value
          ...
        
        # test count(1) != plan(18)
        # failed 1 test
    not ok 15 - Should set a custom logLevel for every plugin # time=28.301ms
    
    # Subtest: Should set a custom logSerializers for every plugin
        1..6
        not ok 1 - (stringifiers[key] || wildcardStringifier || stringify) is not a function
          ---
          stack: |
            asChindings (node_modules/pino/lib/tools.js:201:70)
            pino (node_modules/pino/pino.js:140:19)
            Test.<anonymous> (test/logger.test.js:702:18)
          at:
            line: 201
            column: 70
            file: node_modules/pino/lib/tools.js
            function: asChindings
          type: TypeError
          tapCaught: returnedPromiseRejection
          test: Should set a custom logSerializers for every plugin
          source: >2
                  value = serializers[key] ? serializers[key](value) : value
                  value = (stringifiers[key] || wildcardStringifier || stringify)(value, stringifySafe)
            ---------------------------------------------------------------------^
                  if (value === undefined) continue
                  data += ',"' + key + '":' + value
          ...
        
        # test count(1) != plan(6)
        # failed 1 test
    not ok 16 - Should set a custom logSerializers for every plugin # time=19.911ms
    
    # Subtest: Should override serializers from route
        1..3
        not ok 1 - (stringifiers[key] || wildcardStringifier || stringify) is not a function
          ---
          stack: |
            asChindings (node_modules/pino/lib/tools.js:201:70)
            pino (node_modules/pino/pino.js:140:19)
            Test.<anonymous> (test/logger.test.js:757:18)
          at:
            line: 201
            column: 70
            file: node_modules/pino/lib/tools.js
            function: asChindings
          type: TypeError
          tapCaught: testFunctionThrow
          test: Should override serializers from route
          source: >2
                  value = serializers[key] ? serializers[key](value) : value
                  value = (stringifiers[key] || wildcardStringifier || stringify)(value, stringifySafe)
            ---------------------------------------------------------------------^
                  if (value === undefined) continue
                  data += ',"' + key + '":' + value
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 17 - Should override serializers from route # time=17.816ms
    
    # Subtest: Should override serializers from plugin
        1..3
        not ok 1 - (stringifiers[key] || wildcardStringifier || stringify) is not a function
          ---
          stack: |
            asChindings (node_modules/pino/lib/tools.js:201:70)
            pino (node_modules/pino/pino.js:140:19)
            Test.<anonymous> (test/logger.test.js:794:18)
          at:
            line: 201
            column: 70
            file: node_modules/pino/lib/tools.js
            function: asChindings
          type: TypeError
          tapCaught: testFunctionThrow
          test: Should override serializers from plugin
          source: >2
                  value = serializers[key] ? serializers[key](value) : value
                  value = (stringifiers[key] || wildcardStringifier || stringify)(value, stringifySafe)
            ---------------------------------------------------------------------^
                  if (value === undefined) continue
                  data += ',"' + key + '":' + value
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 18 - Should override serializers from plugin # time=20.212ms
    
    # Subtest: Should use serializers from plugin and route
        1..4
        not ok 1 - (stringifiers[key] || wildcardStringifier || stringify) is not a function
          ---
          stack: |
            asChindings (node_modules/pino/lib/tools.js:201:70)
            pino (node_modules/pino/pino.js:140:19)
            Test.<anonymous> (test/logger.test.js:839:18)
          at:
            line: 201
            column: 70
            file: node_modules/pino/lib/tools.js
            function: asChindings
          type: TypeError
          tapCaught: testFunctionThrow
          test: Should use serializers from plugin and route
          source: >2
                  value = serializers[key] ? serializers[key](value) : value
                  value = (stringifiers[key] || wildcardStringifier || stringify)(value, stringifySafe)
            ---------------------------------------------------------------------^
                  if (value === undefined) continue
                  data += ',"' + key + '":' + value
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 19 - Should use serializers from plugin and route # time=19.764ms
    
    # Subtest: Should use serializers from instance fastify and route
        1..4
        not ok 1 - (stringifiers[key] || wildcardStringifier || stringify) is not a function
          ---
          stack: |
            asChindings (node_modules/pino/lib/tools.js:201:70)
            pino (node_modules/pino/pino.js:140:19)
            Test.<anonymous> (test/logger.test.js:883:18)
          at:
            line: 201
            column: 70
            file: node_modules/pino/lib/tools.js
            function: asChindings
          type: TypeError
          tapCaught: testFunctionThrow
          test: Should use serializers from instance fastify and route
          source: >2
                  value = serializers[key] ? serializers[key](value) : value
                  value = (stringifiers[key] || wildcardStringifier || stringify)(value, stringifySafe)
            ---------------------------------------------------------------------^
                  if (value === undefined) continue
                  data += ',"' + key + '":' + value
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 20 - Should use serializers from instance fastify and route # time=6.952ms
    
    # Subtest: Should use serializers inherit from contexts
        1..5
        not ok 1 - (stringifiers[key] || wildcardStringifier || stringify) is not a function
          ---
          stack: |
            asChindings (node_modules/pino/lib/tools.js:201:70)
            pino (node_modules/pino/pino.js:140:19)
            Test.<anonymous> (test/logger.test.js:925:18)
          at:
            line: 201
            column: 70
            file: node_modules/pino/lib/tools.js
            function: asChindings
          type: TypeError
          tapCaught: testFunctionThrow
          test: Should use serializers inherit from contexts
          source: >2
                  value = serializers[key] ? serializers[key](value) : value
                  value = (stringifiers[key] || wildcardStringifier || stringify)(value, stringifySafe)
            ---------------------------------------------------------------------^
                  if (value === undefined) continue
                  data += ',"' + key + '":' + value
          ...
        
        # test count(1) != plan(5)
        # failed 1 test
    not ok 21 - Should use serializers inherit from contexts # time=7.517ms
    
    # Subtest: Should increase the log level for a specific plugin
        1..4
        not ok 1 - (stringifiers[key] || wildcardStringifier || stringify) is not a function
          ---
          stack: |
            asChindings (node_modules/pino/lib/tools.js:201:70)
            pino (node_modules/pino/pino.js:140:19)
            Test.<anonymous> (test/logger.test.js:966:18)
          at:
            line: 201
            column: 70
            file: node_modules/pino/lib/tools.js
            function: asChindings
          type: TypeError
          tapCaught: testFunctionThrow
          test: Should increase the log level for a specific plugin
          source: >2
                  value = serializers[key] ? serializers[key](value) : value
                  value = (stringifiers[key] || wildcardStringifier || stringify)(value, stringifySafe)
            ---------------------------------------------------------------------^
                  if (value === undefined) continue
                  data += ',"' + key + '":' + value
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 22 - Should increase the log level for a specific plugin # time=6.365ms
    
    # Subtest: Should set the log level for the customized 404 handler
        1..4
        not ok 1 - (stringifiers[key] || wildcardStringifier || stringify) is not a function
          ---
          stack: |
            asChindings (node_modules/pino/lib/tools.js:201:70)
            pino (node_modules/pino/pino.js:140:19)
            Test.<anonymous> (test/logger.test.js:999:18)
          at:
            line: 201
            column: 70
            file: node_modules/pino/lib/tools.js
            function: asChindings
          type: TypeError
          tapCaught: testFunctionThrow
          test: Should set the log level for the customized 404 handler
          source: >2
                  value = serializers[key] ? serializers[key](value) : value
                  value = (stringifiers[key] || wildcardStringifier || stringify)(value, stringifySafe)
            ---------------------------------------------------------------------^
                  if (value === undefined) continue
                  data += ',"' + key + '":' + value
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 23 - Should set the log level for the customized 404 handler # time=12.581ms
    
    # Subtest: Should set the log level for the customized 500 handler
        1..4
        not ok 1 - (stringifiers[key] || wildcardStringifier || stringify) is not a function
          ---
          stack: |
            asChindings (node_modules/pino/lib/tools.js:201:70)
            pino (node_modules/pino/pino.js:140:19)
            Test.<anonymous> (test/logger.test.js:1031:18)
          at:
            line: 201
            column: 70
            file: node_modules/pino/lib/tools.js
            function: asChindings
          type: TypeError
          tapCaught: testFunctionThrow
          test: Should set the log level for the customized 500 handler
          source: >2
                  value = serializers[key] ? serializers[key](value) : value
                  value = (stringifiers[key] || wildcardStringifier || stringify)(value, stringifySafe)
            ---------------------------------------------------------------------^
                  if (value === undefined) continue
                  data += ',"' + key + '":' + value
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 24 - Should set the log level for the customized 500 handler # time=14.157ms
    
    # Subtest: Should set a custom log level for a specific route
        1..7
        not ok 1 - (stringifiers[key] || wildcardStringifier || stringify) is not a function
          ---
          stack: |
            asChindings (node_modules/pino/lib/tools.js:201:70)
            pino (node_modules/pino/pino.js:140:19)
            Test.<anonymous> (test/logger.test.js:1068:18)
          at:
            line: 201
            column: 70
            file: node_modules/pino/lib/tools.js
            function: asChindings
          type: TypeError
          tapCaught: testFunctionThrow
          test: Should set a custom log level for a specific route
          source: >2
                  value = serializers[key] ? serializers[key](value) : value
                  value = (stringifiers[key] || wildcardStringifier || stringify)(value, stringifySafe)
            ---------------------------------------------------------------------^
                  if (value === undefined) continue
                  data += ',"' + key + '":' + value
          ...
        
        # test count(1) != plan(7)
        # failed 1 test
    not ok 25 - Should set a custom log level for a specific route # time=12.307ms
    
    # Subtest: The default 404 handler logs the incoming request
        1..5
        not ok 1 - (stringifiers[key] || wildcardStringifier || stringify) is not a function
          ---
          stack: |
            asChindings (node_modules/pino/lib/tools.js:201:70)
            pino (node_modules/pino/pino.js:140:19)
            Test.<anonymous> (test/logger.test.js:1117:18)
          at:
            line: 201
            column: 70
            file: node_modules/pino/lib/tools.js
            function: asChindings
          type: TypeError
          tapCaught: testFunctionThrow
          test: The default 404 handler logs the incoming request
          source: >2
                  value = serializers[key] ? serializers[key](value) : value
                  value = (stringifiers[key] || wildcardStringifier || stringify)(value, stringifySafe)
            ---------------------------------------------------------------------^
                  if (value === undefined) continue
                  data += ',"' + key + '":' + value
          ...
        
        # test count(1) != plan(5)
        # failed 1 test
    not ok 26 - The default 404 handler logs the incoming request # time=5.202ms
    
    # Subtest: should serialize request and response
        1..3
        not ok 1 - (stringifiers[key] || wildcardStringifier || stringify) is not a function
          ---
          stack: |
            asChindings (node_modules/pino/lib/tools.js:201:70)
            pino (node_modules/pino/pino.js:140:19)
            createPinoLogger (lib/logger.js:42:14)
            createLogger (lib/logger.js:98:20)
            fastify (fastify.js:122:33)
            Test.<anonymous> (test/logger.test.js:1141:19)
          at:
            line: 201
            column: 70
            file: node_modules/pino/lib/tools.js
            function: asChindings
          type: TypeError
          tapCaught: testFunctionThrow
          test: should serialize request and response
          source: >2
                  value = serializers[key] ? serializers[key](value) : value
                  value = (stringifiers[key] || wildcardStringifier || stringify)(value, stringifySafe)
            ---------------------------------------------------------------------^
                  if (value === undefined) continue
                  data += ',"' + key + '":' + value
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 27 - should serialize request and response # time=11.742ms
    
    # Subtest: Wrap IPv6 address in listening log message
        1..2
        not ok 1 - (stringifiers[key] || wildcardStringifier || stringify) is not a function
          ---
          stack: |
            asChindings (node_modules/pino/lib/tools.js:201:70)
            pino (node_modules/pino/pino.js:140:19)
            createPinoLogger (lib/logger.js:42:14)
            createLogger (lib/logger.js:98:20)
            fastify (fastify.js:122:33)
            Test.<anonymous> (test/logger.test.js:1172:23)
          at:
            line: 201
            column: 70
            file: node_modules/pino/lib/tools.js
            function: asChindings
          type: TypeError
          tapCaught: testFunctionThrow
          test: Wrap IPv6 address in listening log message
          source: >2
                  value = serializers[key] ? serializers[key](value) : value
                  value = (stringifiers[key] || wildcardStringifier || stringify)(value, stringifySafe)
            ---------------------------------------------------------------------^
                  if (value === undefined) continue
                  data += ',"' + key + '":' + value
          ...
        
        # test count(1) != plan(2)
        # failed 1 test
    not ok 28 - Wrap IPv6 address in listening log message # time=7.656ms
    
    # Subtest: Do not wrap IPv4 address
        1..2
        not ok 1 - (stringifiers[key] || wildcardStringifier || stringify) is not a function
          ---
          stack: |
            asChindings (node_modules/pino/lib/tools.js:201:70)
            pino (node_modules/pino/pino.js:140:19)
            createPinoLogger (lib/logger.js:42:14)
            createLogger (lib/logger.js:98:20)
            fastify (fastify.js:122:33)
            Test.<anonymous> (test/logger.test.js:1194:19)
          at:
            line: 201
            column: 70
            file: node_modules/pino/lib/tools.js
            function: asChindings
          type: TypeError
          tapCaught: testFunctionThrow
          test: Do not wrap IPv4 address
          source: >2
                  value = serializers[key] ? serializers[key](value) : value
                  value = (stringifiers[key] || wildcardStringifier || stringify)(value, stringifySafe)
            ---------------------------------------------------------------------^
                  if (value === undefined) continue
                  data += ',"' + key + '":' + value
          ...
        
        # test count(1) != plan(2)
        # failed 1 test
    not ok 29 - Do not wrap IPv4 address # time=5.442ms
    
    # Subtest: file option
        1..13
        not ok 1 - (stringifiers[key] || wildcardStringifier || stringify) is not a function
          ---
          stack: |
            asChindings (node_modules/pino/lib/tools.js:201:70)
            pino (node_modules/pino/pino.js:140:19)
            createPinoLogger (lib/logger.js:42:14)
            createLogger (lib/logger.js:98:20)
            fastify (fastify.js:122:33)
            Test.<anonymous> (test/logger.test.js:1216:13)
          at:
            line: 201
            column: 70
            file: node_modules/pino/lib/tools.js
            function: asChindings
          type: TypeError
          tapCaught: testFunctionThrow
          test: file option
          source: >2
                  value = serializers[key] ? serializers[key](value) : value
                  value = (stringifiers[key] || wildcardStringifier || stringify)(value, stringifySafe)
            ---------------------------------------------------------------------^
                  if (value === undefined) continue
                  data += ',"' + key + '":' + value
          ...
        
        # test count(1) != plan(13)
        # failed 1 test
    not ok 30 - file option # time=9.213ms
    
    # Subtest: should log the error if no error handler is defined
        1..8
        not ok 1 - (stringifiers[key] || wildcardStringifier || stringify) is not a function
          ---
          stack: |
            asChindings (node_modules/pino/lib/tools.js:201:70)
            pino (node_modules/pino/pino.js:140:19)
            createPinoLogger (lib/logger.js:42:14)
            createLogger (lib/logger.js:98:20)
            fastify (fastify.js:122:33)
            Test.<anonymous> (test/logger.test.js:1262:19)
          at:
            line: 201
            column: 70
            file: node_modules/pino/lib/tools.js
            function: asChindings
          type: TypeError
          tapCaught: testFunctionThrow
          test: should log the error if no error handler is defined
          source: >2
                  value = serializers[key] ? serializers[key](value) : value
                  value = (stringifiers[key] || wildcardStringifier || stringify)(value, stringifySafe)
            ---------------------------------------------------------------------^
                  if (value === undefined) continue
                  data += ',"' + key + '":' + value
          ...
        
        # test count(1) != plan(8)
        # failed 1 test
    not ok 31 - should log the error if no error handler is defined # time=5.085ms
    
    # Subtest: should log as info if error status code >= 400 and < 500 if no error handler is defined
        1..8
        not ok 1 - (stringifiers[key] || wildcardStringifier || stringify) is not a function
          ---
          stack: |
            asChindings (node_modules/pino/lib/tools.js:201:70)
            pino (node_modules/pino/pino.js:140:19)
            createPinoLogger (lib/logger.js:42:14)
            createLogger (lib/logger.js:98:20)
            fastify (fastify.js:122:33)
            Test.<anonymous> (test/logger.test.js:1297:19)
          at:
            line: 201
            column: 70
            file: node_modules/pino/lib/tools.js
            function: asChindings
          type: TypeError
          tapCaught: testFunctionThrow
          test: should log as info if error status code >= 400 and < 500 if no error
            handler is defined
          source: >2
                  value = serializers[key] ? serializers[key](value) : value
                  value = (stringifiers[key] || wildcardStringifier || stringify)(value, stringifySafe)
            ---------------------------------------------------------------------^
                  if (value === undefined) continue
                  data += ',"' + key + '":' + value
          ...
        
        # test count(1) != plan(8)
        # failed 1 test
    not ok 32 - should log as info if error status code >= 400 and < 500 if no error handler is defined # time=5.39ms
    
    # Subtest: should log as error if error status code >= 500 if no error handler is defined
        1..8
        not ok 1 - (stringifiers[key] || wildcardStringifier || stringify) is not a function
          ---
          stack: |
            asChindings (node_modules/pino/lib/tools.js:201:70)
            pino (node_modules/pino/pino.js:140:19)
            createPinoLogger (lib/logger.js:42:14)
            createLogger (lib/logger.js:98:20)
            fastify (fastify.js:122:33)
            Test.<anonymous> (test/logger.test.js:1336:19)
          at:
            line: 201
            column: 70
            file: node_modules/pino/lib/tools.js
            function: asChindings
          type: TypeError
          tapCaught: testFunctionThrow
          test: should log as error if error status code >= 500 if no error handler is defined
          source: >2
                  value = serializers[key] ? serializers[key](value) : value
                  value = (stringifiers[key] || wildcardStringifier || stringify)(value, stringifySafe)
            ---------------------------------------------------------------------^
                  if (value === undefined) continue
                  data += ',"' + key + '":' + value
          ...
        
        # test count(1) != plan(8)
        # failed 1 test
    not ok 33 - should log as error if error status code >= 500 if no error handler is defined # time=5.441ms
    
    # Subtest: should not log the error if error handler is defined and it does not error
        1..8
        not ok 1 - (stringifiers[key] || wildcardStringifier || stringify) is not a function
          ---
          stack: |
            asChindings (node_modules/pino/lib/tools.js:201:70)
            pino (node_modules/pino/pino.js:140:19)
            createPinoLogger (lib/logger.js:42:14)
            createLogger (lib/logger.js:98:20)
            fastify (fastify.js:122:33)
            Test.<anonymous> (test/logger.test.js:1371:19)
          at:
            line: 201
            column: 70
            file: node_modules/pino/lib/tools.js
            function: asChindings
          type: TypeError
          tapCaught: testFunctionThrow
          test: should not log the error if error handler is defined and it does not error
          source: >2
                  value = serializers[key] ? serializers[key](value) : value
                  value = (stringifiers[key] || wildcardStringifier || stringify)(value, stringifySafe)
            ---------------------------------------------------------------------^
                  if (value === undefined) continue
                  data += ',"' + key + '":' + value
          ...
        
        # test count(1) != plan(8)
        # failed 1 test
    not ok 34 - should not log the error if error handler is defined and it does not error # time=5.874ms
    
    # Subtest: should not rely on raw request to log errors
        1..7
        not ok 1 - (stringifiers[key] || wildcardStringifier || stringify) is not a function
          ---
          stack: |
            asChindings (node_modules/pino/lib/tools.js:201:70)
            pino (node_modules/pino/pino.js:140:19)
            createPinoLogger (lib/logger.js:42:14)
            createLogger (lib/logger.js:98:20)
            fastify (fastify.js:122:33)
            Test.<anonymous> (test/logger.test.js:1407:19)
          at:
            line: 201
            column: 70
            file: node_modules/pino/lib/tools.js
            function: asChindings
          type: TypeError
          tapCaught: testFunctionThrow
          test: should not rely on raw request to log errors
          source: >2
                  value = serializers[key] ? serializers[key](value) : value
                  value = (stringifiers[key] || wildcardStringifier || stringify)(value, stringifySafe)
            ---------------------------------------------------------------------^
                  if (value === undefined) continue
                  data += ',"' + key + '":' + value
          ...
        
        # test count(1) != plan(7)
        # failed 1 test
    not ok 35 - should not rely on raw request to log errors # time=8.23ms
    
    # Subtest: should redact the authorization header if so specified
        1..7
        not ok 1 - (stringifiers[key] || wildcardStringifier || stringify) is not a function
          ---
          stack: |
            asChindings (node_modules/pino/lib/tools.js:201:70)
            pino (node_modules/pino/pino.js:140:19)
            createPinoLogger (lib/logger.js:42:14)
            createLogger (lib/logger.js:98:20)
            fastify (fastify.js:122:33)
            Test.<anonymous> (test/logger.test.js:1439:19)
          at:
            line: 201
            column: 70
            file: node_modules/pino/lib/tools.js
            function: asChindings
          type: TypeError
          tapCaught: testFunctionThrow
          test: should redact the authorization header if so specified
          source: >2
                  value = serializers[key] ? serializers[key](value) : value
                  value = (stringifiers[key] || wildcardStringifier || stringify)(value, stringifySafe)
            ---------------------------------------------------------------------^
                  if (value === undefined) continue
                  data += ',"' + key + '":' + value
          ...
        
        # test count(1) != plan(7)
        # failed 1 test
    not ok 36 - should redact the authorization header if so specified # time=26.581ms
    
    # Subtest: should not log incoming request and outgoing response when disabled
        1..3
        not ok 1 - (stringifiers[key] || wildcardStringifier || stringify) is not a function
          ---
          stack: |
            asChindings (node_modules/pino/lib/tools.js:201:70)
            pino (node_modules/pino/pino.js:140:19)
            createPinoLogger (lib/logger.js:42:14)
            createLogger (lib/logger.js:98:20)
            fastify (fastify.js:122:33)
            Test.<anonymous> (test/logger.test.js:1495:19)
          at:
            line: 201
            column: 70
            file: node_modules/pino/lib/tools.js
            function: asChindings
          type: TypeError
          tapCaught: testFunctionThrow
          test: should not log incoming request and outgoing response when disabled
          source: >2
                  value = serializers[key] ? serializers[key](value) : value
                  value = (stringifiers[key] || wildcardStringifier || stringify)(value, stringifySafe)
            ---------------------------------------------------------------------^
                  if (value === undefined) continue
                  data += ',"' + key + '":' + value
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 37 - should not log incoming request and outgoing response when disabled # time=22.912ms
    
    # Subtest: should not log incoming request and outgoing response for 404 onBadUrl when disabled
        1..1
        not ok 1 - (stringifiers[key] || wildcardStringifier || stringify) is not a function
          ---
          stack: |
            asChindings (node_modules/pino/lib/tools.js:201:70)
            pino (node_modules/pino/pino.js:140:19)
            createPinoLogger (lib/logger.js:42:14)
            createLogger (lib/logger.js:98:20)
            fastify (fastify.js:122:33)
            Test.<anonymous> (test/logger.test.js:1520:19)
          at:
            line: 201
            column: 70
            file: node_modules/pino/lib/tools.js
            function: asChindings
          type: TypeError
          tapCaught: testFunctionThrow
          test: should not log incoming request and outgoing response for 404 onBadUrl
            when disabled
          source: >2
                  value = serializers[key] ? serializers[key](value) : value
                  value = (stringifiers[key] || wildcardStringifier || stringify)(value, stringifySafe)
            ---------------------------------------------------------------------^
                  if (value === undefined) continue
                  data += ',"' + key + '":' + value
          ...
        
        # failed 1 test
    not ok 38 - should not log incoming request and outgoing response for 404 onBadUrl when disabled # time=4.934ms
    
    # Subtest: should pass when using unWritable props in the logger option
        1..1
        not ok 1 - (stringifiers[key] || wildcardStringifier || stringify) is not a function
          ---
          stack: |
            asChindings (node_modules/pino/lib/tools.js:201:70)
            pino (node_modules/pino/pino.js:140:19)
            createPinoLogger (lib/logger.js:42:14)
            createLogger (lib/logger.js:98:20)
            fastify (fastify.js:122:33)
            Test.<anonymous> (test/logger.test.js:1533:3)
          at:
            line: 201
            column: 70
            file: node_modules/pino/lib/tools.js
            function: asChindings
          type: TypeError
          tapCaught: testFunctionThrow
          test: should pass when using unWritable props in the logger option
          source: >2
                  value = serializers[key] ? serializers[key](value) : value
                  value = (stringifiers[key] || wildcardStringifier || stringify)(value, stringifySafe)
            ---------------------------------------------------------------------^
                  if (value === undefined) continue
                  data += ',"' + key + '":' + value
          ...
        
        # failed 1 test
    not ok 39 - should pass when using unWritable props in the logger option # time=6.478ms
    
    # Subtest: should be able to use a custom logger
        1..1
        ok 1 - (unnamed test)
    ok 40 - should be able to use a custom logger # time=1.507ms
    
    # Subtest: should create a default logger if provided one is invalid
        1..1
        not ok 1 - (stringifiers[key] || wildcardStringifier || stringify) is not a function
          ---
          stack: |
            asChindings (node_modules/pino/lib/tools.js:201:70)
            pino (node_modules/pino/pino.js:140:19)
            createPinoLogger (lib/logger.js:42:14)
            createLogger (lib/logger.js:98:20)
            fastify (fastify.js:122:33)
            Test.<anonymous> (test/logger.test.js:1562:3)
          at:
            line: 201
            column: 70
            file: node_modules/pino/lib/tools.js
            function: asChindings
          type: TypeError
          tapCaught: testFunctionThrow
          test: should create a default logger if provided one is invalid
          source: >2
                  value = serializers[key] ? serializers[key](value) : value
                  value = (stringifiers[key] || wildcardStringifier || stringify)(value, stringifySafe)
            ---------------------------------------------------------------------^
                  if (value === undefined) continue
                  data += ',"' + key + '":' + value
          ...
        
        # failed 1 test
    not ok 41 - should create a default logger if provided one is invalid # time=4.392ms
    
    # Subtest: should not throw error when serializing custom req
        1..1
        not ok 1 - (stringifiers[key] || wildcardStringifier || stringify) is not a function
          ---
          stack: |
            asChindings (node_modules/pino/lib/tools.js:201:70)
            pino (node_modules/pino/pino.js:140:19)
            createPinoLogger (lib/logger.js:42:14)
            createLogger (lib/logger.js:98:20)
            fastify (fastify.js:122:33)
            Test.<anonymous> (test/logger.test.js:1577:19)
          at:
            line: 201
            column: 70
            file: node_modules/pino/lib/tools.js
            function: asChindings
          type: TypeError
          tapCaught: testFunctionThrow
          test: should not throw error when serializing custom req
          source: >2
                  value = serializers[key] ? serializers[key](value) : value
                  value = (stringifiers[key] || wildcardStringifier || stringify)(value, stringifySafe)
            ---------------------------------------------------------------------^
                  if (value === undefined) continue
                  data += ',"' + key + '":' + value
          ...
        
        # failed 1 test
    not ok 42 - should not throw error when serializing custom req # time=5.641ms
    
    1..42
    # failed 40 of 42 tests
    # time=773.778ms
not ok 67 - test/logger.test.js # time=773.778ms
  ---
  env: {}
  file: test/logger.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/logger.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/maxRequestsPerSocket.test.js
    # Subtest: maxRequestsPerSocket on node version >= 16.10.0
        1..8
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should match pattern provided
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
    ok 1 - maxRequestsPerSocket on node version >= 16.10.0 # time=77.204ms
    
    # Subtest: maxRequestsPerSocket zero should behave same as null
        1..10
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should match pattern provided
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
        ok 9 - should match pattern provided
        ok 10 - should match pattern provided
    ok 2 - maxRequestsPerSocket zero should behave same as null # time=19.708ms
    
    # Subtest: maxRequestsPerSocket should be set
        1..1
        ok 1 - should be equivalent
    ok 3 - maxRequestsPerSocket should be set # time=2.421ms
    
    # Subtest: maxRequestsPerSocket should 0
        1..1
        ok 1 - should be equivalent
    ok 4 - maxRequestsPerSocket should 0 # time=1.758ms
    
    # Subtest: requestTimeout passed to server
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 5 - requestTimeout passed to server # time=14.864ms
    
    1..5
    # time=127.612ms
ok 68 - test/maxRequestsPerSocket.test.js # time=127.612ms

# Subtest: test/middleware.test.js
    # Subtest: Should be able to override the default use API
        1..1
        ok 1 - should be equal
    ok 1 - Should be able to override the default use API # time=16.672ms
    
    # Subtest: Cannot decorate use twice
        1..1
        ok 1 - expect truthy value
    ok 2 - Cannot decorate use twice # time=2.601ms
    
    # Subtest: Encapsulation works
        1..1
        ok 1 - should be equal
    ok 3 - Encapsulation works # time=12.82ms
    
    1..3
    # time=47.459ms
ok 69 - test/middleware.test.js # time=47.459ms

# Subtest: test/noop-set.test.js
    # Subtest: does a lot of nothing
        ok 1 - type is object
        ok 2 - should be equal
        1..2
    ok 1 - does a lot of nothing # time=6.778ms
    
    1..1
    # time=11.884ms
ok 70 - test/noop-set.test.js # time=11.884ms

# Subtest: test/nullable-validation.test.js
    # Subtest: nullable string
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 1 - nullable string # time=149.29ms
    
    # Subtest: object or null body
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 2 - object or null body # time=52.206ms
    
    # Subtest: nullable body
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 3 - nullable body # time=56.884ms
    
    # Subtest: Nullable body with 204
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 4 - Nullable body with 204 # time=31.445ms
    
    1..4
    # time=297.336ms
ok 71 - test/nullable-validation.test.js # time=297.336ms

# Subtest: test/options.error-handler.test.js
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - OPTIONS can be created # time=9.371ms
    
    # Subtest: OPTIONS without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - OPTIONS without schema can be created # time=2.495ms
    
    # Subtest: OPTIONS with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - OPTIONS with body and querystring # time=1.741ms
    
    # Subtest: OPTIONS with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - OPTIONS with bodyLimit option # time=2.013ms
    
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - OPTIONS can be created # time=3.199ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - OPTIONS - correctly replies # time=67.248ms
    
    # Subtest: OPTIONS - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - OPTIONS - correctly replies with very large body # time=9.595ms
    
    # Subtest: OPTIONS - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - OPTIONS - correctly replies if the content type has the charset # time=5.822ms
    
    # Subtest: OPTIONS without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - OPTIONS without schema - correctly replies # time=6.109ms
    
    # Subtest: OPTIONS with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - OPTIONS with body and querystring - correctly replies # time=5.726ms
    
    # Subtest: OPTIONS with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - OPTIONS with no body - correctly replies # time=27.24ms
    
    # Subtest: OPTIONS returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - OPTIONS returns 415 - incorrect media type if body is not json # time=4.345ms
    
    # Subtest: OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text # time=5.314ms
    
    # Subtest: OPTIONS returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 14 - OPTIONS returns 400 - Bad Request # time=8.281ms
    
    # Subtest: OPTIONS returns 413 - Payload Too Large
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - OPTIONS returns 413 - Payload Too Large # time=6.598ms
    
    # Subtest: OPTIONS should fail with empty body and application/json content-type
        1..0
    ok 16 - OPTIONS should fail with empty body and application/json content-type # time=0.563ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - OPTIONS - correctly replies # time=4.341ms
    
    # Subtest: OPTIONS - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - OPTIONS - 400 on bad parameters # time=4.917ms
    
    # Subtest: OPTIONS - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - OPTIONS - input-validation coerce # time=4.063ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - OPTIONS - input-validation custom schema compiler # time=4.09ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - OPTIONS - input-validation joi schema compiler ok # time=5.862ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - OPTIONS - input-validation joi schema compiler ko # time=5.976ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - OPTIONS - input-validation yup schema compiler ok # time=9.481ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - OPTIONS - input-validation yup schema compiler ko # time=5.577ms
    
    # Subtest: OPTIONS - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - OPTIONS - input-validation instance custom schema compiler encapsulated # time=3.73ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 26 - OPTIONS - input-validation custom schema compiler encapsulated # time=4.247ms
    
    ok 27 - type is object
    ok 28 - type is Request
    ok 29 - type is object
    ok 30 - type is Request
    ok 31 - type is object
    ok 32 - type is Request
    ok 33 - type is object
    ok 34 - type is Request
    ok 35 - type is object
    ok 36 - type is Request
    1..36
    # time=1535.65ms
ok 72 - test/options.error-handler.test.js # time=1535.65ms

# Subtest: test/options.test.js
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - OPTIONS can be created # time=9.342ms
    
    # Subtest: OPTIONS without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - OPTIONS without schema can be created # time=2.163ms
    
    # Subtest: OPTIONS with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - OPTIONS with body and querystring # time=1.753ms
    
    # Subtest: OPTIONS with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - OPTIONS with bodyLimit option # time=2.442ms
    
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - OPTIONS can be created # time=3.077ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - OPTIONS - correctly replies # time=59.481ms
    
    # Subtest: OPTIONS - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - OPTIONS - correctly replies with very large body # time=9.318ms
    
    # Subtest: OPTIONS - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - OPTIONS - correctly replies if the content type has the charset # time=5.615ms
    
    # Subtest: OPTIONS without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - OPTIONS without schema - correctly replies # time=5.223ms
    
    # Subtest: OPTIONS with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - OPTIONS with body and querystring - correctly replies # time=5.489ms
    
    # Subtest: OPTIONS with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - OPTIONS with no body - correctly replies # time=26.941ms
    
    # Subtest: OPTIONS returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - OPTIONS returns 415 - incorrect media type if body is not json # time=4.12ms
    
    # Subtest: OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text # time=5.22ms
    
    # Subtest: OPTIONS returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 14 - OPTIONS returns 400 - Bad Request # time=7.304ms
    
    # Subtest: OPTIONS returns 413 - Payload Too Large
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - OPTIONS returns 413 - Payload Too Large # time=6.649ms
    
    # Subtest: OPTIONS should fail with empty body and application/json content-type
        1..0
    ok 16 - OPTIONS should fail with empty body and application/json content-type # time=0.594ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - OPTIONS - correctly replies # time=4.578ms
    
    # Subtest: OPTIONS - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - OPTIONS - 400 on bad parameters # time=5.032ms
    
    # Subtest: OPTIONS - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - OPTIONS - input-validation coerce # time=4.158ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - OPTIONS - input-validation custom schema compiler # time=4.141ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - OPTIONS - input-validation joi schema compiler ok # time=5.915ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - OPTIONS - input-validation joi schema compiler ko # time=6.057ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - OPTIONS - input-validation yup schema compiler ok # time=6.29ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - OPTIONS - input-validation yup schema compiler ko # time=5.382ms
    
    # Subtest: OPTIONS - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - OPTIONS - input-validation instance custom schema compiler encapsulated # time=3.946ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 26 - OPTIONS - input-validation custom schema compiler encapsulated # time=4.04ms
    
    1..26
    # time=1003.431ms
ok 73 - test/options.test.js # time=1003.431ms

# Subtest: test/output-validation.test.js
    # Subtest: shorthand - output string
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - output string # time=9.645ms
    
    # Subtest: shorthand - output number
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - output number # time=2.266ms
    
    # Subtest: wrong object for schema - output
        1..1
        ok 1 - (unnamed test)
    ok 3 - wrong object for schema - output # time=2.093ms
    
    # Subtest: empty response
        1..1
        ok 1 - (unnamed test)
    ok 4 - empty response # time=1.964ms
    
    # Subtest: unlisted response code
        1..1
        ok 1 - (unnamed test)
    ok 5 - unlisted response code # time=1.813ms
    
    ok 6 - should not error
    # Subtest: shorthand - string get ok
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - shorthand - string get ok # time=32.211ms
    
    # Subtest: shorthand - number get ok
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 8 - shorthand - number get ok # time=6.064ms
    
    # Subtest: shorthand - wrong-object-for-schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 9 - shorthand - wrong-object-for-schema # time=6.523ms
    
    # Subtest: shorthand - empty
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - shorthand - empty # time=4.141ms
    
    # Subtest: shorthand - 400
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - shorthand - 400 # time=4.77ms
    
    1..11
    # time=188.994ms
ok 74 - test/output-validation.test.js # time=188.994ms

# Subtest: test/patch.error-handler.test.js
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PATCH can be created # time=9.598ms
    
    # Subtest: PATCH without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PATCH without schema can be created # time=2.174ms
    
    # Subtest: PATCH with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PATCH with body and querystring # time=1.754ms
    
    # Subtest: PATCH with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PATCH with bodyLimit option # time=1.957ms
    
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - PATCH can be created # time=2.857ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - PATCH - correctly replies # time=61.588ms
    
    # Subtest: PATCH - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - PATCH - correctly replies with very large body # time=9.549ms
    
    # Subtest: PATCH - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - PATCH - correctly replies if the content type has the charset # time=5.786ms
    
    # Subtest: PATCH without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - PATCH without schema - correctly replies # time=5.402ms
    
    # Subtest: PATCH with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - PATCH with body and querystring - correctly replies # time=5.785ms
    
    # Subtest: PATCH with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - PATCH with no body - correctly replies # time=33.254ms
    
    # Subtest: PATCH returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - PATCH returns 415 - incorrect media type if body is not json # time=6.315ms
    
    # Subtest: PATCH returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 13 - PATCH returns 400 - Bad Request # time=8.133ms
    
    # Subtest: PATCH returns 413 - Payload Too Large
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 14 - PATCH returns 413 - Payload Too Large # time=14.841ms
    
    # Subtest: PATCH should fail with empty body and application/json content-type
        1..12
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
    ok 15 - PATCH should fail with empty body and application/json content-type # time=21.143ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - PATCH - correctly replies # time=5.396ms
    
    # Subtest: PATCH - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - PATCH - 400 on bad parameters # time=4.961ms
    
    # Subtest: PATCH - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - PATCH - input-validation coerce # time=4.292ms
    
    # Subtest: PATCH - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - PATCH - input-validation custom schema compiler # time=4.443ms
    
    # Subtest: PATCH - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - PATCH - input-validation joi schema compiler ok # time=6.252ms
    
    # Subtest: PATCH - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - PATCH - input-validation joi schema compiler ko # time=5.827ms
    
    # Subtest: PATCH - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - PATCH - input-validation yup schema compiler ok # time=5.941ms
    
    # Subtest: PATCH - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - PATCH - input-validation yup schema compiler ko # time=5.845ms
    
    # Subtest: PATCH - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - PATCH - input-validation instance custom schema compiler encapsulated # time=4.405ms
    
    # Subtest: PATCH - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - PATCH - input-validation custom schema compiler encapsulated # time=4.503ms
    
    ok 26 - type is object
    ok 27 - type is Request
    ok 28 - type is object
    ok 29 - type is Request
    ok 30 - type is object
    ok 31 - type is Request
    ok 32 - type is object
    ok 33 - type is Request
    ok 34 - type is object
    ok 35 - type is Request
    ok 36 - type is object
    ok 37 - type is Request
    ok 38 - type is object
    ok 39 - type is Request
    ok 40 - type is object
    ok 41 - type is Request
    ok 42 - type is object
    ok 43 - type is Request
    ok 44 - type is object
    ok 45 - type is Request
    ok 46 - type is object
    ok 47 - type is Request
    ok 48 - type is object
    ok 49 - type is Request
    1..49
    # time=1078.921ms
ok 75 - test/patch.error-handler.test.js # time=1078.921ms

# Subtest: test/patch.test.js
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PATCH can be created # time=9.036ms
    
    # Subtest: PATCH without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PATCH without schema can be created # time=1.854ms
    
    # Subtest: PATCH with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PATCH with body and querystring # time=1.481ms
    
    # Subtest: PATCH with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PATCH with bodyLimit option # time=1.695ms
    
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - PATCH can be created # time=2.544ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - PATCH - correctly replies # time=64.675ms
    
    # Subtest: PATCH - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - PATCH - correctly replies with very large body # time=9.731ms
    
    # Subtest: PATCH - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - PATCH - correctly replies if the content type has the charset # time=6.041ms
    
    # Subtest: PATCH without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - PATCH without schema - correctly replies # time=5.392ms
    
    # Subtest: PATCH with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - PATCH with body and querystring - correctly replies # time=13.865ms
    
    # Subtest: PATCH with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - PATCH with no body - correctly replies # time=30.2ms
    
    # Subtest: PATCH returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - PATCH returns 415 - incorrect media type if body is not json # time=7.79ms
    
    # Subtest: PATCH returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 13 - PATCH returns 400 - Bad Request # time=6.838ms
    
    # Subtest: PATCH returns 413 - Payload Too Large
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 14 - PATCH returns 413 - Payload Too Large # time=13.663ms
    
    # Subtest: PATCH should fail with empty body and application/json content-type
        1..12
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
    ok 15 - PATCH should fail with empty body and application/json content-type # time=20.013ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - PATCH - correctly replies # time=4.946ms
    
    # Subtest: PATCH - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - PATCH - 400 on bad parameters # time=4.458ms
    
    # Subtest: PATCH - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - PATCH - input-validation coerce # time=3.945ms
    
    # Subtest: PATCH - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - PATCH - input-validation custom schema compiler # time=3.957ms
    
    # Subtest: PATCH - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - PATCH - input-validation joi schema compiler ok # time=5.616ms
    
    # Subtest: PATCH - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - PATCH - input-validation joi schema compiler ko # time=5.354ms
    
    # Subtest: PATCH - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - PATCH - input-validation yup schema compiler ok # time=5.272ms
    
    # Subtest: PATCH - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - PATCH - input-validation yup schema compiler ko # time=5.12ms
    
    # Subtest: PATCH - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - PATCH - input-validation instance custom schema compiler encapsulated # time=3.672ms
    
    # Subtest: PATCH - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - PATCH - input-validation custom schema compiler encapsulated # time=4.654ms
    
    1..25
    # time=1001.301ms
ok 76 - test/patch.test.js # time=1001.301ms

# Subtest: test/plugin.test.js
    # Subtest: require a plugin
        1..1
        ok 1 - expect truthy value
    ok 1 - require a plugin # time=100.98ms
    
    # Subtest: plugin metadata - ignore prefix
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 2 - plugin metadata - ignore prefix # time=43.594ms
    
    # Subtest: plugin metadata - naming plugins
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 3 - plugin metadata - naming plugins # time=11.773ms
    
    # Subtest: fastify.register with fastify-plugin should not encapsulate his code
        1..10
        ok 1 - expect falsey value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 4 - fastify.register with fastify-plugin should not encapsulate his code # time=49.038ms
    
    # Subtest: fastify.register with fastify-plugin should provide access to external fastify instance if opts argument is a function
        1..22
        ok 1 - expect falsey value
        ok 2 - expect falsey value
        ok 3 - expect falsey value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect falsey value
        ok 10 - expect truthy value
        ok 11 - expect falsey value
        ok 12 - expect truthy value
        ok 13 - expect truthy value
        ok 14 - should be equal
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - should not error
        ok 18 - expect truthy value
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equal
        ok 22 - should be equivalent
    ok 5 - fastify.register with fastify-plugin should provide access to external fastify instance if opts argument is a function # time=27.238ms
    
    # Subtest: fastify.register with fastify-plugin registers fastify level plugins
        1..15
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should not error
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equivalent
    ok 6 - fastify.register with fastify-plugin registers fastify level plugins # time=17.597ms
    
    # Subtest: check dependencies - should not throw
        1..12
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - should not error
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
    ok 7 - check dependencies - should not throw # time=12.389ms
    
    # Subtest: check dependencies - should throw
        1..12
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - should not error
        ok 7 - expect truthy value
        ok 8 - expect falsey value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
    ok 8 - check dependencies - should throw # time=36.264ms
    
    # Subtest: set the plugin name based on the plugin displayName symbol
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
    ok 9 - set the plugin name based on the plugin displayName symbol # time=7.762ms
    
    # Subtest: plugin name will change when using no encapsulation
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
    ok 10 - plugin name will change when using no encapsulation # time=6.983ms
    
    # Subtest: plugin name is undefined when accessing in no plugin context
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 11 - plugin name is undefined when accessing in no plugin context # time=24.446ms
    
    # Subtest: set the plugin name based on the plugin function name
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 12 - set the plugin name based on the plugin function name # time=10.928ms
    
    # Subtest: approximate a plugin name when no meta data is available
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
    ok 13 - approximate a plugin name when no meta data is available # time=8.213ms
    
    # Subtest: approximate a plugin name also when fastify-plugin has no meta data
        1..4
        ok 1 - should match pattern provided
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should not error
    ok 14 - approximate a plugin name also when fastify-plugin has no meta data # time=8.529ms
    
    # Subtest: plugin encapsulation
        1..10
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 15 - plugin encapsulation # time=22.755ms
    
    # Subtest: if a plugin raises an error and there is not a callback to handle it, the server must not start
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 16 - if a plugin raises an error and there is not a callback to handle it, the server must not start # time=26.773ms
    
    # Subtest: add hooks after route declaration
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 17 - add hooks after route declaration # time=21.101ms
    
    # Subtest: nested plugins
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 18 - nested plugins # time=15.301ms
    
    # Subtest: nested plugins awaited
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 19 - nested plugins awaited # time=14.106ms
    
    # Subtest: plugin metadata - decorators
        1..1
        ok 1 - expect truthy value
    ok 20 - plugin metadata - decorators # time=7.058ms
    
    # Subtest: plugin metadata - decorators - should throw
        1..1
        ok 1 - should be equal
    ok 21 - plugin metadata - decorators - should throw # time=2.768ms
    
    # Subtest: plugin metadata - decorators - should throw with plugin name
        1..1
        ok 1 - should be equal
    ok 22 - plugin metadata - decorators - should throw with plugin name # time=2.621ms
    
    # Subtest: plugin metadata - dependencies
        1..1
        ok 1 - everything right
    ok 23 - plugin metadata - dependencies # time=2.932ms
    
    # Subtest: plugin metadata - dependencies (nested)
        1..1
        ok 1 - everything right
    ok 24 - plugin metadata - dependencies (nested) # time=3.513ms
    
    # Subtest: pluginTimeout
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 25 - pluginTimeout # time=14.944ms
    
    # "pluginTimeout - named function" has `only` set but all tests run
    # Subtest: pluginTimeout - named function
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 26 - pluginTimeout - named function # time=13.424ms
    
    # Subtest: pluginTimeout default
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 27 - pluginTimeout default # time=-67898578.526ms
    
    # Subtest: plugin metadata - version
        1..1
        ok 1 - everything right
    ok 28 - plugin metadata - version # time=5.843ms
    
    # Subtest: plugin metadata - version range
        1..1
        ok 1 - everything right
    ok 29 - plugin metadata - version range # time=2.727ms
    
    # Subtest: plugin metadata - version not matching requirement
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 30 - plugin metadata - version not matching requirement # time=2.739ms
    
    # Subtest: plugin metadata - version not matching requirement 2
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 31 - plugin metadata - version not matching requirement 2 # time=2.558ms
    
    # Subtest: plugin metadata - version not matching requirement 3
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 32 - plugin metadata - version not matching requirement 3 # time=2.491ms
    
    # Subtest: plugin metadata - release candidate
        1..2
        ok 1 - should not error
        ok 2 - everything right
    ok 33 - plugin metadata - release candidate # time=4.07ms
    
    # Subtest: fastify-rc loads prior version plugins
        1..2
        ok 1 - should not error
        ok 2 - everything right
    ok 34 - fastify-rc loads prior version plugins # time=3.094ms
    
    # Subtest: hasPlugin method exists as a function
        1..1
        ok 1 - should be equal
    ok 35 - hasPlugin method exists as a function # time=0.99ms
    
    # Subtest: hasPlugin returns true if the specified plugin has been registered
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
    ok 36 - hasPlugin returns true if the specified plugin has been registered # time=4.853ms
    
    # Subtest: hasPlugin returns false if the specified plugin has not been registered
        1..1
        ok 1 - expect falsey value
    ok 37 - hasPlugin returns false if the specified plugin has not been registered # time=0.937ms
    
    # Subtest: hasPlugin returns false when using encapsulation
        1..25
        ok 1 - expect truthy value
        ok 2 - expect falsey value
        ok 3 - expect falsey value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect truthy value
        ok 8 - expect falsey value
        ok 9 - expect falsey value
        ok 10 - expect falsey value
        ok 11 - expect falsey value
        ok 12 - expect falsey value
        ok 13 - expect truthy value
        ok 14 - expect falsey value
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - expect falsey value
        ok 18 - expect falsey value
        ok 19 - expect truthy value
        ok 20 - expect falsey value
        ok 21 - expect falsey value
        ok 22 - expect falsey value
        ok 23 - expect falsey value
        ok 24 - expect falsey value
        ok 25 - expect truthy value
    ok 38 - hasPlugin returns false when using encapsulation # time=18.673ms
    
    # Subtest: hasPlugin returns true when using no encapsulation
        1..26
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect falsey value
        ok 10 - expect falsey value
        ok 11 - expect falsey value
        ok 12 - expect truthy value
        ok 13 - expect truthy value
        ok 14 - expect truthy value
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - expect truthy value
        ok 18 - expect truthy value
        ok 19 - expect truthy value
        ok 20 - expect truthy value
        ok 21 - expect falsey value
        ok 22 - expect truthy value
        ok 23 - expect truthy value
        ok 24 - expect truthy value
        ok 25 - expect truthy value
        ok 26 - expect truthy value
    ok 39 - hasPlugin returns true when using no encapsulation # time=9.679ms
    
    1..39
    # time=603.643ms
ok 77 - test/plugin.test.js # time=603.643ms

# Subtest: test/pretty-print.test.js
    # Subtest: pretty print - static routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - pretty print - static routes # time=45.991ms
    
    # Subtest: pretty print - parametric routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - pretty print - parametric routes # time=9.598ms
    
    # Subtest: pretty print - mixed parametric routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 3 - pretty print - mixed parametric routes # time=7.379ms
    
    # Subtest: pretty print - wildcard routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - pretty print - wildcard routes # time=16.35ms
    
    # Subtest: pretty print - empty plugins
        1..2
        ok 1 - should be equal
        ok 2 - should match pattern provided
    ok 5 - pretty print - empty plugins # time=15.11ms
    
    # Subtest: pretty print - nested plugins
        1..4
        ok 1 - should be equal
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
    ok 6 - pretty print - nested plugins # time=9.737ms
    
    # Subtest: pretty print - commonPrefix
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 7 - pretty print - commonPrefix # time=29.785ms
    
    # Subtest: pretty print - includeMeta, includeHooks
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 8 - pretty print - includeMeta, includeHooks # time=22.732ms
    
    1..8
    # time=180.081ms
ok 78 - test/pretty-print.test.js # time=180.081ms

# Subtest: test/promises.test.js
    ok 1 - should not error
    # Subtest: shorthand - sget return promise es6 get
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - shorthand - sget return promise es6 get # time=41.032ms
    
    # Subtest: shorthand - sget promise es6 get return error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 3 - shorthand - sget promise es6 get return error # time=7.922ms
    
    # Subtest: sget promise double send
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 4 - sget promise double send # time=5.791ms
    
    # Subtest: thenable
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 5 - thenable # time=6.076ms
    
    # Subtest: thenable (error)
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 6 - thenable (error) # time=4.318ms
    
    # Subtest: return-reply
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - return-reply # time=5.078ms
    
    1..7
    # time=133.831ms
ok 79 - test/promises.test.js # time=133.831ms

# Subtest: test/proto-poisoning.test.js
    # Subtest: proto-poisoning error
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 1 - proto-poisoning error # time=67.559ms
    
    # Subtest: proto-poisoning remove
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 2 - proto-poisoning remove # time=12.813ms
    
    # Subtest: proto-poisoning ignore
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 3 - proto-poisoning ignore # time=27.408ms
    
    # Subtest: constructor-poisoning error (default in v3)
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 4 - constructor-poisoning error (default in v3) # time=15.165ms
    
    # Subtest: constructor-poisoning error
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 5 - constructor-poisoning error # time=8.499ms
    
    # Subtest: constructor-poisoning remove
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 6 - constructor-poisoning remove # time=11.399ms
    
    1..6
    # time=166.563ms
ok 80 - test/proto-poisoning.test.js # time=166.563ms

-----------------------------|---------|----------|---------|---------|-----------------------------
File                         | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s           
-----------------------------|---------|----------|---------|---------|-----------------------------
All files                    |   92.32 |    91.38 |   92.02 |   92.43 |                             
 fastify                     |   85.23 |    88.12 |   82.14 |    84.9 |                             
  fastify.js                 |   85.23 |    88.12 |   82.14 |    84.9 | ...,676-695,721-724,732-743 
 fastify/lib                 |   93.33 |    91.81 |   93.89 |   93.52 |                             
  contentTypeParser.js       |    97.8 |    99.15 |     100 |   97.64 | 233-236                     
  context.js                 |     100 |      100 |     100 |     100 |                             
  decorate.js                |   98.21 |    98.03 |     100 |   98.07 | 41                          
  error-handler.js           |    94.2 |    93.61 |     100 |    94.2 | 108-110,118                 
  errors.js                  |     100 |      100 |     100 |     100 |                             
  fourOhFour.js              |     100 |      100 |     100 |     100 |                             
  handleRequest.js           |   98.48 |    98.03 |     100 |   98.41 | 97                          
  headRoute.js               |      20 |     12.5 |   33.33 |   14.28 | 4-21,26                     
  hooks.js                   |     100 |      100 |     100 |     100 |                             
  initialConfigValidation.js |     100 |      100 |     100 |     100 |                             
  logger.js                  |   94.73 |    93.33 |    87.5 |   94.54 | 36,61,99                    
  noop-set.js                |     100 |      100 |     100 |     100 |                             
  pluginOverride.js          |   95.12 |       85 |     100 |      95 | 55,75                       
  pluginUtils.js             |     100 |      100 |     100 |     100 |                             
  reply.js                   |   86.61 |    83.48 |   88.88 |   87.64 | ...-654,659,696,710,716-721 
  reqIdGenFactory.js         |     100 |      100 |     100 |     100 |                             
  request.js                 |   87.03 |    89.06 |      80 |   88.46 | 39,45-54,157-167,206,211    
  route.js                   |   88.41 |    86.95 |     100 |   88.26 | ...-362,396-397,411,461,465 
  schema-controller.js       |    92.3 |    79.41 |   84.61 |    92.3 | 23,58,71                    
  schemas.js                 |   92.64 |    93.65 |   88.88 |   94.02 | 28,32,43,147                
  server.js                  |     100 |      100 |     100 |     100 |                             
  symbols.js                 |     100 |      100 |     100 |     100 |                             
  validation.js              |   98.55 |    96.55 |     100 |   98.43 | 22                          
  warnings.js                |     100 |      100 |     100 |     100 |                             
  wrapThenable.js            |   93.33 |       90 |     100 |   93.33 | 11                          
-----------------------------|---------|----------|---------|---------|-----------------------------
