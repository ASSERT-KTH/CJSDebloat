14
./VariantsPureDep/fastify/variant14/fastify

> fastify@4.3.0 test
> npm run lint && npm run unit && npm run test:typescript


> fastify@4.3.0 lint
> npm run lint:standard && npm run lint:typescript && npm run lint:markdown


> fastify@4.3.0 lint:standard
> standard | snazzy


> fastify@4.3.0 lint:typescript
> eslint -c types/.eslintrc.json types/**/*.d.ts test/types/**/*.test-d.ts

./VariantsPureDep/fastify/variant13/fastify

> fastify@4.3.0 test
> npm run lint && npm run unit && npm run test:typescript


> fastify@4.3.0 lint
> npm run lint:standard && npm run lint:typescript && npm run lint:markdown


> fastify@4.3.0 lint:standard
> standard | snazzy


> fastify@4.3.0 lint:typescript
> eslint -c types/.eslintrc.json types/**/*.d.ts test/types/**/*.test-d.ts


> fastify@4.3.0 lint:markdown
> markdownlint-cli2

markdownlint-cli2 v0.4.0 (markdownlint v0.25.1)

> fastify@4.3.0 unit
> tap

TAP version 13
# Subtest: test/404s.test.js
    # Subtest: default 404
        1..4
        ok 1 - should not error
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - unsupported method # time=33.146ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - framework-unsupported method # time=7.684ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - unsupported route # time=7.588ms
        
    ok 1 - default 404 # time=208.755ms
    
    # Subtest: customized 404
        1..6
        ok 1 - should not error
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - unsupported method # time=10.334ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - framework-unsupported method # time=4.613ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - unsupported route # time=4.208ms
        
        # Subtest: with error object
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - with error object # time=9.329ms
        
        # Subtest: error object with headers property
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 6 - error object with headers property # time=5.627ms
        
    ok 2 - customized 404 # time=47.834ms
    
    # Subtest: custom header in notFound handler
        1..2
        ok 1 - should not error
        # Subtest: not found with custom header
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
        ok 2 - not found with custom header # time=26.962ms
        
    ok 3 - custom header in notFound handler # time=47.525ms
    
    # Subtest: setting a custom 404 handler multiple times is an error
        1..5
        # Subtest: at the root level
            1..2
            ok 1 - type is Error
            ok 2 - should be equal
        ok 1 - at the root level # time=2.921ms
        
        # Subtest: at the plugin level
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 2 - at the plugin level # time=37.381ms
        
        # Subtest: at multiple levels
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 3 - at multiple levels # time=14.665ms
        
        # Subtest: at multiple levels / 2
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 4 - at multiple levels / 2 # time=28.318ms
        
        # Subtest: in separate plugins at the same level
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 5 - in separate plugins at the same level # time=37.816ms
        
    ok 4 - setting a custom 404 handler multiple times is an error # time=131.644ms
    
    # Subtest: encapsulated 404
        1..13
        ok 1 - should not error
        # Subtest: root unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - root unsupported method # time=31.375ms
        
        # Subtest: root framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - root framework-unsupported method # time=4.792ms
        
        # Subtest: root unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - root unsupported route # time=4.61ms
        
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 5 - unsupported method # time=5.021ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 6 - framework-unsupported method # time=4.763ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 7 - unsupported route # time=4.63ms
        
        # Subtest: unsupported method 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 8 - unsupported method 2 # time=4.984ms
        
        # Subtest: framework-unsupported method 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 9 - framework-unsupported method 2 # time=4.511ms
        
        # Subtest: unsupported route 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 10 - unsupported route 2 # time=4.307ms
        
        # Subtest: unsupported method 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 11 - unsupported method 3 # time=4.837ms
        
        # Subtest: framework-unsupported method 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 12 - framework-unsupported method 3 # time=4.031ms
        
        # Subtest: unsupported route 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 13 - unsupported route 3 # time=4.265ms
        
    ok 5 - encapsulated 404 # time=141.258ms
    
    # Subtest: custom 404 hook and handler context
        1..21
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should not error
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equal
    ok 6 - custom 404 hook and handler context # time=83.1ms
    
    # Subtest: encapsulated custom 404 without - prefix hook and handler context
        1..13
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equal
    ok 7 - encapsulated custom 404 without - prefix hook and handler context # time=12.907ms
    
    # Subtest: run hooks on default 404
        1..7
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - preHandler called
        ok 4 - onSend called
        ok 5 - onResponse called
        ok 6 - should not error
        ok 7 - should be equal
    ok 8 - run hooks on default 404 # time=11.715ms
    
    # Subtest: run non-encapsulated plugin hooks on default 404
        1..6
        ok 1 - onRequest called
        ok 2 - preHandler called
        ok 3 - onSend called
        ok 4 - onResponse called
        ok 5 - should not error
        ok 6 - should be equal
    ok 9 - run non-encapsulated plugin hooks on default 404 # time=12.206ms
    
    # Subtest: run non-encapsulated plugin hooks on custom 404
        1..11
        ok 1 - onRequest called
        ok 2 - onRequest called
        ok 3 - preHandler called
        ok 4 - preHandler called
        ok 5 - onSend called
        ok 6 - onSend called
        ok 7 - onResponse called
        ok 8 - onResponse called
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
    ok 10 - run non-encapsulated plugin hooks on custom 404 # time=11.208ms
    
    # Subtest: run hook with encapsulated 404
        1..11
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - onRequest 2 called
        ok 4 - preHandler called
        ok 5 - preHandler 2 called
        ok 6 - onSend called
        ok 7 - onSend 2 called
        ok 8 - onResponse called
        ok 9 - onResponse 2 called
        ok 10 - should not error
        ok 11 - should be equal
    ok 11 - run hook with encapsulated 404 # time=15.558ms
    
    # Subtest: run hook with encapsulated 404 and framework-unsupported method
        1..11
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - onRequest 2 called
        ok 4 - preHandler called
        ok 5 - preHandler 2 called
        ok 6 - onSend called
        ok 7 - onSend 2 called
        ok 8 - onResponse called
        ok 9 - onResponse 2 called
        ok 10 - should not error
        ok 11 - should be equal
    ok 12 - run hook with encapsulated 404 and framework-unsupported method # time=25.358ms
    
    # Subtest: hooks check 404
        1..13
        ok 1 - should not error
        ok 2 - onRequest
        ok 3 - should be equivalent
        ok 4 - onSend
        ok 5 - onResponse
        ok 6 - onRequest
        ok 7 - should be equivalent
        ok 8 - onSend
        ok 9 - onResponse
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should not error
        ok 13 - should be equal
    ok 13 - hooks check 404 # time=29.339ms
    
    # Subtest: setNotFoundHandler should not suppress duplicated routes checking
        1..1
        ok 1 - expect truthy value
    ok 14 - setNotFoundHandler should not suppress duplicated routes checking # time=3.692ms
    
    # Subtest: log debug for 404
        1..1
        # Subtest: log debug
            1..7
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
        ok 1 - log debug # time=8.567ms
        
    ok 15 - log debug for 404 # time=15.587ms
    
    # Subtest: Unknown method
        1..5
        ok 1 - should not error
        ok 2 - expected to throw
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent strictly
    ok 16 - Unknown method # time=12.782ms
    
    # Subtest: recognizes errors from the http-errors module
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent strictly
    ok 17 - recognizes errors from the http-errors module # time=31.016ms
    
    # Subtest: the default 404 handler can be invoked inside a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
    ok 18 - the default 404 handler can be invoked inside a prefixed plugin # time=6.959ms
    
    # Subtest: an inherited custom 404 handler can be invoked inside a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - an inherited custom 404 handler can be invoked inside a prefixed plugin # time=6.63ms
    
    # Subtest: encapsulated custom 404 handler without a prefix is the handler for the entire 404 level
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 20 - encapsulated custom 404 handler without a prefix is the handler for the entire 404 level # time=10.202ms
    
    # Subtest: cannot set notFoundHandler after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 21 - cannot set notFoundHandler after binding # time=4.395ms
    
    # Subtest: 404 inside onSend
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 22 - 404 inside onSend # time=6.804ms
    
    # Subtest: onSend hooks run when an encapsulated route invokes the notFound handler
        1..3
        ok 1 - onSend hook called
        ok 2 - should not error
        ok 3 - should be equal
    ok 23 - onSend hooks run when an encapsulated route invokes the notFound handler # time=5.579ms
    
    # Subtest: preHandler option for setNotFoundHandler
        1..10
        # Subtest: preHandler option
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 1 - preHandler option # time=37.491ms
        
        # Subtest: preHandler hook in setNotFoundHandler should be called when callNotFound
            1..3
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 2 - preHandler hook in setNotFoundHandler should be called when callNotFound # time=7.028ms
        
        # Subtest: preHandler hook in setNotFoundHandler should accept an array of functions and be called when callNotFound
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 3 - preHandler hook in setNotFoundHandler should accept an array of functions and be called when callNotFound # time=17.942ms
        
        # Subtest: preHandler option should be called after preHandler hook
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 4 - preHandler option should be called after preHandler hook # time=5.608ms
        
        # Subtest: preHandler option should be unique per prefix
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 5 - preHandler option should be unique per prefix # time=10.966ms
        
        # Subtest: preHandler option should handle errors
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 6 - preHandler option should handle errors # time=5.535ms
        
        # Subtest: preHandler option should handle errors with custom status code
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 7 - preHandler option should handle errors with custom status code # time=5.399ms
        
        # Subtest: preHandler option could accept an array of functions
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 8 - preHandler option could accept an array of functions # time=4.712ms
        
        # Subtest: preHandler option does not interfere with preHandler
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 9 - preHandler option does not interfere with preHandler # time=9.266ms
        
        # Subtest: preHandler option should keep the context
            1..3
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 10 - preHandler option should keep the context # time=5.182ms
        
    ok 24 - preHandler option for setNotFoundHandler # time=121.327ms
    
    # Subtest: reply.notFound invoked the notFound handler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - reply.notFound invoked the notFound handler # time=5.378ms
    
    # Subtest: The custom error handler should be invoked after the custom not found handler
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - type is Error
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 26 - The custom error handler should be invoked after the custom not found handler # time=6.427ms
    
    # Subtest: If the custom not found handler does not use an Error, the custom error handler should not be called
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 27 - If the custom not found handler does not use an Error, the custom error handler should not be called # time=4.564ms
    
    # Subtest: preValidation option
        1..3
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 28 - preValidation option # time=5.33ms
    
    # Subtest: preValidation option could accept an array of functions
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 29 - preValidation option could accept an array of functions # time=5.442ms
    
    # Subtest: Should fail to invoke callNotFound inside a 404 handler
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 30 - Should fail to invoke callNotFound inside a 404 handler # time=7.168ms
    
    # Subtest: 400 in case of bad url (pre find-my-way v2.2.0 was a 404)
        # Subtest: Dynamic route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 1 - Dynamic route # time=19.539ms
        
        # Subtest: Wildcard
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - Wildcard # time=5.323ms
        
        # Subtest: No route registered
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - No route registered # time=8.832ms
        
        # Subtest: Only / is registered
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - Only / is registered # time=5.998ms
        
        # Subtest: customized 404
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - customized 404 # time=6.063ms
        
        1..5
    ok 31 - 400 in case of bad url (pre find-my-way v2.2.0 was a 404) # time=53.301ms
    
    # Subtest: setNotFoundHandler should be chaining fastify instance
        # Subtest: Register route after setNotFoundHandler
            1..6
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should not error
            ok 5 - should be equal
            ok 6 - should be equal
        ok 1 - Register route after setNotFoundHandler # time=8.206ms
        
        1..1
    ok 32 - setNotFoundHandler should be chaining fastify instance # time=13.846ms
    
    # Subtest: Send 404 when frameworkError calls reply.callNotFound
        # Subtest: Dynamic route
            1..4
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 1 - Dynamic route # time=6.461ms
        
        1..1
    ok 33 - Send 404 when frameworkError calls reply.callNotFound # time=32.083ms
    
    1..33
    # time=1180.672ms
ok 1 - test/404s.test.js # time=1180.672ms

# Subtest: test/500s.test.js
    # Subtest: default 500
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - default 500 # time=82.512ms
    
    # Subtest: custom 500
        1..6
        ok 1 - type is object
        ok 2 - type is Request
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 2 - custom 500 # time=19.764ms
    
    # Subtest: encapsulated 500
        1..10
        ok 1 - type is object
        ok 2 - type is Request
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 3 - encapsulated 500 # time=21.755ms
    
    # Subtest: custom 500 with hooks
        1..7
        ok 1 - onRequest
        ok 2 - onSend
        ok 3 - onResponse
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 4 - custom 500 with hooks # time=8.902ms
    
    # Subtest: cannot set errorHandler after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 5 - cannot set errorHandler after binding # time=24.311ms
    
    1..5
    # time=166.986ms
ok 2 - test/500s.test.js # time=166.986ms

# Subtest: test/allowUnsafeRegex.test.js
    # Subtest: allow unsafe regex
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - allow unsafe regex # time=69.005ms
    
    # Subtest: allow unsafe regex not match
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 2 - allow unsafe regex not match # time=12.125ms
    
    # Subtest: allow unsafe regex not safe
        1..1
        ok 1 - expected to throw
    ok 3 - allow unsafe regex not safe # time=92.87ms
    
    # Subtest: allow unsafe regex not safe by default
        1..1
        ok 1 - expected to throw
    ok 4 - allow unsafe regex not safe by default # time=3.007ms
    
    # Subtest: allow unsafe regex allow unsafe
        1..5
        ok 1 - expected to not throw
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 5 - allow unsafe regex allow unsafe # time=31.637ms
    
    1..5
    # time=242.207ms
ok 3 - test/allowUnsafeRegex.test.js # time=242.207ms

# Subtest: test/als.test.js
    ok 1 - should not error
    ok 2 - expect truthy value
    ok 3 - should not error
    ok 4 - should be equal
    ok 5 - should be equivalent
    ok 6 - expect truthy value
    ok 7 - should not error
    ok 8 - should be equal
    ok 9 - should be equivalent
    ok 10 - expect truthy value
    ok 11 - should not error
    ok 12 - should be equal
    ok 13 - should be equivalent
    1..13
    # time=44.383ms
ok 4 - test/als.test.js # time=44.383ms

# Subtest: test/async-await.test.js
    # Subtest: async await
        1..11
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 1 - async await # time=334.014ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (undefined)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 2 - ignore the result of the promise if reply.send is called beforehand (undefined) # time=12.752ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (object)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 3 - ignore the result of the promise if reply.send is called beforehand (object) # time=31.243ms
    
    # Subtest: server logs an error if reply.send is called and a value is returned via async/await
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 4 - server logs an error if reply.send is called and a value is returned via async/await # time=107.962ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (undefined)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 5 - ignore the result of the promise if reply.send is called beforehand (undefined) # time=18.055ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (object)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 6 - ignore the result of the promise if reply.send is called beforehand (object) # time=39.882ms
    
    # Subtest: await reply if we will be calling reply.send in the future
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 7 - await reply if we will be calling reply.send in the future # time=12.804ms
    
    # Subtest: await reply if we will be calling reply.send in the future (error case)
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 8 - await reply if we will be calling reply.send in the future (error case) # time=11.316ms
    
    # Subtest: support reply decorators with await
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 9 - support reply decorators with await # time=26.631ms
    
    # Subtest: inject async await
        1..1
        ok 1 - should be equivalent
    ok 10 - inject async await # time=24.784ms
    
    # Subtest: inject async await - when the server equal up
        1..2
        ok 1 - should be equivalent
        ok 2 - should be equivalent
    ok 11 - inject async await - when the server equal up # time=211.519ms
    
    # Subtest: async await plugin
        1..1
        ok 1 - should be equivalent
    ok 12 - async await plugin # time=223.158ms
    
    # Subtest: does not call reply.send() twice if 204 response equal already sent
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - does not call reply.send() twice if 204 response equal already sent # time=4.758ms
    
    # Subtest: promise was fulfilled with undefined
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - promise was fulfilled with undefined # time=8.596ms
    
    # Subtest: error is not logged because promise was fulfilled with undefined but response was sent before promise resolution
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 15 - error is not logged because promise was fulfilled with undefined but response was sent before promise resolution # time=9.309ms
    
    # Subtest: Thrown Error instance sets HTTP status code
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - Thrown Error instance sets HTTP status code # time=10.987ms
    
    # Subtest: customErrorHandler support
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 17 - customErrorHandler support # time=5.257ms
    
    # Subtest: customErrorHandler support without throwing
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - customErrorHandler support without throwing # time=5.154ms
    
    # Subtest: customErrorHandler only called if reply not already sent
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - customErrorHandler only called if reply not already sent # time=4.803ms
    
    # Subtest: setNotFoundHandler should accept return value
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - setNotFoundHandler should accept return value # time=6.488ms
    
    # Subtest: customErrorHandler should accept return value
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 21 - customErrorHandler should accept return value # time=5.637ms
    
    # Subtest: await self
        ok 1 - should be equal
        1..1
    ok 22 - await self # time=3.312ms
    
    1..22
    # time=1140.601ms
ok 5 - test/async-await.test.js # time=1140.601ms

# Subtest: test/bodyLimit.test.js
    # Subtest: bodyLimit
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should not error
        ok 5 - should be equal
    ok 1 - bodyLimit # time=50.618ms
    
    1..1
    # time=55.461ms
ok 6 - test/bodyLimit.test.js # time=55.461ms

# Subtest: test/build/error-serializer.test.js
    # Subtest: check generated code syntax
        1..1
        ok 1 - should be equal
    ok 1 - check generated code syntax # time=4135.404ms
    
    ok 2 - ensure the current error serializer is latest # SKIP
    1..2
    # skip: 1
    # time=4208.432ms
ok 7 - test/build/error-serializer.test.js # time=4208.432ms

# Subtest: test/build/version.test.js
    # Subtest: should be the same as package.json
        1..1
        ok 1 - should be equal
    ok 1 - should be the same as package.json # time=6.129ms
    
    1..1
    # time=13.633ms
ok 8 - test/build/version.test.js # time=13.633ms

# Subtest: test/case-insensitive.test.js
    # Subtest: case insensitive
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - case insensitive # time=85.543ms
    
    # Subtest: case insensitive inject
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - case insensitive inject # time=30.764ms
    
    # Subtest: case insensitive (parametric)
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 3 - case insensitive (parametric) # time=11.217ms
    
    # Subtest: case insensitive (wildcard)
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 4 - case insensitive (wildcard) # time=18.715ms
    
    1..4
    # time=168.196ms
ok 9 - test/case-insensitive.test.js # time=168.196ms

# Subtest: test/chainable.test.js
    # Subtest: chainable - get
        1..1
        ok 1 - type is [object Object]
    ok 1 - chainable - get # time=10.569ms
    
    # Subtest: chainable - post
        1..1
        ok 1 - type is [object Object]
    ok 2 - chainable - post # time=2.77ms
    
    # Subtest: chainable - route
        1..1
        ok 1 - type is [object Object]
    ok 3 - chainable - route # time=2.712ms
    
    1..3
    # time=29.778ms
ok 10 - test/chainable.test.js # time=29.778ms

# Subtest: test/close-pipelining.test.js
    # Subtest: Should return 503 while closing - pipelining
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        1..3
    ok 1 - Should return 503 while closing - pipelining # time=103.791ms
    
    # Subtest: Should not return 503 while closing - pipelining - return503OnClosing
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        1..3
    ok 2 - Should not return 503 while closing - pipelining - return503OnClosing # time=27.872ms
    
    1..2
    # time=174.063ms
ok 11 - test/close-pipelining.test.js # time=174.063ms

# Subtest: test/close.test.js
    # Subtest: close callback
        1..4
        ok 1 - should not error
        ok 2 - type is [object Object]
        ok 3 - should not error
        ok 4 - expect truthy value
    ok 1 - close callback # time=77.732ms
    
    # Subtest: inside register
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - expect truthy value
    ok 2 - inside register # time=22.886ms
    
    # Subtest: close order
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 3 - close order # time=23.689ms
    
    # Subtest: close order - async
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 4 - close order - async # time=15.93ms
    
    # Subtest: should not throw an error if the server is not listening
        1..2
        ok 1 - type is [object Object]
        ok 2 - should not error
    ok 5 - should not throw an error if the server is not listening # time=4.16ms
    
    # Subtest: onClose should keep the context
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
    ok 6 - onClose should keep the context # time=14.268ms
    
    # Subtest: Should return error while closing (promise) - injection
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 7 - Should return error while closing (promise) - injection # time=92.679ms
    
    # Subtest: Should return error while closing (callback) - injection
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 8 - Should return error while closing (callback) - injection # time=147.02ms
    
    # Subtest: Current opened connection should continue to work after closing and return "connection: close" header - return503OnClosing: false
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        1..5
    ok 9 - Current opened connection should continue to work after closing and return "connection: close" header - return503OnClosing: false # time=27.414ms
    
    # Subtest: Current opened connection should not accept new incoming connections
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 10 - Current opened connection should not accept new incoming connections # time=271.927ms
    
    # Subtest: Cannot be reopened the closed server without listen callback
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 11 - Cannot be reopened the closed server without listen callback # time=25.344ms
    
    # Subtest: Cannot be reopened the closed server has listen callback
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 12 - Cannot be reopened the closed server has listen callback # time=14.895ms
    
    ok 13 - shutsdown while keep-alive connections are active (non-async, native) # SKIP
    ok 14 - shutsdown while keep-alive connections are active (non-async, idle, native) # SKIP
    # Subtest: shutsdown while keep-alive connections are active (non-async, custom)
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 15 - shutsdown while keep-alive connections are active (non-async, custom) # time=26.986ms
    
    1..15
    # skip: 2
    # time=791.848ms
ok 12 - test/close.test.js # time=791.848ms

# Subtest: test/connectionTimeout.test.js
    # Subtest: connectionTimeout
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 1 - connectionTimeout # time=44.185ms
    
    1..1
    # time=52.678ms
ok 13 - test/connectionTimeout.test.js # time=52.678ms

# Subtest: test/constrained-routes.test.js
    # Subtest: Should register a host constrained route
        1..7
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 1 - Should register a host constrained route # time=107.912ms
    
    # Subtest: Should register the same route with host constraints
        1..8
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 2 - Should register the same route with host constraints # time=13.739ms
    
    # Subtest: Should allow registering custom constrained routes
        1..8
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 3 - Should allow registering custom constrained routes # time=18.134ms
    
    # Subtest: Should allow registering custom constrained routes outside constructor
        1..8
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 4 - Should allow registering custom constrained routes outside constructor # time=12.825ms
    
    # Subtest: Add a constraint strategy after fastify instance was started
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - Cannot add constraint strategy when fastify instance is already started!
    ok 5 - Add a constraint strategy after fastify instance was started # time=20.237ms
    
    # Subtest: Add a constraint strategy should throw an error if there already exist custom strategy with the same name
        1..1
        ok 1 - There already exists a custom constraint with the name secret.
    ok 6 - Add a constraint strategy should throw an error if there already exist custom strategy with the same name # time=2.218ms
    
    # Subtest: Add a constraint strategy shouldn't throw an error if default constraint with the same name isn't used
        1..1
        ok 1 - (unnamed test)
    ok 7 - Add a constraint strategy shouldn't throw an error if default constraint with the same name isn't used # time=1.904ms
    
    # Subtest: Add a constraint strategy should throw an error if default constraint with the same name is used
        1..1
        ok 1 - There already exists a route with version constraint.
    ok 8 - Add a constraint strategy should throw an error if default constraint with the same name is used # time=3.522ms
    
    # Subtest: The hasConstraintStrategy should return false for default constraints until they are used
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 9 - The hasConstraintStrategy should return false for default constraints until they are used # time=5.649ms
    
    # Subtest: The hasConstraintStrategy should return true if there already exist a custom constraint with the same name
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 10 - The hasConstraintStrategy should return true if there already exist a custom constraint with the same name # time=3.16ms
    
    # Subtest: Should allow registering an unconstrained route after a constrained route
        1..6
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
    ok 11 - Should allow registering an unconstrained route after a constrained route # time=10.362ms
    
    # Subtest: Should allow registering constrained routes in a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 12 - Should allow registering constrained routes in a prefixed plugin # time=14.068ms
    
    # Subtest: Should allow registering a constrained GET route after a constrained HEAD route
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 13 - Should allow registering a constrained GET route after a constrained HEAD route # time=6.445ms
    
    # Subtest: Should allow registering a constrained GET route after an unconstrained HEAD route
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 14 - Should allow registering a constrained GET route after an unconstrained HEAD route # time=6.38ms
    
    # Subtest: Will not try to re-createprefixed HEAD route if it already exists and exposeHeadRoutes is true for constrained routes
        1..1
        ok 1 - expect truthy value
    ok 15 - Will not try to re-createprefixed HEAD route if it already exists and exposeHeadRoutes is true for constrained routes # time=6.668ms
    
    # Subtest: allows separate constrained and unconstrained HEAD routes
        1..1
        ok 1 - expect truthy value
    ok 16 - allows separate constrained and unconstrained HEAD routes # time=11.382ms
    
    1..16
    # time=267.23ms
ok 14 - test/constrained-routes.test.js # time=267.23ms

# Subtest: test/content-length.test.js
    # Subtest: default 413 with bodyLimit option
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - default 413 with bodyLimit option # time=89.842ms
    
    # Subtest: default 400 with wrong content-length
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - default 400 with wrong content-length # time=12.842ms
    
    # Subtest: custom 413 with bodyLimit option
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 3 - custom 413 with bodyLimit option # time=13.415ms
    
    # Subtest: custom 400 with wrong content-length
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 4 - custom 400 with wrong content-length # time=8.846ms
    
    # Subtest: \#2214 - wrong content-length
        ok 1 - should be equal
        1..1
    ok 5 - \#2214 - wrong content-length # time=24.611ms
    
    # Subtest: \#2543 - wrong content-length with errorHandler
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 6 - \#2543 - wrong content-length with errorHandler # time=10.773ms
    
    1..6
    # time=182.438ms
ok 15 - test/content-length.test.js # time=182.438ms

# Subtest: test/content-parser.test.js
    # Subtest: hasContentTypeParser
        1..0
    ok 1 - hasContentTypeParser # time=12.378ms
    
    # Subtest: should know about internal parsers
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
    ok 2 - should know about internal parsers # time=44.89ms
    
    # Subtest: should work with string and RegExp
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect falsey value
    ok 3 - should work with string and RegExp # time=5.684ms
    
    # Subtest: getParser
        1..0
    ok 4 - getParser # time=85.166ms
    
    # Subtest: existingParser
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect falsey value
        1..7
    ok 5 - existingParser # time=23.967ms
    
    # Subtest: add
        1..0
    ok 6 - add # time=9.686ms
    
    # Subtest: non-Error thrown from content parser is properly handled
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 7 - non-Error thrown from content parser is properly handled # time=44.993ms
    
    # Subtest: Error thrown 415 from content type is null and make post request to server
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 8 - Error thrown 415 from content type is null and make post request to server # time=25.236ms
    
    # Subtest: remove
        1..0
    ok 9 - remove # time=20.374ms
    
    # Subtest: remove all should remove all existing parsers and reset cache
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
    ok 10 - remove all should remove all existing parsers and reset cache # time=6.055ms
    
    # Subtest: should return matching parser
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 11 - should return matching parser # time=2.265ms
    
    # Subtest: should return matching parser with caching
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 12 - should return matching parser with caching # time=2.325ms
    
    # Subtest: should prefer content type parser with string value
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 13 - should prefer content type parser with string value # time=2.47ms
    
    # Subtest: should return parser that catches all if no other is set
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 14 - should return parser that catches all if no other is set # time=2.895ms
    
    # Subtest: should return undefined if no matching parser exist
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 15 - should return undefined if no matching parser exist # time=2.31ms
    
    # Subtest: returns always false for "*"
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 16 - returns always false for "*" # time=1.578ms
    
    # Subtest: let you override the default parser once
        1..2
        ok 1 - Content type parser 'application/json' already present
        ok 2 - Content type parser 'text/plain' already present
    ok 17 - let you override the default parser once # time=4.91ms
    
    # Subtest: should only accept string and RegExp
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - The content type should be a string or a RegExp
        ok 4 - The content type should be a string or a RegExp
    ok 18 - should only accept string and RegExp # time=3.23ms
    
    # Subtest: should set "*" as parser that catches all
        1..1
        ok 1 - should be equal
    ok 19 - should set "*" as parser that catches all # time=1.217ms
    
    # Subtest: should remove default parser
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 20 - should remove default parser # time=1.486ms
    
    # Subtest: should remove RegExp parser
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 21 - should remove RegExp parser # time=1.353ms
    
    # Subtest: should throw an error if content type is neither string nor RegExp
        1..1
        ok 1 - expected to throw
    ok 22 - should throw an error if content type is neither string nor RegExp # time=1.695ms
    
    # Subtest: should not throw error if content type does not exist
        1..1
        ok 1 - expected to not throw
    ok 23 - should not throw error if content type does not exist # time=1.337ms
    
    # Subtest: should not remove any content type parser if content type does not exist
        1..1
        ok 1 - should be equivalent
    ok 24 - should not remove any content type parser if content type does not exist # time=1.846ms
    
    1..24
    # time=328.415ms
ok 16 - test/content-parser.test.js # time=328.415ms

# Subtest: test/context-config.test.js
    # Subtest: config
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 1 - config # time=79.592ms
    
    # Subtest: config with exposeHeadRoutes
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 2 - config with exposeHeadRoutes # time=14.647ms
    
    # Subtest: config without exposeHeadRoutes
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 3 - config without exposeHeadRoutes # time=32.133ms
    
    1..3
    # time=137.63ms
ok 17 - test/context-config.test.js # time=137.63ms

# Subtest: test/custom-http-server.test.js
    # Subtest: Should support a custom http server
        1..4
        ok 1 - it is called twice for every HOST interface
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - Should support a custom http server # time=64.437ms
    
    # Subtest: Should not allow forceCloseConnection=idle if the server does not support closeIdleConnections
        1..1
        ok 1 - Cannot set forceCloseConnections to 'idle' as your HTTP server does not support closeIdleConnections method
    ok 2 - Should not allow forceCloseConnection=idle if the server does not support closeIdleConnections # time=3.833ms
    
    1..2
    # time=75.886ms
ok 18 - test/custom-http-server.test.js # time=75.886ms

# Subtest: test/custom-parser-async.test.js
    # Subtest: contentTypeParser should add a custom async parser
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=38.72ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=7.147ms
        
    ok 1 - contentTypeParser should add a custom async parser # time=125.729ms
    
    1..1
    # time=130.911ms
ok 19 - test/custom-parser-async.test.js # time=130.911ms

# Subtest: test/custom-parser.test.js
    # Subtest: contentTypeParser method should exist
        1..1
        ok 1 - expect truthy value
    ok 1 - contentTypeParser method should exist # time=15.116ms
    
    # Subtest: contentTypeParser should add a custom parser
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=30.256ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=6.49ms
        
    ok 2 - contentTypeParser should add a custom parser # time=204.801ms
    
    # Subtest: contentTypeParser should handle multiple custom parsers
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 3 - contentTypeParser should handle multiple custom parsers # time=15.255ms
    
    # Subtest: contentTypeParser should handle an array of custom contentTypes
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 4 - contentTypeParser should handle an array of custom contentTypes # time=38.494ms
    
    # Subtest: contentTypeParser should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 5 - contentTypeParser should handle errors # time=10.989ms
    
    # Subtest: contentTypeParser should support encapsulation
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - expect falsey value
        ok 6 - expect falsey value
    ok 6 - contentTypeParser should support encapsulation # time=9.709ms
    
    # Subtest: contentTypeParser should support encapsulation, second try
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - contentTypeParser should support encapsulation, second try # time=32.884ms
    
    # Subtest: contentTypeParser shouldn't support request with undefined "Content-Type"
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 8 - contentTypeParser shouldn't support request with undefined "Content-Type" # time=14.776ms
    
    # Subtest: the content type should be a string or RegExp
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 9 - the content type should be a string or RegExp # time=2.226ms
    
    # Subtest: the content type cannot be an empty string
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 10 - the content type cannot be an empty string # time=2.438ms
    
    # Subtest: the content type handler should be a function
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 11 - the content type handler should be a function # time=2.808ms
    
    # Subtest: catch all content type parser
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 12 - catch all content type parser # time=14.456ms
    
    # Subtest: catch all content type parser should not interfere with other conte type parsers
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 13 - catch all content type parser should not interfere with other conte type parsers # time=41.934ms
    
    # Subtest: '*' catch undefined Content-Type requests
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - '*' catch undefined Content-Type requests # time=14.674ms
    
    # Subtest: cannot add custom parser after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 15 - cannot add custom parser after binding # time=6.65ms
    
    # Subtest: Can override the default json parser
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 16 - Can override the default json parser # time=31.591ms
    
    # Subtest: Can override the default plain text parser
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 17 - Can override the default plain text parser # time=15.551ms
    
    # Subtest: Can override the default json parser in a plugin
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 18 - Can override the default json parser in a plugin # time=18.56ms
    
    # Subtest: Can't override the json parser multiple times
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 19 - Can't override the json parser multiple times # time=1.76ms
    
    # Subtest: Can't override the plain text parser multiple times
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 20 - Can't override the plain text parser multiple times # time=2.051ms
    
    # Subtest: Should get the body as string
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 21 - Should get the body as string # time=9.008ms
    
    # Subtest: Should return defined body with no custom parser defined and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 22 - Should return defined body with no custom parser defined and content type = 'text/plain' # time=14.636ms
    
    # Subtest: Should have typeof body object with no custom parser defined, no body defined and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 23 - Should have typeof body object with no custom parser defined, no body defined and content type = 'text/plain' # time=6.628ms
    
    # Subtest: Should have typeof body object with no custom parser defined, null body and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 24 - Should have typeof body object with no custom parser defined, null body and content type = 'text/plain' # time=7.426ms
    
    # Subtest: Should have typeof body object with no custom parser defined, undefined body and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 25 - Should have typeof body object with no custom parser defined, undefined body and content type = 'text/plain' # time=6.872ms
    
    # Subtest: Should get the body as string
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 26 - Should get the body as string # time=19.945ms
    
    # Subtest: Should get the body as buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 27 - Should get the body as buffer # time=8.745ms
    
    # Subtest: Should get the body as buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 28 - Should get the body as buffer # time=7.239ms
    
    # Subtest: Should parse empty bodies as a string
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 29 - Should parse empty bodies as a string # time=42.644ms
    
    # Subtest: Should parse empty bodies as a buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 30 - Should parse empty bodies as a buffer # time=13.39ms
    
    # Subtest: The charset should not interfere with the content type handling
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 31 - The charset should not interfere with the content type handling # time=6.555ms
    
    # Subtest: Wrong parseAs parameter
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 32 - Wrong parseAs parameter # time=1.544ms
    
    # Subtest: Should allow defining the bodyLimit per parser
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent strictly
    ok 33 - Should allow defining the bodyLimit per parser # time=8.561ms
    
    # Subtest: route bodyLimit should take precedence over a custom parser bodyLimit
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent strictly
    ok 34 - route bodyLimit should take precedence over a custom parser bodyLimit # time=6.515ms
    
    # Subtest: should be able to use default parser for extra content type
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent strictly
    ok 35 - should be able to use default parser for extra content type # time=7.583ms
    
    # Subtest: contentTypeParser should add a custom parser with RegExp value
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=4.945ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=3.785ms
        
    ok 36 - contentTypeParser should add a custom parser with RegExp value # time=14.865ms
    
    # Subtest: contentTypeParser should add multiple custom parsers with RegExp values
        1..6
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 37 - contentTypeParser should add multiple custom parsers with RegExp values # time=48.526ms
    
    # Subtest: catch all content type parser should not interfere with content type parser
        1..10
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 38 - catch all content type parser should not interfere with content type parser # time=12.2ms
    
    # Subtest: should prefer string content types over RegExp ones
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 39 - should prefer string content types over RegExp ones # time=9.261ms
    
    # Subtest: removeContentTypeParser should support arrays of content types to remove
        1..8
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 40 - removeContentTypeParser should support arrays of content types to remove # time=10.878ms
    
    # Subtest: removeContentTypeParser should support encapsulation
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 41 - removeContentTypeParser should support encapsulation # time=9.938ms
    
    # Subtest: removeAllContentTypeParsers should support encapsulation
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 42 - removeAllContentTypeParsers should support encapsulation # time=13.925ms
    
    # Subtest: cannot remove all content type parsers after binding
        1..2
        ok 1 - should not error
        ok 2 - expected to throw
    ok 43 - cannot remove all content type parsers after binding # time=3.938ms
    
    # Subtest: cannot remove content type parsers after binding
        1..2
        ok 1 - should not error
        ok 2 - expected to throw
    ok 44 - cannot remove content type parsers after binding # time=2.843ms
    
    # Subtest: should be able to override the default json parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 45 - should be able to override the default json parser after removeAllContentTypeParsers # time=5.92ms
    
    # Subtest: should be able to override the default plain text parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 46 - should be able to override the default plain text parser after removeAllContentTypeParsers # time=7.383ms
    
    # Subtest: should be able to add a custom content type parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 47 - should be able to add a custom content type parser after removeAllContentTypeParsers # time=7.259ms
    
    1..47
    # time=860.87ms
ok 20 - test/custom-parser.test.js # time=860.87ms

# Subtest: test/custom-querystring-parser.test.js
    # Subtest: Custom querystring parser
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 1 - Custom querystring parser # time=103.537ms
    
    # Subtest: Custom querystring parser should be called also if there is nothing to parse
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 2 - Custom querystring parser should be called also if there is nothing to parse # time=14.168ms
    
    # Subtest: Querystring without value
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 3 - Querystring without value # time=38.934ms
    
    # Subtest: Custom querystring parser should be a function
        1..1
        ok 1 - should be equal
    ok 4 - Custom querystring parser should be a function # time=1.062ms
    
    1..4
    # time=167.183ms
ok 21 - test/custom-querystring-parser.test.js # time=167.183ms

# Subtest: test/decorator.test.js
    # Subtest: server methods should exist
        1..2
        ok 1 - expect truthy value
        ok 2 - expect truthy value
    ok 1 - server methods should exist # time=15.831ms
    
    # Subtest: should check if the given decoration already exist when null
        1..1
        ok 1 - expect truthy value
    ok 2 - should check if the given decoration already exist when null # time=79.701ms
    
    # Subtest: server methods should be encapsulated via .register
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 3 - server methods should be encapsulated via .register # time=15.155ms
    
    # Subtest: hasServerMethod should check if the given method already exist
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 4 - hasServerMethod should check if the given method already exist # time=21.065ms
    
    # Subtest: decorate should throw if a declared dependency is not present
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - (unnamed test)
    ok 5 - decorate should throw if a declared dependency is not present # time=12.12ms
    
    # Subtest: decorate should throw if declared dependency is not array
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - (unnamed test)
    ok 6 - decorate should throw if declared dependency is not array # time=6.039ms
    
    # Subtest: should pass error for missing request decorator
        1..2
        ok 1 - type is Error
        ok 2 - should match pattern provided
    ok 7 - should pass error for missing request decorator # time=6.792ms
    
    # Subtest: decorateReply inside register
        1..11
        ok 1 - should not error
        ok 2 - test exists
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 8 - decorateReply inside register # time=46.483ms
    
    # Subtest: decorateReply as plugin (inside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 9 - decorateReply as plugin (inside .after) # time=42.735ms
    
    # Subtest: decorateReply as plugin (outside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 10 - decorateReply as plugin (outside .after) # time=17.596ms
    
    # Subtest: decorateRequest inside register
        1..11
        ok 1 - should not error
        ok 2 - test exists
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 11 - decorateRequest inside register # time=18.816ms
    
    # Subtest: decorateRequest as plugin (inside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 12 - decorateRequest as plugin (inside .after) # time=48.094ms
    
    # Subtest: decorateRequest as plugin (outside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 13 - decorateRequest as plugin (outside .after) # time=28.085ms
    
    # Subtest: decorators should be instance separated
        1..1
        ok 1 - (unnamed test)
    ok 14 - decorators should be instance separated # time=2.364ms
    
    # Subtest: hasRequestDecorator
        # Subtest: is a function
            1..1
            ok 1 - expect truthy value
        ok 1 - is a function # time=1.338ms
        
        # Subtest: should check if the given request decoration already exist
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 2 - should check if the given request decoration already exist # time=2.019ms
        
        # Subtest: should check if the given request decoration already exist when null
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 3 - should check if the given request decoration already exist when null # time=1.97ms
        
        # Subtest: should be plugin encapsulable
            1..4
            ok 1 - expect falsey value
            ok 2 - expect falsey value
            ok 3 - expect truthy value
            ok 4 - expect falsey value
        ok 4 - should be plugin encapsulable # time=23.034ms
        
        # Subtest: should be inherited
            1..2
            ok 1 - expect truthy value
            ok 2 - expect truthy value
        ok 5 - should be inherited # time=16.649ms
        
        1..5
    ok 15 - hasRequestDecorator # time=67.146ms
    
    # Subtest: hasReplyDecorator
        # Subtest: is a function
            1..1
            ok 1 - expect truthy value
        ok 1 - is a function # time=1.408ms
        
        # Subtest: should check if the given reply decoration already exist
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 2 - should check if the given reply decoration already exist # time=1.597ms
        
        # Subtest: should check if the given reply decoration already exist when null
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 3 - should check if the given reply decoration already exist when null # time=1.454ms
        
        # Subtest: should be plugin encapsulable
            1..4
            ok 1 - expect falsey value
            ok 2 - expect falsey value
            ok 3 - expect truthy value
            ok 4 - expect falsey value
        ok 4 - should be plugin encapsulable # time=9.661ms
        
        # Subtest: should be inherited
            1..2
            ok 1 - expect truthy value
            ok 2 - expect truthy value
        ok 5 - should be inherited # time=11.205ms
        
        1..5
    ok 16 - hasReplyDecorator # time=139.857ms
    
    # Subtest: should register properties via getter/setter objects
        1..3
        ok 1 - expect truthy value
        ok 2 - a getter
        ok 3 - expect falsey value
    ok 17 - should register properties via getter/setter objects # time=11.519ms
    
    # Subtest: decorateRequest should work with getter/setter
        1..5
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - (unnamed test)
    ok 18 - decorateRequest should work with getter/setter # time=32.399ms
    
    # Subtest: decorateReply should work with getter/setter
        1..5
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - (unnamed test)
    ok 19 - decorateReply should work with getter/setter # time=10.808ms
    
    # Subtest: should register empty values
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 20 - should register empty values # time=3.688ms
    
    # Subtest: nested plugins can override things
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 21 - nested plugins can override things # time=5.155ms
    
    # Subtest: a decorator should addSchema to all the encapsulated tree
        1..1
        ok 1 - should not error
    ok 22 - a decorator should addSchema to all the encapsulated tree # time=20.54ms
    
    # Subtest: after can access to a decorated instance and previous plugin decoration
        1..11
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
    ok 23 - after can access to a decorated instance and previous plugin decoration # time=9.99ms
    
    # Subtest: decorate* should throw if called after ready
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 24 - decorate* should throw if called after ready # time=10.444ms
    
    # Subtest: decorate* should emit warning if an array is passed
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 25 - decorate* should emit warning if an array is passed # time=29.198ms
    
    # Subtest: decorate* should emit warning if object type is passed
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 26 - decorate* should emit warning if object type is passed # time=23.99ms
    
    # Subtest: decorate* should not emit warning if object with getter/setter is passed
        1..0
    ok 27 - decorate* should not emit warning if object with getter/setter is passed # time=23.296ms
    
    # Subtest: decorate* should not emit warning if string,bool,numbers are passed
        1..0
    ok 28 - decorate* should not emit warning if string,bool,numbers are passed # time=23.67ms
    
    # Subtest: Request/reply decorators should be able to access the server instance
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not be equal
        ok 4 - should be equal
        ok 5 - should not be equal
        ok 6 - should be equal
    ok 29 - Request/reply decorators should be able to access the server instance # time=9.599ms
    
    # Subtest: plugin required decorators
        1..0
    ok 30 - plugin required decorators # time=4.002ms
    
    # Subtest: decorateRequest/decorateReply empty string
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 31 - decorateRequest/decorateReply empty string # time=9.473ms
    
    # Subtest: decorateRequest/decorateReply is undefined
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 32 - decorateRequest/decorateReply is undefined # time=15.761ms
    
    # Subtest: decorateRequest/decorateReply is not set to a value
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 33 - decorateRequest/decorateReply is not set to a value # time=9.711ms
    
    # Subtest: decorateRequest with dependencies
        1..2
        ok 1 - expected to not throw
        ok 2 - expect truthy value
    ok 34 - decorateRequest with dependencies # time=1.604ms
    
    # Subtest: decorateRequest with dependencies (functions)
        1..2
        ok 1 - expected to not throw
        ok 2 - expect truthy value
    ok 35 - decorateRequest with dependencies (functions) # time=1.255ms
    
    # Subtest: chain of decorators on Request
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        1..6
    ok 36 - chain of decorators on Request # time=22.748ms
    
    # Subtest: chain of decorators on Reply
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        1..6
    ok 37 - chain of decorators on Reply # time=14.72ms
    
    1..37
    # time=896.109ms
ok 22 - test/decorator.test.js # time=896.109ms

# Subtest: test/default-route.test.js
    # Subtest: should fail if defaultRoute is not a function
        1..1
        ok 1 - should be equal
    ok 1 - should fail if defaultRoute is not a function # time=53.091ms
    
    # Subtest: correctly sets, returns, and calls defaultRoute
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 2 - correctly sets, returns, and calls defaultRoute # time=69.583ms
    
    1..2
    # time=144.995ms
ok 23 - test/default-route.test.js # time=144.995ms

# Subtest: test/delete.test.js
    # Subtest: shorthand - delete
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - delete # time=9.303ms
    
    # Subtest: shorthand - delete params
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - delete params # time=2.109ms
    
    # Subtest: shorthand - delete, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - delete, querystring schema # time=1.532ms
    
    # Subtest: shorthand - get, headers schema
        1..1
        ok 1 - (unnamed test)
    ok 4 - shorthand - get, headers schema # time=1.452ms
    
    # Subtest: missing schema - delete
        1..1
        ok 1 - (unnamed test)
    ok 5 - missing schema - delete # time=1.45ms
    
    # Subtest: body - delete
        1..1
        ok 1 - (unnamed test)
    ok 6 - body - delete # time=1.199ms
    
    # Subtest: shorthand - delete with application/json Content-Type header and without body
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - shorthand - delete with application/json Content-Type header and without body # time=42.983ms
    
    ok 8 - should not error
    # Subtest: shorthand - request delete
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 9 - shorthand - request delete # time=38.516ms
    
    # Subtest: shorthand - request delete params schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 10 - shorthand - request delete params schema # time=7.222ms
    
    # Subtest: shorthand - request delete params schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 11 - shorthand - request delete params schema error # time=6.82ms
    
    # Subtest: shorthand - request delete headers schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 12 - shorthand - request delete headers schema # time=5.417ms
    
    # Subtest: shorthand - request delete headers schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 13 - shorthand - request delete headers schema error # time=5.149ms
    
    # Subtest: shorthand - request delete querystring schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 14 - shorthand - request delete querystring schema # time=4.938ms
    
    # Subtest: shorthand - request delete querystring schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 15 - shorthand - request delete querystring schema error # time=4.577ms
    
    # Subtest: shorthand - request delete missing schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 16 - shorthand - request delete missing schema # time=5.029ms
    
    # Subtest: shorthand - delete with body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - shorthand - delete with body # time=8.188ms
    
    1..17
    # time=312.283ms
ok 24 - test/delete.test.js # time=312.283ms

# Subtest: test/diagnostics-channel.test.js
    # Subtest: diagnostics_channel when present and subscribers
        1..3
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should be equal
    ok 1 - diagnostics_channel when present and subscribers # time=992.502ms
    
    # Subtest: diagnostics_channel when present and no subscribers
        1..1
        ok 1 - should be equal
    ok 2 - diagnostics_channel when present and no subscribers # time=29.271ms
    
    # Subtest: diagnostics_channel when not present
        1..1
        ok 1 - expected to not throw
    ok 3 - diagnostics_channel when not present # time=32.07ms
    
    1..3
    # time=1074.041ms
ok 25 - test/diagnostics-channel.test.js # time=1074.041ms

# Subtest: test/encapsulated-error-handler.test.js
    # Subtest: encapuslates an error handler
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 1 - encapuslates an error handler # time=66.452ms
    
    # Subtest: onError hook nested
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 2 - onError hook nested # time=11.02ms
    
    1..2
    # time=83.85ms
ok 26 - test/encapsulated-error-handler.test.js # time=83.85ms

# Subtest: test/esm/index.test.js
    # Subtest: named exports support
        ok 1 - should be equal
        1..1
    ok 1 - named exports support # time=36.541ms
    
    ok 2 - should be equal
    1..2
    # time=42.383ms
ok 27 - test/esm/index.test.js # time=42.383ms

# Subtest: test/fastify-instance.test.js
    # Subtest: root fastify instance is an object
        1..1
        ok 1 - type is object
    ok 1 - root fastify instance is an object # time=14.985ms
    
    # Subtest: fastify instance should contains ajv options
        1..1
        ok 1 - should be equivalent
    ok 2 - fastify instance should contains ajv options # time=6.687ms
    
    # Subtest: fastify instance should contains ajv options.plugins nested arrays
        1..1
        ok 1 - should be equivalent
    ok 3 - fastify instance should contains ajv options.plugins nested arrays # time=3.229ms
    
    # Subtest: fastify instance get invalid ajv options
        1..1
        ok 1 - expected to throw
    ok 4 - fastify instance get invalid ajv options # time=1.561ms
    
    # Subtest: fastify instance get invalid ajv options.plugins
        1..1
        ok 1 - expected to throw
    ok 5 - fastify instance get invalid ajv options.plugins # time=1.105ms
    
    # Subtest: fastify instance should contain default errorHandler
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 6 - fastify instance should contain default errorHandler # time=2.858ms
    
    # Subtest: errorHandler in plugin should be separate from the external one
        1..4
        ok 1 - should not be equivalent
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equivalent
    ok 7 - errorHandler in plugin should be separate from the external one # time=16.594ms
    
    1..7
    # time=71.711ms
ok 28 - test/fastify-instance.test.js # time=71.711ms

# Subtest: test/fluent-schema.test.js
    # Subtest: use fluent-json-schema object
        1..15
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equivalent
    ok 1 - use fluent-json-schema object # time=201.293ms
    
    # Subtest: use complex fluent-json-schema object
        1..1
        ok 1 - should not error
    ok 2 - use complex fluent-json-schema object # time=43.37ms
    
    # Subtest: use fluent schema and plain JSON schema
        1..1
        ok 1 - should not error
    ok 3 - use fluent schema and plain JSON schema # time=53.434ms
    
    # Subtest: Should call valueOf internally
        1..1
        ok 1 - should not error
    ok 4 - Should call valueOf internally # time=83.184ms
    
    1..4
    # time=394.673ms
ok 29 - test/fluent-schema.test.js # time=394.673ms

# Subtest: test/genReqId.test.js
    # Subtest: Should accept a custom genReqId function
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 1 - Should accept a custom genReqId function # time=69.774ms
    
    1..1
    # time=76.392ms
ok 30 - test/genReqId.test.js # time=76.392ms

# Subtest: test/get.test.js
    # Subtest: shorthand - get
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - get # time=9.727ms
    
    # Subtest: shorthand - get (return null)
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - get (return null) # time=2.124ms
    
    # Subtest: shorthand - get params
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - get params # time=2.342ms
    
    # Subtest: shorthand - get, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 4 - shorthand - get, querystring schema # time=1.949ms
    
    # Subtest: shorthand - get, headers schema
        1..1
        ok 1 - (unnamed test)
    ok 5 - shorthand - get, headers schema # time=1.91ms
    
    # Subtest: missing schema - get
        1..1
        ok 1 - (unnamed test)
    ok 6 - missing schema - get # time=1.969ms
    
    # Subtest: custom serializer - get
        1..1
        ok 1 - (unnamed test)
    ok 7 - custom serializer - get # time=2.588ms
    
    # Subtest: empty response
        1..1
        ok 1 - (unnamed test)
    ok 8 - empty response # time=1.859ms
    
    # Subtest: send a falsy boolean
        1..1
        ok 1 - (unnamed test)
    ok 9 - send a falsy boolean # time=1.836ms
    
    ok 10 - should not error
    # Subtest: shorthand - request get
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - shorthand - request get # time=40.692ms
    
    # Subtest: shorthand - request get params schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 12 - shorthand - request get params schema # time=7.638ms
    
    # Subtest: shorthand - request get params schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 13 - shorthand - request get params schema error # time=7.107ms
    
    # Subtest: shorthand - request get headers schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - shorthand - request get headers schema # time=5.465ms
    
    # Subtest: shorthand - request get headers schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 15 - shorthand - request get headers schema error # time=7.205ms
    
    # Subtest: shorthand - request get querystring schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 16 - shorthand - request get querystring schema # time=14.605ms
    
    # Subtest: shorthand - request get querystring schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - shorthand - request get querystring schema error # time=4.643ms
    
    # Subtest: shorthand - request get missing schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - shorthand - request get missing schema # time=4.409ms
    
    # Subtest: shorthand - custom serializer
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 19 - shorthand - custom serializer # time=5.079ms
    
    # Subtest: shorthand - empty response
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 20 - shorthand - empty response # time=4.182ms
    
    # Subtest: shorthand - send a falsy boolean
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - shorthand - send a falsy boolean # time=6.633ms
    
    # Subtest: shorthand - send null value
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - shorthand - send null value # time=4.474ms
    
    1..22
    # time=330.693ms
ok 31 - test/get.test.js # time=330.693ms

# Subtest: test/handler-context.test.js
    # Subtest: handlers receive correct `this` context
        1..4
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 1 - handlers receive correct `this` context # time=64.716ms
    
    # Subtest: handlers have access to the internal context
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - type is Object
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 2 - handlers have access to the internal context # time=24.683ms
    
    1..2
    # time=97.349ms
ok 32 - test/handler-context.test.js # time=97.349ms

# Subtest: test/head.test.js
    # Subtest: shorthand - head
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - head # time=9.228ms
    
    # Subtest: shorthand - head params
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - head params # time=2.406ms
    
    # Subtest: shorthand - head, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - head, querystring schema # time=1.579ms
    
    # Subtest: missing schema - head
        1..1
        ok 1 - (unnamed test)
    ok 4 - missing schema - head # time=1.565ms
    
    ok 5 - should not error
    # Subtest: shorthand - request head
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 6 - shorthand - request head # time=40.22ms
    
    # Subtest: shorthand - request head params schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 7 - shorthand - request head params schema # time=5.55ms
    
    # Subtest: shorthand - request head params schema error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 8 - shorthand - request head params schema error # time=5.636ms
    
    # Subtest: shorthand - request head querystring schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 9 - shorthand - request head querystring schema # time=4.471ms
    
    # Subtest: shorthand - request head querystring schema error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - shorthand - request head querystring schema error # time=4.173ms
    
    # Subtest: shorthand - request head missing schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 11 - shorthand - request head missing schema # time=3.784ms
    
    1..11
    # time=224.289ms
ok 33 - test/head.test.js # time=224.289ms

# Subtest: test/hooks-async.test.js
    # Subtest: async hooks
        1..21
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - expect truthy value
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should not error
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equivalent
        ok 20 - should not error
        ok 21 - should be equal
    ok 1 - async hooks # time=145.726ms
    
    # Subtest: modify payload
        1..10
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - expect truthy value
        ok 4 - should be equivalent
        ok 5 - expect truthy value
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
    ok 2 - modify payload # time=32.798ms
    
    # Subtest: onRequest hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 3 - onRequest hooks should be able to block a request # time=31.926ms
    
    # Subtest: preParsing hooks should be able to modify the payload
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 4 - preParsing hooks should be able to modify the payload # time=21.236ms
    
    # Subtest: preParsing hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 5 - preParsing hooks should handle errors # time=6.563ms
    
    # Subtest: preHandler hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 6 - preHandler hooks should be able to block a request # time=18.729ms
    
    # Subtest: preValidation hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 7 - preValidation hooks should be able to block a request # time=14.591ms
    
    # Subtest: preValidation hooks should be able to change request body before validation
        1..4
        ok 1 - (unnamed test)
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - preValidation hooks should be able to change request body before validation # time=81.428ms
    
    # Subtest: preSerialization hooks should be able to modify the payload
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - preSerialization hooks should be able to modify the payload # time=7.164ms
    
    # Subtest: preSerialization hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - preSerialization hooks should handle errors # time=8.329ms
    
    # Subtest: preValidation hooks should handle throwing null
        1..4
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - preValidation hooks should handle throwing null # time=25.829ms
    
    # Subtest: preValidation hooks should handle throwing a string
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 12 - preValidation hooks should handle throwing a string # time=13.271ms
    
    # Subtest: onRequest hooks should be able to block a request (last hook)
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 13 - onRequest hooks should be able to block a request (last hook) # time=9.318ms
    
    # Subtest: preHandler hooks should be able to block a request (last hook)
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 14 - preHandler hooks should be able to block a request (last hook) # time=7.604ms
    
    # Subtest: onRequest respond with a stream
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - onRequest respond with a stream # time=19.859ms
    
    # Subtest: preHandler respond with a stream
        1..7
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 16 - preHandler respond with a stream # time=18.121ms
    
    # Subtest: Should log a warning if is an async function with `done`
        # Subtest: 3 arguments
            1..1
            ok 1 - expect truthy value
        ok 1 - 3 arguments # time=2.453ms
        
        # Subtest: 4 arguments
            1..3
            ok 1 - expect truthy value
            ok 2 - expect truthy value
            ok 3 - expect truthy value
        ok 2 - 4 arguments # time=2.18ms
        
        1..2
    ok 17 - Should log a warning if is an async function with `done` # time=16.478ms
    
    # Subtest: early termination, onRequest async
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 18 - early termination, onRequest async # time=41.566ms
    
    # Subtest: The this should be the same of the encapsulation level
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        1..4
    ok 19 - The this should be the same of the encapsulation level # time=13.656ms
    
    # Subtest: preSerializationEnd should handle errors if the serialize method throws
        # Subtest: works with sync preSerialization
            1..2
            ok 1 - should not error
            ok 2 - should not be equal
        ok 1 - works with sync preSerialization # time=29.827ms
        
        # Subtest: works with async preSerialization
            1..2
            ok 1 - should not error
            ok 2 - should not be equal
        ok 2 - works with async preSerialization # time=6.901ms
        
        1..2
    ok 20 - preSerializationEnd should handle errors if the serialize method throws # time=41.262ms
    
    1..20
    # time=590.949ms
ok 34 - test/hooks-async.test.js # time=590.949ms

# Subtest: test/hooks.on-ready.test.js
    # Subtest: onReady should be called in order
        1..7
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
        ok 7 - should not error
    ok 1 - onReady should be called in order # time=70.003ms
    
    # Subtest: async onReady should be called in order
        1..7
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
        ok 7 - ready
    ok 2 - async onReady should be called in order # time=10.305ms
    
    # Subtest: mix ready and onReady
        1..2
        ok 1 - should be equal
        ok 2 - ready hooks execute once
    ok 3 - mix ready and onReady # time=16.119ms
    
    # Subtest: listen and onReady order
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - trigger the onReady
        ok 9 - do not trigger the onReady
    ok 4 - listen and onReady order # time=23.771ms
    
    # Subtest: multiple ready calls
        1..11
        ok 1 - ready and hooks not triggered yet
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - trigger the onReady
        ok 10 - do not trigger the onReady
        ok 11 - do not trigger the onReady
    ok 5 - multiple ready calls # time=9.232ms
    
    # Subtest: onReady should manage error in sync
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 6 - onReady should manage error in sync # time=6.296ms
    
    # Subtest: onReady should manage error in async
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 7 - onReady should manage error in async # time=31.33ms
    
    # Subtest: onReady should manage sync error
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 8 - onReady should manage sync error # time=8.614ms
    
    # Subtest: onReady can not add decorators or application hooks
        1..3
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should not error
    ok 9 - onReady can not add decorators or application hooks # time=5.137ms
    
    # Subtest: onReady cannot add lifecycle hooks
        1..5
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 10 - onReady cannot add lifecycle hooks # time=9.361ms
    
    # Subtest: onReady throw loading error
        1..1
        ok 1 - expect truthy value
    ok 11 - onReady throw loading error # time=1.989ms
    
    # Subtest: onReady does not call done
        1..6
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
        ok 6 - should be equal
    ok 12 - onReady does not call done # time=515.72ms
    
    # Subtest: onReady execution order
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 13 - onReady execution order # time=3.713ms
    
    # Subtest: ready return the server with callback
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 14 - ready return the server with callback # time=45.944ms
    
    # Subtest: ready return the server with Promise
        1..1
        ok 1 - should be equivalent
    ok 15 - ready return the server with Promise # time=17.37ms
    
    # Subtest: ready return registered
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
    ok 16 - ready return registered # time=13.249ms
    
    1..16
    # time=801.735ms
ok 35 - test/hooks.on-ready.test.js # time=801.735ms

# Subtest: test/hooks.test.js
    # Subtest: hooks
        1..43
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - (unnamed test)
        ok 4 - (unnamed test)
        ok 5 - (unnamed test)
        ok 6 - (unnamed test)
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - expect truthy value
        ok 20 - expect truthy value
        ok 21 - expect truthy value
        ok 22 - expect truthy value
        ok 23 - should be equal
        ok 24 - should be equal
        ok 25 - should be equal
        ok 26 - should be equal
        ok 27 - should be equal
        ok 28 - should be equal
        ok 29 - should be equal
        ok 30 - should be equal
        ok 31 - should be equal
        ok 32 - expect truthy value
        ok 33 - expect truthy value
        ok 34 - expect truthy value
        ok 35 - expect truthy value
        ok 36 - should not error
        ok 37 - should be equal
        ok 38 - should be equal
        ok 39 - should be equivalent
        ok 40 - should not error
        ok 41 - should be equal
        ok 42 - should not error
        ok 43 - should be equal
    ok 1 - hooks # time=158.881ms
    
    # Subtest: onRequest hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 2 - onRequest hook should support encapsulation / 1 # time=34.622ms
    
    # Subtest: onRequest hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 3 - onRequest hook should support encapsulation / 2 # time=8.539ms
    
    # Subtest: onRequest hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 4 - onRequest hook should support encapsulation / 3 # time=20.112ms
    
    # Subtest: preHandler hook should support encapsulation / 5
        1..17
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equivalent
    ok 5 - preHandler hook should support encapsulation / 5 # time=18.175ms
    
    # Subtest: onRoute hook should be called / 1
        1..2
        ok 1 - (unnamed test)
        ok 2 - should not error
    ok 6 - onRoute hook should be called / 1 # time=5.752ms
    
    # Subtest: onRoute hook should be called / 2
        1..5
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 7 - onRoute hook should be called / 2 # time=15.849ms
    
    # Subtest: onRoute hook should be called / 3
        1..5
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - (unnamed test)
        ok 5 - should not error
    ok 8 - onRoute hook should be called / 3 # time=17.609ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 4
        1..4
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - (unnamed test)
        ok 4 - should not error
    ok 9 - onRoute hook should be called (encapsulation support) / 4 # time=8.84ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 5
        1..2
        ok 1 - (unnamed test)
        ok 2 - should not error
    ok 10 - onRoute hook should be called (encapsulation support) / 5 # time=17.803ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 6
        1..1
        ok 1 - should not error
    ok 11 - onRoute hook should be called (encapsulation support) / 6 # time=4.322ms
    
    # Subtest: onRoute should keep the context
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
    ok 12 - onRoute should keep the context # time=15.744ms
    
    # Subtest: onRoute hook should pass correct route
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should not error
    ok 13 - onRoute hook should pass correct route # time=6.213ms
    
    # Subtest: onRoute hook should pass correct route with custom prefix
        1..11
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
    ok 14 - onRoute hook should pass correct route with custom prefix # time=19.495ms
    
    # Subtest: onRoute hook should pass correct route with custom options
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - type is function
        ok 6 - should not error
    ok 15 - onRoute hook should pass correct route with custom options # time=26.772ms
    
    # Subtest: onRoute hook should receive any route option
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 16 - onRoute hook should receive any route option # time=5.979ms
    
    # Subtest: onRoute hook should preserve system route configuration
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 17 - onRoute hook should preserve system route configuration # time=24.528ms
    
    # Subtest: onRoute hook should preserve handler function in options of shorthand route system configuration
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 18 - onRoute hook should preserve handler function in options of shorthand route system configuration # time=4.149ms
    
    # Subtest: onRoute hook should be called once when prefixTrailingSlash
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 19 - onRoute hook should be called once when prefixTrailingSlash # time=13.367ms
    
    # Subtest: onRoute hook should able to change the route url
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 20 - onRoute hook should able to change the route url # time=8.894ms
    
    # Subtest: onRoute hook that throws should be caught
        1..1
        ok 1 - expect truthy value
    ok 21 - onRoute hook that throws should be caught # time=3.32ms
    
    # Subtest: onRoute hook with many prefix
        1..3
        ok 1 - should match pattern provided
        ok 2 - should match pattern provided
        ok 3 - should not error
    ok 22 - onRoute hook with many prefix # time=13.048ms
    
    # Subtest: onRoute hook should not be called when it registered after route
        1..3
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
    ok 23 - onRoute hook should not be called when it registered after route # time=3.871ms
    
    # Subtest: onResponse hook should log request error
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 24 - onResponse hook should log request error # time=103.183ms
    
    # Subtest: onResponse hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 25 - onResponse hook should support encapsulation / 1 # time=35.618ms
    
    # Subtest: onResponse hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 26 - onResponse hook should support encapsulation / 2 # time=4.821ms
    
    # Subtest: onResponse hook should support encapsulation / 3
        1..16
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 27 - onResponse hook should support encapsulation / 3 # time=26.523ms
    
    # Subtest: onSend hook should support encapsulation / 1
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 28 - onSend hook should support encapsulation / 1 # time=4.331ms
    
    # Subtest: onSend hook should support encapsulation / 2
        1..16
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 29 - onSend hook should support encapsulation / 2 # time=16.454ms
    
    # Subtest: onSend hook is called after payload is serialized and headers are set
        1..30
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should be equal
        ok 15 - should not error
        ok 16 - should be equal
        ok 17 - should be equivalent
        ok 18 - should be equal
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equivalent
        ok 22 - should be equal
        ok 23 - should not error
        ok 24 - should be equal
        ok 25 - should be equivalent
        ok 26 - should be equal
        ok 27 - should not error
        ok 28 - should be equal
        ok 29 - should be equivalent
        ok 30 - should be equal
    ok 30 - onSend hook is called after payload is serialized and headers are set # time=33.42ms
    
    # Subtest: modify payload
        1..10
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - expect truthy value
        ok 4 - should be equivalent
        ok 5 - expect truthy value
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
    ok 31 - modify payload # time=8.156ms
    
    # Subtest: clear payload
        1..6
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 32 - clear payload # time=10.657ms
    
    # Subtest: onSend hook throws
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 33 - onSend hook throws # time=29.055ms
    
    # Subtest: onSend hook should receive valid request and reply objects if onRequest hook fails
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 34 - onSend hook should receive valid request and reply objects if onRequest hook fails # time=22.066ms
    
    # Subtest: onSend hook should receive valid request and reply objects if a custom content type parser fails
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 35 - onSend hook should receive valid request and reply objects if a custom content type parser fails # time=15.229ms
    
    # Subtest: Content-Length header should be updated if onSend hook modifies the payload
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 36 - Content-Length header should be updated if onSend hook modifies the payload # time=5.248ms
    
    # Subtest: cannot add hook after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 37 - cannot add hook after binding # time=12.892ms
    
    # Subtest: onRequest hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 38 - onRequest hooks should be able to block a request # time=4.626ms
    
    # Subtest: preValidation hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 39 - preValidation hooks should be able to block a request # time=28.631ms
    
    # Subtest: preValidation hooks should be able to change request body before validation
        1..4
        ok 1 - (unnamed test)
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 40 - preValidation hooks should be able to change request body before validation # time=107.083ms
    
    # Subtest: preParsing hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 41 - preParsing hooks should be able to block a request # time=4.893ms
    
    # Subtest: preHandler hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 42 - preHandler hooks should be able to block a request # time=4.355ms
    
    # Subtest: onRequest hooks should be able to block a request (last hook)
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 43 - onRequest hooks should be able to block a request (last hook) # time=4.134ms
    
    # Subtest: preHandler hooks should be able to block a request (last hook)
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 44 - preHandler hooks should be able to block a request (last hook) # time=4.027ms
    
    # Subtest: preParsing hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 45 - preParsing hooks should handle errors # time=3.924ms
    
    # Subtest: onRequest respond with a stream
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 46 - onRequest respond with a stream # time=31.283ms
    
    # Subtest: preHandler respond with a stream
        1..7
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 47 - preHandler respond with a stream # time=14.354ms
    
    # Subtest: Register an hook after a plugin inside a plugin
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 48 - Register an hook after a plugin inside a plugin # time=12.627ms
    
    # Subtest: Register an hook after a plugin inside a plugin (with preHandler option)
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 49 - Register an hook after a plugin inside a plugin (with preHandler option) # time=9.251ms
    
    # Subtest: Register hooks inside a plugin after an encapsulated plugin
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 50 - Register hooks inside a plugin after an encapsulated plugin # time=6.778ms
    
    # Subtest: onRequest hooks should run in the order in which they are defined
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 51 - onRequest hooks should run in the order in which they are defined # time=9.695ms
    
    # Subtest: preHandler hooks should run in the order in which they are defined
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 52 - preHandler hooks should run in the order in which they are defined # time=9.172ms
    
    # Subtest: onSend hooks should run in the order in which they are defined
        1..8
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equivalent
    ok 53 - onSend hooks should run in the order in which they are defined # time=7.54ms
    
    # Subtest: onResponse hooks should run in the order in which they are defined
        1..8
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equivalent
    ok 54 - onResponse hooks should run in the order in which they are defined # time=7.638ms
    
    # Subtest: onRequest, preHandler, and onResponse hooks that resolve to a value do not cause an error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 55 - onRequest, preHandler, and onResponse hooks that resolve to a value do not cause an error # time=4.218ms
    
    # Subtest: If a response header has been set inside an hook it shoulod not be overwritten by the final response handler
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 56 - If a response header has been set inside an hook it shoulod not be overwritten by the final response handler # time=3.772ms
    
    # Subtest: If the content type has been set inside an hook it should not be changed
        1..5
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 57 - If the content type has been set inside an hook it should not be changed # time=3.815ms
    
    # Subtest: request in onRequest, preParsing, preValidation and onResponse
        1..18
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equivalent
        ok 10 - should be equivalent
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equivalent
        ok 14 - should be equivalent
        ok 15 - should be equivalent
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
    ok 58 - request in onRequest, preParsing, preValidation and onResponse # time=14.81ms
    
    # Subtest: preValidation hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 59 - preValidation hook should support encapsulation / 1 # time=11.136ms
    
    # Subtest: preValidation hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 60 - preValidation hook should support encapsulation / 2 # time=4.314ms
    
    # Subtest: preValidation hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 61 - preValidation hook should support encapsulation / 3 # time=18.328ms
    
    # Subtest: onError hook
        1..3
        ok 1 - should match pattern provided
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 62 - onError hook # time=5.888ms
    
    # Subtest: reply.send should throw if called inside the onError hook
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 63 - reply.send should throw if called inside the onError hook # time=5.705ms
    
    # Subtest: onError hook with setErrorHandler
        # Subtest: Send error
            1..3
            ok 1 - should match pattern provided
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 1 - Send error # time=6.078ms
        
        1..1
    ok 64 - onError hook with setErrorHandler # time=11.367ms
    
    # Subtest: preParsing hook should run before parsing and be able to modify the payload
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 65 - preParsing hook should run before parsing and be able to modify the payload # time=51.975ms
    
    # Subtest: preParsing hooks should run in the order in which they are defined
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 66 - preParsing hooks should run in the order in which they are defined # time=20.242ms
    
    # Subtest: preParsing hooks should support encapsulation
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 67 - preParsing hooks should support encapsulation # time=12.137ms
    
    # Subtest: preParsing hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 68 - preParsing hook should support encapsulation / 1 # time=6.998ms
    
    # Subtest: preParsing hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 69 - preParsing hook should support encapsulation / 2 # time=5.622ms
    
    # Subtest: preParsing hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 70 - preParsing hook should support encapsulation / 3 # time=13.062ms
    
    # Subtest: preSerialization hook should run before serialization and be able to modify the payload
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 71 - preSerialization hook should run before serialization and be able to modify the payload # time=14.76ms
    
    # Subtest: preSerialization hook should be able to throw errors which are validated against schema response
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        1..6
    ok 72 - preSerialization hook should be able to throw errors which are validated against schema response # time=9.857ms
    
    # Subtest: preSerialization hook which returned error should still run onError hooks
        1..4
        ok 1 - should not error
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - should be equal
    ok 73 - preSerialization hook which returned error should still run onError hooks # time=6.439ms
    
    # Subtest: preSerialization hooks should run in the order in which they are defined
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 74 - preSerialization hooks should run in the order in which they are defined # time=13.752ms
    
    # Subtest: preSerialization hooks should support encapsulation
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 75 - preSerialization hooks should support encapsulation # time=10.643ms
    
    # Subtest: onRegister hook should be called / 1
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should not error
    ok 76 - onRegister hook should be called / 1 # time=3.748ms
    
    # Subtest: onRegister hook should be called / 2
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
    ok 77 - onRegister hook should be called / 2 # time=5.392ms
    
    # Subtest: onRegister hook should be called / 3
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
    ok 78 - onRegister hook should be called / 3 # time=5.336ms
    
    # Subtest: onRegister hook should be called (encapsulation)
        1..1
        ok 1 - should not error
    ok 79 - onRegister hook should be called (encapsulation) # time=2.217ms
    
    # Subtest: early termination, onRequest
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 80 - early termination, onRequest # time=5.033ms
    
    # Subtest: reply.send should throw if undefined error is thrown
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 81 - reply.send should throw if undefined error is thrown # time=12.954ms
    
    # Subtest: reply.send should throw if undefined error is thrown at preParsing hook
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 82 - reply.send should throw if undefined error is thrown at preParsing hook # time=6.326ms
    
    # Subtest: reply.send should throw if undefined error is thrown at onSend hook
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 83 - reply.send should throw if undefined error is thrown at onSend hook # time=3.841ms
    
    # Subtest: onTimeout should be triggered
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - onTimeout
        ok 5 - type is Error
        ok 6 - should be equal
    ok 84 - onTimeout should be triggered # time=509.844ms
    
    # Subtest: onTimeout should be triggered and socket _meta is set
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - onTimeout
        ok 5 - type is Error
        ok 6 - should be equal
    ok 85 - onTimeout should be triggered and socket _meta is set # time=518.654ms
    
    1..85
    # time=2438.993ms
ok 36 - test/hooks.test.js # time=2438.993ms

# Subtest: test/http2/closing.test.js
    # Subtest: http/2 request while fastify closing
        ok 1 - http2 successfully loaded
        ok 2 - should not error
        # Subtest: return 200
            ok 1 - should be equal
            1..1
        ok 3 - return 200 # time=13.771ms
        
        1..3
    ok 1 - http/2 request while fastify closing # time=62.869ms
    
    # Subtest: http/2 request while fastify closing - return503OnClosing: false
        ok 1 - http2 successfully loaded
        ok 2 - should not error
        # Subtest: return 200
            ok 1 - should be equal
            1..1
        ok 3 - return 200 # time=4.854ms
        
        1..3
    ok 2 - http/2 request while fastify closing - return503OnClosing: false # time=13.668ms
    
    # Subtest: http/2 closes successfully with async await
        1..0
    ok 3 - http/2 closes successfully with async await # time=110.814ms
    
    # Subtest: https/2 closes successfully with async await
        1..0
    ok 4 - https/2 closes successfully with async await # time=13.752ms
    
    # Subtest: http/2 server side session emits a timeout event
        ok 1 - should be equal
        1..1
    ok 5 - http/2 server side session emits a timeout event # time=108.062ms
    
    1..5
    # time=338.287ms
ok 37 - test/http2/closing.test.js # time=338.287ms

# Subtest: test/http2/constraint.test.js
    # Subtest: A route supports host constraints under http2 protocol and secure connection
        1..5
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request - no constrain
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - https get request - no constrain # time=42.17ms
        
        # Subtest: https get request - constrain
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - https get request - constrain # time=14.039ms
        
        # Subtest: https get request - constrain - not found
            1..1
            ok 1 - should be equal
        ok 5 - https get request - constrain - not found # time=17.791ms
        
    ok 1 - A route supports host constraints under http2 protocol and secure connection # time=157.707ms
    
    1..1
    # time=187.971ms
ok 38 - test/http2/constraint.test.js # time=187.971ms

# Subtest: test/http2/head.test.js
    ok 1 - http2 successfully loaded
    ok 2 - should not error
    # Subtest: http HEAD request
        1..1
        ok 1 - should be equal
    ok 3 - http HEAD request # time=93.67ms
    
    1..3
    # time=176.62ms
ok 39 - test/http2/head.test.js # time=176.62ms

# Subtest: test/http2/missing-http2-module.test.js
    # Subtest: should throw when http2 module cannot be found
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - should throw when http2 module cannot be found # time=12.028ms
    
    1..1
    # time=18.439ms
ok 40 - test/http2/missing-http2-module.test.js # time=18.439ms

# Subtest: test/http2/plain.test.js
    ok 1 - http2 successfully loaded
    ok 2 - should not error
    # Subtest: http get request
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 3 - http get request # time=32.568ms
    
    # Subtest: http hostname
        1..1
        ok 1 - should be equal
    ok 4 - http hostname # time=7.159ms
    
    1..4
    # time=136.437ms
ok 41 - test/http2/plain.test.js # time=136.437ms

# Subtest: test/http2/secure-with-fallback.test.js
    # Subtest: secure with fallback
        1..7
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get error
            1..1
            ok 1 - should be equal
        ok 3 - https get error # time=45.83ms
        
        # Subtest: https post
            1..2
            ok 1 - should be equal
            ok 2 - should be equivalent
        ok 4 - https post # time=19.327ms
        
        # Subtest: https get request
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - https get request # time=19.814ms
        
        # Subtest: http1 get request
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 6 - http1 get request # time=29.8ms
        
        # Subtest: http1 get error
            1..2
            ok 1 - should not error
            ok 2 - should be equal
        ok 7 - http1 get error # time=9.32ms
        
    ok 1 - secure with fallback # time=237.455ms
    
    1..1
    # time=271.024ms
ok 42 - test/http2/secure-with-fallback.test.js # time=271.024ms

# Subtest: test/http2/secure.test.js
    # Subtest: secure
        1..4
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - https get request # time=57.716ms
        
        # Subtest: https get request without trust proxy - protocol
            1..2
            ok 1 - should be equivalent
            ok 2 - should be equivalent
        ok 4 - https get request without trust proxy - protocol # time=26.597ms
        
    ok 1 - secure # time=221.322ms
    
    1..1
    # time=260.79ms
ok 43 - test/http2/secure.test.js # time=260.79ms

# Subtest: test/http2/unknown-http-method.test.js
    ok 1 - should not error
    # Subtest: http UNKNOWN_METHOD request
        1..2
        ok 1 - should be equal
        ok 2 - should be equivalent
    ok 2 - http UNKNOWN_METHOD request # time=35.109ms
    
    1..2
    # time=96.588ms
ok 44 - test/http2/unknown-http-method.test.js # time=96.588ms

# Subtest: test/https/custom-https-server.test.js
    # Subtest: Should support a custom https server
        1..4
        ok 1 - it is called twice for every HOST interface
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - Should support a custom https server # time=91.47ms
    
    1..1
    # time=123.526ms
ok 45 - test/https/custom-https-server.test.js # time=123.526ms

# Subtest: test/https/https.test.js
    # Subtest: https
        1..4
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 3 - https get request # time=41.685ms
        
        # Subtest: https get request without trust proxy - protocol
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 4 - https get request without trust proxy - protocol # time=18.429ms
        
    ok 1 - https # time=148.215ms
    
    1..1
    # time=178.91ms
ok 46 - test/https/https.test.js # time=178.91ms

# Subtest: test/imports.test.js
    # Subtest: should import as default
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 1 - should import as default # time=712.595ms
    
    # Subtest: should import as esm
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 2 - should import as esm # time=1.517ms
    
    1..2
    # time=725.191ms
ok 47 - test/imports.test.js # time=725.191ms

# Subtest: test/inject.test.js
    # Subtest: inject should exist
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 1 - inject should exist # time=16.6ms
    
    # Subtest: should wait for the ready event
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 2 - should wait for the ready event # time=594.955ms
    
    # Subtest: inject get request
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 3 - inject get request # time=9.079ms
    
    # Subtest: inject get request - code check
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 4 - inject get request - code check # time=23.293ms
    
    # Subtest: inject get request - headers check
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 5 - inject get request - headers check # time=12.686ms
    
    # Subtest: inject get request - querystring
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 6 - inject get request - querystring # time=7.156ms
    
    # Subtest: inject get request - params
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 7 - inject get request - params # time=7.359ms
    
    # Subtest: inject get request - wildcard
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - inject get request - wildcard # time=7.112ms
    
    # Subtest: inject get request - headers
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 9 - inject get request - headers # time=22.094ms
    
    # Subtest: inject post request
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 10 - inject post request # time=20.555ms
    
    # Subtest: inject post request - send stream
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 11 - inject post request - send stream # time=22.948ms
    
    # Subtest: inject get request - reply stream
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 12 - inject get request - reply stream # time=8.965ms
    
    # Subtest: inject promisify - waiting for ready event
        1..1
        ok 1 - should be equal
    ok 13 - inject promisify - waiting for ready event # time=10.684ms
    
    # Subtest: inject promisify - after the ready event
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 14 - inject promisify - after the ready event # time=22.471ms
    
    # Subtest: inject promisify - when the server is up
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 15 - inject promisify - when the server is up # time=17.606ms
    
    # Subtest: should reject in error case
        1..1
        ok 1 - should be equal
    ok 16 - should reject in error case # time=505.418ms
    
    # Subtest: inject a multipart request using form-body
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 17 - inject a multipart request using form-body # time=18.146ms
    
    # Subtest: should error the promise if ready errors
        1..3
        ok 1 - after is called
        ok 2 - expect truthy value
        ok 3 - should be equal
    ok 18 - should error the promise if ready errors # time=6.974ms
    
    # Subtest: should throw error if callback specified and if ready errors
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 19 - should throw error if callback specified and if ready errors # time=3.982ms
    
    # Subtest: should support builder-style injection with ready app
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
    ok 20 - should support builder-style injection with ready app # time=6.383ms
    
    # Subtest: should support builder-style injection with non-ready app
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
    ok 21 - should support builder-style injection with non-ready app # time=5.477ms
    
    # Subtest: should handle errors in builder-style injection correctly
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 22 - should handle errors in builder-style injection correctly # time=6.351ms
    
    1..22
    # time=1387.157ms
ok 48 - test/inject.test.js # time=1387.157ms

# Subtest: test/internals/all.test.js
    # Subtest: fastify.all should add all the methods to the same url
        1..14
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equivalent
    ok 1 - fastify.all should add all the methods to the same url # time=67.423ms
    
    1..1
    # time=71.981ms
ok 49 - test/internals/all.test.js # time=71.981ms

# Subtest: test/internals/contentTypeParser.test.js
    # Subtest: rawBody function
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - rawBody function # time=28.639ms
    
    # Subtest: Should support Webpack and faux modules
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - Should support Webpack and faux modules # time=10.427ms
    
    1..2
    # time=46.192ms
ok 50 - test/internals/contentTypeParser.test.js # time=46.192ms

# Subtest: test/internals/decorator.test.js
    # Subtest: decorate should add the given method to its instance
        1..1
        ok 1 - expect truthy value
    ok 1 - decorate should add the given method to its instance # time=5.68ms
    
    # Subtest: decorate is chainable
        1..3
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
    ok 2 - decorate is chainable # time=1.707ms
    
    # Subtest: checkExistence should check if a property is part of the given instance
        1..1
        ok 1 - expect truthy value
    ok 3 - checkExistence should check if a property is part of the given instance # time=1.397ms
    
    # Subtest: checkExistence should find the instance if not given
        1..1
        ok 1 - expect truthy value
    ok 4 - checkExistence should find the instance if not given # time=1.042ms
    
    # Subtest: checkExistence should check the prototype as well
        1..1
        ok 1 - expect truthy value
    ok 5 - checkExistence should check the prototype as well # time=0.924ms
    
    # Subtest: checkDependencies should throw if a dependency is not present
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 6 - checkDependencies should throw if a dependency is not present # time=1.543ms
    
    # Subtest: decorate should internally call checkDependencies
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 7 - decorate should internally call checkDependencies # time=0.942ms
    
    # Subtest: decorate should recognize getter/setter objects
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - (unnamed test)
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 8 - decorate should recognize getter/setter objects # time=1.689ms
    
    1..8
    # time=68.493ms
ok 51 - test/internals/decorator.test.js # time=68.493ms

# Subtest: test/internals/handleRequest.test.js
    # Subtest: handleRequest function - sent reply
        1..1
        ok 1 - should be equal
    ok 1 - handleRequest function - sent reply # time=5.75ms
    
    # Subtest: handleRequest function - invoke with error
        1..1
        ok 1 - should be equal
    ok 2 - handleRequest function - invoke with error # time=1.344ms
    
    # Subtest: handler function - invalid schema
        1..1
        ok 1 - errorHandler called
    ok 3 - handler function - invalid schema # time=90.421ms
    
    # Subtest: handler function - reply
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - (unnamed test)
    ok 4 - handler function - reply # time=2.753ms
    
    # Subtest: handler function - preValidationCallback with finished response
        1..0
    ok 5 - handler function - preValidationCallback with finished response # time=0.743ms
    
    # Subtest: request should be defined in onSend Hook on post request with content type application/json
        1..8
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - should not error
        ok 8 - should be equal
    ok 6 - request should be defined in onSend Hook on post request with content type application/json # time=322.743ms
    
    # Subtest: request should be defined in onSend Hook on post request with content type application/x-www-form-urlencoded
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - should be equal
    ok 7 - request should be defined in onSend Hook on post request with content type application/x-www-form-urlencoded # time=11.804ms
    
    # Subtest: request should be defined in onSend Hook on options request with content type application/x-www-form-urlencoded
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - should be equal
    ok 8 - request should be defined in onSend Hook on options request with content type application/x-www-form-urlencoded # time=26.811ms
    
    # Subtest: request should respond with an error if an unserialized payload is sent inside an async handler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
    ok 9 - request should respond with an error if an unserialized payload is sent inside an async handler # time=40.99ms
    
    1..9
    # time=524.771ms
ok 52 - test/internals/handleRequest.test.js # time=524.771ms

# Subtest: test/internals/hookRunner.test.js
    # Subtest: hookRunner - Basic
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 1 - hookRunner - Basic # time=10.446ms
    
    # Subtest: hookRunner - In case of error should skip to done
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 2 - hookRunner - In case of error should skip to done # time=3.711ms
    
    # Subtest: hookRunner - Should handle throw
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 3 - hookRunner - Should handle throw # time=3.028ms
    
    # Subtest: hookRunner - Should handle promises
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 4 - hookRunner - Should handle promises # time=28.523ms
    
    # Subtest: hookRunner - In case of error should skip to done (with promises)
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 5 - hookRunner - In case of error should skip to done (with promises) # time=3.357ms
    
    # Subtest: hookRunner - Be able to exit before its natural end
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 6 - hookRunner - Be able to exit before its natural end # time=1.888ms
    
    # Subtest: hookRunner - Promises that resolve to a value do not change the state
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 7 - hookRunner - Promises that resolve to a value do not change the state # time=2.198ms
    
    # Subtest: onSendHookRunner - Basic
        1..13
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equal
        ok 10 - should not error
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equal
    ok 8 - onSendHookRunner - Basic # time=9.608ms
    
    # Subtest: onSendHookRunner - Can change the payload
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 9 - onSendHookRunner - Can change the payload # time=4.618ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 10 - onSendHookRunner - In case of error should skip to done # time=8.765ms
    
    # Subtest: onSendHookRunner - Should handle promises
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 11 - onSendHookRunner - Should handle promises # time=13.599ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done (with promises)
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 12 - onSendHookRunner - In case of error should skip to done (with promises) # time=3.692ms
    
    # Subtest: onSendHookRunner - Be able to exit before its natural end
        1..2
        ok 1 - should be equivalent
        ok 2 - should be equivalent
    ok 13 - onSendHookRunner - Be able to exit before its natural end # time=1.503ms
    
    1..13
    # time=143.096ms
ok 53 - test/internals/hookRunner.test.js # time=143.096ms

# Subtest: test/internals/hooks.test.js
    # Subtest: hooks should have 4 array with the registered hooks
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        1..8
    ok 1 - hooks should have 4 array with the registered hooks # time=9.348ms
    
    # Subtest: hooks.add should add a hook to the given hook
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        1..14
    ok 2 - hooks.add should add a hook to the given hook # time=5.833ms
    
    # Subtest: hooks should throw on unexisting handler
        1..1
        ok 1 - (unnamed test)
    ok 3 - hooks should throw on unexisting handler # time=1.004ms
    
    # Subtest: should throw on wrong parameters
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 4 - should throw on wrong parameters # time=1.55ms
    
    1..4
    # time=32.248ms
ok 54 - test/internals/hooks.test.js # time=32.248ms

# Subtest: test/internals/initialConfig.test.js
    # Subtest: Fastify.initialConfig is an object
        1..1
        ok 1 - type is object
    ok 1 - Fastify.initialConfig is an object # time=15.875ms
    
    # Subtest: without options passed to Fastify, initialConfig should expose default values
        1..1
        ok 1 - should be equivalent
    ok 2 - without options passed to Fastify, initialConfig should expose default values # time=8.238ms
    
    # Subtest: Fastify.initialConfig should expose all options
        1..20
        ok 1 - should be equal
        ok 2 - for security reason the key cert is hidden
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - expect truthy value
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equal
    ok 3 - Fastify.initialConfig should expose all options # time=10.125ms
    
    # Subtest: Should throw if you try to modify Fastify.initialConfig
        1..4
        ok 1 - type is TypeError
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - (unnamed test)
    ok 4 - Should throw if you try to modify Fastify.initialConfig # time=2.96ms
    
    # Subtest: We must avoid shallow freezing and ensure that the whole object is freezed
        1..4
        ok 1 - type is TypeError
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - key cert removed
    ok 5 - We must avoid shallow freezing and ensure that the whole object is freezed # time=15.238ms
    
    # Subtest: https value check
        1..1
        ok 1 - expect falsey value
    ok 6 - https value check # time=1.388ms
    
    # Subtest: Return an error if options do not match the validation schema
        1..6
        ok 1 - type is Error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
        ok 6 - (unnamed test)
    ok 7 - Return an error if options do not match the validation schema # time=58.986ms
    
    # Subtest: Original options must not be frozen
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - Original options must not be frozen # time=2.735ms
    
    # Subtest: Original options must not be altered (test deep cloning)
        1..3
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 9 - Original options must not be altered (test deep cloning) # time=4.921ms
    
    # Subtest: Should not have issues when passing stream options to Pino.js
        1..15
        ok 1 - type is object
        ok 2 - should be equivalent
        ok 3 - listen at log message is ok
        ok 4 - should not error
        ok 5 - reqId is defined
        ok 6 - req is defined
        ok 7 - message is set
        ok 8 - method is get
        ok 9 - expect truthy value
        ok 10 - should be equal
        ok 11 - reqId is defined
        ok 12 - res is defined
        ok 13 - message is set
        ok 14 - statusCode is 200
        ok 15 - responseTime is defined
    ok 10 - Should not have issues when passing stream options to Pino.js # time=41.333ms
    
    # Subtest: deepFreezeObject() should not throw on TypedArray
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - (unnamed test)
    ok 11 - deepFreezeObject() should not throw on TypedArray # time=1.469ms
    
    # Subtest: Fastify.initialConfig should accept the deprecated versioning option
        1..1
        ok 1 - should be equal
    ok 12 - Fastify.initialConfig should accept the deprecated versioning option # time=4.811ms
    
    # Subtest: pluginTimeout should be parsed correctly
        ok 1 - should be equal
        ok 2 - should be equal
        1..2
    ok 13 - pluginTimeout should be parsed correctly # time=2.978ms
    
    1..13
    # time=255.516ms
ok 55 - test/internals/initialConfig.test.js # time=255.516ms

# Subtest: test/internals/logger.test.js
    # Subtest: time resolution
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - time resolution # time=6.871ms
    
    # Subtest: The logger should add a unique id for every request
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - the id should not be duplicated
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - the id should not be duplicated
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - the id should not be duplicated
        ok 11 - expect truthy value
        ok 12 - should not error
        ok 13 - the id should not be duplicated
        ok 14 - expect truthy value
        ok 15 - should not error
        ok 16 - the id should not be duplicated
        ok 17 - expect truthy value
        ok 18 - should not error
        ok 19 - the id should not be duplicated
        ok 20 - expect truthy value
        ok 21 - should not error
        ok 22 - the id should not be duplicated
        ok 23 - expect truthy value
        ok 24 - should not error
        ok 25 - the id should not be duplicated
        ok 26 - expect truthy value
        ok 27 - should not error
        ok 28 - the id should not be duplicated
        ok 29 - expect truthy value
        ok 30 - should not error
        ok 31 - the id should not be duplicated
        1..31
    ok 2 - The logger should add a unique id for every request # time=138.062ms
    
    # Subtest: The logger should reuse request id header for req.id
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - the request id from the header should be returned
        1..4
    ok 3 - The logger should reuse request id header for req.id # time=27.938ms
    
    # Subtest: The logger should error if both stream and file destination are given
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - The logger should error if both stream and file destination are given # time=1.57ms
    
    # Subtest: The serializer prevent fails if the request socket is undefined
        1..1
        ok 1 - should be equivalent
    ok 5 - The serializer prevent fails if the request socket is undefined # time=8.751ms
    
    1..5
    # time=198.19ms
ok 56 - test/internals/logger.test.js # time=198.19ms

# Subtest: test/internals/plugin.test.js
    # Subtest: shouldSkipOverride should check the 'skip-override' symbol
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 1 - shouldSkipOverride should check the 'skip-override' symbol # time=6.173ms
    
    # Subtest: getPluginName should return plugin name if the file is cached
        1..1
        ok 1 - should be equal
    ok 2 - getPluginName should return plugin name if the file is cached # time=1.87ms
    
    # Subtest: getMeta should return the object stored with the 'plugin-meta' symbol
        1..1
        ok 1 - should be equivalent
    ok 3 - getMeta should return the object stored with the 'plugin-meta' symbol # time=4.695ms
    
    # Subtest: checkDecorators should check if the given decorator is present in the instance
        1..1
        ok 1 - Everything ok
    ok 4 - checkDecorators should check if the given decorator is present in the instance # time=1.84ms
    
    # Subtest: checkDecorators should check if the given decorator is present in the instance (errored)
        1..1
        ok 1 - should be equal
    ok 5 - checkDecorators should check if the given decorator is present in the instance (errored) # time=1.158ms
    
    # Subtest: checkDecorators should accept optional decorators
        1..1
        ok 1 - Everything ok
    ok 6 - checkDecorators should accept optional decorators # time=0.712ms
    
    # Subtest: checkDependencies should check if the given dependency is present in the instance
        1..1
        ok 1 - Everything ok
    ok 7 - checkDependencies should check if the given dependency is present in the instance # time=0.923ms
    
    # Subtest: checkDependencies should check if the given dependency is present in the instance (errored)
        1..1
        ok 1 - should be equal
    ok 8 - checkDependencies should check if the given dependency is present in the instance (errored) # time=19.393ms
    
    1..8
    # time=94.186ms
ok 57 - test/internals/plugin.test.js # time=94.186ms

# Subtest: test/internals/reply-serialize.test.js
    # Subtest: Reply\#compileSerializationSchema
        1..4
        # Subtest: Should return a serialization function
            1..4
            ok 1 - type is Function
            ok 2 - type is string
            ok 3 - should be equal
            ok 4 - should be equal
        ok 1 - Should return a serialization function # time=86.309ms
        
        # Subtest: Should reuse the serialize fn across multiple invocations - Route without schema
            1..17
            ok 1 - build the schema compilation function
            ok 2 - type is Function
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - Are the same validate function
            ok 6 - type is Function
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - Are the same validate function
            ok 10 - type is Function
            ok 11 - should be equal
            ok 12 - should be equal
            ok 13 - Are the same validate function
            ok 14 - type is Function
            ok 15 - should be equal
            ok 16 - should be equal
            ok 17 - should be equal
        ok 2 - Should reuse the serialize fn across multiple invocations - Route without schema # time=23.789ms
        
        # Subtest: Should use the custom serializer compiler for the route
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equivalent
            ok 7 - {"hello":"world"}
            ok 8 - should be equivalent
            ok 9 - {"hello":"world"}
            ok 10 - should be equal
        ok 3 - Should use the custom serializer compiler for the route # time=37.885ms
        
        # Subtest: Should build a WeakMap for cache when called
            1..4
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
            ok 4 - should be equal
        ok 4 - Should build a WeakMap for cache when called # time=9.599ms
        
    ok 1 - Reply\#compileSerializationSchema # time=183.369ms
    
    # Subtest: Reply\#getSerializationFunction
        1..3
        # Subtest: Should retrieve the serialization function from the Schema definition
            1..9
            ok 1 - type is Function
            ok 2 - type is Function
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - expect falsey value
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
        ok 1 - Should retrieve the serialization function from the Schema definition # time=24.002ms
        
        # Subtest: Should retrieve the serialization function from the cached one
            1..6
            ok 1 - type is Function
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
        ok 2 - Should retrieve the serialization function from the cached one # time=9.977ms
        
        # Subtest: Should not instantiate a WeakMap if it is not needed
            1..4
            ok 1 - expect falsey value
            ok 2 - should be equal
            ok 3 - expect falsey value
            ok 4 - should be equal
        ok 3 - Should not instantiate a WeakMap if it is not needed # time=19.318ms
        
    ok 2 - Reply\#getSerializationFunction # time=67.579ms
    
    # Subtest: Reply\#serializeInput
        1..5
        # Subtest: Should throw if missed serialization function from HTTP status
            1..2
            ok 1 - should be equal
            ok 2 - should be equivalent
        ok 1 - Should throw if missed serialization function from HTTP status # time=32.032ms
        
        # Subtest: Should use a serializer fn from HTTP status
            1..4
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
        ok 2 - Should use a serializer fn from HTTP status # time=12.993ms
        
        # Subtest: Should compile a serializer out of a schema if serializer fn missed
            1..10
            ok 1 - should be equal
            ok 2 - expect falsey value
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 3 - Should compile a serializer out of a schema if serializer fn missed # time=16.136ms
        
        # Subtest: Should use a cached serializer fn
            1..12
            ok 1 - should be equal
            ok 2 - expect falsey value
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
            ok 11 - should be equal
            ok 12 - should be equal
        ok 4 - Should use a cached serializer fn # time=9.361ms
        
        # Subtest: Should instantiate a WeakMap after first call
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
        ok 5 - Should instantiate a WeakMap after first call # time=10.762ms
        
    ok 3 - Reply\#serializeInput # time=92.601ms
    
    1..3
    # time=374.99ms
ok 58 - test/internals/reply-serialize.test.js # time=374.99ms

# Subtest: test/internals/reply.test.js
    # Subtest: Once called, Reply should return an object with methods
        1..13
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should be equal
        ok 13 - should be equal
    ok 1 - Once called, Reply should return an object with methods # time=13.381ms
    
    # Subtest: reply.send will logStream error and destroy the stream
        1..1
        ok 1 - Error not logged and not streamed
    ok 2 - reply.send will logStream error and destroy the stream # time=34.775ms
    
    # Subtest: reply.send throw with circular JSON
        1..1
        ok 1 - Converting circular structure to JSON
    ok 3 - reply.send throw with circular JSON # time=1.632ms
    
    # Subtest: reply.send returns itself
        1..1
        ok 1 - should be equal
    ok 4 - reply.send returns itself # time=1.535ms
    
    # Subtest: reply.serializer should set a custom serializer
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 5 - reply.serializer should set a custom serializer # time=1.073ms
    
    # Subtest: reply.serializer should support running preSerialization hooks
        1..3
        ok 1 - preSerialization
        ok 2 - should not error
        ok 3 - should be equal
    ok 6 - reply.serializer should support running preSerialization hooks # time=796.409ms
    
    # Subtest: reply.serialize should serialize payload
        1..1
        ok 1 - should be equal
    ok 7 - reply.serialize should serialize payload # time=1.307ms
    
    # Subtest: reply.serialize should serialize payload with a custom serializer
        1..2
        ok 1 - should be equal
        ok 2 - custom serializer not called
    ok 8 - reply.serialize should serialize payload with a custom serializer # time=1.18ms
    
    # Subtest: reply.serialize should serialize payload with a context default serializer
        1..2
        ok 1 - should be equal
        ok 2 - custom serializer not called
    ok 9 - reply.serialize should serialize payload with a context default serializer # time=1.318ms
    
    # Subtest: reply.serialize should serialize payload with Fastify instance
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - reply.serialize should serialize payload with Fastify instance # time=20.516ms
    
    # Subtest: within an instance
        ok 1 - should not error
        # Subtest: custom serializer should be used
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - custom serializer should be used # time=46.941ms
        
        # Subtest: status code and content-type should be correct
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 3 - status code and content-type should be correct # time=7.506ms
        
        # Subtest: auto status code shoud be 200
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - auto status code shoud be 200 # time=5.898ms
        
        # Subtest: auto type shoud be text/plain
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - auto type shoud be text/plain # time=5.308ms
        
        # Subtest: redirect to `/` - 1
            1..1
            ok 1 - should be equal
        ok 6 - redirect to `/` - 1 # time=4.579ms
        
        # Subtest: redirect to `/` - 2
            1..1
            ok 1 - should be equal
        ok 7 - redirect to `/` - 2 # time=4.131ms
        
        # Subtest: redirect to `/` - 3
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 8 - redirect to `/` - 3 # time=18.92ms
        
        # Subtest: redirect to `/` - 4
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 9 - redirect to `/` - 4 # time=8.442ms
        
        # Subtest: redirect to `/` - 5
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
        ok 10 - redirect to `/` - 5 # time=4.093ms
        
        # Subtest: redirect to `/` - 6
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 11 - redirect to `/` - 6 # time=7.28ms
        
        # Subtest: redirect to `/` - 7
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 12 - redirect to `/` - 7 # time=7.692ms
        
        # Subtest: redirect to `/` - 8
            1..1
            ok 1 - should be equal
        ok 13 - redirect to `/` - 8 # time=3.318ms
        
        # Subtest: redirect to `/` - 9
            1..1
            ok 1 - should be equal
        ok 14 - redirect to `/` - 9 # time=3.58ms
        
        # Subtest: redirect with async function to `/` - 10
            1..1
            ok 1 - should be equal
        ok 15 - redirect with async function to `/` - 10 # time=3.494ms
        
        1..15
    ok 11 - within an instance # time=200.399ms
    
    # Subtest: buffer without content type should send a application/octet-stream and raw buffer
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 12 - buffer without content type should send a application/octet-stream and raw buffer # time=25.378ms
    
    # Subtest: buffer with content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 13 - buffer with content type should not send application/octet-stream # time=10.211ms
    
    # Subtest: stream with content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 14 - stream with content type should not send application/octet-stream # time=20.449ms
    
    # Subtest: stream without content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 15 - stream without content type should not send application/octet-stream # time=80.24ms
    
    # Subtest: stream using reply.raw.writeHead should return customize headers
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 16 - stream using reply.raw.writeHead should return customize headers # time=33.935ms
    
    # Subtest: plain string without content type should send a text/plain
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 17 - plain string without content type should send a text/plain # time=12.48ms
    
    # Subtest: plain string with content type should be sent unmodified
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - plain string with content type should be sent unmodified # time=9.162ms
    
    # Subtest: plain string with content type and custom serializer should be serialized
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 19 - plain string with content type and custom serializer should be serialized # time=8.613ms
    
    # Subtest: plain string with content type application/json should NOT be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 20 - plain string with content type application/json should NOT be serialized as json # time=10.052ms
    
    # Subtest: plain string with custom json content type should NOT be serialized as json
        1..19
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equivalent
    ok 21 - plain string with custom json content type should NOT be serialized as json # time=24.324ms
    
    # Subtest: non-string with content type application/json SHOULD be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 22 - non-string with content type application/json SHOULD be serialized as json # time=34.072ms
    
    # Subtest: non-string with custom json's content-type SHOULD be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 23 - non-string with custom json's content-type SHOULD be serialized as json # time=20.372ms
    
    # Subtest: non-string with custom json content type SHOULD be serialized as json
        1..16
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 24 - non-string with custom json content type SHOULD be serialized as json # time=19.696ms
    
    # Subtest: error object with a content type that is not application/json should work
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 25 - error object with a content type that is not application/json should work # time=12.793ms
    
    # Subtest: undefined payload should be sent as-is
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 26 - undefined payload should be sent as-is # time=12.251ms
    
    # Subtest: for HEAD method, no body should be sent but content-length should be
        1..11
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
    ok 27 - for HEAD method, no body should be sent but content-length should be # time=11.495ms
    
    # Subtest: reply.send(new NotFound()) should not invoke the 404 handler
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 28 - reply.send(new NotFound()) should not invoke the 404 handler # time=15.174ms
    
    # Subtest: reply can set multiple instances of same header
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - expect truthy value
        ok 4 - should be equivalent strictly
    ok 29 - reply can set multiple instances of same header # time=8.725ms
    
    # Subtest: reply.hasHeader returns correct values
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 30 - reply.hasHeader returns correct values # time=6.652ms
    
    # Subtest: reply.getHeader returns correct values
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
        ok 4 - should be equivalent strictly
    ok 31 - reply.getHeader returns correct values # time=17.48ms
    
    # Subtest: reply.getHeader returns raw header if there is not in the reply headers
        1..1
        ok 1 - should be equal
    ok 32 - reply.getHeader returns raw header if there is not in the reply headers # time=1.138ms
    
    # Subtest: reply.getHeaders returns correct values
        1..3
        ok 1 - should be equivalent strictly
        ok 2 - should be equivalent strictly
        ok 3 - should not error
    ok 33 - reply.getHeaders returns correct values # time=8.586ms
    
    # Subtest: reply.removeHeader can remove the value
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent strictly
        ok 5 - (unnamed test)
    ok 34 - reply.removeHeader can remove the value # time=20.217ms
    
    # Subtest: reply.header can reset the value
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent strictly
        ok 3 - (unnamed test)
    ok 35 - reply.header can reset the value # time=6.837ms
    
    # Subtest: reply.hasHeader computes raw and fastify headers
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - (unnamed test)
    ok 36 - reply.hasHeader computes raw and fastify headers # time=6.416ms
    
    # Subtest: Reply should handle JSON content type with a charset
        1..16
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should not error
        ok 16 - should be equal
    ok 37 - Reply should handle JSON content type with a charset # time=15.769ms
    
    # Subtest: Content type and charset set previously
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 38 - Content type and charset set previously # time=4.38ms
    
    # Subtest: .status() is an alias for .code()
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 39 - .status() is an alias for .code() # time=3.583ms
    
    # Subtest: .statusCode is getter and setter
        1..4
        ok 1 - 200
        ok 2 - 418
        ok 3 - should not error
        ok 4 - should be equal
    ok 40 - .statusCode is getter and setter # time=4.564ms
    
    # Subtest: reply.header setting multiple cookies as multiple Set-Cookie headers
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equivalent strictly
        ok 4 - should not error
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - should be equivalent strictly
    ok 41 - reply.header setting multiple cookies as multiple Set-Cookie headers # time=9.148ms
    
    # Subtest: should emit deprecation warning when trying to modify the reply.sent property
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 42 - should emit deprecation warning when trying to modify the reply.sent property # time=5.111ms
    
    # Subtest: should throw error when passing falsy value to reply.sent
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 43 - should throw error when passing falsy value to reply.sent # time=4.472ms
    
    # Subtest: should throw error when attempting to set reply.sent more than once
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 44 - should throw error when attempting to set reply.sent more than once # time=5.375ms
    
    # Subtest: should not throw error when attempting to set reply.sent if the underlining request was sent
        1..3
        ok 1 - expected to not throw
        ok 2 - should not error
        ok 3 - (unnamed test)
    ok 45 - should not throw error when attempting to set reply.sent if the underlining request was sent # time=7.563ms
    
    # Subtest: reply.getResponseTime() should return 0 before the timer is initialised on the reply by setting up response listeners
        1..1
        ok 1 - should be equal
    ok 46 - reply.getResponseTime() should return 0 before the timer is initialised on the reply by setting up response listeners # time=0.864ms
    
    # Subtest: reply.getResponseTime() should return a number greater than 0 after the timer is initialised on the reply by setting up response listeners
        1..1
        ok 1 - expect truthy value
    ok 47 - reply.getResponseTime() should return a number greater than 0 after the timer is initialised on the reply by setting up response listeners # time=4.384ms
    
    # Subtest: reply.getResponseTime() should return the time since a request started while inflight
        1..1
        ok 1 - should not be equal
    ok 48 - reply.getResponseTime() should return the time since a request started while inflight # time=3.934ms
    
    # Subtest: reply.getResponseTime() should return the same value after a request is finished
        1..1
        ok 1 - should be equal
    ok 49 - reply.getResponseTime() should return the same value after a request is finished # time=3.907ms
    
    # Subtest: reply should use the custom serializer
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 50 - reply should use the custom serializer # time=7.111ms
    
    # Subtest: reply should use the right serializer in encapsulated context
        1..9
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 51 - reply should use the right serializer in encapsulated context # time=10.785ms
    
    # Subtest: reply should use the right serializer in deep encapsulated context
        1..8
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 52 - reply should use the right serializer in deep encapsulated context # time=10.457ms
    
    # Subtest: reply should use the route serializer
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equal
    ok 53 - reply should use the route serializer # time=4.316ms
    
    # Subtest: cannot set the replySerializer when the server is running
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 54 - cannot set the replySerializer when the server is running # time=5.259ms
    
    # Subtest: reply should not call the custom serializer for errors and not found
        1..9
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 55 - reply should not call the custom serializer for errors and not found # time=8.118ms
    
    # Subtest: reply.then
        1..4
        # Subtest: without an error
            1..1
            ok 1 - fulfilled called
        ok 1 - without an error # time=10.82ms
        
        # Subtest: with an error
            1..1
            ok 1 - should be equal
        ok 2 - with an error # time=1.494ms
        
        # Subtest: with error but without reject callback
            1..1
            ok 1 - (unnamed test)
        ok 3 - with error but without reject callback # time=0.992ms
        
        # Subtest: with error, without reject callback, with logger
            1..1
            ok 1 - should be equal
        ok 4 - with error, without reject callback, with logger # time=1.483ms
        
    ok 56 - reply.then # time=21.839ms
    
    # Subtest: reply.sent should read from response.writableEnded if it is defined
        1..1
        ok 1 - should be equal
    ok 57 - reply.sent should read from response.writableEnded if it is defined # time=0.701ms
    
    # Subtest: redirect to an invalid URL should not crash the server
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        1..7
    ok 58 - redirect to an invalid URL should not crash the server # time=22.67ms
    
    # Subtest: invalid response headers should not crash the server
        ok 1 - only the first invalid header is logged
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 59 - invalid response headers should not crash the server # time=7.488ms
    
    # Subtest: invalid response headers when sending back an error
        ok 1 - only the first invalid header is logged
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 60 - invalid response headers when sending back an error # time=7.306ms
    
    # Subtest: invalid response headers and custom error handler
        ok 1 - custom error handler receives the error
        ok 2 - only the first invalid header is logged
        ok 3 - should be equal
        ok 4 - should be equivalent
        1..4
    ok 61 - invalid response headers and custom error handler # time=7.97ms
    
    1..61
    # time=1774.184ms
ok 59 - test/internals/reply.test.js # time=1774.184ms

# Subtest: test/internals/request-validate.test.js
    # Subtest: \#compileValidationSchema
        1..5
        # Subtest: Should return a function - Route without schema
            1..3
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
        ok 1 - Should return a function - Route without schema # time=150.935ms
        
        # Subtest: Should reuse the validate fn across multiple invocations - Route without schema
            1..16
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
            ok 4 - Are the same validate function
            ok 5 - type is Function
            ok 6 - expect truthy value
            ok 7 - expect falsey value
            ok 8 - Are the same validate function
            ok 9 - type is Function
            ok 10 - expect truthy value
            ok 11 - expect falsey value
            ok 12 - Are the same validate function
            ok 13 - type is Function
            ok 14 - expect truthy value
            ok 15 - expect falsey value
            ok 16 - should be equal
        ok 2 - Should reuse the validate fn across multiple invocations - Route without schema # time=47.087ms
        
        # Subtest: Should return a function - Route with schema
            1..3
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
        ok 3 - Should return a function - Route with schema # time=79.396ms
        
        # Subtest: Should use the custom validator compiler for the route
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equivalent
            ok 7 - expect truthy value
            ok 8 - should be equivalent
            ok 9 - expect truthy value
            ok 10 - should be equal
        ok 4 - Should use the custom validator compiler for the route # time=12.171ms
        
        # Subtest: Should instantiate a WeakMap when executed for first time
            1..5
            ok 1 - should be equal
            ok 2 - type is Function
            ok 3 - type is WeakMap
            ok 4 - type is Function
            ok 5 - type is WeakMap
        ok 5 - Should instantiate a WeakMap when executed for first time # time=38.358ms
        
    ok 1 - \#compileValidationSchema # time=346.615ms
    
    # Subtest: \#getValidationFunction
        1..4
        # Subtest: Should return a validation function
            1..1
            ok 1 - should be equal
        ok 1 - Should return a validation function # time=66.689ms
        
        # Subtest: Should return undefined if no schema compiled
            1..2
            ok 1 - expect falsey value
            ok 2 - expect falsey value
        ok 2 - Should return undefined if no schema compiled # time=5.774ms
        
        # Subtest: Should return the validation function from each HTTP part
            1..15
            ok 1 - expect truthy value
            ok 2 - expect truthy value
            ok 3 - expect falsey value
            ok 4 - expect truthy value
            ok 5 - expect truthy value
            ok 6 - expect falsey value
            ok 7 - expect truthy value
            ok 8 - expect truthy value
            ok 9 - expect truthy value
            ok 10 - expect truthy value
            ok 11 - expect falsey value
            ok 12 - should be equal
            ok 13 - expect truthy value
            ok 14 - expect falsey value
            ok 15 - should be equal
        ok 3 - Should return the validation function from each HTTP part # time=78.732ms
        
        # Subtest: Should not set a WeakMap if there is no schema
            1..1
            ok 1 - should be equal
        ok 4 - Should not set a WeakMap if there is no schema # time=18.814ms
        
    ok 2 - \#getValidationFunction # time=179.765ms
    
    # Subtest: \#validate
        1..7
        # Subtest: Should return true/false if input valid - Route without schema
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 1 - Should return true/false if input valid - Route without schema # time=72.861ms
        
        # Subtest: Should use the custom validator compiler for the route
            1..9
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equivalent
            ok 6 - should be equivalent
            ok 7 - expect truthy value
            ok 8 - expect truthy value
            ok 9 - should be equal
        ok 2 - Should use the custom validator compiler for the route # time=8.516ms
        
        # Subtest: Should return true/false if input valid - With Schema for Route defined
            1..8
            ok 1 - expect truthy value
            ok 2 - expect falsey value
            ok 3 - expect falsey value
            ok 4 - expect truthy value
            ok 5 - expect falsey value
            ok 6 - expect truthy value
            ok 7 - expect truthy value
            ok 8 - expect falsey value
        ok 3 - Should return true/false if input valid - With Schema for Route defined # time=112.247ms
        
        # Subtest: Should throw if missing validation fn for HTTP part and not schema provided
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 4 - Should throw if missing validation fn for HTTP part and not schema provided # time=13.569ms
        
        # Subtest: Should throw if missing validation fn for HTTP part and not valid schema provided
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 5 - Should throw if missing validation fn for HTTP part and not valid schema provided # time=24.312ms
        
        # Subtest: Should throw if invalid schema passed
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 6 - Should throw if invalid schema passed # time=22.341ms
        
        # Subtest: Should set a WeakMap if compiling the very first schema
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
        ok 7 - Should set a WeakMap if compiling the very first schema # time=28.462ms
        
    ok 3 - \#validate # time=291.953ms
    
    # Subtest: Nested Context
        1..1
        # Subtest: Level_1
            1..3
            # Subtest: \#compileValidationSchema
                1..4
                # Subtest: Should return a function - Route without schema
                    1..3
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                ok 1 - Should return a function - Route without schema # time=85.113ms
                
                # Subtest: Should reuse the validate fn across multiple invocations - Route without schema
                    1..16
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                    ok 4 - Are the same validate function
                    ok 5 - type is Function
                    ok 6 - expect truthy value
                    ok 7 - expect falsey value
                    ok 8 - Are the same validate function
                    ok 9 - type is Function
                    ok 10 - expect truthy value
                    ok 11 - expect falsey value
                    ok 12 - Are the same validate function
                    ok 13 - type is Function
                    ok 14 - expect truthy value
                    ok 15 - expect falsey value
                    ok 16 - should be equal
                ok 2 - Should reuse the validate fn across multiple invocations - Route without schema # time=66.768ms
                
                # Subtest: Should return a function - Route with schema
                    1..3
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                ok 3 - Should return a function - Route with schema # time=36.75ms
                
                # Subtest: Should use the custom validator compiler for the route
                    1..10
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - should be equal
                    ok 5 - should be equal
                    ok 6 - should be equivalent
                    ok 7 - expect truthy value
                    ok 8 - should be equivalent
                    ok 9 - expect truthy value
                    ok 10 - should be equal
                ok 4 - Should use the custom validator compiler for the route # time=8.804ms
                
            ok 1 - \#compileValidationSchema # time=207.919ms
            
            # Subtest: \#getValidationFunction
                1..6
                # Subtest: Should return a validation function
                    1..1
                    ok 1 - should be equal
                ok 1 - Should return a validation function # time=81.889ms
                
                # Subtest: Should return undefined if no schema compiled
                    1..1
                    ok 1 - expect falsey value
                ok 2 - Should return undefined if no schema compiled # time=4.832ms
                
                # Subtest: Should return the validation function from each HTTP part
                    1..15
                    ok 1 - expect truthy value
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                    ok 4 - expect truthy value
                    ok 5 - expect truthy value
                    ok 6 - expect falsey value
                    ok 7 - expect truthy value
                    ok 8 - expect truthy value
                    ok 9 - expect truthy value
                    ok 10 - expect truthy value
                    ok 11 - expect falsey value
                    ok 12 - should be equal
                    ok 13 - expect truthy value
                    ok 14 - expect falsey value
                    ok 15 - should be equal
                ok 3 - Should return the validation function from each HTTP part # time=35.13ms
                
                # Subtest: Should return a validation function - nested
                    1..6
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - expect falsey value
                    ok 5 - should be equal
                    ok 6 - should be equal
                ok 4 - Should return a validation function - nested # time=12.074ms
                
                # Subtest: Should return undefined if no schema compiled - nested
                    1..3
                    ok 1 - should be equal
                    ok 2 - expect falsey value
                    ok 3 - should be equal
                ok 5 - Should return undefined if no schema compiled - nested # time=7.441ms
                
                # Subtest: Should per-route defined validation compiler
                    1..5
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should not be equal
                    ok 4 - should be equal
                    ok 5 - should be equal
                ok 6 - Should per-route defined validation compiler # time=7.556ms
                
            ok 2 - \#getValidationFunction # time=161.055ms
            
            # Subtest: \#validate
                1..3
                # Subtest: Should return true/false if input valid - Route without schema
                    1..2
                    ok 1 - expect falsey value
                    ok 2 - expect truthy value
                ok 1 - Should return true/false if input valid - Route without schema # time=46.049ms
                
                # Subtest: Should use the custom validator compiler for the route
                    1..10
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - should be equal
                    ok 5 - should be equivalent
                    ok 6 - should be equivalent
                    ok 7 - expect truthy value
                    ok 8 - expect truthy value
                    ok 9 - should be equal
                    ok 10 - should be equal
                ok 2 - Should use the custom validator compiler for the route # time=11.188ms
                
                # Subtest: Should return true/false if input valid - With Schema for Route defined and scoped validator compiler
                    1..13
                    ok 1 - expect truthy value
                    ok 2 - expect falsey value
                    ok 3 - expect falsey value
                    ok 4 - expect truthy value
                    ok 5 - expect falsey value
                    ok 6 - expect truthy value
                    ok 7 - expect truthy value
                    ok 8 - expect falsey value
                    ok 9 - should be equal
                    ok 10 - should be equal
                    ok 11 - should be equal
                    ok 12 - should be equal
                    ok 13 - should be equal
                ok 3 - Should return true/false if input valid - With Schema for Route defined and scoped validator compiler # time=115.536ms
                
            ok 3 - \#validate # time=180.55ms
            
        ok 1 - Level_1 # time=556.55ms
        
    ok 4 - Nested Context # time=561.373ms
    
    1..4
    # time=1388.245ms
ok 60 - test/internals/request-validate.test.js # time=1388.245ms

# Subtest: test/internals/request.test.js
    # Subtest: Regular request
        ok 1 - type is Request
        ok 2 - type is Function
        ok 3 - type is Function
        ok 4 - type is Function
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        1..19
    ok 1 - Regular request # time=34.503ms
    
    # Subtest: Regular request - hostname from authority
        1..2
        ok 1 - type is Request
        ok 2 - should be equal
    ok 2 - Regular request - hostname from authority # time=1.741ms
    
    # Subtest: Regular request - host header has precedence over authority
        1..2
        ok 1 - type is Request
        ok 2 - should be equal
    ok 3 - Regular request - host header has precedence over authority # time=1.488ms
    
    # Subtest: Request with trust proxy
        1..18
        ok 1 - type is _Request
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - type is Function
        ok 17 - type is Function
        ok 18 - type is Function
    ok 4 - Request with trust proxy # time=15.896ms
    
    # Subtest: Request with trust proxy, encrypted
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 5 - Request with trust proxy, encrypted # time=1.462ms
    
    # Subtest: Request with trust proxy - no x-forwarded-host header
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 6 - Request with trust proxy - no x-forwarded-host header # time=1.326ms
    
    # Subtest: Request with trust proxy - no x-forwarded-host header and fallback to authority
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 7 - Request with trust proxy - no x-forwarded-host header and fallback to authority # time=1.344ms
    
    # Subtest: Request with trust proxy - x-forwarded-host header has precedence over host
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 8 - Request with trust proxy - x-forwarded-host header has precedence over host # time=1.627ms
    
    # Subtest: Request with trust proxy - handles multiple entries in x-forwarded-host/proto
        1..3
        ok 1 - type is _Request
        ok 2 - should be equal
        ok 3 - should be equal
    ok 9 - Request with trust proxy - handles multiple entries in x-forwarded-host/proto # time=1.689ms
    
    # Subtest: Request with trust proxy - plain
        1..1
        ok 1 - should be equivalent
    ok 10 - Request with trust proxy - plain # time=1.308ms
    
    # Subtest: Request with undefined socket
        1..18
        ok 1 - type is Request
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equivalent
        ok 16 - type is Function
        ok 17 - type is Function
        ok 18 - type is Function
    ok 11 - Request with undefined socket # time=4.656ms
    
    # Subtest: Request with trust proxy and undefined socket
        1..1
        ok 1 - should be equivalent
    ok 12 - Request with trust proxy and undefined socket # time=0.654ms
    
    1..12
    # time=139.509ms
ok 61 - test/internals/request.test.js # time=139.509ms

# Subtest: test/internals/server.test.js
    # Subtest: start listening
        ok 1 - server started
        1..1
    ok 1 - start listening # time=40.073ms
    
    # Subtest: DNS errors does not stop the main server on localhost - promise interface
        ok 1 - server started
        1..1
    ok 2 - DNS errors does not stop the main server on localhost - promise interface # time=17.155ms
    
    # Subtest: DNS errors does not stop the main server on localhost - callback interface
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 3 - DNS errors does not stop the main server on localhost - callback interface # time=25.712ms
    
    # Subtest: DNS returns empty binding
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 4 - DNS returns empty binding # time=26.304ms
    
    # Subtest: DNS returns more than two binding
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 5 - DNS returns more than two binding # time=14.507ms
    
    1..5
    # time=131.609ms
ok 62 - test/internals/server.test.js # time=131.609ms

# Subtest: test/internals/validation.test.js
    # Subtest: Symbols
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 1 - Symbols # time=7.235ms
    
    # Subtest: compileSchemasForValidation schema - missing schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - compileSchemasForValidation schema - missing schema # time=1.894ms
    
    # Subtest: compileSchemasForValidation schema - missing output schema
        1..1
        ok 1 - should be equal
    ok 3 - compileSchemasForValidation schema - missing output schema # time=0.953ms
    
    # Subtest: compileSchemasForSerialization schema - missing schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - compileSchemasForSerialization schema - missing schema # time=1.706ms
    
    # Subtest: compileSchemasForSerialization schema - missing output schema
        1..1
        ok 1 - should be equal
    ok 5 - compileSchemasForSerialization schema - missing output schema # time=0.855ms
    
    # Subtest: build schema - output schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 6 - build schema - output schema # time=64.217ms
    
    # Subtest: build schema - payload schema
        1..1
        ok 1 - should be equal
    ok 7 - build schema - payload schema # time=1.952ms
    
    # Subtest: build schema - avoid repeated normalize schema
        1..3
        ok 1 - should not be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 8 - build schema - avoid repeated normalize schema # time=1.578ms
    
    # Subtest: build schema - query schema
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 9 - build schema - query schema # time=12.042ms
    
    # Subtest: build schema - query schema abbreviated
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 10 - build schema - query schema abbreviated # time=2.684ms
    
    # Subtest: build schema - querystring schema
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 11 - build schema - querystring schema # time=2.525ms
    
    # Subtest: build schema - querystring schema abbreviated
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 12 - build schema - querystring schema abbreviated # time=2.553ms
    
    # Subtest: build schema - must throw if querystring and query schema exist
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 13 - build schema - must throw if querystring and query schema exist # time=1.635ms
    
    # Subtest: build schema - params schema
        1..1
        ok 1 - should be equal
    ok 14 - build schema - params schema # time=2.158ms
    
    # Subtest: build schema - headers schema
        1..1
        ok 1 - should be equal
    ok 15 - build schema - headers schema # time=2.337ms
    
    # Subtest: build schema - headers are lowercase
        1..1
        ok 1 - lowercase content-type exists
    ok 16 - build schema - headers are lowercase # time=1.103ms
    
    # Subtest: build schema - headers are not lowercased in case of custom object
        1..1
        ok 1 - type is Headers
    ok 17 - build schema - headers are not lowercased in case of custom object # time=0.935ms
    
    # Subtest: build schema - uppercased headers are not included
        1..1
        ok 1 - uppercase does not exist
    ok 18 - build schema - uppercased headers are not included # time=0.668ms
    
    1..18
    # time=183.115ms
ok 63 - test/internals/validation.test.js # time=183.115ms

# Subtest: test/keepAliveTimeout.test.js
    # Subtest: keepAliveTimeout
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not be equal
        ok 6 - should be equal
    ok 1 - keepAliveTimeout # time=41.034ms
    
    1..1
    # time=49.214ms
ok 64 - test/keepAliveTimeout.test.js # time=49.214ms

# Subtest: test/listen.deprecated.test.js
    # Subtest: listen accepts a port and a callback
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 1 - listen accepts a port and a callback # time=30.502ms
    
    # Subtest: listen accepts a port and a callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 2 - listen accepts a port and a callback with (err, address) # time=5.322ms
    
    # Subtest: listen accepts a port, address, and callback
        1..1
        ok 1 - should not error
    ok 3 - listen accepts a port, address, and callback # time=6.945ms
    
    # Subtest: listen accepts options, backlog and a callback
        1..1
        ok 1 - should not error
    ok 4 - listen accepts options, backlog and a callback # time=25.779ms
    
    # Subtest: listen accepts options (no port), backlog and a callback
        1..1
        ok 1 - should not error
    ok 5 - listen accepts options (no port), backlog and a callback # time=4.79ms
    
    # Subtest: listen accepts options (no host), backlog and a callback
        1..1
        ok 1 - should not error
    ok 6 - listen accepts options (no host), backlog and a callback # time=3.974ms
    
    # Subtest: listen accepts options (no port, no host), backlog and a callback
        1..1
        ok 1 - should not error
    ok 7 - listen accepts options (no port, no host), backlog and a callback # time=24.878ms
    
    # Subtest: listen accepts a port, address and a callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 8 - listen accepts a port, address and a callback with (err, address) # time=4.062ms
    
    # Subtest: listen accepts a port, address, backlog and callback
        1..1
        ok 1 - should not error
    ok 9 - listen accepts a port, address, backlog and callback # time=13.395ms
    
    # Subtest: listen accepts a port, address, backlog and callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 10 - listen accepts a port, address, backlog and callback with (err, address) # time=8.808ms
    
    # Subtest: listen without callback (port zero)
        1..1
        ok 1 - should be equal
    ok 11 - listen without callback (port zero) # time=5.48ms
    
    # Subtest: listen without callback (port not given)
        1..1
        ok 1 - should be equal
    ok 12 - listen without callback (port not given) # time=17.763ms
    
    # Subtest: listen null without callback with (address)
        1..1
        ok 1 - should be equal
    ok 13 - listen null without callback with (address) # time=13.709ms
    
    # Subtest: listen without port without callback with (address)
        1..1
        ok 1 - should be equal
    ok 14 - listen without port without callback with (address) # time=4.508ms
    
    # Subtest: listen with undefined without callback with (address)
        1..1
        ok 1 - should be equal
    ok 15 - listen with undefined without callback with (address) # time=4.256ms
    
    # Subtest: listen when firstArg is string(pipe) and without backlog
        1..1
        ok 1 - should be equal
    ok 16 - listen when firstArg is string(pipe) and without backlog # time=25.328ms
    
    # Subtest: listen when firstArg is string(pipe) and with backlog
        1..1
        ok 1 - should be equal
    ok 17 - listen when firstArg is string(pipe) and with backlog # time=9.17ms
    
    # Subtest: listen when firstArg is { path: string(pipe) } and with backlog and callback
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 18 - listen when firstArg is { path: string(pipe) } and with backlog and callback # time=4.558ms
    
    1..18
    # time=323.941ms
ok 65 - test/listen.deprecated.test.js # time=323.941ms

# Subtest: test/listen.test.js
    # Subtest: listen works without arguments
        ok 1 - should be equal
        ok 2 - expect truthy value
        1..2
    ok 1 - listen works without arguments # time=31.185ms
    
    # Subtest: Async/await listen with arguments
        1..1
        ok 1 - should be equal
    ok 2 - Async/await listen with arguments # time=5.241ms
    
    # Subtest: Promise listen with arguments
        1..1
        ok 1 - should be equal
    ok 3 - Promise listen with arguments # time=8.15ms
    
    # Subtest: listen accepts a callback
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 4 - listen accepts a callback # time=5.665ms
    
    # Subtest: listen accepts options and a callback
        1..1
        ok 1 - should not error
    ok 5 - listen accepts options and a callback # time=13.828ms
    
    # Subtest: listen after Promise.resolve()
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 6 - listen after Promise.resolve() # time=4.994ms
    
    # Subtest: register after listen using Promise.resolve()
        1..1
        ok 1 - resolved
    ok 7 - register after listen using Promise.resolve() # time=11.273ms
    
    # Subtest: double listen errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
    ok 8 - double listen errors # time=5.232ms
    
    # Subtest: double listen errors callback with (err, address)
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 9 - double listen errors callback with (err, address) # time=5.815ms
    
    # Subtest: listen twice on the same port
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 10 - listen twice on the same port # time=12.562ms
    
    # Subtest: listen twice on the same port callback with (err, address)
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 11 - listen twice on the same port callback with (err, address) # time=8.038ms
    
    # Subtest: listen on socket
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent strictly
        ok 3 - should be equal
    ok 12 - listen on socket # time=15.257ms
    
    # Subtest: listen without callback with (address)
        1..1
        ok 1 - should be equal
    ok 13 - listen without callback with (address) # time=4.442ms
    
    # Subtest: double listen without callback rejects
        1..1
        ok 1 - expect truthy value
    ok 14 - double listen without callback rejects # time=19.021ms
    
    # Subtest: double listen without callback with (address)
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 15 - double listen without callback with (address) # time=13.077ms
    
    # Subtest: listen twice on the same port without callback rejects
        1..1
        ok 1 - expect truthy value
    ok 16 - listen twice on the same port without callback rejects # time=7.043ms
    
    # Subtest: listen twice on the same port without callback rejects with (address)
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 17 - listen twice on the same port without callback rejects with (address) # time=20.174ms
    
    # Subtest: listen on invalid port without callback rejects
        ok 1 - expect truthy value
        1..1
    ok 18 - listen on invalid port without callback rejects # time=4.785ms
    
    # Subtest: listen logs the port as info
        1..1
        ok 1 - expect truthy value
    ok 19 - listen logs the port as info # time=5.825ms
    
    # Subtest: listen on localhost binds IPv4 and IPv6 - promise interface
        1..2
        ok 1 - should be equal
        ok 2 - should be equivalent
    ok 20 - listen on localhost binds IPv4 and IPv6 - promise interface # time=25.843ms
    
    # Subtest: listen on localhost binds to all interfaces (both IPv4 and IPv6 if present) - callback interface
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 21 - listen on localhost binds to all interfaces (both IPv4 and IPv6 if present) - callback interface # time=11.04ms
    
    # Subtest: addresses getter
        1..4
        ok 1 - before ready
        ok 2 - after ready
        ok 3 - after listen
        ok 4 - after close
    ok 22 - addresses getter # time=9.164ms
    
    1..22
    # time=358.123ms
ok 66 - test/listen.test.js # time=358.123ms

# Subtest: test/logger.test.js
    # Subtest: defaults to info level
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
        ok 13 - responseTime is defined
        1..13
    ok 1 - defaults to info level # time=63.416ms
    
    # Subtest: test log stream
        1..12
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
    ok 2 - test log stream # time=15.825ms
    
    # Subtest: test error log stream
        1..11
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - reqId is defined
        ok 9 - res is defined
        ok 10 - message is set
        ok 11 - statusCode is 500
    ok 3 - test error log stream # time=85.434ms
    
    # Subtest: can use external logger instance
        1..6
        ok 1 - "Server listening at http://127.0.0.1:41667" dont match "/^Server listening at /"
        ok 2 - should not error
        ok 3 - "incoming request" dont match "/^incoming request$/"
        ok 4 - expect truthy value
        ok 5 - "log success" dont match "/^log success$/"
        ok 6 - "request completed" dont match "/^request completed$/"
    ok 4 - can use external logger instance # time=56.674ms
    
    # Subtest: can use external logger instance with custom serializer
        1..6
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - expect truthy value
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 5 - can use external logger instance with custom serializer # time=33.722ms
    
    # Subtest: expose the logger
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equivalent
    ok 6 - expose the logger # time=2.509ms
    
    # Subtest: The request id header key can be customized
        1..9
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - message is set
        ok 6 - should be equal
        ok 7 - message is set
        ok 8 - should be equal
        ok 9 - message is set
    ok 7 - The request id header key can be customized # time=34.471ms
    
    # Subtest: The request id header key can be customized along with a custom id generator
        1..12
        ok 1 - should match pattern provided
        ok 2 - should be equal
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should be equal
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
    ok 8 - The request id header key can be customized along with a custom id generator # time=19.406ms
    
    # Subtest: The request id log label can be changed
        1..6
        ok 1 - should match pattern provided
        ok 2 - should be equal
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should not error
        ok 6 - should be equal
    ok 9 - The request id log label can be changed # time=19.611ms
    
    # Subtest: The logger should accept custom serializer
        1..9
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - req is defined
        ok 4 - message is set
        ok 5 - custom req serializer is use
        ok 6 - expect truthy value
        ok 7 - res is defined
        ok 8 - message is set
        ok 9 - default res serializer is use
    ok 10 - The logger should accept custom serializer # time=18.302ms
    
    # Subtest: reply.send logs an error if called twice in a row
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
    ok 11 - reply.send logs an error if called twice in a row # time=53.852ms
    
    # Subtest: logger can be silented
        1..17
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equivalent
        ok 10 - should be equivalent
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equivalent
        ok 14 - should be equivalent
        ok 15 - should be equivalent
        ok 16 - should be equivalent
        ok 17 - should be equivalent
    ok 12 - logger can be silented # time=7.388ms
    
    # Subtest: Should set a custom logLevel for a plugin
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equivalent
    ok 13 - Should set a custom logLevel for a plugin # time=37.646ms
    
    # Subtest: Should set a custom logSerializers for a plugin
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 14 - Should set a custom logSerializers for a plugin # time=9.606ms
    
    # Subtest: Should set a custom logLevel for every plugin
        1..18
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equivalent
        ok 15 - should not error
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equivalent
    ok 15 - Should set a custom logLevel for every plugin # time=41.31ms
    
    # Subtest: Should set a custom logSerializers for every plugin
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 16 - Should set a custom logSerializers for every plugin # time=15.437ms
    
    # Subtest: Should override serializers from route
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 17 - Should override serializers from route # time=18.839ms
    
    # Subtest: Should override serializers from plugin
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 18 - Should override serializers from plugin # time=24.738ms
    
    # Subtest: Should use serializers from plugin and route
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 19 - Should use serializers from plugin and route # time=7.727ms
    
    # Subtest: Should use serializers from instance fastify and route
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 20 - Should use serializers from instance fastify and route # time=6.946ms
    
    # Subtest: Should use serializers inherit from contexts
        1..5
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 21 - Should use serializers inherit from contexts # time=7.764ms
    
    # Subtest: Should increase the log level for a specific plugin
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 22 - Should increase the log level for a specific plugin # time=6.432ms
    
    # Subtest: Should set the log level for the customized 404 handler
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 23 - Should set the log level for the customized 404 handler # time=6.384ms
    
    # Subtest: Should set the log level for the customized 500 handler
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 24 - Should set the log level for the customized 500 handler # time=6.473ms
    
    # Subtest: Should set a custom log level for a specific route
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equivalent
    ok 25 - Should set a custom log level for a specific route # time=7.935ms
    
    # Subtest: The default 404 handler logs the incoming request
        1..5
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
    ok 26 - The default 404 handler logs the incoming request # time=5.458ms
    
    # Subtest: should serialize request and response
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 27 - should serialize request and response # time=5.789ms
    
    # Subtest: Wrap IPv6 address in listening log message
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 28 - Wrap IPv6 address in listening log message # time=3.653ms
    
    # Subtest: Do not wrap IPv4 address
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 29 - Do not wrap IPv4 address # time=3.803ms
    
    # Subtest: file option
        1..13
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - listen at log message is ok
        ok 4 - reqId is defined
        ok 5 - req is defined
        ok 6 - message is set
        ok 7 - method is get
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
        ok 13 - responseTime is defined
    ok 30 - file option # time=16.833ms
    
    # Subtest: should log the error if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 31 - should log the error if no error handler is defined # time=10.793ms
    
    # Subtest: should log as info if error status code >= 400 and < 500 if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 32 - should log as info if error status code >= 400 and < 500 if no error handler is defined # time=11.432ms
    
    # Subtest: should log as error if error status code >= 500 if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 33 - should log as error if error status code >= 500 if no error handler is defined # time=11.35ms
    
    # Subtest: should not log the error if error handler is defined and it does not error
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - level is correct
        ok 7 - message is set
        ok 8 - status code is set
    ok 34 - should not log the error if error handler is defined and it does not error # time=9.664ms
    
    # Subtest: should not rely on raw request to log errors
        1..7
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - status code is set
    ok 35 - should not rely on raw request to log errors # time=10.149ms
    
    # Subtest: should redact the authorization header if so specified
        1..7
        ok 1 - listen at log message is ok
        ok 2 - should not error
        ok 3 - authorization is redacted
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 36 - should redact the authorization header if so specified # time=20.346ms
    
    # Subtest: should not log incoming request and outgoing response when disabled
        1..3
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should be equivalent
    ok 37 - should not log incoming request and outgoing response when disabled # time=7.122ms
    
    # Subtest: should not log incoming request and outgoing response for 404 onBadUrl when disabled
        1..1
        ok 1 - should be equivalent
    ok 38 - should not log incoming request and outgoing response for 404 onBadUrl when disabled # time=9.262ms
    
    # Subtest: should pass when using unWritable props in the logger option
        1..1
        ok 1 - (unnamed test)
    ok 39 - should pass when using unWritable props in the logger option # time=1.925ms
    
    # Subtest: should be able to use a custom logger
        1..1
        ok 1 - (unnamed test)
    ok 40 - should be able to use a custom logger # time=19.258ms
    
    # Subtest: should create a default logger if provided one is invalid
        1..1
        ok 1 - (unnamed test)
    ok 41 - should create a default logger if provided one is invalid # time=4.58ms
    
    # Subtest: should not throw error when serializing custom req
        1..1
        ok 1 - should be equivalent
    ok 42 - should not throw error when serializing custom req # time=2.166ms
    
    1..42
    # time=945.407ms
ok 67 - test/logger.test.js # time=945.407ms

# Subtest: test/maxRequestsPerSocket.test.js
    # Subtest: maxRequestsPerSocket on node version >= 16.10.0
        1..8
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should match pattern provided
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
    ok 1 - maxRequestsPerSocket on node version >= 16.10.0 # time=72.494ms
    
    # Subtest: maxRequestsPerSocket zero should behave same as null
        1..10
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should match pattern provided
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
        ok 9 - should match pattern provided
        ok 10 - should match pattern provided
    ok 2 - maxRequestsPerSocket zero should behave same as null # time=19.324ms
    
    # Subtest: maxRequestsPerSocket should be set
        1..1
        ok 1 - should be equivalent
    ok 3 - maxRequestsPerSocket should be set # time=2.5ms
    
    # Subtest: maxRequestsPerSocket should 0
        1..1
        ok 1 - should be equivalent
    ok 4 - maxRequestsPerSocket should 0 # time=1.806ms
    
    # Subtest: requestTimeout passed to server
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 5 - requestTimeout passed to server # time=23.553ms
    
    1..5
    # time=131.552ms
ok 68 - test/maxRequestsPerSocket.test.js # time=131.552ms

# Subtest: test/middleware.test.js
    # Subtest: Should be able to override the default use API
        1..1
        ok 1 - should be equal
    ok 1 - Should be able to override the default use API # time=15.466ms
    
    # Subtest: Cannot decorate use twice
        1..1
        ok 1 - expect truthy value
    ok 2 - Cannot decorate use twice # time=2.861ms
    
    # Subtest: Encapsulation works
        1..1
        ok 1 - should be equal
    ok 3 - Encapsulation works # time=12.993ms
    
    1..3
    # time=44.551ms
ok 69 - test/middleware.test.js # time=44.551ms

# Subtest: test/noop-set.test.js
    # Subtest: does a lot of nothing
        ok 1 - type is object
        ok 2 - should be equal
        1..2
    ok 1 - does a lot of nothing # time=7.658ms
    
    1..1
    # time=13.584ms
ok 70 - test/noop-set.test.js # time=13.584ms

# Subtest: test/nullable-validation.test.js
    # Subtest: nullable string
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 1 - nullable string # time=151.831ms
    
    # Subtest: object or null body
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 2 - object or null body # time=59.983ms
    
    # Subtest: nullable body
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 3 - nullable body # time=50.81ms
    
    # Subtest: Nullable body with 204
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 4 - Nullable body with 204 # time=34.631ms
    
    1..4
    # time=304.803ms
ok 71 - test/nullable-validation.test.js # time=304.803ms

# Subtest: test/options.error-handler.test.js
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - OPTIONS can be created # time=9.653ms
    
    # Subtest: OPTIONS without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - OPTIONS without schema can be created # time=2.338ms
    
    # Subtest: OPTIONS with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - OPTIONS with body and querystring # time=1.939ms
    
    # Subtest: OPTIONS with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - OPTIONS with bodyLimit option # time=2.029ms
    
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - OPTIONS can be created # time=2.62ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - OPTIONS - correctly replies # time=58.117ms
    
    # Subtest: OPTIONS - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - OPTIONS - correctly replies with very large body # time=9.528ms
    
    # Subtest: OPTIONS - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - OPTIONS - correctly replies if the content type has the charset # time=8.99ms
    
    # Subtest: OPTIONS without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - OPTIONS without schema - correctly replies # time=5.24ms
    
    # Subtest: OPTIONS with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - OPTIONS with body and querystring - correctly replies # time=5.488ms
    
    # Subtest: OPTIONS with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - OPTIONS with no body - correctly replies # time=32.061ms
    
    # Subtest: OPTIONS returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - OPTIONS returns 415 - incorrect media type if body is not json # time=4.09ms
    
    # Subtest: OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text # time=5.638ms
    
    # Subtest: OPTIONS returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 14 - OPTIONS returns 400 - Bad Request # time=7.676ms
    
    # Subtest: OPTIONS returns 413 - Payload Too Large
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - OPTIONS returns 413 - Payload Too Large # time=6.829ms
    
    # Subtest: OPTIONS should fail with empty body and application/json content-type
        1..0
    ok 16 - OPTIONS should fail with empty body and application/json content-type # time=0.562ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - OPTIONS - correctly replies # time=4.631ms
    
    # Subtest: OPTIONS - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - OPTIONS - 400 on bad parameters # time=5.326ms
    
    # Subtest: OPTIONS - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - OPTIONS - input-validation coerce # time=4.613ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - OPTIONS - input-validation custom schema compiler # time=4.454ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - OPTIONS - input-validation joi schema compiler ok # time=6.253ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - OPTIONS - input-validation joi schema compiler ko # time=6.526ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - OPTIONS - input-validation yup schema compiler ok # time=6.378ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - OPTIONS - input-validation yup schema compiler ko # time=5.698ms
    
    # Subtest: OPTIONS - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - OPTIONS - input-validation instance custom schema compiler encapsulated # time=4.157ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 26 - OPTIONS - input-validation custom schema compiler encapsulated # time=4.097ms
    
    ok 27 - type is object
    ok 28 - type is Request
    ok 29 - type is object
    ok 30 - type is Request
    ok 31 - type is object
    ok 32 - type is Request
    ok 33 - type is object
    ok 34 - type is Request
    ok 35 - type is object
    ok 36 - type is Request
    1..36
    # time=1227.738ms
ok 72 - test/options.error-handler.test.js # time=1227.738ms

# Subtest: test/options.test.js
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - OPTIONS can be created # time=9.063ms
    
    # Subtest: OPTIONS without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - OPTIONS without schema can be created # time=1.848ms
    
    # Subtest: OPTIONS with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - OPTIONS with body and querystring # time=1.488ms
    
    # Subtest: OPTIONS with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - OPTIONS with bodyLimit option # time=1.715ms
    
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - OPTIONS can be created # time=3.077ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - OPTIONS - correctly replies # time=64.099ms
    
    # Subtest: OPTIONS - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - OPTIONS - correctly replies with very large body # time=10.2ms
    
    # Subtest: OPTIONS - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - OPTIONS - correctly replies if the content type has the charset # time=6.208ms
    
    # Subtest: OPTIONS without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - OPTIONS without schema - correctly replies # time=5.915ms
    
    # Subtest: OPTIONS with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - OPTIONS with body and querystring - correctly replies # time=6.309ms
    
    # Subtest: OPTIONS with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - OPTIONS with no body - correctly replies # time=28.355ms
    
    # Subtest: OPTIONS returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - OPTIONS returns 415 - incorrect media type if body is not json # time=4.643ms
    
    # Subtest: OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text # time=5.597ms
    
    # Subtest: OPTIONS returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 14 - OPTIONS returns 400 - Bad Request # time=8.277ms
    
    # Subtest: OPTIONS returns 413 - Payload Too Large
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - OPTIONS returns 413 - Payload Too Large # time=7.397ms
    
    # Subtest: OPTIONS should fail with empty body and application/json content-type
        1..0
    ok 16 - OPTIONS should fail with empty body and application/json content-type # time=0.826ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - OPTIONS - correctly replies # time=5.171ms
    
    # Subtest: OPTIONS - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - OPTIONS - 400 on bad parameters # time=5.814ms
    
    # Subtest: OPTIONS - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - OPTIONS - input-validation coerce # time=4.849ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - OPTIONS - input-validation custom schema compiler # time=4.855ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - OPTIONS - input-validation joi schema compiler ok # time=6.552ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - OPTIONS - input-validation joi schema compiler ko # time=6.64ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - OPTIONS - input-validation yup schema compiler ok # time=6.867ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - OPTIONS - input-validation yup schema compiler ko # time=5.923ms
    
    # Subtest: OPTIONS - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - OPTIONS - input-validation instance custom schema compiler encapsulated # time=4.584ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 26 - OPTIONS - input-validation custom schema compiler encapsulated # time=4.581ms
    
    1..26
    # time=1013.381ms
ok 73 - test/options.test.js # time=1013.381ms

# Subtest: test/output-validation.test.js
    # Subtest: shorthand - output string
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - output string # time=9.661ms
    
    # Subtest: shorthand - output number
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - output number # time=2.199ms
    
    # Subtest: wrong object for schema - output
        1..1
        ok 1 - (unnamed test)
    ok 3 - wrong object for schema - output # time=2.001ms
    
    # Subtest: empty response
        1..1
        ok 1 - (unnamed test)
    ok 4 - empty response # time=2.081ms
    
    # Subtest: unlisted response code
        1..1
        ok 1 - (unnamed test)
    ok 5 - unlisted response code # time=1.802ms
    
    ok 6 - should not error
    # Subtest: shorthand - string get ok
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - shorthand - string get ok # time=38.491ms
    
    # Subtest: shorthand - number get ok
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 8 - shorthand - number get ok # time=6.458ms
    
    # Subtest: shorthand - wrong-object-for-schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 9 - shorthand - wrong-object-for-schema # time=9.952ms
    
    # Subtest: shorthand - empty
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - shorthand - empty # time=4.896ms
    
    # Subtest: shorthand - 400
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - shorthand - 400 # time=5.29ms
    
    1..11
    # time=204.562ms
ok 74 - test/output-validation.test.js # time=204.562ms

# Subtest: test/patch.error-handler.test.js
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PATCH can be created # time=9.499ms
    
    # Subtest: PATCH without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PATCH without schema can be created # time=2.271ms
    
    # Subtest: PATCH with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PATCH with body and querystring # time=1.792ms
    
    # Subtest: PATCH with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PATCH with bodyLimit option # time=1.944ms
    
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - PATCH can be created # time=3.07ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - PATCH - correctly replies # time=65.986ms
    
    # Subtest: PATCH - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - PATCH - correctly replies with very large body # time=10.307ms
    
    # Subtest: PATCH - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - PATCH - correctly replies if the content type has the charset # time=6.345ms
    
    # Subtest: PATCH without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - PATCH without schema - correctly replies # time=5.932ms
    
    # Subtest: PATCH with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - PATCH with body and querystring - correctly replies # time=6.267ms
    
    # Subtest: PATCH with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - PATCH with no body - correctly replies # time=28.5ms
    
    # Subtest: PATCH returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - PATCH returns 415 - incorrect media type if body is not json # time=6.731ms
    
    # Subtest: PATCH returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 13 - PATCH returns 400 - Bad Request # time=8.464ms
    
    # Subtest: PATCH returns 413 - Payload Too Large
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 14 - PATCH returns 413 - Payload Too Large # time=16.529ms
    
    # Subtest: PATCH should fail with empty body and application/json content-type
        1..12
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
    ok 15 - PATCH should fail with empty body and application/json content-type # time=22.229ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - PATCH - correctly replies # time=5.465ms
    
    # Subtest: PATCH - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - PATCH - 400 on bad parameters # time=4.953ms
    
    # Subtest: PATCH - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - PATCH - input-validation coerce # time=4.748ms
    
    # Subtest: PATCH - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - PATCH - input-validation custom schema compiler # time=4.725ms
    
    # Subtest: PATCH - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - PATCH - input-validation joi schema compiler ok # time=6.314ms
    
    # Subtest: PATCH - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - PATCH - input-validation joi schema compiler ko # time=7.265ms
    
    # Subtest: PATCH - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - PATCH - input-validation yup schema compiler ok # time=5.707ms
    
    # Subtest: PATCH - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - PATCH - input-validation yup schema compiler ko # time=5.664ms
    
    # Subtest: PATCH - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - PATCH - input-validation instance custom schema compiler encapsulated # time=4.194ms
    
    # Subtest: PATCH - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - PATCH - input-validation custom schema compiler encapsulated # time=5.012ms
    
    ok 26 - type is object
    ok 27 - type is Request
    ok 28 - type is object
    ok 29 - type is Request
    ok 30 - type is object
    ok 31 - type is Request
    ok 32 - type is object
    ok 33 - type is Request
    ok 34 - type is object
    ok 35 - type is Request
    ok 36 - type is object
    ok 37 - type is Request
    ok 38 - type is object
    ok 39 - type is Request
    ok 40 - type is object
    ok 41 - type is Request
    ok 42 - type is object
    ok 43 - type is Request
    ok 44 - type is object
    ok 45 - type is Request
    ok 46 - type is object
    ok 47 - type is Request
    ok 48 - type is object
    ok 49 - type is Request
    1..49
    # time=1098.916ms
ok 75 - test/patch.error-handler.test.js # time=1098.916ms

# Subtest: test/patch.test.js
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PATCH can be created # time=12.672ms
    
    # Subtest: PATCH without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PATCH without schema can be created # time=2.401ms
    
    # Subtest: PATCH with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PATCH with body and querystring # time=1.819ms
    
    # Subtest: PATCH with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PATCH with bodyLimit option # time=2.057ms
    
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - PATCH can be created # time=2.668ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - PATCH - correctly replies # time=59.455ms
    
    # Subtest: PATCH - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - PATCH - correctly replies with very large body # time=9.484ms
    
    # Subtest: PATCH - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - PATCH - correctly replies if the content type has the charset # time=5.692ms
    
    # Subtest: PATCH without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - PATCH without schema - correctly replies # time=5.019ms
    
    # Subtest: PATCH with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - PATCH with body and querystring - correctly replies # time=5.291ms
    
    # Subtest: PATCH with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - PATCH with no body - correctly replies # time=33.152ms
    
    # Subtest: PATCH returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - PATCH returns 415 - incorrect media type if body is not json # time=6.04ms
    
    # Subtest: PATCH returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 13 - PATCH returns 400 - Bad Request # time=7.55ms
    
    # Subtest: PATCH returns 413 - Payload Too Large
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 14 - PATCH returns 413 - Payload Too Large # time=14.5ms
    
    # Subtest: PATCH should fail with empty body and application/json content-type
        1..12
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
    ok 15 - PATCH should fail with empty body and application/json content-type # time=20.275ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - PATCH - correctly replies # time=5.315ms
    
    # Subtest: PATCH - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - PATCH - 400 on bad parameters # time=4.759ms
    
    # Subtest: PATCH - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - PATCH - input-validation coerce # time=4.149ms
    
    # Subtest: PATCH - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - PATCH - input-validation custom schema compiler # time=4.234ms
    
    # Subtest: PATCH - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - PATCH - input-validation joi schema compiler ok # time=5.861ms
    
    # Subtest: PATCH - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - PATCH - input-validation joi schema compiler ko # time=5.522ms
    
    # Subtest: PATCH - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - PATCH - input-validation yup schema compiler ok # time=5.345ms
    
    # Subtest: PATCH - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - PATCH - input-validation yup schema compiler ko # time=5.145ms
    
    # Subtest: PATCH - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - PATCH - input-validation instance custom schema compiler encapsulated # time=3.69ms
    
    # Subtest: PATCH - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - PATCH - input-validation custom schema compiler encapsulated # time=3.629ms
    
    1..25
    # time=1090.38ms
ok 76 - test/patch.test.js # time=1090.38ms

# Subtest: test/plugin.test.js
    # Subtest: require a plugin
        1..1
        ok 1 - expect truthy value
    ok 1 - require a plugin # time=97.608ms
    
    # Subtest: plugin metadata - ignore prefix
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 2 - plugin metadata - ignore prefix # time=44.994ms
    
    # Subtest: plugin metadata - naming plugins
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 3 - plugin metadata - naming plugins # time=10.767ms
    
    # Subtest: fastify.register with fastify-plugin should not encapsulate his code
        1..10
        ok 1 - expect falsey value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 4 - fastify.register with fastify-plugin should not encapsulate his code # time=60.148ms
    
    # Subtest: fastify.register with fastify-plugin should provide access to external fastify instance if opts argument is a function
        1..22
        ok 1 - expect falsey value
        ok 2 - expect falsey value
        ok 3 - expect falsey value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect falsey value
        ok 10 - expect truthy value
        ok 11 - expect falsey value
        ok 12 - expect truthy value
        ok 13 - expect truthy value
        ok 14 - should be equal
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - should not error
        ok 18 - expect truthy value
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equal
        ok 22 - should be equivalent
    ok 5 - fastify.register with fastify-plugin should provide access to external fastify instance if opts argument is a function # time=35.69ms
    
    # Subtest: fastify.register with fastify-plugin registers fastify level plugins
        1..15
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should not error
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equivalent
    ok 6 - fastify.register with fastify-plugin registers fastify level plugins # time=25.951ms
    
    # Subtest: check dependencies - should not throw
        1..12
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - should not error
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
    ok 7 - check dependencies - should not throw # time=18.364ms
    
    # Subtest: check dependencies - should throw
        1..12
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - should not error
        ok 7 - expect truthy value
        ok 8 - expect falsey value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
    ok 8 - check dependencies - should throw # time=17.217ms
    
    # Subtest: set the plugin name based on the plugin displayName symbol
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
    ok 9 - set the plugin name based on the plugin displayName symbol # time=7.779ms
    
    # Subtest: plugin name will change when using no encapsulation
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
    ok 10 - plugin name will change when using no encapsulation # time=15.604ms
    
    # Subtest: plugin name is undefined when accessing in no plugin context
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 11 - plugin name is undefined when accessing in no plugin context # time=5.697ms
    
    # Subtest: set the plugin name based on the plugin function name
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 12 - set the plugin name based on the plugin function name # time=11.967ms
    
    # Subtest: approximate a plugin name when no meta data is available
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
    ok 13 - approximate a plugin name when no meta data is available # time=11.894ms
    
    # Subtest: approximate a plugin name also when fastify-plugin has no meta data
        1..4
        ok 1 - should match pattern provided
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should not error
    ok 14 - approximate a plugin name also when fastify-plugin has no meta data # time=29.539ms
    
    # Subtest: plugin encapsulation
        1..10
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 15 - plugin encapsulation # time=18.218ms
    
    # Subtest: if a plugin raises an error and there is not a callback to handle it, the server must not start
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 16 - if a plugin raises an error and there is not a callback to handle it, the server must not start # time=11.978ms
    
    # Subtest: add hooks after route declaration
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 17 - add hooks after route declaration # time=16.562ms
    
    # Subtest: nested plugins
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 18 - nested plugins # time=16.245ms
    
    # Subtest: nested plugins awaited
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 19 - nested plugins awaited # time=16.093ms
    
    # Subtest: plugin metadata - decorators
        1..1
        ok 1 - expect truthy value
    ok 20 - plugin metadata - decorators # time=4.565ms
    
    # Subtest: plugin metadata - decorators - should throw
        1..1
        ok 1 - should be equal
    ok 21 - plugin metadata - decorators - should throw # time=3.336ms
    
    # Subtest: plugin metadata - decorators - should throw with plugin name
        1..1
        ok 1 - should be equal
    ok 22 - plugin metadata - decorators - should throw with plugin name # time=19.477ms
    
    # Subtest: plugin metadata - dependencies
        1..1
        ok 1 - everything right
    ok 23 - plugin metadata - dependencies # time=6.345ms
    
    # Subtest: plugin metadata - dependencies (nested)
        1..1
        ok 1 - everything right
    ok 24 - plugin metadata - dependencies (nested) # time=10.339ms
    
    # Subtest: pluginTimeout
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 25 - pluginTimeout # time=18.349ms
    
    # "pluginTimeout - named function" has `only` set but all tests run
    # Subtest: pluginTimeout - named function
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 26 - pluginTimeout - named function # time=15.698ms
    
    # Subtest: pluginTimeout default
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 27 - pluginTimeout default # time=-161145675.66ms
    
    # Subtest: plugin metadata - version
        1..1
        ok 1 - everything right
    ok 28 - plugin metadata - version # time=7.341ms
    
    # Subtest: plugin metadata - version range
        1..1
        ok 1 - everything right
    ok 29 - plugin metadata - version range # time=3.227ms
    
    # Subtest: plugin metadata - version not matching requirement
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 30 - plugin metadata - version not matching requirement # time=3.306ms
    
    # Subtest: plugin metadata - version not matching requirement 2
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 31 - plugin metadata - version not matching requirement 2 # time=3.271ms
    
    # Subtest: plugin metadata - version not matching requirement 3
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 32 - plugin metadata - version not matching requirement 3 # time=3.027ms
    
    # Subtest: plugin metadata - release candidate
        1..2
        ok 1 - should not error
        ok 2 - everything right
    ok 33 - plugin metadata - release candidate # time=4.446ms
    
    # Subtest: fastify-rc loads prior version plugins
        1..2
        ok 1 - should not error
        ok 2 - everything right
    ok 34 - fastify-rc loads prior version plugins # time=3.62ms
    
    # Subtest: hasPlugin method exists as a function
        1..1
        ok 1 - should be equal
    ok 35 - hasPlugin method exists as a function # time=1.371ms
    
    # Subtest: hasPlugin returns true if the specified plugin has been registered
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
    ok 36 - hasPlugin returns true if the specified plugin has been registered # time=5.855ms
    
    # Subtest: hasPlugin returns false if the specified plugin has not been registered
        1..1
        ok 1 - expect falsey value
    ok 37 - hasPlugin returns false if the specified plugin has not been registered # time=1.336ms
    
    # Subtest: hasPlugin returns false when using encapsulation
        1..25
        ok 1 - expect truthy value
        ok 2 - expect falsey value
        ok 3 - expect falsey value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect truthy value
        ok 8 - expect falsey value
        ok 9 - expect falsey value
        ok 10 - expect falsey value
        ok 11 - expect falsey value
        ok 12 - expect falsey value
        ok 13 - expect truthy value
        ok 14 - expect falsey value
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - expect falsey value
        ok 18 - expect falsey value
        ok 19 - expect truthy value
        ok 20 - expect falsey value
        ok 21 - expect falsey value
        ok 22 - expect falsey value
        ok 23 - expect falsey value
        ok 24 - expect falsey value
        ok 25 - expect truthy value
    ok 38 - hasPlugin returns false when using encapsulation # time=20.406ms
    
    # Subtest: hasPlugin returns true when using no encapsulation
        1..26
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect falsey value
        ok 10 - expect falsey value
        ok 11 - expect falsey value
        ok 12 - expect truthy value
        ok 13 - expect truthy value
        ok 14 - expect truthy value
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - expect truthy value
        ok 18 - expect truthy value
        ok 19 - expect truthy value
        ok 20 - expect truthy value
        ok 21 - expect falsey value
        ok 22 - expect truthy value
        ok 23 - expect truthy value
        ok 24 - expect truthy value
        ok 25 - expect truthy value
        ok 26 - expect truthy value
    ok 39 - hasPlugin returns true when using no encapsulation # time=10.658ms
    
    1..39
    # time=669.511ms
ok 77 - test/plugin.test.js # time=669.511ms

# Subtest: test/pretty-print.test.js
    # Subtest: pretty print - static routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - pretty print - static routes # time=62.145ms
    
    # Subtest: pretty print - parametric routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - pretty print - parametric routes # time=15.334ms
    
    # Subtest: pretty print - mixed parametric routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 3 - pretty print - mixed parametric routes # time=9.622ms
    
    # Subtest: pretty print - wildcard routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - pretty print - wildcard routes # time=18.104ms
    
    # Subtest: pretty print - empty plugins
        1..2
        ok 1 - should be equal
        ok 2 - should match pattern provided
    ok 5 - pretty print - empty plugins # time=8.515ms
    
    # Subtest: pretty print - nested plugins
        1..4
        ok 1 - should be equal
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
    ok 6 - pretty print - nested plugins # time=11.48ms
    
    # Subtest: pretty print - commonPrefix
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 7 - pretty print - commonPrefix # time=34.376ms
    
    # Subtest: pretty print - includeMeta, includeHooks
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 8 - pretty print - includeMeta, includeHooks # time=14.183ms
    
    1..8
    # time=204.828ms
ok 78 - test/pretty-print.test.js # time=204.828ms

# Subtest: test/promises.test.js
    ok 1 - should not error
    # Subtest: shorthand - sget return promise es6 get
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - shorthand - sget return promise es6 get # time=37.049ms
    
    # Subtest: shorthand - sget promise es6 get return error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 3 - shorthand - sget promise es6 get return error # time=8.292ms
    
    # Subtest: sget promise double send
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 4 - sget promise double send # time=7.534ms
    
    # Subtest: thenable
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 5 - thenable # time=14.253ms
    
    # Subtest: thenable (error)
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 6 - thenable (error) # time=9.793ms
    
    # Subtest: return-reply
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - return-reply # time=5.062ms
    
    1..7
    # time=140.59ms
ok 79 - test/promises.test.js # time=140.59ms

# Subtest: test/proto-poisoning.test.js
    # Subtest: proto-poisoning error
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 1 - proto-poisoning error # time=68.479ms
    
    # Subtest: proto-poisoning remove
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 2 - proto-poisoning remove # time=13.094ms
    
    # Subtest: proto-poisoning ignore
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 3 - proto-poisoning ignore # time=13.547ms
    
    # Subtest: constructor-poisoning error (default in v3)
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 4 - constructor-poisoning error (default in v3) # time=8.239ms
    
    # Subtest: constructor-poisoning error
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 5 - constructor-poisoning error # time=8.785ms
    
    # Subtest: constructor-poisoning remove
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 6 - constructor-poisoning remove # time=14.051ms
    
    1..6
    # time=137.651ms
ok 80 - test/proto-poisoning.test.js # time=137.651ms

./VariantsPureDep/fastify/variant12/fastify

> fastify@4.3.0 test
> npm run lint && npm run unit && npm run test:typescript


> fastify@4.3.0 lint
> npm run lint:standard && npm run lint:typescript && npm run lint:markdown


> fastify@4.3.0 lint:standard
> standard | snazzy

-----------------------------|---------|----------|---------|---------|-----------------------------
File                         | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s           
-----------------------------|---------|----------|---------|---------|-----------------------------
All files                    |   92.78 |    92.03 |    92.3 |   92.91 |                             
 fastify                     |   85.23 |    88.12 |   82.14 |    84.9 |                             
  fastify.js                 |   85.23 |    88.12 |   82.14 |    84.9 | ...,676-695,721-724,732-743 
 fastify/lib                 |   93.85 |    92.55 |   94.23 |   94.06 |                             
  contentTypeParser.js       |    97.8 |    99.15 |     100 |   97.64 | 233-236                     
  context.js                 |     100 |      100 |     100 |     100 |                             
  decorate.js                |   98.21 |    98.03 |     100 |   98.07 | 41                          
  error-handler.js           |    94.2 |    93.61 |     100 |    94.2 | 108-110,118                 
  errors.js                  |     100 |      100 |     100 |     100 |                             
  fourOhFour.js              |     100 |      100 |     100 |     100 |                             
  handleRequest.js           |   98.48 |    98.03 |     100 |   98.41 | 97                          
  headRoute.js               |      20 |     12.5 |   33.33 |   14.28 | 4-21,26                     
  hooks.js                   |     100 |      100 |     100 |     100 |                             
  initialConfigValidation.js |     100 |      100 |     100 |     100 |                             
  logger.js                  |     100 |      100 |     100 |     100 |                             
  noop-set.js                |     100 |      100 |     100 |     100 |                             
  pluginOverride.js          |   97.56 |       90 |     100 |    97.5 | 75                          
  pluginUtils.js             |     100 |      100 |     100 |     100 |                             
  reply.js                   |    87.7 |    84.86 |   88.88 |   88.76 | ...-618,622-627,648-654,659 
  reqIdGenFactory.js         |     100 |      100 |     100 |     100 |                             
  request.js                 |   87.96 |    90.62 |      80 |   89.42 | 45-54,157-167,206,211       
  route.js                   |   88.84 |    88.04 |     100 |   88.69 | ...,355-362,396-397,461,465 
  schema-controller.js       |    92.3 |    79.41 |   84.61 |    92.3 | 23,58,71                    
  schemas.js                 |   92.64 |    93.65 |   88.88 |   94.02 | 28,32,43,147                
  server.js                  |     100 |      100 |     100 |     100 |                             
  symbols.js                 |     100 |      100 |     100 |     100 |                             
  validation.js              |   98.55 |    96.55 |     100 |   98.43 | 22                          
  warnings.js                |     100 |      100 |     100 |     100 |                             
  wrapThenable.js            |   93.33 |       90 |     100 |   93.33 | 11                          
-----------------------------|---------|----------|---------|---------|-----------------------------

> fastify@4.3.0 lint:typescript
> eslint -c types/.eslintrc.json types/**/*.d.ts test/types/**/*.test-d.ts


> fastify@4.3.0 lint:markdown
> markdownlint-cli2

markdownlint-cli2 v0.4.0 (markdownlint v0.25.1)

> fastify@4.3.0 unit
> tap

TAP version 13
# Subtest: test/404s.test.js
    # Subtest: default 404
        1..4
        ok 1 - should not error
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - unsupported method # time=30.579ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - framework-unsupported method # time=5.797ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - unsupported route # time=5.441ms
        
    ok 1 - default 404 # time=179.875ms
    
    # Subtest: customized 404
        1..6
        ok 1 - should not error
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - unsupported method # time=11.737ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - framework-unsupported method # time=6.039ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - unsupported route # time=5.315ms
        
        # Subtest: with error object
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - with error object # time=11.315ms
        
        # Subtest: error object with headers property
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 6 - error object with headers property # time=6.993ms
        
    ok 2 - customized 404 # time=58.73ms
    
    # Subtest: custom header in notFound handler
        1..2
        ok 1 - should not error
        # Subtest: not found with custom header
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
        ok 2 - not found with custom header # time=4.548ms
        
    ok 3 - custom header in notFound handler # time=36.694ms
    
    # Subtest: setting a custom 404 handler multiple times is an error
        1..5
        # Subtest: at the root level
            1..2
            ok 1 - type is Error
            ok 2 - should be equal
        ok 1 - at the root level # time=1.912ms
        
        # Subtest: at the plugin level
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 2 - at the plugin level # time=37.411ms
        
        # Subtest: at multiple levels
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 3 - at multiple levels # time=12.177ms
        
        # Subtest: at multiple levels / 2
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 4 - at multiple levels / 2 # time=14.615ms
        
        # Subtest: in separate plugins at the same level
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 5 - in separate plugins at the same level # time=11.502ms
        
    ok 4 - setting a custom 404 handler multiple times is an error # time=87.276ms
    
    # Subtest: encapsulated 404
        1..13
        ok 1 - should not error
        # Subtest: root unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - root unsupported method # time=29.671ms
        
        # Subtest: root framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - root framework-unsupported method # time=4.763ms
        
        # Subtest: root unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - root unsupported route # time=5.275ms
        
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 5 - unsupported method # time=5.317ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 6 - framework-unsupported method # time=5.278ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 7 - unsupported route # time=4.978ms
        
        # Subtest: unsupported method 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 8 - unsupported method 2 # time=5.416ms
        
        # Subtest: framework-unsupported method 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 9 - framework-unsupported method 2 # time=5.036ms
        
        # Subtest: unsupported route 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 10 - unsupported route 2 # time=4.905ms
        
        # Subtest: unsupported method 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 11 - unsupported method 3 # time=5.51ms
        
        # Subtest: framework-unsupported method 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 12 - framework-unsupported method 3 # time=4.724ms
        
        # Subtest: unsupported route 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 13 - unsupported route 3 # time=4.849ms
        
    ok 5 - encapsulated 404 # time=122.384ms
    
    # Subtest: custom 404 hook and handler context
        1..21
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should not error
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equal
    ok 6 - custom 404 hook and handler context # time=74.368ms
    
    # Subtest: encapsulated custom 404 without - prefix hook and handler context
        1..13
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equal
    ok 7 - encapsulated custom 404 without - prefix hook and handler context # time=13.299ms
    
    # Subtest: run hooks on default 404
        1..7
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - preHandler called
        ok 4 - onSend called
        ok 5 - onResponse called
        ok 6 - should not error
        ok 7 - should be equal
    ok 8 - run hooks on default 404 # time=33.301ms
    
    # Subtest: run non-encapsulated plugin hooks on default 404
        1..6
        ok 1 - onRequest called
        ok 2 - preHandler called
        ok 3 - onSend called
        ok 4 - onResponse called
        ok 5 - should not error
        ok 6 - should be equal
    ok 9 - run non-encapsulated plugin hooks on default 404 # time=18.094ms
    
    # Subtest: run non-encapsulated plugin hooks on custom 404
        1..11
        ok 1 - onRequest called
        ok 2 - onRequest called
        ok 3 - preHandler called
        ok 4 - preHandler called
        ok 5 - onSend called
        ok 6 - onSend called
        ok 7 - onResponse called
        ok 8 - onResponse called
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
    ok 10 - run non-encapsulated plugin hooks on custom 404 # time=17.302ms
    
    # Subtest: run hook with encapsulated 404
        1..11
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - onRequest 2 called
        ok 4 - preHandler called
        ok 5 - preHandler 2 called
        ok 6 - onSend called
        ok 7 - onSend 2 called
        ok 8 - onResponse called
        ok 9 - onResponse 2 called
        ok 10 - should not error
        ok 11 - should be equal
    ok 11 - run hook with encapsulated 404 # time=34.228ms
    
    # Subtest: run hook with encapsulated 404 and framework-unsupported method
        1..11
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - onRequest 2 called
        ok 4 - preHandler called
        ok 5 - preHandler 2 called
        ok 6 - onSend called
        ok 7 - onSend 2 called
        ok 8 - onResponse called
        ok 9 - onResponse 2 called
        ok 10 - should not error
        ok 11 - should be equal
    ok 12 - run hook with encapsulated 404 and framework-unsupported method # time=17.435ms
    
    # Subtest: hooks check 404
        1..13
        ok 1 - should not error
        ok 2 - onRequest
        ok 3 - should be equivalent
        ok 4 - onSend
        ok 5 - onResponse
        ok 6 - onRequest
        ok 7 - should be equivalent
        ok 8 - onSend
        ok 9 - onResponse
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should not error
        ok 13 - should be equal
    ok 13 - hooks check 404 # time=32.197ms
    
    # Subtest: setNotFoundHandler should not suppress duplicated routes checking
        1..1
        ok 1 - expect truthy value
    ok 14 - setNotFoundHandler should not suppress duplicated routes checking # time=3.67ms
    
    # Subtest: log debug for 404
        1..1
        # Subtest: log debug
            1..7
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
        ok 1 - log debug # time=8.897ms
        
    ok 15 - log debug for 404 # time=17.337ms
    
    # Subtest: Unknown method
        1..5
        ok 1 - should not error
        ok 2 - expected to throw
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent strictly
    ok 16 - Unknown method # time=38.948ms
    
    # Subtest: recognizes errors from the http-errors module
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent strictly
    ok 17 - recognizes errors from the http-errors module # time=29.875ms
    
    # Subtest: the default 404 handler can be invoked inside a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
    ok 18 - the default 404 handler can be invoked inside a prefixed plugin # time=13.458ms
    
    # Subtest: an inherited custom 404 handler can be invoked inside a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - an inherited custom 404 handler can be invoked inside a prefixed plugin # time=19.244ms
    
    # Subtest: encapsulated custom 404 handler without a prefix is the handler for the entire 404 level
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 20 - encapsulated custom 404 handler without a prefix is the handler for the entire 404 level # time=23.843ms
    
    # Subtest: cannot set notFoundHandler after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 21 - cannot set notFoundHandler after binding # time=4.348ms
    
    # Subtest: 404 inside onSend
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 22 - 404 inside onSend # time=18.082ms
    
    # Subtest: onSend hooks run when an encapsulated route invokes the notFound handler
        1..3
        ok 1 - onSend hook called
        ok 2 - should not error
        ok 3 - should be equal
    ok 23 - onSend hooks run when an encapsulated route invokes the notFound handler # time=5.424ms
    
    # Subtest: preHandler option for setNotFoundHandler
        1..10
        # Subtest: preHandler option
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 1 - preHandler option # time=37.573ms
        
        # Subtest: preHandler hook in setNotFoundHandler should be called when callNotFound
            1..3
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 2 - preHandler hook in setNotFoundHandler should be called when callNotFound # time=21.94ms
        
        # Subtest: preHandler hook in setNotFoundHandler should accept an array of functions and be called when callNotFound
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 3 - preHandler hook in setNotFoundHandler should accept an array of functions and be called when callNotFound # time=6.041ms
        
        # Subtest: preHandler option should be called after preHandler hook
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 4 - preHandler option should be called after preHandler hook # time=5.662ms
        
        # Subtest: preHandler option should be unique per prefix
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 5 - preHandler option should be unique per prefix # time=12.926ms
        
        # Subtest: preHandler option should handle errors
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 6 - preHandler option should handle errors # time=5.905ms
        
        # Subtest: preHandler option should handle errors with custom status code
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 7 - preHandler option should handle errors with custom status code # time=5.902ms
        
        # Subtest: preHandler option could accept an array of functions
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 8 - preHandler option could accept an array of functions # time=5.053ms
        
        # Subtest: preHandler option does not interfere with preHandler
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 9 - preHandler option does not interfere with preHandler # time=9.616ms
        
        # Subtest: preHandler option should keep the context
            1..3
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 10 - preHandler option should keep the context # time=5.556ms
        
    ok 24 - preHandler option for setNotFoundHandler # time=137.356ms
    
    # Subtest: reply.notFound invoked the notFound handler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - reply.notFound invoked the notFound handler # time=5.434ms
    
    # Subtest: The custom error handler should be invoked after the custom not found handler
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - type is Error
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 26 - The custom error handler should be invoked after the custom not found handler # time=6.514ms
    
    # Subtest: If the custom not found handler does not use an Error, the custom error handler should not be called
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 27 - If the custom not found handler does not use an Error, the custom error handler should not be called # time=4.654ms
    
    # Subtest: preValidation option
        1..3
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 28 - preValidation option # time=5.395ms
    
    # Subtest: preValidation option could accept an array of functions
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 29 - preValidation option could accept an array of functions # time=5.477ms
    
    # Subtest: Should fail to invoke callNotFound inside a 404 handler
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 30 - Should fail to invoke callNotFound inside a 404 handler # time=7.359ms
    
    # Subtest: 400 in case of bad url (pre find-my-way v2.2.0 was a 404)
        # Subtest: Dynamic route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 1 - Dynamic route # time=26.414ms
        
        # Subtest: Wildcard
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - Wildcard # time=5.692ms
        
        # Subtest: No route registered
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - No route registered # time=5.286ms
        
        # Subtest: Only / is registered
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - Only / is registered # time=18.674ms
        
        # Subtest: customized 404
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - customized 404 # time=6.689ms
        
        1..5
    ok 31 - 400 in case of bad url (pre find-my-way v2.2.0 was a 404) # time=70.918ms
    
    # Subtest: setNotFoundHandler should be chaining fastify instance
        # Subtest: Register route after setNotFoundHandler
            1..6
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should not error
            ok 5 - should be equal
            ok 6 - should be equal
        ok 1 - Register route after setNotFoundHandler # time=36.354ms
        
        1..1
    ok 32 - setNotFoundHandler should be chaining fastify instance # time=45.847ms
    
    # Subtest: Send 404 when frameworkError calls reply.callNotFound
        # Subtest: Dynamic route
            1..4
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 1 - Dynamic route # time=7.768ms
        
        1..1
    ok 33 - Send 404 when frameworkError calls reply.callNotFound # time=13.344ms
    
    1..33
    # time=1239.249ms
ok 1 - test/404s.test.js # time=1239.249ms

# Subtest: test/500s.test.js
    # Subtest: default 500
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - default 500 # time=86.422ms
    
    # Subtest: custom 500
        1..6
        ok 1 - type is object
        ok 2 - type is Request
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 2 - custom 500 # time=8.953ms
    
    # Subtest: encapsulated 500
        1..10
        ok 1 - type is object
        ok 2 - type is Request
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 3 - encapsulated 500 # time=47.932ms
    
    # Subtest: custom 500 with hooks
        1..7
        ok 1 - onRequest
        ok 2 - onSend
        ok 3 - onResponse
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 4 - custom 500 with hooks # time=10.63ms
    
    # Subtest: cannot set errorHandler after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 5 - cannot set errorHandler after binding # time=26.028ms
    
    1..5
    # time=192.766ms
ok 2 - test/500s.test.js # time=192.766ms

# Subtest: test/allowUnsafeRegex.test.js
    # Subtest: allow unsafe regex
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - allow unsafe regex # time=78.037ms
    
    # Subtest: allow unsafe regex not match
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 2 - allow unsafe regex not match # time=12.462ms
    
    # Subtest: allow unsafe regex not safe
        1..1
        ok 1 - expected to throw
    ok 3 - allow unsafe regex not safe # time=97.377ms
    
    # Subtest: allow unsafe regex not safe by default
        1..1
        ok 1 - expected to throw
    ok 4 - allow unsafe regex not safe by default # time=3.249ms
    
    # Subtest: allow unsafe regex allow unsafe
        1..5
        ok 1 - expected to not throw
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 5 - allow unsafe regex allow unsafe # time=17.409ms
    
    1..5
    # time=247.17ms
ok 3 - test/allowUnsafeRegex.test.js # time=247.17ms

# Subtest: test/als.test.js
    ok 1 - should not error
    ok 2 - expect truthy value
    ok 3 - should not error
    ok 4 - should be equal
    ok 5 - should be equivalent
    ok 6 - expect truthy value
    ok 7 - should not error
    ok 8 - should be equal
    ok 9 - should be equivalent
    ok 10 - expect truthy value
    ok 11 - should not error
    ok 12 - should be equal
    ok 13 - should be equivalent
    1..13
    # time=46.526ms
ok 4 - test/als.test.js # time=46.526ms

# Subtest: test/async-await.test.js
    # Subtest: async await
        1..11
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 1 - async await # time=321.34ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (undefined)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 2 - ignore the result of the promise if reply.send is called beforehand (undefined) # time=11.74ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (object)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 3 - ignore the result of the promise if reply.send is called beforehand (object) # time=46.644ms
    
    # Subtest: server logs an error if reply.send is called and a value is returned via async/await
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 4 - server logs an error if reply.send is called and a value is returned via async/await # time=94.211ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (undefined)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 5 - ignore the result of the promise if reply.send is called beforehand (undefined) # time=9.439ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (object)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 6 - ignore the result of the promise if reply.send is called beforehand (object) # time=17.207ms
    
    # Subtest: await reply if we will be calling reply.send in the future
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 7 - await reply if we will be calling reply.send in the future # time=7.817ms
    
    # Subtest: await reply if we will be calling reply.send in the future (error case)
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 8 - await reply if we will be calling reply.send in the future (error case) # time=15.964ms
    
    # Subtest: support reply decorators with await
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 9 - support reply decorators with await # time=22.307ms
    
    # Subtest: inject async await
        1..1
        ok 1 - should be equivalent
    ok 10 - inject async await # time=14.801ms
    
    # Subtest: inject async await - when the server equal up
        1..2
        ok 1 - should be equivalent
        ok 2 - should be equivalent
    ok 11 - inject async await - when the server equal up # time=209.796ms
    
    # Subtest: async await plugin
        1..1
        ok 1 - should be equivalent
    ok 12 - async await plugin # time=230.468ms
    
    # Subtest: does not call reply.send() twice if 204 response equal already sent
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - does not call reply.send() twice if 204 response equal already sent # time=11.591ms
    
    # Subtest: promise was fulfilled with undefined
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - promise was fulfilled with undefined # time=27.069ms
    
    # Subtest: error is not logged because promise was fulfilled with undefined but response was sent before promise resolution
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 15 - error is not logged because promise was fulfilled with undefined but response was sent before promise resolution # time=9.987ms
    
    # Subtest: Thrown Error instance sets HTTP status code
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - Thrown Error instance sets HTTP status code # time=14.365ms
    
    # Subtest: customErrorHandler support
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 17 - customErrorHandler support # time=11.015ms
    
    # Subtest: customErrorHandler support without throwing
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - customErrorHandler support without throwing # time=5.764ms
    
    # Subtest: customErrorHandler only called if reply not already sent
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - customErrorHandler only called if reply not already sent # time=9.117ms
    
    # Subtest: setNotFoundHandler should accept return value
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - setNotFoundHandler should accept return value # time=8.978ms
    
    # Subtest: customErrorHandler should accept return value
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 21 - customErrorHandler should accept return value # time=6.049ms
    
    # Subtest: await self
        ok 1 - should be equal
        1..1
    ok 22 - await self # time=3.498ms
    
    1..22
    # time=1136.27ms
ok 5 - test/async-await.test.js # time=1136.27ms

# Subtest: test/bodyLimit.test.js
    # Subtest: bodyLimit
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should not error
        ok 5 - should be equal
    ok 1 - bodyLimit # time=38.502ms
    
    1..1
    # time=43.28ms
ok 6 - test/bodyLimit.test.js # time=43.28ms

# Subtest: test/build/error-serializer.test.js
    # Subtest: check generated code syntax
        1..1
        ok 1 - should be equal
    ok 1 - check generated code syntax # time=4231.399ms
    
    ok 2 - ensure the current error serializer is latest # SKIP
    1..2
    # skip: 1
    # time=4311.589ms
ok 7 - test/build/error-serializer.test.js # time=4311.589ms

# Subtest: test/build/version.test.js
    # Subtest: should be the same as package.json
        1..1
        ok 1 - should be equal
    ok 1 - should be the same as package.json # time=6.099ms
    
    1..1
    # time=11.784ms
ok 8 - test/build/version.test.js # time=11.784ms

# Subtest: test/case-insensitive.test.js
    # Subtest: case insensitive
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - case insensitive # time=69.693ms
    
    # Subtest: case insensitive inject
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - case insensitive inject # time=33.189ms
    
    # Subtest: case insensitive (parametric)
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 3 - case insensitive (parametric) # time=12.116ms
    
    # Subtest: case insensitive (wildcard)
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 4 - case insensitive (wildcard) # time=25.922ms
    
    1..4
    # time=167.324ms
ok 9 - test/case-insensitive.test.js # time=167.324ms

# Subtest: test/chainable.test.js
    # Subtest: chainable - get
        1..1
        ok 1 - type is [object Object]
    ok 1 - chainable - get # time=9.832ms
    
    # Subtest: chainable - post
        1..1
        ok 1 - type is [object Object]
    ok 2 - chainable - post # time=2.138ms
    
    # Subtest: chainable - route
        1..1
        ok 1 - type is [object Object]
    ok 3 - chainable - route # time=2.163ms
    
    1..3
    # time=25.843ms
ok 10 - test/chainable.test.js # time=25.843ms

# Subtest: test/close-pipelining.test.js
    # Subtest: Should return 503 while closing - pipelining
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        1..3
    ok 1 - Should return 503 while closing - pipelining # time=122.025ms
    
    # Subtest: Should not return 503 while closing - pipelining - return503OnClosing
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        1..3
    ok 2 - Should not return 503 while closing - pipelining - return503OnClosing # time=21.198ms
    
    1..2
    # time=183.76ms
ok 11 - test/close-pipelining.test.js # time=183.76ms

# Subtest: test/close.test.js
    # Subtest: close callback
        1..4
        ok 1 - should not error
        ok 2 - type is [object Object]
        ok 3 - should not error
        ok 4 - expect truthy value
    ok 1 - close callback # time=89.05ms
    
    # Subtest: inside register
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - expect truthy value
    ok 2 - inside register # time=24.674ms
    
    # Subtest: close order
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 3 - close order # time=11.209ms
    
    # Subtest: close order - async
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 4 - close order - async # time=8.284ms
    
    # Subtest: should not throw an error if the server is not listening
        1..2
        ok 1 - type is [object Object]
        ok 2 - should not error
    ok 5 - should not throw an error if the server is not listening # time=3.631ms
    
    # Subtest: onClose should keep the context
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
    ok 6 - onClose should keep the context # time=8.307ms
    
    # Subtest: Should return error while closing (promise) - injection
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 7 - Should return error while closing (promise) - injection # time=48.486ms
    
    # Subtest: Should return error while closing (callback) - injection
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 8 - Should return error while closing (callback) - injection # time=124.093ms
    
    # Subtest: Current opened connection should continue to work after closing and return "connection: close" header - return503OnClosing: false
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        1..5
    ok 9 - Current opened connection should continue to work after closing and return "connection: close" header - return503OnClosing: false # time=35.481ms
    
    # Subtest: Current opened connection should not accept new incoming connections
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 10 - Current opened connection should not accept new incoming connections # time=271.482ms
    
    # Subtest: Cannot be reopened the closed server without listen callback
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 11 - Cannot be reopened the closed server without listen callback # time=8.754ms
    
    # Subtest: Cannot be reopened the closed server has listen callback
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 12 - Cannot be reopened the closed server has listen callback # time=4.653ms
    
    ok 13 - shutsdown while keep-alive connections are active (non-async, native) # SKIP
    ok 14 - shutsdown while keep-alive connections are active (non-async, idle, native) # SKIP
    # Subtest: shutsdown while keep-alive connections are active (non-async, custom)
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 15 - shutsdown while keep-alive connections are active (non-async, custom) # time=10.681ms
    
    1..15
    # skip: 2
    # time=676.512ms
ok 12 - test/close.test.js # time=676.512ms

# Subtest: test/connectionTimeout.test.js
    # Subtest: connectionTimeout
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 1 - connectionTimeout # time=45.028ms
    
    1..1
    # time=51.655ms
ok 13 - test/connectionTimeout.test.js # time=51.655ms

# Subtest: test/constrained-routes.test.js
    # Subtest: Should register a host constrained route
        1..7
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 1 - Should register a host constrained route # time=157.969ms
    
    # Subtest: Should register the same route with host constraints
        1..8
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 2 - Should register the same route with host constraints # time=12.662ms
    
    # Subtest: Should allow registering custom constrained routes
        1..8
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 3 - Should allow registering custom constrained routes # time=44.697ms
    
    # Subtest: Should allow registering custom constrained routes outside constructor
        1..8
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 4 - Should allow registering custom constrained routes outside constructor # time=21.045ms
    
    # Subtest: Add a constraint strategy after fastify instance was started
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - Cannot add constraint strategy when fastify instance is already started!
    ok 5 - Add a constraint strategy after fastify instance was started # time=7.607ms
    
    # Subtest: Add a constraint strategy should throw an error if there already exist custom strategy with the same name
        1..1
        ok 1 - There already exists a custom constraint with the name secret.
    ok 6 - Add a constraint strategy should throw an error if there already exist custom strategy with the same name # time=2.17ms
    
    # Subtest: Add a constraint strategy shouldn't throw an error if default constraint with the same name isn't used
        1..1
        ok 1 - (unnamed test)
    ok 7 - Add a constraint strategy shouldn't throw an error if default constraint with the same name isn't used # time=1.816ms
    
    # Subtest: Add a constraint strategy should throw an error if default constraint with the same name is used
        1..1
        ok 1 - There already exists a route with version constraint.
    ok 8 - Add a constraint strategy should throw an error if default constraint with the same name is used # time=2.881ms
    
    # Subtest: The hasConstraintStrategy should return false for default constraints until they are used
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 9 - The hasConstraintStrategy should return false for default constraints until they are used # time=6.685ms
    
    # Subtest: The hasConstraintStrategy should return true if there already exist a custom constraint with the same name
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 10 - The hasConstraintStrategy should return true if there already exist a custom constraint with the same name # time=3.068ms
    
    # Subtest: Should allow registering an unconstrained route after a constrained route
        1..6
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
    ok 11 - Should allow registering an unconstrained route after a constrained route # time=10.052ms
    
    # Subtest: Should allow registering constrained routes in a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 12 - Should allow registering constrained routes in a prefixed plugin # time=31.271ms
    
    # Subtest: Should allow registering a constrained GET route after a constrained HEAD route
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 13 - Should allow registering a constrained GET route after a constrained HEAD route # time=16.839ms
    
    # Subtest: Should allow registering a constrained GET route after an unconstrained HEAD route
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 14 - Should allow registering a constrained GET route after an unconstrained HEAD route # time=8.502ms
    
    # Subtest: Will not try to re-createprefixed HEAD route if it already exists and exposeHeadRoutes is true for constrained routes
        1..1
        ok 1 - expect truthy value
    ok 15 - Will not try to re-createprefixed HEAD route if it already exists and exposeHeadRoutes is true for constrained routes # time=6.958ms
    
    # Subtest: allows separate constrained and unconstrained HEAD routes
        1..1
        ok 1 - expect truthy value
    ok 16 - allows separate constrained and unconstrained HEAD routes # time=5.712ms
    
    1..16
    # time=378.455ms
ok 14 - test/constrained-routes.test.js # time=378.455ms

# Subtest: test/content-length.test.js
    # Subtest: default 413 with bodyLimit option
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - default 413 with bodyLimit option # time=73.716ms
    
    # Subtest: default 400 with wrong content-length
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - default 400 with wrong content-length # time=11.148ms
    
    # Subtest: custom 413 with bodyLimit option
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 3 - custom 413 with bodyLimit option # time=21.826ms
    
    # Subtest: custom 400 with wrong content-length
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 4 - custom 400 with wrong content-length # time=24.271ms
    
    # Subtest: \#2214 - wrong content-length
        ok 1 - should be equal
        1..1
    ok 5 - \#2214 - wrong content-length # time=8.454ms
    
    # Subtest: \#2543 - wrong content-length with errorHandler
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 6 - \#2543 - wrong content-length with errorHandler # time=6.296ms
    
    1..6
    # time=153.314ms
ok 15 - test/content-length.test.js # time=153.314ms

# Subtest: test/content-parser.test.js
    # Subtest: hasContentTypeParser
        1..0
    ok 1 - hasContentTypeParser # time=12.481ms
    
    # Subtest: should know about internal parsers
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
    ok 2 - should know about internal parsers # time=43.482ms
    
    # Subtest: should work with string and RegExp
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect falsey value
    ok 3 - should work with string and RegExp # time=4.413ms
    
    # Subtest: getParser
        1..0
    ok 4 - getParser # time=98.491ms
    
    # Subtest: existingParser
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect falsey value
        1..7
    ok 5 - existingParser # time=14.409ms
    
    # Subtest: add
        1..0
    ok 6 - add # time=9.244ms
    
    # Subtest: non-Error thrown from content parser is properly handled
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 7 - non-Error thrown from content parser is properly handled # time=37.974ms
    
    # Subtest: Error thrown 415 from content type is null and make post request to server
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 8 - Error thrown 415 from content type is null and make post request to server # time=21.117ms
    
    # Subtest: remove
        1..0
    ok 9 - remove # time=18.767ms
    
    # Subtest: remove all should remove all existing parsers and reset cache
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
    ok 10 - remove all should remove all existing parsers and reset cache # time=5.409ms
    
    # Subtest: should return matching parser
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 11 - should return matching parser # time=2.444ms
    
    # Subtest: should return matching parser with caching
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 12 - should return matching parser with caching # time=2.526ms
    
    # Subtest: should prefer content type parser with string value
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 13 - should prefer content type parser with string value # time=2.548ms
    
    # Subtest: should return parser that catches all if no other is set
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 14 - should return parser that catches all if no other is set # time=3.339ms
    
    # Subtest: should return undefined if no matching parser exist
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 15 - should return undefined if no matching parser exist # time=2.412ms
    
    # Subtest: returns always false for "*"
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 16 - returns always false for "*" # time=1.718ms
    
    # Subtest: let you override the default parser once
        1..2
        ok 1 - Content type parser 'application/json' already present
        ok 2 - Content type parser 'text/plain' already present
    ok 17 - let you override the default parser once # time=4.983ms
    
    # Subtest: should only accept string and RegExp
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - The content type should be a string or a RegExp
        ok 4 - The content type should be a string or a RegExp
    ok 18 - should only accept string and RegExp # time=3.527ms
    
    # Subtest: should set "*" as parser that catches all
        1..1
        ok 1 - should be equal
    ok 19 - should set "*" as parser that catches all # time=1.345ms
    
    # Subtest: should remove default parser
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 20 - should remove default parser # time=1.51ms
    
    # Subtest: should remove RegExp parser
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 21 - should remove RegExp parser # time=1.451ms
    
    # Subtest: should throw an error if content type is neither string nor RegExp
        1..1
        ok 1 - expected to throw
    ok 22 - should throw an error if content type is neither string nor RegExp # time=1.744ms
    
    # Subtest: should not throw error if content type does not exist
        1..1
        ok 1 - expected to not throw
    ok 23 - should not throw error if content type does not exist # time=1.406ms
    
    # Subtest: should not remove any content type parser if content type does not exist
        1..1
        ok 1 - should be equivalent
    ok 24 - should not remove any content type parser if content type does not exist # time=1.956ms
    
    1..24
    # time=328.168ms
ok 16 - test/content-parser.test.js # time=328.168ms

# Subtest: test/context-config.test.js
    # Subtest: config
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 1 - config # time=83.172ms
    
    # Subtest: config with exposeHeadRoutes
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 2 - config with exposeHeadRoutes # time=21.145ms
    
    # Subtest: config without exposeHeadRoutes
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 3 - config without exposeHeadRoutes # time=14.278ms
    
    1..3
    # time=147.539ms
ok 17 - test/context-config.test.js # time=147.539ms

# Subtest: test/custom-http-server.test.js
    # Subtest: Should support a custom http server
        1..4
        ok 1 - it is called twice for every HOST interface
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - Should support a custom http server # time=66.45ms
    
    # Subtest: Should not allow forceCloseConnection=idle if the server does not support closeIdleConnections
        1..1
        ok 1 - Cannot set forceCloseConnections to 'idle' as your HTTP server does not support closeIdleConnections method
    ok 2 - Should not allow forceCloseConnection=idle if the server does not support closeIdleConnections # time=3.835ms
    
    1..2
    # time=78.272ms
ok 18 - test/custom-http-server.test.js # time=78.272ms

# Subtest: test/custom-parser-async.test.js
    # Subtest: contentTypeParser should add a custom async parser
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=32.805ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=7.75ms
        
    ok 1 - contentTypeParser should add a custom async parser # time=115.889ms
    
    1..1
    # time=121.784ms
ok 19 - test/custom-parser-async.test.js # time=121.784ms

# Subtest: test/custom-parser.test.js
    # Subtest: contentTypeParser method should exist
        1..1
        ok 1 - expect truthy value
    ok 1 - contentTypeParser method should exist # time=15.177ms
    
    # Subtest: contentTypeParser should add a custom parser
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=28.206ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=7.471ms
        
    ok 2 - contentTypeParser should add a custom parser # time=178.252ms
    
    # Subtest: contentTypeParser should handle multiple custom parsers
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 3 - contentTypeParser should handle multiple custom parsers # time=15.107ms
    
    # Subtest: contentTypeParser should handle an array of custom contentTypes
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 4 - contentTypeParser should handle an array of custom contentTypes # time=37.97ms
    
    # Subtest: contentTypeParser should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 5 - contentTypeParser should handle errors # time=13.861ms
    
    # Subtest: contentTypeParser should support encapsulation
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - expect falsey value
        ok 6 - expect falsey value
    ok 6 - contentTypeParser should support encapsulation # time=9.355ms
    
    # Subtest: contentTypeParser should support encapsulation, second try
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - contentTypeParser should support encapsulation, second try # time=32.578ms
    
    # Subtest: contentTypeParser shouldn't support request with undefined "Content-Type"
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 8 - contentTypeParser shouldn't support request with undefined "Content-Type" # time=12.758ms
    
    # Subtest: the content type should be a string or RegExp
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 9 - the content type should be a string or RegExp # time=2.871ms
    
    # Subtest: the content type cannot be an empty string
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 10 - the content type cannot be an empty string # time=3.138ms
    
    # Subtest: the content type handler should be a function
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 11 - the content type handler should be a function # time=2.732ms
    
    # Subtest: catch all content type parser
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 12 - catch all content type parser # time=14.927ms
    
    # Subtest: catch all content type parser should not interfere with other conte type parsers
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 13 - catch all content type parser should not interfere with other conte type parsers # time=17.204ms
    
    # Subtest: '*' catch undefined Content-Type requests
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - '*' catch undefined Content-Type requests # time=14.425ms
    
    # Subtest: cannot add custom parser after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 15 - cannot add custom parser after binding # time=6.3ms
    
    # Subtest: Can override the default json parser
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 16 - Can override the default json parser # time=33.762ms
    
    # Subtest: Can override the default plain text parser
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 17 - Can override the default plain text parser # time=14.37ms
    
    # Subtest: Can override the default json parser in a plugin
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 18 - Can override the default json parser in a plugin # time=13.642ms
    
    # Subtest: Can't override the json parser multiple times
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 19 - Can't override the json parser multiple times # time=2.434ms
    
    # Subtest: Can't override the plain text parser multiple times
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 20 - Can't override the plain text parser multiple times # time=5.407ms
    
    # Subtest: Should get the body as string
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 21 - Should get the body as string # time=10.227ms
    
    # Subtest: Should return defined body with no custom parser defined and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 22 - Should return defined body with no custom parser defined and content type = 'text/plain' # time=16.994ms
    
    # Subtest: Should have typeof body object with no custom parser defined, no body defined and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 23 - Should have typeof body object with no custom parser defined, no body defined and content type = 'text/plain' # time=19.27ms
    
    # Subtest: Should have typeof body object with no custom parser defined, null body and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 24 - Should have typeof body object with no custom parser defined, null body and content type = 'text/plain' # time=8.197ms
    
    # Subtest: Should have typeof body object with no custom parser defined, undefined body and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 25 - Should have typeof body object with no custom parser defined, undefined body and content type = 'text/plain' # time=7.675ms
    
    # Subtest: Should get the body as string
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 26 - Should get the body as string # time=26.223ms
    
    # Subtest: Should get the body as buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 27 - Should get the body as buffer # time=7.713ms
    
    # Subtest: Should get the body as buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 28 - Should get the body as buffer # time=6.424ms
    
    # Subtest: Should parse empty bodies as a string
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 29 - Should parse empty bodies as a string # time=23.144ms
    
    # Subtest: Should parse empty bodies as a buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 30 - Should parse empty bodies as a buffer # time=6.949ms
    
    # Subtest: The charset should not interfere with the content type handling
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 31 - The charset should not interfere with the content type handling # time=6.574ms
    
    # Subtest: Wrong parseAs parameter
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 32 - Wrong parseAs parameter # time=1.543ms
    
    # Subtest: Should allow defining the bodyLimit per parser
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent strictly
    ok 33 - Should allow defining the bodyLimit per parser # time=8.259ms
    
    # Subtest: route bodyLimit should take precedence over a custom parser bodyLimit
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent strictly
    ok 34 - route bodyLimit should take precedence over a custom parser bodyLimit # time=6.251ms
    
    # Subtest: should be able to use default parser for extra content type
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent strictly
    ok 35 - should be able to use default parser for extra content type # time=6.546ms
    
    # Subtest: contentTypeParser should add a custom parser with RegExp value
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=4.982ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=3.795ms
        
    ok 36 - contentTypeParser should add a custom parser with RegExp value # time=15.205ms
    
    # Subtest: contentTypeParser should add multiple custom parsers with RegExp values
        1..6
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 37 - contentTypeParser should add multiple custom parsers with RegExp values # time=49.987ms
    
    # Subtest: catch all content type parser should not interfere with content type parser
        1..10
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 38 - catch all content type parser should not interfere with content type parser # time=13.413ms
    
    # Subtest: should prefer string content types over RegExp ones
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 39 - should prefer string content types over RegExp ones # time=10.131ms
    
    # Subtest: removeContentTypeParser should support arrays of content types to remove
        1..8
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 40 - removeContentTypeParser should support arrays of content types to remove # time=11.375ms
    
    # Subtest: removeContentTypeParser should support encapsulation
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 41 - removeContentTypeParser should support encapsulation # time=10.513ms
    
    # Subtest: removeAllContentTypeParsers should support encapsulation
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 42 - removeAllContentTypeParsers should support encapsulation # time=11.89ms
    
    # Subtest: cannot remove all content type parsers after binding
        1..2
        ok 1 - should not error
        ok 2 - expected to throw
    ok 43 - cannot remove all content type parsers after binding # time=4.611ms
    
    # Subtest: cannot remove content type parsers after binding
        1..2
        ok 1 - should not error
        ok 2 - expected to throw
    ok 44 - cannot remove content type parsers after binding # time=3.397ms
    
    # Subtest: should be able to override the default json parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 45 - should be able to override the default json parser after removeAllContentTypeParsers # time=7.048ms
    
    # Subtest: should be able to override the default plain text parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 46 - should be able to override the default plain text parser after removeAllContentTypeParsers # time=7.11ms
    
    # Subtest: should be able to add a custom content type parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 47 - should be able to add a custom content type parser after removeAllContentTypeParsers # time=8.586ms
    
    1..47
    # time=815.582ms
ok 20 - test/custom-parser.test.js # time=815.582ms

# Subtest: test/custom-querystring-parser.test.js
    # Subtest: Custom querystring parser
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 1 - Custom querystring parser # time=108.538ms
    
    # Subtest: Custom querystring parser should be called also if there is nothing to parse
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 2 - Custom querystring parser should be called also if there is nothing to parse # time=14.298ms
    
    # Subtest: Querystring without value
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 3 - Querystring without value # time=47.795ms
    
    # Subtest: Custom querystring parser should be a function
        1..1
        ok 1 - should be equal
    ok 4 - Custom querystring parser should be a function # time=1.05ms
    
    1..4
    # time=185.193ms
ok 21 - test/custom-querystring-parser.test.js # time=185.193ms

# Subtest: test/decorator.test.js
    # Subtest: server methods should exist
        1..2
        ok 1 - expect truthy value
        ok 2 - expect truthy value
    ok 1 - server methods should exist # time=15.992ms
    
    # Subtest: should check if the given decoration already exist when null
        1..1
        ok 1 - expect truthy value
    ok 2 - should check if the given decoration already exist when null # time=95.017ms
    
    # Subtest: server methods should be encapsulated via .register
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 3 - server methods should be encapsulated via .register # time=8.377ms
    
    # Subtest: hasServerMethod should check if the given method already exist
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 4 - hasServerMethod should check if the given method already exist # time=9.234ms
    
    # Subtest: decorate should throw if a declared dependency is not present
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - (unnamed test)
    ok 5 - decorate should throw if a declared dependency is not present # time=9.423ms
    
    # Subtest: decorate should throw if declared dependency is not array
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - (unnamed test)
    ok 6 - decorate should throw if declared dependency is not array # time=6.563ms
    
    # Subtest: should pass error for missing request decorator
        1..2
        ok 1 - type is Error
        ok 2 - should match pattern provided
    ok 7 - should pass error for missing request decorator # time=9.394ms
    
    # Subtest: decorateReply inside register
        1..11
        ok 1 - should not error
        ok 2 - test exists
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 8 - decorateReply inside register # time=53.101ms
    
    # Subtest: decorateReply as plugin (inside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 9 - decorateReply as plugin (inside .after) # time=34.269ms
    
    # Subtest: decorateReply as plugin (outside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 10 - decorateReply as plugin (outside .after) # time=24.146ms
    
    # Subtest: decorateRequest inside register
        1..11
        ok 1 - should not error
        ok 2 - test exists
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 11 - decorateRequest inside register # time=19.978ms
    
    # Subtest: decorateRequest as plugin (inside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 12 - decorateRequest as plugin (inside .after) # time=35.564ms
    
    # Subtest: decorateRequest as plugin (outside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 13 - decorateRequest as plugin (outside .after) # time=15.465ms
    
    # Subtest: decorators should be instance separated
        1..1
        ok 1 - (unnamed test)
    ok 14 - decorators should be instance separated # time=2.282ms
    
    # Subtest: hasRequestDecorator
        # Subtest: is a function
            1..1
            ok 1 - expect truthy value
        ok 1 - is a function # time=1.373ms
        
        # Subtest: should check if the given request decoration already exist
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 2 - should check if the given request decoration already exist # time=1.883ms
        
        # Subtest: should check if the given request decoration already exist when null
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 3 - should check if the given request decoration already exist when null # time=1.899ms
        
        # Subtest: should be plugin encapsulable
            1..4
            ok 1 - expect falsey value
            ok 2 - expect falsey value
            ok 3 - expect truthy value
            ok 4 - expect falsey value
        ok 4 - should be plugin encapsulable # time=14.351ms
        
        # Subtest: should be inherited
            1..2
            ok 1 - expect truthy value
            ok 2 - expect truthy value
        ok 5 - should be inherited # time=5.895ms
        
        1..5
    ok 15 - hasRequestDecorator # time=44.676ms
    
    # Subtest: hasReplyDecorator
        # Subtest: is a function
            1..1
            ok 1 - expect truthy value
        ok 1 - is a function # time=1.54ms
        
        # Subtest: should check if the given reply decoration already exist
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 2 - should check if the given reply decoration already exist # time=1.916ms
        
        # Subtest: should check if the given reply decoration already exist when null
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 3 - should check if the given reply decoration already exist when null # time=2.305ms
        
        # Subtest: should be plugin encapsulable
            1..4
            ok 1 - expect falsey value
            ok 2 - expect falsey value
            ok 3 - expect truthy value
            ok 4 - expect falsey value
        ok 4 - should be plugin encapsulable # time=13.579ms
        
        # Subtest: should be inherited
            1..2
            ok 1 - expect truthy value
            ok 2 - expect truthy value
        ok 5 - should be inherited # time=10.988ms
        
        1..5
    ok 16 - hasReplyDecorator # time=147.947ms
    
    # Subtest: should register properties via getter/setter objects
        1..3
        ok 1 - expect truthy value
        ok 2 - a getter
        ok 3 - expect falsey value
    ok 17 - should register properties via getter/setter objects # time=3.98ms
    
    # Subtest: decorateRequest should work with getter/setter
        1..5
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - (unnamed test)
    ok 18 - decorateRequest should work with getter/setter # time=34.113ms
    
    # Subtest: decorateReply should work with getter/setter
        1..5
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - (unnamed test)
    ok 19 - decorateReply should work with getter/setter # time=10.198ms
    
    # Subtest: should register empty values
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 20 - should register empty values # time=3.373ms
    
    # Subtest: nested plugins can override things
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 21 - nested plugins can override things # time=4.408ms
    
    # Subtest: a decorator should addSchema to all the encapsulated tree
        1..1
        ok 1 - should not error
    ok 22 - a decorator should addSchema to all the encapsulated tree # time=4.481ms
    
    # Subtest: after can access to a decorated instance and previous plugin decoration
        1..11
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
    ok 23 - after can access to a decorated instance and previous plugin decoration # time=8.694ms
    
    # Subtest: decorate* should throw if called after ready
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 24 - decorate* should throw if called after ready # time=17.939ms
    
    # Subtest: decorate* should emit warning if an array is passed
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 25 - decorate* should emit warning if an array is passed # time=29.586ms
    
    # Subtest: decorate* should emit warning if object type is passed
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 26 - decorate* should emit warning if object type is passed # time=24.697ms
    
    # Subtest: decorate* should not emit warning if object with getter/setter is passed
        1..0
    ok 27 - decorate* should not emit warning if object with getter/setter is passed # time=33.407ms
    
    # Subtest: decorate* should not emit warning if string,bool,numbers are passed
        1..0
    ok 28 - decorate* should not emit warning if string,bool,numbers are passed # time=24.486ms
    
    # Subtest: Request/reply decorators should be able to access the server instance
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not be equal
        ok 4 - should be equal
        ok 5 - should not be equal
        ok 6 - should be equal
    ok 29 - Request/reply decorators should be able to access the server instance # time=10.025ms
    
    # Subtest: plugin required decorators
        1..0
    ok 30 - plugin required decorators # time=4.054ms
    
    # Subtest: decorateRequest/decorateReply empty string
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 31 - decorateRequest/decorateReply empty string # time=19.873ms
    
    # Subtest: decorateRequest/decorateReply is undefined
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 32 - decorateRequest/decorateReply is undefined # time=10.782ms
    
    # Subtest: decorateRequest/decorateReply is not set to a value
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 33 - decorateRequest/decorateReply is not set to a value # time=25.329ms
    
    # Subtest: decorateRequest with dependencies
        1..2
        ok 1 - expected to not throw
        ok 2 - expect truthy value
    ok 34 - decorateRequest with dependencies # time=11.998ms
    
    # Subtest: decorateRequest with dependencies (functions)
        1..2
        ok 1 - expected to not throw
        ok 2 - expect truthy value
    ok 35 - decorateRequest with dependencies (functions) # time=5.312ms
    
    # Subtest: chain of decorators on Request
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        1..6
    ok 36 - chain of decorators on Request # time=24.044ms
    
    # Subtest: chain of decorators on Reply
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        1..6
    ok 37 - chain of decorators on Reply # time=14.165ms
    
    1..37
    # time=905.022ms
ok 22 - test/decorator.test.js # time=905.022ms

# Subtest: test/default-route.test.js
    # Subtest: should fail if defaultRoute is not a function
        1..1
        ok 1 - should be equal
    ok 1 - should fail if defaultRoute is not a function # time=19.806ms
    
    # Subtest: correctly sets, returns, and calls defaultRoute
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 2 - correctly sets, returns, and calls defaultRoute # time=48.999ms
    
    1..2
    # time=78.228ms
ok 23 - test/default-route.test.js # time=78.228ms

# Subtest: test/delete.test.js
    # Subtest: shorthand - delete
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - delete # time=10.112ms
    
    # Subtest: shorthand - delete params
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - delete params # time=2.591ms
    
    # Subtest: shorthand - delete, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - delete, querystring schema # time=2.039ms
    
    # Subtest: shorthand - get, headers schema
        1..1
        ok 1 - (unnamed test)
    ok 4 - shorthand - get, headers schema # time=1.914ms
    
    # Subtest: missing schema - delete
        1..1
        ok 1 - (unnamed test)
    ok 5 - missing schema - delete # time=1.831ms
    
    # Subtest: body - delete
        1..1
        ok 1 - (unnamed test)
    ok 6 - body - delete # time=1.593ms
    
    # Subtest: shorthand - delete with application/json Content-Type header and without body
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - shorthand - delete with application/json Content-Type header and without body # time=57.18ms
    
    ok 8 - should not error
    # Subtest: shorthand - request delete
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 9 - shorthand - request delete # time=32.742ms
    
    # Subtest: shorthand - request delete params schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 10 - shorthand - request delete params schema # time=8.08ms
    
    # Subtest: shorthand - request delete params schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 11 - shorthand - request delete params schema error # time=8.171ms
    
    # Subtest: shorthand - request delete headers schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 12 - shorthand - request delete headers schema # time=6.554ms
    
    # Subtest: shorthand - request delete headers schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 13 - shorthand - request delete headers schema error # time=6.316ms
    
    # Subtest: shorthand - request delete querystring schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 14 - shorthand - request delete querystring schema # time=12.156ms
    
    # Subtest: shorthand - request delete querystring schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 15 - shorthand - request delete querystring schema error # time=5.408ms
    
    # Subtest: shorthand - request delete missing schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 16 - shorthand - request delete missing schema # time=6.007ms
    
    # Subtest: shorthand - delete with body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - shorthand - delete with body # time=8.935ms
    
    1..17
    # time=340.339ms
ok 24 - test/delete.test.js # time=340.339ms

# Subtest: test/diagnostics-channel.test.js
    # Subtest: diagnostics_channel when present and subscribers
        1..3
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should be equal
    ok 1 - diagnostics_channel when present and subscribers # time=1011.809ms
    
    # Subtest: diagnostics_channel when present and no subscribers
        1..1
        ok 1 - should be equal
    ok 2 - diagnostics_channel when present and no subscribers # time=18.564ms
    
    # Subtest: diagnostics_channel when not present
        1..1
        ok 1 - expected to not throw
    ok 3 - diagnostics_channel when not present # time=18.908ms
    
    1..3
    # time=1065.034ms
ok 25 - test/diagnostics-channel.test.js # time=1065.034ms

# Subtest: test/encapsulated-error-handler.test.js
    # Subtest: encapuslates an error handler
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 1 - encapuslates an error handler # time=63.546ms
    
    # Subtest: onError hook nested
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 2 - onError hook nested # time=17.547ms
    
    1..2
    # time=87.805ms
ok 26 - test/encapsulated-error-handler.test.js # time=87.805ms

# Subtest: test/esm/index.test.js
    # Subtest: named exports support
        ok 1 - should be equal
        1..1
    ok 1 - named exports support # time=34.723ms
    
    ok 2 - should be equal
    1..2
    # time=40.042ms
ok 27 - test/esm/index.test.js # time=40.042ms

# Subtest: test/fastify-instance.test.js
    # Subtest: root fastify instance is an object
        1..1
        ok 1 - type is object
    ok 1 - root fastify instance is an object # time=15.239ms
    
    # Subtest: fastify instance should contains ajv options
        1..1
        ok 1 - should be equivalent
    ok 2 - fastify instance should contains ajv options # time=7.957ms
    
    # Subtest: fastify instance should contains ajv options.plugins nested arrays
        1..1
        ok 1 - should be equivalent
    ok 3 - fastify instance should contains ajv options.plugins nested arrays # time=3.234ms
    
    # Subtest: fastify instance get invalid ajv options
        1..1
        ok 1 - expected to throw
    ok 4 - fastify instance get invalid ajv options # time=1.729ms
    
    # Subtest: fastify instance get invalid ajv options.plugins
        1..1
        ok 1 - expected to throw
    ok 5 - fastify instance get invalid ajv options.plugins # time=1.456ms
    
    # Subtest: fastify instance should contain default errorHandler
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 6 - fastify instance should contain default errorHandler # time=3.175ms
    
    # Subtest: errorHandler in plugin should be separate from the external one
        1..4
        ok 1 - should not be equivalent
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equivalent
    ok 7 - errorHandler in plugin should be separate from the external one # time=19.141ms
    
    1..7
    # time=77.388ms
ok 28 - test/fastify-instance.test.js # time=77.388ms

# Subtest: test/fluent-schema.test.js
    # Subtest: use fluent-json-schema object
        1..15
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equivalent
    ok 1 - use fluent-json-schema object # time=185.138ms
    
    # Subtest: use complex fluent-json-schema object
        1..1
        ok 1 - should not error
    ok 2 - use complex fluent-json-schema object # time=42.417ms
    
    # Subtest: use fluent schema and plain JSON schema
        1..1
        ok 1 - should not error
    ok 3 - use fluent schema and plain JSON schema # time=65.324ms
    
    # Subtest: Should call valueOf internally
        1..1
        ok 1 - should not error
    ok 4 - Should call valueOf internally # time=69.24ms
    
    1..4
    # time=369.264ms
ok 29 - test/fluent-schema.test.js # time=369.264ms

# Subtest: test/genReqId.test.js
    # Subtest: Should accept a custom genReqId function
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 1 - Should accept a custom genReqId function # time=70.705ms
    
    1..1
    # time=92.017ms
ok 30 - test/genReqId.test.js # time=92.017ms

# Subtest: test/get.test.js
    # Subtest: shorthand - get
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - get # time=9.936ms
    
    # Subtest: shorthand - get (return null)
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - get (return null) # time=2.188ms
    
    # Subtest: shorthand - get params
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - get params # time=2.497ms
    
    # Subtest: shorthand - get, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 4 - shorthand - get, querystring schema # time=2.104ms
    
    # Subtest: shorthand - get, headers schema
        1..1
        ok 1 - (unnamed test)
    ok 5 - shorthand - get, headers schema # time=1.935ms
    
    # Subtest: missing schema - get
        1..1
        ok 1 - (unnamed test)
    ok 6 - missing schema - get # time=1.503ms
    
    # Subtest: custom serializer - get
        1..1
        ok 1 - (unnamed test)
    ok 7 - custom serializer - get # time=2.016ms
    
    # Subtest: empty response
        1..1
        ok 1 - (unnamed test)
    ok 8 - empty response # time=1.587ms
    
    # Subtest: send a falsy boolean
        1..1
        ok 1 - (unnamed test)
    ok 9 - send a falsy boolean # time=1.407ms
    
    ok 10 - should not error
    # Subtest: shorthand - request get
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - shorthand - request get # time=47.201ms
    
    # Subtest: shorthand - request get params schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 12 - shorthand - request get params schema # time=7.261ms
    
    # Subtest: shorthand - request get params schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 13 - shorthand - request get params schema error # time=6.745ms
    
    # Subtest: shorthand - request get headers schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - shorthand - request get headers schema # time=5.096ms
    
    # Subtest: shorthand - request get headers schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 15 - shorthand - request get headers schema error # time=5.085ms
    
    # Subtest: shorthand - request get querystring schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 16 - shorthand - request get querystring schema # time=5.201ms
    
    # Subtest: shorthand - request get querystring schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - shorthand - request get querystring schema error # time=4.607ms
    
    # Subtest: shorthand - request get missing schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - shorthand - request get missing schema # time=5.523ms
    
    # Subtest: shorthand - custom serializer
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 19 - shorthand - custom serializer # time=5.888ms
    
    # Subtest: shorthand - empty response
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 20 - shorthand - empty response # time=5.145ms
    
    # Subtest: shorthand - send a falsy boolean
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - shorthand - send a falsy boolean # time=4.707ms
    
    # Subtest: shorthand - send null value
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - shorthand - send null value # time=4.713ms
    
    1..22
    # time=314.867ms
ok 31 - test/get.test.js # time=314.867ms

# Subtest: test/handler-context.test.js
    # Subtest: handlers receive correct `this` context
        1..4
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 1 - handlers receive correct `this` context # time=60.946ms
    
    # Subtest: handlers have access to the internal context
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - type is Object
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 2 - handlers have access to the internal context # time=17.783ms
    
    1..2
    # time=86.917ms
ok 32 - test/handler-context.test.js # time=86.917ms

# Subtest: test/head.test.js
    # Subtest: shorthand - head
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - head # time=9.754ms
    
    # Subtest: shorthand - head params
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - head params # time=2.858ms
    
    # Subtest: shorthand - head, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - head, querystring schema # time=2.026ms
    
    # Subtest: missing schema - head
        1..1
        ok 1 - (unnamed test)
    ok 4 - missing schema - head # time=1.569ms
    
    ok 5 - should not error
    # Subtest: shorthand - request head
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 6 - shorthand - request head # time=55.851ms
    
    # Subtest: shorthand - request head params schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 7 - shorthand - request head params schema # time=5.612ms
    
    # Subtest: shorthand - request head params schema error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 8 - shorthand - request head params schema error # time=5.886ms
    
    # Subtest: shorthand - request head querystring schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 9 - shorthand - request head querystring schema # time=4.515ms
    
    # Subtest: shorthand - request head querystring schema error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - shorthand - request head querystring schema error # time=4.613ms
    
    # Subtest: shorthand - request head missing schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 11 - shorthand - request head missing schema # time=3.86ms
    
    1..11
    # time=259.018ms
ok 33 - test/head.test.js # time=259.018ms

# Subtest: test/hooks-async.test.js
    # Subtest: async hooks
        1..21
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should not error
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equivalent
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - expect truthy value
    ok 1 - async hooks # time=124.313ms
    
    # Subtest: modify payload
        1..10
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - expect truthy value
        ok 4 - should be equivalent
        ok 5 - expect truthy value
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
    ok 2 - modify payload # time=44.559ms
    
    # Subtest: onRequest hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 3 - onRequest hooks should be able to block a request # time=12.024ms
    
    # Subtest: preParsing hooks should be able to modify the payload
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 4 - preParsing hooks should be able to modify the payload # time=8.776ms
    
    # Subtest: preParsing hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 5 - preParsing hooks should handle errors # time=6.22ms
    
    # Subtest: preHandler hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 6 - preHandler hooks should be able to block a request # time=6.431ms
    
    # Subtest: preValidation hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 7 - preValidation hooks should be able to block a request # time=6.049ms
    
    # Subtest: preValidation hooks should be able to change request body before validation
        1..4
        ok 1 - (unnamed test)
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - preValidation hooks should be able to change request body before validation # time=79.271ms
    
    # Subtest: preSerialization hooks should be able to modify the payload
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - preSerialization hooks should be able to modify the payload # time=19.663ms
    
    # Subtest: preSerialization hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - preSerialization hooks should handle errors # time=19.31ms
    
    # Subtest: preValidation hooks should handle throwing null
        1..4
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - preValidation hooks should handle throwing null # time=8.882ms
    
    # Subtest: preValidation hooks should handle throwing a string
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 12 - preValidation hooks should handle throwing a string # time=22.763ms
    
    # Subtest: onRequest hooks should be able to block a request (last hook)
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 13 - onRequest hooks should be able to block a request (last hook) # time=15.463ms
    
    # Subtest: preHandler hooks should be able to block a request (last hook)
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 14 - preHandler hooks should be able to block a request (last hook) # time=8.356ms
    
    # Subtest: onRequest respond with a stream
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - onRequest respond with a stream # time=12.693ms
    
    # Subtest: preHandler respond with a stream
        1..7
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 16 - preHandler respond with a stream # time=45.752ms
    
    # Subtest: Should log a warning if is an async function with `done`
        # Subtest: 3 arguments
            1..1
            ok 1 - expect truthy value
        ok 1 - 3 arguments # time=2.432ms
        
        # Subtest: 4 arguments
            1..3
            ok 1 - expect truthy value
            ok 2 - expect truthy value
            ok 3 - expect truthy value
        ok 2 - 4 arguments # time=2.915ms
        
        1..2
    ok 17 - Should log a warning if is an async function with `done` # time=16.454ms
    
    # Subtest: early termination, onRequest async
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 18 - early termination, onRequest async # time=24.477ms
    
    # Subtest: The this should be the same of the encapsulation level
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        1..4
    ok 19 - The this should be the same of the encapsulation level # time=45.644ms
    
    # Subtest: preSerializationEnd should handle errors if the serialize method throws
        # Subtest: works with sync preSerialization
            1..2
            ok 1 - should not error
            ok 2 - should not be equal
        ok 1 - works with sync preSerialization # time=13.757ms
        
        # Subtest: works with async preSerialization
            1..2
            ok 1 - should not error
            ok 2 - should not be equal
        ok 2 - works with async preSerialization # time=6.013ms
        
        1..2
    ok 20 - preSerializationEnd should handle errors if the serialize method throws # time=24.704ms
    
    1..20
    # time=570.973ms
ok 34 - test/hooks-async.test.js # time=570.973ms

# Subtest: test/hooks.on-ready.test.js
    # Subtest: onReady should be called in order
        1..7
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
        ok 7 - should not error
    ok 1 - onReady should be called in order # time=73.922ms
    
    # Subtest: async onReady should be called in order
        1..7
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
        ok 7 - ready
    ok 2 - async onReady should be called in order # time=10.85ms
    
    # Subtest: mix ready and onReady
        1..2
        ok 1 - should be equal
        ok 2 - ready hooks execute once
    ok 3 - mix ready and onReady # time=7.091ms
    
    # Subtest: listen and onReady order
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - trigger the onReady
        ok 9 - do not trigger the onReady
    ok 4 - listen and onReady order # time=24.413ms
    
    # Subtest: multiple ready calls
        1..11
        ok 1 - ready and hooks not triggered yet
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - trigger the onReady
        ok 10 - do not trigger the onReady
        ok 11 - do not trigger the onReady
    ok 5 - multiple ready calls # time=11.749ms
    
    # Subtest: onReady should manage error in sync
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 6 - onReady should manage error in sync # time=7.691ms
    
    # Subtest: onReady should manage error in async
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 7 - onReady should manage error in async # time=37.646ms
    
    # Subtest: onReady should manage sync error
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 8 - onReady should manage sync error # time=6.72ms
    
    # Subtest: onReady can not add decorators or application hooks
        1..3
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should not error
    ok 9 - onReady can not add decorators or application hooks # time=5.66ms
    
    # Subtest: onReady cannot add lifecycle hooks
        1..5
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 10 - onReady cannot add lifecycle hooks # time=20.905ms
    
    # Subtest: onReady throw loading error
        1..1
        ok 1 - expect truthy value
    ok 11 - onReady throw loading error # time=2.406ms
    
    # Subtest: onReady does not call done
        1..6
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
        ok 6 - should be equal
    ok 12 - onReady does not call done # time=522.539ms
    
    # Subtest: onReady execution order
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 13 - onReady execution order # time=3.663ms
    
    # Subtest: ready return the server with callback
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 14 - ready return the server with callback # time=44.902ms
    
    # Subtest: ready return the server with Promise
        1..1
        ok 1 - should be equivalent
    ok 15 - ready return the server with Promise # time=6.213ms
    
    # Subtest: ready return registered
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
    ok 16 - ready return registered # time=30.671ms
    
    1..16
    # time=832.38ms
ok 35 - test/hooks.on-ready.test.js # time=832.38ms

# Subtest: test/hooks.test.js
    # Subtest: hooks
        1..43
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - (unnamed test)
        ok 4 - (unnamed test)
        ok 5 - (unnamed test)
        ok 6 - (unnamed test)
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - expect truthy value
        ok 20 - expect truthy value
        ok 21 - expect truthy value
        ok 22 - expect truthy value
        ok 23 - should be equal
        ok 24 - should be equal
        ok 25 - should be equal
        ok 26 - should be equal
        ok 27 - should be equal
        ok 28 - should be equal
        ok 29 - should be equal
        ok 30 - should be equal
        ok 31 - should be equal
        ok 32 - expect truthy value
        ok 33 - expect truthy value
        ok 34 - expect truthy value
        ok 35 - expect truthy value
        ok 36 - should not error
        ok 37 - should be equal
        ok 38 - should be equal
        ok 39 - should be equivalent
        ok 40 - should not error
        ok 41 - should be equal
        ok 42 - should not error
        ok 43 - should be equal
    ok 1 - hooks # time=160.582ms
    
    # Subtest: onRequest hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 2 - onRequest hook should support encapsulation / 1 # time=22.998ms
    
    # Subtest: onRequest hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 3 - onRequest hook should support encapsulation / 2 # time=6.505ms
    
    # Subtest: onRequest hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 4 - onRequest hook should support encapsulation / 3 # time=20.008ms
    
    # Subtest: preHandler hook should support encapsulation / 5
        1..17
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equivalent
    ok 5 - preHandler hook should support encapsulation / 5 # time=13.491ms
    
    # Subtest: onRoute hook should be called / 1
        1..2
        ok 1 - (unnamed test)
        ok 2 - should not error
    ok 6 - onRoute hook should be called / 1 # time=4.124ms
    
    # Subtest: onRoute hook should be called / 2
        1..5
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 7 - onRoute hook should be called / 2 # time=7.734ms
    
    # Subtest: onRoute hook should be called / 3
        1..5
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - (unnamed test)
        ok 5 - should not error
    ok 8 - onRoute hook should be called / 3 # time=17.152ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 4
        1..4
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - (unnamed test)
        ok 4 - should not error
    ok 9 - onRoute hook should be called (encapsulation support) / 4 # time=6.381ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 5
        1..2
        ok 1 - (unnamed test)
        ok 2 - should not error
    ok 10 - onRoute hook should be called (encapsulation support) / 5 # time=23.552ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 6
        1..1
        ok 1 - should not error
    ok 11 - onRoute hook should be called (encapsulation support) / 6 # time=4.857ms
    
    # Subtest: onRoute should keep the context
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
    ok 12 - onRoute should keep the context # time=11.575ms
    
    # Subtest: onRoute hook should pass correct route
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should not error
    ok 13 - onRoute hook should pass correct route # time=9.454ms
    
    # Subtest: onRoute hook should pass correct route with custom prefix
        1..11
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
    ok 14 - onRoute hook should pass correct route with custom prefix # time=8.766ms
    
    # Subtest: onRoute hook should pass correct route with custom options
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - type is function
        ok 6 - should not error
    ok 15 - onRoute hook should pass correct route with custom options # time=7.575ms
    
    # Subtest: onRoute hook should receive any route option
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 16 - onRoute hook should receive any route option # time=18.242ms
    
    # Subtest: onRoute hook should preserve system route configuration
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 17 - onRoute hook should preserve system route configuration # time=6.771ms
    
    # Subtest: onRoute hook should preserve handler function in options of shorthand route system configuration
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 18 - onRoute hook should preserve handler function in options of shorthand route system configuration # time=8.215ms
    
    # Subtest: onRoute hook should be called once when prefixTrailingSlash
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 19 - onRoute hook should be called once when prefixTrailingSlash # time=6.496ms
    
    # Subtest: onRoute hook should able to change the route url
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 20 - onRoute hook should able to change the route url # time=10.783ms
    
    # Subtest: onRoute hook that throws should be caught
        1..1
        ok 1 - expect truthy value
    ok 21 - onRoute hook that throws should be caught # time=6.476ms
    
    # Subtest: onRoute hook with many prefix
        1..3
        ok 1 - should match pattern provided
        ok 2 - should match pattern provided
        ok 3 - should not error
    ok 22 - onRoute hook with many prefix # time=9.824ms
    
    # Subtest: onRoute hook should not be called when it registered after route
        1..3
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
    ok 23 - onRoute hook should not be called when it registered after route # time=4.63ms
    
    # Subtest: onResponse hook should log request error
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 24 - onResponse hook should log request error # time=101.695ms
    
    # Subtest: onResponse hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 25 - onResponse hook should support encapsulation / 1 # time=24.624ms
    
    # Subtest: onResponse hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 26 - onResponse hook should support encapsulation / 2 # time=11.621ms
    
    # Subtest: onResponse hook should support encapsulation / 3
        1..16
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 27 - onResponse hook should support encapsulation / 3 # time=33.133ms
    
    # Subtest: onSend hook should support encapsulation / 1
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 28 - onSend hook should support encapsulation / 1 # time=3.809ms
    
    # Subtest: onSend hook should support encapsulation / 2
        1..16
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 29 - onSend hook should support encapsulation / 2 # time=18.325ms
    
    # Subtest: onSend hook is called after payload is serialized and headers are set
        1..30
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should be equal
        ok 15 - should not error
        ok 16 - should be equal
        ok 17 - should be equivalent
        ok 18 - should be equal
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equivalent
        ok 22 - should be equal
        ok 23 - should not error
        ok 24 - should be equal
        ok 25 - should be equivalent
        ok 26 - should be equal
        ok 27 - should not error
        ok 28 - should be equal
        ok 29 - should be equivalent
        ok 30 - should be equal
    ok 30 - onSend hook is called after payload is serialized and headers are set # time=25.708ms
    
    # Subtest: modify payload
        1..10
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - expect truthy value
        ok 4 - should be equivalent
        ok 5 - expect truthy value
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
    ok 31 - modify payload # time=6.675ms
    
    # Subtest: clear payload
        1..6
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 32 - clear payload # time=4.778ms
    
    # Subtest: onSend hook throws
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 33 - onSend hook throws # time=30.816ms
    
    # Subtest: onSend hook should receive valid request and reply objects if onRequest hook fails
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 34 - onSend hook should receive valid request and reply objects if onRequest hook fails # time=11.564ms
    
    # Subtest: onSend hook should receive valid request and reply objects if a custom content type parser fails
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 35 - onSend hook should receive valid request and reply objects if a custom content type parser fails # time=6.222ms
    
    # Subtest: Content-Length header should be updated if onSend hook modifies the payload
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 36 - Content-Length header should be updated if onSend hook modifies the payload # time=4.739ms
    
    # Subtest: cannot add hook after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 37 - cannot add hook after binding # time=5.317ms
    
    # Subtest: onRequest hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 38 - onRequest hooks should be able to block a request # time=4.938ms
    
    # Subtest: preValidation hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 39 - preValidation hooks should be able to block a request # time=4.966ms
    
    # Subtest: preValidation hooks should be able to change request body before validation
        1..4
        ok 1 - (unnamed test)
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 40 - preValidation hooks should be able to change request body before validation # time=77.507ms
    
    # Subtest: preParsing hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 41 - preParsing hooks should be able to block a request # time=4.938ms
    
    # Subtest: preHandler hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 42 - preHandler hooks should be able to block a request # time=4.456ms
    
    # Subtest: onRequest hooks should be able to block a request (last hook)
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 43 - onRequest hooks should be able to block a request (last hook) # time=4.403ms
    
    # Subtest: preHandler hooks should be able to block a request (last hook)
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 44 - preHandler hooks should be able to block a request (last hook) # time=4.346ms
    
    # Subtest: preParsing hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 45 - preParsing hooks should handle errors # time=4.535ms
    
    # Subtest: onRequest respond with a stream
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 46 - onRequest respond with a stream # time=8.321ms
    
    # Subtest: preHandler respond with a stream
        1..7
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 47 - preHandler respond with a stream # time=25.472ms
    
    # Subtest: Register an hook after a plugin inside a plugin
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 48 - Register an hook after a plugin inside a plugin # time=8.1ms
    
    # Subtest: Register an hook after a plugin inside a plugin (with preHandler option)
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 49 - Register an hook after a plugin inside a plugin (with preHandler option) # time=9.266ms
    
    # Subtest: Register hooks inside a plugin after an encapsulated plugin
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 50 - Register hooks inside a plugin after an encapsulated plugin # time=7.381ms
    
    # Subtest: onRequest hooks should run in the order in which they are defined
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 51 - onRequest hooks should run in the order in which they are defined # time=8.36ms
    
    # Subtest: preHandler hooks should run in the order in which they are defined
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 52 - preHandler hooks should run in the order in which they are defined # time=9.186ms
    
    # Subtest: onSend hooks should run in the order in which they are defined
        1..8
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equivalent
    ok 53 - onSend hooks should run in the order in which they are defined # time=8.11ms
    
    # Subtest: onResponse hooks should run in the order in which they are defined
        1..8
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equivalent
    ok 54 - onResponse hooks should run in the order in which they are defined # time=8.108ms
    
    # Subtest: onRequest, preHandler, and onResponse hooks that resolve to a value do not cause an error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 55 - onRequest, preHandler, and onResponse hooks that resolve to a value do not cause an error # time=4.878ms
    
    # Subtest: If a response header has been set inside an hook it shoulod not be overwritten by the final response handler
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 56 - If a response header has been set inside an hook it shoulod not be overwritten by the final response handler # time=4.015ms
    
    # Subtest: If the content type has been set inside an hook it should not be changed
        1..5
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 57 - If the content type has been set inside an hook it should not be changed # time=3.965ms
    
    # Subtest: request in onRequest, preParsing, preValidation and onResponse
        1..18
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equivalent
        ok 10 - should be equivalent
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equivalent
        ok 14 - should be equivalent
        ok 15 - should be equivalent
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
    ok 58 - request in onRequest, preParsing, preValidation and onResponse # time=12.963ms
    
    # Subtest: preValidation hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 59 - preValidation hook should support encapsulation / 1 # time=6.155ms
    
    # Subtest: preValidation hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 60 - preValidation hook should support encapsulation / 2 # time=7.233ms
    
    # Subtest: preValidation hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 61 - preValidation hook should support encapsulation / 3 # time=20.365ms
    
    # Subtest: onError hook
        1..3
        ok 1 - should match pattern provided
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 62 - onError hook # time=18.102ms
    
    # Subtest: reply.send should throw if called inside the onError hook
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 63 - reply.send should throw if called inside the onError hook # time=6.295ms
    
    # Subtest: onError hook with setErrorHandler
        # Subtest: Send error
            1..3
            ok 1 - should match pattern provided
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 1 - Send error # time=6.832ms
        
        1..1
    ok 64 - onError hook with setErrorHandler # time=12.21ms
    
    # Subtest: preParsing hook should run before parsing and be able to modify the payload
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 65 - preParsing hook should run before parsing and be able to modify the payload # time=43.646ms
    
    # Subtest: preParsing hooks should run in the order in which they are defined
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 66 - preParsing hooks should run in the order in which they are defined # time=46.461ms
    
    # Subtest: preParsing hooks should support encapsulation
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 67 - preParsing hooks should support encapsulation # time=73.356ms
    
    # Subtest: preParsing hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 68 - preParsing hook should support encapsulation / 1 # time=7.985ms
    
    # Subtest: preParsing hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 69 - preParsing hook should support encapsulation / 2 # time=4.681ms
    
    # Subtest: preParsing hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 70 - preParsing hook should support encapsulation / 3 # time=15.378ms
    
    # Subtest: preSerialization hook should run before serialization and be able to modify the payload
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 71 - preSerialization hook should run before serialization and be able to modify the payload # time=22.043ms
    
    # Subtest: preSerialization hook should be able to throw errors which are validated against schema response
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        1..6
    ok 72 - preSerialization hook should be able to throw errors which are validated against schema response # time=10.471ms
    
    # Subtest: preSerialization hook which returned error should still run onError hooks
        1..4
        ok 1 - should not error
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - should be equal
    ok 73 - preSerialization hook which returned error should still run onError hooks # time=6.829ms
    
    # Subtest: preSerialization hooks should run in the order in which they are defined
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 74 - preSerialization hooks should run in the order in which they are defined # time=13.512ms
    
    # Subtest: preSerialization hooks should support encapsulation
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 75 - preSerialization hooks should support encapsulation # time=12.01ms
    
    # Subtest: onRegister hook should be called / 1
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should not error
    ok 76 - onRegister hook should be called / 1 # time=4.606ms
    
    # Subtest: onRegister hook should be called / 2
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
    ok 77 - onRegister hook should be called / 2 # time=5.5ms
    
    # Subtest: onRegister hook should be called / 3
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
    ok 78 - onRegister hook should be called / 3 # time=6.164ms
    
    # Subtest: onRegister hook should be called (encapsulation)
        1..1
        ok 1 - should not error
    ok 79 - onRegister hook should be called (encapsulation) # time=2.786ms
    
    # Subtest: early termination, onRequest
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 80 - early termination, onRequest # time=5.072ms
    
    # Subtest: reply.send should throw if undefined error is thrown
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 81 - reply.send should throw if undefined error is thrown # time=18.676ms
    
    # Subtest: reply.send should throw if undefined error is thrown at preParsing hook
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 82 - reply.send should throw if undefined error is thrown at preParsing hook # time=8.559ms
    
    # Subtest: reply.send should throw if undefined error is thrown at onSend hook
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 83 - reply.send should throw if undefined error is thrown at onSend hook # time=5.272ms
    
    # Subtest: onTimeout should be triggered
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - onTimeout
        ok 5 - type is Error
        ok 6 - should be equal
    ok 84 - onTimeout should be triggered # time=508.467ms
    
    # Subtest: onTimeout should be triggered and socket _meta is set
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - onTimeout
        ok 5 - type is Error
        ok 6 - should be equal
    ok 85 - onTimeout should be triggered and socket _meta is set # time=509.141ms
    
    1..85
    # time=2360.689ms
ok 36 - test/hooks.test.js # time=2360.689ms

# Subtest: test/http2/closing.test.js
    # Subtest: http/2 request while fastify closing
        ok 1 - http2 successfully loaded
        ok 2 - should not error
        # Subtest: return 200
            ok 1 - should be equal
            1..1
        ok 3 - return 200 # time=12.21ms
        
        1..3
    ok 1 - http/2 request while fastify closing # time=64.491ms
    
    # Subtest: http/2 request while fastify closing - return503OnClosing: false
        ok 1 - http2 successfully loaded
        ok 2 - should not error
        # Subtest: return 200
            ok 1 - should be equal
            1..1
        ok 3 - return 200 # time=5.005ms
        
        1..3
    ok 2 - http/2 request while fastify closing - return503OnClosing: false # time=13.76ms
    
    # Subtest: http/2 closes successfully with async await
        1..0
    ok 3 - http/2 closes successfully with async await # time=112.597ms
    
    # Subtest: https/2 closes successfully with async await
        1..0
    ok 4 - https/2 closes successfully with async await # time=13.317ms
    
    # Subtest: http/2 server side session emits a timeout event
        ok 1 - should be equal
        1..1
    ok 5 - http/2 server side session emits a timeout event # time=108.289ms
    
    1..5
    # time=340.741ms
ok 37 - test/http2/closing.test.js # time=340.741ms

# Subtest: test/http2/constraint.test.js
    # Subtest: A route supports host constraints under http2 protocol and secure connection
        1..5
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request - no constrain
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - https get request - no constrain # time=41.815ms
        
        # Subtest: https get request - constrain
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - https get request - constrain # time=14.579ms
        
        # Subtest: https get request - constrain - not found
            1..1
            ok 1 - should be equal
        ok 5 - https get request - constrain - not found # time=10.498ms
        
    ok 1 - A route supports host constraints under http2 protocol and secure connection # time=159.453ms
    
    1..1
    # time=189.405ms
ok 38 - test/http2/constraint.test.js # time=189.405ms

# Subtest: test/http2/head.test.js
    ok 1 - http2 successfully loaded
    ok 2 - should not error
    # Subtest: http HEAD request
        1..1
        ok 1 - should be equal
    ok 3 - http HEAD request # time=65.618ms
    
    1..3
    # time=149.693ms
ok 39 - test/http2/head.test.js # time=149.693ms

# Subtest: test/http2/missing-http2-module.test.js
    # Subtest: should throw when http2 module cannot be found
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - should throw when http2 module cannot be found # time=12.395ms
    
    1..1
    # time=20.318ms
ok 40 - test/http2/missing-http2-module.test.js # time=20.318ms

# Subtest: test/http2/plain.test.js
    ok 1 - http2 successfully loaded
    ok 2 - should not error
    # Subtest: http get request
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 3 - http get request # time=35.315ms
    
    # Subtest: http hostname
        1..1
        ok 1 - should be equal
    ok 4 - http hostname # time=10.312ms
    
    1..4
    # time=130.255ms
ok 41 - test/http2/plain.test.js # time=130.255ms

# Subtest: test/http2/secure-with-fallback.test.js
    # Subtest: secure with fallback
        1..7
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get error
            1..1
            ok 1 - should be equal
        ok 3 - https get error # time=49.792ms
        
        # Subtest: https post
            1..2
            ok 1 - should be equal
            ok 2 - should be equivalent
        ok 4 - https post # time=22.053ms
        
        # Subtest: https get request
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - https get request # time=41.62ms
        
        # Subtest: http1 get request
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 6 - http1 get request # time=44.027ms
        
        # Subtest: http1 get error
            1..2
            ok 1 - should not error
            ok 2 - should be equal
        ok 7 - http1 get error # time=14.903ms
        
    ok 1 - secure with fallback # time=264.554ms
    
    1..1
    # time=297.775ms
ok 42 - test/http2/secure-with-fallback.test.js # time=297.775ms

# Subtest: test/http2/secure.test.js
    # Subtest: secure
        1..4
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - https get request # time=61.257ms
        
        # Subtest: https get request without trust proxy - protocol
            1..2
            ok 1 - should be equivalent
            ok 2 - should be equivalent
        ok 4 - https get request without trust proxy - protocol # time=24.577ms
        
    ok 1 - secure # time=181.818ms
    
    1..1
    # time=212.323ms
ok 43 - test/http2/secure.test.js # time=212.323ms

# Subtest: test/http2/unknown-http-method.test.js
    ok 1 - should not error
    # Subtest: http UNKNOWN_METHOD request
        1..2
        ok 1 - should be equal
        ok 2 - should be equivalent
    ok 2 - http UNKNOWN_METHOD request # time=35.849ms
    
    1..2
    # time=99.345ms
ok 44 - test/http2/unknown-http-method.test.js # time=99.345ms

# Subtest: test/https/custom-https-server.test.js
    # Subtest: Should support a custom https server
        1..4
        ok 1 - it is called twice for every HOST interface
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - Should support a custom https server # time=86.061ms
    
    1..1
    # time=119.195ms
ok 45 - test/https/custom-https-server.test.js # time=119.195ms

# Subtest: test/https/https.test.js
    # Subtest: https
        1..4
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 3 - https get request # time=43.471ms
        
        # Subtest: https get request without trust proxy - protocol
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 4 - https get request without trust proxy - protocol # time=17.316ms
        
    ok 1 - https # time=148.796ms
    
    1..1
    # time=180.404ms
ok 46 - test/https/https.test.js # time=180.404ms

# Subtest: test/imports.test.js
    # Subtest: should import as default
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 1 - should import as default # time=776.3ms
    
    # Subtest: should import as esm
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 2 - should import as esm # time=1.544ms
    
    1..2
    # time=787.577ms
ok 47 - test/imports.test.js # time=787.577ms

# Subtest: test/inject.test.js
    # Subtest: inject should exist
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 1 - inject should exist # time=17.013ms
    
    # Subtest: should wait for the ready event
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 2 - should wait for the ready event # time=605.687ms
    
    # Subtest: inject get request
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 3 - inject get request # time=8.635ms
    
    # Subtest: inject get request - code check
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 4 - inject get request - code check # time=10.442ms
    
    # Subtest: inject get request - headers check
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 5 - inject get request - headers check # time=6.815ms
    
    # Subtest: inject get request - querystring
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 6 - inject get request - querystring # time=6.554ms
    
    # Subtest: inject get request - params
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 7 - inject get request - params # time=8.435ms
    
    # Subtest: inject get request - wildcard
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - inject get request - wildcard # time=6.628ms
    
    # Subtest: inject get request - headers
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 9 - inject get request - headers # time=10.141ms
    
    # Subtest: inject post request
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 10 - inject post request # time=11.577ms
    
    # Subtest: inject post request - send stream
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 11 - inject post request - send stream # time=9.538ms
    
    # Subtest: inject get request - reply stream
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 12 - inject get request - reply stream # time=8.944ms
    
    # Subtest: inject promisify - waiting for ready event
        1..1
        ok 1 - should be equal
    ok 13 - inject promisify - waiting for ready event # time=7.051ms
    
    # Subtest: inject promisify - after the ready event
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 14 - inject promisify - after the ready event # time=14.89ms
    
    # Subtest: inject promisify - when the server is up
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 15 - inject promisify - when the server is up # time=15.377ms
    
    # Subtest: should reject in error case
        1..1
        ok 1 - should be equal
    ok 16 - should reject in error case # time=505.103ms
    
    # Subtest: inject a multipart request using form-body
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 17 - inject a multipart request using form-body # time=14.011ms
    
    # Subtest: should error the promise if ready errors
        1..3
        ok 1 - after is called
        ok 2 - expect truthy value
        ok 3 - should be equal
    ok 18 - should error the promise if ready errors # time=28.603ms
    
    # Subtest: should throw error if callback specified and if ready errors
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 19 - should throw error if callback specified and if ready errors # time=13.817ms
    
    # Subtest: should support builder-style injection with ready app
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
    ok 20 - should support builder-style injection with ready app # time=12.505ms
    
    # Subtest: should support builder-style injection with non-ready app
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
    ok 21 - should support builder-style injection with non-ready app # time=6.815ms
    
    # Subtest: should handle errors in builder-style injection correctly
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 22 - should handle errors in builder-style injection correctly # time=4.629ms
    
    1..22
    # time=1353.725ms
ok 48 - test/inject.test.js # time=1353.725ms

# Subtest: test/internals/all.test.js
    # Subtest: fastify.all should add all the methods to the same url
        1..14
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equivalent
    ok 1 - fastify.all should add all the methods to the same url # time=96.991ms
    
    1..1
    # time=104.721ms
ok 49 - test/internals/all.test.js # time=104.721ms

# Subtest: test/internals/contentTypeParser.test.js
    # Subtest: rawBody function
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - rawBody function # time=17.534ms
    
    # Subtest: Should support Webpack and faux modules
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - Should support Webpack and faux modules # time=9.792ms
    
    1..2
    # time=34.735ms
ok 50 - test/internals/contentTypeParser.test.js # time=34.735ms

# Subtest: test/internals/decorator.test.js
    # Subtest: decorate should add the given method to its instance
        1..1
        ok 1 - expect truthy value
    ok 1 - decorate should add the given method to its instance # time=5.846ms
    
    # Subtest: decorate is chainable
        1..3
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
    ok 2 - decorate is chainable # time=1.882ms
    
    # Subtest: checkExistence should check if a property is part of the given instance
        1..1
        ok 1 - expect truthy value
    ok 3 - checkExistence should check if a property is part of the given instance # time=1.886ms
    
    # Subtest: checkExistence should find the instance if not given
        1..1
        ok 1 - expect truthy value
    ok 4 - checkExistence should find the instance if not given # time=1.437ms
    
    # Subtest: checkExistence should check the prototype as well
        1..1
        ok 1 - expect truthy value
    ok 5 - checkExistence should check the prototype as well # time=1.252ms
    
    # Subtest: checkDependencies should throw if a dependency is not present
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 6 - checkDependencies should throw if a dependency is not present # time=2.061ms
    
    # Subtest: decorate should internally call checkDependencies
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 7 - decorate should internally call checkDependencies # time=1.404ms
    
    # Subtest: decorate should recognize getter/setter objects
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - (unnamed test)
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 8 - decorate should recognize getter/setter objects # time=5.229ms
    
    1..8
    # time=71.09ms
ok 51 - test/internals/decorator.test.js # time=71.09ms

# Subtest: test/internals/handleRequest.test.js
    # Subtest: handleRequest function - sent reply
        1..1
        ok 1 - should be equal
    ok 1 - handleRequest function - sent reply # time=6.439ms
    
    # Subtest: handleRequest function - invoke with error
        1..1
        ok 1 - should be equal
    ok 2 - handleRequest function - invoke with error # time=1.802ms
    
    # Subtest: handler function - invalid schema
        1..1
        ok 1 - errorHandler called
    ok 3 - handler function - invalid schema # time=94.997ms
    
    # Subtest: handler function - reply
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - (unnamed test)
    ok 4 - handler function - reply # time=11.646ms
    
    # Subtest: handler function - preValidationCallback with finished response
        1..0
    ok 5 - handler function - preValidationCallback with finished response # time=1.157ms
    
    # Subtest: request should be defined in onSend Hook on post request with content type application/json
        1..8
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - should not error
        ok 8 - should be equal
    ok 6 - request should be defined in onSend Hook on post request with content type application/json # time=334.799ms
    
    # Subtest: request should be defined in onSend Hook on post request with content type application/x-www-form-urlencoded
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - should be equal
    ok 7 - request should be defined in onSend Hook on post request with content type application/x-www-form-urlencoded # time=12.116ms
    
    # Subtest: request should be defined in onSend Hook on options request with content type application/x-www-form-urlencoded
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - should be equal
    ok 8 - request should be defined in onSend Hook on options request with content type application/x-www-form-urlencoded # time=27.304ms
    
    # Subtest: request should respond with an error if an unserialized payload is sent inside an async handler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
    ok 9 - request should respond with an error if an unserialized payload is sent inside an async handler # time=37.177ms
    
    1..9
    # time=555.518ms
ok 52 - test/internals/handleRequest.test.js # time=555.518ms

# Subtest: test/internals/hookRunner.test.js
    # Subtest: hookRunner - Basic
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 1 - hookRunner - Basic # time=10.825ms
    
    # Subtest: hookRunner - In case of error should skip to done
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 2 - hookRunner - In case of error should skip to done # time=3.784ms
    
    # Subtest: hookRunner - Should handle throw
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 3 - hookRunner - Should handle throw # time=3.11ms
    
    # Subtest: hookRunner - Should handle promises
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 4 - hookRunner - Should handle promises # time=30.107ms
    
    # Subtest: hookRunner - In case of error should skip to done (with promises)
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 5 - hookRunner - In case of error should skip to done (with promises) # time=3.385ms
    
    # Subtest: hookRunner - Be able to exit before its natural end
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 6 - hookRunner - Be able to exit before its natural end # time=1.886ms
    
    # Subtest: hookRunner - Promises that resolve to a value do not change the state
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 7 - hookRunner - Promises that resolve to a value do not change the state # time=2.295ms
    
    # Subtest: onSendHookRunner - Basic
        1..13
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equal
        ok 10 - should not error
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equal
    ok 8 - onSendHookRunner - Basic # time=10.07ms
    
    # Subtest: onSendHookRunner - Can change the payload
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 9 - onSendHookRunner - Can change the payload # time=4.758ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 10 - onSendHookRunner - In case of error should skip to done # time=3.496ms
    
    # Subtest: onSendHookRunner - Should handle promises
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 11 - onSendHookRunner - Should handle promises # time=3.893ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done (with promises)
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 12 - onSendHookRunner - In case of error should skip to done (with promises) # time=3.7ms
    
    # Subtest: onSendHookRunner - Be able to exit before its natural end
        1..2
        ok 1 - should be equivalent
        ok 2 - should be equivalent
    ok 13 - onSendHookRunner - Be able to exit before its natural end # time=1.54ms
    
    1..13
    # time=138.364ms
ok 53 - test/internals/hookRunner.test.js # time=138.364ms

# Subtest: test/internals/hooks.test.js
    # Subtest: hooks should have 4 array with the registered hooks
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        1..8
    ok 1 - hooks should have 4 array with the registered hooks # time=8.068ms
    
    # Subtest: hooks.add should add a hook to the given hook
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        1..14
    ok 2 - hooks.add should add a hook to the given hook # time=4.217ms
    
    # Subtest: hooks should throw on unexisting handler
        1..1
        ok 1 - (unnamed test)
    ok 3 - hooks should throw on unexisting handler # time=1.018ms
    
    # Subtest: should throw on wrong parameters
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 4 - should throw on wrong parameters # time=1.573ms
    
    1..4
    # time=56.45ms
ok 54 - test/internals/hooks.test.js # time=56.45ms

# Subtest: test/internals/initialConfig.test.js
    # Subtest: Fastify.initialConfig is an object
        1..1
        ok 1 - type is object
    ok 1 - Fastify.initialConfig is an object # time=15.835ms
    
    # Subtest: without options passed to Fastify, initialConfig should expose default values
        1..1
        ok 1 - should be equivalent
    ok 2 - without options passed to Fastify, initialConfig should expose default values # time=8.62ms
    
    # Subtest: Fastify.initialConfig should expose all options
        1..20
        ok 1 - should be equal
        ok 2 - for security reason the key cert is hidden
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - expect truthy value
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equal
    ok 3 - Fastify.initialConfig should expose all options # time=12.791ms
    
    # Subtest: Should throw if you try to modify Fastify.initialConfig
        1..4
        ok 1 - type is TypeError
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - (unnamed test)
    ok 4 - Should throw if you try to modify Fastify.initialConfig # time=3.956ms
    
    # Subtest: We must avoid shallow freezing and ensure that the whole object is freezed
        1..4
        ok 1 - type is TypeError
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - key cert removed
    ok 5 - We must avoid shallow freezing and ensure that the whole object is freezed # time=16.687ms
    
    # Subtest: https value check
        1..1
        ok 1 - expect falsey value
    ok 6 - https value check # time=1.787ms
    
    # Subtest: Return an error if options do not match the validation schema
        1..6
        ok 1 - type is Error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
        ok 6 - (unnamed test)
    ok 7 - Return an error if options do not match the validation schema # time=56.293ms
    
    # Subtest: Original options must not be frozen
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - Original options must not be frozen # time=2.802ms
    
    # Subtest: Original options must not be altered (test deep cloning)
        1..3
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 9 - Original options must not be altered (test deep cloning) # time=5.007ms
    
    # Subtest: Should not have issues when passing stream options to Pino.js
        1..15
        ok 1 - type is object
        ok 2 - should be equivalent
        ok 3 - listen at log message is ok
        ok 4 - should not error
        ok 5 - reqId is defined
        ok 6 - req is defined
        ok 7 - message is set
        ok 8 - method is get
        ok 9 - expect truthy value
        ok 10 - should be equal
        ok 11 - reqId is defined
        ok 12 - res is defined
        ok 13 - message is set
        ok 14 - statusCode is 200
        ok 15 - responseTime is defined
    ok 10 - Should not have issues when passing stream options to Pino.js # time=49.813ms
    
    # Subtest: deepFreezeObject() should not throw on TypedArray
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - (unnamed test)
    ok 11 - deepFreezeObject() should not throw on TypedArray # time=1.338ms
    
    # Subtest: Fastify.initialConfig should accept the deprecated versioning option
        1..1
        ok 1 - should be equal
    ok 12 - Fastify.initialConfig should accept the deprecated versioning option # time=4.703ms
    
    # Subtest: pluginTimeout should be parsed correctly
        ok 1 - should be equal
        ok 2 - should be equal
        1..2
    ok 13 - pluginTimeout should be parsed correctly # time=2.817ms
    
    1..13
    # time=254.635ms
ok 55 - test/internals/initialConfig.test.js # time=254.635ms

# Subtest: test/internals/logger.test.js
    # Subtest: time resolution
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - time resolution # time=6.736ms
    
    # Subtest: The logger should add a unique id for every request
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - the id should not be duplicated
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - the id should not be duplicated
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - the id should not be duplicated
        ok 11 - expect truthy value
        ok 12 - should not error
        ok 13 - the id should not be duplicated
        ok 14 - expect truthy value
        ok 15 - should not error
        ok 16 - the id should not be duplicated
        ok 17 - expect truthy value
        ok 18 - should not error
        ok 19 - the id should not be duplicated
        ok 20 - expect truthy value
        ok 21 - should not error
        ok 22 - the id should not be duplicated
        ok 23 - expect truthy value
        ok 24 - should not error
        ok 25 - the id should not be duplicated
        ok 26 - expect truthy value
        ok 27 - should not error
        ok 28 - the id should not be duplicated
        ok 29 - expect truthy value
        ok 30 - should not error
        ok 31 - the id should not be duplicated
        1..31
    ok 2 - The logger should add a unique id for every request # time=91.899ms
    
    # Subtest: The logger should reuse request id header for req.id
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - the request id from the header should be returned
        1..4
    ok 3 - The logger should reuse request id header for req.id # time=9.494ms
    
    # Subtest: The logger should error if both stream and file destination are given
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - The logger should error if both stream and file destination are given # time=2.007ms
    
    # Subtest: The serializer prevent fails if the request socket is undefined
        1..1
        ok 1 - should be equivalent
    ok 5 - The serializer prevent fails if the request socket is undefined # time=5.166ms
    
    1..5
    # time=130.653ms
ok 56 - test/internals/logger.test.js # time=130.653ms

# Subtest: test/internals/plugin.test.js
    # Subtest: shouldSkipOverride should check the 'skip-override' symbol
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 1 - shouldSkipOverride should check the 'skip-override' symbol # time=6.857ms
    
    # Subtest: getPluginName should return plugin name if the file is cached
        1..1
        ok 1 - should be equal
    ok 2 - getPluginName should return plugin name if the file is cached # time=2.187ms
    
    # Subtest: getMeta should return the object stored with the 'plugin-meta' symbol
        1..1
        ok 1 - should be equivalent
    ok 3 - getMeta should return the object stored with the 'plugin-meta' symbol # time=5.106ms
    
    # Subtest: checkDecorators should check if the given decorator is present in the instance
        1..1
        ok 1 - Everything ok
    ok 4 - checkDecorators should check if the given decorator is present in the instance # time=1.941ms
    
    # Subtest: checkDecorators should check if the given decorator is present in the instance (errored)
        1..1
        ok 1 - should be equal
    ok 5 - checkDecorators should check if the given decorator is present in the instance (errored) # time=1.524ms
    
    # Subtest: checkDecorators should accept optional decorators
        1..1
        ok 1 - Everything ok
    ok 6 - checkDecorators should accept optional decorators # time=1.026ms
    
    # Subtest: checkDependencies should check if the given dependency is present in the instance
        1..1
        ok 1 - Everything ok
    ok 7 - checkDependencies should check if the given dependency is present in the instance # time=1.251ms
    
    # Subtest: checkDependencies should check if the given dependency is present in the instance (errored)
        1..1
        ok 1 - should be equal
    ok 8 - checkDependencies should check if the given dependency is present in the instance (errored) # time=24.64ms
    
    1..8
    # time=104.439ms
ok 57 - test/internals/plugin.test.js # time=104.439ms

# Subtest: test/internals/reply-serialize.test.js
    # Subtest: Reply\#compileSerializationSchema
        1..4
        # Subtest: Should return a serialization function
            1..4
            ok 1 - type is Function
            ok 2 - type is string
            ok 3 - should be equal
            ok 4 - should be equal
        ok 1 - Should return a serialization function # time=76.577ms
        
        # Subtest: Should reuse the serialize fn across multiple invocations - Route without schema
            1..17
            ok 1 - build the schema compilation function
            ok 2 - type is Function
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - Are the same validate function
            ok 6 - type is Function
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - Are the same validate function
            ok 10 - type is Function
            ok 11 - should be equal
            ok 12 - should be equal
            ok 13 - Are the same validate function
            ok 14 - type is Function
            ok 15 - should be equal
            ok 16 - should be equal
            ok 17 - should be equal
        ok 2 - Should reuse the serialize fn across multiple invocations - Route without schema # time=15.276ms
        
        # Subtest: Should use the custom serializer compiler for the route
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equivalent
            ok 7 - {"hello":"world"}
            ok 8 - should be equivalent
            ok 9 - {"hello":"world"}
            ok 10 - should be equal
        ok 3 - Should use the custom serializer compiler for the route # time=38.482ms
        
        # Subtest: Should build a WeakMap for cache when called
            1..4
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
            ok 4 - should be equal
        ok 4 - Should build a WeakMap for cache when called # time=9.051ms
        
    ok 1 - Reply\#compileSerializationSchema # time=156.135ms
    
    # Subtest: Reply\#getSerializationFunction
        1..3
        # Subtest: Should retrieve the serialization function from the Schema definition
            1..9
            ok 1 - type is Function
            ok 2 - type is Function
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - expect falsey value
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
        ok 1 - Should retrieve the serialization function from the Schema definition # time=22.63ms
        
        # Subtest: Should retrieve the serialization function from the cached one
            1..6
            ok 1 - type is Function
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
        ok 2 - Should retrieve the serialization function from the cached one # time=8.775ms
        
        # Subtest: Should not instantiate a WeakMap if it is not needed
            1..4
            ok 1 - expect falsey value
            ok 2 - should be equal
            ok 3 - expect falsey value
            ok 4 - should be equal
        ok 3 - Should not instantiate a WeakMap if it is not needed # time=8.941ms
        
    ok 2 - Reply\#getSerializationFunction # time=50.064ms
    
    # Subtest: Reply\#serializeInput
        1..5
        # Subtest: Should throw if missed serialization function from HTTP status
            1..2
            ok 1 - should be equal
            ok 2 - should be equivalent
        ok 1 - Should throw if missed serialization function from HTTP status # time=35.041ms
        
        # Subtest: Should use a serializer fn from HTTP status
            1..4
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
        ok 2 - Should use a serializer fn from HTTP status # time=15.115ms
        
        # Subtest: Should compile a serializer out of a schema if serializer fn missed
            1..10
            ok 1 - should be equal
            ok 2 - expect falsey value
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 3 - Should compile a serializer out of a schema if serializer fn missed # time=7.831ms
        
        # Subtest: Should use a cached serializer fn
            1..12
            ok 1 - should be equal
            ok 2 - expect falsey value
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
            ok 11 - should be equal
            ok 12 - should be equal
        ok 4 - Should use a cached serializer fn # time=11.061ms
        
        # Subtest: Should instantiate a WeakMap after first call
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
        ok 5 - Should instantiate a WeakMap after first call # time=5.893ms
        
    ok 3 - Reply\#serializeInput # time=82.906ms
    
    1..3
    # time=309.377ms
ok 58 - test/internals/reply-serialize.test.js # time=309.377ms

# Subtest: test/internals/reply.test.js
    # Subtest: Once called, Reply should return an object with methods
        1..13
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should be equal
        ok 13 - should be equal
    ok 1 - Once called, Reply should return an object with methods # time=15.024ms
    
    # Subtest: reply.send will logStream error and destroy the stream
        1..1
        ok 1 - Error not logged and not streamed
    ok 2 - reply.send will logStream error and destroy the stream # time=28.258ms
    
    # Subtest: reply.send throw with circular JSON
        1..1
        ok 1 - Converting circular structure to JSON
    ok 3 - reply.send throw with circular JSON # time=2.311ms
    
    # Subtest: reply.send returns itself
        1..1
        ok 1 - should be equal
    ok 4 - reply.send returns itself # time=1.884ms
    
    # Subtest: reply.serializer should set a custom serializer
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 5 - reply.serializer should set a custom serializer # time=1.956ms
    
    # Subtest: reply.serializer should support running preSerialization hooks
        1..3
        ok 1 - preSerialization
        ok 2 - should not error
        ok 3 - should be equal
    ok 6 - reply.serializer should support running preSerialization hooks # time=770.728ms
    
    # Subtest: reply.serialize should serialize payload
        1..1
        ok 1 - should be equal
    ok 7 - reply.serialize should serialize payload # time=1.618ms
    
    # Subtest: reply.serialize should serialize payload with a custom serializer
        1..2
        ok 1 - should be equal
        ok 2 - custom serializer not called
    ok 8 - reply.serialize should serialize payload with a custom serializer # time=2.617ms
    
    # Subtest: reply.serialize should serialize payload with a context default serializer
        1..2
        ok 1 - should be equal
        ok 2 - custom serializer not called
    ok 9 - reply.serialize should serialize payload with a context default serializer # time=2.766ms
    
    # Subtest: reply.serialize should serialize payload with Fastify instance
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - reply.serialize should serialize payload with Fastify instance # time=26.621ms
    
    # Subtest: within an instance
        ok 1 - should not error
        # Subtest: custom serializer should be used
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - custom serializer should be used # time=33.864ms
        
        # Subtest: status code and content-type should be correct
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 3 - status code and content-type should be correct # time=6.068ms
        
        # Subtest: auto status code shoud be 200
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - auto status code shoud be 200 # time=5.119ms
        
        # Subtest: auto type shoud be text/plain
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - auto type shoud be text/plain # time=4.328ms
        
        # Subtest: redirect to `/` - 1
            1..1
            ok 1 - should be equal
        ok 6 - redirect to `/` - 1 # time=3.966ms
        
        # Subtest: redirect to `/` - 2
            1..1
            ok 1 - should be equal
        ok 7 - redirect to `/` - 2 # time=13.065ms
        
        # Subtest: redirect to `/` - 3
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 8 - redirect to `/` - 3 # time=7.217ms
        
        # Subtest: redirect to `/` - 4
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 9 - redirect to `/` - 4 # time=8.665ms
        
        # Subtest: redirect to `/` - 5
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
        ok 10 - redirect to `/` - 5 # time=3.589ms
        
        # Subtest: redirect to `/` - 6
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 11 - redirect to `/` - 6 # time=6.284ms
        
        # Subtest: redirect to `/` - 7
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 12 - redirect to `/` - 7 # time=6.797ms
        
        # Subtest: redirect to `/` - 8
            1..1
            ok 1 - should be equal
        ok 13 - redirect to `/` - 8 # time=2.873ms
        
        # Subtest: redirect to `/` - 9
            1..1
            ok 1 - should be equal
        ok 14 - redirect to `/` - 9 # time=3.067ms
        
        # Subtest: redirect with async function to `/` - 10
            1..1
            ok 1 - should be equal
        ok 15 - redirect with async function to `/` - 10 # time=3.076ms
        
        1..15
    ok 11 - within an instance # time=173.941ms
    
    # Subtest: buffer without content type should send a application/octet-stream and raw buffer
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 12 - buffer without content type should send a application/octet-stream and raw buffer # time=26.755ms
    
    # Subtest: buffer with content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 13 - buffer with content type should not send application/octet-stream # time=17.915ms
    
    # Subtest: stream with content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 14 - stream with content type should not send application/octet-stream # time=18.837ms
    
    # Subtest: stream without content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 15 - stream without content type should not send application/octet-stream # time=81.161ms
    
    # Subtest: stream using reply.raw.writeHead should return customize headers
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 16 - stream using reply.raw.writeHead should return customize headers # time=59.143ms
    
    # Subtest: plain string without content type should send a text/plain
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 17 - plain string without content type should send a text/plain # time=7.963ms
    
    # Subtest: plain string with content type should be sent unmodified
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - plain string with content type should be sent unmodified # time=20.467ms
    
    # Subtest: plain string with content type and custom serializer should be serialized
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 19 - plain string with content type and custom serializer should be serialized # time=18.002ms
    
    # Subtest: plain string with content type application/json should NOT be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 20 - plain string with content type application/json should NOT be serialized as json # time=8.674ms
    
    # Subtest: plain string with custom json content type should NOT be serialized as json
        1..19
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equivalent
    ok 21 - plain string with custom json content type should NOT be serialized as json # time=21.895ms
    
    # Subtest: non-string with content type application/json SHOULD be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 22 - non-string with content type application/json SHOULD be serialized as json # time=35.671ms
    
    # Subtest: non-string with custom json's content-type SHOULD be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 23 - non-string with custom json's content-type SHOULD be serialized as json # time=13.921ms
    
    # Subtest: non-string with custom json content type SHOULD be serialized as json
        1..16
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 24 - non-string with custom json content type SHOULD be serialized as json # time=16.603ms
    
    # Subtest: error object with a content type that is not application/json should work
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 25 - error object with a content type that is not application/json should work # time=7.957ms
    
    # Subtest: undefined payload should be sent as-is
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 26 - undefined payload should be sent as-is # time=10.43ms
    
    # Subtest: for HEAD method, no body should be sent but content-length should be
        1..11
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
    ok 27 - for HEAD method, no body should be sent but content-length should be # time=10.701ms
    
    # Subtest: reply.send(new NotFound()) should not invoke the 404 handler
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 28 - reply.send(new NotFound()) should not invoke the 404 handler # time=14.792ms
    
    # Subtest: reply can set multiple instances of same header
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - expect truthy value
        ok 4 - should be equivalent strictly
    ok 29 - reply can set multiple instances of same header # time=8.851ms
    
    # Subtest: reply.hasHeader returns correct values
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 30 - reply.hasHeader returns correct values # time=5.513ms
    
    # Subtest: reply.getHeader returns correct values
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
        ok 4 - should be equivalent strictly
    ok 31 - reply.getHeader returns correct values # time=7.794ms
    
    # Subtest: reply.getHeader returns raw header if there is not in the reply headers
        1..1
        ok 1 - should be equal
    ok 32 - reply.getHeader returns raw header if there is not in the reply headers # time=0.642ms
    
    # Subtest: reply.getHeaders returns correct values
        1..3
        ok 1 - should be equivalent strictly
        ok 2 - should be equivalent strictly
        ok 3 - should not error
    ok 33 - reply.getHeaders returns correct values # time=5.083ms
    
    # Subtest: reply.removeHeader can remove the value
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent strictly
        ok 5 - (unnamed test)
    ok 34 - reply.removeHeader can remove the value # time=6.944ms
    
    # Subtest: reply.header can reset the value
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent strictly
        ok 3 - (unnamed test)
    ok 35 - reply.header can reset the value # time=13.907ms
    
    # Subtest: reply.hasHeader computes raw and fastify headers
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - (unnamed test)
    ok 36 - reply.hasHeader computes raw and fastify headers # time=6.21ms
    
    # Subtest: Reply should handle JSON content type with a charset
        1..16
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should not error
        ok 16 - should be equal
    ok 37 - Reply should handle JSON content type with a charset # time=15.702ms
    
    # Subtest: Content type and charset set previously
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 38 - Content type and charset set previously # time=9.777ms
    
    # Subtest: .status() is an alias for .code()
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 39 - .status() is an alias for .code() # time=3.906ms
    
    # Subtest: .statusCode is getter and setter
        1..4
        ok 1 - 200
        ok 2 - 418
        ok 3 - should not error
        ok 4 - should be equal
    ok 40 - .statusCode is getter and setter # time=4.782ms
    
    # Subtest: reply.header setting multiple cookies as multiple Set-Cookie headers
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equivalent strictly
        ok 4 - should not error
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - should be equivalent strictly
    ok 41 - reply.header setting multiple cookies as multiple Set-Cookie headers # time=9.482ms
    
    # Subtest: should emit deprecation warning when trying to modify the reply.sent property
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 42 - should emit deprecation warning when trying to modify the reply.sent property # time=4.432ms
    
    # Subtest: should throw error when passing falsy value to reply.sent
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 43 - should throw error when passing falsy value to reply.sent # time=3.907ms
    
    # Subtest: should throw error when attempting to set reply.sent more than once
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 44 - should throw error when attempting to set reply.sent more than once # time=3.778ms
    
    # Subtest: should not throw error when attempting to set reply.sent if the underlining request was sent
        1..3
        ok 1 - expected to not throw
        ok 2 - should not error
        ok 3 - (unnamed test)
    ok 45 - should not throw error when attempting to set reply.sent if the underlining request was sent # time=4.229ms
    
    # Subtest: reply.getResponseTime() should return 0 before the timer is initialised on the reply by setting up response listeners
        1..1
        ok 1 - should be equal
    ok 46 - reply.getResponseTime() should return 0 before the timer is initialised on the reply by setting up response listeners # time=0.516ms
    
    # Subtest: reply.getResponseTime() should return a number greater than 0 after the timer is initialised on the reply by setting up response listeners
        1..1
        ok 1 - expect truthy value
    ok 47 - reply.getResponseTime() should return a number greater than 0 after the timer is initialised on the reply by setting up response listeners # time=4.282ms
    
    # Subtest: reply.getResponseTime() should return the time since a request started while inflight
        1..1
        ok 1 - should not be equal
    ok 48 - reply.getResponseTime() should return the time since a request started while inflight # time=3.561ms
    
    # Subtest: reply.getResponseTime() should return the same value after a request is finished
        1..1
        ok 1 - should be equal
    ok 49 - reply.getResponseTime() should return the same value after a request is finished # time=3.705ms
    
    # Subtest: reply should use the custom serializer
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 50 - reply should use the custom serializer # time=5.043ms
    
    # Subtest: reply should use the right serializer in encapsulated context
        1..9
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 51 - reply should use the right serializer in encapsulated context # time=9.584ms
    
    # Subtest: reply should use the right serializer in deep encapsulated context
        1..8
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 52 - reply should use the right serializer in deep encapsulated context # time=9.873ms
    
    # Subtest: reply should use the route serializer
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equal
    ok 53 - reply should use the route serializer # time=4.359ms
    
    # Subtest: cannot set the replySerializer when the server is running
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 54 - cannot set the replySerializer when the server is running # time=12.122ms
    
    # Subtest: reply should not call the custom serializer for errors and not found
        1..9
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 55 - reply should not call the custom serializer for errors and not found # time=8.138ms
    
    # Subtest: reply.then
        1..4
        # Subtest: without an error
            1..1
            ok 1 - fulfilled called
        ok 1 - without an error # time=10.833ms
        
        # Subtest: with an error
            1..1
            ok 1 - should be equal
        ok 2 - with an error # time=1.542ms
        
        # Subtest: with error but without reject callback
            1..1
            ok 1 - (unnamed test)
        ok 3 - with error but without reject callback # time=0.964ms
        
        # Subtest: with error, without reject callback, with logger
            1..1
            ok 1 - should be equal
        ok 4 - with error, without reject callback, with logger # time=1.486ms
        
    ok 56 - reply.then # time=21.976ms
    
    # Subtest: reply.sent should read from response.writableEnded if it is defined
        1..1
        ok 1 - should be equal
    ok 57 - reply.sent should read from response.writableEnded if it is defined # time=0.673ms
    
    # Subtest: redirect to an invalid URL should not crash the server
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        1..7
    ok 58 - redirect to an invalid URL should not crash the server # time=25.746ms
    
    # Subtest: invalid response headers should not crash the server
        ok 1 - only the first invalid header is logged
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 59 - invalid response headers should not crash the server # time=6.975ms
    
    # Subtest: invalid response headers when sending back an error
        ok 1 - only the first invalid header is logged
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 60 - invalid response headers when sending back an error # time=6.42ms
    
    # Subtest: invalid response headers and custom error handler
        ok 1 - custom error handler receives the error
        ok 2 - only the first invalid header is logged
        ok 3 - should be equal
        ok 4 - should be equivalent
        1..4
    ok 61 - invalid response headers and custom error handler # time=7.736ms
    
    1..61
    # time=1734.163ms
ok 59 - test/internals/reply.test.js # time=1734.163ms

# Subtest: test/internals/request-validate.test.js
    # Subtest: \#compileValidationSchema
        1..5
        # Subtest: Should return a function - Route without schema
            1..3
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
        ok 1 - Should return a function - Route without schema # time=152.271ms
        
        # Subtest: Should reuse the validate fn across multiple invocations - Route without schema
            1..16
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
            ok 4 - Are the same validate function
            ok 5 - type is Function
            ok 6 - expect truthy value
            ok 7 - expect falsey value
            ok 8 - Are the same validate function
            ok 9 - type is Function
            ok 10 - expect truthy value
            ok 11 - expect falsey value
            ok 12 - Are the same validate function
            ok 13 - type is Function
            ok 14 - expect truthy value
            ok 15 - expect falsey value
            ok 16 - should be equal
        ok 2 - Should reuse the validate fn across multiple invocations - Route without schema # time=54.896ms
        
        # Subtest: Should return a function - Route with schema
            1..3
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
        ok 3 - Should return a function - Route with schema # time=62.892ms
        
        # Subtest: Should use the custom validator compiler for the route
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equivalent
            ok 7 - expect truthy value
            ok 8 - should be equivalent
            ok 9 - expect truthy value
            ok 10 - should be equal
        ok 4 - Should use the custom validator compiler for the route # time=11.863ms
        
        # Subtest: Should instantiate a WeakMap when executed for first time
            1..5
            ok 1 - should be equal
            ok 2 - type is Function
            ok 3 - type is WeakMap
            ok 4 - type is Function
            ok 5 - type is WeakMap
        ok 5 - Should instantiate a WeakMap when executed for first time # time=33.658ms
        
    ok 1 - \#compileValidationSchema # time=335.018ms
    
    # Subtest: \#getValidationFunction
        1..4
        # Subtest: Should return a validation function
            1..1
            ok 1 - should be equal
        ok 1 - Should return a validation function # time=67.419ms
        
        # Subtest: Should return undefined if no schema compiled
            1..2
            ok 1 - expect falsey value
            ok 2 - expect falsey value
        ok 2 - Should return undefined if no schema compiled # time=9.6ms
        
        # Subtest: Should return the validation function from each HTTP part
            1..15
            ok 1 - expect truthy value
            ok 2 - expect truthy value
            ok 3 - expect falsey value
            ok 4 - expect truthy value
            ok 5 - expect truthy value
            ok 6 - expect falsey value
            ok 7 - expect truthy value
            ok 8 - expect truthy value
            ok 9 - expect truthy value
            ok 10 - expect truthy value
            ok 11 - expect falsey value
            ok 12 - should be equal
            ok 13 - expect truthy value
            ok 14 - expect falsey value
            ok 15 - should be equal
        ok 3 - Should return the validation function from each HTTP part # time=83.612ms
        
        # Subtest: Should not set a WeakMap if there is no schema
            1..1
            ok 1 - should be equal
        ok 4 - Should not set a WeakMap if there is no schema # time=9.446ms
        
    ok 2 - \#getValidationFunction # time=181.883ms
    
    # Subtest: \#validate
        1..7
        # Subtest: Should return true/false if input valid - Route without schema
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 1 - Should return true/false if input valid - Route without schema # time=64.903ms
        
        # Subtest: Should use the custom validator compiler for the route
            1..9
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equivalent
            ok 6 - should be equivalent
            ok 7 - expect truthy value
            ok 8 - expect truthy value
            ok 9 - should be equal
        ok 2 - Should use the custom validator compiler for the route # time=9.829ms
        
        # Subtest: Should return true/false if input valid - With Schema for Route defined
            1..8
            ok 1 - expect truthy value
            ok 2 - expect falsey value
            ok 3 - expect falsey value
            ok 4 - expect truthy value
            ok 5 - expect falsey value
            ok 6 - expect truthy value
            ok 7 - expect truthy value
            ok 8 - expect falsey value
        ok 3 - Should return true/false if input valid - With Schema for Route defined # time=102.802ms
        
        # Subtest: Should throw if missing validation fn for HTTP part and not schema provided
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 4 - Should throw if missing validation fn for HTTP part and not schema provided # time=12.692ms
        
        # Subtest: Should throw if missing validation fn for HTTP part and not valid schema provided
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 5 - Should throw if missing validation fn for HTTP part and not valid schema provided # time=15.935ms
        
        # Subtest: Should throw if invalid schema passed
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 6 - Should throw if invalid schema passed # time=11.662ms
        
        # Subtest: Should set a WeakMap if compiling the very first schema
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
        ok 7 - Should set a WeakMap if compiling the very first schema # time=38.344ms
        
    ok 3 - \#validate # time=267.445ms
    
    # Subtest: Nested Context
        1..1
        # Subtest: Level_1
            1..3
            # Subtest: \#compileValidationSchema
                1..4
                # Subtest: Should return a function - Route without schema
                    1..3
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                ok 1 - Should return a function - Route without schema # time=79.034ms
                
                # Subtest: Should reuse the validate fn across multiple invocations - Route without schema
                    1..16
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                    ok 4 - Are the same validate function
                    ok 5 - type is Function
                    ok 6 - expect truthy value
                    ok 7 - expect falsey value
                    ok 8 - Are the same validate function
                    ok 9 - type is Function
                    ok 10 - expect truthy value
                    ok 11 - expect falsey value
                    ok 12 - Are the same validate function
                    ok 13 - type is Function
                    ok 14 - expect truthy value
                    ok 15 - expect falsey value
                    ok 16 - should be equal
                ok 2 - Should reuse the validate fn across multiple invocations - Route without schema # time=48.868ms
                
                # Subtest: Should return a function - Route with schema
                    1..3
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                ok 3 - Should return a function - Route with schema # time=40.413ms
                
                # Subtest: Should use the custom validator compiler for the route
                    1..10
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - should be equal
                    ok 5 - should be equal
                    ok 6 - should be equivalent
                    ok 7 - expect truthy value
                    ok 8 - should be equivalent
                    ok 9 - expect truthy value
                    ok 10 - should be equal
                ok 4 - Should use the custom validator compiler for the route # time=9.087ms
                
            ok 1 - \#compileValidationSchema # time=190.373ms
            
            # Subtest: \#getValidationFunction
                1..6
                # Subtest: Should return a validation function
                    1..1
                    ok 1 - should be equal
                ok 1 - Should return a validation function # time=63.44ms
                
                # Subtest: Should return undefined if no schema compiled
                    1..1
                    ok 1 - expect falsey value
                ok 2 - Should return undefined if no schema compiled # time=10.518ms
                
                # Subtest: Should return the validation function from each HTTP part
                    1..15
                    ok 1 - expect truthy value
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                    ok 4 - expect truthy value
                    ok 5 - expect truthy value
                    ok 6 - expect falsey value
                    ok 7 - expect truthy value
                    ok 8 - expect truthy value
                    ok 9 - expect truthy value
                    ok 10 - expect truthy value
                    ok 11 - expect falsey value
                    ok 12 - should be equal
                    ok 13 - expect truthy value
                    ok 14 - expect falsey value
                    ok 15 - should be equal
                ok 3 - Should return the validation function from each HTTP part # time=41.941ms
                
                # Subtest: Should return a validation function - nested
                    1..6
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - expect falsey value
                    ok 5 - should be equal
                    ok 6 - should be equal
                ok 4 - Should return a validation function - nested # time=6.601ms
                
                # Subtest: Should return undefined if no schema compiled - nested
                    1..3
                    ok 1 - should be equal
                    ok 2 - expect falsey value
                    ok 3 - should be equal
                ok 5 - Should return undefined if no schema compiled - nested # time=33.852ms
                
                # Subtest: Should per-route defined validation compiler
                    1..5
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should not be equal
                    ok 4 - should be equal
                    ok 5 - should be equal
                ok 6 - Should per-route defined validation compiler # time=16.57ms
                
            ok 2 - \#getValidationFunction # time=183.595ms
            
            # Subtest: \#validate
                1..3
                # Subtest: Should return true/false if input valid - Route without schema
                    1..2
                    ok 1 - expect falsey value
                    ok 2 - expect truthy value
                ok 1 - Should return true/false if input valid - Route without schema # time=66.24ms
                
                # Subtest: Should use the custom validator compiler for the route
                    1..10
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - should be equal
                    ok 5 - should be equivalent
                    ok 6 - should be equivalent
                    ok 7 - expect truthy value
                    ok 8 - expect truthy value
                    ok 9 - should be equal
                    ok 10 - should be equal
                ok 2 - Should use the custom validator compiler for the route # time=7.924ms
                
                # Subtest: Should return true/false if input valid - With Schema for Route defined and scoped validator compiler
                    1..13
                    ok 1 - expect truthy value
                    ok 2 - expect falsey value
                    ok 3 - expect falsey value
                    ok 4 - expect truthy value
                    ok 5 - expect falsey value
                    ok 6 - expect truthy value
                    ok 7 - expect truthy value
                    ok 8 - expect falsey value
                    ok 9 - should be equal
                    ok 10 - should be equal
                    ok 11 - should be equal
                    ok 12 - should be equal
                    ok 13 - should be equal
                ok 3 - Should return true/false if input valid - With Schema for Route defined and scoped validator compiler # time=81.28ms
                
            ok 3 - \#validate # time=163.106ms
            
        ok 1 - Level_1 # time=544.387ms
        
    ok 4 - Nested Context # time=549.319ms
    
    1..4
    # time=1357.342ms
ok 60 - test/internals/request-validate.test.js # time=1357.342ms

# Subtest: test/internals/request.test.js
    # Subtest: Regular request
        ok 1 - type is Request
        ok 2 - type is Function
        ok 3 - type is Function
        ok 4 - type is Function
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        1..19
    ok 1 - Regular request # time=15.637ms
    
    # Subtest: Regular request - hostname from authority
        1..2
        ok 1 - type is Request
        ok 2 - should be equal
    ok 2 - Regular request - hostname from authority # time=1.849ms
    
    # Subtest: Regular request - host header has precedence over authority
        1..2
        ok 1 - type is Request
        ok 2 - should be equal
    ok 3 - Regular request - host header has precedence over authority # time=1.292ms
    
    # Subtest: Request with trust proxy
        1..18
        ok 1 - type is _Request
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - type is Function
        ok 17 - type is Function
        ok 18 - type is Function
    ok 4 - Request with trust proxy # time=18.775ms
    
    # Subtest: Request with trust proxy, encrypted
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 5 - Request with trust proxy, encrypted # time=1.863ms
    
    # Subtest: Request with trust proxy - no x-forwarded-host header
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 6 - Request with trust proxy - no x-forwarded-host header # time=1.247ms
    
    # Subtest: Request with trust proxy - no x-forwarded-host header and fallback to authority
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 7 - Request with trust proxy - no x-forwarded-host header and fallback to authority # time=1.432ms
    
    # Subtest: Request with trust proxy - x-forwarded-host header has precedence over host
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 8 - Request with trust proxy - x-forwarded-host header has precedence over host # time=1.707ms
    
    # Subtest: Request with trust proxy - handles multiple entries in x-forwarded-host/proto
        1..3
        ok 1 - type is _Request
        ok 2 - should be equal
        ok 3 - should be equal
    ok 9 - Request with trust proxy - handles multiple entries in x-forwarded-host/proto # time=1.902ms
    
    # Subtest: Request with trust proxy - plain
        1..1
        ok 1 - should be equivalent
    ok 10 - Request with trust proxy - plain # time=1.398ms
    
    # Subtest: Request with undefined socket
        1..18
        ok 1 - type is Request
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equivalent
        ok 16 - type is Function
        ok 17 - type is Function
        ok 18 - type is Function
    ok 11 - Request with undefined socket # time=6.417ms
    
    # Subtest: Request with trust proxy and undefined socket
        1..1
        ok 1 - should be equivalent
    ok 12 - Request with trust proxy and undefined socket # time=1.035ms
    
    1..12
    # time=119.291ms
ok 61 - test/internals/request.test.js # time=119.291ms

# Subtest: test/internals/server.test.js
    # Subtest: start listening
        ok 1 - server started
        1..1
    ok 1 - start listening # time=95.604ms
    
    # Subtest: DNS errors does not stop the main server on localhost - promise interface
        ok 1 - server started
        1..1
    ok 2 - DNS errors does not stop the main server on localhost - promise interface # time=16.874ms
    
    # Subtest: DNS errors does not stop the main server on localhost - callback interface
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 3 - DNS errors does not stop the main server on localhost - callback interface # time=31.807ms
    
    # Subtest: DNS returns empty binding
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 4 - DNS returns empty binding # time=17.346ms
    
    # Subtest: DNS returns more than two binding
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 5 - DNS returns more than two binding # time=19.57ms
    
    1..5
    # time=188.917ms
ok 62 - test/internals/server.test.js # time=188.917ms

# Subtest: test/internals/validation.test.js
    # Subtest: Symbols
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 1 - Symbols # time=8.23ms
    
    # Subtest: compileSchemasForValidation schema - missing schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - compileSchemasForValidation schema - missing schema # time=2.34ms
    
    # Subtest: compileSchemasForValidation schema - missing output schema
        1..1
        ok 1 - should be equal
    ok 3 - compileSchemasForValidation schema - missing output schema # time=1.331ms
    
    # Subtest: compileSchemasForSerialization schema - missing schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - compileSchemasForSerialization schema - missing schema # time=1.745ms
    
    # Subtest: compileSchemasForSerialization schema - missing output schema
        1..1
        ok 1 - should be equal
    ok 5 - compileSchemasForSerialization schema - missing output schema # time=0.875ms
    
    # Subtest: build schema - output schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 6 - build schema - output schema # time=67.2ms
    
    # Subtest: build schema - payload schema
        1..1
        ok 1 - should be equal
    ok 7 - build schema - payload schema # time=2.376ms
    
    # Subtest: build schema - avoid repeated normalize schema
        1..3
        ok 1 - should not be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 8 - build schema - avoid repeated normalize schema # time=4.095ms
    
    # Subtest: build schema - query schema
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 9 - build schema - query schema # time=2.984ms
    
    # Subtest: build schema - query schema abbreviated
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 10 - build schema - query schema abbreviated # time=13.228ms
    
    # Subtest: build schema - querystring schema
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 11 - build schema - querystring schema # time=3.562ms
    
    # Subtest: build schema - querystring schema abbreviated
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 12 - build schema - querystring schema abbreviated # time=3.754ms
    
    # Subtest: build schema - must throw if querystring and query schema exist
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 13 - build schema - must throw if querystring and query schema exist # time=2.175ms
    
    # Subtest: build schema - params schema
        1..1
        ok 1 - should be equal
    ok 14 - build schema - params schema # time=2.787ms
    
    # Subtest: build schema - headers schema
        1..1
        ok 1 - should be equal
    ok 15 - build schema - headers schema # time=3.113ms
    
    # Subtest: build schema - headers are lowercase
        1..1
        ok 1 - lowercase content-type exists
    ok 16 - build schema - headers are lowercase # time=1.487ms
    
    # Subtest: build schema - headers are not lowercased in case of custom object
        1..1
        ok 1 - type is Headers
    ok 17 - build schema - headers are not lowercased in case of custom object # time=1.13ms
    
    # Subtest: build schema - uppercased headers are not included
        1..1
        ok 1 - uppercase does not exist
    ok 18 - build schema - uppercased headers are not included # time=1.015ms
    
    1..18
    # time=210.101ms
ok 63 - test/internals/validation.test.js # time=210.101ms

# Subtest: test/keepAliveTimeout.test.js
    # Subtest: keepAliveTimeout
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not be equal
        ok 6 - should be equal
    ok 1 - keepAliveTimeout # time=42.276ms
    
    1..1
    # time=47.812ms
ok 64 - test/keepAliveTimeout.test.js # time=47.812ms

# Subtest: test/listen.deprecated.test.js
    # Subtest: listen accepts a port and a callback
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 1 - listen accepts a port and a callback # time=31.388ms
    
    # Subtest: listen accepts a port and a callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 2 - listen accepts a port and a callback with (err, address) # time=6.109ms
    
    # Subtest: listen accepts a port, address, and callback
        1..1
        ok 1 - should not error
    ok 3 - listen accepts a port, address, and callback # time=7.531ms
    
    # Subtest: listen accepts options, backlog and a callback
        1..1
        ok 1 - should not error
    ok 4 - listen accepts options, backlog and a callback # time=4.408ms
    
    # Subtest: listen accepts options (no port), backlog and a callback
        1..1
        ok 1 - should not error
    ok 5 - listen accepts options (no port), backlog and a callback # time=4.591ms
    
    # Subtest: listen accepts options (no host), backlog and a callback
        1..1
        ok 1 - should not error
    ok 6 - listen accepts options (no host), backlog and a callback # time=12.189ms
    
    # Subtest: listen accepts options (no port, no host), backlog and a callback
        1..1
        ok 1 - should not error
    ok 7 - listen accepts options (no port, no host), backlog and a callback # time=4.325ms
    
    # Subtest: listen accepts a port, address and a callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 8 - listen accepts a port, address and a callback with (err, address) # time=7.214ms
    
    # Subtest: listen accepts a port, address, backlog and callback
        1..1
        ok 1 - should not error
    ok 9 - listen accepts a port, address, backlog and callback # time=4.791ms
    
    # Subtest: listen accepts a port, address, backlog and callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 10 - listen accepts a port, address, backlog and callback with (err, address) # time=5.181ms
    
    # Subtest: listen without callback (port zero)
        1..1
        ok 1 - should be equal
    ok 11 - listen without callback (port zero) # time=5.277ms
    
    # Subtest: listen without callback (port not given)
        1..1
        ok 1 - should be equal
    ok 12 - listen without callback (port not given) # time=3.982ms
    
    # Subtest: listen null without callback with (address)
        1..1
        ok 1 - should be equal
    ok 13 - listen null without callback with (address) # time=4.233ms
    
    # Subtest: listen without port without callback with (address)
        1..1
        ok 1 - should be equal
    ok 14 - listen without port without callback with (address) # time=3.732ms
    
    # Subtest: listen with undefined without callback with (address)
        1..1
        ok 1 - should be equal
    ok 15 - listen with undefined without callback with (address) # time=7.286ms
    
    # Subtest: listen when firstArg is string(pipe) and without backlog
        1..1
        ok 1 - should be equal
    ok 16 - listen when firstArg is string(pipe) and without backlog # time=11.407ms
    
    # Subtest: listen when firstArg is string(pipe) and with backlog
        1..1
        ok 1 - should be equal
    ok 17 - listen when firstArg is string(pipe) and with backlog # time=5.251ms
    
    # Subtest: listen when firstArg is { path: string(pipe) } and with backlog and callback
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 18 - listen when firstArg is { path: string(pipe) } and with backlog and callback # time=4.08ms
    
    1..18
    # time=217.65ms
ok 65 - test/listen.deprecated.test.js # time=217.65ms

# Subtest: test/listen.test.js
    # Subtest: listen works without arguments
        ok 1 - should be equal
        ok 2 - expect truthy value
        1..2
    ok 1 - listen works without arguments # time=31.452ms
    
    # Subtest: Async/await listen with arguments
        1..1
        ok 1 - should be equal
    ok 2 - Async/await listen with arguments # time=5.393ms
    
    # Subtest: Promise listen with arguments
        1..1
        ok 1 - should be equal
    ok 3 - Promise listen with arguments # time=21.518ms
    
    # Subtest: listen accepts a callback
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 4 - listen accepts a callback # time=8.842ms
    
    # Subtest: listen accepts options and a callback
        1..1
        ok 1 - should not error
    ok 5 - listen accepts options and a callback # time=4.819ms
    
    # Subtest: listen after Promise.resolve()
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 6 - listen after Promise.resolve() # time=4.716ms
    
    # Subtest: register after listen using Promise.resolve()
        1..1
        ok 1 - resolved
    ok 7 - register after listen using Promise.resolve() # time=11.143ms
    
    # Subtest: double listen errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
    ok 8 - double listen errors # time=5.346ms
    
    # Subtest: double listen errors callback with (err, address)
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 9 - double listen errors callback with (err, address) # time=15.264ms
    
    # Subtest: listen twice on the same port
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 10 - listen twice on the same port # time=26.826ms
    
    # Subtest: listen twice on the same port callback with (err, address)
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 11 - listen twice on the same port callback with (err, address) # time=14.195ms
    
    # Subtest: listen on socket
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent strictly
        ok 3 - should be equal
    ok 12 - listen on socket # time=8.716ms
    
    # Subtest: listen without callback with (address)
        1..1
        ok 1 - should be equal
    ok 13 - listen without callback with (address) # time=20.73ms
    
    # Subtest: double listen without callback rejects
        1..1
        ok 1 - expect truthy value
    ok 14 - double listen without callback rejects # time=16.785ms
    
    # Subtest: double listen without callback with (address)
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 15 - double listen without callback with (address) # time=7.237ms
    
    # Subtest: listen twice on the same port without callback rejects
        1..1
        ok 1 - expect truthy value
    ok 16 - listen twice on the same port without callback rejects # time=22.76ms
    
    # Subtest: listen twice on the same port without callback rejects with (address)
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 17 - listen twice on the same port without callback rejects with (address) # time=16.09ms
    
    # Subtest: listen on invalid port without callback rejects
        ok 1 - expect truthy value
        1..1
    ok 18 - listen on invalid port without callback rejects # time=3.564ms
    
    # Subtest: listen logs the port as info
        1..1
        ok 1 - expect truthy value
    ok 19 - listen logs the port as info # time=3.77ms
    
    # Subtest: listen on localhost binds IPv4 and IPv6 - promise interface
        1..2
        ok 1 - should be equal
        ok 2 - should be equivalent
    ok 20 - listen on localhost binds IPv4 and IPv6 - promise interface # time=25.178ms
    
    # Subtest: listen on localhost binds to all interfaces (both IPv4 and IPv6 if present) - callback interface
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 21 - listen on localhost binds to all interfaces (both IPv4 and IPv6 if present) - callback interface # time=11.545ms
    
    # Subtest: addresses getter
        1..4
        ok 1 - before ready
        ok 2 - after ready
        ok 3 - after listen
        ok 4 - after close
    ok 22 - addresses getter # time=9.923ms
    
    1..22
    # time=400.599ms
ok 66 - test/listen.test.js # time=400.599ms

# Subtest: test/logger.test.js
    # Subtest: defaults to info level
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
        ok 13 - responseTime is defined
        1..13
    ok 1 - defaults to info level # time=60.245ms
    
    # Subtest: test log stream
        1..12
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
    ok 2 - test log stream # time=15.606ms
    
    # Subtest: test error log stream
        1..11
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - reqId is defined
        ok 9 - res is defined
        ok 10 - message is set
        ok 11 - statusCode is 500
    ok 3 - test error log stream # time=64.784ms
    
    # Subtest: can use external logger instance
        1..6
        ok 1 - "Server listening at http://127.0.0.1:35019" dont match "/^Server listening at /"
        ok 2 - should not error
        ok 3 - "incoming request" dont match "/^incoming request$/"
        ok 4 - expect truthy value
        ok 5 - "log success" dont match "/^log success$/"
        ok 6 - "request completed" dont match "/^request completed$/"
    ok 4 - can use external logger instance # time=46.221ms
    
    # Subtest: can use external logger instance with custom serializer
        1..6
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - expect truthy value
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 5 - can use external logger instance with custom serializer # time=16.083ms
    
    # Subtest: expose the logger
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equivalent
    ok 6 - expose the logger # time=3.005ms
    
    # Subtest: The request id header key can be customized
        1..9
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - message is set
        ok 6 - should be equal
        ok 7 - message is set
        ok 8 - should be equal
        ok 9 - message is set
    ok 7 - The request id header key can be customized # time=30.452ms
    
    # Subtest: The request id header key can be customized along with a custom id generator
        1..12
        ok 1 - should match pattern provided
        ok 2 - should be equal
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should be equal
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
    ok 8 - The request id header key can be customized along with a custom id generator # time=50.698ms
    
    # Subtest: The request id log label can be changed
        1..6
        ok 1 - should match pattern provided
        ok 2 - should be equal
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should not error
        ok 6 - should be equal
    ok 9 - The request id log label can be changed # time=17.55ms
    
    # Subtest: The logger should accept custom serializer
        1..9
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - req is defined
        ok 4 - message is set
        ok 5 - custom req serializer is use
        ok 6 - expect truthy value
        ok 7 - res is defined
        ok 8 - message is set
        ok 9 - default res serializer is use
    ok 10 - The logger should accept custom serializer # time=40.079ms
    
    # Subtest: reply.send logs an error if called twice in a row
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
    ok 11 - reply.send logs an error if called twice in a row # time=69.45ms
    
    # Subtest: logger can be silented
        1..17
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equivalent
        ok 10 - should be equivalent
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equivalent
        ok 14 - should be equivalent
        ok 15 - should be equivalent
        ok 16 - should be equivalent
        ok 17 - should be equivalent
    ok 12 - logger can be silented # time=7.519ms
    
    # Subtest: Should set a custom logLevel for a plugin
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equivalent
    ok 13 - Should set a custom logLevel for a plugin # time=21.069ms
    
    # Subtest: Should set a custom logSerializers for a plugin
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 14 - Should set a custom logSerializers for a plugin # time=35.674ms
    
    # Subtest: Should set a custom logLevel for every plugin
        1..18
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equivalent
        ok 15 - should not error
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equivalent
    ok 15 - Should set a custom logLevel for every plugin # time=20.189ms
    
    # Subtest: Should set a custom logSerializers for every plugin
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 16 - Should set a custom logSerializers for every plugin # time=16.501ms
    
    # Subtest: Should override serializers from route
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 17 - Should override serializers from route # time=29.749ms
    
    # Subtest: Should override serializers from plugin
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 18 - Should override serializers from plugin # time=47.832ms
    
    # Subtest: Should use serializers from plugin and route
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 19 - Should use serializers from plugin and route # time=10.773ms
    
    # Subtest: Should use serializers from instance fastify and route
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 20 - Should use serializers from instance fastify and route # time=7.41ms
    
    # Subtest: Should use serializers inherit from contexts
        1..5
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 21 - Should use serializers inherit from contexts # time=8.425ms
    
    # Subtest: Should increase the log level for a specific plugin
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 22 - Should increase the log level for a specific plugin # time=7.418ms
    
    # Subtest: Should set the log level for the customized 404 handler
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 23 - Should set the log level for the customized 404 handler # time=7.146ms
    
    # Subtest: Should set the log level for the customized 500 handler
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 24 - Should set the log level for the customized 500 handler # time=7.25ms
    
    # Subtest: Should set a custom log level for a specific route
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equivalent
    ok 25 - Should set a custom log level for a specific route # time=9.524ms
    
    # Subtest: The default 404 handler logs the incoming request
        1..5
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
    ok 26 - The default 404 handler logs the incoming request # time=6.409ms
    
    # Subtest: should serialize request and response
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 27 - should serialize request and response # time=6.649ms
    
    # Subtest: Wrap IPv6 address in listening log message
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 28 - Wrap IPv6 address in listening log message # time=4.193ms
    
    # Subtest: Do not wrap IPv4 address
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 29 - Do not wrap IPv4 address # time=4.337ms
    
    # Subtest: file option
        1..13
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - listen at log message is ok
        ok 4 - reqId is defined
        ok 5 - req is defined
        ok 6 - message is set
        ok 7 - method is get
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
        ok 13 - responseTime is defined
    ok 30 - file option # time=18.894ms
    
    # Subtest: should log the error if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 31 - should log the error if no error handler is defined # time=12.131ms
    
    # Subtest: should log as info if error status code >= 400 and < 500 if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 32 - should log as info if error status code >= 400 and < 500 if no error handler is defined # time=12.229ms
    
    # Subtest: should log as error if error status code >= 500 if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 33 - should log as error if error status code >= 500 if no error handler is defined # time=11.355ms
    
    # Subtest: should not log the error if error handler is defined and it does not error
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - level is correct
        ok 7 - message is set
        ok 8 - status code is set
    ok 34 - should not log the error if error handler is defined and it does not error # time=10.156ms
    
    # Subtest: should not rely on raw request to log errors
        1..7
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - status code is set
    ok 35 - should not rely on raw request to log errors # time=10.083ms
    
    # Subtest: should redact the authorization header if so specified
        1..7
        ok 1 - listen at log message is ok
        ok 2 - should not error
        ok 3 - authorization is redacted
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 36 - should redact the authorization header if so specified # time=20.974ms
    
    # Subtest: should not log incoming request and outgoing response when disabled
        1..3
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should be equivalent
    ok 37 - should not log incoming request and outgoing response when disabled # time=7.155ms
    
    # Subtest: should not log incoming request and outgoing response for 404 onBadUrl when disabled
        1..1
        ok 1 - should be equivalent
    ok 38 - should not log incoming request and outgoing response for 404 onBadUrl when disabled # time=9.522ms
    
    # Subtest: should pass when using unWritable props in the logger option
        1..1
        ok 1 - (unnamed test)
    ok 39 - should pass when using unWritable props in the logger option # time=2.138ms
    
    # Subtest: should be able to use a custom logger
        1..1
        ok 1 - (unnamed test)
    ok 40 - should be able to use a custom logger # time=3.555ms
    
    # Subtest: should create a default logger if provided one is invalid
        1..1
        ok 1 - (unnamed test)
    ok 41 - should create a default logger if provided one is invalid # time=1.809ms
    
    # Subtest: should not throw error when serializing custom req
        1..1
        ok 1 - should be equivalent
    ok 42 - should not throw error when serializing custom req # time=2.15ms
    
    1..42
    # time=958.194ms
ok 67 - test/logger.test.js # time=958.194ms

# Subtest: test/maxRequestsPerSocket.test.js
    # Subtest: maxRequestsPerSocket on node version >= 16.10.0
        1..8
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should match pattern provided
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
    ok 1 - maxRequestsPerSocket on node version >= 16.10.0 # time=70.297ms
    
    # Subtest: maxRequestsPerSocket zero should behave same as null
        1..10
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should match pattern provided
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
        ok 9 - should match pattern provided
        ok 10 - should match pattern provided
    ok 2 - maxRequestsPerSocket zero should behave same as null # time=23.763ms
    
    # Subtest: maxRequestsPerSocket should be set
        1..1
        ok 1 - should be equivalent
    ok 3 - maxRequestsPerSocket should be set # time=2.667ms
    
    # Subtest: maxRequestsPerSocket should 0
        1..1
        ok 1 - should be equivalent
    ok 4 - maxRequestsPerSocket should 0 # time=1.455ms
    
    # Subtest: requestTimeout passed to server
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 5 - requestTimeout passed to server # time=14.743ms
    
    1..5
    # time=123.311ms
ok 68 - test/maxRequestsPerSocket.test.js # time=123.311ms

# Subtest: test/middleware.test.js
    # Subtest: Should be able to override the default use API
        1..1
        ok 1 - should be equal
    ok 1 - Should be able to override the default use API # time=22.682ms
    
    # Subtest: Cannot decorate use twice
        1..1
        ok 1 - expect truthy value
    ok 2 - Cannot decorate use twice # time=2.899ms
    
    # Subtest: Encapsulation works
        1..1
        ok 1 - should be equal
    ok 3 - Encapsulation works # time=12.874ms
    
    1..3
    # time=59.755ms
ok 69 - test/middleware.test.js # time=59.755ms

# Subtest: test/noop-set.test.js
    # Subtest: does a lot of nothing
        ok 1 - type is object
        ok 2 - should be equal
        1..2
    ok 1 - does a lot of nothing # time=7.696ms
    
    1..1
    # time=13.827ms
ok 70 - test/noop-set.test.js # time=13.827ms

# Subtest: test/nullable-validation.test.js
    # Subtest: nullable string
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 1 - nullable string # time=152.017ms
    
    # Subtest: object or null body
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 2 - object or null body # time=62.613ms
    
    # Subtest: nullable body
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 3 - nullable body # time=70.747ms
    
    # Subtest: Nullable body with 204
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 4 - Nullable body with 204 # time=34.303ms
    
    1..4
    # time=327.625ms
ok 71 - test/nullable-validation.test.js # time=327.625ms

# Subtest: test/options.error-handler.test.js
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - OPTIONS can be created # time=10.096ms
    
    # Subtest: OPTIONS without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - OPTIONS without schema can be created # time=2.412ms
    
    # Subtest: OPTIONS with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - OPTIONS with body and querystring # time=1.859ms
    
    # Subtest: OPTIONS with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - OPTIONS with bodyLimit option # time=2.082ms
    
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - OPTIONS can be created # time=2.654ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - OPTIONS - correctly replies # time=60.549ms
    
    # Subtest: OPTIONS - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - OPTIONS - correctly replies with very large body # time=10.111ms
    
    # Subtest: OPTIONS - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - OPTIONS - correctly replies if the content type has the charset # time=7.051ms
    
    # Subtest: OPTIONS without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - OPTIONS without schema - correctly replies # time=5.632ms
    
    # Subtest: OPTIONS with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - OPTIONS with body and querystring - correctly replies # time=5.928ms
    
    # Subtest: OPTIONS with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - OPTIONS with no body - correctly replies # time=28.25ms
    
    # Subtest: OPTIONS returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - OPTIONS returns 415 - incorrect media type if body is not json # time=4.314ms
    
    # Subtest: OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text # time=5.654ms
    
    # Subtest: OPTIONS returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 14 - OPTIONS returns 400 - Bad Request # time=8.042ms
    
    # Subtest: OPTIONS returns 413 - Payload Too Large
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - OPTIONS returns 413 - Payload Too Large # time=6.952ms
    
    # Subtest: OPTIONS should fail with empty body and application/json content-type
        1..0
    ok 16 - OPTIONS should fail with empty body and application/json content-type # time=0.613ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - OPTIONS - correctly replies # time=4.871ms
    
    # Subtest: OPTIONS - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - OPTIONS - 400 on bad parameters # time=5.488ms
    
    # Subtest: OPTIONS - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - OPTIONS - input-validation coerce # time=4.42ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - OPTIONS - input-validation custom schema compiler # time=4.457ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - OPTIONS - input-validation joi schema compiler ok # time=6.271ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - OPTIONS - input-validation joi schema compiler ko # time=6.106ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - OPTIONS - input-validation yup schema compiler ok # time=13.251ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - OPTIONS - input-validation yup schema compiler ko # time=5.724ms
    
    # Subtest: OPTIONS - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - OPTIONS - input-validation instance custom schema compiler encapsulated # time=4.278ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 26 - OPTIONS - input-validation custom schema compiler encapsulated # time=4.179ms
    
    ok 27 - type is object
    ok 28 - type is Request
    ok 29 - type is object
    ok 30 - type is Request
    ok 31 - type is object
    ok 32 - type is Request
    ok 33 - type is object
    ok 34 - type is Request
    ok 35 - type is object
    ok 36 - type is Request
    1..36
    # time=1204.18ms
ok 72 - test/options.error-handler.test.js # time=1204.18ms

# Subtest: test/options.test.js
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - OPTIONS can be created # time=10.12ms
    
    # Subtest: OPTIONS without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - OPTIONS without schema can be created # time=2.406ms
    
    # Subtest: OPTIONS with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - OPTIONS with body and querystring # time=1.891ms
    
    # Subtest: OPTIONS with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - OPTIONS with bodyLimit option # time=2.089ms
    
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - OPTIONS can be created # time=3.195ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - OPTIONS - correctly replies # time=62.196ms
    
    # Subtest: OPTIONS - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - OPTIONS - correctly replies with very large body # time=10.303ms
    
    # Subtest: OPTIONS - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - OPTIONS - correctly replies if the content type has the charset # time=6.252ms
    
    # Subtest: OPTIONS without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - OPTIONS without schema - correctly replies # time=5.935ms
    
    # Subtest: OPTIONS with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - OPTIONS with body and querystring - correctly replies # time=6.576ms
    
    # Subtest: OPTIONS with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - OPTIONS with no body - correctly replies # time=28.202ms
    
    # Subtest: OPTIONS returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - OPTIONS returns 415 - incorrect media type if body is not json # time=5.002ms
    
    # Subtest: OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text # time=6.085ms
    
    # Subtest: OPTIONS returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 14 - OPTIONS returns 400 - Bad Request # time=9.473ms
    
    # Subtest: OPTIONS returns 413 - Payload Too Large
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - OPTIONS returns 413 - Payload Too Large # time=8.758ms
    
    # Subtest: OPTIONS should fail with empty body and application/json content-type
        1..0
    ok 16 - OPTIONS should fail with empty body and application/json content-type # time=1.033ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - OPTIONS - correctly replies # time=6.94ms
    
    # Subtest: OPTIONS - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - OPTIONS - 400 on bad parameters # time=6.005ms
    
    # Subtest: OPTIONS - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - OPTIONS - input-validation coerce # time=5.192ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - OPTIONS - input-validation custom schema compiler # time=5.275ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - OPTIONS - input-validation joi schema compiler ok # time=7.198ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - OPTIONS - input-validation joi schema compiler ko # time=7.212ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - OPTIONS - input-validation yup schema compiler ok # time=7.237ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - OPTIONS - input-validation yup schema compiler ko # time=6.042ms
    
    # Subtest: OPTIONS - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - OPTIONS - input-validation instance custom schema compiler encapsulated # time=4.704ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 26 - OPTIONS - input-validation custom schema compiler encapsulated # time=5.073ms
    
    1..26
    # time=1126.116ms
ok 73 - test/options.test.js # time=1126.116ms

# Subtest: test/output-validation.test.js
    # Subtest: shorthand - output string
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - output string # time=10.15ms
    
    # Subtest: shorthand - output number
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - output number # time=2.386ms
    
    # Subtest: wrong object for schema - output
        1..1
        ok 1 - (unnamed test)
    ok 3 - wrong object for schema - output # time=2.105ms
    
    # Subtest: empty response
        1..1
        ok 1 - (unnamed test)
    ok 4 - empty response # time=2.089ms
    
    # Subtest: unlisted response code
        1..1
        ok 1 - (unnamed test)
    ok 5 - unlisted response code # time=1.904ms
    
    ok 6 - should not error
    # Subtest: shorthand - string get ok
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - shorthand - string get ok # time=35.06ms
    
    # Subtest: shorthand - number get ok
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 8 - shorthand - number get ok # time=7.377ms
    
    # Subtest: shorthand - wrong-object-for-schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 9 - shorthand - wrong-object-for-schema # time=6.771ms
    
    # Subtest: shorthand - empty
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - shorthand - empty # time=4.552ms
    
    # Subtest: shorthand - 400
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - shorthand - 400 # time=4.62ms
    
    1..11
    # time=199.517ms
ok 74 - test/output-validation.test.js # time=199.517ms

# Subtest: test/patch.error-handler.test.js
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PATCH can be created # time=9.439ms
    
    # Subtest: PATCH without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PATCH without schema can be created # time=2.374ms
    
    # Subtest: PATCH with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PATCH with body and querystring # time=1.824ms
    
    # Subtest: PATCH with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PATCH with bodyLimit option # time=2.161ms
    
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - PATCH can be created # time=3.033ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - PATCH - correctly replies # time=63.144ms
    
    # Subtest: PATCH - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - PATCH - correctly replies with very large body # time=10.288ms
    
    # Subtest: PATCH - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - PATCH - correctly replies if the content type has the charset # time=7.55ms
    
    # Subtest: PATCH without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - PATCH without schema - correctly replies # time=7.321ms
    
    # Subtest: PATCH with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - PATCH with body and querystring - correctly replies # time=7.009ms
    
    # Subtest: PATCH with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - PATCH with no body - correctly replies # time=29.754ms
    
    # Subtest: PATCH returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - PATCH returns 415 - incorrect media type if body is not json # time=7.766ms
    
    # Subtest: PATCH returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 13 - PATCH returns 400 - Bad Request # time=10.261ms
    
    # Subtest: PATCH returns 413 - Payload Too Large
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 14 - PATCH returns 413 - Payload Too Large # time=20.706ms
    
    # Subtest: PATCH should fail with empty body and application/json content-type
        1..12
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
    ok 15 - PATCH should fail with empty body and application/json content-type # time=27.065ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - PATCH - correctly replies # time=6.843ms
    
    # Subtest: PATCH - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - PATCH - 400 on bad parameters # time=6.169ms
    
    # Subtest: PATCH - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - PATCH - input-validation coerce # time=5.19ms
    
    # Subtest: PATCH - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - PATCH - input-validation custom schema compiler # time=5.431ms
    
    # Subtest: PATCH - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - PATCH - input-validation joi schema compiler ok # time=8.112ms
    
    # Subtest: PATCH - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - PATCH - input-validation joi schema compiler ko # time=5.601ms
    
    # Subtest: PATCH - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - PATCH - input-validation yup schema compiler ok # time=6.124ms
    
    # Subtest: PATCH - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - PATCH - input-validation yup schema compiler ko # time=6.221ms
    
    # Subtest: PATCH - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - PATCH - input-validation instance custom schema compiler encapsulated # time=4.53ms
    
    # Subtest: PATCH - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - PATCH - input-validation custom schema compiler encapsulated # time=4.748ms
    
    ok 26 - type is object
    ok 27 - type is Request
    ok 28 - type is object
    ok 29 - type is Request
    ok 30 - type is object
    ok 31 - type is Request
    ok 32 - type is object
    ok 33 - type is Request
    ok 34 - type is object
    ok 35 - type is Request
    ok 36 - type is object
    ok 37 - type is Request
    ok 38 - type is object
    ok 39 - type is Request
    ok 40 - type is object
    ok 41 - type is Request
    ok 42 - type is object
    ok 43 - type is Request
    ok 44 - type is object
    ok 45 - type is Request
    ok 46 - type is object
    ok 47 - type is Request
    ok 48 - type is object
    ok 49 - type is Request
    1..49
    # time=1098.841ms
ok 75 - test/patch.error-handler.test.js # time=1098.841ms

# Subtest: test/patch.test.js
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PATCH can be created # time=9.254ms
    
    # Subtest: PATCH without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PATCH without schema can be created # time=1.997ms
    
    # Subtest: PATCH with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PATCH with body and querystring # time=1.539ms
    
    # Subtest: PATCH with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PATCH with bodyLimit option # time=1.962ms
    
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - PATCH can be created # time=2.667ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - PATCH - correctly replies # time=64.88ms
    
    # Subtest: PATCH - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - PATCH - correctly replies with very large body # time=16.414ms
    
    # Subtest: PATCH - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - PATCH - correctly replies if the content type has the charset # time=6.048ms
    
    # Subtest: PATCH without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - PATCH without schema - correctly replies # time=5.447ms
    
    # Subtest: PATCH with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - PATCH with body and querystring - correctly replies # time=6.15ms
    
    # Subtest: PATCH with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - PATCH with no body - correctly replies # time=28.012ms
    
    # Subtest: PATCH returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - PATCH returns 415 - incorrect media type if body is not json # time=6.233ms
    
    # Subtest: PATCH returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 13 - PATCH returns 400 - Bad Request # time=8.089ms
    
    # Subtest: PATCH returns 413 - Payload Too Large
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 14 - PATCH returns 413 - Payload Too Large # time=15.095ms
    
    # Subtest: PATCH should fail with empty body and application/json content-type
        1..12
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
    ok 15 - PATCH should fail with empty body and application/json content-type # time=21.716ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - PATCH - correctly replies # time=5.524ms
    
    # Subtest: PATCH - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - PATCH - 400 on bad parameters # time=5.078ms
    
    # Subtest: PATCH - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - PATCH - input-validation coerce # time=4.601ms
    
    # Subtest: PATCH - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - PATCH - input-validation custom schema compiler # time=4.743ms
    
    # Subtest: PATCH - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - PATCH - input-validation joi schema compiler ok # time=6.301ms
    
    # Subtest: PATCH - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - PATCH - input-validation joi schema compiler ko # time=6.019ms
    
    # Subtest: PATCH - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - PATCH - input-validation yup schema compiler ok # time=5.743ms
    
    # Subtest: PATCH - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - PATCH - input-validation yup schema compiler ko # time=5.379ms
    
    # Subtest: PATCH - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - PATCH - input-validation instance custom schema compiler encapsulated # time=4.041ms
    
    # Subtest: PATCH - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - PATCH - input-validation custom schema compiler encapsulated # time=3.85ms
    
    1..25
    # time=1035.266ms
ok 76 - test/patch.test.js # time=1035.266ms

./VariantsPureDep/fastify/variant11/fastify

> fastify@4.3.0 test
> npm run lint && npm run unit && npm run test:typescript


> fastify@4.3.0 lint
> npm run lint:standard && npm run lint:typescript && npm run lint:markdown


> fastify@4.3.0 lint:standard
> standard | snazzy

-----------------------------|---------|----------|---------|---------|-----------------------------
File                         | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s           
-----------------------------|---------|----------|---------|---------|-----------------------------
All files                    |   92.78 |    92.03 |    92.3 |   92.91 |                             
 fastify                     |   85.23 |    88.12 |   82.14 |    84.9 |                             
  fastify.js                 |   85.23 |    88.12 |   82.14 |    84.9 | ...,676-695,721-724,732-743 
 fastify/lib                 |   93.85 |    92.55 |   94.23 |   94.06 |                             
  contentTypeParser.js       |    97.8 |    99.15 |     100 |   97.64 | 233-236                     
  context.js                 |     100 |      100 |     100 |     100 |                             
  decorate.js                |   98.21 |    98.03 |     100 |   98.07 | 41                          
  error-handler.js           |    94.2 |    93.61 |     100 |    94.2 | 108-110,118                 
  errors.js                  |     100 |      100 |     100 |     100 |                             
  fourOhFour.js              |     100 |      100 |     100 |     100 |                             
  handleRequest.js           |   98.48 |    98.03 |     100 |   98.41 | 97                          
  headRoute.js               |      20 |     12.5 |   33.33 |   14.28 | 4-21,26                     
  hooks.js                   |     100 |      100 |     100 |     100 |                             
  initialConfigValidation.js |     100 |      100 |     100 |     100 |                             
  logger.js                  |     100 |      100 |     100 |     100 |                             
  noop-set.js                |     100 |      100 |     100 |     100 |                             
  pluginOverride.js          |   97.56 |       90 |     100 |    97.5 | 75                          
  pluginUtils.js             |     100 |      100 |     100 |     100 |                             
  reply.js                   |    87.7 |    84.86 |   88.88 |   88.76 | ...-618,622-627,648-654,659 
  reqIdGenFactory.js         |     100 |      100 |     100 |     100 |                             
  request.js                 |   87.96 |    90.62 |      80 |   89.42 | 45-54,157-167,206,211       
  route.js                   |   88.84 |    88.04 |     100 |   88.69 | ...,355-362,396-397,461,465 
  schema-controller.js       |    92.3 |    79.41 |   84.61 |    92.3 | 23,58,71                    
  schemas.js                 |   92.64 |    93.65 |   88.88 |   94.02 | 28,32,43,147                
  server.js                  |     100 |      100 |     100 |     100 |                             
  symbols.js                 |     100 |      100 |     100 |     100 |                             
  validation.js              |   98.55 |    96.55 |     100 |   98.43 | 22                          
  warnings.js                |     100 |      100 |     100 |     100 |                             
  wrapThenable.js            |   93.33 |       90 |     100 |   93.33 | 11                          
-----------------------------|---------|----------|---------|---------|-----------------------------

> fastify@4.3.0 lint:typescript
> eslint -c types/.eslintrc.json types/**/*.d.ts test/types/**/*.test-d.ts


> fastify@4.3.0 lint:markdown
> markdownlint-cli2

markdownlint-cli2 v0.4.0 (markdownlint v0.25.1)

> fastify@4.3.0 unit
> tap

TAP version 13
# Subtest: test/404s.test.js
    1..0 # no tests found
not ok 1 - test/404s.test.js # time=1682.703ms
  ---
  env: {}
  file: test/404s.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/404s.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/500s.test.js
    1..0 # no tests found
not ok 2 - test/500s.test.js # time=1681.504ms
  ---
  env: {}
  file: test/500s.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/500s.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/allowUnsafeRegex.test.js
    1..0 # no tests found
not ok 3 - test/allowUnsafeRegex.test.js # time=1446.446ms
  ---
  env: {}
  file: test/allowUnsafeRegex.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/allowUnsafeRegex.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/als.test.js
    1..0 # no tests found
not ok 4 - test/als.test.js # time=1426.223ms
  ---
  env: {}
  file: test/als.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/als.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/async-await.test.js
    1..0 # no tests found
not ok 5 - test/async-await.test.js # time=1634.991ms
  ---
  env: {}
  file: test/async-await.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/async-await.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/bodyLimit.test.js
    1..0 # no tests found
not ok 6 - test/bodyLimit.test.js # time=1397.98ms
  ---
  env: {}
  file: test/bodyLimit.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/bodyLimit.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/build/error-serializer.test.js
    # Subtest: check generated code syntax
        1..1
        ok 1 - should be equal
    ok 1 - check generated code syntax # time=4066.988ms
    
    ok 2 - ensure the current error serializer is latest # SKIP
    1..2
    # skip: 1
    # time=4132.342ms
ok 7 - test/build/error-serializer.test.js # time=4132.342ms

# Subtest: test/build/version.test.js
    1..0 # no tests found
not ok 8 - test/build/version.test.js # time=1436.573ms
  ---
  env: {}
  file: test/build/version.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/build/version.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/case-insensitive.test.js
    1..0 # no tests found
not ok 9 - test/case-insensitive.test.js # time=1545.345ms
  ---
  env: {}
  file: test/case-insensitive.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/case-insensitive.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/chainable.test.js
    1..0 # no tests found
not ok 10 - test/chainable.test.js # time=1522.2ms
  ---
  env: {}
  file: test/chainable.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/chainable.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/close-pipelining.test.js
    1..0 # no tests found
not ok 11 - test/close-pipelining.test.js # time=1626.032ms
  ---
  env: {}
  file: test/close-pipelining.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/close-pipelining.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/close.test.js
    1..0 # no tests found
not ok 12 - test/close.test.js # time=1527.56ms
  ---
  env: {}
  file: test/close.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/close.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/connectionTimeout.test.js
    1..0 # no tests found
not ok 13 - test/connectionTimeout.test.js # time=1275.513ms
  ---
  env: {}
  file: test/connectionTimeout.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/connectionTimeout.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/constrained-routes.test.js
    1..0 # no tests found
not ok 14 - test/constrained-routes.test.js # time=1524.465ms
  ---
  env: {}
  file: test/constrained-routes.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/constrained-routes.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/content-length.test.js
    1..0 # no tests found
not ok 15 - test/content-length.test.js # time=1437.037ms
  ---
  env: {}
  file: test/content-length.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/content-length.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/content-parser.test.js
    1..0 # no tests found
not ok 16 - test/content-parser.test.js # time=1407.504ms
  ---
  env: {}
  file: test/content-parser.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/content-parser.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/context-config.test.js
    1..0 # no tests found
not ok 17 - test/context-config.test.js # time=1475.399ms
  ---
  env: {}
  file: test/context-config.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/context-config.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/custom-http-server.test.js
    1..0 # no tests found
not ok 18 - test/custom-http-server.test.js # time=1480.443ms
  ---
  env: {}
  file: test/custom-http-server.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/custom-http-server.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/custom-parser-async.test.js
    1..0 # no tests found
not ok 19 - test/custom-parser-async.test.js # time=1467.014ms
  ---
  env: {}
  file: test/custom-parser-async.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/custom-parser-async.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/custom-parser.test.js
    1..0 # no tests found
not ok 20 - test/custom-parser.test.js # time=1497.594ms
  ---
  env: {}
  file: test/custom-parser.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/custom-parser.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/custom-querystring-parser.test.js
    1..0 # no tests found
not ok 21 - test/custom-querystring-parser.test.js # time=1557.928ms
  ---
  env: {}
  file: test/custom-querystring-parser.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/custom-querystring-parser.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/decorator.test.js
    1..0 # no tests found
not ok 22 - test/decorator.test.js # time=1409.62ms
  ---
  env: {}
  file: test/decorator.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/decorator.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/default-route.test.js
    1..0 # no tests found
not ok 23 - test/default-route.test.js # time=1461.855ms
  ---
  env: {}
  file: test/default-route.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/default-route.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/delete.test.js
    1..0 # no tests found
not ok 24 - test/delete.test.js # time=1493.309ms
  ---
  env: {}
  file: test/delete.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/delete.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/diagnostics-channel.test.js
    # Subtest: diagnostics_channel when present and subscribers
        1..3
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: >
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
          
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
          
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
          
            Object..js (node_modules/append-transform/index.js:64:4)
          
            require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
          
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: diagnostics_channel when present and subscribers
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 1 - diagnostics_channel when present and subscribers # time=915.948ms
    
    # Subtest: diagnostics_channel when present and no subscribers
        1..1
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: >
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
          
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
          
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
          
            Object..js (node_modules/append-transform/index.js:64:4)
          
            require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
          
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: diagnostics_channel when present and no subscribers
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # failed 1 test
    not ok 2 - diagnostics_channel when present and no subscribers # time=40.904ms
    
    # Subtest: diagnostics_channel when not present
        1..1
        not ok 1 - expected to not throw
          ---
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          stack: >
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
          
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
          
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
          
            Object..js (node_modules/append-transform/index.js:64:4)
          
            require.extensions.<computed> (node_modules/proxyquire/lib/proxyquire.js:311:43)
          
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          message: the FULL_PATH_REGEXP is not safe, update this module
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # failed 1 test
    not ok 3 - diagnostics_channel when not present # time=34.843ms
    
    1..3
    # failed 3 of 3 tests
    # time=1004.834ms
not ok 25 - test/diagnostics-channel.test.js # time=1004.834ms
  ---
  env: {}
  file: test/diagnostics-channel.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/diagnostics-channel.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/encapsulated-error-handler.test.js
    1..0 # no tests found
not ok 26 - test/encapsulated-error-handler.test.js # time=1439.28ms
  ---
  env: {}
  file: test/encapsulated-error-handler.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/encapsulated-error-handler.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/esm/index.test.js
    1..0 # no tests found
not ok 27 - test/esm/index.test.js # time=1568.417ms
  ---
  env: {}
  file: test/esm/index.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/esm/index.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/fastify-instance.test.js
    1..0 # no tests found
not ok 28 - test/fastify-instance.test.js # time=1511.316ms
  ---
  env: {}
  file: test/fastify-instance.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/fastify-instance.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/fluent-schema.test.js
    1..0 # no tests found
not ok 29 - test/fluent-schema.test.js # time=1480.546ms
  ---
  env: {}
  file: test/fluent-schema.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/fluent-schema.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/genReqId.test.js
    1..0 # no tests found
not ok 30 - test/genReqId.test.js # time=1448.099ms
  ---
  env: {}
  file: test/genReqId.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/genReqId.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/get.test.js
    1..0 # no tests found
not ok 31 - test/get.test.js # time=1503.467ms
  ---
  env: {}
  file: test/get.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/get.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/handler-context.test.js
    1..0 # no tests found
not ok 32 - test/handler-context.test.js # time=1503.431ms
  ---
  env: {}
  file: test/handler-context.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/handler-context.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/head.test.js
    1..0 # no tests found
not ok 33 - test/head.test.js # time=1479.508ms
  ---
  env: {}
  file: test/head.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/head.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/hooks-async.test.js
    1..0 # no tests found
not ok 34 - test/hooks-async.test.js # time=1511.049ms
  ---
  env: {}
  file: test/hooks-async.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/hooks-async.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/hooks.on-ready.test.js
    1..0 # no tests found
not ok 35 - test/hooks.on-ready.test.js # time=1492.534ms
  ---
  env: {}
  file: test/hooks.on-ready.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/hooks.on-ready.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/hooks.test.js
    1..0 # no tests found
not ok 36 - test/hooks.test.js # time=1512.95ms
  ---
  env: {}
  file: test/hooks.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/hooks.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/http2/closing.test.js
    1..0 # no tests found
not ok 37 - test/http2/closing.test.js # time=1467.162ms
  ---
  env: {}
  file: test/http2/closing.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/http2/closing.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/http2/constraint.test.js
    1..0 # no tests found
not ok 38 - test/http2/constraint.test.js # time=1478.143ms
  ---
  env: {}
  file: test/http2/constraint.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/http2/constraint.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/http2/head.test.js
    1..0 # no tests found
not ok 39 - test/http2/head.test.js # time=1423.605ms
  ---
  env: {}
  file: test/http2/head.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/http2/head.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/http2/missing-http2-module.test.js
    1..0 # no tests found
not ok 40 - test/http2/missing-http2-module.test.js # time=1639.74ms
  ---
  env: {}
  file: test/http2/missing-http2-module.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/http2/missing-http2-module.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/http2/plain.test.js
    1..0 # no tests found
not ok 41 - test/http2/plain.test.js # time=1635.654ms
  ---
  env: {}
  file: test/http2/plain.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/http2/plain.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/http2/secure-with-fallback.test.js
    1..0 # no tests found
not ok 42 - test/http2/secure-with-fallback.test.js # time=1498.659ms
  ---
  env: {}
  file: test/http2/secure-with-fallback.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/http2/secure-with-fallback.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/http2/secure.test.js
    1..0 # no tests found
not ok 43 - test/http2/secure.test.js # time=1488.72ms
  ---
  env: {}
  file: test/http2/secure.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/http2/secure.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/http2/unknown-http-method.test.js
    1..0 # no tests found
not ok 44 - test/http2/unknown-http-method.test.js # time=1487.241ms
  ---
  env: {}
  file: test/http2/unknown-http-method.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/http2/unknown-http-method.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/https/custom-https-server.test.js
    1..0 # no tests found
not ok 45 - test/https/custom-https-server.test.js # time=1478.447ms
  ---
  env: {}
  file: test/https/custom-https-server.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/https/custom-https-server.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/https/https.test.js
    1..0 # no tests found
not ok 46 - test/https/https.test.js # time=1581.455ms
  ---
  env: {}
  file: test/https/https.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/https/https.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/imports.test.js
    # Subtest: should import as default
        1..2
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: should import as default
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(2)
        # failed 1 test
    not ok 1 - should import as default # time=748.936ms
    
    # Subtest: should import as esm
        1..2
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: should import as esm
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(2)
        # failed 1 test
    not ok 2 - should import as esm # time=34.222ms
    
    1..2
    # failed 2 of 2 tests
    # time=794.283ms
not ok 47 - test/imports.test.js # time=794.283ms
  ---
  env: {}
  file: test/imports.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/imports.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/inject.test.js
    1..0 # no tests found
not ok 48 - test/inject.test.js # time=1467.123ms
  ---
  env: {}
  file: test/inject.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/inject.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/internals/all.test.js
    1..0 # no tests found
not ok 49 - test/internals/all.test.js # time=1526.711ms
  ---
  env: {}
  file: test/internals/all.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/internals/all.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/internals/contentTypeParser.test.js
    # Subtest: rawBody function
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - rawBody function # time=41.544ms
    
    # Subtest: Should support Webpack and faux modules
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - Should support Webpack and faux modules # time=17.077ms
    
    1..2
    # time=69.645ms
ok 50 - test/internals/contentTypeParser.test.js # time=69.645ms

# Subtest: test/internals/decorator.test.js
    # Subtest: decorate should add the given method to its instance
        1..1
        ok 1 - expect truthy value
    ok 1 - decorate should add the given method to its instance # time=5.821ms
    
    # Subtest: decorate is chainable
        1..3
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
    ok 2 - decorate is chainable # time=1.932ms
    
    # Subtest: checkExistence should check if a property is part of the given instance
        1..1
        ok 1 - expect truthy value
    ok 3 - checkExistence should check if a property is part of the given instance # time=1.228ms
    
    # Subtest: checkExistence should find the instance if not given
        1..1
        ok 1 - expect truthy value
    ok 4 - checkExistence should find the instance if not given # time=1.13ms
    
    # Subtest: checkExistence should check the prototype as well
        1..1
        ok 1 - expect truthy value
    ok 5 - checkExistence should check the prototype as well # time=0.979ms
    
    # Subtest: checkDependencies should throw if a dependency is not present
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 6 - checkDependencies should throw if a dependency is not present # time=1.587ms
    
    # Subtest: decorate should internally call checkDependencies
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 7 - decorate should internally call checkDependencies # time=1.008ms
    
    # Subtest: decorate should recognize getter/setter objects
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - (unnamed test)
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 8 - decorate should recognize getter/setter objects # time=1.881ms
    
    1..8
    # time=71.289ms
ok 51 - test/internals/decorator.test.js # time=71.289ms

# Subtest: test/internals/handleRequest.test.js
    # Subtest: handleRequest function - sent reply
        1..1
        ok 1 - should be equal
    ok 1 - handleRequest function - sent reply # time=6.514ms
    
    # Subtest: handleRequest function - invoke with error
        1..1
        ok 1 - should be equal
    ok 2 - handleRequest function - invoke with error # time=1.89ms
    
    # Subtest: handler function - invalid schema
        1..1
        ok 1 - errorHandler called
    ok 3 - handler function - invalid schema # time=69.923ms
    
    # Subtest: handler function - reply
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - (unnamed test)
    ok 4 - handler function - reply # time=2.802ms
    
    # Subtest: handler function - preValidationCallback with finished response
        1..0
    ok 5 - handler function - preValidationCallback with finished response # time=0.755ms
    
    # Subtest: request should be defined in onSend Hook on post request with content type application/json
        1..8
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: request should be defined in onSend Hook on post request with content type
            application/json
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(8)
        # failed 1 test
    not ok 6 - request should be defined in onSend Hook on post request with content type application/json # time=253.749ms
    
    # Subtest: request should be defined in onSend Hook on post request with content type application/x-www-form-urlencoded
        1..7
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: request should be defined in onSend Hook on post request with content type
            application/x-www-form-urlencoded
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(7)
        # failed 1 test
    not ok 7 - request should be defined in onSend Hook on post request with content type application/x-www-form-urlencoded # time=29.068ms
    
    # Subtest: request should be defined in onSend Hook on options request with content type application/x-www-form-urlencoded
        1..7
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: request should be defined in onSend Hook on options request with content
            type application/x-www-form-urlencoded
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(7)
        # failed 1 test
    not ok 8 - request should be defined in onSend Hook on options request with content type application/x-www-form-urlencoded # time=31.473ms
    
    # Subtest: request should respond with an error if an unserialized payload is sent inside an async handler
        1..3
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: request should respond with an error if an unserialized payload is sent
            inside an async handler
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 9 - request should respond with an error if an unserialized payload is sent inside an async handler # time=35.268ms
    
    1..9
    # failed 4 of 9 tests
    # time=461.97ms
not ok 52 - test/internals/handleRequest.test.js # time=461.97ms
  ---
  env: {}
  file: test/internals/handleRequest.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/internals/handleRequest.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/internals/hookRunner.test.js
    # Subtest: hookRunner - Basic
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 1 - hookRunner - Basic # time=12.285ms
    
    # Subtest: hookRunner - In case of error should skip to done
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 2 - hookRunner - In case of error should skip to done # time=4.846ms
    
    # Subtest: hookRunner - Should handle throw
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 3 - hookRunner - Should handle throw # time=4.707ms
    
    # Subtest: hookRunner - Should handle promises
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 4 - hookRunner - Should handle promises # time=28.495ms
    
    # Subtest: hookRunner - In case of error should skip to done (with promises)
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 5 - hookRunner - In case of error should skip to done (with promises) # time=4.002ms
    
    # Subtest: hookRunner - Be able to exit before its natural end
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 6 - hookRunner - Be able to exit before its natural end # time=1.532ms
    
    # Subtest: hookRunner - Promises that resolve to a value do not change the state
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 7 - hookRunner - Promises that resolve to a value do not change the state # time=1.548ms
    
    # Subtest: onSendHookRunner - Basic
        1..13
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equal
        ok 10 - should not error
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equal
    ok 8 - onSendHookRunner - Basic # time=8.467ms
    
    # Subtest: onSendHookRunner - Can change the payload
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 9 - onSendHookRunner - Can change the payload # time=3.536ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 10 - onSendHookRunner - In case of error should skip to done # time=2.524ms
    
    # Subtest: onSendHookRunner - Should handle promises
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 11 - onSendHookRunner - Should handle promises # time=2.937ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done (with promises)
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 12 - onSendHookRunner - In case of error should skip to done (with promises) # time=2.72ms
    
    # Subtest: onSendHookRunner - Be able to exit before its natural end
        1..2
        ok 1 - should be equivalent
        ok 2 - should be equivalent
    ok 13 - onSendHookRunner - Be able to exit before its natural end # time=1.06ms
    
    1..13
    # time=134.78ms
ok 53 - test/internals/hookRunner.test.js # time=134.78ms

# Subtest: test/internals/hooks.test.js
    # Subtest: hooks should have 4 array with the registered hooks
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        1..8
    ok 1 - hooks should have 4 array with the registered hooks # time=8.077ms
    
    # Subtest: hooks.add should add a hook to the given hook
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        1..14
    ok 2 - hooks.add should add a hook to the given hook # time=4.247ms
    
    # Subtest: hooks should throw on unexisting handler
        1..1
        ok 1 - (unnamed test)
    ok 3 - hooks should throw on unexisting handler # time=0.889ms
    
    # Subtest: should throw on wrong parameters
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 4 - should throw on wrong parameters # time=1.359ms
    
    1..4
    # time=62.104ms
ok 54 - test/internals/hooks.test.js # time=62.104ms

# Subtest: test/internals/initialConfig.test.js
    1..0 # no tests found
not ok 55 - test/internals/initialConfig.test.js # time=1526.263ms
  ---
  env: {}
  file: test/internals/initialConfig.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/internals/initialConfig.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/internals/logger.test.js
    1..0 # no tests found
not ok 56 - test/internals/logger.test.js # time=1578.225ms
  ---
  env: {}
  file: test/internals/logger.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/internals/logger.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/internals/plugin.test.js
    # Subtest: shouldSkipOverride should check the 'skip-override' symbol
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 1 - shouldSkipOverride should check the 'skip-override' symbol # time=6.138ms
    
    # Subtest: getPluginName should return plugin name if the file is cached
        1..1
        ok 1 - should be equal
    ok 2 - getPluginName should return plugin name if the file is cached # time=1.768ms
    
    # Subtest: getMeta should return the object stored with the 'plugin-meta' symbol
        1..1
        ok 1 - should be equivalent
    ok 3 - getMeta should return the object stored with the 'plugin-meta' symbol # time=4.558ms
    
    # Subtest: checkDecorators should check if the given decorator is present in the instance
        1..1
        ok 1 - Everything ok
    ok 4 - checkDecorators should check if the given decorator is present in the instance # time=1.655ms
    
    # Subtest: checkDecorators should check if the given decorator is present in the instance (errored)
        1..1
        ok 1 - should be equal
    ok 5 - checkDecorators should check if the given decorator is present in the instance (errored) # time=0.976ms
    
    # Subtest: checkDecorators should accept optional decorators
        1..1
        ok 1 - Everything ok
    ok 6 - checkDecorators should accept optional decorators # time=0.768ms
    
    # Subtest: checkDependencies should check if the given dependency is present in the instance
        1..1
        ok 1 - Everything ok
    ok 7 - checkDependencies should check if the given dependency is present in the instance # time=0.954ms
    
    # Subtest: checkDependencies should check if the given dependency is present in the instance (errored)
        1..1
        ok 1 - should be equal
    ok 8 - checkDependencies should check if the given dependency is present in the instance (errored) # time=33.797ms
    
    1..8
    # time=113.278ms
ok 57 - test/internals/plugin.test.js # time=113.278ms

# Subtest: test/internals/reply-serialize.test.js
    1..0 # no tests found
not ok 58 - test/internals/reply-serialize.test.js # time=1593.913ms
  ---
  env: {}
  file: test/internals/reply-serialize.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/internals/reply-serialize.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/internals/reply.test.js
    # Subtest: Once called, Reply should return an object with methods
        1..13
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should be equal
        ok 13 - should be equal
    ok 1 - Once called, Reply should return an object with methods # time=16.208ms
    
    # Subtest: reply.send will logStream error and destroy the stream
        1..1
        ok 1 - Error not logged and not streamed
    ok 2 - reply.send will logStream error and destroy the stream # time=24.935ms
    
    # Subtest: reply.send throw with circular JSON
        1..1
        ok 1 - Converting circular structure to JSON
    ok 3 - reply.send throw with circular JSON # time=1.781ms
    
    # Subtest: reply.send returns itself
        1..1
        ok 1 - should be equal
    ok 4 - reply.send returns itself # time=1.455ms
    
    # Subtest: reply.serializer should set a custom serializer
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 5 - reply.serializer should set a custom serializer # time=1.041ms
    
    # Subtest: reply.serializer should support running preSerialization hooks
        1..3
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: reply.serializer should support running preSerialization hooks
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 6 - reply.serializer should support running preSerialization hooks # time=568.091ms
    
    # Subtest: reply.serialize should serialize payload
        1..1
        ok 1 - should be equal
    ok 7 - reply.serialize should serialize payload # time=0.932ms
    
    # Subtest: reply.serialize should serialize payload with a custom serializer
        1..2
        ok 1 - should be equal
        ok 2 - custom serializer not called
    ok 8 - reply.serialize should serialize payload with a custom serializer # time=1.948ms
    
    # Subtest: reply.serialize should serialize payload with a context default serializer
        1..2
        ok 1 - should be equal
        ok 2 - custom serializer not called
    ok 9 - reply.serialize should serialize payload with a context default serializer # time=0.938ms
    
    # Subtest: reply.serialize should serialize payload with Fastify instance
        1..2
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: reply.serialize should serialize payload with Fastify instance
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(2)
        # failed 1 test
    not ok 10 - reply.serialize should serialize payload with Fastify instance # time=38.623ms
    
    # Subtest: within an instance
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: within an instance
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        1..1
        # failed 1 test
    not ok 11 - within an instance # time=33.326ms
    
    # Subtest: buffer without content type should send a application/octet-stream and raw buffer
        1..4
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: buffer without content type should send a application/octet-stream and raw
            buffer
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 12 - buffer without content type should send a application/octet-stream and raw buffer # time=44.074ms
    
    # Subtest: buffer with content type should not send application/octet-stream
        1..4
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: buffer with content type should not send application/octet-stream
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 13 - buffer with content type should not send application/octet-stream # time=31.837ms
    
    # Subtest: stream with content type should not send application/octet-stream
        1..4
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: stream with content type should not send application/octet-stream
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 14 - stream with content type should not send application/octet-stream # time=34.69ms
    
    # Subtest: stream without content type should not send application/octet-stream
        1..4
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: stream without content type should not send application/octet-stream
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 15 - stream without content type should not send application/octet-stream # time=34.51ms
    
    # Subtest: stream using reply.raw.writeHead should return customize headers
        1..6
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: stream using reply.raw.writeHead should return customize headers
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(6)
        # failed 1 test
    not ok 16 - stream using reply.raw.writeHead should return customize headers # time=36.938ms
    
    # Subtest: plain string without content type should send a text/plain
        1..4
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: plain string without content type should send a text/plain
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 17 - plain string without content type should send a text/plain # time=46.439ms
    
    # Subtest: plain string with content type should be sent unmodified
        1..4
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: plain string with content type should be sent unmodified
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 18 - plain string with content type should be sent unmodified # time=55.6ms
    
    # Subtest: plain string with content type and custom serializer should be serialized
        1..4
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: plain string with content type and custom serializer should be serialized
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 19 - plain string with content type and custom serializer should be serialized # time=83.932ms
    
    # Subtest: plain string with content type application/json should NOT be serialized as json
        1..4
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: plain string with content type application/json should NOT be serialized
            as json
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 20 - plain string with content type application/json should NOT be serialized as json # time=40.221ms
    
    # Subtest: plain string with custom json content type should NOT be serialized as json
        1..19
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: plain string with custom json content type should NOT be serialized as json
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(19)
        # failed 1 test
    not ok 21 - plain string with custom json content type should NOT be serialized as json # time=37.321ms
    
    # Subtest: non-string with content type application/json SHOULD be serialized as json
        1..4
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: non-string with content type application/json SHOULD be serialized as json
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 22 - non-string with content type application/json SHOULD be serialized as json # time=31.567ms
    
    # Subtest: non-string with custom json's content-type SHOULD be serialized as json
        1..4
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: non-string with custom json's content-type SHOULD be serialized as json
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 23 - non-string with custom json's content-type SHOULD be serialized as json # time=32.658ms
    
    # Subtest: non-string with custom json content type SHOULD be serialized as json
        1..16
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: non-string with custom json content type SHOULD be serialized as json
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(16)
        # failed 1 test
    not ok 24 - non-string with custom json content type SHOULD be serialized as json # time=28.054ms
    
    # Subtest: error object with a content type that is not application/json should work
        1..6
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: error object with a content type that is not application/json should work
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(6)
        # failed 1 test
    not ok 25 - error object with a content type that is not application/json should work # time=27.472ms
    
    # Subtest: undefined payload should be sent as-is
        1..6
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: undefined payload should be sent as-is
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(6)
        # failed 1 test
    not ok 26 - undefined payload should be sent as-is # time=41.775ms
    
    # Subtest: for HEAD method, no body should be sent but content-length should be
        1..11
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: for HEAD method, no body should be sent but content-length should be
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(11)
        # failed 1 test
    not ok 27 - for HEAD method, no body should be sent but content-length should be # time=27.86ms
    
    # Subtest: reply.send(new NotFound()) should not invoke the 404 handler
        1..9
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: reply.send(new NotFound()) should not invoke the 404 handler
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(9)
        # failed 1 test
    not ok 28 - reply.send(new NotFound()) should not invoke the 404 handler # time=56.943ms
    
    # Subtest: reply can set multiple instances of same header
        1..4
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: reply can set multiple instances of same header
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 29 - reply can set multiple instances of same header # time=34.719ms
    
    # Subtest: reply.hasHeader returns correct values
        1..3
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: reply.hasHeader returns correct values
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 30 - reply.hasHeader returns correct values # time=27.079ms
    
    # Subtest: reply.getHeader returns correct values
        1..4
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: reply.getHeader returns correct values
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 31 - reply.getHeader returns correct values # time=32.871ms
    
    # Subtest: reply.getHeader returns raw header if there is not in the reply headers
        1..1
        ok 1 - should be equal
    ok 32 - reply.getHeader returns raw header if there is not in the reply headers # time=0.625ms
    
    # Subtest: reply.getHeaders returns correct values
        1..3
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: reply.getHeaders returns correct values
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 33 - reply.getHeaders returns correct values # time=27.098ms
    
    # Subtest: reply.removeHeader can remove the value
        1..5
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: reply.removeHeader can remove the value
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(5)
        # failed 1 test
    not ok 34 - reply.removeHeader can remove the value # time=27.418ms
    
    # Subtest: reply.header can reset the value
        1..3
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: reply.header can reset the value
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 35 - reply.header can reset the value # time=26.931ms
    
    # Subtest: reply.hasHeader computes raw and fastify headers
        1..4
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: reply.hasHeader computes raw and fastify headers
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 36 - reply.hasHeader computes raw and fastify headers # time=28.344ms
    
    # Subtest: Reply should handle JSON content type with a charset
        1..16
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: Reply should handle JSON content type with a charset
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(16)
        # failed 1 test
    not ok 37 - Reply should handle JSON content type with a charset # time=32.36ms
    
    # Subtest: Content type and charset set previously
        1..2
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: Content type and charset set previously
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(2)
        # failed 1 test
    not ok 38 - Content type and charset set previously # time=29.713ms
    
    # Subtest: .status() is an alias for .code()
        1..2
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: .status() is an alias for .code()
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(2)
        # failed 1 test
    not ok 39 - .status() is an alias for .code() # time=36.517ms
    
    # Subtest: .statusCode is getter and setter
        1..4
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: .statusCode is getter and setter
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 40 - .statusCode is getter and setter # time=29.456ms
    
    # Subtest: reply.header setting multiple cookies as multiple Set-Cookie headers
        1..7
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: reply.header setting multiple cookies as multiple Set-Cookie headers
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(7)
        # failed 1 test
    not ok 41 - reply.header setting multiple cookies as multiple Set-Cookie headers # time=28.149ms
    
    # Subtest: should emit deprecation warning when trying to modify the reply.sent property
        1..4
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: should emit deprecation warning when trying to modify the reply.sent property
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 42 - should emit deprecation warning when trying to modify the reply.sent property # time=37.621ms
    
    # Subtest: should throw error when passing falsy value to reply.sent
        1..4
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: should throw error when passing falsy value to reply.sent
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 43 - should throw error when passing falsy value to reply.sent # time=33.115ms
    
    # Subtest: should throw error when attempting to set reply.sent more than once
        1..4
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: should throw error when attempting to set reply.sent more than once
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 44 - should throw error when attempting to set reply.sent more than once # time=37.061ms
    
    # Subtest: should not throw error when attempting to set reply.sent if the underlining request was sent
        1..3
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: should not throw error when attempting to set reply.sent if the
            underlining request was sent
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 45 - should not throw error when attempting to set reply.sent if the underlining request was sent # time=31.725ms
    
    # Subtest: reply.getResponseTime() should return 0 before the timer is initialised on the reply by setting up response listeners
        1..1
        ok 1 - should be equal
    ok 46 - reply.getResponseTime() should return 0 before the timer is initialised on the reply by setting up response listeners # time=1.082ms
    
    # Subtest: reply.getResponseTime() should return a number greater than 0 after the timer is initialised on the reply by setting up response listeners
        1..1
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: reply.getResponseTime() should return a number greater than 0 after the
            timer is initialised on the reply by setting up response listeners
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # failed 1 test
    not ok 47 - reply.getResponseTime() should return a number greater than 0 after the timer is initialised on the reply by setting up response listeners # time=97.44ms
    
    # Subtest: reply.getResponseTime() should return the time since a request started while inflight
        1..1
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: reply.getResponseTime() should return the time since a request started
            while inflight
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # failed 1 test
    not ok 48 - reply.getResponseTime() should return the time since a request started while inflight # time=36.206ms
    
    # Subtest: reply.getResponseTime() should return the same value after a request is finished
        1..1
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: reply.getResponseTime() should return the same value after a request is
            finished
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # failed 1 test
    not ok 49 - reply.getResponseTime() should return the same value after a request is finished # time=31.557ms
    
    # Subtest: reply should use the custom serializer
        1..4
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: reply should use the custom serializer
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 50 - reply should use the custom serializer # time=35.866ms
    
    # Subtest: reply should use the right serializer in encapsulated context
        1..9
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: reply should use the right serializer in encapsulated context
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(9)
        # failed 1 test
    not ok 51 - reply should use the right serializer in encapsulated context # time=31.137ms
    
    # Subtest: reply should use the right serializer in deep encapsulated context
        1..8
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: reply should use the right serializer in deep encapsulated context
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(8)
        # failed 1 test
    not ok 52 - reply should use the right serializer in deep encapsulated context # time=26.931ms
    
    # Subtest: reply should use the route serializer
        1..3
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: reply should use the route serializer
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 53 - reply should use the route serializer # time=36.865ms
    
    # Subtest: cannot set the replySerializer when the server is running
        1..2
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: cannot set the replySerializer when the server is running
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(2)
        # failed 1 test
    not ok 54 - cannot set the replySerializer when the server is running # time=24.183ms
    
    # Subtest: reply should not call the custom serializer for errors and not found
        1..9
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: testFunctionThrow
          test: reply should not call the custom serializer for errors and not found
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        # test count(1) != plan(9)
        # failed 1 test
    not ok 55 - reply should not call the custom serializer for errors and not found # time=36.466ms
    
    # Subtest: reply.then
        1..4
        # Subtest: without an error
            1..1
            ok 1 - fulfilled called
        ok 1 - without an error # time=18.625ms
        
        # Subtest: with an error
            1..1
            ok 1 - should be equal
        ok 2 - with an error # time=1.961ms
        
        # Subtest: with error but without reject callback
            1..1
            ok 1 - (unnamed test)
        ok 3 - with error but without reject callback # time=0.708ms
        
        # Subtest: with error, without reject callback, with logger
            1..1
            ok 1 - should be equal
        ok 4 - with error, without reject callback, with logger # time=1.19ms
        
    ok 56 - reply.then # time=34.857ms
    
    # Subtest: reply.sent should read from response.writableEnded if it is defined
        1..1
        ok 1 - should be equal
    ok 57 - reply.sent should read from response.writableEnded if it is defined # time=0.503ms
    
    # Subtest: redirect to an invalid URL should not crash the server
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: returnedPromiseRejection
          test: redirect to an invalid URL should not crash the server
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        1..1
        # failed 1 test
    not ok 58 - redirect to an invalid URL should not crash the server # time=43.194ms
    
    # Subtest: invalid response headers should not crash the server
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: returnedPromiseRejection
          test: invalid response headers should not crash the server
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        1..1
        # failed 1 test
    not ok 59 - invalid response headers should not crash the server # time=37.663ms
    
    # Subtest: invalid response headers when sending back an error
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: returnedPromiseRejection
          test: invalid response headers when sending back an error
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        1..1
        # failed 1 test
    not ok 60 - invalid response headers when sending back an error # time=42.271ms
    
    # Subtest: invalid response headers and custom error handler
        not ok 1 - the FULL_PATH_REGEXP is not safe, update this module
          ---
          stack: |
            Object.<anonymous> (node_modules/find-my-way/index.js:43:9)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 43
            column: 9
            file: node_modules/find-my-way/index.js
            function: Object.<anonymous>
          tapCaught: returnedPromiseRejection
          test: invalid response headers and custom error handler
          source: |
            if (!isRegexSafe(FULL_PATH_REGEXP)) {
              throw new Error('the FULL_PATH_REGEXP is not safe, update this module')
            --------^
            }
          ...
        
        1..1
        # failed 1 test
    not ok 61 - invalid response headers and custom error handler # time=28.194ms
    
    1..61
    # failed 49 of 61 tests
    # time=2596.002ms
not ok 59 - test/internals/reply.test.js # time=2596.002ms
  ---
  env: {}
  file: test/internals/reply.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/internals/reply.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/internals/request-validate.test.js
    1..0 # no tests found
not ok 60 - test/internals/request-validate.test.js # time=1525.345ms
  ---
  env: {}
  file: test/internals/request-validate.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/internals/request-validate.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/internals/request.test.js
    # Subtest: Regular request
        ok 1 - type is Request
        ok 2 - type is Function
        ok 3 - type is Function
        ok 4 - type is Function
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        1..19
    ok 1 - Regular request # time=12.277ms
    
    # Subtest: Regular request - hostname from authority
        1..2
        ok 1 - type is Request
        ok 2 - should be equal
    ok 2 - Regular request - hostname from authority # time=1.324ms
    
    # Subtest: Regular request - host header has precedence over authority
        1..2
        ok 1 - type is Request
        ok 2 - should be equal
    ok 3 - Regular request - host header has precedence over authority # time=0.961ms
    
    # Subtest: Request with trust proxy
        1..18
        ok 1 - type is _Request
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - type is Function
        ok 17 - type is Function
        ok 18 - type is Function
    ok 4 - Request with trust proxy # time=10.08ms
    
    # Subtest: Request with trust proxy, encrypted
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 5 - Request with trust proxy, encrypted # time=1.006ms
    
    # Subtest: Request with trust proxy - no x-forwarded-host header
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 6 - Request with trust proxy - no x-forwarded-host header # time=0.81ms
    
    # Subtest: Request with trust proxy - no x-forwarded-host header and fallback to authority
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 7 - Request with trust proxy - no x-forwarded-host header and fallback to authority # time=0.85ms
    
    # Subtest: Request with trust proxy - x-forwarded-host header has precedence over host
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 8 - Request with trust proxy - x-forwarded-host header has precedence over host # time=0.946ms
    
    # Subtest: Request with trust proxy - handles multiple entries in x-forwarded-host/proto
        1..3
        ok 1 - type is _Request
        ok 2 - should be equal
        ok 3 - should be equal
    ok 9 - Request with trust proxy - handles multiple entries in x-forwarded-host/proto # time=1.049ms
    
    # Subtest: Request with trust proxy - plain
        1..1
        ok 1 - should be equivalent
    ok 10 - Request with trust proxy - plain # time=1.028ms
    
    # Subtest: Request with undefined socket
        1..18
        ok 1 - type is Request
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equivalent
        ok 16 - type is Function
        ok 17 - type is Function
        ok 18 - type is Function
    ok 11 - Request with undefined socket # time=3.607ms
    
    # Subtest: Request with trust proxy and undefined socket
        1..1
        ok 1 - should be equivalent
    ok 12 - Request with trust proxy and undefined socket # time=0.77ms
    
    1..12
    # time=107.644ms
ok 61 - test/internals/request.test.js # time=107.644ms

# Subtest: test/internals/server.test.js
    1..0 # no tests found
not ok 62 - test/internals/server.test.js # time=1543.41ms
  ---
  env: {}
  file: test/internals/server.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/internals/server.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/internals/validation.test.js
    # Subtest: Symbols
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 1 - Symbols # time=7.083ms
    
    # Subtest: compileSchemasForValidation schema - missing schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - compileSchemasForValidation schema - missing schema # time=1.867ms
    
    # Subtest: compileSchemasForValidation schema - missing output schema
        1..1
        ok 1 - should be equal
    ok 3 - compileSchemasForValidation schema - missing output schema # time=0.963ms
    
    # Subtest: compileSchemasForSerialization schema - missing schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - compileSchemasForSerialization schema - missing schema # time=1.327ms
    
    # Subtest: compileSchemasForSerialization schema - missing output schema
        1..1
        ok 1 - should be equal
    ok 5 - compileSchemasForSerialization schema - missing output schema # time=0.602ms
    
    # Subtest: build schema - output schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 6 - build schema - output schema # time=70.057ms
    
    # Subtest: build schema - payload schema
        1..1
        ok 1 - should be equal
    ok 7 - build schema - payload schema # time=1.944ms
    
    # Subtest: build schema - avoid repeated normalize schema
        1..3
        ok 1 - should not be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 8 - build schema - avoid repeated normalize schema # time=1.637ms
    
    # Subtest: build schema - query schema
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 9 - build schema - query schema # time=2.526ms
    
    # Subtest: build schema - query schema abbreviated
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 10 - build schema - query schema abbreviated # time=2.256ms
    
    # Subtest: build schema - querystring schema
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 11 - build schema - querystring schema # time=2.224ms
    
    # Subtest: build schema - querystring schema abbreviated
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 12 - build schema - querystring schema abbreviated # time=9.321ms
    
    # Subtest: build schema - must throw if querystring and query schema exist
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 13 - build schema - must throw if querystring and query schema exist # time=8.71ms
    
    # Subtest: build schema - params schema
        1..1
        ok 1 - should be equal
    ok 14 - build schema - params schema # time=2.145ms
    
    # Subtest: build schema - headers schema
        1..1
        ok 1 - should be equal
    ok 15 - build schema - headers schema # time=2.198ms
    
    # Subtest: build schema - headers are lowercase
        1..1
        ok 1 - lowercase content-type exists
    ok 16 - build schema - headers are lowercase # time=0.825ms
    
    # Subtest: build schema - headers are not lowercased in case of custom object
        1..1
        ok 1 - type is Headers
    ok 17 - build schema - headers are not lowercased in case of custom object # time=0.695ms
    
    # Subtest: build schema - uppercased headers are not included
        1..1
        ok 1 - uppercase does not exist
    ok 18 - build schema - uppercased headers are not included # time=0.686ms
    
    1..18
    # time=204.034ms
ok 63 - test/internals/validation.test.js # time=204.034ms

# Subtest: test/keepAliveTimeout.test.js
    1..0 # no tests found
not ok 64 - test/keepAliveTimeout.test.js # time=1191.705ms
  ---
  env: {}
  file: test/keepAliveTimeout.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/keepAliveTimeout.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/listen.deprecated.test.js
    1..0 # no tests found
not ok 65 - test/listen.deprecated.test.js # time=1409.413ms
  ---
  env: {}
  file: test/listen.deprecated.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/listen.deprecated.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/listen.test.js
    1..0 # no tests found
not ok 66 - test/listen.test.js # time=1551.989ms
  ---
  env: {}
  file: test/listen.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/listen.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/logger.test.js
    1..0 # no tests found
not ok 67 - test/logger.test.js # time=1511.104ms
  ---
  env: {}
  file: test/logger.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/logger.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/maxRequestsPerSocket.test.js
    1..0 # no tests found
not ok 68 - test/maxRequestsPerSocket.test.js # time=1485.734ms
  ---
  env: {}
  file: test/maxRequestsPerSocket.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/maxRequestsPerSocket.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/middleware.test.js
    1..0 # no tests found
not ok 69 - test/middleware.test.js # time=1447.662ms
  ---
  env: {}
  file: test/middleware.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/middleware.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/noop-set.test.js
    # Subtest: does a lot of nothing
        ok 1 - type is object
        ok 2 - should be equal
        1..2
    ok 1 - does a lot of nothing # time=41.351ms
    
    1..1
    # time=65.483ms
ok 70 - test/noop-set.test.js # time=65.483ms

# Subtest: test/nullable-validation.test.js
    1..0 # no tests found
not ok 71 - test/nullable-validation.test.js # time=1491.973ms
  ---
  env: {}
  file: test/nullable-validation.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/nullable-validation.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/options.error-handler.test.js
    1..0 # no tests found
not ok 72 - test/options.error-handler.test.js # time=1500.822ms
  ---
  env: {}
  file: test/options.error-handler.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/options.error-handler.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/options.test.js
    1..0 # no tests found
not ok 73 - test/options.test.js # time=1405.411ms
  ---
  env: {}
  file: test/options.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/options.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/output-validation.test.js
    1..0 # no tests found
not ok 74 - test/output-validation.test.js # time=1563.807ms
  ---
  env: {}
  file: test/output-validation.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/output-validation.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/patch.error-handler.test.js
    1..0 # no tests found
not ok 75 - test/patch.error-handler.test.js # time=1571.052ms
  ---
  env: {}
  file: test/patch.error-handler.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/patch.error-handler.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/patch.test.js
    1..0 # no tests found
not ok 76 - test/patch.test.js # time=1495.46ms
  ---
  env: {}
  file: test/patch.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/patch.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/plugin.test.js
    1..0 # no tests found
not ok 77 - test/plugin.test.js # time=1463.708ms
  ---
  env: {}
  file: test/plugin.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/plugin.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/pretty-print.test.js
    1..0 # no tests found
not ok 78 - test/pretty-print.test.js # time=1537.518ms
  ---
  env: {}
  file: test/pretty-print.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/pretty-print.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/promises.test.js
    1..0 # no tests found
not ok 79 - test/promises.test.js # time=1461.287ms
  ---
  env: {}
  file: test/promises.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/promises.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/proto-poisoning.test.js
    1..0 # no tests found
not ok 80 - test/proto-poisoning.test.js # time=1223.583ms
  ---
  env: {}
  file: test/proto-poisoning.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/proto-poisoning.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/put.error-handler.test.js
    1..0 # no tests found
not ok 81 - test/put.error-handler.test.js # time=1569.495ms
  ---
  env: {}
  file: test/put.error-handler.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/put.error-handler.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/put.test.js
    1..0 # no tests found
not ok 82 - test/put.test.js # time=1535.265ms
  ---
  env: {}
  file: test/put.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/put.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/register.test.js
    1..0 # no tests found
not ok 83 - test/register.test.js # time=1512.406ms
  ---
  env: {}
  file: test/register.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/register.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/reply-error.test.js
    1..0 # no tests found
not ok 84 - test/reply-error.test.js # time=1410.403ms
  ---
  env: {}
  file: test/reply-error.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/reply-error.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/reply-trailers.test.js
    1..0 # no tests found
not ok 85 - test/reply-trailers.test.js # time=1469.781ms
  ---
  env: {}
  file: test/reply-trailers.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/reply-trailers.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/request-error.test.js
    1..0 # no tests found
not ok 86 - test/request-error.test.js # time=1475.598ms
  ---
  env: {}
  file: test/request-error.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/request-error.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/requestTimeout.test.js
    1..0 # no tests found
not ok 87 - test/requestTimeout.test.js # time=1414.541ms
  ---
  env: {}
  file: test/requestTimeout.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/requestTimeout.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/route-hooks.test.js
    1..0 # no tests found
not ok 88 - test/route-hooks.test.js # time=1534.716ms
  ---
  env: {}
  file: test/route-hooks.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/route-hooks.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/route-prefix.test.js
    1..0 # no tests found
not ok 89 - test/route-prefix.test.js # time=1448.776ms
  ---
  env: {}
  file: test/route-prefix.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/route-prefix.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/route.test.js
    1..0 # no tests found
not ok 90 - test/route.test.js # time=1659.97ms
  ---
  env: {}
  file: test/route.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/route.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/router-options.test.js
    1..0 # no tests found
not ok 91 - test/router-options.test.js # time=1547.325ms
  ---
  env: {}
  file: test/router-options.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/router-options.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/same-shape.test.js
    1..0 # no tests found
not ok 92 - test/same-shape.test.js # time=1550.882ms
  ---
  env: {}
  file: test/same-shape.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/same-shape.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/schema-examples.test.js
    1..0 # no tests found
not ok 93 - test/schema-examples.test.js # time=1691.323ms
  ---
  env: {}
  file: test/schema-examples.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/schema-examples.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/schema-feature.test.js
    1..0 # no tests found
not ok 94 - test/schema-feature.test.js # time=1432.639ms
  ---
  env: {}
  file: test/schema-feature.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/schema-feature.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/schema-serialization.test.js
    1..0 # no tests found
not ok 95 - test/schema-serialization.test.js # time=1526.176ms
  ---
  env: {}
  file: test/schema-serialization.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/schema-serialization.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/schema-special-usage.test.js
    1..0 # no tests found
not ok 96 - test/schema-special-usage.test.js # time=1831.456ms
  ---
  env: {}
  file: test/schema-special-usage.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/schema-special-usage.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/schema-validation.test.js
    1..0 # no tests found
not ok 97 - test/schema-validation.test.js # time=1551.956ms
  ---
  env: {}
  file: test/schema-validation.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/schema-validation.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

# Subtest: test/skip-reply-send.test.js
    1..0 # no tests found
not ok 98 - test/skip-reply-send.test.js # time=1471.132ms
  ---
  env: {}
  file: test/skip-reply-send.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/skip-reply-send.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant11/fastify
  exitCode: 1
  ...

./VariantsPureDep/fastify/variant10/fastify

> fastify@4.3.0 test
> npm run lint && npm run unit && npm run test:typescript


> fastify@4.3.0 lint
> npm run lint:standard && npm run lint:typescript && npm run lint:markdown


> fastify@4.3.0 lint:standard
> standard | snazzy

-----------------------|---------|----------|---------|---------|-----------------------------------
File                   | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s                 
-----------------------|---------|----------|---------|---------|-----------------------------------
All files              |   30.23 |    22.18 |   29.66 |   30.45 |                                   
 fastify               |     5.9 |        0 |       0 |    6.03 |                                   
  fastify.js           |     5.9 |        0 |       0 |    6.03 | 46-760                            
 fastify/lib           |   34.09 |    25.35 |   35.79 |   34.38 |                                   
  contentTypeParser.js |   25.27 |    20.33 |   15.38 |   26.47 | ...23,233-236,244-245,249,260-341 
  decorate.js          |   53.57 |    52.94 |   61.53 |   55.76 | 23,39-61,102,114-124,129          
  error-handler.js     |   26.08 |    10.63 |   14.28 |   26.08 | 20,29-41,53-55,60-152             
  errors.js            |      60 |      100 |       0 |      60 | 288-290                           
  handleRequest.js     |   46.96 |    29.41 |     100 |   46.03 | ...97,110,118-120,128-130,134-137 
  hooks.js             |   48.76 |    44.82 |   57.89 |    48.3 | 64-158,190,221-222,235,245-246    
  logger.js            |   10.52 |        0 |       0 |    10.9 | 15-45,50-116                      
  noop-set.js          |     100 |      100 |     100 |     100 |                                   
  pluginUtils.js       |    58.1 |     42.1 |   64.28 |    62.9 | 19,35-44,101-136                  
  reply.js             |   42.89 |    33.02 |   42.59 |   43.53 | ...37-638,648-654,659,673-780,797 
  reqIdGenFactory.js   |   16.66 |      100 |       0 |   16.66 | 9-13                              
  request.js           |   60.18 |    39.06 |   66.66 |   60.57 | ...,80-81,142,157-167,206,211-291 
  route.js             |    0.42 |        0 |       0 |    0.43 | 4-550                             
  schema-controller.js |   12.82 |        0 |       0 |   12.82 | 14-114                            
  schemas.js           |   52.94 |    50.79 |   44.44 |   53.73 | ...2,86-88,99,104-107,139-149,153 
  server.js            |    4.93 |        0 |       0 |       5 | 15-365                            
  symbols.js           |     100 |      100 |     100 |     100 |                                   
  validation.js        |   84.05 |    72.41 |   88.88 |    87.5 | 22,53,90,98,102,109-111           
  warnings.js          |     100 |      100 |     100 |     100 |                                   
  wrapThenable.js      |   13.33 |        0 |       0 |   13.33 | 9-38                              
-----------------------|---------|----------|---------|---------|-----------------------------------

> fastify@4.3.0 lint:typescript
> eslint -c types/.eslintrc.json types/**/*.d.ts test/types/**/*.test-d.ts


> fastify@4.3.0 lint:markdown
> markdownlint-cli2

markdownlint-cli2 v0.4.0 (markdownlint v0.25.1)

> fastify@4.3.0 unit
> tap

TAP version 13
# Subtest: test/404s.test.js
    # Subtest: default 404
        1..4
        ok 1 - should not error
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - unsupported method # time=31.034ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - framework-unsupported method # time=7.101ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - unsupported route # time=5.976ms
        
    ok 1 - default 404 # time=209.079ms
    
    # Subtest: customized 404
        1..6
        ok 1 - should not error
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - unsupported method # time=10.053ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - framework-unsupported method # time=5.093ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - unsupported route # time=4.754ms
        
        # Subtest: with error object
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - with error object # time=10.944ms
        
        # Subtest: error object with headers property
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 6 - error object with headers property # time=6.554ms
        
    ok 2 - customized 404 # time=52.392ms
    
    # Subtest: custom header in notFound handler
        1..2
        ok 1 - should not error
        # Subtest: not found with custom header
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
        ok 2 - not found with custom header # time=12.647ms
        
    ok 3 - custom header in notFound handler # time=37.411ms
    
    # Subtest: setting a custom 404 handler multiple times is an error
        1..5
        # Subtest: at the root level
            1..2
            ok 1 - type is Error
            ok 2 - should be equal
        ok 1 - at the root level # time=2.844ms
        
        # Subtest: at the plugin level
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 2 - at the plugin level # time=37.289ms
        
        # Subtest: at multiple levels
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 3 - at multiple levels # time=15.602ms
        
        # Subtest: at multiple levels / 2
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 4 - at multiple levels / 2 # time=29.242ms
        
        # Subtest: in separate plugins at the same level
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 5 - in separate plugins at the same level # time=20.147ms
        
    ok 4 - setting a custom 404 handler multiple times is an error # time=124.691ms
    
    # Subtest: encapsulated 404
        1..13
        ok 1 - should not error
        # Subtest: root unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - root unsupported method # time=20.557ms
        
        # Subtest: root framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - root framework-unsupported method # time=5.079ms
        
        # Subtest: root unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - root unsupported route # time=4.765ms
        
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 5 - unsupported method # time=15.811ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 6 - framework-unsupported method # time=4.73ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 7 - unsupported route # time=4.571ms
        
        # Subtest: unsupported method 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 8 - unsupported method 2 # time=4.883ms
        
        # Subtest: framework-unsupported method 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 9 - framework-unsupported method 2 # time=4.422ms
        
        # Subtest: unsupported route 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 10 - unsupported route 2 # time=4.561ms
        
        # Subtest: unsupported method 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 11 - unsupported method 3 # time=5.001ms
        
        # Subtest: framework-unsupported method 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 12 - framework-unsupported method 3 # time=4.204ms
        
        # Subtest: unsupported route 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 13 - unsupported route 3 # time=4.327ms
        
    ok 5 - encapsulated 404 # time=117.261ms
    
    # Subtest: custom 404 hook and handler context
        1..21
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should not error
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equal
    ok 6 - custom 404 hook and handler context # time=56.496ms
    
    # Subtest: encapsulated custom 404 without - prefix hook and handler context
        1..13
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equal
    ok 7 - encapsulated custom 404 without - prefix hook and handler context # time=11.895ms
    
    # Subtest: run hooks on default 404
        1..7
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - preHandler called
        ok 4 - onSend called
        ok 5 - onResponse called
        ok 6 - should not error
        ok 7 - should be equal
    ok 8 - run hooks on default 404 # time=12.203ms
    
    # Subtest: run non-encapsulated plugin hooks on default 404
        1..6
        ok 1 - onRequest called
        ok 2 - preHandler called
        ok 3 - onSend called
        ok 4 - onResponse called
        ok 5 - should not error
        ok 6 - should be equal
    ok 9 - run non-encapsulated plugin hooks on default 404 # time=36.045ms
    
    # Subtest: run non-encapsulated plugin hooks on custom 404
        1..11
        ok 1 - onRequest called
        ok 2 - onRequest called
        ok 3 - preHandler called
        ok 4 - preHandler called
        ok 5 - onSend called
        ok 6 - onSend called
        ok 7 - onResponse called
        ok 8 - onResponse called
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
    ok 10 - run non-encapsulated plugin hooks on custom 404 # time=12.787ms
    
    # Subtest: run hook with encapsulated 404
        1..11
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - onRequest 2 called
        ok 4 - preHandler called
        ok 5 - preHandler 2 called
        ok 6 - onSend called
        ok 7 - onSend 2 called
        ok 8 - onResponse called
        ok 9 - onResponse 2 called
        ok 10 - should not error
        ok 11 - should be equal
    ok 11 - run hook with encapsulated 404 # time=20.362ms
    
    # Subtest: run hook with encapsulated 404 and framework-unsupported method
        1..11
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - onRequest 2 called
        ok 4 - preHandler called
        ok 5 - preHandler 2 called
        ok 6 - onSend called
        ok 7 - onSend 2 called
        ok 8 - onResponse called
        ok 9 - onResponse 2 called
        ok 10 - should not error
        ok 11 - should be equal
    ok 12 - run hook with encapsulated 404 and framework-unsupported method # time=28.668ms
    
    # Subtest: hooks check 404
        1..13
        ok 1 - should not error
        ok 2 - onRequest
        ok 3 - should be equivalent
        ok 4 - onSend
        ok 5 - onResponse
        ok 6 - onRequest
        ok 7 - should be equivalent
        ok 8 - onSend
        ok 9 - onResponse
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should not error
        ok 13 - should be equal
    ok 13 - hooks check 404 # time=20.638ms
    
    # Subtest: setNotFoundHandler should not suppress duplicated routes checking
        1..1
        ok 1 - expect truthy value
    ok 14 - setNotFoundHandler should not suppress duplicated routes checking # time=3.645ms
    
    # Subtest: log debug for 404
        1..1
        # Subtest: log debug
            1..7
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
        ok 1 - log debug # time=8.443ms
        
    ok 15 - log debug for 404 # time=15.584ms
    
    # Subtest: Unknown method
        1..5
        ok 1 - should not error
        ok 2 - expected to throw
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent strictly
    ok 16 - Unknown method # time=37.165ms
    
    # Subtest: recognizes errors from the http-errors module
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent strictly
    ok 17 - recognizes errors from the http-errors module # time=23.987ms
    
    # Subtest: the default 404 handler can be invoked inside a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
    ok 18 - the default 404 handler can be invoked inside a prefixed plugin # time=6.784ms
    
    # Subtest: an inherited custom 404 handler can be invoked inside a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - an inherited custom 404 handler can be invoked inside a prefixed plugin # time=6.588ms
    
    # Subtest: encapsulated custom 404 handler without a prefix is the handler for the entire 404 level
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 20 - encapsulated custom 404 handler without a prefix is the handler for the entire 404 level # time=10.696ms
    
    # Subtest: cannot set notFoundHandler after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 21 - cannot set notFoundHandler after binding # time=4.287ms
    
    # Subtest: 404 inside onSend
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 22 - 404 inside onSend # time=6.725ms
    
    # Subtest: onSend hooks run when an encapsulated route invokes the notFound handler
        1..3
        ok 1 - onSend hook called
        ok 2 - should not error
        ok 3 - should be equal
    ok 23 - onSend hooks run when an encapsulated route invokes the notFound handler # time=5.697ms
    
    # Subtest: preHandler option for setNotFoundHandler
        1..10
        # Subtest: preHandler option
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 1 - preHandler option # time=35.094ms
        
        # Subtest: preHandler hook in setNotFoundHandler should be called when callNotFound
            1..3
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 2 - preHandler hook in setNotFoundHandler should be called when callNotFound # time=20.79ms
        
        # Subtest: preHandler hook in setNotFoundHandler should accept an array of functions and be called when callNotFound
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 3 - preHandler hook in setNotFoundHandler should accept an array of functions and be called when callNotFound # time=5.857ms
        
        # Subtest: preHandler option should be called after preHandler hook
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 4 - preHandler option should be called after preHandler hook # time=5.437ms
        
        # Subtest: preHandler option should be unique per prefix
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 5 - preHandler option should be unique per prefix # time=15.35ms
        
        # Subtest: preHandler option should handle errors
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 6 - preHandler option should handle errors # time=5.844ms
        
        # Subtest: preHandler option should handle errors with custom status code
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 7 - preHandler option should handle errors with custom status code # time=5.758ms
        
        # Subtest: preHandler option could accept an array of functions
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 8 - preHandler option could accept an array of functions # time=4.984ms
        
        # Subtest: preHandler option does not interfere with preHandler
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 9 - preHandler option does not interfere with preHandler # time=9.741ms
        
        # Subtest: preHandler option should keep the context
            1..3
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 10 - preHandler option should keep the context # time=5.18ms
        
    ok 24 - preHandler option for setNotFoundHandler # time=126.215ms
    
    # Subtest: reply.notFound invoked the notFound handler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - reply.notFound invoked the notFound handler # time=5.192ms
    
    # Subtest: The custom error handler should be invoked after the custom not found handler
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - type is Error
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 26 - The custom error handler should be invoked after the custom not found handler # time=6.605ms
    
    # Subtest: If the custom not found handler does not use an Error, the custom error handler should not be called
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 27 - If the custom not found handler does not use an Error, the custom error handler should not be called # time=4.697ms
    
    # Subtest: preValidation option
        1..3
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 28 - preValidation option # time=5.158ms
    
    # Subtest: preValidation option could accept an array of functions
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 29 - preValidation option could accept an array of functions # time=5.284ms
    
    # Subtest: Should fail to invoke callNotFound inside a 404 handler
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 30 - Should fail to invoke callNotFound inside a 404 handler # time=7.04ms
    
    # Subtest: 400 in case of bad url (pre find-my-way v2.2.0 was a 404)
        # Subtest: Dynamic route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 1 - Dynamic route # time=19.458ms
        
        # Subtest: Wildcard
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - Wildcard # time=5.861ms
        
        # Subtest: No route registered
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - No route registered # time=5.778ms
        
        # Subtest: Only / is registered
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - Only / is registered # time=23.572ms
        
        # Subtest: customized 404
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - customized 404 # time=15.029ms
        
        1..5
    ok 31 - 400 in case of bad url (pre find-my-way v2.2.0 was a 404) # time=77.591ms
    
    # Subtest: setNotFoundHandler should be chaining fastify instance
        # Subtest: Register route after setNotFoundHandler
            1..6
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should not error
            ok 5 - should be equal
            ok 6 - should be equal
        ok 1 - Register route after setNotFoundHandler # time=8.158ms
        
        1..1
    ok 32 - setNotFoundHandler should be chaining fastify instance # time=22.218ms
    
    # Subtest: Send 404 when frameworkError calls reply.callNotFound
        # Subtest: Dynamic route
            1..4
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 1 - Dynamic route # time=6.66ms
        
        1..1
    ok 33 - Send 404 when frameworkError calls reply.callNotFound # time=30.422ms
    
    1..33
    # time=1184.846ms
ok 1 - test/404s.test.js # time=1184.846ms

# Subtest: test/500s.test.js
    # Subtest: default 500
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - default 500 # time=83.223ms
    
    # Subtest: custom 500
        1..6
        ok 1 - type is object
        ok 2 - type is Request
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 2 - custom 500 # time=9.369ms
    
    # Subtest: encapsulated 500
        1..10
        ok 1 - type is object
        ok 2 - type is Request
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 3 - encapsulated 500 # time=18.654ms
    
    # Subtest: custom 500 with hooks
        1..7
        ok 1 - onRequest
        ok 2 - onSend
        ok 3 - onResponse
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 4 - custom 500 with hooks # time=10.637ms
    
    # Subtest: cannot set errorHandler after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 5 - cannot set errorHandler after binding # time=15.783ms
    
    1..5
    # time=150.51ms
ok 2 - test/500s.test.js # time=150.51ms

# Subtest: test/allowUnsafeRegex.test.js
    # Subtest: allow unsafe regex
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - allow unsafe regex # time=116.211ms
    
    # Subtest: allow unsafe regex not match
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 2 - allow unsafe regex not match # time=13.405ms
    
    # Subtest: allow unsafe regex not safe
        1..1
        ok 1 - expected to throw
    ok 3 - allow unsafe regex not safe # time=104.497ms
    
    # Subtest: allow unsafe regex not safe by default
        1..1
        ok 1 - expected to throw
    ok 4 - allow unsafe regex not safe by default # time=7.281ms
    
    # Subtest: allow unsafe regex allow unsafe
        1..5
        ok 1 - expected to not throw
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 5 - allow unsafe regex allow unsafe # time=26.816ms
    
    1..5
    # time=316.09ms
ok 3 - test/allowUnsafeRegex.test.js # time=316.09ms

# Subtest: test/als.test.js
    ok 1 - should not error
    ok 2 - expect truthy value
    ok 3 - should not error
    ok 4 - should be equal
    ok 5 - should be equivalent
    ok 6 - expect truthy value
    ok 7 - should not error
    ok 8 - should be equal
    ok 9 - should be equivalent
    ok 10 - expect truthy value
    ok 11 - should not error
    ok 12 - should be equal
    ok 13 - should be equivalent
    1..13
    # time=45.562ms
ok 4 - test/als.test.js # time=45.562ms

# Subtest: test/async-await.test.js
    # Subtest: async await
        1..11
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 1 - async await # time=313.697ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (undefined)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 2 - ignore the result of the promise if reply.send is called beforehand (undefined) # time=16.54ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (object)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 3 - ignore the result of the promise if reply.send is called beforehand (object) # time=28.84ms
    
    # Subtest: server logs an error if reply.send is called and a value is returned via async/await
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 4 - server logs an error if reply.send is called and a value is returned via async/await # time=39.384ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (undefined)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 5 - ignore the result of the promise if reply.send is called beforehand (undefined) # time=10.463ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (object)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 6 - ignore the result of the promise if reply.send is called beforehand (object) # time=25.914ms
    
    # Subtest: await reply if we will be calling reply.send in the future
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 7 - await reply if we will be calling reply.send in the future # time=8.981ms
    
    # Subtest: await reply if we will be calling reply.send in the future (error case)
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 8 - await reply if we will be calling reply.send in the future (error case) # time=36.981ms
    
    # Subtest: support reply decorators with await
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 9 - support reply decorators with await # time=9.686ms
    
    # Subtest: inject async await
        1..1
        ok 1 - should be equivalent
    ok 10 - inject async await # time=7.904ms
    
    # Subtest: inject async await - when the server equal up
        1..2
        ok 1 - should be equivalent
        ok 2 - should be equivalent
    ok 11 - inject async await - when the server equal up # time=221.075ms
    
    # Subtest: async await plugin
        1..1
        ok 1 - should be equivalent
    ok 12 - async await plugin # time=215.381ms
    
    # Subtest: does not call reply.send() twice if 204 response equal already sent
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - does not call reply.send() twice if 204 response equal already sent # time=4.889ms
    
    # Subtest: promise was fulfilled with undefined
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - promise was fulfilled with undefined # time=8.937ms
    
    # Subtest: error is not logged because promise was fulfilled with undefined but response was sent before promise resolution
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 15 - error is not logged because promise was fulfilled with undefined but response was sent before promise resolution # time=9.599ms
    
    # Subtest: Thrown Error instance sets HTTP status code
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - Thrown Error instance sets HTTP status code # time=7.058ms
    
    # Subtest: customErrorHandler support
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 17 - customErrorHandler support # time=6.347ms
    
    # Subtest: customErrorHandler support without throwing
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - customErrorHandler support without throwing # time=5.439ms
    
    # Subtest: customErrorHandler only called if reply not already sent
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - customErrorHandler only called if reply not already sent # time=4.943ms
    
    # Subtest: setNotFoundHandler should accept return value
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - setNotFoundHandler should accept return value # time=6.916ms
    
    # Subtest: customErrorHandler should accept return value
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 21 - customErrorHandler should accept return value # time=12.038ms
    
    # Subtest: await self
        ok 1 - should be equal
        1..1
    ok 22 - await self # time=3.691ms
    
    1..22
    # time=1027.964ms
ok 5 - test/async-await.test.js # time=1027.964ms

# Subtest: test/bodyLimit.test.js
    # Subtest: bodyLimit
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should not error
        ok 5 - should be equal
    ok 1 - bodyLimit # time=38.946ms
    
    1..1
    # time=43.838ms
ok 6 - test/bodyLimit.test.js # time=43.838ms

# Subtest: test/build/error-serializer.test.js
    # Subtest: check generated code syntax
        1..1
        ok 1 - should be equal
    ok 1 - check generated code syntax # time=3914.102ms
    
    ok 2 - ensure the current error serializer is latest # SKIP
    1..2
    # skip: 1
    # time=3971.992ms
ok 7 - test/build/error-serializer.test.js # time=3971.992ms

# Subtest: test/build/version.test.js
    # Subtest: should be the same as package.json
        1..1
        ok 1 - should be equal
    ok 1 - should be the same as package.json # time=6.3ms
    
    1..1
    # time=11.999ms
ok 8 - test/build/version.test.js # time=11.999ms

# Subtest: test/case-insensitive.test.js
    # Subtest: case insensitive
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - case insensitive # time=71.694ms
    
    # Subtest: case insensitive inject
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - case insensitive inject # time=33.298ms
    
    # Subtest: case insensitive (parametric)
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 3 - case insensitive (parametric) # time=14.968ms
    
    # Subtest: case insensitive (wildcard)
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 4 - case insensitive (wildcard) # time=14.304ms
    
    1..4
    # time=161.046ms
ok 9 - test/case-insensitive.test.js # time=161.046ms

# Subtest: test/chainable.test.js
    # Subtest: chainable - get
        1..1
        ok 1 - type is [object Object]
    ok 1 - chainable - get # time=9.583ms
    
    # Subtest: chainable - post
        1..1
        ok 1 - type is [object Object]
    ok 2 - chainable - post # time=2.08ms
    
    # Subtest: chainable - route
        1..1
        ok 1 - type is [object Object]
    ok 3 - chainable - route # time=2.171ms
    
    1..3
    # time=25.548ms
ok 10 - test/chainable.test.js # time=25.548ms

# Subtest: test/close-pipelining.test.js
    # Subtest: Should return 503 while closing - pipelining
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        1..3
    ok 1 - Should return 503 while closing - pipelining # time=127.258ms
    
    # Subtest: Should not return 503 while closing - pipelining - return503OnClosing
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        1..3
    ok 2 - Should not return 503 while closing - pipelining - return503OnClosing # time=20.85ms
    
    1..2
    # time=187.797ms
ok 11 - test/close-pipelining.test.js # time=187.797ms

# Subtest: test/close.test.js
    # Subtest: close callback
        1..4
        ok 1 - should not error
        ok 2 - type is [object Object]
        ok 3 - should not error
        ok 4 - expect truthy value
    ok 1 - close callback # time=99.887ms
    
    # Subtest: inside register
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - expect truthy value
    ok 2 - inside register # time=20.634ms
    
    # Subtest: close order
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 3 - close order # time=42.809ms
    
    # Subtest: close order - async
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 4 - close order - async # time=16.236ms
    
    # Subtest: should not throw an error if the server is not listening
        1..2
        ok 1 - type is [object Object]
        ok 2 - should not error
    ok 5 - should not throw an error if the server is not listening # time=8.216ms
    
    # Subtest: onClose should keep the context
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
    ok 6 - onClose should keep the context # time=29.383ms
    
    # Subtest: Should return error while closing (promise) - injection
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 7 - Should return error while closing (promise) - injection # time=70.115ms
    
    # Subtest: Should return error while closing (callback) - injection
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 8 - Should return error while closing (callback) - injection # time=121.09ms
    
    # Subtest: Current opened connection should continue to work after closing and return "connection: close" header - return503OnClosing: false
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        1..5
    ok 9 - Current opened connection should continue to work after closing and return "connection: close" header - return503OnClosing: false # time=25.471ms
    
    # Subtest: Current opened connection should not accept new incoming connections
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 10 - Current opened connection should not accept new incoming connections # time=270.754ms
    
    # Subtest: Cannot be reopened the closed server without listen callback
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 11 - Cannot be reopened the closed server without listen callback # time=8.438ms
    
    # Subtest: Cannot be reopened the closed server has listen callback
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 12 - Cannot be reopened the closed server has listen callback # time=4.932ms
    
    ok 13 - shutsdown while keep-alive connections are active (non-async, native) # SKIP
    ok 14 - shutsdown while keep-alive connections are active (non-async, idle, native) # SKIP
    # Subtest: shutsdown while keep-alive connections are active (non-async, custom)
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 15 - shutsdown while keep-alive connections are active (non-async, custom) # time=9.825ms
    
    1..15
    # skip: 2
    # time=757.049ms
ok 12 - test/close.test.js # time=757.049ms

# Subtest: test/connectionTimeout.test.js
    # Subtest: connectionTimeout
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 1 - connectionTimeout # time=42.45ms
    
    1..1
    # time=47.785ms
ok 13 - test/connectionTimeout.test.js # time=47.785ms

# Subtest: test/constrained-routes.test.js
    # Subtest: Should register a host constrained route
        1..7
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 1 - Should register a host constrained route # time=99.847ms
    
    # Subtest: Should register the same route with host constraints
        1..8
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 2 - Should register the same route with host constraints # time=12.531ms
    
    # Subtest: Should allow registering custom constrained routes
        1..8
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 3 - Should allow registering custom constrained routes # time=23.696ms
    
    # Subtest: Should allow registering custom constrained routes outside constructor
        1..8
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 4 - Should allow registering custom constrained routes outside constructor # time=11.233ms
    
    # Subtest: Add a constraint strategy after fastify instance was started
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - Cannot add constraint strategy when fastify instance is already started!
    ok 5 - Add a constraint strategy after fastify instance was started # time=6.427ms
    
    # Subtest: Add a constraint strategy should throw an error if there already exist custom strategy with the same name
        1..1
        ok 1 - There already exists a custom constraint with the name secret.
    ok 6 - Add a constraint strategy should throw an error if there already exist custom strategy with the same name # time=1.646ms
    
    # Subtest: Add a constraint strategy shouldn't throw an error if default constraint with the same name isn't used
        1..1
        ok 1 - (unnamed test)
    ok 7 - Add a constraint strategy shouldn't throw an error if default constraint with the same name isn't used # time=1.403ms
    
    # Subtest: Add a constraint strategy should throw an error if default constraint with the same name is used
        1..1
        ok 1 - There already exists a route with version constraint.
    ok 8 - Add a constraint strategy should throw an error if default constraint with the same name is used # time=2.41ms
    
    # Subtest: The hasConstraintStrategy should return false for default constraints until they are used
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 9 - The hasConstraintStrategy should return false for default constraints until they are used # time=4.445ms
    
    # Subtest: The hasConstraintStrategy should return true if there already exist a custom constraint with the same name
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 10 - The hasConstraintStrategy should return true if there already exist a custom constraint with the same name # time=2.418ms
    
    # Subtest: Should allow registering an unconstrained route after a constrained route
        1..6
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
    ok 11 - Should allow registering an unconstrained route after a constrained route # time=8.832ms
    
    # Subtest: Should allow registering constrained routes in a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 12 - Should allow registering constrained routes in a prefixed plugin # time=18.786ms
    
    # Subtest: Should allow registering a constrained GET route after a constrained HEAD route
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 13 - Should allow registering a constrained GET route after a constrained HEAD route # time=5.881ms
    
    # Subtest: Should allow registering a constrained GET route after an unconstrained HEAD route
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 14 - Should allow registering a constrained GET route after an unconstrained HEAD route # time=13.677ms
    
    # Subtest: Will not try to re-createprefixed HEAD route if it already exists and exposeHeadRoutes is true for constrained routes
        1..1
        ok 1 - expect truthy value
    ok 15 - Will not try to re-createprefixed HEAD route if it already exists and exposeHeadRoutes is true for constrained routes # time=10.946ms
    
    # Subtest: allows separate constrained and unconstrained HEAD routes
        1..1
        ok 1 - expect truthy value
    ok 16 - allows separate constrained and unconstrained HEAD routes # time=5.106ms
    
    1..16
    # time=272.826ms
ok 14 - test/constrained-routes.test.js # time=272.826ms

# Subtest: test/content-length.test.js
    # Subtest: default 413 with bodyLimit option
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - default 413 with bodyLimit option # time=96.677ms
    
    # Subtest: default 400 with wrong content-length
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - default 400 with wrong content-length # time=12.295ms
    
    # Subtest: custom 413 with bodyLimit option
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 3 - custom 413 with bodyLimit option # time=28.905ms
    
    # Subtest: custom 400 with wrong content-length
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 4 - custom 400 with wrong content-length # time=7.456ms
    
    # Subtest: \#2214 - wrong content-length
        ok 1 - should be equal
        1..1
    ok 5 - \#2214 - wrong content-length # time=8.637ms
    
    # Subtest: \#2543 - wrong content-length with errorHandler
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 6 - \#2543 - wrong content-length with errorHandler # time=9.24ms
    
    1..6
    # time=194.969ms
ok 15 - test/content-length.test.js # time=194.969ms

# Subtest: test/content-parser.test.js
    # Subtest: hasContentTypeParser
        1..0
    ok 1 - hasContentTypeParser # time=11.772ms
    
    # Subtest: should know about internal parsers
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
    ok 2 - should know about internal parsers # time=41.868ms
    
    # Subtest: should work with string and RegExp
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect falsey value
    ok 3 - should work with string and RegExp # time=4.407ms
    
    # Subtest: getParser
        1..0
    ok 4 - getParser # time=95.142ms
    
    # Subtest: existingParser
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect falsey value
        1..7
    ok 5 - existingParser # time=14.641ms
    
    # Subtest: add
        1..0
    ok 6 - add # time=9.552ms
    
    # Subtest: non-Error thrown from content parser is properly handled
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 7 - non-Error thrown from content parser is properly handled # time=36.818ms
    
    # Subtest: Error thrown 415 from content type is null and make post request to server
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 8 - Error thrown 415 from content type is null and make post request to server # time=17.998ms
    
    # Subtest: remove
        1..0
    ok 9 - remove # time=29.303ms
    
    # Subtest: remove all should remove all existing parsers and reset cache
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
    ok 10 - remove all should remove all existing parsers and reset cache # time=4.766ms
    
    # Subtest: should return matching parser
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 11 - should return matching parser # time=2.22ms
    
    # Subtest: should return matching parser with caching
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 12 - should return matching parser with caching # time=2.228ms
    
    # Subtest: should prefer content type parser with string value
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 13 - should prefer content type parser with string value # time=2.133ms
    
    # Subtest: should return parser that catches all if no other is set
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 14 - should return parser that catches all if no other is set # time=2.939ms
    
    # Subtest: should return undefined if no matching parser exist
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 15 - should return undefined if no matching parser exist # time=2.126ms
    
    # Subtest: returns always false for "*"
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 16 - returns always false for "*" # time=1.548ms
    
    # Subtest: let you override the default parser once
        1..2
        ok 1 - Content type parser 'application/json' already present
        ok 2 - Content type parser 'text/plain' already present
    ok 17 - let you override the default parser once # time=4.741ms
    
    # Subtest: should only accept string and RegExp
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - The content type should be a string or a RegExp
        ok 4 - The content type should be a string or a RegExp
    ok 18 - should only accept string and RegExp # time=3.037ms
    
    # Subtest: should set "*" as parser that catches all
        1..1
        ok 1 - should be equal
    ok 19 - should set "*" as parser that catches all # time=1.216ms
    
    # Subtest: should remove default parser
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 20 - should remove default parser # time=1.456ms
    
    # Subtest: should remove RegExp parser
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 21 - should remove RegExp parser # time=1.43ms
    
    # Subtest: should throw an error if content type is neither string nor RegExp
        1..1
        ok 1 - expected to throw
    ok 22 - should throw an error if content type is neither string nor RegExp # time=1.659ms
    
    # Subtest: should not throw error if content type does not exist
        1..1
        ok 1 - expected to not throw
    ok 23 - should not throw error if content type does not exist # time=1.4ms
    
    # Subtest: should not remove any content type parser if content type does not exist
        1..1
        ok 1 - should be equivalent
    ok 24 - should not remove any content type parser if content type does not exist # time=1.918ms
    
    1..24
    # time=324.739ms
ok 16 - test/content-parser.test.js # time=324.739ms

# Subtest: test/context-config.test.js
    # Subtest: config
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 1 - config # time=77.814ms
    
    # Subtest: config with exposeHeadRoutes
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 2 - config with exposeHeadRoutes # time=15.856ms
    
    # Subtest: config without exposeHeadRoutes
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 3 - config without exposeHeadRoutes # time=35.536ms
    
    1..3
    # time=138.999ms
ok 17 - test/context-config.test.js # time=138.999ms

# Subtest: test/custom-http-server.test.js
    # Subtest: Should support a custom http server
        1..4
        ok 1 - it is called twice for every HOST interface
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - Should support a custom http server # time=65.172ms
    
    # Subtest: Should not allow forceCloseConnection=idle if the server does not support closeIdleConnections
        1..1
        ok 1 - Cannot set forceCloseConnections to 'idle' as your HTTP server does not support closeIdleConnections method
    ok 2 - Should not allow forceCloseConnection=idle if the server does not support closeIdleConnections # time=4.144ms
    
    1..2
    # time=78.03ms
ok 18 - test/custom-http-server.test.js # time=78.03ms

# Subtest: test/custom-parser-async.test.js
    # Subtest: contentTypeParser should add a custom async parser
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=30.735ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=7.486ms
        
    ok 1 - contentTypeParser should add a custom async parser # time=107.484ms
    
    1..1
    # time=112.663ms
ok 19 - test/custom-parser-async.test.js # time=112.663ms

# Subtest: test/custom-parser.test.js
    # Subtest: contentTypeParser method should exist
        1..1
        ok 1 - expect truthy value
    ok 1 - contentTypeParser method should exist # time=16.03ms
    
    # Subtest: contentTypeParser should add a custom parser
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=28.513ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=7.741ms
        
    ok 2 - contentTypeParser should add a custom parser # time=178.945ms
    
    # Subtest: contentTypeParser should handle multiple custom parsers
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 3 - contentTypeParser should handle multiple custom parsers # time=24.868ms
    
    # Subtest: contentTypeParser should handle an array of custom contentTypes
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 4 - contentTypeParser should handle an array of custom contentTypes # time=39.395ms
    
    # Subtest: contentTypeParser should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 5 - contentTypeParser should handle errors # time=13.041ms
    
    # Subtest: contentTypeParser should support encapsulation
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - expect falsey value
        ok 6 - expect falsey value
    ok 6 - contentTypeParser should support encapsulation # time=11.944ms
    
    # Subtest: contentTypeParser should support encapsulation, second try
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - contentTypeParser should support encapsulation, second try # time=12.024ms
    
    # Subtest: contentTypeParser shouldn't support request with undefined "Content-Type"
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 8 - contentTypeParser shouldn't support request with undefined "Content-Type" # time=31.374ms
    
    # Subtest: the content type should be a string or RegExp
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 9 - the content type should be a string or RegExp # time=3.153ms
    
    # Subtest: the content type cannot be an empty string
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 10 - the content type cannot be an empty string # time=5.926ms
    
    # Subtest: the content type handler should be a function
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 11 - the content type handler should be a function # time=3.86ms
    
    # Subtest: catch all content type parser
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 12 - catch all content type parser # time=12.237ms
    
    # Subtest: catch all content type parser should not interfere with other conte type parsers
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 13 - catch all content type parser should not interfere with other conte type parsers # time=14.819ms
    
    # Subtest: '*' catch undefined Content-Type requests
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - '*' catch undefined Content-Type requests # time=12.249ms
    
    # Subtest: cannot add custom parser after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 15 - cannot add custom parser after binding # time=9.303ms
    
    # Subtest: Can override the default json parser
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 16 - Can override the default json parser # time=8.144ms
    
    # Subtest: Can override the default plain text parser
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 17 - Can override the default plain text parser # time=12.134ms
    
    # Subtest: Can override the default json parser in a plugin
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 18 - Can override the default json parser in a plugin # time=9.547ms
    
    # Subtest: Can't override the json parser multiple times
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 19 - Can't override the json parser multiple times # time=1.725ms
    
    # Subtest: Can't override the plain text parser multiple times
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 20 - Can't override the plain text parser multiple times # time=1.964ms
    
    # Subtest: Should get the body as string
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 21 - Should get the body as string # time=9.198ms
    
    # Subtest: Should return defined body with no custom parser defined and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 22 - Should return defined body with no custom parser defined and content type = 'text/plain' # time=8.697ms
    
    # Subtest: Should have typeof body object with no custom parser defined, no body defined and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 23 - Should have typeof body object with no custom parser defined, no body defined and content type = 'text/plain' # time=7.852ms
    
    # Subtest: Should have typeof body object with no custom parser defined, null body and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 24 - Should have typeof body object with no custom parser defined, null body and content type = 'text/plain' # time=7.694ms
    
    # Subtest: Should have typeof body object with no custom parser defined, undefined body and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 25 - Should have typeof body object with no custom parser defined, undefined body and content type = 'text/plain' # time=7.199ms
    
    # Subtest: Should get the body as string
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 26 - Should get the body as string # time=6.896ms
    
    # Subtest: Should get the body as buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 27 - Should get the body as buffer # time=7.704ms
    
    # Subtest: Should get the body as buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 28 - Should get the body as buffer # time=7.066ms
    
    # Subtest: Should parse empty bodies as a string
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 29 - Should parse empty bodies as a string # time=11.682ms
    
    # Subtest: Should parse empty bodies as a buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 30 - Should parse empty bodies as a buffer # time=19.569ms
    
    # Subtest: The charset should not interfere with the content type handling
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 31 - The charset should not interfere with the content type handling # time=7.09ms
    
    # Subtest: Wrong parseAs parameter
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 32 - Wrong parseAs parameter # time=1.51ms
    
    # Subtest: Should allow defining the bodyLimit per parser
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent strictly
    ok 33 - Should allow defining the bodyLimit per parser # time=8.803ms
    
    # Subtest: route bodyLimit should take precedence over a custom parser bodyLimit
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent strictly
    ok 34 - route bodyLimit should take precedence over a custom parser bodyLimit # time=23.537ms
    
    # Subtest: should be able to use default parser for extra content type
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent strictly
    ok 35 - should be able to use default parser for extra content type # time=6.944ms
    
    # Subtest: contentTypeParser should add a custom parser with RegExp value
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=4.814ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=3.691ms
        
    ok 36 - contentTypeParser should add a custom parser with RegExp value # time=14.538ms
    
    # Subtest: contentTypeParser should add multiple custom parsers with RegExp values
        1..6
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 37 - contentTypeParser should add multiple custom parsers with RegExp values # time=33.016ms
    
    # Subtest: catch all content type parser should not interfere with content type parser
        1..10
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 38 - catch all content type parser should not interfere with content type parser # time=13.472ms
    
    # Subtest: should prefer string content types over RegExp ones
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 39 - should prefer string content types over RegExp ones # time=9.662ms
    
    # Subtest: removeContentTypeParser should support arrays of content types to remove
        1..8
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 40 - removeContentTypeParser should support arrays of content types to remove # time=23.109ms
    
    # Subtest: removeContentTypeParser should support encapsulation
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 41 - removeContentTypeParser should support encapsulation # time=10.121ms
    
    # Subtest: removeAllContentTypeParsers should support encapsulation
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 42 - removeAllContentTypeParsers should support encapsulation # time=11.165ms
    
    # Subtest: cannot remove all content type parsers after binding
        1..2
        ok 1 - should not error
        ok 2 - expected to throw
    ok 43 - cannot remove all content type parsers after binding # time=3.955ms
    
    # Subtest: cannot remove content type parsers after binding
        1..2
        ok 1 - should not error
        ok 2 - expected to throw
    ok 44 - cannot remove content type parsers after binding # time=2.911ms
    
    # Subtest: should be able to override the default json parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 45 - should be able to override the default json parser after removeAllContentTypeParsers # time=6.217ms
    
    # Subtest: should be able to override the default plain text parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 46 - should be able to override the default plain text parser after removeAllContentTypeParsers # time=6.429ms
    
    # Subtest: should be able to add a custom content type parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 47 - should be able to add a custom content type parser after removeAllContentTypeParsers # time=7.608ms
    
    1..47
    # time=754.983ms
ok 20 - test/custom-parser.test.js # time=754.983ms

# Subtest: test/custom-querystring-parser.test.js
    # Subtest: Custom querystring parser
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 1 - Custom querystring parser # time=96.71ms
    
    # Subtest: Custom querystring parser should be called also if there is nothing to parse
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 2 - Custom querystring parser should be called also if there is nothing to parse # time=14.374ms
    
    # Subtest: Querystring without value
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 3 - Querystring without value # time=26.309ms
    
    # Subtest: Custom querystring parser should be a function
        1..1
        ok 1 - should be equal
    ok 4 - Custom querystring parser should be a function # time=1.095ms
    
    1..4
    # time=156.781ms
ok 21 - test/custom-querystring-parser.test.js # time=156.781ms

# Subtest: test/decorator.test.js
    # Subtest: server methods should exist
        1..2
        ok 1 - expect truthy value
        ok 2 - expect truthy value
    ok 1 - server methods should exist # time=15.407ms
    
    # Subtest: should check if the given decoration already exist when null
        1..1
        ok 1 - expect truthy value
    ok 2 - should check if the given decoration already exist when null # time=73.409ms
    
    # Subtest: server methods should be encapsulated via .register
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 3 - server methods should be encapsulated via .register # time=7.966ms
    
    # Subtest: hasServerMethod should check if the given method already exist
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 4 - hasServerMethod should check if the given method already exist # time=8.914ms
    
    # Subtest: decorate should throw if a declared dependency is not present
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - (unnamed test)
    ok 5 - decorate should throw if a declared dependency is not present # time=9.126ms
    
    # Subtest: decorate should throw if declared dependency is not array
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - (unnamed test)
    ok 6 - decorate should throw if declared dependency is not array # time=11.026ms
    
    # Subtest: should pass error for missing request decorator
        1..2
        ok 1 - type is Error
        ok 2 - should match pattern provided
    ok 7 - should pass error for missing request decorator # time=7.565ms
    
    # Subtest: decorateReply inside register
        1..11
        ok 1 - should not error
        ok 2 - test exists
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 8 - decorateReply inside register # time=51.381ms
    
    # Subtest: decorateReply as plugin (inside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 9 - decorateReply as plugin (inside .after) # time=43.456ms
    
    # Subtest: decorateReply as plugin (outside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 10 - decorateReply as plugin (outside .after) # time=19.2ms
    
    # Subtest: decorateRequest inside register
        1..11
        ok 1 - should not error
        ok 2 - test exists
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 11 - decorateRequest inside register # time=20.257ms
    
    # Subtest: decorateRequest as plugin (inside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 12 - decorateRequest as plugin (inside .after) # time=29.191ms
    
    # Subtest: decorateRequest as plugin (outside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 13 - decorateRequest as plugin (outside .after) # time=17.103ms
    
    # Subtest: decorators should be instance separated
        1..1
        ok 1 - (unnamed test)
    ok 14 - decorators should be instance separated # time=2.55ms
    
    # Subtest: hasRequestDecorator
        # Subtest: is a function
            1..1
            ok 1 - expect truthy value
        ok 1 - is a function # time=1.836ms
        
        # Subtest: should check if the given request decoration already exist
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 2 - should check if the given request decoration already exist # time=2.394ms
        
        # Subtest: should check if the given request decoration already exist when null
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 3 - should check if the given request decoration already exist when null # time=2.54ms
        
        # Subtest: should be plugin encapsulable
            1..4
            ok 1 - expect falsey value
            ok 2 - expect falsey value
            ok 3 - expect truthy value
            ok 4 - expect falsey value
        ok 4 - should be plugin encapsulable # time=31.531ms
        
        # Subtest: should be inherited
            1..2
            ok 1 - expect truthy value
            ok 2 - expect truthy value
        ok 5 - should be inherited # time=7.334ms
        
        1..5
    ok 15 - hasRequestDecorator # time=68.932ms
    
    # Subtest: hasReplyDecorator
        # Subtest: is a function
            1..1
            ok 1 - expect truthy value
        ok 1 - is a function # time=1.369ms
        
        # Subtest: should check if the given reply decoration already exist
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 2 - should check if the given reply decoration already exist # time=1.677ms
        
        # Subtest: should check if the given reply decoration already exist when null
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 3 - should check if the given reply decoration already exist when null # time=1.489ms
        
        # Subtest: should be plugin encapsulable
            1..4
            ok 1 - expect falsey value
            ok 2 - expect falsey value
            ok 3 - expect truthy value
            ok 4 - expect falsey value
        ok 4 - should be plugin encapsulable # time=9.662ms
        
        # Subtest: should be inherited
            1..2
            ok 1 - expect truthy value
            ok 2 - expect truthy value
        ok 5 - should be inherited # time=11.155ms
        
        1..5
    ok 16 - hasReplyDecorator # time=128.193ms
    
    # Subtest: should register properties via getter/setter objects
        1..3
        ok 1 - expect truthy value
        ok 2 - a getter
        ok 3 - expect falsey value
    ok 17 - should register properties via getter/setter objects # time=3.56ms
    
    # Subtest: decorateRequest should work with getter/setter
        1..5
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - (unnamed test)
    ok 18 - decorateRequest should work with getter/setter # time=29.636ms
    
    # Subtest: decorateReply should work with getter/setter
        1..5
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - (unnamed test)
    ok 19 - decorateReply should work with getter/setter # time=14.846ms
    
    # Subtest: should register empty values
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 20 - should register empty values # time=3.326ms
    
    # Subtest: nested plugins can override things
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 21 - nested plugins can override things # time=4.231ms
    
    # Subtest: a decorator should addSchema to all the encapsulated tree
        1..1
        ok 1 - should not error
    ok 22 - a decorator should addSchema to all the encapsulated tree # time=4.386ms
    
    # Subtest: after can access to a decorated instance and previous plugin decoration
        1..11
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
    ok 23 - after can access to a decorated instance and previous plugin decoration # time=8.132ms
    
    # Subtest: decorate* should throw if called after ready
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 24 - decorate* should throw if called after ready # time=20.703ms
    
    # Subtest: decorate* should emit warning if an array is passed
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 25 - decorate* should emit warning if an array is passed # time=29.906ms
    
    # Subtest: decorate* should emit warning if object type is passed
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 26 - decorate* should emit warning if object type is passed # time=24.291ms
    
    # Subtest: decorate* should not emit warning if object with getter/setter is passed
        1..0
    ok 27 - decorate* should not emit warning if object with getter/setter is passed # time=22.937ms
    
    # Subtest: decorate* should not emit warning if string,bool,numbers are passed
        1..0
    ok 28 - decorate* should not emit warning if string,bool,numbers are passed # time=23.616ms
    
    # Subtest: Request/reply decorators should be able to access the server instance
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not be equal
        ok 4 - should be equal
        ok 5 - should not be equal
        ok 6 - should be equal
    ok 29 - Request/reply decorators should be able to access the server instance # time=8.572ms
    
    # Subtest: plugin required decorators
        1..0
    ok 30 - plugin required decorators # time=3.819ms
    
    # Subtest: decorateRequest/decorateReply empty string
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 31 - decorateRequest/decorateReply empty string # time=8.829ms
    
    # Subtest: decorateRequest/decorateReply is undefined
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 32 - decorateRequest/decorateReply is undefined # time=7.718ms
    
    # Subtest: decorateRequest/decorateReply is not set to a value
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 33 - decorateRequest/decorateReply is not set to a value # time=8.008ms
    
    # Subtest: decorateRequest with dependencies
        1..2
        ok 1 - expected to not throw
        ok 2 - expect truthy value
    ok 34 - decorateRequest with dependencies # time=1.619ms
    
    # Subtest: decorateRequest with dependencies (functions)
        1..2
        ok 1 - expected to not throw
        ok 2 - expect truthy value
    ok 35 - decorateRequest with dependencies (functions) # time=1.363ms
    
    # Subtest: chain of decorators on Request
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        1..6
    ok 36 - chain of decorators on Request # time=16.397ms
    
    # Subtest: chain of decorators on Reply
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        1..6
    ok 37 - chain of decorators on Reply # time=14.291ms
    
    1..37
    # time=819.58ms
ok 22 - test/decorator.test.js # time=819.58ms

# Subtest: test/default-route.test.js
    # Subtest: should fail if defaultRoute is not a function
        1..1
        ok 1 - should be equal
    ok 1 - should fail if defaultRoute is not a function # time=19.304ms
    
    # Subtest: correctly sets, returns, and calls defaultRoute
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 2 - correctly sets, returns, and calls defaultRoute # time=37.54ms
    
    1..2
    # time=66.11ms
ok 23 - test/default-route.test.js # time=66.11ms

# Subtest: test/delete.test.js
    # Subtest: shorthand - delete
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - delete # time=9.296ms
    
    # Subtest: shorthand - delete params
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - delete params # time=1.982ms
    
    # Subtest: shorthand - delete, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - delete, querystring schema # time=1.504ms
    
    # Subtest: shorthand - get, headers schema
        1..1
        ok 1 - (unnamed test)
    ok 4 - shorthand - get, headers schema # time=1.433ms
    
    # Subtest: missing schema - delete
        1..1
        ok 1 - (unnamed test)
    ok 5 - missing schema - delete # time=1.409ms
    
    # Subtest: body - delete
        1..1
        ok 1 - (unnamed test)
    ok 6 - body - delete # time=1.106ms
    
    # Subtest: shorthand - delete with application/json Content-Type header and without body
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - shorthand - delete with application/json Content-Type header and without body # time=60.214ms
    
    ok 8 - should not error
    # Subtest: shorthand - request delete
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 9 - shorthand - request delete # time=30.527ms
    
    # Subtest: shorthand - request delete params schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 10 - shorthand - request delete params schema # time=6.802ms
    
    # Subtest: shorthand - request delete params schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 11 - shorthand - request delete params schema error # time=6.539ms
    
    # Subtest: shorthand - request delete headers schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 12 - shorthand - request delete headers schema # time=4.982ms
    
    # Subtest: shorthand - request delete headers schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 13 - shorthand - request delete headers schema error # time=4.967ms
    
    # Subtest: shorthand - request delete querystring schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 14 - shorthand - request delete querystring schema # time=13.941ms
    
    # Subtest: shorthand - request delete querystring schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 15 - shorthand - request delete querystring schema error # time=5.558ms
    
    # Subtest: shorthand - request delete missing schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 16 - shorthand - request delete missing schema # time=5ms
    
    # Subtest: shorthand - delete with body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - shorthand - delete with body # time=8.101ms
    
    1..17
    # time=358.443ms
ok 24 - test/delete.test.js # time=358.443ms

# Subtest: test/diagnostics-channel.test.js
    # Subtest: diagnostics_channel when present and subscribers
        1..3
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should be equal
    ok 1 - diagnostics_channel when present and subscribers # time=1003.421ms
    
    # Subtest: diagnostics_channel when present and no subscribers
        1..1
        ok 1 - should be equal
    ok 2 - diagnostics_channel when present and no subscribers # time=18.628ms
    
    # Subtest: diagnostics_channel when not present
        1..1
        ok 1 - expected to not throw
    ok 3 - diagnostics_channel when not present # time=18.12ms
    
    1..3
    # time=1055.107ms
ok 25 - test/diagnostics-channel.test.js # time=1055.107ms

# Subtest: test/encapsulated-error-handler.test.js
    # Subtest: encapuslates an error handler
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 1 - encapuslates an error handler # time=64.591ms
    
    # Subtest: onError hook nested
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 2 - onError hook nested # time=11.145ms
    
    1..2
    # time=85.057ms
ok 26 - test/encapsulated-error-handler.test.js # time=85.057ms

# Subtest: test/esm/index.test.js
    # Subtest: named exports support
        ok 1 - should be equal
        1..1
    ok 1 - named exports support # time=46.473ms
    
    ok 2 - should be equal
    1..2
    # time=72.626ms
ok 27 - test/esm/index.test.js # time=72.626ms

# Subtest: test/fastify-instance.test.js
    # Subtest: root fastify instance is an object
        1..1
        ok 1 - type is object
    ok 1 - root fastify instance is an object # time=15.619ms
    
    # Subtest: fastify instance should contains ajv options
        1..1
        ok 1 - should be equivalent
    ok 2 - fastify instance should contains ajv options # time=6.901ms
    
    # Subtest: fastify instance should contains ajv options.plugins nested arrays
        1..1
        ok 1 - should be equivalent
    ok 3 - fastify instance should contains ajv options.plugins nested arrays # time=3.146ms
    
    # Subtest: fastify instance get invalid ajv options
        1..1
        ok 1 - expected to throw
    ok 4 - fastify instance get invalid ajv options # time=1.569ms
    
    # Subtest: fastify instance get invalid ajv options.plugins
        1..1
        ok 1 - expected to throw
    ok 5 - fastify instance get invalid ajv options.plugins # time=1.15ms
    
    # Subtest: fastify instance should contain default errorHandler
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 6 - fastify instance should contain default errorHandler # time=2.85ms
    
    # Subtest: errorHandler in plugin should be separate from the external one
        1..4
        ok 1 - should not be equivalent
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equivalent
    ok 7 - errorHandler in plugin should be separate from the external one # time=15.916ms
    
    1..7
    # time=71.48ms
ok 28 - test/fastify-instance.test.js # time=71.48ms

# Subtest: test/fluent-schema.test.js
    # Subtest: use fluent-json-schema object
        1..15
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equivalent
    ok 1 - use fluent-json-schema object # time=205.939ms
    
    # Subtest: use complex fluent-json-schema object
        1..1
        ok 1 - should not error
    ok 2 - use complex fluent-json-schema object # time=47.998ms
    
    # Subtest: use fluent schema and plain JSON schema
        1..1
        ok 1 - should not error
    ok 3 - use fluent schema and plain JSON schema # time=53.216ms
    
    # Subtest: Should call valueOf internally
        1..1
        ok 1 - should not error
    ok 4 - Should call valueOf internally # time=64.849ms
    
    1..4
    # time=381.045ms
ok 29 - test/fluent-schema.test.js # time=381.045ms

# Subtest: test/genReqId.test.js
    # Subtest: Should accept a custom genReqId function
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 1 - Should accept a custom genReqId function # time=69.254ms
    
    1..1
    # time=76.208ms
ok 30 - test/genReqId.test.js # time=76.208ms

# Subtest: test/get.test.js
    # Subtest: shorthand - get
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - get # time=9.586ms
    
    # Subtest: shorthand - get (return null)
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - get (return null) # time=2.038ms
    
    # Subtest: shorthand - get params
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - get params # time=2.28ms
    
    # Subtest: shorthand - get, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 4 - shorthand - get, querystring schema # time=2.12ms
    
    # Subtest: shorthand - get, headers schema
        1..1
        ok 1 - (unnamed test)
    ok 5 - shorthand - get, headers schema # time=1.866ms
    
    # Subtest: missing schema - get
        1..1
        ok 1 - (unnamed test)
    ok 6 - missing schema - get # time=1.519ms
    
    # Subtest: custom serializer - get
        1..1
        ok 1 - (unnamed test)
    ok 7 - custom serializer - get # time=1.973ms
    
    # Subtest: empty response
        1..1
        ok 1 - (unnamed test)
    ok 8 - empty response # time=1.929ms
    
    # Subtest: send a falsy boolean
        1..1
        ok 1 - (unnamed test)
    ok 9 - send a falsy boolean # time=1.719ms
    
    ok 10 - should not error
    # Subtest: shorthand - request get
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - shorthand - request get # time=45.002ms
    
    # Subtest: shorthand - request get params schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 12 - shorthand - request get params schema # time=6.42ms
    
    # Subtest: shorthand - request get params schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 13 - shorthand - request get params schema error # time=7.038ms
    
    # Subtest: shorthand - request get headers schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - shorthand - request get headers schema # time=4.751ms
    
    # Subtest: shorthand - request get headers schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 15 - shorthand - request get headers schema error # time=4.575ms
    
    # Subtest: shorthand - request get querystring schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 16 - shorthand - request get querystring schema # time=4.704ms
    
    # Subtest: shorthand - request get querystring schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - shorthand - request get querystring schema error # time=4.135ms
    
    # Subtest: shorthand - request get missing schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - shorthand - request get missing schema # time=4.13ms
    
    # Subtest: shorthand - custom serializer
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 19 - shorthand - custom serializer # time=4.712ms
    
    # Subtest: shorthand - empty response
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 20 - shorthand - empty response # time=6.618ms
    
    # Subtest: shorthand - send a falsy boolean
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - shorthand - send a falsy boolean # time=3.812ms
    
    # Subtest: shorthand - send null value
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - shorthand - send null value # time=3.753ms
    
    1..22
    # time=301.471ms
ok 31 - test/get.test.js # time=301.471ms

# Subtest: test/handler-context.test.js
    # Subtest: handlers receive correct `this` context
        1..4
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 1 - handlers receive correct `this` context # time=95.393ms
    
    # Subtest: handlers have access to the internal context
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - type is Object
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 2 - handlers have access to the internal context # time=16.442ms
    
    1..2
    # time=120.333ms
ok 32 - test/handler-context.test.js # time=120.333ms

# Subtest: test/head.test.js
    # Subtest: shorthand - head
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - head # time=10.165ms
    
    # Subtest: shorthand - head params
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - head params # time=2.987ms
    
    # Subtest: shorthand - head, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - head, querystring schema # time=2.044ms
    
    # Subtest: missing schema - head
        1..1
        ok 1 - (unnamed test)
    ok 4 - missing schema - head # time=1.896ms
    
    ok 5 - should not error
    # Subtest: shorthand - request head
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 6 - shorthand - request head # time=35.632ms
    
    # Subtest: shorthand - request head params schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 7 - shorthand - request head params schema # time=6.282ms
    
    # Subtest: shorthand - request head params schema error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 8 - shorthand - request head params schema error # time=6.27ms
    
    # Subtest: shorthand - request head querystring schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 9 - shorthand - request head querystring schema # time=4.986ms
    
    # Subtest: shorthand - request head querystring schema error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - shorthand - request head querystring schema error # time=12.443ms
    
    # Subtest: shorthand - request head missing schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 11 - shorthand - request head missing schema # time=4.375ms
    
    1..11
    # time=247.346ms
ok 33 - test/head.test.js # time=247.346ms

# Subtest: test/hooks-async.test.js
    # Subtest: async hooks
        1..21
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - should not error
        ok 13 - should be equal
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equivalent
        ok 18 - should not error
        ok 19 - should be equal
        ok 20 - expect truthy value
        ok 21 - expect truthy value
    ok 1 - async hooks # time=125.688ms
    
    # Subtest: modify payload
        1..10
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - expect truthy value
        ok 4 - should be equivalent
        ok 5 - expect truthy value
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
    ok 2 - modify payload # time=42.004ms
    
    # Subtest: onRequest hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 3 - onRequest hooks should be able to block a request # time=10.482ms
    
    # Subtest: preParsing hooks should be able to modify the payload
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 4 - preParsing hooks should be able to modify the payload # time=8.182ms
    
    # Subtest: preParsing hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 5 - preParsing hooks should handle errors # time=6.174ms
    
    # Subtest: preHandler hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 6 - preHandler hooks should be able to block a request # time=12.57ms
    
    # Subtest: preValidation hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 7 - preValidation hooks should be able to block a request # time=4.636ms
    
    # Subtest: preValidation hooks should be able to change request body before validation
        1..4
        ok 1 - (unnamed test)
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - preValidation hooks should be able to change request body before validation # time=107.973ms
    
    # Subtest: preSerialization hooks should be able to modify the payload
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - preSerialization hooks should be able to modify the payload # time=6.691ms
    
    # Subtest: preSerialization hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - preSerialization hooks should handle errors # time=7.179ms
    
    # Subtest: preValidation hooks should handle throwing null
        1..4
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - preValidation hooks should handle throwing null # time=17.856ms
    
    # Subtest: preValidation hooks should handle throwing a string
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 12 - preValidation hooks should handle throwing a string # time=14.036ms
    
    # Subtest: onRequest hooks should be able to block a request (last hook)
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 13 - onRequest hooks should be able to block a request (last hook) # time=9.785ms
    
    # Subtest: preHandler hooks should be able to block a request (last hook)
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 14 - preHandler hooks should be able to block a request (last hook) # time=5.727ms
    
    # Subtest: onRequest respond with a stream
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - onRequest respond with a stream # time=10.854ms
    
    # Subtest: preHandler respond with a stream
        1..7
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 16 - preHandler respond with a stream # time=35.204ms
    
    # Subtest: Should log a warning if is an async function with `done`
        # Subtest: 3 arguments
            1..1
            ok 1 - expect truthy value
        ok 1 - 3 arguments # time=1.802ms
        
        # Subtest: 4 arguments
            1..3
            ok 1 - expect truthy value
            ok 2 - expect truthy value
            ok 3 - expect truthy value
        ok 2 - 4 arguments # time=2.151ms
        
        1..2
    ok 17 - Should log a warning if is an async function with `done` # time=16.78ms
    
    # Subtest: early termination, onRequest async
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 18 - early termination, onRequest async # time=6.65ms
    
    # Subtest: The this should be the same of the encapsulation level
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        1..4
    ok 19 - The this should be the same of the encapsulation level # time=36.287ms
    
    # Subtest: preSerializationEnd should handle errors if the serialize method throws
        # Subtest: works with sync preSerialization
            1..2
            ok 1 - should not error
            ok 2 - should not be equal
        ok 1 - works with sync preSerialization # time=14.029ms
        
        # Subtest: works with async preSerialization
            1..2
            ok 1 - should not error
            ok 2 - should not be equal
        ok 2 - works with async preSerialization # time=5.652ms
        
        1..2
    ok 20 - preSerializationEnd should handle errors if the serialize method throws # time=24.072ms
    
    1..20
    # time=522.384ms
ok 34 - test/hooks-async.test.js # time=522.384ms

# Subtest: test/hooks.on-ready.test.js
    # Subtest: onReady should be called in order
        1..7
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
        ok 7 - should not error
    ok 1 - onReady should be called in order # time=74.145ms
    
    # Subtest: async onReady should be called in order
        1..7
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
        ok 7 - ready
    ok 2 - async onReady should be called in order # time=10.478ms
    
    # Subtest: mix ready and onReady
        1..2
        ok 1 - should be equal
        ok 2 - ready hooks execute once
    ok 3 - mix ready and onReady # time=7.373ms
    
    # Subtest: listen and onReady order
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - trigger the onReady
        ok 9 - do not trigger the onReady
    ok 4 - listen and onReady order # time=18.293ms
    
    # Subtest: multiple ready calls
        1..11
        ok 1 - ready and hooks not triggered yet
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - trigger the onReady
        ok 10 - do not trigger the onReady
        ok 11 - do not trigger the onReady
    ok 5 - multiple ready calls # time=8.993ms
    
    # Subtest: onReady should manage error in sync
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 6 - onReady should manage error in sync # time=5.973ms
    
    # Subtest: onReady should manage error in async
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 7 - onReady should manage error in async # time=15.864ms
    
    # Subtest: onReady should manage sync error
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 8 - onReady should manage sync error # time=5.436ms
    
    # Subtest: onReady can not add decorators or application hooks
        1..3
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should not error
    ok 9 - onReady can not add decorators or application hooks # time=5.026ms
    
    # Subtest: onReady cannot add lifecycle hooks
        1..5
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 10 - onReady cannot add lifecycle hooks # time=9.27ms
    
    # Subtest: onReady throw loading error
        1..1
        ok 1 - expect truthy value
    ok 11 - onReady throw loading error # time=1.989ms
    
    # Subtest: onReady does not call done
        1..6
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
        ok 6 - should be equal
    ok 12 - onReady does not call done # time=517.103ms
    
    # Subtest: onReady execution order
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 13 - onReady execution order # time=7.63ms
    
    # Subtest: ready return the server with callback
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 14 - ready return the server with callback # time=11.672ms
    
    # Subtest: ready return the server with Promise
        1..1
        ok 1 - should be equivalent
    ok 15 - ready return the server with Promise # time=5.831ms
    
    # Subtest: ready return registered
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
    ok 16 - ready return registered # time=9.894ms
    
    1..16
    # time=748.216ms
ok 35 - test/hooks.on-ready.test.js # time=748.216ms

# Subtest: test/hooks.test.js
    # Subtest: hooks
        1..43
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - (unnamed test)
        ok 4 - (unnamed test)
        ok 5 - (unnamed test)
        ok 6 - (unnamed test)
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - expect truthy value
        ok 20 - expect truthy value
        ok 21 - expect truthy value
        ok 22 - expect truthy value
        ok 23 - should be equal
        ok 24 - should be equal
        ok 25 - should be equal
        ok 26 - should be equal
        ok 27 - should be equal
        ok 28 - should be equal
        ok 29 - should be equal
        ok 30 - should be equal
        ok 31 - should be equal
        ok 32 - expect truthy value
        ok 33 - expect truthy value
        ok 34 - expect truthy value
        ok 35 - expect truthy value
        ok 36 - should not error
        ok 37 - should be equal
        ok 38 - should be equal
        ok 39 - should be equivalent
        ok 40 - should not error
        ok 41 - should be equal
        ok 42 - should not error
        ok 43 - should be equal
    ok 1 - hooks # time=152.155ms
    
    # Subtest: onRequest hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 2 - onRequest hook should support encapsulation / 1 # time=29.432ms
    
    # Subtest: onRequest hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 3 - onRequest hook should support encapsulation / 2 # time=6.13ms
    
    # Subtest: onRequest hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect falsey value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 4 - onRequest hook should support encapsulation / 3 # time=52.412ms
    
    # Subtest: preHandler hook should support encapsulation / 5
        1..17
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equivalent
    ok 5 - preHandler hook should support encapsulation / 5 # time=22.507ms
    
    # Subtest: onRoute hook should be called / 1
        1..2
        ok 1 - (unnamed test)
        ok 2 - should not error
    ok 6 - onRoute hook should be called / 1 # time=5.546ms
    
    # Subtest: onRoute hook should be called / 2
        1..5
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 7 - onRoute hook should be called / 2 # time=9.308ms
    
    # Subtest: onRoute hook should be called / 3
        1..5
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - (unnamed test)
        ok 5 - should not error
    ok 8 - onRoute hook should be called / 3 # time=16.786ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 4
        1..4
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - (unnamed test)
        ok 4 - should not error
    ok 9 - onRoute hook should be called (encapsulation support) / 4 # time=15.233ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 5
        1..2
        ok 1 - (unnamed test)
        ok 2 - should not error
    ok 10 - onRoute hook should be called (encapsulation support) / 5 # time=7.21ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 6
        1..1
        ok 1 - should not error
    ok 11 - onRoute hook should be called (encapsulation support) / 6 # time=4.41ms
    
    # Subtest: onRoute should keep the context
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
    ok 12 - onRoute should keep the context # time=13.617ms
    
    # Subtest: onRoute hook should pass correct route
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should not error
    ok 13 - onRoute hook should pass correct route # time=5.937ms
    
    # Subtest: onRoute hook should pass correct route with custom prefix
        1..11
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
    ok 14 - onRoute hook should pass correct route with custom prefix # time=6.46ms
    
    # Subtest: onRoute hook should pass correct route with custom options
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - type is function
        ok 6 - should not error
    ok 15 - onRoute hook should pass correct route with custom options # time=14.405ms
    
    # Subtest: onRoute hook should receive any route option
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 16 - onRoute hook should receive any route option # time=6.064ms
    
    # Subtest: onRoute hook should preserve system route configuration
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 17 - onRoute hook should preserve system route configuration # time=5.174ms
    
    # Subtest: onRoute hook should preserve handler function in options of shorthand route system configuration
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 18 - onRoute hook should preserve handler function in options of shorthand route system configuration # time=4.54ms
    
    # Subtest: onRoute hook should be called once when prefixTrailingSlash
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 19 - onRoute hook should be called once when prefixTrailingSlash # time=18.786ms
    
    # Subtest: onRoute hook should able to change the route url
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 20 - onRoute hook should able to change the route url # time=28.886ms
    
    # Subtest: onRoute hook that throws should be caught
        1..1
        ok 1 - expect truthy value
    ok 21 - onRoute hook that throws should be caught # time=3.956ms
    
    # Subtest: onRoute hook with many prefix
        1..3
        ok 1 - should match pattern provided
        ok 2 - should match pattern provided
        ok 3 - should not error
    ok 22 - onRoute hook with many prefix # time=25.7ms
    
    # Subtest: onRoute hook should not be called when it registered after route
        1..3
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
    ok 23 - onRoute hook should not be called when it registered after route # time=4.073ms
    
    # Subtest: onResponse hook should log request error
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 24 - onResponse hook should log request error # time=14.067ms
    
    # Subtest: onResponse hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 25 - onResponse hook should support encapsulation / 1 # time=10.464ms
    
    # Subtest: onResponse hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 26 - onResponse hook should support encapsulation / 2 # time=3.956ms
    
    # Subtest: onResponse hook should support encapsulation / 3
        1..16
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 27 - onResponse hook should support encapsulation / 3 # time=17.965ms
    
    # Subtest: onSend hook should support encapsulation / 1
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 28 - onSend hook should support encapsulation / 1 # time=10.643ms
    
    # Subtest: onSend hook should support encapsulation / 2
        1..16
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 29 - onSend hook should support encapsulation / 2 # time=14.702ms
    
    # Subtest: onSend hook is called after payload is serialized and headers are set
        1..30
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should be equal
        ok 15 - should not error
        ok 16 - should be equal
        ok 17 - should be equivalent
        ok 18 - should be equal
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equivalent
        ok 22 - should be equal
        ok 23 - should not error
        ok 24 - should be equal
        ok 25 - should be equivalent
        ok 26 - should be equal
        ok 27 - should not error
        ok 28 - should be equal
        ok 29 - should be equivalent
        ok 30 - should be equal
    ok 30 - onSend hook is called after payload is serialized and headers are set # time=38.69ms
    
    # Subtest: modify payload
        1..10
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - expect truthy value
        ok 4 - should be equivalent
        ok 5 - expect truthy value
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
    ok 31 - modify payload # time=14.141ms
    
    # Subtest: clear payload
        1..6
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 32 - clear payload # time=15.803ms
    
    # Subtest: onSend hook throws
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 33 - onSend hook throws # time=47.399ms
    
    # Subtest: onSend hook should receive valid request and reply objects if onRequest hook fails
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 34 - onSend hook should receive valid request and reply objects if onRequest hook fails # time=14.293ms
    
    # Subtest: onSend hook should receive valid request and reply objects if a custom content type parser fails
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 35 - onSend hook should receive valid request and reply objects if a custom content type parser fails # time=13.115ms
    
    # Subtest: Content-Length header should be updated if onSend hook modifies the payload
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 36 - Content-Length header should be updated if onSend hook modifies the payload # time=5.014ms
    
    # Subtest: cannot add hook after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 37 - cannot add hook after binding # time=21.22ms
    
    # Subtest: onRequest hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 38 - onRequest hooks should be able to block a request # time=5.051ms
    
    # Subtest: preValidation hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 39 - preValidation hooks should be able to block a request # time=4.78ms
    
    # Subtest: preValidation hooks should be able to change request body before validation
        1..4
        ok 1 - (unnamed test)
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 40 - preValidation hooks should be able to change request body before validation # time=94.964ms
    
    # Subtest: preParsing hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 41 - preParsing hooks should be able to block a request # time=4.802ms
    
    # Subtest: preHandler hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 42 - preHandler hooks should be able to block a request # time=11.009ms
    
    # Subtest: onRequest hooks should be able to block a request (last hook)
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 43 - onRequest hooks should be able to block a request (last hook) # time=4.221ms
    
    # Subtest: preHandler hooks should be able to block a request (last hook)
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 44 - preHandler hooks should be able to block a request (last hook) # time=8.216ms
    
    # Subtest: preParsing hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 45 - preParsing hooks should handle errors # time=16.458ms
    
    # Subtest: onRequest respond with a stream
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 46 - onRequest respond with a stream # time=12.076ms
    
    # Subtest: preHandler respond with a stream
        1..7
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 47 - preHandler respond with a stream # time=7.405ms
    
    # Subtest: Register an hook after a plugin inside a plugin
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 48 - Register an hook after a plugin inside a plugin # time=15.17ms
    
    # Subtest: Register an hook after a plugin inside a plugin (with preHandler option)
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 49 - Register an hook after a plugin inside a plugin (with preHandler option) # time=7.314ms
    
    # Subtest: Register hooks inside a plugin after an encapsulated plugin
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 50 - Register hooks inside a plugin after an encapsulated plugin # time=7.812ms
    
    # Subtest: onRequest hooks should run in the order in which they are defined
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 51 - onRequest hooks should run in the order in which they are defined # time=8.589ms
    
    # Subtest: preHandler hooks should run in the order in which they are defined
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 52 - preHandler hooks should run in the order in which they are defined # time=7.667ms
    
    # Subtest: onSend hooks should run in the order in which they are defined
        1..8
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equivalent
    ok 53 - onSend hooks should run in the order in which they are defined # time=7.149ms
    
    # Subtest: onResponse hooks should run in the order in which they are defined
        1..8
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equivalent
    ok 54 - onResponse hooks should run in the order in which they are defined # time=8.459ms
    
    # Subtest: onRequest, preHandler, and onResponse hooks that resolve to a value do not cause an error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 55 - onRequest, preHandler, and onResponse hooks that resolve to a value do not cause an error # time=4.712ms
    
    # Subtest: If a response header has been set inside an hook it shoulod not be overwritten by the final response handler
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 56 - If a response header has been set inside an hook it shoulod not be overwritten by the final response handler # time=4.309ms
    
    # Subtest: If the content type has been set inside an hook it should not be changed
        1..5
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 57 - If the content type has been set inside an hook it should not be changed # time=4.383ms
    
    # Subtest: request in onRequest, preParsing, preValidation and onResponse
        1..18
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equivalent
        ok 10 - should be equivalent
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equivalent
        ok 14 - should be equivalent
        ok 15 - should be equivalent
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
    ok 58 - request in onRequest, preParsing, preValidation and onResponse # time=27.075ms
    
    # Subtest: preValidation hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 59 - preValidation hook should support encapsulation / 1 # time=6.663ms
    
    # Subtest: preValidation hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 60 - preValidation hook should support encapsulation / 2 # time=19.607ms
    
    # Subtest: preValidation hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 61 - preValidation hook should support encapsulation / 3 # time=29.643ms
    
    # Subtest: onError hook
        1..3
        ok 1 - should match pattern provided
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 62 - onError hook # time=5.472ms
    
    # Subtest: reply.send should throw if called inside the onError hook
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 63 - reply.send should throw if called inside the onError hook # time=5.012ms
    
    # Subtest: onError hook with setErrorHandler
        # Subtest: Send error
            1..3
            ok 1 - should match pattern provided
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 1 - Send error # time=5.316ms
        
        1..1
    ok 64 - onError hook with setErrorHandler # time=10.575ms
    
    # Subtest: preParsing hook should run before parsing and be able to modify the payload
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 65 - preParsing hook should run before parsing and be able to modify the payload # time=10.505ms
    
    # Subtest: preParsing hooks should run in the order in which they are defined
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 66 - preParsing hooks should run in the order in which they are defined # time=7.4ms
    
    # Subtest: preParsing hooks should support encapsulation
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 67 - preParsing hooks should support encapsulation # time=11.661ms
    
    # Subtest: preParsing hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 68 - preParsing hook should support encapsulation / 1 # time=6.317ms
    
    # Subtest: preParsing hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 69 - preParsing hook should support encapsulation / 2 # time=5.849ms
    
    # Subtest: preParsing hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 70 - preParsing hook should support encapsulation / 3 # time=14.134ms
    
    # Subtest: preSerialization hook should run before serialization and be able to modify the payload
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 71 - preSerialization hook should run before serialization and be able to modify the payload # time=14.882ms
    
    # Subtest: preSerialization hook should be able to throw errors which are validated against schema response
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        1..6
    ok 72 - preSerialization hook should be able to throw errors which are validated against schema response # time=10.641ms
    
    # Subtest: preSerialization hook which returned error should still run onError hooks
        1..4
        ok 1 - should not error
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - should be equal
    ok 73 - preSerialization hook which returned error should still run onError hooks # time=7.256ms
    
    # Subtest: preSerialization hooks should run in the order in which they are defined
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 74 - preSerialization hooks should run in the order in which they are defined # time=9.099ms
    
    # Subtest: preSerialization hooks should support encapsulation
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 75 - preSerialization hooks should support encapsulation # time=13.754ms
    
    # Subtest: onRegister hook should be called / 1
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should not error
    ok 76 - onRegister hook should be called / 1 # time=4.336ms
    
    # Subtest: onRegister hook should be called / 2
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
    ok 77 - onRegister hook should be called / 2 # time=5.937ms
    
    # Subtest: onRegister hook should be called / 3
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
    ok 78 - onRegister hook should be called / 3 # time=6.149ms
    
    # Subtest: onRegister hook should be called (encapsulation)
        1..1
        ok 1 - should not error
    ok 79 - onRegister hook should be called (encapsulation) # time=2.669ms
    
    # Subtest: early termination, onRequest
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 80 - early termination, onRequest # time=5.631ms
    
    # Subtest: reply.send should throw if undefined error is thrown
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 81 - reply.send should throw if undefined error is thrown # time=7.346ms
    
    # Subtest: reply.send should throw if undefined error is thrown at preParsing hook
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 82 - reply.send should throw if undefined error is thrown at preParsing hook # time=14.448ms
    
    # Subtest: reply.send should throw if undefined error is thrown at onSend hook
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 83 - reply.send should throw if undefined error is thrown at onSend hook # time=4.819ms
    
    # Subtest: onTimeout should be triggered
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - onTimeout
        ok 5 - type is Error
        ok 6 - should be equal
    ok 84 - onTimeout should be triggered # time=544.56ms
    
    # Subtest: onTimeout should be triggered and socket _meta is set
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - onTimeout
        ok 5 - type is Error
        ok 6 - should be equal
    ok 85 - onTimeout should be triggered and socket _meta is set # time=508.885ms
    
    1..85
    # time=2331.195ms
ok 36 - test/hooks.test.js # time=2331.195ms

# Subtest: test/http2/closing.test.js
    # Subtest: http/2 request while fastify closing
        ok 1 - http2 successfully loaded
        ok 2 - should not error
        # Subtest: return 200
            ok 1 - should be equal
            1..1
        ok 3 - return 200 # time=12.066ms
        
        1..3
    ok 1 - http/2 request while fastify closing # time=58.563ms
    
    # Subtest: http/2 request while fastify closing - return503OnClosing: false
        ok 1 - http2 successfully loaded
        ok 2 - should not error
        # Subtest: return 200
            ok 1 - should be equal
            1..1
        ok 3 - return 200 # time=4.741ms
        
        1..3
    ok 2 - http/2 request while fastify closing - return503OnClosing: false # time=13.759ms
    
    # Subtest: http/2 closes successfully with async await
        1..0
    ok 3 - http/2 closes successfully with async await # time=109.897ms
    
    # Subtest: https/2 closes successfully with async await
        1..0
    ok 4 - https/2 closes successfully with async await # time=13.263ms
    
    # Subtest: http/2 server side session emits a timeout event
        ok 1 - should be equal
        1..1
    ok 5 - http/2 server side session emits a timeout event # time=107.888ms
    
    1..5
    # time=330.205ms
ok 37 - test/http2/closing.test.js # time=330.205ms

# Subtest: test/http2/constraint.test.js
    # Subtest: A route supports host constraints under http2 protocol and secure connection
        1..5
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request - no constrain
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - https get request - no constrain # time=42.913ms
        
        # Subtest: https get request - constrain
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - https get request - constrain # time=13.624ms
        
        # Subtest: https get request - constrain - not found
            1..1
            ok 1 - should be equal
        ok 5 - https get request - constrain - not found # time=10.703ms
        
    ok 1 - A route supports host constraints under http2 protocol and secure connection # time=159.315ms
    
    1..1
    # time=189.97ms
ok 38 - test/http2/constraint.test.js # time=189.97ms

# Subtest: test/http2/head.test.js
    ok 1 - http2 successfully loaded
    ok 2 - should not error
    # Subtest: http HEAD request
        1..1
        ok 1 - should be equal
    ok 3 - http HEAD request # time=59.47ms
    
    1..3
    # time=140.787ms
ok 39 - test/http2/head.test.js # time=140.787ms

# Subtest: test/http2/missing-http2-module.test.js
    # Subtest: should throw when http2 module cannot be found
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - should throw when http2 module cannot be found # time=11.128ms
    
    1..1
    # time=16.601ms
ok 40 - test/http2/missing-http2-module.test.js # time=16.601ms

# Subtest: test/http2/plain.test.js
    ok 1 - http2 successfully loaded
    ok 2 - should not error
    # Subtest: http get request
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 3 - http get request # time=37.087ms
    
    # Subtest: http hostname
        1..1
        ok 1 - should be equal
    ok 4 - http hostname # time=7.917ms
    
    1..4
    # time=158.358ms
ok 41 - test/http2/plain.test.js # time=158.358ms

# Subtest: test/http2/secure-with-fallback.test.js
    # Subtest: secure with fallback
        1..7
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get error
            1..1
            ok 1 - should be equal
        ok 3 - https get error # time=53.109ms
        
        # Subtest: https post
            1..2
            ok 1 - should be equal
            ok 2 - should be equivalent
        ok 4 - https post # time=18.759ms
        
        # Subtest: https get request
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - https get request # time=17.468ms
        
        # Subtest: http1 get request
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 6 - http1 get request # time=19.399ms
        
        # Subtest: http1 get error
            1..2
            ok 1 - should not error
            ok 2 - should be equal
        ok 7 - http1 get error # time=7.959ms
        
    ok 1 - secure with fallback # time=233.229ms
    
    1..1
    # time=264.504ms
ok 42 - test/http2/secure-with-fallback.test.js # time=264.504ms

# Subtest: test/http2/secure.test.js
    # Subtest: secure
        1..4
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - https get request # time=39.849ms
        
        # Subtest: https get request without trust proxy - protocol
            1..2
            ok 1 - should be equivalent
            ok 2 - should be equivalent
        ok 4 - https get request without trust proxy - protocol # time=23.245ms
        
    ok 1 - secure # time=148.966ms
    
    1..1
    # time=179.925ms
ok 43 - test/http2/secure.test.js # time=179.925ms

# Subtest: test/http2/unknown-http-method.test.js
    ok 1 - should not error
    # Subtest: http UNKNOWN_METHOD request
        1..2
        ok 1 - should be equal
        ok 2 - should be equivalent
    ok 2 - http UNKNOWN_METHOD request # time=34.958ms
    
    1..2
    # time=98.161ms
ok 44 - test/http2/unknown-http-method.test.js # time=98.161ms

# Subtest: test/https/custom-https-server.test.js
    # Subtest: Should support a custom https server
        1..4
        ok 1 - it is called twice for every HOST interface
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - Should support a custom https server # time=86.535ms
    
    1..1
    # time=125.76ms
ok 45 - test/https/custom-https-server.test.js # time=125.76ms

# Subtest: test/https/https.test.js
    # Subtest: https
        1..4
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 3 - https get request # time=39.917ms
        
        # Subtest: https get request without trust proxy - protocol
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 4 - https get request without trust proxy - protocol # time=16.821ms
        
    ok 1 - https # time=140.082ms
    
    1..1
    # time=170.272ms
ok 46 - test/https/https.test.js # time=170.272ms

# Subtest: test/imports.test.js
    # Subtest: should import as default
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 1 - should import as default # time=834.013ms
    
    # Subtest: should import as esm
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 2 - should import as esm # time=2.171ms
    
    1..2
    # time=846.769ms
ok 47 - test/imports.test.js # time=846.769ms

# Subtest: test/inject.test.js
    # Subtest: inject should exist
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 1 - inject should exist # time=16.914ms
    
    # Subtest: should wait for the ready event
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 2 - should wait for the ready event # time=617.848ms
    
    # Subtest: inject get request
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 3 - inject get request # time=12.004ms
    
    # Subtest: inject get request - code check
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 4 - inject get request - code check # time=24.546ms
    
    # Subtest: inject get request - headers check
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 5 - inject get request - headers check # time=13.022ms
    
    # Subtest: inject get request - querystring
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 6 - inject get request - querystring # time=6.935ms
    
    # Subtest: inject get request - params
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 7 - inject get request - params # time=6.329ms
    
    # Subtest: inject get request - wildcard
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - inject get request - wildcard # time=6.551ms
    
    # Subtest: inject get request - headers
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 9 - inject get request - headers # time=28.945ms
    
    # Subtest: inject post request
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 10 - inject post request # time=25.34ms
    
    # Subtest: inject post request - send stream
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 11 - inject post request - send stream # time=11.652ms
    
    # Subtest: inject get request - reply stream
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 12 - inject get request - reply stream # time=8.339ms
    
    # Subtest: inject promisify - waiting for ready event
        1..1
        ok 1 - should be equal
    ok 13 - inject promisify - waiting for ready event # time=19.168ms
    
    # Subtest: inject promisify - after the ready event
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 14 - inject promisify - after the ready event # time=14.611ms
    
    # Subtest: inject promisify - when the server is up
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 15 - inject promisify - when the server is up # time=15.988ms
    
    # Subtest: should reject in error case
        1..1
        ok 1 - should be equal
    ok 16 - should reject in error case # time=504.588ms
    
    # Subtest: inject a multipart request using form-body
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 17 - inject a multipart request using form-body # time=7.433ms
    
    # Subtest: should error the promise if ready errors
        1..3
        ok 1 - after is called
        ok 2 - expect truthy value
        ok 3 - should be equal
    ok 18 - should error the promise if ready errors # time=8.696ms
    
    # Subtest: should throw error if callback specified and if ready errors
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 19 - should throw error if callback specified and if ready errors # time=3.998ms
    
    # Subtest: should support builder-style injection with ready app
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
    ok 20 - should support builder-style injection with ready app # time=6.674ms
    
    # Subtest: should support builder-style injection with non-ready app
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
    ok 21 - should support builder-style injection with non-ready app # time=5.988ms
    
    # Subtest: should handle errors in builder-style injection correctly
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 22 - should handle errors in builder-style injection correctly # time=4.563ms
    
    1..22
    # time=1398.287ms
ok 48 - test/inject.test.js # time=1398.287ms

# Subtest: test/internals/all.test.js
    # Subtest: fastify.all should add all the methods to the same url
        1..14
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equivalent
    ok 1 - fastify.all should add all the methods to the same url # time=53.181ms
    
    1..1
    # time=57.128ms
ok 49 - test/internals/all.test.js # time=57.128ms

# Subtest: test/internals/contentTypeParser.test.js
    # Subtest: rawBody function
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - rawBody function # time=29.437ms
    
    # Subtest: Should support Webpack and faux modules
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - Should support Webpack and faux modules # time=10.171ms
    
    1..2
    # time=46.636ms
ok 50 - test/internals/contentTypeParser.test.js # time=46.636ms

# Subtest: test/internals/decorator.test.js
    # Subtest: decorate should add the given method to its instance
        1..1
        ok 1 - expect truthy value
    ok 1 - decorate should add the given method to its instance # time=5.685ms
    
    # Subtest: decorate is chainable
        1..3
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
    ok 2 - decorate is chainable # time=1.913ms
    
    # Subtest: checkExistence should check if a property is part of the given instance
        1..1
        ok 1 - expect truthy value
    ok 3 - checkExistence should check if a property is part of the given instance # time=1.213ms
    
    # Subtest: checkExistence should find the instance if not given
        1..1
        ok 1 - expect truthy value
    ok 4 - checkExistence should find the instance if not given # time=1.127ms
    
    # Subtest: checkExistence should check the prototype as well
        1..1
        ok 1 - expect truthy value
    ok 5 - checkExistence should check the prototype as well # time=0.994ms
    
    # Subtest: checkDependencies should throw if a dependency is not present
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 6 - checkDependencies should throw if a dependency is not present # time=1.535ms
    
    # Subtest: decorate should internally call checkDependencies
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 7 - decorate should internally call checkDependencies # time=0.967ms
    
    # Subtest: decorate should recognize getter/setter objects
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - (unnamed test)
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 8 - decorate should recognize getter/setter objects # time=1.984ms
    
    1..8
    # time=71.092ms
ok 51 - test/internals/decorator.test.js # time=71.092ms

# Subtest: test/internals/handleRequest.test.js
    # Subtest: handleRequest function - sent reply
        1..1
        ok 1 - should be equal
    ok 1 - handleRequest function - sent reply # time=5.893ms
    
    # Subtest: handleRequest function - invoke with error
        1..1
        ok 1 - should be equal
    ok 2 - handleRequest function - invoke with error # time=1.382ms
    
    # Subtest: handler function - invalid schema
        1..1
        ok 1 - errorHandler called
    ok 3 - handler function - invalid schema # time=85.503ms
    
    # Subtest: handler function - reply
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - (unnamed test)
    ok 4 - handler function - reply # time=2.898ms
    
    # Subtest: handler function - preValidationCallback with finished response
        1..0
    ok 5 - handler function - preValidationCallback with finished response # time=0.759ms
    
    # Subtest: request should be defined in onSend Hook on post request with content type application/json
        1..8
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - should not error
        ok 8 - should be equal
    ok 6 - request should be defined in onSend Hook on post request with content type application/json # time=393.441ms
    
    # Subtest: request should be defined in onSend Hook on post request with content type application/x-www-form-urlencoded
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - should be equal
    ok 7 - request should be defined in onSend Hook on post request with content type application/x-www-form-urlencoded # time=16.965ms
    
    # Subtest: request should be defined in onSend Hook on options request with content type application/x-www-form-urlencoded
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - should be equal
    ok 8 - request should be defined in onSend Hook on options request with content type application/x-www-form-urlencoded # time=32.977ms
    
    # Subtest: request should respond with an error if an unserialized payload is sent inside an async handler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
    ok 9 - request should respond with an error if an unserialized payload is sent inside an async handler # time=33.285ms
    
    1..9
    # time=595.452ms
ok 52 - test/internals/handleRequest.test.js # time=595.452ms

# Subtest: test/internals/hookRunner.test.js
    # Subtest: hookRunner - Basic
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 1 - hookRunner - Basic # time=25.287ms
    
    # Subtest: hookRunner - In case of error should skip to done
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 2 - hookRunner - In case of error should skip to done # time=3.689ms
    
    # Subtest: hookRunner - Should handle throw
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 3 - hookRunner - Should handle throw # time=3.03ms
    
    # Subtest: hookRunner - Should handle promises
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 4 - hookRunner - Should handle promises # time=29.072ms
    
    # Subtest: hookRunner - In case of error should skip to done (with promises)
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 5 - hookRunner - In case of error should skip to done (with promises) # time=3.416ms
    
    # Subtest: hookRunner - Be able to exit before its natural end
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 6 - hookRunner - Be able to exit before its natural end # time=1.884ms
    
    # Subtest: hookRunner - Promises that resolve to a value do not change the state
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 7 - hookRunner - Promises that resolve to a value do not change the state # time=2.266ms
    
    # Subtest: onSendHookRunner - Basic
        1..13
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equal
        ok 10 - should not error
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equal
    ok 8 - onSendHookRunner - Basic # time=9.968ms
    
    # Subtest: onSendHookRunner - Can change the payload
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 9 - onSendHookRunner - Can change the payload # time=4.755ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 10 - onSendHookRunner - In case of error should skip to done # time=3.315ms
    
    # Subtest: onSendHookRunner - Should handle promises
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 11 - onSendHookRunner - Should handle promises # time=3.85ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done (with promises)
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 12 - onSendHookRunner - In case of error should skip to done (with promises) # time=3.715ms
    
    # Subtest: onSendHookRunner - Be able to exit before its natural end
        1..2
        ok 1 - should be equivalent
        ok 2 - should be equivalent
    ok 13 - onSendHookRunner - Be able to exit before its natural end # time=1.524ms
    
    1..13
    # time=134.142ms
ok 53 - test/internals/hookRunner.test.js # time=134.142ms

# Subtest: test/internals/hooks.test.js
    # Subtest: hooks should have 4 array with the registered hooks
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        1..8
    ok 1 - hooks should have 4 array with the registered hooks # time=8.172ms
    
    # Subtest: hooks.add should add a hook to the given hook
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        1..14
    ok 2 - hooks.add should add a hook to the given hook # time=4.297ms
    
    # Subtest: hooks should throw on unexisting handler
        1..1
        ok 1 - (unnamed test)
    ok 3 - hooks should throw on unexisting handler # time=1.002ms
    
    # Subtest: should throw on wrong parameters
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 4 - should throw on wrong parameters # time=1.551ms
    
    1..4
    # time=53.948ms
ok 54 - test/internals/hooks.test.js # time=53.948ms

# Subtest: test/internals/initialConfig.test.js
    # Subtest: Fastify.initialConfig is an object
        1..1
        ok 1 - type is object
    ok 1 - Fastify.initialConfig is an object # time=18.072ms
    
    # Subtest: without options passed to Fastify, initialConfig should expose default values
        1..1
        ok 1 - should be equivalent
    ok 2 - without options passed to Fastify, initialConfig should expose default values # time=8.877ms
    
    # Subtest: Fastify.initialConfig should expose all options
        1..20
        ok 1 - should be equal
        ok 2 - for security reason the key cert is hidden
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - expect truthy value
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equal
    ok 3 - Fastify.initialConfig should expose all options # time=12.773ms
    
    # Subtest: Should throw if you try to modify Fastify.initialConfig
        1..4
        ok 1 - type is TypeError
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - (unnamed test)
    ok 4 - Should throw if you try to modify Fastify.initialConfig # time=3.769ms
    
    # Subtest: We must avoid shallow freezing and ensure that the whole object is freezed
        1..4
        ok 1 - type is TypeError
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - key cert removed
    ok 5 - We must avoid shallow freezing and ensure that the whole object is freezed # time=16.431ms
    
    # Subtest: https value check
        1..1
        ok 1 - expect falsey value
    ok 6 - https value check # time=1.818ms
    
    # Subtest: Return an error if options do not match the validation schema
        1..6
        ok 1 - type is Error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
        ok 6 - (unnamed test)
    ok 7 - Return an error if options do not match the validation schema # time=62.309ms
    
    # Subtest: Original options must not be frozen
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - Original options must not be frozen # time=3.614ms
    
    # Subtest: Original options must not be altered (test deep cloning)
        1..3
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 9 - Original options must not be altered (test deep cloning) # time=4.884ms
    
    # Subtest: Should not have issues when passing stream options to Pino.js
        1..15
        ok 1 - type is object
        ok 2 - should be equivalent
        ok 3 - listen at log message is ok
        ok 4 - should not error
        ok 5 - reqId is defined
        ok 6 - req is defined
        ok 7 - message is set
        ok 8 - method is get
        ok 9 - expect truthy value
        ok 10 - should be equal
        ok 11 - reqId is defined
        ok 12 - res is defined
        ok 13 - message is set
        ok 14 - statusCode is 200
        ok 15 - responseTime is defined
    ok 10 - Should not have issues when passing stream options to Pino.js # time=56.931ms
    
    # Subtest: deepFreezeObject() should not throw on TypedArray
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - (unnamed test)
    ok 11 - deepFreezeObject() should not throw on TypedArray # time=1.687ms
    
    # Subtest: Fastify.initialConfig should accept the deprecated versioning option
        1..1
        ok 1 - should be equal
    ok 12 - Fastify.initialConfig should accept the deprecated versioning option # time=4.958ms
    
    # Subtest: pluginTimeout should be parsed correctly
        ok 1 - should be equal
        ok 2 - should be equal
        1..2
    ok 13 - pluginTimeout should be parsed correctly # time=2.918ms
    
    1..13
    # time=272.183ms
ok 55 - test/internals/initialConfig.test.js # time=272.183ms

# Subtest: test/internals/logger.test.js
    # Subtest: time resolution
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - time resolution # time=5.902ms
    
    # Subtest: The logger should add a unique id for every request
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - the id should not be duplicated
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - the id should not be duplicated
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - the id should not be duplicated
        ok 11 - expect truthy value
        ok 12 - should not error
        ok 13 - the id should not be duplicated
        ok 14 - expect truthy value
        ok 15 - should not error
        ok 16 - the id should not be duplicated
        ok 17 - expect truthy value
        ok 18 - should not error
        ok 19 - the id should not be duplicated
        ok 20 - expect truthy value
        ok 21 - should not error
        ok 22 - the id should not be duplicated
        ok 23 - expect truthy value
        ok 24 - should not error
        ok 25 - the id should not be duplicated
        ok 26 - expect truthy value
        ok 27 - should not error
        ok 28 - the id should not be duplicated
        ok 29 - expect truthy value
        ok 30 - should not error
        ok 31 - the id should not be duplicated
        1..31
    ok 2 - The logger should add a unique id for every request # time=75.32ms
    
    # Subtest: The logger should reuse request id header for req.id
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - the request id from the header should be returned
        1..4
    ok 3 - The logger should reuse request id header for req.id # time=8.061ms
    
    # Subtest: The logger should error if both stream and file destination are given
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - The logger should error if both stream and file destination are given # time=1.405ms
    
    # Subtest: The serializer prevent fails if the request socket is undefined
        1..1
        ok 1 - should be equivalent
    ok 5 - The serializer prevent fails if the request socket is undefined # time=4.435ms
    
    1..5
    # time=104.19ms
ok 56 - test/internals/logger.test.js # time=104.19ms

# Subtest: test/internals/plugin.test.js
    # Subtest: shouldSkipOverride should check the 'skip-override' symbol
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 1 - shouldSkipOverride should check the 'skip-override' symbol # time=6.078ms
    
    # Subtest: getPluginName should return plugin name if the file is cached
        1..1
        ok 1 - should be equal
    ok 2 - getPluginName should return plugin name if the file is cached # time=1.809ms
    
    # Subtest: getMeta should return the object stored with the 'plugin-meta' symbol
        1..1
        ok 1 - should be equivalent
    ok 3 - getMeta should return the object stored with the 'plugin-meta' symbol # time=4.66ms
    
    # Subtest: checkDecorators should check if the given decorator is present in the instance
        1..1
        ok 1 - Everything ok
    ok 4 - checkDecorators should check if the given decorator is present in the instance # time=1.571ms
    
    # Subtest: checkDecorators should check if the given decorator is present in the instance (errored)
        1..1
        ok 1 - should be equal
    ok 5 - checkDecorators should check if the given decorator is present in the instance (errored) # time=1.066ms
    
    # Subtest: checkDecorators should accept optional decorators
        1..1
        ok 1 - Everything ok
    ok 6 - checkDecorators should accept optional decorators # time=0.65ms
    
    # Subtest: checkDependencies should check if the given dependency is present in the instance
        1..1
        ok 1 - Everything ok
    ok 7 - checkDependencies should check if the given dependency is present in the instance # time=0.915ms
    
    # Subtest: checkDependencies should check if the given dependency is present in the instance (errored)
        1..1
        ok 1 - should be equal
    ok 8 - checkDependencies should check if the given dependency is present in the instance (errored) # time=23.694ms
    
    1..8
    # time=95.881ms
ok 57 - test/internals/plugin.test.js # time=95.881ms

# Subtest: test/internals/reply-serialize.test.js
    # Subtest: Reply\#compileSerializationSchema
        1..4
        # Subtest: Should return a serialization function
            1..4
            ok 1 - type is Function
            ok 2 - type is string
            ok 3 - should be equal
            ok 4 - should be equal
        ok 1 - Should return a serialization function # time=89.813ms
        
        # Subtest: Should reuse the serialize fn across multiple invocations - Route without schema
            1..17
            ok 1 - build the schema compilation function
            ok 2 - type is Function
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - Are the same validate function
            ok 6 - type is Function
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - Are the same validate function
            ok 10 - type is Function
            ok 11 - should be equal
            ok 12 - should be equal
            ok 13 - Are the same validate function
            ok 14 - type is Function
            ok 15 - should be equal
            ok 16 - should be equal
            ok 17 - should be equal
        ok 2 - Should reuse the serialize fn across multiple invocations - Route without schema # time=17.912ms
        
        # Subtest: Should use the custom serializer compiler for the route
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equivalent
            ok 7 - {"hello":"world"}
            ok 8 - should be equivalent
            ok 9 - {"hello":"world"}
            ok 10 - should be equal
        ok 3 - Should use the custom serializer compiler for the route # time=29.157ms
        
        # Subtest: Should build a WeakMap for cache when called
            1..4
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
            ok 4 - should be equal
        ok 4 - Should build a WeakMap for cache when called # time=15.218ms
        
    ok 1 - Reply\#compileSerializationSchema # time=176.564ms
    
    # Subtest: Reply\#getSerializationFunction
        1..3
        # Subtest: Should retrieve the serialization function from the Schema definition
            1..9
            ok 1 - type is Function
            ok 2 - type is Function
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - expect falsey value
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
        ok 1 - Should retrieve the serialization function from the Schema definition # time=22.761ms
        
        # Subtest: Should retrieve the serialization function from the cached one
            1..6
            ok 1 - type is Function
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
        ok 2 - Should retrieve the serialization function from the cached one # time=9.432ms
        
        # Subtest: Should not instantiate a WeakMap if it is not needed
            1..4
            ok 1 - expect falsey value
            ok 2 - should be equal
            ok 3 - expect falsey value
            ok 4 - should be equal
        ok 3 - Should not instantiate a WeakMap if it is not needed # time=20.491ms
        
    ok 2 - Reply\#getSerializationFunction # time=63.098ms
    
    # Subtest: Reply\#serializeInput
        1..5
        # Subtest: Should throw if missed serialization function from HTTP status
            1..2
            ok 1 - should be equal
            ok 2 - should be equivalent
        ok 1 - Should throw if missed serialization function from HTTP status # time=29.301ms
        
        # Subtest: Should use a serializer fn from HTTP status
            1..4
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
        ok 2 - Should use a serializer fn from HTTP status # time=25.773ms
        
        # Subtest: Should compile a serializer out of a schema if serializer fn missed
            1..10
            ok 1 - should be equal
            ok 2 - expect falsey value
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 3 - Should compile a serializer out of a schema if serializer fn missed # time=7.961ms
        
        # Subtest: Should use a cached serializer fn
            1..12
            ok 1 - should be equal
            ok 2 - expect falsey value
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
            ok 11 - should be equal
            ok 12 - should be equal
        ok 4 - Should use a cached serializer fn # time=10.444ms
        
        # Subtest: Should instantiate a WeakMap after first call
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
        ok 5 - Should instantiate a WeakMap after first call # time=10.289ms
        
    ok 3 - Reply\#serializeInput # time=100.095ms
    
    1..3
    # time=346.59ms
ok 58 - test/internals/reply-serialize.test.js # time=346.59ms

# Subtest: test/internals/reply.test.js
    # Subtest: Once called, Reply should return an object with methods
        1..13
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should be equal
        ok 13 - should be equal
    ok 1 - Once called, Reply should return an object with methods # time=25.028ms
    
    # Subtest: reply.send will logStream error and destroy the stream
        1..1
        ok 1 - Error not logged and not streamed
    ok 2 - reply.send will logStream error and destroy the stream # time=4.799ms
    
    # Subtest: reply.send throw with circular JSON
        1..1
        ok 1 - Converting circular structure to JSON
    ok 3 - reply.send throw with circular JSON # time=1.377ms
    
    # Subtest: reply.send returns itself
        1..1
        ok 1 - should be equal
    ok 4 - reply.send returns itself # time=1.298ms
    
    # Subtest: reply.serializer should set a custom serializer
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 5 - reply.serializer should set a custom serializer # time=1.049ms
    
    # Subtest: reply.serializer should support running preSerialization hooks
        1..3
        ok 1 - preSerialization
        ok 2 - should not error
        ok 3 - should be equal
    ok 6 - reply.serializer should support running preSerialization hooks # time=727.257ms
    
    # Subtest: reply.serialize should serialize payload
        1..1
        ok 1 - should be equal
    ok 7 - reply.serialize should serialize payload # time=1.258ms
    
    # Subtest: reply.serialize should serialize payload with a custom serializer
        1..2
        ok 1 - should be equal
        ok 2 - custom serializer not called
    ok 8 - reply.serialize should serialize payload with a custom serializer # time=1.227ms
    
    # Subtest: reply.serialize should serialize payload with a context default serializer
        1..2
        ok 1 - should be equal
        ok 2 - custom serializer not called
    ok 9 - reply.serialize should serialize payload with a context default serializer # time=1.35ms
    
    # Subtest: reply.serialize should serialize payload with Fastify instance
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - reply.serialize should serialize payload with Fastify instance # time=21.961ms
    
    # Subtest: within an instance
        ok 1 - should not error
        # Subtest: custom serializer should be used
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - custom serializer should be used # time=37.019ms
        
        # Subtest: status code and content-type should be correct
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 3 - status code and content-type should be correct # time=16.19ms
        
        # Subtest: auto status code shoud be 200
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - auto status code shoud be 200 # time=7.79ms
        
        # Subtest: auto type shoud be text/plain
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - auto type shoud be text/plain # time=4.34ms
        
        # Subtest: redirect to `/` - 1
            1..1
            ok 1 - should be equal
        ok 6 - redirect to `/` - 1 # time=3.978ms
        
        # Subtest: redirect to `/` - 2
            1..1
            ok 1 - should be equal
        ok 7 - redirect to `/` - 2 # time=3.488ms
        
        # Subtest: redirect to `/` - 3
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 8 - redirect to `/` - 3 # time=7.477ms
        
        # Subtest: redirect to `/` - 4
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 9 - redirect to `/` - 4 # time=7.711ms
        
        # Subtest: redirect to `/` - 5
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
        ok 10 - redirect to `/` - 5 # time=3.476ms
        
        # Subtest: redirect to `/` - 6
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 11 - redirect to `/` - 6 # time=6.472ms
        
        # Subtest: redirect to `/` - 7
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 12 - redirect to `/` - 7 # time=19.213ms
        
        # Subtest: redirect to `/` - 8
            1..1
            ok 1 - should be equal
        ok 13 - redirect to `/` - 8 # time=6.583ms
        
        # Subtest: redirect to `/` - 9
            1..1
            ok 1 - should be equal
        ok 14 - redirect to `/` - 9 # time=3.481ms
        
        # Subtest: redirect with async function to `/` - 10
            1..1
            ok 1 - should be equal
        ok 15 - redirect with async function to `/` - 10 # time=3.464ms
        
        1..15
    ok 11 - within an instance # time=254.476ms
    
    # Subtest: buffer without content type should send a application/octet-stream and raw buffer
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 12 - buffer without content type should send a application/octet-stream and raw buffer # time=28.644ms
    
    # Subtest: buffer with content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 13 - buffer with content type should not send application/octet-stream # time=18.071ms
    
    # Subtest: stream with content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 14 - stream with content type should not send application/octet-stream # time=20.277ms
    
    # Subtest: stream without content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 15 - stream without content type should not send application/octet-stream # time=91.292ms
    
    # Subtest: stream using reply.raw.writeHead should return customize headers
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 16 - stream using reply.raw.writeHead should return customize headers # time=45.724ms
    
    # Subtest: plain string without content type should send a text/plain
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 17 - plain string without content type should send a text/plain # time=9.899ms
    
    # Subtest: plain string with content type should be sent unmodified
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - plain string with content type should be sent unmodified # time=27.168ms
    
    # Subtest: plain string with content type and custom serializer should be serialized
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 19 - plain string with content type and custom serializer should be serialized # time=8.249ms
    
    # Subtest: plain string with content type application/json should NOT be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 20 - plain string with content type application/json should NOT be serialized as json # time=9.543ms
    
    # Subtest: plain string with custom json content type should NOT be serialized as json
        1..19
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equivalent
    ok 21 - plain string with custom json content type should NOT be serialized as json # time=23.834ms
    
    # Subtest: non-string with content type application/json SHOULD be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 22 - non-string with content type application/json SHOULD be serialized as json # time=32.67ms
    
    # Subtest: non-string with custom json's content-type SHOULD be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 23 - non-string with custom json's content-type SHOULD be serialized as json # time=11.953ms
    
    # Subtest: non-string with custom json content type SHOULD be serialized as json
        1..16
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 24 - non-string with custom json content type SHOULD be serialized as json # time=42.824ms
    
    # Subtest: error object with a content type that is not application/json should work
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 25 - error object with a content type that is not application/json should work # time=12.895ms
    
    # Subtest: undefined payload should be sent as-is
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 26 - undefined payload should be sent as-is # time=30.293ms
    
    # Subtest: for HEAD method, no body should be sent but content-length should be
        1..11
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
    ok 27 - for HEAD method, no body should be sent but content-length should be # time=25.373ms
    
    # Subtest: reply.send(new NotFound()) should not invoke the 404 handler
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 28 - reply.send(new NotFound()) should not invoke the 404 handler # time=18.933ms
    
    # Subtest: reply can set multiple instances of same header
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - expect truthy value
        ok 4 - should be equivalent strictly
    ok 29 - reply can set multiple instances of same header # time=9.023ms
    
    # Subtest: reply.hasHeader returns correct values
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 30 - reply.hasHeader returns correct values # time=11.487ms
    
    # Subtest: reply.getHeader returns correct values
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
        ok 4 - should be equivalent strictly
    ok 31 - reply.getHeader returns correct values # time=21.908ms
    
    # Subtest: reply.getHeader returns raw header if there is not in the reply headers
        1..1
        ok 1 - should be equal
    ok 32 - reply.getHeader returns raw header if there is not in the reply headers # time=1.154ms
    
    # Subtest: reply.getHeaders returns correct values
        1..3
        ok 1 - should be equivalent strictly
        ok 2 - should be equivalent strictly
        ok 3 - should not error
    ok 33 - reply.getHeaders returns correct values # time=6.674ms
    
    # Subtest: reply.removeHeader can remove the value
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent strictly
        ok 5 - (unnamed test)
    ok 34 - reply.removeHeader can remove the value # time=8.254ms
    
    # Subtest: reply.header can reset the value
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent strictly
        ok 3 - (unnamed test)
    ok 35 - reply.header can reset the value # time=6.39ms
    
    # Subtest: reply.hasHeader computes raw and fastify headers
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - (unnamed test)
    ok 36 - reply.hasHeader computes raw and fastify headers # time=6.12ms
    
    # Subtest: Reply should handle JSON content type with a charset
        1..16
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should not error
        ok 16 - should be equal
    ok 37 - Reply should handle JSON content type with a charset # time=16.742ms
    
    # Subtest: Content type and charset set previously
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 38 - Content type and charset set previously # time=4.755ms
    
    # Subtest: .status() is an alias for .code()
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 39 - .status() is an alias for .code() # time=3.69ms
    
    # Subtest: .statusCode is getter and setter
        1..4
        ok 1 - 200
        ok 2 - 418
        ok 3 - should not error
        ok 4 - should be equal
    ok 40 - .statusCode is getter and setter # time=6.305ms
    
    # Subtest: reply.header setting multiple cookies as multiple Set-Cookie headers
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equivalent strictly
        ok 4 - should not error
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - should be equivalent strictly
    ok 41 - reply.header setting multiple cookies as multiple Set-Cookie headers # time=9.489ms
    
    # Subtest: should emit deprecation warning when trying to modify the reply.sent property
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 42 - should emit deprecation warning when trying to modify the reply.sent property # time=4.842ms
    
    # Subtest: should throw error when passing falsy value to reply.sent
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 43 - should throw error when passing falsy value to reply.sent # time=4.206ms
    
    # Subtest: should throw error when attempting to set reply.sent more than once
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 44 - should throw error when attempting to set reply.sent more than once # time=5.127ms
    
    # Subtest: should not throw error when attempting to set reply.sent if the underlining request was sent
        1..3
        ok 1 - expected to not throw
        ok 2 - should not error
        ok 3 - (unnamed test)
    ok 45 - should not throw error when attempting to set reply.sent if the underlining request was sent # time=7.352ms
    
    # Subtest: reply.getResponseTime() should return 0 before the timer is initialised on the reply by setting up response listeners
        1..1
        ok 1 - should be equal
    ok 46 - reply.getResponseTime() should return 0 before the timer is initialised on the reply by setting up response listeners # time=0.812ms
    
    # Subtest: reply.getResponseTime() should return a number greater than 0 after the timer is initialised on the reply by setting up response listeners
        1..1
        ok 1 - expect truthy value
    ok 47 - reply.getResponseTime() should return a number greater than 0 after the timer is initialised on the reply by setting up response listeners # time=4.265ms
    
    # Subtest: reply.getResponseTime() should return the time since a request started while inflight
        1..1
        ok 1 - should not be equal
    ok 48 - reply.getResponseTime() should return the time since a request started while inflight # time=3.612ms
    
    # Subtest: reply.getResponseTime() should return the same value after a request is finished
        1..1
        ok 1 - should be equal
    ok 49 - reply.getResponseTime() should return the same value after a request is finished # time=3.801ms
    
    # Subtest: reply should use the custom serializer
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 50 - reply should use the custom serializer # time=6.805ms
    
    # Subtest: reply should use the right serializer in encapsulated context
        1..9
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 51 - reply should use the right serializer in encapsulated context # time=10.333ms
    
    # Subtest: reply should use the right serializer in deep encapsulated context
        1..8
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 52 - reply should use the right serializer in deep encapsulated context # time=9.822ms
    
    # Subtest: reply should use the route serializer
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equal
    ok 53 - reply should use the route serializer # time=3.976ms
    
    # Subtest: cannot set the replySerializer when the server is running
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 54 - cannot set the replySerializer when the server is running # time=20.957ms
    
    # Subtest: reply should not call the custom serializer for errors and not found
        1..9
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 55 - reply should not call the custom serializer for errors and not found # time=8.228ms
    
    # Subtest: reply.then
        1..4
        # Subtest: without an error
            1..1
            ok 1 - fulfilled called
        ok 1 - without an error # time=10.774ms
        
        # Subtest: with an error
            1..1
            ok 1 - should be equal
        ok 2 - with an error # time=1.486ms
        
        # Subtest: with error but without reject callback
            1..1
            ok 1 - (unnamed test)
        ok 3 - with error but without reject callback # time=0.959ms
        
        # Subtest: with error, without reject callback, with logger
            1..1
            ok 1 - should be equal
        ok 4 - with error, without reject callback, with logger # time=1.452ms
        
    ok 56 - reply.then # time=21.682ms
    
    # Subtest: reply.sent should read from response.writableEnded if it is defined
        1..1
        ok 1 - should be equal
    ok 57 - reply.sent should read from response.writableEnded if it is defined # time=0.635ms
    
    # Subtest: redirect to an invalid URL should not crash the server
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        1..7
    ok 58 - redirect to an invalid URL should not crash the server # time=14.137ms
    
    # Subtest: invalid response headers should not crash the server
        ok 1 - only the first invalid header is logged
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 59 - invalid response headers should not crash the server # time=7.599ms
    
    # Subtest: invalid response headers when sending back an error
        ok 1 - only the first invalid header is logged
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 60 - invalid response headers when sending back an error # time=6.798ms
    
    # Subtest: invalid response headers and custom error handler
        ok 1 - custom error handler receives the error
        ok 2 - only the first invalid header is logged
        ok 3 - should be equal
        ok 4 - should be equivalent
        1..4
    ok 61 - invalid response headers and custom error handler # time=7.886ms
    
    1..61
    # time=1840.787ms
ok 59 - test/internals/reply.test.js # time=1840.787ms

# Subtest: test/internals/request-validate.test.js
    # Subtest: \#compileValidationSchema
        1..5
        # Subtest: Should return a function - Route without schema
            1..3
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
        ok 1 - Should return a function - Route without schema # time=148.801ms
        
        # Subtest: Should reuse the validate fn across multiple invocations - Route without schema
            1..16
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
            ok 4 - Are the same validate function
            ok 5 - type is Function
            ok 6 - expect truthy value
            ok 7 - expect falsey value
            ok 8 - Are the same validate function
            ok 9 - type is Function
            ok 10 - expect truthy value
            ok 11 - expect falsey value
            ok 12 - Are the same validate function
            ok 13 - type is Function
            ok 14 - expect truthy value
            ok 15 - expect falsey value
            ok 16 - should be equal
        ok 2 - Should reuse the validate fn across multiple invocations - Route without schema # time=56.163ms
        
        # Subtest: Should return a function - Route with schema
            1..3
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
        ok 3 - Should return a function - Route with schema # time=56.981ms
        
        # Subtest: Should use the custom validator compiler for the route
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equivalent
            ok 7 - expect truthy value
            ok 8 - should be equivalent
            ok 9 - expect truthy value
            ok 10 - should be equal
        ok 4 - Should use the custom validator compiler for the route # time=12.405ms
        
        # Subtest: Should instantiate a WeakMap when executed for first time
            1..5
            ok 1 - should be equal
            ok 2 - type is Function
            ok 3 - type is WeakMap
            ok 4 - type is Function
            ok 5 - type is WeakMap
        ok 5 - Should instantiate a WeakMap when executed for first time # time=40.687ms
        
    ok 1 - \#compileValidationSchema # time=334.54ms
    
    # Subtest: \#getValidationFunction
        1..4
        # Subtest: Should return a validation function
            1..1
            ok 1 - should be equal
        ok 1 - Should return a validation function # time=72.616ms
        
        # Subtest: Should return undefined if no schema compiled
            1..2
            ok 1 - expect falsey value
            ok 2 - expect falsey value
        ok 2 - Should return undefined if no schema compiled # time=5.366ms
        
        # Subtest: Should return the validation function from each HTTP part
            1..15
            ok 1 - expect truthy value
            ok 2 - expect truthy value
            ok 3 - expect falsey value
            ok 4 - expect truthy value
            ok 5 - expect truthy value
            ok 6 - expect falsey value
            ok 7 - expect truthy value
            ok 8 - expect truthy value
            ok 9 - expect truthy value
            ok 10 - expect truthy value
            ok 11 - expect falsey value
            ok 12 - should be equal
            ok 13 - expect truthy value
            ok 14 - expect falsey value
            ok 15 - should be equal
        ok 3 - Should return the validation function from each HTTP part # time=71.175ms
        
        # Subtest: Should not set a WeakMap if there is no schema
            1..1
            ok 1 - should be equal
        ok 4 - Should not set a WeakMap if there is no schema # time=9.307ms
        
    ok 2 - \#getValidationFunction # time=168.669ms
    
    # Subtest: \#validate
        1..7
        # Subtest: Should return true/false if input valid - Route without schema
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 1 - Should return true/false if input valid - Route without schema # time=67.088ms
        
        # Subtest: Should use the custom validator compiler for the route
            1..9
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equivalent
            ok 6 - should be equivalent
            ok 7 - expect truthy value
            ok 8 - expect truthy value
            ok 9 - should be equal
        ok 2 - Should use the custom validator compiler for the route # time=14.99ms
        
        # Subtest: Should return true/false if input valid - With Schema for Route defined
            1..8
            ok 1 - expect truthy value
            ok 2 - expect falsey value
            ok 3 - expect falsey value
            ok 4 - expect truthy value
            ok 5 - expect falsey value
            ok 6 - expect truthy value
            ok 7 - expect truthy value
            ok 8 - expect falsey value
        ok 3 - Should return true/false if input valid - With Schema for Route defined # time=68.35ms
        
        # Subtest: Should throw if missing validation fn for HTTP part and not schema provided
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 4 - Should throw if missing validation fn for HTTP part and not schema provided # time=11.571ms
        
        # Subtest: Should throw if missing validation fn for HTTP part and not valid schema provided
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 5 - Should throw if missing validation fn for HTTP part and not valid schema provided # time=17.439ms
        
        # Subtest: Should throw if invalid schema passed
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 6 - Should throw if invalid schema passed # time=9.464ms
        
        # Subtest: Should set a WeakMap if compiling the very first schema
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
        ok 7 - Should set a WeakMap if compiling the very first schema # time=27.088ms
        
    ok 3 - \#validate # time=231.576ms
    
    # Subtest: Nested Context
        1..1
        # Subtest: Level_1
            1..3
            # Subtest: \#compileValidationSchema
                1..4
                # Subtest: Should return a function - Route without schema
                    1..3
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                ok 1 - Should return a function - Route without schema # time=78.561ms
                
                # Subtest: Should reuse the validate fn across multiple invocations - Route without schema
                    1..16
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                    ok 4 - Are the same validate function
                    ok 5 - type is Function
                    ok 6 - expect truthy value
                    ok 7 - expect falsey value
                    ok 8 - Are the same validate function
                    ok 9 - type is Function
                    ok 10 - expect truthy value
                    ok 11 - expect falsey value
                    ok 12 - Are the same validate function
                    ok 13 - type is Function
                    ok 14 - expect truthy value
                    ok 15 - expect falsey value
                    ok 16 - should be equal
                ok 2 - Should reuse the validate fn across multiple invocations - Route without schema # time=48.42ms
                
                # Subtest: Should return a function - Route with schema
                    1..3
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                ok 3 - Should return a function - Route with schema # time=42.17ms
                
                # Subtest: Should use the custom validator compiler for the route
                    1..10
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - should be equal
                    ok 5 - should be equal
                    ok 6 - should be equivalent
                    ok 7 - expect truthy value
                    ok 8 - should be equivalent
                    ok 9 - expect truthy value
                    ok 10 - should be equal
                ok 4 - Should use the custom validator compiler for the route # time=8.534ms
                
            ok 1 - \#compileValidationSchema # time=188.54ms
            
            # Subtest: \#getValidationFunction
                1..6
                # Subtest: Should return a validation function
                    1..1
                    ok 1 - should be equal
                ok 1 - Should return a validation function # time=44.859ms
                
                # Subtest: Should return undefined if no schema compiled
                    1..1
                    ok 1 - expect falsey value
                ok 2 - Should return undefined if no schema compiled # time=4.533ms
                
                # Subtest: Should return the validation function from each HTTP part
                    1..15
                    ok 1 - expect truthy value
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                    ok 4 - expect truthy value
                    ok 5 - expect truthy value
                    ok 6 - expect falsey value
                    ok 7 - expect truthy value
                    ok 8 - expect truthy value
                    ok 9 - expect truthy value
                    ok 10 - expect truthy value
                    ok 11 - expect falsey value
                    ok 12 - should be equal
                    ok 13 - expect truthy value
                    ok 14 - expect falsey value
                    ok 15 - should be equal
                ok 3 - Should return the validation function from each HTTP part # time=47.905ms
                
                # Subtest: Should return a validation function - nested
                    1..6
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - expect falsey value
                    ok 5 - should be equal
                    ok 6 - should be equal
                ok 4 - Should return a validation function - nested # time=9.02ms
                
                # Subtest: Should return undefined if no schema compiled - nested
                    1..3
                    ok 1 - should be equal
                    ok 2 - expect falsey value
                    ok 3 - should be equal
                ok 5 - Should return undefined if no schema compiled - nested # time=8.861ms
                
                # Subtest: Should per-route defined validation compiler
                    1..5
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should not be equal
                    ok 4 - should be equal
                    ok 5 - should be equal
                ok 6 - Should per-route defined validation compiler # time=7.486ms
                
            ok 2 - \#getValidationFunction # time=137.637ms
            
            # Subtest: \#validate
                1..3
                # Subtest: Should return true/false if input valid - Route without schema
                    1..2
                    ok 1 - expect falsey value
                    ok 2 - expect truthy value
                ok 1 - Should return true/false if input valid - Route without schema # time=61.742ms
                
                # Subtest: Should use the custom validator compiler for the route
                    1..10
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - should be equal
                    ok 5 - should be equivalent
                    ok 6 - should be equivalent
                    ok 7 - expect truthy value
                    ok 8 - expect truthy value
                    ok 9 - should be equal
                    ok 10 - should be equal
                ok 2 - Should use the custom validator compiler for the route # time=7.846ms
                
                # Subtest: Should return true/false if input valid - With Schema for Route defined and scoped validator compiler
                    1..13
                    ok 1 - expect truthy value
                    ok 2 - expect falsey value
                    ok 3 - expect falsey value
                    ok 4 - expect truthy value
                    ok 5 - expect falsey value
                    ok 6 - expect truthy value
                    ok 7 - expect truthy value
                    ok 8 - expect falsey value
                    ok 9 - should be equal
                    ok 10 - should be equal
                    ok 11 - should be equal
                    ok 12 - should be equal
                    ok 13 - should be equal
                ok 3 - Should return true/false if input valid - With Schema for Route defined and scoped validator compiler # time=81.565ms
                
            ok 3 - \#validate # time=158.262ms
            
        ok 1 - Level_1 # time=491.65ms
        
    ok 4 - Nested Context # time=496.341ms
    
    1..4
    # time=1250.697ms
ok 60 - test/internals/request-validate.test.js # time=1250.697ms

# Subtest: test/internals/request.test.js
    # Subtest: Regular request
        ok 1 - type is Request
        ok 2 - type is Function
        ok 3 - type is Function
        ok 4 - type is Function
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        1..19
    ok 1 - Regular request # time=11.889ms
    
    # Subtest: Regular request - hostname from authority
        1..2
        ok 1 - type is Request
        ok 2 - should be equal
    ok 2 - Regular request - hostname from authority # time=1.343ms
    
    # Subtest: Regular request - host header has precedence over authority
        1..2
        ok 1 - type is Request
        ok 2 - should be equal
    ok 3 - Regular request - host header has precedence over authority # time=0.888ms
    
    # Subtest: Request with trust proxy
        1..18
        ok 1 - type is _Request
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - type is Function
        ok 17 - type is Function
        ok 18 - type is Function
    ok 4 - Request with trust proxy # time=9.747ms
    
    # Subtest: Request with trust proxy, encrypted
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 5 - Request with trust proxy, encrypted # time=0.984ms
    
    # Subtest: Request with trust proxy - no x-forwarded-host header
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 6 - Request with trust proxy - no x-forwarded-host header # time=0.824ms
    
    # Subtest: Request with trust proxy - no x-forwarded-host header and fallback to authority
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 7 - Request with trust proxy - no x-forwarded-host header and fallback to authority # time=0.853ms
    
    # Subtest: Request with trust proxy - x-forwarded-host header has precedence over host
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 8 - Request with trust proxy - x-forwarded-host header has precedence over host # time=0.837ms
    
    # Subtest: Request with trust proxy - handles multiple entries in x-forwarded-host/proto
        1..3
        ok 1 - type is _Request
        ok 2 - should be equal
        ok 3 - should be equal
    ok 9 - Request with trust proxy - handles multiple entries in x-forwarded-host/proto # time=1.623ms
    
    # Subtest: Request with trust proxy - plain
        1..1
        ok 1 - should be equivalent
    ok 10 - Request with trust proxy - plain # time=1.276ms
    
    # Subtest: Request with undefined socket
        1..18
        ok 1 - type is Request
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equivalent
        ok 16 - type is Function
        ok 17 - type is Function
        ok 18 - type is Function
    ok 11 - Request with undefined socket # time=6.793ms
    
    # Subtest: Request with trust proxy and undefined socket
        1..1
        ok 1 - should be equivalent
    ok 12 - Request with trust proxy and undefined socket # time=1.137ms
    
    1..12
    # time=100.918ms
ok 61 - test/internals/request.test.js # time=100.918ms

# Subtest: test/internals/server.test.js
    # Subtest: start listening
        ok 1 - server started
        1..1
    ok 1 - start listening # time=43.359ms
    
    # Subtest: DNS errors does not stop the main server on localhost - promise interface
        ok 1 - server started
        1..1
    ok 2 - DNS errors does not stop the main server on localhost - promise interface # time=17.351ms
    
    # Subtest: DNS errors does not stop the main server on localhost - callback interface
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 3 - DNS errors does not stop the main server on localhost - callback interface # time=28.961ms
    
    # Subtest: DNS returns empty binding
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 4 - DNS returns empty binding # time=19.372ms
    
    # Subtest: DNS returns more than two binding
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 5 - DNS returns more than two binding # time=14.449ms
    
    1..5
    # time=131.171ms
ok 62 - test/internals/server.test.js # time=131.171ms

# Subtest: test/internals/validation.test.js
    # Subtest: Symbols
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 1 - Symbols # time=8.861ms
    
    # Subtest: compileSchemasForValidation schema - missing schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - compileSchemasForValidation schema - missing schema # time=2.294ms
    
    # Subtest: compileSchemasForValidation schema - missing output schema
        1..1
        ok 1 - should be equal
    ok 3 - compileSchemasForValidation schema - missing output schema # time=1.268ms
    
    # Subtest: compileSchemasForSerialization schema - missing schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - compileSchemasForSerialization schema - missing schema # time=1.725ms
    
    # Subtest: compileSchemasForSerialization schema - missing output schema
        1..1
        ok 1 - should be equal
    ok 5 - compileSchemasForSerialization schema - missing output schema # time=0.904ms
    
    # Subtest: build schema - output schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 6 - build schema - output schema # time=67.512ms
    
    # Subtest: build schema - payload schema
        1..1
        ok 1 - should be equal
    ok 7 - build schema - payload schema # time=2.322ms
    
    # Subtest: build schema - avoid repeated normalize schema
        1..3
        ok 1 - should not be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 8 - build schema - avoid repeated normalize schema # time=2.136ms
    
    # Subtest: build schema - query schema
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 9 - build schema - query schema # time=2.871ms
    
    # Subtest: build schema - query schema abbreviated
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 10 - build schema - query schema abbreviated # time=3.673ms
    
    # Subtest: build schema - querystring schema
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 11 - build schema - querystring schema # time=3.054ms
    
    # Subtest: build schema - querystring schema abbreviated
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 12 - build schema - querystring schema abbreviated # time=2.592ms
    
    # Subtest: build schema - must throw if querystring and query schema exist
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 13 - build schema - must throw if querystring and query schema exist # time=1.675ms
    
    # Subtest: build schema - params schema
        1..1
        ok 1 - should be equal
    ok 14 - build schema - params schema # time=2.283ms
    
    # Subtest: build schema - headers schema
        1..1
        ok 1 - should be equal
    ok 15 - build schema - headers schema # time=2.39ms
    
    # Subtest: build schema - headers are lowercase
        1..1
        ok 1 - lowercase content-type exists
    ok 16 - build schema - headers are lowercase # time=1.145ms
    
    # Subtest: build schema - headers are not lowercased in case of custom object
        1..1
        ok 1 - type is Headers
    ok 17 - build schema - headers are not lowercased in case of custom object # time=0.91ms
    
    # Subtest: build schema - uppercased headers are not included
        1..1
        ok 1 - uppercase does not exist
    ok 18 - build schema - uppercased headers are not included # time=0.922ms
    
    1..18
    # time=198.066ms
ok 63 - test/internals/validation.test.js # time=198.066ms

# Subtest: test/keepAliveTimeout.test.js
    # Subtest: keepAliveTimeout
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not be equal
        ok 6 - should be equal
    ok 1 - keepAliveTimeout # time=41.275ms
    
    1..1
    # time=47.703ms
ok 64 - test/keepAliveTimeout.test.js # time=47.703ms

# Subtest: test/listen.deprecated.test.js
    # Subtest: listen accepts a port and a callback
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 1 - listen accepts a port and a callback # time=33.94ms
    
    # Subtest: listen accepts a port and a callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 2 - listen accepts a port and a callback with (err, address) # time=5.266ms
    
    # Subtest: listen accepts a port, address, and callback
        1..1
        ok 1 - should not error
    ok 3 - listen accepts a port, address, and callback # time=15.523ms
    
    # Subtest: listen accepts options, backlog and a callback
        1..1
        ok 1 - should not error
    ok 4 - listen accepts options, backlog and a callback # time=11.335ms
    
    # Subtest: listen accepts options (no port), backlog and a callback
        1..1
        ok 1 - should not error
    ok 5 - listen accepts options (no port), backlog and a callback # time=4.257ms
    
    # Subtest: listen accepts options (no host), backlog and a callback
        1..1
        ok 1 - should not error
    ok 6 - listen accepts options (no host), backlog and a callback # time=3.768ms
    
    # Subtest: listen accepts options (no port, no host), backlog and a callback
        1..1
        ok 1 - should not error
    ok 7 - listen accepts options (no port, no host), backlog and a callback # time=18.082ms
    
    # Subtest: listen accepts a port, address and a callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 8 - listen accepts a port, address and a callback with (err, address) # time=3.555ms
    
    # Subtest: listen accepts a port, address, backlog and callback
        1..1
        ok 1 - should not error
    ok 9 - listen accepts a port, address, backlog and callback # time=12.167ms
    
    # Subtest: listen accepts a port, address, backlog and callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 10 - listen accepts a port, address, backlog and callback with (err, address) # time=4.893ms
    
    # Subtest: listen without callback (port zero)
        1..1
        ok 1 - should be equal
    ok 11 - listen without callback (port zero) # time=18.092ms
    
    # Subtest: listen without callback (port not given)
        1..1
        ok 1 - should be equal
    ok 12 - listen without callback (port not given) # time=7.406ms
    
    # Subtest: listen null without callback with (address)
        1..1
        ok 1 - should be equal
    ok 13 - listen null without callback with (address) # time=16.65ms
    
    # Subtest: listen without port without callback with (address)
        1..1
        ok 1 - should be equal
    ok 14 - listen without port without callback with (address) # time=3.661ms
    
    # Subtest: listen with undefined without callback with (address)
        1..1
        ok 1 - should be equal
    ok 15 - listen with undefined without callback with (address) # time=3.583ms
    
    # Subtest: listen when firstArg is string(pipe) and without backlog
        1..1
        ok 1 - should be equal
    ok 16 - listen when firstArg is string(pipe) and without backlog # time=21.542ms
    
    # Subtest: listen when firstArg is string(pipe) and with backlog
        1..1
        ok 1 - should be equal
    ok 17 - listen when firstArg is string(pipe) and with backlog # time=11.706ms
    
    # Subtest: listen when firstArg is { path: string(pipe) } and with backlog and callback
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 18 - listen when firstArg is { path: string(pipe) } and with backlog and callback # time=4.501ms
    
    1..18
    # time=290ms
ok 65 - test/listen.deprecated.test.js # time=290ms

# Subtest: test/listen.test.js
    # Subtest: listen works without arguments
        ok 1 - should be equal
        ok 2 - expect truthy value
        1..2
    ok 1 - listen works without arguments # time=29.762ms
    
    # Subtest: Async/await listen with arguments
        1..1
        ok 1 - should be equal
    ok 2 - Async/await listen with arguments # time=5.145ms
    
    # Subtest: Promise listen with arguments
        1..1
        ok 1 - should be equal
    ok 3 - Promise listen with arguments # time=7.905ms
    
    # Subtest: listen accepts a callback
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 4 - listen accepts a callback # time=10.131ms
    
    # Subtest: listen accepts options and a callback
        1..1
        ok 1 - should not error
    ok 5 - listen accepts options and a callback # time=4.721ms
    
    # Subtest: listen after Promise.resolve()
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 6 - listen after Promise.resolve() # time=4.525ms
    
    # Subtest: register after listen using Promise.resolve()
        1..1
        ok 1 - resolved
    ok 7 - register after listen using Promise.resolve() # time=10.698ms
    
    # Subtest: double listen errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
    ok 8 - double listen errors # time=16.469ms
    
    # Subtest: double listen errors callback with (err, address)
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 9 - double listen errors callback with (err, address) # time=5.68ms
    
    # Subtest: listen twice on the same port
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 10 - listen twice on the same port # time=11.908ms
    
    # Subtest: listen twice on the same port callback with (err, address)
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 11 - listen twice on the same port callback with (err, address) # time=7.548ms
    
    # Subtest: listen on socket
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent strictly
        ok 3 - should be equal
    ok 12 - listen on socket # time=7.984ms
    
    # Subtest: listen without callback with (address)
        1..1
        ok 1 - should be equal
    ok 13 - listen without callback with (address) # time=3.957ms
    
    # Subtest: double listen without callback rejects
        1..1
        ok 1 - expect truthy value
    ok 14 - double listen without callback rejects # time=5.37ms
    
    # Subtest: double listen without callback with (address)
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 15 - double listen without callback with (address) # time=7.593ms
    
    # Subtest: listen twice on the same port without callback rejects
        1..1
        ok 1 - expect truthy value
    ok 16 - listen twice on the same port without callback rejects # time=6.098ms
    
    # Subtest: listen twice on the same port without callback rejects with (address)
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 17 - listen twice on the same port without callback rejects with (address) # time=22.178ms
    
    # Subtest: listen on invalid port without callback rejects
        ok 1 - expect truthy value
        1..1
    ok 18 - listen on invalid port without callback rejects # time=4.432ms
    
    # Subtest: listen logs the port as info
        1..1
        ok 1 - expect truthy value
    ok 19 - listen logs the port as info # time=3.771ms
    
    # Subtest: listen on localhost binds IPv4 and IPv6 - promise interface
        1..2
        ok 1 - should be equal
        ok 2 - should be equivalent
    ok 20 - listen on localhost binds IPv4 and IPv6 - promise interface # time=24.016ms
    
    # Subtest: listen on localhost binds to all interfaces (both IPv4 and IPv6 if present) - callback interface
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 21 - listen on localhost binds to all interfaces (both IPv4 and IPv6 if present) - callback interface # time=13.014ms
    
    # Subtest: addresses getter
        1..4
        ok 1 - before ready
        ok 2 - after ready
        ok 3 - after listen
        ok 4 - after close
    ok 22 - addresses getter # time=8.438ms
    
    1..22
    # time=319.629ms
ok 66 - test/listen.test.js # time=319.629ms

# Subtest: test/logger.test.js
    # Subtest: defaults to info level
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
        ok 13 - responseTime is defined
        1..13
    ok 1 - defaults to info level # time=57.488ms
    
    # Subtest: test log stream
        1..12
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
    ok 2 - test log stream # time=15.336ms
    
    # Subtest: test error log stream
        1..11
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - reqId is defined
        ok 9 - res is defined
        ok 10 - message is set
        ok 11 - statusCode is 500
    ok 3 - test error log stream # time=12.105ms
    
    # Subtest: can use external logger instance
        1..6
        ok 1 - "Server listening at http://127.0.0.1:36387" dont match "/^Server listening at /"
        ok 2 - should not error
        ok 3 - "incoming request" dont match "/^incoming request$/"
        ok 4 - expect truthy value
        ok 5 - "log success" dont match "/^log success$/"
        ok 6 - "request completed" dont match "/^request completed$/"
    ok 4 - can use external logger instance # time=33.282ms
    
    # Subtest: can use external logger instance with custom serializer
        1..6
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - expect truthy value
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 5 - can use external logger instance with custom serializer # time=15.924ms
    
    # Subtest: expose the logger
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equivalent
    ok 6 - expose the logger # time=2.389ms
    
    # Subtest: The request id header key can be customized
        1..9
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - message is set
        ok 6 - should be equal
        ok 7 - message is set
        ok 8 - should be equal
        ok 9 - message is set
    ok 7 - The request id header key can be customized # time=37.074ms
    
    # Subtest: The request id header key can be customized along with a custom id generator
        1..12
        ok 1 - should match pattern provided
        ok 2 - should be equal
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should be equal
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
    ok 8 - The request id header key can be customized along with a custom id generator # time=36.138ms
    
    # Subtest: The request id log label can be changed
        1..6
        ok 1 - should match pattern provided
        ok 2 - should be equal
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should not error
        ok 6 - should be equal
    ok 9 - The request id log label can be changed # time=8.681ms
    
    # Subtest: The logger should accept custom serializer
        1..9
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - req is defined
        ok 4 - message is set
        ok 5 - custom req serializer is use
        ok 6 - expect truthy value
        ok 7 - res is defined
        ok 8 - message is set
        ok 9 - default res serializer is use
    ok 10 - The logger should accept custom serializer # time=33.582ms
    
    # Subtest: reply.send logs an error if called twice in a row
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
    ok 11 - reply.send logs an error if called twice in a row # time=11.46ms
    
    # Subtest: logger can be silented
        1..17
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equivalent
        ok 10 - should be equivalent
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equivalent
        ok 14 - should be equivalent
        ok 15 - should be equivalent
        ok 16 - should be equivalent
        ok 17 - should be equivalent
    ok 12 - logger can be silented # time=4.993ms
    
    # Subtest: Should set a custom logLevel for a plugin
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equivalent
    ok 13 - Should set a custom logLevel for a plugin # time=14.995ms
    
    # Subtest: Should set a custom logSerializers for a plugin
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 14 - Should set a custom logSerializers for a plugin # time=19.796ms
    
    # Subtest: Should set a custom logLevel for every plugin
        1..18
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equivalent
        ok 15 - should not error
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equivalent
    ok 15 - Should set a custom logLevel for every plugin # time=17.638ms
    
    # Subtest: Should set a custom logSerializers for every plugin
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 16 - Should set a custom logSerializers for every plugin # time=17.495ms
    
    # Subtest: Should override serializers from route
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 17 - Should override serializers from route # time=8.11ms
    
    # Subtest: Should override serializers from plugin
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 18 - Should override serializers from plugin # time=14.924ms
    
    # Subtest: Should use serializers from plugin and route
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 19 - Should use serializers from plugin and route # time=25.275ms
    
    # Subtest: Should use serializers from instance fastify and route
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 20 - Should use serializers from instance fastify and route # time=6.656ms
    
    # Subtest: Should use serializers inherit from contexts
        1..5
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 21 - Should use serializers inherit from contexts # time=7.898ms
    
    # Subtest: Should increase the log level for a specific plugin
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 22 - Should increase the log level for a specific plugin # time=6.84ms
    
    # Subtest: Should set the log level for the customized 404 handler
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 23 - Should set the log level for the customized 404 handler # time=6.713ms
    
    # Subtest: Should set the log level for the customized 500 handler
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 24 - Should set the log level for the customized 500 handler # time=6.9ms
    
    # Subtest: Should set a custom log level for a specific route
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equivalent
    ok 25 - Should set a custom log level for a specific route # time=16.2ms
    
    # Subtest: The default 404 handler logs the incoming request
        1..5
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
    ok 26 - The default 404 handler logs the incoming request # time=9.613ms
    
    # Subtest: should serialize request and response
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 27 - should serialize request and response # time=5.91ms
    
    # Subtest: Wrap IPv6 address in listening log message
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 28 - Wrap IPv6 address in listening log message # time=4.12ms
    
    # Subtest: Do not wrap IPv4 address
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 29 - Do not wrap IPv4 address # time=10.127ms
    
    # Subtest: file option
        1..13
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - listen at log message is ok
        ok 4 - reqId is defined
        ok 5 - req is defined
        ok 6 - message is set
        ok 7 - method is get
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
        ok 13 - responseTime is defined
    ok 30 - file option # time=17.252ms
    
    # Subtest: should log the error if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 31 - should log the error if no error handler is defined # time=10.313ms
    
    # Subtest: should log as info if error status code >= 400 and < 500 if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 32 - should log as info if error status code >= 400 and < 500 if no error handler is defined # time=10.405ms
    
    # Subtest: should log as error if error status code >= 500 if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 33 - should log as error if error status code >= 500 if no error handler is defined # time=9.524ms
    
    # Subtest: should not log the error if error handler is defined and it does not error
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - level is correct
        ok 7 - message is set
        ok 8 - status code is set
    ok 34 - should not log the error if error handler is defined and it does not error # time=9.329ms
    
    # Subtest: should not rely on raw request to log errors
        1..7
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - status code is set
    ok 35 - should not rely on raw request to log errors # time=8.968ms
    
    # Subtest: should redact the authorization header if so specified
        1..7
        ok 1 - listen at log message is ok
        ok 2 - should not error
        ok 3 - authorization is redacted
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 36 - should redact the authorization header if so specified # time=20.29ms
    
    # Subtest: should not log incoming request and outgoing response when disabled
        1..3
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should be equivalent
    ok 37 - should not log incoming request and outgoing response when disabled # time=6.274ms
    
    # Subtest: should not log incoming request and outgoing response for 404 onBadUrl when disabled
        1..1
        ok 1 - should be equivalent
    ok 38 - should not log incoming request and outgoing response for 404 onBadUrl when disabled # time=5.468ms
    
    # Subtest: should pass when using unWritable props in the logger option
        1..1
        ok 1 - (unnamed test)
    ok 39 - should pass when using unWritable props in the logger option # time=1.829ms
    
    # Subtest: should be able to use a custom logger
        1..1
        ok 1 - (unnamed test)
    ok 40 - should be able to use a custom logger # time=15.417ms
    
    # Subtest: should create a default logger if provided one is invalid
        1..1
        ok 1 - (unnamed test)
    ok 41 - should create a default logger if provided one is invalid # time=1.876ms
    
    # Subtest: should not throw error when serializing custom req
        1..1
        ok 1 - should be equivalent
    ok 42 - should not throw error when serializing custom req # time=2.21ms
    
    1..42
    # time=728.168ms
ok 67 - test/logger.test.js # time=728.168ms

# Subtest: test/maxRequestsPerSocket.test.js
    # Subtest: maxRequestsPerSocket on node version >= 16.10.0
        1..8
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should match pattern provided
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
    ok 1 - maxRequestsPerSocket on node version >= 16.10.0 # time=104.075ms
    
    # Subtest: maxRequestsPerSocket zero should behave same as null
        1..10
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should match pattern provided
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
        ok 9 - should match pattern provided
        ok 10 - should match pattern provided
    ok 2 - maxRequestsPerSocket zero should behave same as null # time=17.837ms
    
    # Subtest: maxRequestsPerSocket should be set
        1..1
        ok 1 - should be equivalent
    ok 3 - maxRequestsPerSocket should be set # time=2.194ms
    
    # Subtest: maxRequestsPerSocket should 0
        1..1
        ok 1 - should be equivalent
    ok 4 - maxRequestsPerSocket should 0 # time=1.511ms
    
    # Subtest: requestTimeout passed to server
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 5 - requestTimeout passed to server # time=15.188ms
    
    1..5
    # time=151.839ms
ok 68 - test/maxRequestsPerSocket.test.js # time=151.839ms

# Subtest: test/middleware.test.js
    # Subtest: Should be able to override the default use API
        1..1
        ok 1 - should be equal
    ok 1 - Should be able to override the default use API # time=15.183ms
    
    # Subtest: Cannot decorate use twice
        1..1
        ok 1 - expect truthy value
    ok 2 - Cannot decorate use twice # time=2.718ms
    
    # Subtest: Encapsulation works
        1..1
        ok 1 - should be equal
    ok 3 - Encapsulation works # time=16.2ms
    
    1..3
    # time=46.865ms
ok 69 - test/middleware.test.js # time=46.865ms

# Subtest: test/noop-set.test.js
    # Subtest: does a lot of nothing
        ok 1 - type is object
        ok 2 - should be equal
        1..2
    ok 1 - does a lot of nothing # time=6.787ms
    
    1..1
    # time=11.946ms
ok 70 - test/noop-set.test.js # time=11.946ms

# Subtest: test/nullable-validation.test.js
    # Subtest: nullable string
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 1 - nullable string # time=151.044ms
    
    # Subtest: object or null body
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 2 - object or null body # time=60.508ms
    
    # Subtest: nullable body
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 3 - nullable body # time=68.531ms
    
    # Subtest: Nullable body with 204
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 4 - Nullable body with 204 # time=33.004ms
    
    1..4
    # time=321.189ms
ok 71 - test/nullable-validation.test.js # time=321.189ms

# Subtest: test/options.error-handler.test.js
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - OPTIONS can be created # time=9.088ms
    
    # Subtest: OPTIONS without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - OPTIONS without schema can be created # time=1.892ms
    
    # Subtest: OPTIONS with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - OPTIONS with body and querystring # time=1.498ms
    
    # Subtest: OPTIONS with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - OPTIONS with bodyLimit option # time=1.638ms
    
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - OPTIONS can be created # time=3.196ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - OPTIONS - correctly replies # time=64.552ms
    
    # Subtest: OPTIONS - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - OPTIONS - correctly replies with very large body # time=9.994ms
    
    # Subtest: OPTIONS - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - OPTIONS - correctly replies if the content type has the charset # time=6.061ms
    
    # Subtest: OPTIONS without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - OPTIONS without schema - correctly replies # time=5.942ms
    
    # Subtest: OPTIONS with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - OPTIONS with body and querystring - correctly replies # time=6.484ms
    
    # Subtest: OPTIONS with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - OPTIONS with no body - correctly replies # time=28.611ms
    
    # Subtest: OPTIONS returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - OPTIONS returns 415 - incorrect media type if body is not json # time=4.533ms
    
    # Subtest: OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text # time=5.912ms
    
    # Subtest: OPTIONS returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 14 - OPTIONS returns 400 - Bad Request # time=8.373ms
    
    # Subtest: OPTIONS returns 413 - Payload Too Large
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - OPTIONS returns 413 - Payload Too Large # time=7.454ms
    
    # Subtest: OPTIONS should fail with empty body and application/json content-type
        1..0
    ok 16 - OPTIONS should fail with empty body and application/json content-type # time=2.555ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - OPTIONS - correctly replies # time=5.143ms
    
    # Subtest: OPTIONS - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - OPTIONS - 400 on bad parameters # time=5.743ms
    
    # Subtest: OPTIONS - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - OPTIONS - input-validation coerce # time=4.726ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - OPTIONS - input-validation custom schema compiler # time=4.693ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - OPTIONS - input-validation joi schema compiler ok # time=6.332ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - OPTIONS - input-validation joi schema compiler ko # time=6.683ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - OPTIONS - input-validation yup schema compiler ok # time=6.632ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - OPTIONS - input-validation yup schema compiler ko # time=5.909ms
    
    # Subtest: OPTIONS - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - OPTIONS - input-validation instance custom schema compiler encapsulated # time=4.299ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 26 - OPTIONS - input-validation custom schema compiler encapsulated # time=4.306ms
    
    ok 27 - type is object
    ok 28 - type is Request
    ok 29 - type is object
    ok 30 - type is Request
    ok 31 - type is object
    ok 32 - type is Request
    ok 33 - type is object
    ok 34 - type is Request
    ok 35 - type is object
    ok 36 - type is Request
    1..36
    # time=1272.482ms
ok 72 - test/options.error-handler.test.js # time=1272.482ms

# Subtest: test/options.test.js
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - OPTIONS can be created # time=9.023ms
    
    # Subtest: OPTIONS without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - OPTIONS without schema can be created # time=1.886ms
    
    # Subtest: OPTIONS with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - OPTIONS with body and querystring # time=1.464ms
    
    # Subtest: OPTIONS with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - OPTIONS with bodyLimit option # time=1.67ms
    
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - OPTIONS can be created # time=2.451ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - OPTIONS - correctly replies # time=60.689ms
    
    # Subtest: OPTIONS - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - OPTIONS - correctly replies with very large body # time=9.525ms
    
    # Subtest: OPTIONS - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - OPTIONS - correctly replies if the content type has the charset # time=5.598ms
    
    # Subtest: OPTIONS without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - OPTIONS without schema - correctly replies # time=5.25ms
    
    # Subtest: OPTIONS with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - OPTIONS with body and querystring - correctly replies # time=5.428ms
    
    # Subtest: OPTIONS with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - OPTIONS with no body - correctly replies # time=33.285ms
    
    # Subtest: OPTIONS returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - OPTIONS returns 415 - incorrect media type if body is not json # time=4.126ms
    
    # Subtest: OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text # time=5.062ms
    
    # Subtest: OPTIONS returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 14 - OPTIONS returns 400 - Bad Request # time=7.445ms
    
    # Subtest: OPTIONS returns 413 - Payload Too Large
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - OPTIONS returns 413 - Payload Too Large # time=6.638ms
    
    # Subtest: OPTIONS should fail with empty body and application/json content-type
        1..0
    ok 16 - OPTIONS should fail with empty body and application/json content-type # time=0.587ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - OPTIONS - correctly replies # time=4.74ms
    
    # Subtest: OPTIONS - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - OPTIONS - 400 on bad parameters # time=5.169ms
    
    # Subtest: OPTIONS - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - OPTIONS - input-validation coerce # time=4.43ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - OPTIONS - input-validation custom schema compiler # time=4.461ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - OPTIONS - input-validation joi schema compiler ok # time=6.459ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - OPTIONS - input-validation joi schema compiler ko # time=6.387ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - OPTIONS - input-validation yup schema compiler ok # time=6.393ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - OPTIONS - input-validation yup schema compiler ko # time=5.57ms
    
    # Subtest: OPTIONS - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - OPTIONS - input-validation instance custom schema compiler encapsulated # time=4.011ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 26 - OPTIONS - input-validation custom schema compiler encapsulated # time=4.071ms
    
    1..26
    # time=992.783ms
ok 73 - test/options.test.js # time=992.783ms

# Subtest: test/output-validation.test.js
    # Subtest: shorthand - output string
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - output string # time=9.853ms
    
    # Subtest: shorthand - output number
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - output number # time=2.173ms
    
    # Subtest: wrong object for schema - output
        1..1
        ok 1 - (unnamed test)
    ok 3 - wrong object for schema - output # time=2.059ms
    
    # Subtest: empty response
        1..1
        ok 1 - (unnamed test)
    ok 4 - empty response # time=2.038ms
    
    # Subtest: unlisted response code
        1..1
        ok 1 - (unnamed test)
    ok 5 - unlisted response code # time=1.864ms
    
    ok 6 - should not error
    # Subtest: shorthand - string get ok
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - shorthand - string get ok # time=38.339ms
    
    # Subtest: shorthand - number get ok
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 8 - shorthand - number get ok # time=7.236ms
    
    # Subtest: shorthand - wrong-object-for-schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 9 - shorthand - wrong-object-for-schema # time=7.291ms
    
    # Subtest: shorthand - empty
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - shorthand - empty # time=4.432ms
    
    # Subtest: shorthand - 400
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - shorthand - 400 # time=21.386ms
    
    1..11
    # time=247.84ms
ok 74 - test/output-validation.test.js # time=247.84ms

# Subtest: test/patch.error-handler.test.js
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PATCH can be created # time=9.245ms
    
    # Subtest: PATCH without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PATCH without schema can be created # time=1.851ms
    
    # Subtest: PATCH with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PATCH with body and querystring # time=1.508ms
    
    # Subtest: PATCH with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PATCH with bodyLimit option # time=1.659ms
    
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - PATCH can be created # time=2.607ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - PATCH - correctly replies # time=55.444ms
    
    # Subtest: PATCH - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - PATCH - correctly replies with very large body # time=10.566ms
    
    # Subtest: PATCH - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - PATCH - correctly replies if the content type has the charset # time=6.049ms
    
    # Subtest: PATCH without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - PATCH without schema - correctly replies # time=5.888ms
    
    # Subtest: PATCH with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - PATCH with body and querystring - correctly replies # time=6.273ms
    
    # Subtest: PATCH with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - PATCH with no body - correctly replies # time=31.704ms
    
    # Subtest: PATCH returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - PATCH returns 415 - incorrect media type if body is not json # time=6.167ms
    
    # Subtest: PATCH returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 13 - PATCH returns 400 - Bad Request # time=7.527ms
    
    # Subtest: PATCH returns 413 - Payload Too Large
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 14 - PATCH returns 413 - Payload Too Large # time=14.262ms
    
    # Subtest: PATCH should fail with empty body and application/json content-type
        1..12
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
    ok 15 - PATCH should fail with empty body and application/json content-type # time=21.56ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - PATCH - correctly replies # time=5.418ms
    
    # Subtest: PATCH - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - PATCH - 400 on bad parameters # time=5.233ms
    
    # Subtest: PATCH - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - PATCH - input-validation coerce # time=4.475ms
    
    # Subtest: PATCH - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - PATCH - input-validation custom schema compiler # time=4.607ms
    
    # Subtest: PATCH - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - PATCH - input-validation joi schema compiler ok # time=6.395ms
    
    # Subtest: PATCH - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - PATCH - input-validation joi schema compiler ko # time=5.85ms
    
    # Subtest: PATCH - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - PATCH - input-validation yup schema compiler ok # time=5.652ms
    
    # Subtest: PATCH - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - PATCH - input-validation yup schema compiler ko # time=5.823ms
    
    # Subtest: PATCH - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - PATCH - input-validation instance custom schema compiler encapsulated # time=4.371ms
    
    # Subtest: PATCH - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - PATCH - input-validation custom schema compiler encapsulated # time=4.968ms
    
    ok 26 - type is object
    ok 27 - type is Request
    ok 28 - type is object
    ok 29 - type is Request
    ok 30 - type is object
    ok 31 - type is Request
    ok 32 - type is object
    ok 33 - type is Request
    ok 34 - type is object
    ok 35 - type is Request
    ok 36 - type is object
    ok 37 - type is Request
    ok 38 - type is object
    ok 39 - type is Request
    ok 40 - type is object
    ok 41 - type is Request
    ok 42 - type is object
    ok 43 - type is Request
    ok 44 - type is object
    ok 45 - type is Request
    ok 46 - type is object
    ok 47 - type is Request
    ok 48 - type is object
    ok 49 - type is Request
    1..49
    # time=1097.223ms
ok 75 - test/patch.error-handler.test.js # time=1097.223ms

# Subtest: test/patch.test.js
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PATCH can be created # time=17.16ms
    
    # Subtest: PATCH without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PATCH without schema can be created # time=2.048ms
    
    # Subtest: PATCH with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PATCH with body and querystring # time=8.433ms
    
    # Subtest: PATCH with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PATCH with bodyLimit option # time=3.96ms
    
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - PATCH can be created # time=2.799ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - PATCH - correctly replies # time=54.646ms
    
    # Subtest: PATCH - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - PATCH - correctly replies with very large body # time=19.207ms
    
    # Subtest: PATCH - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - PATCH - correctly replies if the content type has the charset # time=7.751ms
    
    # Subtest: PATCH without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - PATCH without schema - correctly replies # time=10.256ms
    
    # Subtest: PATCH with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - PATCH with body and querystring - correctly replies # time=7.463ms
    
    # Subtest: PATCH with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - PATCH with no body - correctly replies # time=47.687ms
    
    # Subtest: PATCH returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - PATCH returns 415 - incorrect media type if body is not json # time=6.645ms
    
    # Subtest: PATCH returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 13 - PATCH returns 400 - Bad Request # time=10.097ms
    
    # Subtest: PATCH returns 413 - Payload Too Large
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 14 - PATCH returns 413 - Payload Too Large # time=18.423ms
    
    # Subtest: PATCH should fail with empty body and application/json content-type
        1..12
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
    ok 15 - PATCH should fail with empty body and application/json content-type # time=27.181ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - PATCH - correctly replies # time=5.986ms
    
    # Subtest: PATCH - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - PATCH - 400 on bad parameters # time=7.157ms
    
    # Subtest: PATCH - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - PATCH - input-validation coerce # time=4.555ms
    
    # Subtest: PATCH - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - PATCH - input-validation custom schema compiler # time=12.385ms
    
    # Subtest: PATCH - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - PATCH - input-validation joi schema compiler ok # time=5.645ms
    
    # Subtest: PATCH - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - PATCH - input-validation joi schema compiler ko # time=5.506ms
    
    # Subtest: PATCH - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - PATCH - input-validation yup schema compiler ok # time=7.801ms
    
    # Subtest: PATCH - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - PATCH - input-validation yup schema compiler ko # time=7.445ms
    
    # Subtest: PATCH - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - PATCH - input-validation instance custom schema compiler encapsulated # time=3.695ms
    
    # Subtest: PATCH - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - PATCH - input-validation custom schema compiler encapsulated # time=3.758ms
    
    1..25
    # time=1157.039ms
ok 76 - test/patch.test.js # time=1157.039ms

# Subtest: test/plugin.test.js
    # Subtest: require a plugin
        1..1
        ok 1 - expect truthy value
    ok 1 - require a plugin # time=100.775ms
    
    # Subtest: plugin metadata - ignore prefix
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 2 - plugin metadata - ignore prefix # time=36.904ms
    
    # Subtest: plugin metadata - naming plugins
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 3 - plugin metadata - naming plugins # time=8.938ms
    
    # Subtest: fastify.register with fastify-plugin should not encapsulate his code
        1..10
        ok 1 - expect falsey value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 4 - fastify.register with fastify-plugin should not encapsulate his code # time=50.377ms
    
    # Subtest: fastify.register with fastify-plugin should provide access to external fastify instance if opts argument is a function
        1..22
        ok 1 - expect falsey value
        ok 2 - expect falsey value
        ok 3 - expect falsey value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect falsey value
        ok 10 - expect truthy value
        ok 11 - expect falsey value
        ok 12 - expect truthy value
        ok 13 - expect truthy value
        ok 14 - should be equal
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - should not error
        ok 18 - expect truthy value
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equal
        ok 22 - should be equivalent
    ok 5 - fastify.register with fastify-plugin should provide access to external fastify instance if opts argument is a function # time=37.038ms
    
    # Subtest: fastify.register with fastify-plugin registers fastify level plugins
        1..15
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should not error
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equivalent
    ok 6 - fastify.register with fastify-plugin registers fastify level plugins # time=21.045ms
    
    # Subtest: check dependencies - should not throw
        1..12
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - should not error
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
    ok 7 - check dependencies - should not throw # time=15.445ms
    
    # Subtest: check dependencies - should throw
        1..12
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - should not error
        ok 7 - expect truthy value
        ok 8 - expect falsey value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
    ok 8 - check dependencies - should throw # time=47.339ms
    
    # Subtest: set the plugin name based on the plugin displayName symbol
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
    ok 9 - set the plugin name based on the plugin displayName symbol # time=27.377ms
    
    # Subtest: plugin name will change when using no encapsulation
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
    ok 10 - plugin name will change when using no encapsulation # time=16.001ms
    
    # Subtest: plugin name is undefined when accessing in no plugin context
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 11 - plugin name is undefined when accessing in no plugin context # time=19.747ms
    
    # Subtest: set the plugin name based on the plugin function name
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 12 - set the plugin name based on the plugin function name # time=10.057ms
    
    # Subtest: approximate a plugin name when no meta data is available
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
    ok 13 - approximate a plugin name when no meta data is available # time=8.099ms
    
    # Subtest: approximate a plugin name also when fastify-plugin has no meta data
        1..4
        ok 1 - should match pattern provided
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should not error
    ok 14 - approximate a plugin name also when fastify-plugin has no meta data # time=14.429ms
    
    # Subtest: plugin encapsulation
        1..10
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 15 - plugin encapsulation # time=28.869ms
    
    # Subtest: if a plugin raises an error and there is not a callback to handle it, the server must not start
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 16 - if a plugin raises an error and there is not a callback to handle it, the server must not start # time=4.537ms
    
    # Subtest: add hooks after route declaration
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 17 - add hooks after route declaration # time=12.158ms
    
    # Subtest: nested plugins
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 18 - nested plugins # time=14.303ms
    
    # Subtest: nested plugins awaited
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 19 - nested plugins awaited # time=14.042ms
    
    # Subtest: plugin metadata - decorators
        1..1
        ok 1 - expect truthy value
    ok 20 - plugin metadata - decorators # time=7.097ms
    
    # Subtest: plugin metadata - decorators - should throw
        1..1
        ok 1 - should be equal
    ok 21 - plugin metadata - decorators - should throw # time=2.972ms
    
    # Subtest: plugin metadata - decorators - should throw with plugin name
        1..1
        ok 1 - should be equal
    ok 22 - plugin metadata - decorators - should throw with plugin name # time=3.2ms
    
    # Subtest: plugin metadata - dependencies
        1..1
        ok 1 - everything right
    ok 23 - plugin metadata - dependencies # time=3.309ms
    
    # Subtest: plugin metadata - dependencies (nested)
        1..1
        ok 1 - everything right
    ok 24 - plugin metadata - dependencies (nested) # time=3.974ms
    
    # Subtest: pluginTimeout
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 25 - pluginTimeout # time=15.73ms
    
    # "pluginTimeout - named function" has `only` set but all tests run
    # Subtest: pluginTimeout - named function
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 26 - pluginTimeout - named function # time=14.693ms
    
    # Subtest: pluginTimeout default
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 27 - pluginTimeout default # time=-161505505.335ms
    
    # Subtest: plugin metadata - version
        1..1
        ok 1 - everything right
    ok 28 - plugin metadata - version # time=7.739ms
    
    # Subtest: plugin metadata - version range
        1..1
        ok 1 - everything right
    ok 29 - plugin metadata - version range # time=4.271ms
    
    # Subtest: plugin metadata - version not matching requirement
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 30 - plugin metadata - version not matching requirement # time=3.147ms
    
    # Subtest: plugin metadata - version not matching requirement 2
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 31 - plugin metadata - version not matching requirement 2 # time=3.039ms
    
    # Subtest: plugin metadata - version not matching requirement 3
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 32 - plugin metadata - version not matching requirement 3 # time=2.872ms
    
    # Subtest: plugin metadata - release candidate
        1..2
        ok 1 - should not error
        ok 2 - everything right
    ok 33 - plugin metadata - release candidate # time=4.578ms
    
    # Subtest: fastify-rc loads prior version plugins
        1..2
        ok 1 - should not error
        ok 2 - everything right
    ok 34 - fastify-rc loads prior version plugins # time=3.484ms
    
    # Subtest: hasPlugin method exists as a function
        1..1
        ok 1 - should be equal
    ok 35 - hasPlugin method exists as a function # time=1.133ms
    
    # Subtest: hasPlugin returns true if the specified plugin has been registered
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
    ok 36 - hasPlugin returns true if the specified plugin has been registered # time=5.424ms
    
    # Subtest: hasPlugin returns false if the specified plugin has not been registered
        1..1
        ok 1 - expect falsey value
    ok 37 - hasPlugin returns false if the specified plugin has not been registered # time=1.089ms
    
    # Subtest: hasPlugin returns false when using encapsulation
        1..25
        ok 1 - expect truthy value
        ok 2 - expect falsey value
        ok 3 - expect falsey value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect truthy value
        ok 8 - expect falsey value
        ok 9 - expect falsey value
        ok 10 - expect falsey value
        ok 11 - expect falsey value
        ok 12 - expect falsey value
        ok 13 - expect truthy value
        ok 14 - expect falsey value
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - expect falsey value
        ok 18 - expect falsey value
        ok 19 - expect truthy value
        ok 20 - expect falsey value
        ok 21 - expect falsey value
        ok 22 - expect falsey value
        ok 23 - expect falsey value
        ok 24 - expect falsey value
        ok 25 - expect truthy value
    ok 38 - hasPlugin returns false when using encapsulation # time=15.411ms
    
    # Subtest: hasPlugin returns true when using no encapsulation
        1..26
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect falsey value
        ok 10 - expect falsey value
        ok 11 - expect falsey value
        ok 12 - expect truthy value
        ok 13 - expect truthy value
        ok 14 - expect truthy value
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - expect truthy value
        ok 18 - expect truthy value
        ok 19 - expect truthy value
        ok 20 - expect truthy value
        ok 21 - expect falsey value
        ok 22 - expect truthy value
        ok 23 - expect truthy value
        ok 24 - expect truthy value
        ok 25 - expect truthy value
        ok 26 - expect truthy value
    ok 39 - hasPlugin returns true when using no encapsulation # time=7.099ms
    
    1..39
    # time=642.572ms
ok 77 - test/plugin.test.js # time=642.572ms

# Subtest: test/pretty-print.test.js
    # Subtest: pretty print - static routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - pretty print - static routes # time=46.167ms
    
    # Subtest: pretty print - parametric routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - pretty print - parametric routes # time=7.543ms
    
    # Subtest: pretty print - mixed parametric routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 3 - pretty print - mixed parametric routes # time=8.216ms
    
    # Subtest: pretty print - wildcard routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - pretty print - wildcard routes # time=8.389ms
    
    # Subtest: pretty print - empty plugins
        1..2
        ok 1 - should be equal
        ok 2 - should match pattern provided
    ok 5 - pretty print - empty plugins # time=7.647ms
    
    # Subtest: pretty print - nested plugins
        1..4
        ok 1 - should be equal
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
    ok 6 - pretty print - nested plugins # time=10.186ms
    
    # Subtest: pretty print - commonPrefix
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 7 - pretty print - commonPrefix # time=31.337ms
    
    # Subtest: pretty print - includeMeta, includeHooks
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 8 - pretty print - includeMeta, includeHooks # time=21.752ms
    
    1..8
    # time=150.269ms
ok 78 - test/pretty-print.test.js # time=150.269ms

# Subtest: test/promises.test.js
    ok 1 - should not error
    # Subtest: shorthand - sget return promise es6 get
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - shorthand - sget return promise es6 get # time=41.535ms
    
    # Subtest: shorthand - sget promise es6 get return error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 3 - shorthand - sget promise es6 get return error # time=7.936ms
    
    # Subtest: sget promise double send
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 4 - sget promise double send # time=5.963ms
    
    # Subtest: thenable
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 5 - thenable # time=6.194ms
    
    # Subtest: thenable (error)
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 6 - thenable (error) # time=4.439ms
    
    # Subtest: return-reply
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - return-reply # time=4.998ms
    
    1..7
    # time=135.15ms
ok 79 - test/promises.test.js # time=135.15ms

# Subtest: test/proto-poisoning.test.js
    # Subtest: proto-poisoning error
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 1 - proto-poisoning error # time=71.507ms
    
    # Subtest: proto-poisoning remove
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 2 - proto-poisoning remove # time=15.734ms
    
    # Subtest: proto-poisoning ignore
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 3 - proto-poisoning ignore # time=27.423ms
    
    # Subtest: constructor-poisoning error (default in v3)
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 4 - constructor-poisoning error (default in v3) # time=12.063ms
    
    # Subtest: constructor-poisoning error
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 5 - constructor-poisoning error # time=8.827ms
    
    # Subtest: constructor-poisoning remove
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 6 - constructor-poisoning remove # time=8.448ms
    
    1..6
    # time=155.997ms
ok 80 - test/proto-poisoning.test.js # time=155.997ms

./VariantsPureDep/fastify/variant9/fastify

> fastify@4.3.0 test
> npm run lint && npm run unit && npm run test:typescript


> fastify@4.3.0 lint
> npm run lint:standard && npm run lint:typescript && npm run lint:markdown


> fastify@4.3.0 lint:standard
> standard | snazzy

-----------------------------|---------|----------|---------|---------|-----------------------------
File                         | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s           
-----------------------------|---------|----------|---------|---------|-----------------------------
All files                    |   92.78 |    92.03 |    92.3 |   92.91 |                             
 fastify                     |   85.23 |    88.12 |   82.14 |    84.9 |                             
  fastify.js                 |   85.23 |    88.12 |   82.14 |    84.9 | ...,676-695,721-724,732-743 
 fastify/lib                 |   93.85 |    92.55 |   94.23 |   94.06 |                             
  contentTypeParser.js       |    97.8 |    99.15 |     100 |   97.64 | 233-236                     
  context.js                 |     100 |      100 |     100 |     100 |                             
  decorate.js                |   98.21 |    98.03 |     100 |   98.07 | 41                          
  error-handler.js           |    94.2 |    93.61 |     100 |    94.2 | 108-110,118                 
  errors.js                  |     100 |      100 |     100 |     100 |                             
  fourOhFour.js              |     100 |      100 |     100 |     100 |                             
  handleRequest.js           |   98.48 |    98.03 |     100 |   98.41 | 97                          
  headRoute.js               |      20 |     12.5 |   33.33 |   14.28 | 4-21,26                     
  hooks.js                   |     100 |      100 |     100 |     100 |                             
  initialConfigValidation.js |     100 |      100 |     100 |     100 |                             
  logger.js                  |     100 |      100 |     100 |     100 |                             
  noop-set.js                |     100 |      100 |     100 |     100 |                             
  pluginOverride.js          |   97.56 |       90 |     100 |    97.5 | 75                          
  pluginUtils.js             |     100 |      100 |     100 |     100 |                             
  reply.js                   |    87.7 |    84.86 |   88.88 |   88.76 | ...-618,622-627,648-654,659 
  reqIdGenFactory.js         |     100 |      100 |     100 |     100 |                             
  request.js                 |   87.96 |    90.62 |      80 |   89.42 | 45-54,157-167,206,211       
  route.js                   |   88.84 |    88.04 |     100 |   88.69 | ...,355-362,396-397,461,465 
  schema-controller.js       |    92.3 |    79.41 |   84.61 |    92.3 | 23,58,71                    
  schemas.js                 |   92.64 |    93.65 |   88.88 |   94.02 | 28,32,43,147                
  server.js                  |     100 |      100 |     100 |     100 |                             
  symbols.js                 |     100 |      100 |     100 |     100 |                             
  validation.js              |   98.55 |    96.55 |     100 |   98.43 | 22                          
  warnings.js                |     100 |      100 |     100 |     100 |                             
  wrapThenable.js            |   93.33 |       90 |     100 |   93.33 | 11                          
-----------------------------|---------|----------|---------|---------|-----------------------------

> fastify@4.3.0 lint:typescript
> eslint -c types/.eslintrc.json types/**/*.d.ts test/types/**/*.test-d.ts


> fastify@4.3.0 lint:markdown
> markdownlint-cli2

markdownlint-cli2 v0.4.0 (markdownlint v0.25.1)

> fastify@4.3.0 unit
> tap

TAP version 13
# Subtest: test/404s.test.js
    # Subtest: default 404
        1..4
        ok 1 - should not error
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - unsupported method # time=30.295ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - framework-unsupported method # time=6.131ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - unsupported route # time=4.021ms
        
    ok 1 - default 404 # time=189.651ms
    
    # Subtest: customized 404
        1..6
        ok 1 - should not error
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - unsupported method # time=10.573ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - framework-unsupported method # time=4.684ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - unsupported route # time=3.834ms
        
        # Subtest: with error object
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - with error object # time=9.934ms
        
        # Subtest: error object with headers property
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 6 - error object with headers property # time=5.518ms
        
    ok 2 - customized 404 # time=47.608ms
    
    # Subtest: custom header in notFound handler
        1..2
        ok 1 - should not error
        # Subtest: not found with custom header
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
        ok 2 - not found with custom header # time=4.779ms
        
    ok 3 - custom header in notFound handler # time=28.121ms
    
    # Subtest: setting a custom 404 handler multiple times is an error
        1..5
        # Subtest: at the root level
            1..2
            ok 1 - type is Error
            ok 2 - should be equal
        ok 1 - at the root level # time=2.313ms
        
        # Subtest: at the plugin level
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 2 - at the plugin level # time=31.251ms
        
        # Subtest: at multiple levels
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 3 - at multiple levels # time=6.449ms
        
        # Subtest: at multiple levels / 2
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 4 - at multiple levels / 2 # time=10.533ms
        
        # Subtest: in separate plugins at the same level
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 5 - in separate plugins at the same level # time=11.784ms
        
    ok 4 - setting a custom 404 handler multiple times is an error # time=78.078ms
    
    # Subtest: encapsulated 404
        1..13
        ok 1 - should not error
        # Subtest: root unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - root unsupported method # time=31.098ms
        
        # Subtest: root framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - root framework-unsupported method # time=3.468ms
        
        # Subtest: root unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - root unsupported route # time=2.992ms
        
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 5 - unsupported method # time=4.605ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 6 - framework-unsupported method # time=4.804ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 7 - unsupported route # time=4.838ms
        
        # Subtest: unsupported method 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 8 - unsupported method 2 # time=4.978ms
        
        # Subtest: framework-unsupported method 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 9 - framework-unsupported method 2 # time=4.593ms
        
        # Subtest: unsupported route 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 10 - unsupported route 2 # time=4.487ms
        
        # Subtest: unsupported method 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 11 - unsupported method 3 # time=4.962ms
        
        # Subtest: framework-unsupported method 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 12 - framework-unsupported method 3 # time=4.269ms
        
        # Subtest: unsupported route 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 13 - unsupported route 3 # time=4.169ms
        
    ok 5 - encapsulated 404 # time=158.323ms
    
    # Subtest: custom 404 hook and handler context
        1..21
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/404s.test.js:606:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
          tapCaught: testFunctionThrow
          test: custom 404 hook and handler context
          ...
        
        # test count(1) != plan(21)
        # failed 1 test
    not ok 6 - custom 404 hook and handler context # time=70.773ms
    
    # Subtest: encapsulated custom 404 without - prefix hook and handler context
        1..13
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/404s.test.js:659:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
          tapCaught: testFunctionThrow
          test: encapsulated custom 404 without - prefix hook and handler context
          ...
        
        # test count(1) != plan(13)
        # failed 1 test
    not ok 7 - encapsulated custom 404 without - prefix hook and handler context # time=13.431ms
    
    # Subtest: run hooks on default 404
        1..7
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - preHandler called
        ok 4 - onSend called
        ok 5 - onResponse called
        ok 6 - should not error
        ok 7 - should be equal
    ok 8 - run hooks on default 404 # time=12.524ms
    
    # Subtest: run non-encapsulated plugin hooks on default 404
        1..6
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/404s.test.js:745:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
          tapCaught: testFunctionThrow
          test: run non-encapsulated plugin hooks on default 404
          ...
        
        # test count(1) != plan(6)
        # failed 1 test
    not ok 9 - run non-encapsulated plugin hooks on default 404 # time=13.523ms
    
    # Subtest: run non-encapsulated plugin hooks on custom 404
        1..11
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/404s.test.js:796:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
          tapCaught: testFunctionThrow
          test: run non-encapsulated plugin hooks on custom 404
          ...
        
        # test count(1) != plan(11)
        # failed 1 test
    not ok 10 - run non-encapsulated plugin hooks on custom 404 # time=11.922ms
    
    # Subtest: run hook with encapsulated 404
        1..11
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - onRequest 2 called
        ok 4 - preHandler called
        ok 5 - preHandler 2 called
        ok 6 - onSend called
        ok 7 - onSend 2 called
        ok 8 - onResponse called
        ok 9 - onResponse 2 called
        ok 10 - should not error
        ok 11 - should be equal
    ok 11 - run hook with encapsulated 404 # time=27.55ms
    
    # Subtest: run hook with encapsulated 404 and framework-unsupported method
        1..11
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - onRequest 2 called
        ok 4 - preHandler called
        ok 5 - preHandler 2 called
        ok 6 - onSend called
        ok 7 - onSend 2 called
        ok 8 - onResponse called
        ok 9 - onResponse 2 called
        ok 10 - should not error
        ok 11 - should be equal
    ok 12 - run hook with encapsulated 404 and framework-unsupported method # time=40.945ms
    
    # Subtest: hooks check 404
        1..13
        ok 1 - should not error
        ok 2 - onRequest
        ok 3 - should be equivalent
        ok 4 - onSend
        ok 5 - onResponse
        ok 6 - onRequest
        ok 7 - should be equivalent
        ok 8 - onSend
        ok 9 - onResponse
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should not error
        ok 13 - should be equal
    ok 13 - hooks check 404 # time=26.343ms
    
    # Subtest: setNotFoundHandler should not suppress duplicated routes checking
        1..1
        ok 1 - expect truthy value
    ok 14 - setNotFoundHandler should not suppress duplicated routes checking # time=8.3ms
    
    # Subtest: log debug for 404
        1..1
        # Subtest: log debug
            1..7
            not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
              ---
              stack: |
                Object.inject (fastify.js:467:24)
                Test.<anonymous> (test/404s.test.js:1040:13)
              at:
                line: 956
                column: 15
                file: node:internal/modules/cjs/loader
                function: Function.Module._resolveFilename
              code: MODULE_NOT_FOUND
              requireStack:
                - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
                - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
              tapCaught: testFunctionThrow
              test: log debug
              ...
            
            # test count(1) != plan(7)
            # failed 1 test
        not ok 1 - log debug # time=39.459ms
        
        # failed 1 test
    not ok 15 - log debug for 404 # time=54.118ms
    
    # Subtest: Unknown method
        1..5
        ok 1 - should not error
        ok 2 - expected to throw
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent strictly
    ok 16 - Unknown method # time=33.482ms
    
    # Subtest: recognizes errors from the http-errors module
        1..5
        ok 1 - should not error
        not ok 2 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            cb (test/404s.test.js:1107:13)
            onListen (lib/server.js:67:11)
            GetAddrInfoReqWrap.callback (lib/server.js:144:7)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
          tapCaught: uncaughtException
          test: recognizes errors from the http-errors module
          ...
        
        # test count(2) != plan(5)
        # failed 1 of 2 tests
    not ok 17 - recognizes errors from the http-errors module # time=20.835ms
    
    # Subtest: the default 404 handler can be invoked inside a prefixed plugin
        1..3
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/404s.test.js:1140:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
          tapCaught: testFunctionThrow
          test: the default 404 handler can be invoked inside a prefixed plugin
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 18 - the default 404 handler can be invoked inside a prefixed plugin # time=14.211ms
    
    # Subtest: an inherited custom 404 handler can be invoked inside a prefixed plugin
        1..3
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/404s.test.js:1168:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
          tapCaught: testFunctionThrow
          test: an inherited custom 404 handler can be invoked inside a prefixed plugin
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 19 - an inherited custom 404 handler can be invoked inside a prefixed plugin # time=15.434ms
    
    # Subtest: encapsulated custom 404 handler without a prefix is the handler for the entire 404 level
        1..6
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/404s.test.js:1203:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
          tapCaught: testFunctionThrow
          test: encapsulated custom 404 handler without a prefix is the handler for the
            entire 404 level
          ...
        
        # test count(1) != plan(6)
        # failed 1 test
    not ok 20 - encapsulated custom 404 handler without a prefix is the handler for the entire 404 level # time=14.333ms
    
    # Subtest: cannot set notFoundHandler after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 21 - cannot set notFoundHandler after binding # time=4.225ms
    
    # Subtest: 404 inside onSend
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 22 - 404 inside onSend # time=7.904ms
    
    # Subtest: onSend hooks run when an encapsulated route invokes the notFound handler
        1..3
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/404s.test.js:1287:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
          tapCaught: testFunctionThrow
          test: onSend hooks run when an encapsulated route invokes the notFound handler
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 23 - onSend hooks run when an encapsulated route invokes the notFound handler # time=9.512ms
    
    # Subtest: preHandler option for setNotFoundHandler
        1..10
        # Subtest: preHandler option
            1..2
            not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
              ---
              stack: |
                Object.inject (fastify.js:467:24)
                Test.<anonymous> (test/404s.test.js:1310:13)
              at:
                line: 956
                column: 15
                file: node:internal/modules/cjs/loader
                function: Function.Module._resolveFilename
              code: MODULE_NOT_FOUND
              requireStack:
                - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
                - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
              tapCaught: testFunctionThrow
              test: preHandler option
              ...
            
            # test count(1) != plan(2)
            # failed 1 test
        not ok 1 - preHandler option # time=10.768ms
        
        # Subtest: preHandler hook in setNotFoundHandler should be called when callNotFound
            1..3
            not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
              ---
              timeout: 40000
              stack: |
                Object.inject (fastify.js:467:24)
                Test.<anonymous> (test/404s.test.js:1339:13)
              at:
                line: 956
                column: 15
                file: node:internal/modules/cjs/loader
                function: Function.Module._resolveFilename
              code: MODULE_NOT_FOUND
              requireStack:
                - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
                - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
              tapCaught: testFunctionThrow
              test: preHandler hook in setNotFoundHandler should be called when callNotFound
              ...
            
            # test count(1) != plan(3)
            # failed 1 test
        not ok 2 - preHandler hook in setNotFoundHandler should be called when callNotFound # time=11.879ms
          ---
          timeout: 40000
          ...
        
        # Subtest: preHandler hook in setNotFoundHandler should accept an array of functions and be called when callNotFound
            1..2
            not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
              ---
              stack: |
                Object.inject (fastify.js:467:24)
                Test.<anonymous> (test/404s.test.js:1373:13)
              at:
                line: 956
                column: 15
                file: node:internal/modules/cjs/loader
                function: Function.Module._resolveFilename
              code: MODULE_NOT_FOUND
              requireStack:
                - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
                - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
              tapCaught: testFunctionThrow
              test: preHandler hook in setNotFoundHandler should accept an array of functions
                and be called when callNotFound
              ...
            
            # test count(1) != plan(2)
            # failed 1 test
        not ok 3 - preHandler hook in setNotFoundHandler should accept an array of functions and be called when callNotFound # time=11.629ms
        
        # Subtest: preHandler option should be called after preHandler hook
            1..2
            not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
              ---
              stack: |
                Object.inject (fastify.js:467:24)
                Test.<anonymous> (test/404s.test.js:1402:13)
              at:
                line: 956
                column: 15
                file: node:internal/modules/cjs/loader
                function: Function.Module._resolveFilename
              code: MODULE_NOT_FOUND
              requireStack:
                - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
                - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
              tapCaught: testFunctionThrow
              test: preHandler option should be called after preHandler hook
              ...
            
            # test count(1) != plan(2)
            # failed 1 test
        not ok 4 - preHandler option should be called after preHandler hook # time=10.465ms
        
        # Subtest: preHandler option should be unique per prefix
            1..4
            not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
              ---
              stack: |
                Object.inject (fastify.js:467:24)
                Test.<anonymous> (test/404s.test.js:1434:13)
              at:
                line: 956
                column: 15
                file: node:internal/modules/cjs/loader
                function: Function.Module._resolveFilename
              code: MODULE_NOT_FOUND
              requireStack:
                - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
                - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
              tapCaught: testFunctionThrow
              test: preHandler option should be unique per prefix
              ...
            
            # test count(1) != plan(4)
            # failed 1 test
        not ok 5 - preHandler option should be unique per prefix # time=16.643ms
        
        # Subtest: preHandler option should handle errors
            1..3
            not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
              ---
              stack: |
                Object.inject (fastify.js:467:24)
                Test.<anonymous> (test/404s.test.js:1467:13)
              at:
                line: 956
                column: 15
                file: node:internal/modules/cjs/loader
                function: Function.Module._resolveFilename
              code: MODULE_NOT_FOUND
              requireStack:
                - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
                - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
              tapCaught: testFunctionThrow
              test: preHandler option should handle errors
              ...
            
            # test count(1) != plan(3)
            # failed 1 test
        not ok 6 - preHandler option should handle errors # time=12.572ms
        
        # Subtest: preHandler option should handle errors with custom status code
            1..3
            not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
              ---
              stack: |
                Object.inject (fastify.js:467:24)
                Test.<anonymous> (test/404s.test.js:1496:13)
              at:
                line: 956
                column: 15
                file: node:internal/modules/cjs/loader
                function: Function.Module._resolveFilename
              code: MODULE_NOT_FOUND
              requireStack:
                - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
                - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
              tapCaught: testFunctionThrow
              test: preHandler option should handle errors with custom status code
              ...
            
            # test count(1) != plan(3)
            # failed 1 test
        not ok 7 - preHandler option should handle errors with custom status code # time=10.95ms
        
        # Subtest: preHandler option could accept an array of functions
            1..2
            not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
              ---
              stack: |
                Object.inject (fastify.js:467:24)
                Test.<anonymous> (test/404s.test.js:1531:13)
              at:
                line: 956
                column: 15
                file: node:internal/modules/cjs/loader
                function: Function.Module._resolveFilename
              code: MODULE_NOT_FOUND
              requireStack:
                - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
                - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
              tapCaught: testFunctionThrow
              test: preHandler option could accept an array of functions
              ...
            
            # test count(1) != plan(2)
            # failed 1 test
        not ok 8 - preHandler option could accept an array of functions # time=25.537ms
        
        # Subtest: preHandler option does not interfere with preHandler
            1..4
            not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
              ---
              stack: |
                Object.inject (fastify.js:467:24)
                Test.<anonymous> (test/404s.test.js:1568:13)
              at:
                line: 956
                column: 15
                file: node:internal/modules/cjs/loader
                function: Function.Module._resolveFilename
              code: MODULE_NOT_FOUND
              requireStack:
                - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
                - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
              tapCaught: testFunctionThrow
              test: preHandler option does not interfere with preHandler
              ...
            
            # test count(1) != plan(4)
            # failed 1 test
        not ok 9 - preHandler option does not interfere with preHandler # time=10.721ms
        
        # Subtest: preHandler option should keep the context
            1..3
            not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
              ---
              stack: |
                Object.inject (fastify.js:467:24)
                Test.<anonymous> (test/404s.test.js:1606:13)
              at:
                line: 956
                column: 15
                file: node:internal/modules/cjs/loader
                function: Function.Module._resolveFilename
              code: MODULE_NOT_FOUND
              requireStack:
                - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
                - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
              tapCaught: testFunctionThrow
              test: preHandler option should keep the context
              ...
            
            # test count(1) != plan(3)
            # failed 1 test
        not ok 10 - preHandler option should keep the context # time=10.418ms
        
        # failed 10 of 10 tests
    not ok 24 - preHandler option for setNotFoundHandler # time=173.522ms
    
    # Subtest: reply.notFound invoked the notFound handler
        1..3
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/404s.test.js:1631:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
          tapCaught: testFunctionThrow
          test: reply.notFound invoked the notFound handler
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 25 - reply.notFound invoked the notFound handler # time=11.779ms
    
    # Subtest: The custom error handler should be invoked after the custom not found handler
        1..6
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/404s.test.js:1666:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
          tapCaught: testFunctionThrow
          test: The custom error handler should be invoked after the custom not found handler
          ...
        
        # test count(1) != plan(6)
        # failed 1 test
    not ok 26 - The custom error handler should be invoked after the custom not found handler # time=9.239ms
    
    # Subtest: If the custom not found handler does not use an Error, the custom error handler should not be called
        1..3
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/404s.test.js:1697:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
          tapCaught: testFunctionThrow
          test: If the custom not found handler does not use an Error, the custom error
            handler should not be called
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 27 - If the custom not found handler does not use an Error, the custom error handler should not be called # time=9.641ms
    
    # Subtest: preValidation option
        1..3
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/404s.test.js:1722:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
          tapCaught: testFunctionThrow
          test: preValidation option
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 28 - preValidation option # time=8.712ms
    
    # Subtest: preValidation option could accept an array of functions
        1..4
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/404s.test.js:1752:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
          tapCaught: testFunctionThrow
          test: preValidation option could accept an array of functions
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 29 - preValidation option could accept an array of functions # time=12.404ms
    
    # Subtest: Should fail to invoke callNotFound inside a 404 handler
        1..5
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/404s.test.js:1792:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
          tapCaught: testFunctionThrow
          test: Should fail to invoke callNotFound inside a 404 handler
          ...
        
        # test count(1) != plan(5)
        # failed 1 test
    not ok 30 - Should fail to invoke callNotFound inside a 404 handler # time=13.525ms
    
    # Subtest: 400 in case of bad url (pre find-my-way v2.2.0 was a 404)
        # Subtest: Dynamic route
            1..3
            not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
              ---
              stack: |
                Object.inject (fastify.js:467:24)
                Test.<anonymous> (test/404s.test.js:1807:13)
              at:
                line: 956
                column: 15
                file: node:internal/modules/cjs/loader
                function: Function.Module._resolveFilename
              code: MODULE_NOT_FOUND
              requireStack:
                - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
                - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
              tapCaught: testFunctionThrow
              test: Dynamic route
              ...
            
            # test count(1) != plan(3)
            # failed 1 test
        not ok 1 - Dynamic route # time=11.928ms
        
        # Subtest: Wildcard
            1..3
            not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
              ---
              stack: |
                Object.inject (fastify.js:467:24)
                Test.<anonymous> (test/404s.test.js:1825:13)
              at:
                line: 956
                column: 15
                file: node:internal/modules/cjs/loader
                function: Function.Module._resolveFilename
              code: MODULE_NOT_FOUND
              requireStack:
                - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
                - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
              tapCaught: testFunctionThrow
              test: Wildcard
              ...
            
            # test count(1) != plan(3)
            # failed 1 test
        not ok 2 - Wildcard # time=16.042ms
        
        # Subtest: No route registered
            1..3
            not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
              ---
              stack: |
                Object.inject (fastify.js:467:24)
                Test.<anonymous> (test/404s.test.js:1842:13)
              at:
                line: 956
                column: 15
                file: node:internal/modules/cjs/loader
                function: Function.Module._resolveFilename
              code: MODULE_NOT_FOUND
              requireStack:
                - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
                - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
              tapCaught: testFunctionThrow
              test: No route registered
              ...
            
            # test count(1) != plan(3)
            # failed 1 test
        not ok 3 - No route registered # time=9.46ms
        
        # Subtest: Only / is registered
            1..3
            not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
              ---
              stack: |
                Object.inject (fastify.js:467:24)
                Test.<anonymous> (test/404s.test.js:1860:13)
              at:
                line: 956
                column: 15
                file: node:internal/modules/cjs/loader
                function: Function.Module._resolveFilename
              code: MODULE_NOT_FOUND
              requireStack:
                - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
                - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
              tapCaught: testFunctionThrow
              test: Only / is registered
              ...
            
            # test count(1) != plan(3)
            # failed 1 test
        not ok 4 - Only / is registered # time=11.281ms
        
        # Subtest: customized 404
            1..3
            not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
              ---
              stack: |
                Object.inject (fastify.js:467:24)
                Test.<anonymous> (test/404s.test.js:1880:13)
              at:
                line: 956
                column: 15
                file: node:internal/modules/cjs/loader
                function: Function.Module._resolveFilename
              code: MODULE_NOT_FOUND
              requireStack:
                - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
                - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
              tapCaught: testFunctionThrow
              test: customized 404
              ...
            
            # test count(1) != plan(3)
            # failed 1 test
        not ok 5 - customized 404 # time=19.694ms
        
        1..5
        # failed 5 of 5 tests
    not ok 31 - 400 in case of bad url (pre find-my-way v2.2.0 was a 404) # time=86.235ms
    
    # Subtest: setNotFoundHandler should be chaining fastify instance
        # Subtest: Register route after setNotFoundHandler
            1..6
            not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
              ---
              stack: |
                Object.inject (fastify.js:467:24)
                Test.<anonymous> (test/404s.test.js:1903:13)
              at:
                line: 956
                column: 15
                file: node:internal/modules/cjs/loader
                function: Function.Module._resolveFilename
              code: MODULE_NOT_FOUND
              requireStack:
                - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
                - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
              tapCaught: testFunctionThrow
              test: Register route after setNotFoundHandler
              ...
            
            # test count(1) != plan(6)
            # failed 1 test
        not ok 1 - Register route after setNotFoundHandler # time=13.692ms
        
        1..1
        # failed 1 test
    not ok 32 - setNotFoundHandler should be chaining fastify instance # time=18.002ms
    
    # Subtest: Send 404 when frameworkError calls reply.callNotFound
        # Subtest: Dynamic route
            1..4
            not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
              ---
              stack: |
                Object.inject (fastify.js:467:24)
                Test.<anonymous> (test/404s.test.js:1935:13)
              at:
                line: 956
                column: 15
                file: node:internal/modules/cjs/loader
                function: Function.Module._resolveFilename
              code: MODULE_NOT_FOUND
              requireStack:
                - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
                - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/404s.test.js
              tapCaught: testFunctionThrow
              test: Dynamic route
              ...
            
            # test count(1) != plan(4)
            # failed 1 test
        not ok 1 - Dynamic route # time=28.429ms
        
        1..1
        # failed 1 test
    not ok 33 - Send 404 when frameworkError calls reply.callNotFound # time=36.779ms
    
    1..33
    # failed 20 of 33 tests
    # time=1377.14ms
not ok 1 - test/404s.test.js # time=1377.14ms
  ---
  env: {}
  file: test/404s.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/404s.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify
  exitCode: 1
  ...

# Subtest: test/500s.test.js
    # Subtest: default 500
        1..4
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/500s.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/500s.test.js:17:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/500s.test.js
          tapCaught: testFunctionThrow
          test: default 500
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 1 - default 500 # time=112.714ms
    
    # Subtest: custom 500
        1..6
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/500s.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/500s.test.js:50:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/500s.test.js
          tapCaught: testFunctionThrow
          test: custom 500
          ...
        
        # test count(1) != plan(6)
        # failed 1 test
    not ok 2 - custom 500 # time=16.927ms
    
    # Subtest: encapsulated 500
        1..10
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/500s.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/500s.test.js:87:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/500s.test.js
          tapCaught: testFunctionThrow
          test: encapsulated 500
          ...
        
        # test count(1) != plan(10)
        # failed 1 test
    not ok 3 - encapsulated 500 # time=12.798ms
    
    # Subtest: custom 500 with hooks
        1..7
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/500s.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/500s.test.js:141:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/500s.test.js
          tapCaught: testFunctionThrow
          test: custom 500 with hooks
          ...
        
        # test count(1) != plan(7)
        # failed 1 test
    not ok 4 - custom 500 with hooks # time=12.554ms
    
    # Subtest: cannot set errorHandler after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 5 - cannot set errorHandler after binding # time=31.235ms
    
    1..5
    # failed 4 of 5 tests
    # time=209.699ms
not ok 2 - test/500s.test.js # time=209.699ms
  ---
  env: {}
  file: test/500s.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/500s.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify
  exitCode: 1
  ...

# Subtest: test/allowUnsafeRegex.test.js
    # Subtest: allow unsafe regex
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - allow unsafe regex # time=82.17ms
    
    # Subtest: allow unsafe regex not match
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 2 - allow unsafe regex not match # time=13.139ms
    
    # Subtest: allow unsafe regex not safe
        1..1
        ok 1 - expected to throw
    ok 3 - allow unsafe regex not safe # time=105.713ms
    
    # Subtest: allow unsafe regex not safe by default
        1..1
        ok 1 - expected to throw
    ok 4 - allow unsafe regex not safe by default # time=6.038ms
    
    # Subtest: allow unsafe regex allow unsafe
        1..5
        ok 1 - expected to not throw
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 5 - allow unsafe regex allow unsafe # time=13.153ms
    
    1..5
    # time=265.577ms
ok 3 - test/allowUnsafeRegex.test.js # time=265.577ms

# Subtest: test/als.test.js
    ok 1 - should not error
    ok 2 - expect truthy value
    ok 3 - should not error
    ok 4 - should be equal
    ok 5 - should be equivalent
    ok 6 - expect truthy value
    ok 7 - should not error
    ok 8 - should be equal
    ok 9 - should be equivalent
    ok 10 - expect truthy value
    ok 11 - should not error
    ok 12 - should be equal
    ok 13 - should be equivalent
    1..13
    # time=43.511ms
ok 4 - test/als.test.js # time=43.511ms

# Subtest: test/async-await.test.js
    # Subtest: async await
        1..11
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 1 - async await # time=338.059ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (undefined)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 2 - ignore the result of the promise if reply.send is called beforehand (undefined) # time=12.521ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (object)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 3 - ignore the result of the promise if reply.send is called beforehand (object) # time=27.006ms
    
    # Subtest: server logs an error if reply.send is called and a value is returned via async/await
        1..5
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/async-await.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/async-await.test.js:146:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/async-await.test.js
          tapCaught: testFunctionThrow
          test: server logs an error if reply.send is called and a value is returned via
            async/await
          ...
        
        # test count(1) != plan(5)
        # failed 1 test
    not ok 4 - server logs an error if reply.send is called and a value is returned via async/await # time=99.165ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (undefined)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 5 - ignore the result of the promise if reply.send is called beforehand (undefined) # time=10.76ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (object)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 6 - ignore the result of the promise if reply.send is called beforehand (object) # time=10.539ms
    
    # Subtest: await reply if we will be calling reply.send in the future
        1..4
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/async-await.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/async-await.test.js:231:10)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/async-await.test.js
          tapCaught: testFunctionThrow
          test: await reply if we will be calling reply.send in the future
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 7 - await reply if we will be calling reply.send in the future # time=13.56ms
    
    # Subtest: await reply if we will be calling reply.send in the future (error case)
        1..5
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/async-await.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/async-await.test.js:264:10)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/async-await.test.js
          tapCaught: testFunctionThrow
          test: await reply if we will be calling reply.send in the future (error case)
          ...
        
        # test count(1) != plan(5)
        # failed 1 test
    not ok 8 - await reply if we will be calling reply.send in the future (error case) # time=11.268ms
    
    # Subtest: support reply decorators with await
        1..2
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/async-await.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/async-await.test.js:291:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/async-await.test.js
          tapCaught: testFunctionThrow
          test: support reply decorators with await
          ...
        
        # test count(1) != plan(2)
        # failed 1 test
    not ok 9 - support reply decorators with await # time=15.813ms
    
    # Subtest: inject async await
        1..1
        not ok 1 - (unnamed test)
          ---
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/async-await.test.js
          ...
        
        # failed 1 test
    not ok 10 - inject async await # time=7.891ms
    
    # Subtest: inject async await - when the server equal up
        1..2
        not ok 1 - (unnamed test)
          ---
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/async-await.test.js
          ...
        
        not ok 2 - (unnamed test)
          ---
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/async-await.test.js
          ...
        
        # failed 2 of 2 tests
    not ok 11 - inject async await - when the server equal up # time=210.587ms
    
    # Subtest: async await plugin
        1..1
        not ok 1 - (unnamed test)
          ---
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/async-await.test.js
          ...
        
        # failed 1 test
    not ok 12 - async await plugin # time=4.121ms
    
    # Subtest: does not call reply.send() twice if 204 response equal already sent
        1..2
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/async-await.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/async-await.test.js:377:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/async-await.test.js
          tapCaught: testFunctionThrow
          test: does not call reply.send() twice if 204 response equal already sent
          ...
        
        # test count(1) != plan(2)
        # failed 1 test
    not ok 13 - does not call reply.send() twice if 204 response equal already sent # time=31.191ms
    
    # Subtest: promise was fulfilled with undefined
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - promise was fulfilled with undefined # time=14.717ms
    
    # Subtest: error is not logged because promise was fulfilled with undefined but response was sent before promise resolution
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 15 - error is not logged because promise was fulfilled with undefined but response was sent before promise resolution # time=10.504ms
    
    # Subtest: Thrown Error instance sets HTTP status code
        1..3
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/async-await.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/async-await.test.js:483:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/async-await.test.js
          tapCaught: testFunctionThrow
          test: Thrown Error instance sets HTTP status code
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 16 - Thrown Error instance sets HTTP status code # time=15.775ms
    
    # Subtest: customErrorHandler support
        1..4
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/async-await.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/async-await.test.js:518:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/async-await.test.js
          tapCaught: testFunctionThrow
          test: customErrorHandler support
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 17 - customErrorHandler support # time=11.844ms
    
    # Subtest: customErrorHandler support without throwing
        1..4
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/async-await.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/async-await.test.js:552:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/async-await.test.js
          tapCaught: testFunctionThrow
          test: customErrorHandler support without throwing
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 18 - customErrorHandler support without throwing # time=14.838ms
    
    # Subtest: customErrorHandler only called if reply not already sent
        1..3
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/async-await.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/async-await.test.js:580:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/async-await.test.js
          tapCaught: testFunctionThrow
          test: customErrorHandler only called if reply not already sent
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 19 - customErrorHandler only called if reply not already sent # time=9.669ms
    
    # Subtest: setNotFoundHandler should accept return value
        1..3
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/async-await.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/async-await.test.js:610:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/async-await.test.js
          tapCaught: testFunctionThrow
          test: setNotFoundHandler should accept return value
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 20 - setNotFoundHandler should accept return value # time=10.749ms
    
    # Subtest: customErrorHandler should accept return value
        1..4
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/async-await.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/async-await.test.js:649:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/async-await.test.js
          tapCaught: testFunctionThrow
          test: customErrorHandler should accept return value
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 21 - customErrorHandler should accept return value # time=9.588ms
    
    # Subtest: await self
        ok 1 - should be equal
        1..1
    ok 22 - await self # time=16.599ms
    
    1..22
    # failed 14 of 22 tests
    # time=945.88ms
not ok 5 - test/async-await.test.js # time=945.88ms
  ---
  env: {}
  file: test/async-await.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/async-await.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify
  exitCode: 1
  ...

# Subtest: test/bodyLimit.test.js
    # Subtest: bodyLimit
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should not error
        ok 5 - should be equal
    ok 1 - bodyLimit # time=39.343ms
    
    1..1
    # time=44.213ms
ok 6 - test/bodyLimit.test.js # time=44.213ms

# Subtest: test/build/error-serializer.test.js
    # Subtest: check generated code syntax
        1..1
        ok 1 - should be equal
    ok 1 - check generated code syntax # time=3957.961ms
    
    ok 2 - ensure the current error serializer is latest # SKIP
    1..2
    # skip: 1
    # time=4021.563ms
ok 7 - test/build/error-serializer.test.js # time=4021.563ms

# Subtest: test/build/version.test.js
    # Subtest: should be the same as package.json
        1..1
        ok 1 - should be equal
    ok 1 - should be the same as package.json # time=6.979ms
    
    1..1
    # time=15.401ms
ok 8 - test/build/version.test.js # time=15.401ms

# Subtest: test/case-insensitive.test.js
    # Subtest: case insensitive
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - case insensitive # time=67.22ms
    
    # Subtest: case insensitive inject
        1..4
        ok 1 - should not error
        not ok 2 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/case-insensitive.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            cb (test/case-insensitive.test.js:51:13)
            onListen (lib/server.js:67:11)
            GetAddrInfoReqWrap.callback (lib/server.js:144:7)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/case-insensitive.test.js
          tapCaught: uncaughtException
          test: case insensitive inject
          ...
        
        # test count(2) != plan(4)
        # failed 1 of 2 tests
    not ok 2 - case insensitive inject # time=100.462ms
    
    # Subtest: case insensitive (parametric)
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 3 - case insensitive (parametric) # time=16.062ms
    
    # Subtest: case insensitive (wildcard)
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 4 - case insensitive (wildcard) # time=24.449ms
    
    1..4
    # failed 1 of 4 tests
    # time=230.644ms
not ok 9 - test/case-insensitive.test.js # time=230.644ms
  ---
  env: {}
  file: test/case-insensitive.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/case-insensitive.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify
  exitCode: 1
  ...

# Subtest: test/chainable.test.js
    # Subtest: chainable - get
        1..1
        ok 1 - type is [object Object]
    ok 1 - chainable - get # time=10.594ms
    
    # Subtest: chainable - post
        1..1
        ok 1 - type is [object Object]
    ok 2 - chainable - post # time=2.666ms
    
    # Subtest: chainable - route
        1..1
        ok 1 - type is [object Object]
    ok 3 - chainable - route # time=19.76ms
    
    1..3
    # time=62.428ms
ok 10 - test/chainable.test.js # time=62.428ms

# Subtest: test/close-pipelining.test.js
    # Subtest: Should return 503 while closing - pipelining
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        1..3
    ok 1 - Should return 503 while closing - pipelining # time=117.448ms
    
    # Subtest: Should not return 503 while closing - pipelining - return503OnClosing
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        1..3
    ok 2 - Should not return 503 while closing - pipelining - return503OnClosing # time=14.962ms
    
    1..2
    # time=186.569ms
ok 11 - test/close-pipelining.test.js # time=186.569ms

# Subtest: test/close.test.js
    # Subtest: close callback
        1..4
        ok 1 - should not error
        ok 2 - type is [object Object]
        ok 3 - should not error
        ok 4 - expect truthy value
    ok 1 - close callback # time=78.021ms
    
    # Subtest: inside register
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - expect truthy value
    ok 2 - inside register # time=33.753ms
    
    # Subtest: close order
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 3 - close order # time=38.401ms
    
    # Subtest: close order - async
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 4 - close order - async # time=22.93ms
    
    # Subtest: should not throw an error if the server is not listening
        1..2
        ok 1 - type is [object Object]
        ok 2 - should not error
    ok 5 - should not throw an error if the server is not listening # time=4.227ms
    
    # Subtest: onClose should keep the context
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
    ok 6 - onClose should keep the context # time=26.329ms
    
    # Subtest: Should return error while closing (promise) - injection
        1..4
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/close.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/close.test.js:153:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/close.test.js
          tapCaught: testFunctionThrow
          test: Should return error while closing (promise) - injection
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 7 - Should return error while closing (promise) - injection # time=133.647ms
    
    # Subtest: Should return error while closing (callback) - injection
        1..4
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/close.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/close.test.js:185:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/close.test.js
          tapCaught: testFunctionThrow
          test: Should return error while closing (callback) - injection
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 8 - Should return error while closing (callback) - injection # time=13.15ms
    
    # Subtest: Current opened connection should continue to work after closing and return "connection: close" header - return503OnClosing: false
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        1..5
    ok 9 - Current opened connection should continue to work after closing and return "connection: close" header - return503OnClosing: false # time=32.368ms
    
    # Subtest: Current opened connection should not accept new incoming connections
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 10 - Current opened connection should not accept new incoming connections # time=290.94ms
    
    # Subtest: Cannot be reopened the closed server without listen callback
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 11 - Cannot be reopened the closed server without listen callback # time=12.622ms
    
    # Subtest: Cannot be reopened the closed server has listen callback
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 12 - Cannot be reopened the closed server has listen callback # time=4.676ms
    
    ok 13 - shutsdown while keep-alive connections are active (non-async, native) # SKIP
    ok 14 - shutsdown while keep-alive connections are active (non-async, idle, native) # SKIP
    # Subtest: shutsdown while keep-alive connections are active (non-async, custom)
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 15 - shutsdown while keep-alive connections are active (non-async, custom) # time=27.975ms
    
    1..15
    # failed 2 of 15 tests
    # skip: 2
    # time=736.924ms
not ok 12 - test/close.test.js # time=736.924ms
  ---
  env: {}
  file: test/close.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/close.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify
  exitCode: 1
  ...

# Subtest: test/connectionTimeout.test.js
    # Subtest: connectionTimeout
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 1 - connectionTimeout # time=43.556ms
    
    1..1
    # time=60.232ms
ok 13 - test/connectionTimeout.test.js # time=60.232ms

# Subtest: test/constrained-routes.test.js
    # Subtest: Should register a host constrained route
        1..7
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/constrained-routes.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/constrained-routes.test.js:20:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/constrained-routes.test.js
          tapCaught: testFunctionThrow
          test: Should register a host constrained route
          ...
        
        # test count(1) != plan(7)
        # failed 1 test
    not ok 1 - Should register a host constrained route # time=105.739ms
    
    # Subtest: Should register the same route with host constraints
        1..8
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/constrained-routes.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/constrained-routes.test.js:74:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/constrained-routes.test.js
          tapCaught: testFunctionThrow
          test: Should register the same route with host constraints
          ...
        
        # test count(1) != plan(8)
        # failed 1 test
    not ok 2 - Should register the same route with host constraints # time=13.503ms
    
    # Subtest: Should allow registering custom constrained routes
        1..8
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/constrained-routes.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/constrained-routes.test.js:148:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/constrained-routes.test.js
          tapCaught: testFunctionThrow
          test: Should allow registering custom constrained routes
          ...
        
        # test count(1) != plan(8)
        # failed 1 test
    not ok 3 - Should allow registering custom constrained routes # time=11.301ms
    
    # Subtest: Should allow registering custom constrained routes outside constructor
        1..8
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/constrained-routes.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/constrained-routes.test.js:223:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/constrained-routes.test.js
          tapCaught: testFunctionThrow
          test: Should allow registering custom constrained routes outside constructor
          ...
        
        # test count(1) != plan(8)
        # failed 1 test
    not ok 4 - Should allow registering custom constrained routes outside constructor # time=11.164ms
    
    # Subtest: Add a constraint strategy after fastify instance was started
        1..4
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/constrained-routes.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/constrained-routes.test.js:285:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/constrained-routes.test.js
          tapCaught: testFunctionThrow
          test: Add a constraint strategy after fastify instance was started
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 5 - Add a constraint strategy after fastify instance was started # time=10.516ms
    
    # Subtest: Add a constraint strategy should throw an error if there already exist custom strategy with the same name
        1..1
        ok 1 - There already exists a custom constraint with the name secret.
    ok 6 - Add a constraint strategy should throw an error if there already exist custom strategy with the same name # time=2.395ms
    
    # Subtest: Add a constraint strategy shouldn't throw an error if default constraint with the same name isn't used
        1..1
        ok 1 - (unnamed test)
    ok 7 - Add a constraint strategy shouldn't throw an error if default constraint with the same name isn't used # time=1.651ms
    
    # Subtest: Add a constraint strategy should throw an error if default constraint with the same name is used
        1..1
        ok 1 - There already exists a route with version constraint.
    ok 8 - Add a constraint strategy should throw an error if default constraint with the same name is used # time=3.048ms
    
    # Subtest: The hasConstraintStrategy should return false for default constraints until they are used
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 9 - The hasConstraintStrategy should return false for default constraints until they are used # time=5.822ms
    
    # Subtest: The hasConstraintStrategy should return true if there already exist a custom constraint with the same name
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 10 - The hasConstraintStrategy should return true if there already exist a custom constraint with the same name # time=3.054ms
    
    # Subtest: Should allow registering an unconstrained route after a constrained route
        1..6
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/constrained-routes.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/constrained-routes.test.js:465:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/constrained-routes.test.js
          tapCaught: testFunctionThrow
          test: Should allow registering an unconstrained route after a constrained route
          ...
        
        # test count(1) != plan(6)
        # failed 1 test
    not ok 11 - Should allow registering an unconstrained route after a constrained route # time=10.322ms
    
    # Subtest: Should allow registering constrained routes in a prefixed plugin
        1..3
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/constrained-routes.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/constrained-routes.test.js:506:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/constrained-routes.test.js
          tapCaught: testFunctionThrow
          test: Should allow registering constrained routes in a prefixed plugin
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 12 - Should allow registering constrained routes in a prefixed plugin # time=14.221ms
    
    # Subtest: Should allow registering a constrained GET route after a constrained HEAD route
        1..3
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/constrained-routes.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/constrained-routes.test.js:542:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/constrained-routes.test.js
          tapCaught: testFunctionThrow
          test: Should allow registering a constrained GET route after a constrained HEAD route
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 13 - Should allow registering a constrained GET route after a constrained HEAD route # time=9.484ms
    
    # Subtest: Should allow registering a constrained GET route after an unconstrained HEAD route
        1..3
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/constrained-routes.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/constrained-routes.test.js:577:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/constrained-routes.test.js
          tapCaught: testFunctionThrow
          test: Should allow registering a constrained GET route after an unconstrained
            HEAD route
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 14 - Should allow registering a constrained GET route after an unconstrained HEAD route # time=19.766ms
    
    # Subtest: Will not try to re-createprefixed HEAD route if it already exists and exposeHeadRoutes is true for constrained routes
        1..1
        ok 1 - expect truthy value
    ok 15 - Will not try to re-createprefixed HEAD route if it already exists and exposeHeadRoutes is true for constrained routes # time=32.872ms
    
    # Subtest: allows separate constrained and unconstrained HEAD routes
        1..1
        ok 1 - expect truthy value
    ok 16 - allows separate constrained and unconstrained HEAD routes # time=7.25ms
    
    1..16
    # failed 9 of 16 tests
    # time=344.233ms
not ok 14 - test/constrained-routes.test.js # time=344.233ms
  ---
  env: {}
  file: test/constrained-routes.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/constrained-routes.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify
  exitCode: 1
  ...

# Subtest: test/content-length.test.js
    # Subtest: default 413 with bodyLimit option
        1..4
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/content-length.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/content-length.test.js:18:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/content-length.test.js
          tapCaught: testFunctionThrow
          test: default 413 with bodyLimit option
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 1 - default 413 with bodyLimit option # time=124.402ms
    
    # Subtest: default 400 with wrong content-length
        1..4
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/content-length.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/content-length.test.js:46:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/content-length.test.js
          tapCaught: testFunctionThrow
          test: default 400 with wrong content-length
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 2 - default 400 with wrong content-length # time=15.109ms
    
    # Subtest: custom 413 with bodyLimit option
        1..4
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/content-length.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/content-length.test.js:86:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/content-length.test.js
          tapCaught: testFunctionThrow
          test: custom 413 with bodyLimit option
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 3 - custom 413 with bodyLimit option # time=9.999ms
    
    # Subtest: custom 400 with wrong content-length
        1..4
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/content-length.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/content-length.test.js:121:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/content-length.test.js
          tapCaught: testFunctionThrow
          test: custom 400 with wrong content-length
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 4 - custom 400 with wrong content-length # time=10.133ms
    
    # Subtest: \#2214 - wrong content-length
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/content-length.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/content-length.test.js:154:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/content-length.test.js
          tapCaught: testFunctionThrow
          test: "#2214 - wrong content-length"
          ...
        
        1..1
        # failed 1 test
    not ok 5 - \#2214 - wrong content-length # time=12.743ms
    
    # Subtest: \#2543 - wrong content-length with errorHandler
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/content-length.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/content-length.test.js:179:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/content-length.test.js
          tapCaught: testFunctionThrow
          test: "#2543 - wrong content-length with errorHandler"
          ...
        
        1..1
        # failed 1 test
    not ok 6 - \#2543 - wrong content-length with errorHandler # time=10.213ms
    
    1..6
    # failed 6 of 6 tests
    # time=212.894ms
not ok 15 - test/content-length.test.js # time=212.894ms
  ---
  env: {}
  file: test/content-length.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/content-length.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify
  exitCode: 1
  ...

# Subtest: test/content-parser.test.js
    # Subtest: hasContentTypeParser
        1..0
    ok 1 - hasContentTypeParser # time=12.674ms
    
    # Subtest: should know about internal parsers
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
    ok 2 - should know about internal parsers # time=41.879ms
    
    # Subtest: should work with string and RegExp
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect falsey value
    ok 3 - should work with string and RegExp # time=5.529ms
    
    # Subtest: getParser
        1..0
    ok 4 - getParser # time=93.437ms
    
    # Subtest: existingParser
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect falsey value
        1..7
    ok 5 - existingParser # time=17.464ms
    
    # Subtest: add
        1..0
    ok 6 - add # time=20.006ms
    
    # Subtest: non-Error thrown from content parser is properly handled
        1..3
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/content-parser.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/content-parser.test.js:226:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/content-parser.test.js
          tapCaught: testFunctionThrow
          test: non-Error thrown from content parser is properly handled
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 7 - non-Error thrown from content parser is properly handled # time=31.49ms
    
    # Subtest: Error thrown 415 from content type is null and make post request to server
        1..3
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/content-parser.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/content-parser.test.js:246:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/content-parser.test.js
          tapCaught: testFunctionThrow
          test: Error thrown 415 from content type is null and make post request to server
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 8 - Error thrown 415 from content type is null and make post request to server # time=11.644ms
    
    # Subtest: remove
        1..0
    ok 9 - remove # time=23.128ms
    
    # Subtest: remove all should remove all existing parsers and reset cache
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
    ok 10 - remove all should remove all existing parsers and reset cache # time=5.908ms
    
    # Subtest: should return matching parser
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 11 - should return matching parser # time=3.012ms
    
    # Subtest: should return matching parser with caching
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 12 - should return matching parser with caching # time=2.989ms
    
    # Subtest: should prefer content type parser with string value
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 13 - should prefer content type parser with string value # time=2.876ms
    
    # Subtest: should return parser that catches all if no other is set
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 14 - should return parser that catches all if no other is set # time=3.508ms
    
    # Subtest: should return undefined if no matching parser exist
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 15 - should return undefined if no matching parser exist # time=2.621ms
    
    # Subtest: returns always false for "*"
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 16 - returns always false for "*" # time=2.079ms
    
    # Subtest: let you override the default parser once
        1..2
        ok 1 - Content type parser 'application/json' already present
        ok 2 - Content type parser 'text/plain' already present
    ok 17 - let you override the default parser once # time=5.499ms
    
    # Subtest: should only accept string and RegExp
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - The content type should be a string or a RegExp
        ok 4 - The content type should be a string or a RegExp
    ok 18 - should only accept string and RegExp # time=4.104ms
    
    # Subtest: should set "*" as parser that catches all
        1..1
        ok 1 - should be equal
    ok 19 - should set "*" as parser that catches all # time=1.751ms
    
    # Subtest: should remove default parser
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 20 - should remove default parser # time=1.997ms
    
    # Subtest: should remove RegExp parser
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 21 - should remove RegExp parser # time=1.963ms
    
    # Subtest: should throw an error if content type is neither string nor RegExp
        1..1
        ok 1 - expected to throw
    ok 22 - should throw an error if content type is neither string nor RegExp # time=2.148ms
    
    # Subtest: should not throw error if content type does not exist
        1..1
        ok 1 - expected to not throw
    ok 23 - should not throw error if content type does not exist # time=1.829ms
    
    # Subtest: should not remove any content type parser if content type does not exist
        1..1
        ok 1 - should be equivalent
    ok 24 - should not remove any content type parser if content type does not exist # time=2.33ms
    
    1..24
    # failed 2 of 24 tests
    # time=325.335ms
not ok 16 - test/content-parser.test.js # time=325.335ms
  ---
  env: {}
  file: test/content-parser.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/content-parser.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify
  exitCode: 1
  ...

# Subtest: test/context-config.test.js
    # Subtest: config
        1..9
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/context-config.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/context-config.test.js:43:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/context-config.test.js
          tapCaught: testFunctionThrow
          test: config
          ...
        
        # test count(1) != plan(9)
        # failed 1 test
    not ok 1 - config # time=108.769ms
    
    # Subtest: config with exposeHeadRoutes
        1..9
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/context-config.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/context-config.test.js:95:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/context-config.test.js
          tapCaught: testFunctionThrow
          test: config with exposeHeadRoutes
          ...
        
        # test count(1) != plan(9)
        # failed 1 test
    not ok 2 - config with exposeHeadRoutes # time=11.729ms
    
    # Subtest: config without exposeHeadRoutes
        1..9
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/context-config.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/context-config.test.js:147:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/context-config.test.js
          tapCaught: testFunctionThrow
          test: config without exposeHeadRoutes
          ...
        
        # test count(1) != plan(9)
        # failed 1 test
    not ok 3 - config without exposeHeadRoutes # time=8.862ms
    
    1..3
    # failed 3 of 3 tests
    # time=140.972ms
not ok 17 - test/context-config.test.js # time=140.972ms
  ---
  env: {}
  file: test/context-config.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/context-config.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify
  exitCode: 1
  ...

# Subtest: test/custom-http-server.test.js
    # Subtest: Should support a custom http server
        1..4
        ok 1 - it is called twice for every HOST interface
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - Should support a custom http server # time=67.026ms
    
    # Subtest: Should not allow forceCloseConnection=idle if the server does not support closeIdleConnections
        1..1
        ok 1 - Cannot set forceCloseConnections to 'idle' as your HTTP server does not support closeIdleConnections method
    ok 2 - Should not allow forceCloseConnection=idle if the server does not support closeIdleConnections # time=4.394ms
    
    1..2
    # time=82.891ms
ok 18 - test/custom-http-server.test.js # time=82.891ms

# Subtest: test/custom-parser-async.test.js
    # Subtest: contentTypeParser should add a custom async parser
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=30.116ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=7.211ms
        
    ok 1 - contentTypeParser should add a custom async parser # time=109.872ms
    
    1..1
    # time=115.141ms
ok 19 - test/custom-parser-async.test.js # time=115.141ms

# Subtest: test/custom-parser.test.js
    # Subtest: contentTypeParser method should exist
        1..1
        ok 1 - expect truthy value
    ok 1 - contentTypeParser method should exist # time=15.363ms
    
    # Subtest: contentTypeParser should add a custom parser
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=53.38ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=15.23ms
        
    ok 2 - contentTypeParser should add a custom parser # time=230.809ms
    
    # Subtest: contentTypeParser should handle multiple custom parsers
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 3 - contentTypeParser should handle multiple custom parsers # time=31.388ms
    
    # Subtest: contentTypeParser should handle an array of custom contentTypes
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 4 - contentTypeParser should handle an array of custom contentTypes # time=43.495ms
    
    # Subtest: contentTypeParser should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 5 - contentTypeParser should handle errors # time=13.247ms
    
    # Subtest: contentTypeParser should support encapsulation
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - expect falsey value
        ok 6 - expect falsey value
    ok 6 - contentTypeParser should support encapsulation # time=26.569ms
    
    # Subtest: contentTypeParser should support encapsulation, second try
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - contentTypeParser should support encapsulation, second try # time=33.11ms
    
    # Subtest: contentTypeParser shouldn't support request with undefined "Content-Type"
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 8 - contentTypeParser shouldn't support request with undefined "Content-Type" # time=20.889ms
    
    # Subtest: the content type should be a string or RegExp
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 9 - the content type should be a string or RegExp # time=2.232ms
    
    # Subtest: the content type cannot be an empty string
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 10 - the content type cannot be an empty string # time=9.288ms
    
    # Subtest: the content type handler should be a function
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 11 - the content type handler should be a function # time=2.846ms
    
    # Subtest: catch all content type parser
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 12 - catch all content type parser # time=13.714ms
    
    # Subtest: catch all content type parser should not interfere with other conte type parsers
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 13 - catch all content type parser should not interfere with other conte type parsers # time=12.584ms
    
    # Subtest: '*' catch undefined Content-Type requests
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - '*' catch undefined Content-Type requests # time=13.451ms
    
    # Subtest: cannot add custom parser after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 15 - cannot add custom parser after binding # time=26.284ms
    
    # Subtest: Can override the default json parser
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 16 - Can override the default json parser # time=12.051ms
    
    # Subtest: Can override the default plain text parser
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 17 - Can override the default plain text parser # time=9.002ms
    
    # Subtest: Can override the default json parser in a plugin
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 18 - Can override the default json parser in a plugin # time=24.176ms
    
    # Subtest: Can't override the json parser multiple times
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 19 - Can't override the json parser multiple times # time=1.775ms
    
    # Subtest: Can't override the plain text parser multiple times
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 20 - Can't override the plain text parser multiple times # time=2.083ms
    
    # Subtest: Should get the body as string
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 21 - Should get the body as string # time=23.109ms
    
    # Subtest: Should return defined body with no custom parser defined and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 22 - Should return defined body with no custom parser defined and content type = 'text/plain' # time=15.043ms
    
    # Subtest: Should have typeof body object with no custom parser defined, no body defined and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 23 - Should have typeof body object with no custom parser defined, no body defined and content type = 'text/plain' # time=9.557ms
    
    # Subtest: Should have typeof body object with no custom parser defined, null body and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 24 - Should have typeof body object with no custom parser defined, null body and content type = 'text/plain' # time=7.238ms
    
    # Subtest: Should have typeof body object with no custom parser defined, undefined body and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 25 - Should have typeof body object with no custom parser defined, undefined body and content type = 'text/plain' # time=7.03ms
    
    # Subtest: Should get the body as string
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 26 - Should get the body as string # time=15.216ms
    
    # Subtest: Should get the body as buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 27 - Should get the body as buffer # time=7.902ms
    
    # Subtest: Should get the body as buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 28 - Should get the body as buffer # time=10.341ms
    
    # Subtest: Should parse empty bodies as a string
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 29 - Should parse empty bodies as a string # time=21.852ms
    
    # Subtest: Should parse empty bodies as a buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 30 - Should parse empty bodies as a buffer # time=11.361ms
    
    # Subtest: The charset should not interfere with the content type handling
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 31 - The charset should not interfere with the content type handling # time=6.383ms
    
    # Subtest: Wrong parseAs parameter
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 32 - Wrong parseAs parameter # time=1.486ms
    
    # Subtest: Should allow defining the bodyLimit per parser
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent strictly
    ok 33 - Should allow defining the bodyLimit per parser # time=8.056ms
    
    # Subtest: route bodyLimit should take precedence over a custom parser bodyLimit
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent strictly
    ok 34 - route bodyLimit should take precedence over a custom parser bodyLimit # time=6.104ms
    
    # Subtest: should be able to use default parser for extra content type
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent strictly
    ok 35 - should be able to use default parser for extra content type # time=6.3ms
    
    # Subtest: contentTypeParser should add a custom parser with RegExp value
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=4.836ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=3.634ms
        
    ok 36 - contentTypeParser should add a custom parser with RegExp value # time=14.411ms
    
    # Subtest: contentTypeParser should add multiple custom parsers with RegExp values
        1..6
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/custom-parser.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/custom-parser.test.js:1280:36)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/custom-parser.test.js
          tapCaught: returnedPromiseRejection
          test: contentTypeParser should add multiple custom parsers with RegExp values
          ...
        
        # test count(1) != plan(6)
        # failed 1 test
    not ok 37 - contentTypeParser should add multiple custom parsers with RegExp values # time=67.472ms
    
    # Subtest: catch all content type parser should not interfere with content type parser
        1..10
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 38 - catch all content type parser should not interfere with content type parser # time=15.506ms
    
    # Subtest: should prefer string content types over RegExp ones
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 39 - should prefer string content types over RegExp ones # time=9.224ms
    
    # Subtest: removeContentTypeParser should support arrays of content types to remove
        1..8
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 40 - removeContentTypeParser should support arrays of content types to remove # time=10.465ms
    
    # Subtest: removeContentTypeParser should support encapsulation
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 41 - removeContentTypeParser should support encapsulation # time=9.681ms
    
    # Subtest: removeAllContentTypeParsers should support encapsulation
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 42 - removeAllContentTypeParsers should support encapsulation # time=24.178ms
    
    # Subtest: cannot remove all content type parsers after binding
        1..2
        ok 1 - should not error
        ok 2 - expected to throw
    ok 43 - cannot remove all content type parsers after binding # time=3.937ms
    
    # Subtest: cannot remove content type parsers after binding
        1..2
        ok 1 - should not error
        ok 2 - expected to throw
    ok 44 - cannot remove content type parsers after binding # time=2.904ms
    
    # Subtest: should be able to override the default json parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 45 - should be able to override the default json parser after removeAllContentTypeParsers # time=5.896ms
    
    # Subtest: should be able to override the default plain text parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 46 - should be able to override the default plain text parser after removeAllContentTypeParsers # time=5.575ms
    
    # Subtest: should be able to add a custom content type parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 47 - should be able to add a custom content type parser after removeAllContentTypeParsers # time=6.191ms
    
    1..47
    # failed 1 of 47 tests
    # time=919.903ms
not ok 20 - test/custom-parser.test.js # time=919.903ms
  ---
  env: {}
  file: test/custom-parser.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/custom-parser.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify
  exitCode: 1
  ...

# Subtest: test/custom-querystring-parser.test.js
    # Subtest: Custom querystring parser
        1..9
        ok 1 - should not error
        not ok 2 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/custom-querystring-parser.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            cb (test/custom-querystring-parser.test.js:39:13)
            onListen (lib/server.js:67:11)
            GetAddrInfoReqWrap.callback (lib/server.js:144:7)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/custom-querystring-parser.test.js
          tapCaught: uncaughtException
          test: Custom querystring parser
          ...
        
        # test count(2) != plan(9)
        # failed 1 of 2 tests
    not ok 1 - Custom querystring parser # time=167.16ms
    
    # Subtest: Custom querystring parser should be called also if there is nothing to parse
        1..9
        not ok 3 - connect ECONNRESET 127.0.0.1:41583
          ---
          origin:
            at:
              line: 1247
              column: 16
              file: node:net
              function: TCPConnectWrap.afterConnect
              method: oncomplete
            errno: -104
            code: ECONNRESET
            syscall: connect
            address: 127.0.0.1
            port: 41583
          found:
            !error
            name: Error
            message: connect ECONNRESET 127.0.0.1:41583
            stack: |-
              Error: connect ECONNRESET 127.0.0.1:41583
                  at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1247:16)
            errno: -104
            code: ECONNRESET
            syscall: connect
            address: 127.0.0.1
            port: 41583
          at:
            line: 35
            column: 9
            file: test/custom-querystring-parser.test.js
          stack: |
            test/custom-querystring-parser.test.js:35:9
            ClientRequest.<anonymous> (node_modules/simple-get/index.js:88:21)
            ClientRequest.f (node_modules/once/once.js:25:25)
          source: |2
                }, (err, response, body) => {
                  t.error(err)
            --------^
                  t.equal(response.statusCode, 200)
                })
          ...
        
        ok 1 - should not error
        not ok 2 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/custom-querystring-parser.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            cb (test/custom-querystring-parser.test.js:76:13)
            onListen (lib/server.js:67:11)
            GetAddrInfoReqWrap.callback (lib/server.js:144:7)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/custom-querystring-parser.test.js
          tapCaught: uncaughtException
          test: Custom querystring parser should be called also if there is nothing to parse
          ...
        
        # test count(2) != plan(9)
        # failed 1 of 2 tests
        # test count(3) != plan(9)
        # failed 2 of 3 tests
    not ok 2 - Custom querystring parser should be called also if there is nothing to parse # time=67.046ms
    
    # Subtest: Querystring without value
        1..9
        not ok 3 - connect ECONNRESET 127.0.0.1:34377
          ---
          origin:
            at:
              line: 1247
              column: 16
              file: node:net
              function: TCPConnectWrap.afterConnect
              method: oncomplete
            errno: -104
            code: ECONNRESET
            syscall: connect
            address: 127.0.0.1
            port: 34377
          found:
            !error
            name: Error
            message: connect ECONNRESET 127.0.0.1:34377
            stack: |-
              Error: connect ECONNRESET 127.0.0.1:34377
                  at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1247:16)
            errno: -104
            code: ECONNRESET
            syscall: connect
            address: 127.0.0.1
            port: 34377
          at:
            line: 72
            column: 9
            file: test/custom-querystring-parser.test.js
          stack: |
            test/custom-querystring-parser.test.js:72:9
            ClientRequest.<anonymous> (node_modules/simple-get/index.js:88:21)
            ClientRequest.f (node_modules/once/once.js:25:25)
          source: |2
                }, (err, response, body) => {
                  t.error(err)
            --------^
                  t.equal(response.statusCode, 200)
                })
          ...
        
        ok 1 - should not error
        not ok 2 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/custom-querystring-parser.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            cb (test/custom-querystring-parser.test.js:113:13)
            onListen (lib/server.js:67:11)
            GetAddrInfoReqWrap.callback (lib/server.js:144:7)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/custom-querystring-parser.test.js
          tapCaught: uncaughtException
          test: Querystring without value
          ...
        
        # test count(2) != plan(9)
        # failed 1 of 2 tests
        # test count(3) != plan(9)
        # failed 2 of 3 tests
    not ok 3 - Querystring without value # time=65.885ms
    
    # Subtest: Custom querystring parser should be a function
        1..1
        ok 1 - should be equal
    ok 4 - Custom querystring parser should be a function # time=4.531ms
    
    not ok 5 - Cannot read properties of undefined (reading 'statusCode')
      ---
      at:
        line: 36
        column: 24
        file: test/custom-querystring-parser.test.js
      stack: |
        test/custom-querystring-parser.test.js:36:24
        ClientRequest.<anonymous> (node_modules/simple-get/index.js:88:21)
        ClientRequest.f (node_modules/once/once.js:25:25)
      type: TypeError
      tapCaught: uncaughtException
      test: TAP
      source: |2
              t.error(err)
              t.equal(response.statusCode, 200)
        -----------------------^
            })
      ...
    
    not ok 6 - Cannot read properties of undefined (reading 'statusCode')
      ---
      at:
        line: 73
        column: 24
        file: test/custom-querystring-parser.test.js
      stack: |
        test/custom-querystring-parser.test.js:73:24
        ClientRequest.<anonymous> (node_modules/simple-get/index.js:88:21)
        ClientRequest.f (node_modules/once/once.js:25:25)
      type: TypeError
      tapCaught: uncaughtException
      test: TAP
      source: |2
              t.error(err)
              t.equal(response.statusCode, 200)
        -----------------------^
            })
      ...
    
    # Subtest
        not ok 3 - connect ECONNRESET 127.0.0.1:40833
          ---
          origin:
            at:
              line: 1247
              column: 16
              file: node:net
              function: TCPConnectWrap.afterConnect
              method: oncomplete
            errno: -104
            code: ECONNRESET
            syscall: connect
            address: 127.0.0.1
            port: 40833
          found:
            !error
            name: Error
            message: connect ECONNRESET 127.0.0.1:40833
            stack: |-
              Error: connect ECONNRESET 127.0.0.1:40833
                  at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1247:16)
            errno: -104
            code: ECONNRESET
            syscall: connect
            address: 127.0.0.1
            port: 40833
          at:
            line: 109
            column: 9
            file: test/custom-querystring-parser.test.js
          stack: |
            test/custom-querystring-parser.test.js:109:9
            ClientRequest.<anonymous> (node_modules/simple-get/index.js:88:21)
            ClientRequest.f (node_modules/once/once.js:25:25)
          source: |2
                }, (err, response, body) => {
                  t.error(err)
            --------^
                  t.equal(response.statusCode, 200)
                })
          ...
        
        # test count(1) != plan(null)
        # failed 2 test
    not ok 7 - Cannot read properties of undefined (reading 'statusCode')
      ---
      at:
        line: 110
        column: 24
        file: test/custom-querystring-parser.test.js
      stack: |
        test/custom-querystring-parser.test.js:110:24
        ClientRequest.<anonymous> (node_modules/simple-get/index.js:88:21)
        ClientRequest.f (node_modules/once/once.js:25:25)
      type: TypeError
      tapCaught: uncaughtException
      test: TAP
      source: |2
              t.error(err)
              t.equal(response.statusCode, 200)
        -----------------------^
            })
      ...
    
    1..7
    # failed 6 of 7 tests
    # time=373.339ms
not ok 21 - test/custom-querystring-parser.test.js # time=373.339ms
  ---
  env: {}
  file: test/custom-querystring-parser.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/custom-querystring-parser.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify
  exitCode: 1
  ...

# Subtest: test/decorator.test.js
    # Subtest: server methods should exist
        1..2
        ok 1 - expect truthy value
        ok 2 - expect truthy value
    ok 1 - server methods should exist # time=15.62ms
    
    # Subtest: should check if the given decoration already exist when null
        1..1
        ok 1 - expect truthy value
    ok 2 - should check if the given decoration already exist when null # time=79.261ms
    
    # Subtest: server methods should be encapsulated via .register
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 3 - server methods should be encapsulated via .register # time=8.404ms
    
    # Subtest: hasServerMethod should check if the given method already exist
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 4 - hasServerMethod should check if the given method already exist # time=18.332ms
    
    # Subtest: decorate should throw if a declared dependency is not present
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - (unnamed test)
    ok 5 - decorate should throw if a declared dependency is not present # time=16.463ms
    
    # Subtest: decorate should throw if declared dependency is not array
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - (unnamed test)
    ok 6 - decorate should throw if declared dependency is not array # time=6.725ms
    
    # Subtest: should pass error for missing request decorator
        1..2
        ok 1 - type is Error
        ok 2 - should match pattern provided
    ok 7 - should pass error for missing request decorator # time=7.816ms
    
    # Subtest: decorateReply inside register
        1..11
        ok 1 - should not error
        ok 2 - test exists
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 8 - decorateReply inside register # time=61.051ms
    
    # Subtest: decorateReply as plugin (inside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 9 - decorateReply as plugin (inside .after) # time=42.445ms
    
    # Subtest: decorateReply as plugin (outside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 10 - decorateReply as plugin (outside .after) # time=17.622ms
    
    # Subtest: decorateRequest inside register
        1..11
        ok 1 - should not error
        ok 2 - test exists
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 11 - decorateRequest inside register # time=19.42ms
    
    # Subtest: decorateRequest as plugin (inside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 12 - decorateRequest as plugin (inside .after) # time=41.912ms
    
    # Subtest: decorateRequest as plugin (outside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 13 - decorateRequest as plugin (outside .after) # time=16.302ms
    
    # Subtest: decorators should be instance separated
        1..1
        ok 1 - (unnamed test)
    ok 14 - decorators should be instance separated # time=2.321ms
    
    # Subtest: hasRequestDecorator
        # Subtest: is a function
            1..1
            ok 1 - expect truthy value
        ok 1 - is a function # time=1.428ms
        
        # Subtest: should check if the given request decoration already exist
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 2 - should check if the given request decoration already exist # time=2.038ms
        
        # Subtest: should check if the given request decoration already exist when null
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 3 - should check if the given request decoration already exist when null # time=1.987ms
        
        # Subtest: should be plugin encapsulable
            1..4
            ok 1 - expect falsey value
            ok 2 - expect falsey value
            ok 3 - expect truthy value
            ok 4 - expect falsey value
        ok 4 - should be plugin encapsulable # time=14.193ms
        
        # Subtest: should be inherited
            1..2
            ok 1 - expect truthy value
            ok 2 - expect truthy value
        ok 5 - should be inherited # time=5.696ms
        
        1..5
    ok 15 - hasRequestDecorator # time=48.007ms
    
    # Subtest: hasReplyDecorator
        # Subtest: is a function
            1..1
            ok 1 - expect truthy value
        ok 1 - is a function # time=1.468ms
        
        # Subtest: should check if the given reply decoration already exist
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 2 - should check if the given reply decoration already exist # time=1.936ms
        
        # Subtest: should check if the given reply decoration already exist when null
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 3 - should check if the given reply decoration already exist when null # time=2.465ms
        
        # Subtest: should be plugin encapsulable
            1..4
            ok 1 - expect falsey value
            ok 2 - expect falsey value
            ok 3 - expect truthy value
            ok 4 - expect falsey value
        ok 4 - should be plugin encapsulable # time=13.889ms
        
        # Subtest: should be inherited
            1..2
            ok 1 - expect truthy value
            ok 2 - expect truthy value
        ok 5 - should be inherited # time=13.052ms
        
        1..5
    ok 16 - hasReplyDecorator # time=152.283ms
    
    # Subtest: should register properties via getter/setter objects
        1..3
        ok 1 - expect truthy value
        ok 2 - a getter
        ok 3 - expect falsey value
    ok 17 - should register properties via getter/setter objects # time=5.377ms
    
    # Subtest: decorateRequest should work with getter/setter
        1..5
        not ok 1 - test unfinished
          ---
          stack: |
            Object.<anonymous> (test/decorator.test.js:567:1)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          test: decorateRequest should work with getter/setter
          at:
            line: 567
            column: 1
            file: test/decorator.test.js
            function: Object.<anonymous>
          source: |
          
            test('decorateRequest should work with getter/setter', t => {
            ^
              t.plan(5)
              const fastify = Fastify()
          ...
        
        # test count(1) != plan(5)
        # failed 1 test
    not ok 18 - decorateRequest should work with getter/setter # time=28.975ms
    
    not ok 19 - child test left in queue: t.test decorateReply should work with getter/setter
    not ok 20 - child test left in queue: t.test should register empty values
    not ok 21 - child test left in queue: t.test nested plugins can override things
    not ok 22 - child test left in queue: t.test a decorator should addSchema to all the encapsulated tree
    not ok 23 - child test left in queue: t.test after can access to a decorated instance and previous plugin decoration
    not ok 24 - child test left in queue: t.test decorate* should throw if called after ready
    not ok 25 - child test left in queue: t.test decorate* should emit warning if an array is passed
    not ok 26 - child test left in queue: t.test decorate* should emit warning if object type is passed
    not ok 27 - child test left in queue: t.test decorate* should not emit warning if object with getter/setter is passed
    not ok 28 - child test left in queue: t.test decorate* should not emit warning if string,bool,numbers are passed
    not ok 29 - child test left in queue: t.test Request/reply decorators should be able to access the server instance
    not ok 30 - child test left in queue: t.test plugin required decorators
    not ok 31 - child test left in queue: t.test decorateRequest/decorateReply empty string
    not ok 32 - child test left in queue: t.test decorateRequest/decorateReply is undefined
    not ok 33 - child test left in queue: t.test decorateRequest/decorateReply is not set to a value
    not ok 34 - child test left in queue: t.test decorateRequest with dependencies
    not ok 35 - child test left in queue: t.test decorateRequest with dependencies (functions)
    not ok 36 - child test left in queue: t.test chain of decorators on Request
    not ok 37 - child test left in queue: t.test chain of decorators on Reply
    1..18
    # test count(37) != plan(18)
    # failed 39 of 37 tests
    # time=606.709ms
not ok 22 - test/decorator.test.js # time=606.709ms
  ---
  env: {}
  file: test/decorator.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/decorator.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify
  failures:
    - &a1
      id: 19
      name: "child test left in queue: t.test decorateReply should work with
        getter/setter"
      fullname: test/decorator.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 18
    - &a2
      id: 20
      name: "child test left in queue: t.test should register empty values"
      fullname: test/decorator.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 18
    - &a3
      id: 21
      name: "child test left in queue: t.test nested plugins can override things"
      fullname: test/decorator.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 18
    - &a4
      id: 22
      name: "child test left in queue: t.test a decorator should addSchema to all the
        encapsulated tree"
      fullname: test/decorator.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 18
    - &a5
      id: 23
      name: "child test left in queue: t.test after can access to a decorated instance
        and previous plugin decoration"
      fullname: test/decorator.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 18
    - &a6
      id: 24
      name: "child test left in queue: t.test decorate* should throw if called after
        ready"
      fullname: test/decorator.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 18
    - &a7
      id: 25
      name: "child test left in queue: t.test decorate* should emit warning if an
        array is passed"
      fullname: test/decorator.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 18
    - &a8
      id: 26
      name: "child test left in queue: t.test decorate* should emit warning if object
        type is passed"
      fullname: test/decorator.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 18
    - &a9
      id: 27
      name: "child test left in queue: t.test decorate* should not emit warning if
        object with getter/setter is passed"
      fullname: test/decorator.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 18
    - &a10
      id: 28
      name: "child test left in queue: t.test decorate* should not emit warning if
        string,bool,numbers are passed"
      fullname: test/decorator.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 18
    - &a11
      id: 29
      name: "child test left in queue: t.test Request/reply decorators should be able
        to access the server instance"
      fullname: test/decorator.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 18
    - &a12
      id: 30
      name: "child test left in queue: t.test plugin required decorators"
      fullname: test/decorator.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 18
    - &a13
      id: 31
      name: "child test left in queue: t.test decorateRequest/decorateReply empty
        string"
      fullname: test/decorator.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 18
    - &a14
      id: 32
      name: "child test left in queue: t.test decorateRequest/decorateReply is
        undefined"
      fullname: test/decorator.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 18
    - &a15
      id: 33
      name: "child test left in queue: t.test decorateRequest/decorateReply is not set
        to a value"
      fullname: test/decorator.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 18
    - &a16
      id: 34
      name: "child test left in queue: t.test decorateRequest with dependencies"
      fullname: test/decorator.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 18
    - &a17
      id: 35
      name: "child test left in queue: t.test decorateRequest with dependencies
        (functions)"
      fullname: test/decorator.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 18
    - &a18
      id: 36
      name: "child test left in queue: t.test chain of decorators on Request"
      fullname: test/decorator.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 18
    - &a19
      id: 37
      name: "child test left in queue: t.test chain of decorators on Reply"
      fullname: test/decorator.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 18
    - *a1
    - *a2
    - *a3
    - *a4
    - *a5
    - *a6
    - *a7
    - *a8
    - *a9
    - *a10
    - *a11
    - *a12
    - *a13
    - *a14
    - *a15
    - *a16
    - *a17
    - *a18
    - *a19
  exitCode: 1
  ...

# Subtest: test/default-route.test.js
    # Subtest: should fail if defaultRoute is not a function
        1..1
        ok 1 - should be equal
    ok 1 - should fail if defaultRoute is not a function # time=20.076ms
    
    # Subtest: correctly sets, returns, and calls defaultRoute
        1..3
        ok 1 - should be equal
        not ok 2 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/default-route.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/default-route.test.js:36:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/default-route.test.js
          tapCaught: testFunctionThrow
          test: correctly sets, returns, and calls defaultRoute
          ...
        
        # test count(2) != plan(3)
        # failed 1 of 2 tests
    not ok 2 - correctly sets, returns, and calls defaultRoute # time=88.836ms
    
    1..2
    # failed 1 of 2 tests
    # time=124.418ms
not ok 23 - test/default-route.test.js # time=124.418ms
  ---
  env: {}
  file: test/default-route.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/default-route.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify
  exitCode: 1
  ...

# Subtest: test/delete.test.js
    # Subtest: shorthand - delete
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - delete # time=10.359ms
    
    # Subtest: shorthand - delete params
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - delete params # time=2.565ms
    
    # Subtest: shorthand - delete, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - delete, querystring schema # time=1.869ms
    
    # Subtest: shorthand - get, headers schema
        1..1
        ok 1 - (unnamed test)
    ok 4 - shorthand - get, headers schema # time=1.838ms
    
    # Subtest: missing schema - delete
        1..1
        ok 1 - (unnamed test)
    ok 5 - missing schema - delete # time=1.778ms
    
    # Subtest: body - delete
        1..1
        ok 1 - (unnamed test)
    ok 6 - body - delete # time=1.614ms
    
    # Subtest: shorthand - delete with application/json Content-Type header and without body
        1..4
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/delete.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/delete.test.js:308:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/delete.test.js
          tapCaught: testFunctionThrow
          test: shorthand - delete with application/json Content-Type header and without body
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 7 - shorthand - delete with application/json Content-Type header and without body # time=81.506ms
    
    ok 8 - should not error
    # Subtest: shorthand - request delete
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 9 - shorthand - request delete # time=41.415ms
    
    # Subtest: shorthand - request delete params schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 10 - shorthand - request delete params schema # time=8.005ms
    
    # Subtest: shorthand - request delete params schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 11 - shorthand - request delete params schema error # time=7.332ms
    
    # Subtest: shorthand - request delete headers schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 12 - shorthand - request delete headers schema # time=5.49ms
    
    # Subtest: shorthand - request delete headers schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 13 - shorthand - request delete headers schema error # time=5.597ms
    
    # Subtest: shorthand - request delete querystring schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 14 - shorthand - request delete querystring schema # time=5.754ms
    
    # Subtest: shorthand - request delete querystring schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 15 - shorthand - request delete querystring schema error # time=5.219ms
    
    # Subtest: shorthand - request delete missing schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 16 - shorthand - request delete missing schema # time=4.902ms
    
    # Subtest: shorthand - delete with body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - shorthand - delete with body # time=8.739ms
    
    1..17
    # failed 1 of 17 tests
    # time=349.581ms
not ok 24 - test/delete.test.js # time=349.581ms
  ---
  env: {}
  file: test/delete.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/delete.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify
  exitCode: 1
  ...

# Subtest: test/diagnostics-channel.test.js
    # Subtest: diagnostics_channel when present and subscribers
        1..3
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should be equal
    ok 1 - diagnostics_channel when present and subscribers # time=919.11ms
    
    # Subtest: diagnostics_channel when present and no subscribers
        1..1
        ok 1 - should be equal
    ok 2 - diagnostics_channel when present and no subscribers # time=25.916ms
    
    # Subtest: diagnostics_channel when not present
        1..1
        ok 1 - expected to not throw
    ok 3 - diagnostics_channel when not present # time=18.011ms
    
    1..3
    # time=978.698ms
ok 25 - test/diagnostics-channel.test.js # time=978.698ms

# Subtest: test/encapsulated-error-handler.test.js
    # Subtest: encapuslates an error handler
        1..3
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/encapsulated-error-handler.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/encapsulated-error-handler.test.js:23:29)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/encapsulated-error-handler.test.js
          tapCaught: returnedPromiseRejection
          test: encapuslates an error handler
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 1 - encapuslates an error handler # time=101.346ms
    
    # Subtest: onError hook nested
        1..4
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/encapsulated-error-handler.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/encapsulated-error-handler.test.js:48:29)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/encapsulated-error-handler.test.js
          tapCaught: returnedPromiseRejection
          test: onError hook nested
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 2 - onError hook nested # time=9.847ms
    
    1..2
    # failed 2 of 2 tests
    # time=117.147ms
not ok 26 - test/encapsulated-error-handler.test.js # time=117.147ms
  ---
  env: {}
  file: test/encapsulated-error-handler.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/encapsulated-error-handler.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify
  exitCode: 1
  ...

# Subtest: test/esm/index.test.js
    # Subtest: named exports support
        ok 1 - should be equal
        1..1
    ok 1 - named exports support # time=34.325ms
    
    ok 2 - should be equal
    1..2
    # time=39.549ms
ok 27 - test/esm/index.test.js # time=39.549ms

# Subtest: test/fastify-instance.test.js
    # Subtest: root fastify instance is an object
        1..1
        ok 1 - type is object
    ok 1 - root fastify instance is an object # time=15.991ms
    
    # Subtest: fastify instance should contains ajv options
        1..1
        ok 1 - should be equivalent
    ok 2 - fastify instance should contains ajv options # time=6.733ms
    
    # Subtest: fastify instance should contains ajv options.plugins nested arrays
        1..1
        ok 1 - should be equivalent
    ok 3 - fastify instance should contains ajv options.plugins nested arrays # time=3.024ms
    
    # Subtest: fastify instance get invalid ajv options
        1..1
        ok 1 - expected to throw
    ok 4 - fastify instance get invalid ajv options # time=1.211ms
    
    # Subtest: fastify instance get invalid ajv options.plugins
        1..1
        ok 1 - expected to throw
    ok 5 - fastify instance get invalid ajv options.plugins # time=0.923ms
    
    # Subtest: fastify instance should contain default errorHandler
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 6 - fastify instance should contain default errorHandler # time=3.162ms
    
    # Subtest: errorHandler in plugin should be separate from the external one
        1..4
        ok 1 - should not be equivalent
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equivalent
    ok 7 - errorHandler in plugin should be separate from the external one # time=15.313ms
    
    1..7
    # time=68.04ms
ok 28 - test/fastify-instance.test.js # time=68.04ms

# Subtest: test/fluent-schema.test.js
    # Subtest: use fluent-json-schema object
        1..15
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/fluent-schema.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/fluent-schema.test.js:28:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/fluent-schema.test.js
          tapCaught: testFunctionThrow
          test: use fluent-json-schema object
          ...
        
        # test count(1) != plan(15)
        # failed 1 test
    not ok 1 - use fluent-json-schema object # time=105.524ms
    
    # Subtest: use complex fluent-json-schema object
        1..1
        ok 1 - should not error
    ok 2 - use complex fluent-json-schema object # time=94.084ms
    
    # Subtest: use fluent schema and plain JSON schema
        1..1
        ok 1 - should not error
    ok 3 - use fluent schema and plain JSON schema # time=49.48ms
    
    # Subtest: Should call valueOf internally
        1..1
        ok 1 - should not error
    ok 4 - Should call valueOf internally # time=90.805ms
    
    1..4
    # failed 1 of 4 tests
    # time=349.387ms
not ok 29 - test/fluent-schema.test.js # time=349.387ms
  ---
  env: {}
  file: test/fluent-schema.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/fluent-schema.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify
  exitCode: 1
  ...

# Subtest: test/genReqId.test.js
    # Subtest: Should accept a custom genReqId function
        1..4
        ok 1 - should not error
        not ok 2 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/genReqId.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            cb (test/genReqId.test.js:22:13)
            onListen (lib/server.js:67:11)
            GetAddrInfoReqWrap.callback (lib/server.js:144:7)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/genReqId.test.js
          tapCaught: uncaughtException
          test: Should accept a custom genReqId function
          ...
        
        # test count(2) != plan(4)
        # failed 1 of 2 tests
    not ok 1 - Should accept a custom genReqId function # time=134.86ms
    
    not ok 2 - timeout!
      ---
      signal: SIGTERM
      handles:
        - type: Server
          events:
            - request
            - connection
            - clientError
          connectionKey: 4:127.0.0.1:0
      expired: TAP
      stack: |
        emit (node_modules/signal-exit/index.js:105:13)
        process.listener (node_modules/signal-exit/index.js:123:9)
      test: TAP
      ...
    # test count(2) != plan(null)
    # failed 3 of 2 tests
not ok 30 - test/genReqId.test.js # time=30015.144ms
  ---
  env: {}
  file: test/genReqId.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/genReqId.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify
  failures:
    - tapError: no plan
  exitCode: null
  signal: SIGTERM
  ...

# Subtest: test/get.test.js
    # Subtest: shorthand - get
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - get # time=9.744ms
    
    # Subtest: shorthand - get (return null)
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - get (return null) # time=2.359ms
    
    # Subtest: shorthand - get params
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - get params # time=1.865ms
    
    # Subtest: shorthand - get, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 4 - shorthand - get, querystring schema # time=1.512ms
    
    # Subtest: shorthand - get, headers schema
        1..1
        ok 1 - (unnamed test)
    ok 5 - shorthand - get, headers schema # time=1.461ms
    
    # Subtest: missing schema - get
        1..1
        ok 1 - (unnamed test)
    ok 6 - missing schema - get # time=1.21ms
    
    # Subtest: custom serializer - get
        1..1
        ok 1 - (unnamed test)
    ok 7 - custom serializer - get # time=1.925ms
    
    # Subtest: empty response
        1..1
        ok 1 - (unnamed test)
    ok 8 - empty response # time=1.43ms
    
    # Subtest: send a falsy boolean
        1..1
        ok 1 - (unnamed test)
    ok 9 - send a falsy boolean # time=1.253ms
    
    ok 10 - should not error
    # Subtest: shorthand - request get
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - shorthand - request get # time=26.913ms
    
    # Subtest: shorthand - request get params schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 12 - shorthand - request get params schema # time=5.433ms
    
    # Subtest: shorthand - request get params schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 13 - shorthand - request get params schema error # time=5.291ms
    
    # Subtest: shorthand - request get headers schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - shorthand - request get headers schema # time=3.833ms
    
    # Subtest: shorthand - request get headers schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 15 - shorthand - request get headers schema error # time=3.862ms
    
    # Subtest: shorthand - request get querystring schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 16 - shorthand - request get querystring schema # time=4.096ms
    
    # Subtest: shorthand - request get querystring schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - shorthand - request get querystring schema error # time=8.798ms
    
    # Subtest: shorthand - request get missing schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - shorthand - request get missing schema # time=3.583ms
    
    # Subtest: shorthand - custom serializer
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 19 - shorthand - custom serializer # time=4.023ms
    
    # Subtest: shorthand - empty response
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 20 - shorthand - empty response # time=3.315ms
    
    # Subtest: shorthand - send a falsy boolean
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - shorthand - send a falsy boolean # time=3.21ms
    
    # Subtest: shorthand - send null value
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - shorthand - send null value # time=3.126ms
    
    1..22
    # time=222.662ms
ok 31 - test/get.test.js # time=222.662ms

# Subtest: test/handler-context.test.js
    # Subtest: handlers receive correct `this` context
        1..4
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 1 - handlers receive correct `this` context # time=33.497ms
    
    # Subtest: handlers have access to the internal context
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - type is Object
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 2 - handlers have access to the internal context # time=11.017ms
    
    1..2
    # time=50.244ms
ok 32 - test/handler-context.test.js # time=50.244ms

# Subtest: test/head.test.js
    # Subtest: shorthand - head
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - head # time=6.137ms
    
    # Subtest: shorthand - head params
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - head params # time=1.745ms
    
    # Subtest: shorthand - head, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - head, querystring schema # time=1.175ms
    
    # Subtest: missing schema - head
        1..1
        ok 1 - (unnamed test)
    ok 4 - missing schema - head # time=1.143ms
    
    ok 5 - should not error
    # Subtest: shorthand - request head
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 6 - shorthand - request head # time=21.232ms
    
    # Subtest: shorthand - request head params schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 7 - shorthand - request head params schema # time=4.081ms
    
    # Subtest: shorthand - request head params schema error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 8 - shorthand - request head params schema error # time=3.935ms
    
    # Subtest: shorthand - request head querystring schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 9 - shorthand - request head querystring schema # time=3.093ms
    
    # Subtest: shorthand - request head querystring schema error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - shorthand - request head querystring schema error # time=3.09ms
    
    # Subtest: shorthand - request head missing schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 11 - shorthand - request head missing schema # time=2.698ms
    
    1..11
    # time=142.288ms
ok 33 - test/head.test.js # time=142.288ms

# Subtest: test/hooks-async.test.js
    # Subtest: async hooks
        1..21
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - should not error
        ok 13 - should be equal
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equivalent
        ok 18 - should not error
        ok 19 - should be equal
        ok 20 - expect truthy value
        ok 21 - expect truthy value
    ok 1 - async hooks # time=79.291ms
    
    # Subtest: modify payload
        1..10
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks-async.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks-async.test.js:119:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks-async.test.js
          tapCaught: testFunctionThrow
          test: modify payload
          ...
        
        # test count(1) != plan(10)
        # failed 1 test
    not ok 2 - modify payload # time=54.118ms
    
    # Subtest: onRequest hooks should be able to block a request
        1..5
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks-async.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks-async.test.js:158:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks-async.test.js
          tapCaught: testFunctionThrow
          test: onRequest hooks should be able to block a request
          ...
        
        # test count(1) != plan(5)
        # failed 1 test
    not ok 3 - onRequest hooks should be able to block a request # time=6.673ms
    
    # Subtest: preParsing hooks should be able to modify the payload
        1..3
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks-async.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks-async.test.js:186:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks-async.test.js
          tapCaught: testFunctionThrow
          test: preParsing hooks should be able to modify the payload
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 4 - preParsing hooks should be able to modify the payload # time=5.805ms
    
    # Subtest: preParsing hooks should handle errors
        1..3
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks-async.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks-async.test.js:211:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks-async.test.js
          tapCaught: testFunctionThrow
          test: preParsing hooks should handle errors
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 5 - preParsing hooks should handle errors # time=5.635ms
    
    # Subtest: preHandler hooks should be able to block a request
        1..5
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks-async.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks-async.test.js:246:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks-async.test.js
          tapCaught: testFunctionThrow
          test: preHandler hooks should be able to block a request
          ...
        
        # test count(1) != plan(5)
        # failed 1 test
    not ok 6 - preHandler hooks should be able to block a request # time=5.874ms
    
    # Subtest: preValidation hooks should be able to block a request
        1..5
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks-async.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks-async.test.js:280:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks-async.test.js
          tapCaught: testFunctionThrow
          test: preValidation hooks should be able to block a request
          ...
        
        # test count(1) != plan(5)
        # failed 1 test
    not ok 7 - preValidation hooks should be able to block a request # time=5.568ms
    
    # Subtest: preValidation hooks should be able to change request body before validation
        1..4
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks-async.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks-async.test.js:323:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks-async.test.js
          tapCaught: testFunctionThrow
          test: preValidation hooks should be able to change request body before validation
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 8 - preValidation hooks should be able to change request body before validation # time=6.878ms
    
    # Subtest: preSerialization hooks should be able to modify the payload
        1..3
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks-async.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks-async.test.js:348:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks-async.test.js
          tapCaught: testFunctionThrow
          test: preSerialization hooks should be able to modify the payload
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 9 - preSerialization hooks should be able to modify the payload # time=7.703ms
    
    # Subtest: preSerialization hooks should handle errors
        1..3
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks-async.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks-async.test.js:370:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks-async.test.js
          tapCaught: testFunctionThrow
          test: preSerialization hooks should handle errors
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 10 - preSerialization hooks should handle errors # time=7.877ms
    
    # Subtest: preValidation hooks should handle throwing null
        1..4
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks-async.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks-async.test.js:396:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks-async.test.js
          tapCaught: testFunctionThrow
          test: preValidation hooks should handle throwing null
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 11 - preValidation hooks should handle throwing null # time=6.818ms
    
    # Subtest: preValidation hooks should handle throwing a string
        1..3
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks-async.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks-async.test.js:422:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks-async.test.js
          tapCaught: testFunctionThrow
          test: preValidation hooks should handle throwing a string
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 12 - preValidation hooks should handle throwing a string # time=6.087ms
    
    # Subtest: onRequest hooks should be able to block a request (last hook)
        1..5
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks-async.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks-async.test.js:456:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks-async.test.js
          tapCaught: testFunctionThrow
          test: onRequest hooks should be able to block a request (last hook)
          ...
        
        # test count(1) != plan(5)
        # failed 1 test
    not ok 13 - onRequest hooks should be able to block a request (last hook) # time=5.424ms
    
    # Subtest: preHandler hooks should be able to block a request (last hook)
        1..5
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks-async.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks-async.test.js:486:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks-async.test.js
          tapCaught: testFunctionThrow
          test: preHandler hooks should be able to block a request (last hook)
          ...
        
        # test count(1) != plan(5)
        # failed 1 test
    not ok 14 - preHandler hooks should be able to block a request (last hook) # time=5.912ms
    
    # Subtest: onRequest respond with a stream
        1..4
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks-async.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks-async.test.js:531:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks-async.test.js
          tapCaught: testFunctionThrow
          test: onRequest respond with a stream
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 15 - onRequest respond with a stream # time=11.442ms
    
    # Subtest: preHandler respond with a stream
        1..7
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks-async.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks-async.test.js:577:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks-async.test.js
          tapCaught: testFunctionThrow
          test: preHandler respond with a stream
          ...
        
        # test count(1) != plan(7)
        # failed 1 test
    not ok 16 - preHandler respond with a stream # time=5.612ms
    
    # Subtest: Should log a warning if is an async function with `done`
        # Subtest: 3 arguments
            1..1
            ok 1 - expect truthy value
        ok 1 - 3 arguments # time=1.234ms
        
        # Subtest: 4 arguments
            1..3
            ok 1 - expect truthy value
            ok 2 - expect truthy value
            ok 3 - expect truthy value
        ok 2 - 4 arguments # time=1.972ms
        
        1..2
    ok 17 - Should log a warning if is an async function with `done` # time=10.682ms
    
    # Subtest: early termination, onRequest async
        1..2
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks-async.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks-async.test.js:636:25)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks-async.test.js
          tapCaught: returnedPromiseRejection
          test: early termination, onRequest async
          ...
        
        # test count(1) != plan(2)
        # failed 1 test
    not ok 18 - early termination, onRequest async # time=7.469ms
    
    # Subtest: The this should be the same of the encapsulation level
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks-async.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks-async.test.js:660:17)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks-async.test.js
          tapCaught: returnedPromiseRejection
          test: The this should be the same of the encapsulation level
          ...
        
        1..1
        # failed 1 test
    not ok 19 - The this should be the same of the encapsulation level # time=9.459ms
    
    # Subtest: preSerializationEnd should handle errors if the serialize method throws
        # Subtest: works with sync preSerialization
            1..2
            not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks-async.test.js
              ---
              stack: |
                Object.inject (fastify.js:467:24)
                Test.<anonymous> (test/hooks-async.test.js:680:13)
              at:
                line: 956
                column: 15
                file: node:internal/modules/cjs/loader
                function: Function.Module._resolveFilename
              code: MODULE_NOT_FOUND
              requireStack:
                - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
                - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks-async.test.js
              tapCaught: testFunctionThrow
              test: works with sync preSerialization
              ...
            
            # test count(1) != plan(2)
            # failed 1 test
        not ok 1 - works with sync preSerialization # time=6.244ms
        
        # Subtest: works with async preSerialization
            1..2
            not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks-async.test.js
              ---
              stack: |
                Object.inject (fastify.js:467:24)
                Test.<anonymous> (test/hooks-async.test.js:702:13)
              at:
                line: 956
                column: 15
                file: node:internal/modules/cjs/loader
                function: Function.Module._resolveFilename
              code: MODULE_NOT_FOUND
              requireStack:
                - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
                - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks-async.test.js
              tapCaught: testFunctionThrow
              test: works with async preSerialization
              ...
            
            # test count(1) != plan(2)
            # failed 1 test
        not ok 2 - works with async preSerialization # time=5.331ms
        
        1..2
        # failed 2 of 2 tests
    not ok 20 - preSerializationEnd should handle errors if the serialize method throws # time=23.327ms
    
    1..20
    # failed 18 of 20 tests
    # time=291.54ms
not ok 34 - test/hooks-async.test.js # time=291.54ms
  ---
  env: {}
  file: test/hooks-async.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/hooks-async.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify
  exitCode: 1
  ...

# Subtest: test/hooks.on-ready.test.js
    # Subtest: onReady should be called in order
        1..7
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
        ok 7 - should not error
    ok 1 - onReady should be called in order # time=45.149ms
    
    # Subtest: async onReady should be called in order
        1..7
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
        ok 7 - ready
    ok 2 - async onReady should be called in order # time=7.566ms
    
    # Subtest: mix ready and onReady
        1..2
        ok 1 - should be equal
        ok 2 - ready hooks execute once
    ok 3 - mix ready and onReady # time=5.053ms
    
    # Subtest: listen and onReady order
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - trigger the onReady
        ok 9 - do not trigger the onReady
    ok 4 - listen and onReady order # time=18.089ms
    
    # Subtest: multiple ready calls
        1..11
        ok 1 - ready and hooks not triggered yet
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - trigger the onReady
        ok 10 - do not trigger the onReady
        ok 11 - do not trigger the onReady
    ok 5 - multiple ready calls # time=7.129ms
    
    # Subtest: onReady should manage error in sync
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 6 - onReady should manage error in sync # time=6.156ms
    
    # Subtest: onReady should manage error in async
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 7 - onReady should manage error in async # time=11.506ms
    
    # Subtest: onReady should manage sync error
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 8 - onReady should manage sync error # time=5.828ms
    
    # Subtest: onReady can not add decorators or application hooks
        1..3
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should not error
    ok 9 - onReady can not add decorators or application hooks # time=5.472ms
    
    # Subtest: onReady cannot add lifecycle hooks
        1..5
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 10 - onReady cannot add lifecycle hooks # time=9.568ms
    
    # Subtest: onReady throw loading error
        1..1
        ok 1 - expect truthy value
    ok 11 - onReady throw loading error # time=1.82ms
    
    # Subtest: onReady does not call done
        1..6
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
        ok 6 - should be equal
    ok 12 - onReady does not call done # time=503.532ms
    
    # Subtest: onReady execution order
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 13 - onReady execution order # time=5.758ms
    
    # Subtest: ready return the server with callback
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 14 - ready return the server with callback # time=13.565ms
    
    # Subtest: ready return the server with Promise
        1..1
        ok 1 - should be equivalent
    ok 15 - ready return the server with Promise # time=7.678ms
    
    # Subtest: ready return registered
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
    ok 16 - ready return registered # time=11.536ms
    
    1..16
    # time=682.129ms
ok 35 - test/hooks.on-ready.test.js # time=682.129ms

# Subtest: test/hooks.test.js
    # Subtest: hooks
        1..43
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - (unnamed test)
        ok 4 - (unnamed test)
        ok 5 - (unnamed test)
        ok 6 - (unnamed test)
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - expect truthy value
        ok 20 - expect truthy value
        ok 21 - expect truthy value
        ok 22 - expect truthy value
        ok 23 - should be equal
        ok 24 - should be equal
        ok 25 - should be equal
        ok 26 - should be equal
        ok 27 - should be equal
        ok 28 - should be equal
        ok 29 - should be equal
        ok 30 - should be equal
        ok 31 - should be equal
        ok 32 - expect truthy value
        ok 33 - expect truthy value
        ok 34 - expect truthy value
        ok 35 - expect truthy value
        ok 36 - should not error
        ok 37 - should be equal
        ok 38 - should be equal
        ok 39 - should be equivalent
        ok 40 - should not error
        ok 41 - should be equal
        ok 42 - should not error
        ok 43 - should be equal
    ok 1 - hooks # time=164.627ms
    
    # Subtest: onRequest hook should support encapsulation / 1
        1..5
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks.test.js:194:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          tapCaught: testFunctionThrow
          test: onRequest hook should support encapsulation / 1
          ...
        
        # test count(1) != plan(5)
        # failed 1 test
    not ok 2 - onRequest hook should support encapsulation / 1 # time=53.859ms
    
    # Subtest: onRequest hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 3 - onRequest hook should support encapsulation / 2 # time=5.58ms
    
    # Subtest: onRequest hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 4 - onRequest hook should support encapsulation / 3 # time=19.906ms
    
    # Subtest: preHandler hook should support encapsulation / 5
        1..17
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equivalent
    ok 5 - preHandler hook should support encapsulation / 5 # time=13.689ms
    
    # Subtest: onRoute hook should be called / 1
        1..2
        ok 1 - (unnamed test)
        ok 2 - should not error
    ok 6 - onRoute hook should be called / 1 # time=5.898ms
    
    # Subtest: onRoute hook should be called / 2
        1..5
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 7 - onRoute hook should be called / 2 # time=5.919ms
    
    # Subtest: onRoute hook should be called / 3
        1..5
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - (unnamed test)
        ok 5 - should not error
    ok 8 - onRoute hook should be called / 3 # time=19.353ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 4
        1..4
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - (unnamed test)
        ok 4 - should not error
    ok 9 - onRoute hook should be called (encapsulation support) / 4 # time=5.049ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 5
        1..2
        ok 1 - (unnamed test)
        ok 2 - should not error
    ok 10 - onRoute hook should be called (encapsulation support) / 5 # time=8.973ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 6
        1..1
        ok 1 - should not error
    ok 11 - onRoute hook should be called (encapsulation support) / 6 # time=4.456ms
    
    # Subtest: onRoute should keep the context
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
    ok 12 - onRoute should keep the context # time=5.843ms
    
    # Subtest: onRoute hook should pass correct route
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should not error
    ok 13 - onRoute hook should pass correct route # time=5.847ms
    
    # Subtest: onRoute hook should pass correct route with custom prefix
        1..11
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
    ok 14 - onRoute hook should pass correct route with custom prefix # time=6.463ms
    
    # Subtest: onRoute hook should pass correct route with custom options
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - type is function
        ok 6 - should not error
    ok 15 - onRoute hook should pass correct route with custom options # time=4.442ms
    
    # Subtest: onRoute hook should receive any route option
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 16 - onRoute hook should receive any route option # time=3.992ms
    
    # Subtest: onRoute hook should preserve system route configuration
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 17 - onRoute hook should preserve system route configuration # time=7.583ms
    
    # Subtest: onRoute hook should preserve handler function in options of shorthand route system configuration
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 18 - onRoute hook should preserve handler function in options of shorthand route system configuration # time=4.686ms
    
    # Subtest: onRoute hook should be called once when prefixTrailingSlash
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 19 - onRoute hook should be called once when prefixTrailingSlash # time=6.198ms
    
    # Subtest: onRoute hook should able to change the route url
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 20 - onRoute hook should able to change the route url # time=19.101ms
    
    # Subtest: onRoute hook that throws should be caught
        1..1
        ok 1 - expect truthy value
    ok 21 - onRoute hook that throws should be caught # time=2.766ms
    
    # Subtest: onRoute hook with many prefix
        1..3
        ok 1 - should match pattern provided
        ok 2 - should match pattern provided
        ok 3 - should not error
    ok 22 - onRoute hook with many prefix # time=5.956ms
    
    # Subtest: onRoute hook should not be called when it registered after route
        1..3
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
    ok 23 - onRoute hook should not be called when it registered after route # time=2.703ms
    
    # Subtest: onResponse hook should log request error
        1..4
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks.test.js:852:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          tapCaught: testFunctionThrow
          test: onResponse hook should log request error
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 24 - onResponse hook should log request error # time=8.134ms
    
    # Subtest: onResponse hook should support encapsulation / 1
        1..5
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks.test.js:880:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          tapCaught: testFunctionThrow
          test: onResponse hook should support encapsulation / 1
          ...
        
        # test count(1) != plan(5)
        # failed 1 test
    not ok 25 - onResponse hook should support encapsulation / 1 # time=5.793ms
    
    # Subtest: onResponse hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 26 - onResponse hook should support encapsulation / 2 # time=9.159ms
    
    # Subtest: onResponse hook should support encapsulation / 3
        1..16
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 27 - onResponse hook should support encapsulation / 3 # time=17.546ms
    
    # Subtest: onSend hook should support encapsulation / 1
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 28 - onSend hook should support encapsulation / 1 # time=15.251ms
    
    # Subtest: onSend hook should support encapsulation / 2
        1..16
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 29 - onSend hook should support encapsulation / 2 # time=11.599ms
    
    # Subtest: onSend hook is called after payload is serialized and headers are set
        1..30
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks.test.js:1137:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          tapCaught: testFunctionThrow
          test: onSend hook is called after payload is serialized and headers are set
          ...
        
        # test count(1) != plan(30)
        # failed 1 test
    not ok 30 - onSend hook is called after payload is serialized and headers are set # time=5.165ms
    
    # Subtest: modify payload
        1..10
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks.test.js:1218:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          tapCaught: testFunctionThrow
          test: modify payload
          ...
        
        # test count(1) != plan(10)
        # failed 1 test
    not ok 31 - modify payload # time=5.281ms
    
    # Subtest: clear payload
        1..6
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks.test.js:1243:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          tapCaught: testFunctionThrow
          test: clear payload
          ...
        
        # test count(1) != plan(6)
        # failed 1 test
    not ok 32 - clear payload # time=4.836ms
    
    # Subtest: onSend hook throws
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 33 - onSend hook throws # time=10.55ms
    
    # Subtest: onSend hook should receive valid request and reply objects if onRequest hook fails
        1..4
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks.test.js:1334:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          tapCaught: testFunctionThrow
          test: onSend hook should receive valid request and reply objects if onRequest
            hook fails
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 34 - onSend hook should receive valid request and reply objects if onRequest hook fails # time=6.598ms
    
    # Subtest: onSend hook should receive valid request and reply objects if a custom content type parser fails
        1..4
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks.test.js:1364:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          tapCaught: testFunctionThrow
          test: onSend hook should receive valid request and reply objects if a custom
            content type parser fails
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 35 - onSend hook should receive valid request and reply objects if a custom content type parser fails # time=6.033ms
    
    # Subtest: Content-Length header should be updated if onSend hook modifies the payload
        1..2
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks.test.js:1386:12)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          tapCaught: testFunctionThrow
          test: Content-Length header should be updated if onSend hook modifies the payload
          ...
        
        # test count(1) != plan(2)
        # failed 1 test
    not ok 36 - Content-Length header should be updated if onSend hook modifies the payload # time=5.314ms
    
    # Subtest: cannot add hook after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 37 - cannot add hook after binding # time=3.983ms
    
    # Subtest: onRequest hooks should be able to block a request
        1..5
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks.test.js:1450:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          tapCaught: testFunctionThrow
          test: onRequest hooks should be able to block a request
          ...
        
        # test count(1) != plan(5)
        # failed 1 test
    not ok 38 - onRequest hooks should be able to block a request # time=4.615ms
    
    # Subtest: preValidation hooks should be able to block a request
        1..5
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks.test.js:1491:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          tapCaught: testFunctionThrow
          test: preValidation hooks should be able to block a request
          ...
        
        # test count(1) != plan(5)
        # failed 1 test
    not ok 39 - preValidation hooks should be able to block a request # time=5.58ms
    
    # Subtest: preValidation hooks should be able to change request body before validation
        1..4
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks.test.js:1535:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          tapCaught: testFunctionThrow
          test: preValidation hooks should be able to change request body before validation
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 40 - preValidation hooks should be able to change request body before validation # time=4.728ms
    
    # Subtest: preParsing hooks should be able to block a request
        1..5
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks.test.js:1579:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          tapCaught: testFunctionThrow
          test: preParsing hooks should be able to block a request
          ...
        
        # test count(1) != plan(5)
        # failed 1 test
    not ok 41 - preParsing hooks should be able to block a request # time=5.04ms
    
    # Subtest: preHandler hooks should be able to block a request
        1..5
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks.test.js:1616:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          tapCaught: testFunctionThrow
          test: preHandler hooks should be able to block a request
          ...
        
        # test count(1) != plan(5)
        # failed 1 test
    not ok 42 - preHandler hooks should be able to block a request # time=6.783ms
    
    # Subtest: onRequest hooks should be able to block a request (last hook)
        1..5
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks.test.js:1653:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          tapCaught: testFunctionThrow
          test: onRequest hooks should be able to block a request (last hook)
          ...
        
        # test count(1) != plan(5)
        # failed 1 test
    not ok 43 - onRequest hooks should be able to block a request (last hook) # time=5.117ms
    
    # Subtest: preHandler hooks should be able to block a request (last hook)
        1..5
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks.test.js:1686:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          tapCaught: testFunctionThrow
          test: preHandler hooks should be able to block a request (last hook)
          ...
        
        # test count(1) != plan(5)
        # failed 1 test
    not ok 44 - preHandler hooks should be able to block a request (last hook) # time=4.578ms
    
    # Subtest: preParsing hooks should handle errors
        1..3
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks.test.js:1710:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          tapCaught: testFunctionThrow
          test: preParsing hooks should handle errors
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 45 - preParsing hooks should handle errors # time=4.88ms
    
    # Subtest: onRequest respond with a stream
        1..4
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks.test.js:1754:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          tapCaught: testFunctionThrow
          test: onRequest respond with a stream
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 46 - onRequest respond with a stream # time=24.71ms
    
    # Subtest: preHandler respond with a stream
        1..7
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks.test.js:1804:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          tapCaught: testFunctionThrow
          test: preHandler respond with a stream
          ...
        
        # test count(1) != plan(7)
        # failed 1 test
    not ok 47 - preHandler respond with a stream # time=4.76ms
    
    # Subtest: Register an hook after a plugin inside a plugin
        1..6
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks.test.js:1844:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          tapCaught: testFunctionThrow
          test: Register an hook after a plugin inside a plugin
          ...
        
        # test count(1) != plan(6)
        # failed 1 test
    not ok 48 - Register an hook after a plugin inside a plugin # time=6.953ms
    
    # Subtest: Register an hook after a plugin inside a plugin (with preHandler option)
        1..7
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks.test.js:1890:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          tapCaught: testFunctionThrow
          test: Register an hook after a plugin inside a plugin (with preHandler option)
          ...
        
        # test count(1) != plan(7)
        # failed 1 test
    not ok 49 - Register an hook after a plugin inside a plugin (with preHandler option) # time=4.538ms
    
    # Subtest: Register hooks inside a plugin after an encapsulated plugin
        1..7
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks.test.js:1936:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          tapCaught: testFunctionThrow
          test: Register hooks inside a plugin after an encapsulated plugin
          ...
        
        # test count(1) != plan(7)
        # failed 1 test
    not ok 50 - Register hooks inside a plugin after an encapsulated plugin # time=5.778ms
    
    # Subtest: onRequest hooks should run in the order in which they are defined
        1..9
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks.test.js:1996:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          tapCaught: testFunctionThrow
          test: onRequest hooks should run in the order in which they are defined
          ...
        
        # test count(1) != plan(9)
        # failed 1 test
    not ok 51 - onRequest hooks should run in the order in which they are defined # time=5.124ms
    
    # Subtest: preHandler hooks should run in the order in which they are defined
        1..9
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks.test.js:2056:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          tapCaught: testFunctionThrow
          test: preHandler hooks should run in the order in which they are defined
          ...
        
        # test count(1) != plan(9)
        # failed 1 test
    not ok 52 - preHandler hooks should run in the order in which they are defined # time=5.581ms
    
    # Subtest: onSend hooks should run in the order in which they are defined
        1..8
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks.test.js:2114:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          tapCaught: testFunctionThrow
          test: onSend hooks should run in the order in which they are defined
          ...
        
        # test count(1) != plan(8)
        # failed 1 test
    not ok 53 - onSend hooks should run in the order in which they are defined # time=5.128ms
    
    # Subtest: onResponse hooks should run in the order in which they are defined
        1..8
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks.test.js:2172:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          tapCaught: testFunctionThrow
          test: onResponse hooks should run in the order in which they are defined
          ...
        
        # test count(1) != plan(8)
        # failed 1 test
    not ok 54 - onResponse hooks should run in the order in which they are defined # time=4.766ms
    
    # Subtest: onRequest, preHandler, and onResponse hooks that resolve to a value do not cause an error
        1..3
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks.test.js:2197:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          tapCaught: testFunctionThrow
          test: onRequest, preHandler, and onResponse hooks that resolve to a value do not
            cause an error
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 55 - onRequest, preHandler, and onResponse hooks that resolve to a value do not cause an error # time=4.374ms
    
    # Subtest: If a response header has been set inside an hook it shoulod not be overwritten by the final response handler
        1..5
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks.test.js:2217:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          tapCaught: testFunctionThrow
          test: If a response header has been set inside an hook it shoulod not be
            overwritten by the final response handler
          ...
        
        # test count(1) != plan(5)
        # failed 1 test
    not ok 56 - If a response header has been set inside an hook it shoulod not be overwritten by the final response handler # time=4.815ms
    
    # Subtest: If the content type has been set inside an hook it should not be changed
        1..5
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks.test.js:2240:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          tapCaught: testFunctionThrow
          test: If the content type has been set inside an hook it should not be changed
          ...
        
        # test count(1) != plan(5)
        # failed 1 test
    not ok 57 - If the content type has been set inside an hook it should not be changed # time=5ms
    
    # Subtest: request in onRequest, preParsing, preValidation and onResponse
        1..18
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks.test.js:2312:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          tapCaught: testFunctionThrow
          test: request in onRequest, preParsing, preValidation and onResponse
          ...
        
        # test count(1) != plan(18)
        # failed 1 test
    not ok 58 - request in onRequest, preParsing, preValidation and onResponse # time=7.109ms
    
    # Subtest: preValidation hook should support encapsulation / 1
        1..5
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks.test.js:2344:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          tapCaught: testFunctionThrow
          test: preValidation hook should support encapsulation / 1
          ...
        
        # test count(1) != plan(5)
        # failed 1 test
    not ok 59 - preValidation hook should support encapsulation / 1 # time=16.858ms
    
    # Subtest: preValidation hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 60 - preValidation hook should support encapsulation / 2 # time=3.386ms
    
    # Subtest: preValidation hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 61 - preValidation hook should support encapsulation / 3 # time=14.776ms
    
    # Subtest: onError hook
        1..3
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks.test.js:2456:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          tapCaught: testFunctionThrow
          test: onError hook
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 62 - onError hook # time=9.133ms
    
    # Subtest: reply.send should throw if called inside the onError hook
        1..3
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks.test.js:2490:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          tapCaught: testFunctionThrow
          test: reply.send should throw if called inside the onError hook
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 63 - reply.send should throw if called inside the onError hook # time=5.54ms
    
    # Subtest: onError hook with setErrorHandler
        # Subtest: Send error
            1..3
            not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
              ---
              stack: |
                Object.inject (fastify.js:467:24)
                Test.<anonymous> (test/hooks.test.js:2525:13)
              at:
                line: 956
                column: 15
                file: node:internal/modules/cjs/loader
                function: Function.Module._resolveFilename
              code: MODULE_NOT_FOUND
              requireStack:
                - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
                - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
              tapCaught: testFunctionThrow
              test: Send error
              ...
            
            # test count(1) != plan(3)
            # failed 1 test
        not ok 1 - Send error # time=6.777ms
        
        1..1
        # failed 1 test
    not ok 64 - onError hook with setErrorHandler # time=12.671ms
    
    # Subtest: preParsing hook should run before parsing and be able to modify the payload
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 65 - preParsing hook should run before parsing and be able to modify the payload # time=35.887ms
    
    # Subtest: preParsing hooks should run in the order in which they are defined
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 66 - preParsing hooks should run in the order in which they are defined # time=16.795ms
    
    # Subtest: preParsing hooks should support encapsulation
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 67 - preParsing hooks should support encapsulation # time=16.697ms
    
    # Subtest: preParsing hook should support encapsulation / 1
        1..5
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks.test.js:2705:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          tapCaught: testFunctionThrow
          test: preParsing hook should support encapsulation / 1
          ...
        
        # test count(1) != plan(5)
        # failed 1 test
    not ok 68 - preParsing hook should support encapsulation / 1 # time=5.844ms
    
    # Subtest: preParsing hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 69 - preParsing hook should support encapsulation / 2 # time=3.707ms
    
    # Subtest: preParsing hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 70 - preParsing hook should support encapsulation / 3 # time=10.037ms
    
    # Subtest: preSerialization hook should run before serialization and be able to modify the payload
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 71 - preSerialization hook should run before serialization and be able to modify the payload # time=15.678ms
    
    # Subtest: preSerialization hook should be able to throw errors which are validated against schema response
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        1..6
    ok 72 - preSerialization hook should be able to throw errors which are validated against schema response # time=7.289ms
    
    # Subtest: preSerialization hook which returned error should still run onError hooks
        1..4
        ok 1 - should not error
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - should be equal
    ok 73 - preSerialization hook which returned error should still run onError hooks # time=4.797ms
    
    # Subtest: preSerialization hooks should run in the order in which they are defined
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 74 - preSerialization hooks should run in the order in which they are defined # time=7.54ms
    
    # Subtest: preSerialization hooks should support encapsulation
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 75 - preSerialization hooks should support encapsulation # time=7.527ms
    
    # Subtest: onRegister hook should be called / 1
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should not error
    ok 76 - onRegister hook should be called / 1 # time=2.99ms
    
    # Subtest: onRegister hook should be called / 2
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
    ok 77 - onRegister hook should be called / 2 # time=3.378ms
    
    # Subtest: onRegister hook should be called / 3
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
    ok 78 - onRegister hook should be called / 3 # time=4.135ms
    
    # Subtest: onRegister hook should be called (encapsulation)
        1..1
        ok 1 - should not error
    ok 79 - onRegister hook should be called (encapsulation) # time=1.795ms
    
    # Subtest: early termination, onRequest
        1..3
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks.test.js:3134:7)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          tapCaught: testFunctionThrow
          test: early termination, onRequest
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 80 - early termination, onRequest # time=4.082ms
    
    # Subtest: reply.send should throw if undefined error is thrown
        1..3
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks.test.js:3155:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          tapCaught: testFunctionThrow
          test: reply.send should throw if undefined error is thrown
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 81 - reply.send should throw if undefined error is thrown # time=6.241ms
    
    # Subtest: reply.send should throw if undefined error is thrown at preParsing hook
        1..3
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks.test.js:3184:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          tapCaught: testFunctionThrow
          test: reply.send should throw if undefined error is thrown at preParsing hook
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 82 - reply.send should throw if undefined error is thrown at preParsing hook # time=4.957ms
    
    # Subtest: reply.send should throw if undefined error is thrown at onSend hook
        1..3
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/hooks.test.js:3213:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/hooks.test.js
          tapCaught: testFunctionThrow
          test: reply.send should throw if undefined error is thrown at onSend hook
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 83 - reply.send should throw if undefined error is thrown at onSend hook # time=4.886ms
    
    # Subtest: onTimeout should be triggered
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - onTimeout
        ok 5 - type is Error
        ok 6 - should be equal
    ok 84 - onTimeout should be triggered # time=508.534ms
    
    # Subtest: onTimeout should be triggered and socket _meta is set
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - onTimeout
        ok 5 - type is Error
        ok 6 - should be equal
    ok 85 - onTimeout should be triggered and socket _meta is set # time=508.541ms
    
    1..85
    # failed 39 of 85 tests
    # time=1908.711ms
not ok 36 - test/hooks.test.js # time=1908.711ms
  ---
  env: {}
  file: test/hooks.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/hooks.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify
  exitCode: 1
  ...

# Subtest: test/http2/closing.test.js
    # Subtest: http/2 request while fastify closing
        ok 1 - http2 successfully loaded
        ok 2 - should not error
        # Subtest: return 200
            ok 1 - should be equal
            1..1
        ok 3 - return 200 # time=11.985ms
        
        1..3
    ok 1 - http/2 request while fastify closing # time=61.327ms
    
    # Subtest: http/2 request while fastify closing - return503OnClosing: false
        ok 1 - http2 successfully loaded
        ok 2 - should not error
        # Subtest: return 200
            ok 1 - should be equal
            1..1
        ok 3 - return 200 # time=4.886ms
        
        1..3
    ok 2 - http/2 request while fastify closing - return503OnClosing: false # time=13.93ms
    
    # Subtest: http/2 closes successfully with async await
        1..0
    ok 3 - http/2 closes successfully with async await # time=111.587ms
    
    # Subtest: https/2 closes successfully with async await
        1..0
    ok 4 - https/2 closes successfully with async await # time=21.485ms
    
    # Subtest: http/2 server side session emits a timeout event
        ok 1 - should be equal
        1..1
    ok 5 - http/2 server side session emits a timeout event # time=110.895ms
    
    1..5
    # time=347.705ms
ok 37 - test/http2/closing.test.js # time=347.705ms

# Subtest: test/http2/constraint.test.js
    # Subtest: A route supports host constraints under http2 protocol and secure connection
        1..5
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request - no constrain
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - https get request - no constrain # time=27.686ms
        
        # Subtest: https get request - constrain
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - https get request - constrain # time=9.609ms
        
        # Subtest: https get request - constrain - not found
            1..1
            ok 1 - should be equal
        ok 5 - https get request - constrain - not found # time=7.586ms
        
    ok 1 - A route supports host constraints under http2 protocol and secure connection # time=104.319ms
    
    1..1
    # time=124.911ms
ok 38 - test/http2/constraint.test.js # time=124.911ms

# Subtest: test/http2/head.test.js
    ok 1 - http2 successfully loaded
    ok 2 - should not error
    # Subtest: http HEAD request
        1..1
        ok 1 - should be equal
    ok 3 - http HEAD request # time=41.376ms
    
    1..3
    # time=98.556ms
ok 39 - test/http2/head.test.js # time=98.556ms

# Subtest: test/http2/missing-http2-module.test.js
    # Subtest: should throw when http2 module cannot be found
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - should throw when http2 module cannot be found # time=7.963ms
    
    1..1
    # time=12.071ms
ok 40 - test/http2/missing-http2-module.test.js # time=12.071ms

# Subtest: test/http2/plain.test.js
    ok 1 - http2 successfully loaded
    ok 2 - should not error
    # Subtest: http get request
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 3 - http get request # time=23.011ms
    
    # Subtest: http hostname
        1..1
        ok 1 - should be equal
    ok 4 - http hostname # time=6.065ms
    
    1..4
    # time=87.981ms
ok 41 - test/http2/plain.test.js # time=87.981ms

# Subtest: test/http2/secure-with-fallback.test.js
    # Subtest: secure with fallback
        1..7
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get error
            1..1
            ok 1 - should be equal
        ok 3 - https get error # time=26.982ms
        
        # Subtest: https post
            1..2
            ok 1 - should be equal
            ok 2 - should be equivalent
        ok 4 - https post # time=13.143ms
        
        # Subtest: https get request
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - https get request # time=7.93ms
        
        # Subtest: http1 get request
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 6 - http1 get request # time=13.407ms
        
        # Subtest: http1 get error
            1..2
            ok 1 - should not error
            ok 2 - should be equal
        ok 7 - http1 get error # time=7.983ms
        
    ok 1 - secure with fallback # time=129.896ms
    
    1..1
    # time=151.188ms
ok 42 - test/http2/secure-with-fallback.test.js # time=151.188ms

# Subtest: test/http2/secure.test.js
    # Subtest: secure
        1..4
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - https get request # time=26.61ms
        
        # Subtest: https get request without trust proxy - protocol
            1..2
            ok 1 - should be equivalent
            ok 2 - should be equivalent
        ok 4 - https get request without trust proxy - protocol # time=15.671ms
        
    ok 1 - secure # time=100.818ms
    
    1..1
    # time=121.706ms
ok 43 - test/http2/secure.test.js # time=121.706ms

# Subtest: test/http2/unknown-http-method.test.js
    ok 1 - should not error
    # Subtest: http UNKNOWN_METHOD request
        1..2
        ok 1 - should be equal
        ok 2 - should be equivalent
    ok 2 - http UNKNOWN_METHOD request # time=22.695ms
    
    1..2
    # time=63.531ms
ok 44 - test/http2/unknown-http-method.test.js # time=63.531ms

# Subtest: test/https/custom-https-server.test.js
    # Subtest: Should support a custom https server
        1..4
        ok 1 - it is called twice for every HOST interface
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - Should support a custom https server # time=53.665ms
    
    1..1
    # time=75.121ms
ok 45 - test/https/custom-https-server.test.js # time=75.121ms

# Subtest: test/https/https.test.js
    # Subtest: https
        1..4
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 3 - https get request # time=26.335ms
        
        # Subtest: https get request without trust proxy - protocol
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 4 - https get request without trust proxy - protocol # time=11.493ms
        
    ok 1 - https # time=93.112ms
    
    1..1
    # time=113.133ms
ok 46 - test/https/https.test.js # time=113.133ms

# Subtest: test/imports.test.js
    # Subtest: should import as default
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 1 - should import as default # time=448.82ms
    
    # Subtest: should import as esm
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 2 - should import as esm # time=1.24ms
    
    1..2
    # time=457.037ms
ok 47 - test/imports.test.js # time=457.037ms

# Subtest: test/inject.test.js
    # Subtest: inject should exist
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 1 - inject should exist # time=10.818ms
    
    # Subtest: should wait for the ready event
        1..4
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/inject.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/inject.test.js:30:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/inject.test.js
          tapCaught: testFunctionThrow
          test: should wait for the ready event
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 2 - should wait for the ready event # time=58.163ms
    
    # Subtest: inject get request
        1..4
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/inject.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/inject.test.js:50:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/inject.test.js
          tapCaught: testFunctionThrow
          test: inject get request
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 3 - inject get request # time=9.739ms
    
    # Subtest: inject get request - code check
        1..4
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/inject.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/inject.test.js:70:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/inject.test.js
          tapCaught: testFunctionThrow
          test: inject get request - code check
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 4 - inject get request - code check # time=5.943ms
    
    # Subtest: inject get request - headers check
        1..4
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/inject.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/inject.test.js:89:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/inject.test.js
          tapCaught: testFunctionThrow
          test: inject get request - headers check
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 5 - inject get request - headers check # time=5.963ms
    
    # Subtest: inject get request - querystring
        1..4
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/inject.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/inject.test.js:108:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/inject.test.js
          tapCaught: testFunctionThrow
          test: inject get request - querystring
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 6 - inject get request - querystring # time=6.106ms
    
    # Subtest: inject get request - params
        1..4
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/inject.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/inject.test.js:127:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/inject.test.js
          tapCaught: testFunctionThrow
          test: inject get request - params
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 7 - inject get request - params # time=6.169ms
    
    # Subtest: inject get request - wildcard
        1..4
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/inject.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/inject.test.js:146:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/inject.test.js
          tapCaught: testFunctionThrow
          test: inject get request - wildcard
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 8 - inject get request - wildcard # time=7.995ms
    
    # Subtest: inject get request - headers
        1..4
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/inject.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/inject.test.js:165:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/inject.test.js
          tapCaught: testFunctionThrow
          test: inject get request - headers
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 9 - inject get request - headers # time=6.74ms
    
    # Subtest: inject post request
        1..4
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/inject.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/inject.test.js:186:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/inject.test.js
          tapCaught: testFunctionThrow
          test: inject post request
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 10 - inject post request # time=6.888ms
    
    # Subtest: inject post request - send stream
        1..4
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/inject.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/inject.test.js:206:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/inject.test.js
          tapCaught: testFunctionThrow
          test: inject post request - send stream
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 11 - inject post request - send stream # time=6.69ms
    
    # Subtest: inject get request - reply stream
        1..3
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/inject.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/inject.test.js:227:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/inject.test.js
          tapCaught: testFunctionThrow
          test: inject get request - reply stream
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 12 - inject get request - reply stream # time=6.932ms
    
    # Subtest: inject promisify - waiting for ready event
        1..1
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/inject.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/inject.test.js:250:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/inject.test.js
          tapCaught: testFunctionThrow
          test: inject promisify - waiting for ready event
          ...
        
        # failed 1 test
    not ok 13 - inject promisify - waiting for ready event # time=6.246ms
    
    # Subtest: inject promisify - after the ready event
        1..2
        ok 1 - should not error
        not ok 2 - test unfinished
          ---
          stack: |
            Object.<anonymous> (test/inject.test.js:257:1)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          test: inject promisify - after the ready event
          at:
            line: 257
            column: 1
            file: test/inject.test.js
            function: Object.<anonymous>
          source: |
          
            test('inject promisify - after the ready event', t => {
            ^
              t.plan(2)
              const fastify = Fastify()
          ...
        
        # failed 1 of 2 tests
    not ok 14 - inject promisify - after the ready event # time=28.781ms
    
    not ok 15 - child test left in queue: t.test inject promisify - when the server is up
    not ok 16 - child test left in queue: t.test should reject in error case
    not ok 17 - child test left in queue: t.test inject a multipart request using form-body
    not ok 18 - child test left in queue: t.test should error the promise if ready errors
    not ok 19 - child test left in queue: t.test should throw error if callback specified and if ready errors
    not ok 20 - child test left in queue: t.test should support builder-style injection with ready app
    not ok 21 - child test left in queue: t.test should support builder-style injection with non-ready app
    not ok 22 - child test left in queue: t.test should handle errors in builder-style injection correctly
    1..14
    # test count(22) != plan(14)
    # failed 29 of 22 tests
    # time=206.813ms
not ok 48 - test/inject.test.js # time=206.813ms
  ---
  env: {}
  file: test/inject.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/inject.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify
  failures:
    - &a1
      id: 15
      name: "child test left in queue: t.test inject promisify - when the server is up"
      fullname: test/inject.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 14
    - &a2
      id: 16
      name: "child test left in queue: t.test should reject in error case"
      fullname: test/inject.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 14
    - &a3
      id: 17
      name: "child test left in queue: t.test inject a multipart request using
        form-body"
      fullname: test/inject.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 14
    - &a4
      id: 18
      name: "child test left in queue: t.test should error the promise if ready errors"
      fullname: test/inject.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 14
    - &a5
      id: 19
      name: "child test left in queue: t.test should throw error if callback specified
        and if ready errors"
      fullname: test/inject.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 14
    - &a6
      id: 20
      name: "child test left in queue: t.test should support builder-style injection
        with ready app"
      fullname: test/inject.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 14
    - &a7
      id: 21
      name: "child test left in queue: t.test should support builder-style injection
        with non-ready app"
      fullname: test/inject.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 14
    - &a8
      id: 22
      name: "child test left in queue: t.test should handle errors in builder-style
        injection correctly"
      fullname: test/inject.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 14
    - *a1
    - *a2
    - *a3
    - *a4
    - *a5
    - *a6
    - *a7
    - *a8
  exitCode: 1
  ...

# Subtest: test/internals/all.test.js
    # Subtest: fastify.all should add all the methods to the same url
        1..14
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/internals/all.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            injectRequest (test/internals/all.test.js:29:13)
            Array.forEach (<anonymous>)
            Test.<anonymous> (test/internals/all.test.js:17:20)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/internals/all.test.js
          tapCaught: testFunctionThrow
          test: fastify.all should add all the methods to the same url
          ...
        
        # test count(1) != plan(14)
        # failed 1 test
    not ok 1 - fastify.all should add all the methods to the same url # time=72.377ms
    
    1..1
    # failed 1 test
    # time=76.347ms
not ok 49 - test/internals/all.test.js # time=76.347ms
  ---
  env: {}
  file: test/internals/all.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/internals/all.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify
  exitCode: 1
  ...

# Subtest: test/internals/contentTypeParser.test.js
    # Subtest: rawBody function
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - rawBody function # time=29.214ms
    
    # Subtest: Should support Webpack and faux modules
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - Should support Webpack and faux modules # time=10.616ms
    
    1..2
    # time=47.083ms
ok 50 - test/internals/contentTypeParser.test.js # time=47.083ms

# Subtest: test/internals/decorator.test.js
    # Subtest: decorate should add the given method to its instance
        1..1
        ok 1 - expect truthy value
    ok 1 - decorate should add the given method to its instance # time=4.132ms
    
    # Subtest: decorate is chainable
        1..3
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
    ok 2 - decorate is chainable # time=1.513ms
    
    # Subtest: checkExistence should check if a property is part of the given instance
        1..1
        ok 1 - expect truthy value
    ok 3 - checkExistence should check if a property is part of the given instance # time=0.998ms
    
    # Subtest: checkExistence should find the instance if not given
        1..1
        ok 1 - expect truthy value
    ok 4 - checkExistence should find the instance if not given # time=0.906ms
    
    # Subtest: checkExistence should check the prototype as well
        1..1
        ok 1 - expect truthy value
    ok 5 - checkExistence should check the prototype as well # time=0.847ms
    
    # Subtest: checkDependencies should throw if a dependency is not present
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 6 - checkDependencies should throw if a dependency is not present # time=1.31ms
    
    # Subtest: decorate should internally call checkDependencies
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 7 - decorate should internally call checkDependencies # time=0.801ms
    
    # Subtest: decorate should recognize getter/setter objects
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - (unnamed test)
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 8 - decorate should recognize getter/setter objects # time=1.603ms
    
    1..8
    # time=44.893ms
ok 51 - test/internals/decorator.test.js # time=44.893ms

# Subtest: test/internals/handleRequest.test.js
    # Subtest: handleRequest function - sent reply
        1..1
        ok 1 - should be equal
    ok 1 - handleRequest function - sent reply # time=4.194ms
    
    # Subtest: handleRequest function - invoke with error
        1..1
        ok 1 - should be equal
    ok 2 - handleRequest function - invoke with error # time=1.112ms
    
    # Subtest: handler function - invalid schema
        1..1
        ok 1 - errorHandler called
    ok 3 - handler function - invalid schema # time=43.728ms
    
    # Subtest: handler function - reply
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - (unnamed test)
    ok 4 - handler function - reply # time=2.22ms
    
    # Subtest: handler function - preValidationCallback with finished response
        1..0
    ok 5 - handler function - preValidationCallback with finished response # time=0.634ms
    
    # Subtest: request should be defined in onSend Hook on post request with content type application/json
        1..8
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - should not error
        ok 8 - should be equal
    ok 6 - request should be defined in onSend Hook on post request with content type application/json # time=189.583ms
    
    # Subtest: request should be defined in onSend Hook on post request with content type application/x-www-form-urlencoded
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - should be equal
    ok 7 - request should be defined in onSend Hook on post request with content type application/x-www-form-urlencoded # time=10.676ms
    
    # Subtest: request should be defined in onSend Hook on options request with content type application/x-www-form-urlencoded
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - should be equal
    ok 8 - request should be defined in onSend Hook on options request with content type application/x-www-form-urlencoded # time=11.06ms
    
    # Subtest: request should respond with an error if an unserialized payload is sent inside an async handler
        1..3
        not ok 1 - Cannot find module 'light-my-request' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/internals/handleRequest.test.js
          ---
          stack: |
            Object.inject (fastify.js:467:24)
            Test.<anonymous> (test/internals/handleRequest.test.js:234:11)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify/test/internals/handleRequest.test.js
          tapCaught: testFunctionThrow
          test: request should respond with an error if an unserialized payload is sent
            inside an async handler
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 9 - request should respond with an error if an unserialized payload is sent inside an async handler # time=57.705ms
    
    1..9
    # failed 1 of 9 tests
    # time=337.008ms
not ok 52 - test/internals/handleRequest.test.js # time=337.008ms
  ---
  env: {}
  file: test/internals/handleRequest.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/internals/handleRequest.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant9/fastify
  exitCode: 1
  ...

# Subtest: test/internals/hookRunner.test.js
    # Subtest: hookRunner - Basic
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 1 - hookRunner - Basic # time=6.807ms
    
    # Subtest: hookRunner - In case of error should skip to done
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 2 - hookRunner - In case of error should skip to done # time=2.223ms
    
    # Subtest: hookRunner - Should handle throw
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 3 - hookRunner - Should handle throw # time=1.818ms
    
    # Subtest: hookRunner - Should handle promises
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 4 - hookRunner - Should handle promises # time=16.945ms
    
    # Subtest: hookRunner - In case of error should skip to done (with promises)
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 5 - hookRunner - In case of error should skip to done (with promises) # time=2.142ms
    
    # Subtest: hookRunner - Be able to exit before its natural end
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 6 - hookRunner - Be able to exit before its natural end # time=1.157ms
    
    # Subtest: hookRunner - Promises that resolve to a value do not change the state
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 7 - hookRunner - Promises that resolve to a value do not change the state # time=1.347ms
    
    # Subtest: onSendHookRunner - Basic
        1..13
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equal
        ok 10 - should not error
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equal
    ok 8 - onSendHookRunner - Basic # time=6.556ms
    
    # Subtest: onSendHookRunner - Can change the payload
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 9 - onSendHookRunner - Can change the payload # time=3.11ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 10 - onSendHookRunner - In case of error should skip to done # time=2.202ms
    
    # Subtest: onSendHookRunner - Should handle promises
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 11 - onSendHookRunner - Should handle promises # time=2.425ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done (with promises)
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 12 - onSendHookRunner - In case of error should skip to done (with promises) # time=2.295ms
    
    # Subtest: onSendHookRunner - Be able to exit before its natural end
        1..2
        ok 1 - should be equivalent
        ok 2 - should be equivalent
    ok 13 - onSendHookRunner - Be able to exit before its natural end # time=2.96ms
    
    1..13
    # time=77.239ms
ok 53 - test/internals/hookRunner.test.js # time=77.239ms

# Subtest: test/internals/hooks.test.js
    # Subtest: hooks should have 4 array with the registered hooks
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        1..8
    ok 1 - hooks should have 4 array with the registered hooks # time=6.004ms
    
    # Subtest: hooks.add should add a hook to the given hook
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        1..14
    ok 2 - hooks.add should add a hook to the given hook # time=3.454ms
    
    # Subtest: hooks should throw on unexisting handler
        1..1
        ok 1 - (unnamed test)
    ok 3 - hooks should throw on unexisting handler # time=0.808ms
    
    # Subtest: should throw on wrong parameters
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 4 - should throw on wrong parameters # time=1.352ms
    
    1..4
    # time=36.6ms
ok 54 - test/internals/hooks.test.js # time=36.6ms

# Subtest: test/internals/initialConfig.test.js
    # Subtest: Fastify.initialConfig is an object
        1..1
        ok 1 - type is object
    ok 1 - Fastify.initialConfig is an object # time=10.379ms
    
    # Subtest: without options passed to Fastify, initialConfig should expose default values
        1..1
        ok 1 - should be equivalent
    ok 2 - without options passed to Fastify, initialConfig should expose default values # time=5.64ms
    
    # Subtest: Fastify.initialConfig should expose all options
        1..20
        ok 1 - should be equal
        ok 2 - for security reason the key cert is hidden
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - expect truthy value
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equal
    ok 3 - Fastify.initialConfig should expose all options # time=7.685ms
    
    # Subtest: Should throw if you try to modify Fastify.initialConfig
        1..4
        ok 1 - type is TypeError
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - (unnamed test)
    ok 4 - Should throw if you try to modify Fastify.initialConfig # time=2.452ms
    
    # Subtest: We must avoid shallow freezing and ensure that the whole object is freezed
        1..4
        ok 1 - type is TypeError
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - key cert removed
    ok 5 - We must avoid shallow freezing and ensure that the whole object is freezed # time=10.035ms
    
    # Subtest: https value check
        1..1
        ok 1 - expect falsey value
    ok 6 - https value check # time=1.158ms
    
    # Subtest: Return an error if options do not match the validation schema
        1..6
        ok 1 - type is Error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
        ok 6 - (unnamed test)
    ok 7 - Return an error if options do not match the validation schema # time=40.756ms
    
    # Subtest: Original options must not be frozen
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - Original options must not be frozen # time=2.105ms
    
    # Subtest: Original options must not be altered (test deep cloning)
        1..3
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 9 - Original options must not be altered (test deep cloning) # time=3.406ms
    
    # Subtest: Should not have issues when passing stream options to Pino.js
        1..15
        ok 1 - type is object
        ok 2 - should be equivalent
        ok 3 - listen at log message is ok
        ok 4 - should not error
        ok 5 - reqId is defined
        ok 6 - req is defined
        ok 7 - message is set
        ok 8 - method is get
        ok 9 - expect truthy value
        ok 10 - should be equal
        ok 11 - reqId is defined
        ok 12 - res is defined
        ok 13 - message is set
        ok 14 - statusCode is 200
        ok 15 - responseTime is defined
    ok 10 - Should not have issues when passing stream options to Pino.js # time=27.834ms
    
    # Subtest: deepFreezeObject() should not throw on TypedArray
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - (unnamed test)
    ok 11 - deepFreezeObject() should not throw on TypedArray # time=1.321ms
    
    # Subtest: Fastify.initialConfig should accept the deprecated versioning option
        1..1
        ok 1 - should be equal
    ok 12 - Fastify.initialConfig should accept the deprecated versioning option # time=3.383ms
    
    # Subtest: pluginTimeout should be parsed correctly
        ok 1 - should be equal
        ok 2 - should be equal
        1..2
    ok 13 - pluginTimeout should be parsed correctly # time=2.073ms
    
    1..13
    # time=165.408ms
ok 55 - test/internals/initialConfig.test.js # time=165.408ms

./VariantsPureDep/fastify/variant8/fastify

> fastify@4.3.0 test
> npm run lint && npm run unit && npm run test:typescript


> fastify@4.3.0 lint
> npm run lint:standard && npm run lint:typescript && npm run lint:markdown


> fastify@4.3.0 lint:standard
> standard | snazzy

-----------------------------|---------|----------|---------|---------|-----------------------------
File                         | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s           
-----------------------------|---------|----------|---------|---------|-----------------------------
All files                    |   81.38 |    76.77 |    79.2 |   81.74 |                             
 fastify                     |   68.26 |    74.37 |   58.92 |   68.67 |                             
  fastify.js                 |   68.26 |    74.37 |   58.92 |   68.67 | ...,670-695,715-724,732-743 
 fastify/lib                 |   83.25 |    77.08 |   83.05 |   83.62 |                             
  contentTypeParser.js       |   92.85 |    97.45 |     100 |   92.35 | ...,233-236,244-245,270-271 
  context.js                 |     100 |    93.33 |     100 |     100 | 76                          
  decorate.js                |   92.85 |    88.23 |     100 |    92.3 | 23,41,61,129                
  error-handler.js           |    88.4 |    82.97 |   85.71 |    88.4 | 20,60-63,108-110,118        
  errors.js                  |     100 |      100 |     100 |     100 |                             
  fourOhFour.js              |   92.77 |      100 |   92.85 |   92.59 | 62-68                       
  handleRequest.js           |   95.45 |    94.11 |     100 |   96.82 | 97,137                      
  headRoute.js               |      20 |     12.5 |   33.33 |   14.28 | 4-21,26                     
  hooks.js                   |   97.52 |    94.82 |     100 |    98.3 | 190,235                     
  initialConfigValidation.js |     100 |      100 |     100 |     100 |                             
  logger.js                  |   96.49 |    93.33 |     100 |   96.36 | 22-23                       
  noop-set.js                |     100 |      100 |      60 |     100 |                             
  pluginOverride.js          |   95.12 |       85 |     100 |      95 | 55,75                       
  pluginUtils.js             |   94.59 |    84.21 |     100 |   95.16 | 19,111,118                  
  reply.js                   |   73.22 |    66.05 |   70.37 |   74.15 | ...,659,710,716-721,762-780 
  reqIdGenFactory.js         |     100 |      100 |     100 |     100 |                             
  request.js                 |      50 |    14.06 |   43.33 |   50.96 | ...,142,157-176,206,211-291 
  route.js                   |   84.54 |    83.15 |   91.66 |   84.78 | ...,465,498,515-516,520-533 
  schema-controller.js       |   89.74 |    79.41 |   76.92 |   89.74 | 23,58,67-71                 
  schemas.js                 |   85.29 |    84.12 |   88.88 |   86.56 | 28,32,43,55,65,116,146-149  
  server.js                  |   70.37 |     55.2 |   83.33 |   71.25 | ...,192,199-200,294,305-329 
  symbols.js                 |     100 |      100 |     100 |     100 |                             
  validation.js              |   89.85 |    77.58 |     100 |   92.18 | 22,46,109-111               
  warnings.js                |     100 |      100 |     100 |     100 |                             
  wrapThenable.js            |   66.66 |       80 |     100 |   66.66 | 11,27-28,33-34              
-----------------------------|---------|----------|---------|---------|-----------------------------

> fastify@4.3.0 lint:typescript
> eslint -c types/.eslintrc.json types/**/*.d.ts test/types/**/*.test-d.ts


> fastify@4.3.0 lint:markdown
> markdownlint-cli2

markdownlint-cli2 v0.4.0 (markdownlint v0.25.1)

> fastify@4.3.0 unit
> tap

TAP version 13
# Subtest: test/404s.test.js
    # Subtest: default 404
        1..4
        ok 1 - should not error
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - unsupported method # time=30.22ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - framework-unsupported method # time=7.943ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - unsupported route # time=8.432ms
        
    ok 1 - default 404 # time=177.794ms
    
    # Subtest: customized 404
        1..6
        ok 1 - should not error
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - unsupported method # time=11.643ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - framework-unsupported method # time=4.145ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - unsupported route # time=5.563ms
        
        # Subtest: with error object
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - with error object # time=19.76ms
        
        # Subtest: error object with headers property
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 6 - error object with headers property # time=9.759ms
        
    ok 2 - customized 404 # time=70.176ms
    
    # Subtest: custom header in notFound handler
        1..2
        ok 1 - should not error
        # Subtest: not found with custom header
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
        ok 2 - not found with custom header # time=6.971ms
        
    ok 3 - custom header in notFound handler # time=25.763ms
    
    # Subtest: setting a custom 404 handler multiple times is an error
        1..5
        # Subtest: at the root level
            1..2
            ok 1 - type is Error
            ok 2 - should be equal
        ok 1 - at the root level # time=6.139ms
        
        # Subtest: at the plugin level
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 2 - at the plugin level # time=26.289ms
        
        # Subtest: at multiple levels
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 3 - at multiple levels # time=12.122ms
        
        # Subtest: at multiple levels / 2
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 4 - at multiple levels / 2 # time=13.137ms
        
        # Subtest: in separate plugins at the same level
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 5 - in separate plugins at the same level # time=21.564ms
        
    ok 4 - setting a custom 404 handler multiple times is an error # time=101.11ms
    
    # Subtest: encapsulated 404
        1..13
        ok 1 - should not error
        # Subtest: root unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - root unsupported method # time=50.129ms
        
        # Subtest: root framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - root framework-unsupported method # time=11.315ms
        
        # Subtest: root unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - root unsupported route # time=14.125ms
        
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 5 - unsupported method # time=5.721ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 6 - framework-unsupported method # time=13.209ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 7 - unsupported route # time=5.033ms
        
        # Subtest: unsupported method 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 8 - unsupported method 2 # time=12.907ms
        
        # Subtest: framework-unsupported method 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 9 - framework-unsupported method 2 # time=11.327ms
        
        # Subtest: unsupported route 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 10 - unsupported route 2 # time=21.456ms
        
        # Subtest: unsupported method 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 11 - unsupported method 3 # time=5.609ms
        
        # Subtest: framework-unsupported method 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 12 - framework-unsupported method 3 # time=5.069ms
        
        # Subtest: unsupported route 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 13 - unsupported route 3 # time=5.276ms
        
    ok 5 - encapsulated 404 # time=246.205ms
    
    # Subtest: custom 404 hook and handler context
        1..21
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should not error
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equal
    ok 6 - custom 404 hook and handler context # time=184.692ms
    
    # Subtest: encapsulated custom 404 without - prefix hook and handler context
        1..13
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equal
    ok 7 - encapsulated custom 404 without - prefix hook and handler context # time=46.22ms
    
    # Subtest: run hooks on default 404
        1..7
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - preHandler called
        ok 4 - onSend called
        ok 5 - onResponse called
        ok 6 - should not error
        ok 7 - should be equal
    ok 8 - run hooks on default 404 # time=54.776ms
    
    # Subtest: run non-encapsulated plugin hooks on default 404
        1..6
        ok 1 - onRequest called
        ok 2 - preHandler called
        ok 3 - onSend called
        ok 4 - onResponse called
        ok 5 - should not error
        ok 6 - should be equal
    ok 9 - run non-encapsulated plugin hooks on default 404 # time=33.09ms
    
    # Subtest: run non-encapsulated plugin hooks on custom 404
        1..11
        ok 1 - onRequest called
        ok 2 - onRequest called
        ok 3 - preHandler called
        ok 4 - preHandler called
        ok 5 - onSend called
        ok 6 - onSend called
        ok 7 - onResponse called
        ok 8 - onResponse called
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
    ok 10 - run non-encapsulated plugin hooks on custom 404 # time=37.534ms
    
    # Subtest: run hook with encapsulated 404
        1..11
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - onRequest 2 called
        ok 4 - preHandler called
        ok 5 - preHandler 2 called
        ok 6 - onSend called
        ok 7 - onSend 2 called
        ok 8 - onResponse called
        ok 9 - onResponse 2 called
        ok 10 - should not error
        ok 11 - should be equal
    ok 11 - run hook with encapsulated 404 # time=14.476ms
    
    # Subtest: run hook with encapsulated 404 and framework-unsupported method
        1..11
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - onRequest 2 called
        ok 4 - preHandler called
        ok 5 - preHandler 2 called
        ok 6 - onSend called
        ok 7 - onSend 2 called
        ok 8 - onResponse called
        ok 9 - onResponse 2 called
        ok 10 - should not error
        ok 11 - should be equal
    ok 12 - run hook with encapsulated 404 and framework-unsupported method # time=13.873ms
    
    # Subtest: hooks check 404
        1..13
        ok 1 - should not error
        ok 2 - onRequest
        ok 3 - should be equivalent
        ok 4 - onSend
        ok 5 - onResponse
        ok 6 - onRequest
        ok 7 - should be equivalent
        ok 8 - onSend
        ok 9 - onResponse
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should not error
        ok 13 - should be equal
    ok 13 - hooks check 404 # time=56.395ms
    
    # Subtest: setNotFoundHandler should not suppress duplicated routes checking
        1..1
        ok 1 - expect truthy value
    ok 14 - setNotFoundHandler should not suppress duplicated routes checking # time=3.906ms
    
    # Subtest: log debug for 404
        1..1
        # Subtest: log debug
            1..7
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
        ok 1 - log debug # time=37.235ms
        
    ok 15 - log debug for 404 # time=44.66ms
    
    # Subtest: Unknown method
        1..5
        ok 1 - should not error
        ok 2 - expected to throw
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent strictly
    ok 16 - Unknown method # time=50.55ms
    
    # Subtest: recognizes errors from the http-errors module
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent strictly
    ok 17 - recognizes errors from the http-errors module # time=36.132ms
    
    # Subtest: the default 404 handler can be invoked inside a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
    ok 18 - the default 404 handler can be invoked inside a prefixed plugin # time=18.469ms
    
    # Subtest: an inherited custom 404 handler can be invoked inside a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - an inherited custom 404 handler can be invoked inside a prefixed plugin # time=51.454ms
    
    # Subtest: encapsulated custom 404 handler without a prefix is the handler for the entire 404 level
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 20 - encapsulated custom 404 handler without a prefix is the handler for the entire 404 level # time=19.453ms
    
    # Subtest: cannot set notFoundHandler after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 21 - cannot set notFoundHandler after binding # time=5.01ms
    
    # Subtest: 404 inside onSend
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 22 - 404 inside onSend # time=8.072ms
    
    # Subtest: onSend hooks run when an encapsulated route invokes the notFound handler
        1..3
        ok 1 - onSend hook called
        ok 2 - should not error
        ok 3 - should be equal
    ok 23 - onSend hooks run when an encapsulated route invokes the notFound handler # time=6.312ms
    
    # Subtest: preHandler option for setNotFoundHandler
        1..10
        # Subtest: preHandler option
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 1 - preHandler option # time=37.82ms
        
        # Subtest: preHandler hook in setNotFoundHandler should be called when callNotFound
            1..3
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 2 - preHandler hook in setNotFoundHandler should be called when callNotFound # time=24.777ms
        
        # Subtest: preHandler hook in setNotFoundHandler should accept an array of functions and be called when callNotFound
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 3 - preHandler hook in setNotFoundHandler should accept an array of functions and be called when callNotFound # time=6.641ms
        
        # Subtest: preHandler option should be called after preHandler hook
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 4 - preHandler option should be called after preHandler hook # time=5.485ms
        
        # Subtest: preHandler option should be unique per prefix
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 5 - preHandler option should be unique per prefix # time=10.658ms
        
        # Subtest: preHandler option should handle errors
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 6 - preHandler option should handle errors # time=5.818ms
        
        # Subtest: preHandler option should handle errors with custom status code
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 7 - preHandler option should handle errors with custom status code # time=5.909ms
        
        # Subtest: preHandler option could accept an array of functions
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 8 - preHandler option could accept an array of functions # time=5.199ms
        
        # Subtest: preHandler option does not interfere with preHandler
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 9 - preHandler option does not interfere with preHandler # time=10.05ms
        
        # Subtest: preHandler option should keep the context
            1..3
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 10 - preHandler option should keep the context # time=6.249ms
        
    ok 24 - preHandler option for setNotFoundHandler # time=136.304ms
    
    # Subtest: reply.notFound invoked the notFound handler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - reply.notFound invoked the notFound handler # time=5.486ms
    
    # Subtest: The custom error handler should be invoked after the custom not found handler
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - type is Error
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 26 - The custom error handler should be invoked after the custom not found handler # time=6.743ms
    
    # Subtest: If the custom not found handler does not use an Error, the custom error handler should not be called
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 27 - If the custom not found handler does not use an Error, the custom error handler should not be called # time=4.762ms
    
    # Subtest: preValidation option
        1..3
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 28 - preValidation option # time=9.533ms
    
    # Subtest: preValidation option could accept an array of functions
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 29 - preValidation option could accept an array of functions # time=5.645ms
    
    # Subtest: Should fail to invoke callNotFound inside a 404 handler
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 30 - Should fail to invoke callNotFound inside a 404 handler # time=28.532ms
    
    # Subtest: 400 in case of bad url (pre find-my-way v2.2.0 was a 404)
        # Subtest: Dynamic route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 1 - Dynamic route # time=44.119ms
        
        # Subtest: Wildcard
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - Wildcard # time=6.456ms
        
        # Subtest: No route registered
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - No route registered # time=5.571ms
        
        # Subtest: Only / is registered
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - Only / is registered # time=24.87ms
        
        # Subtest: customized 404
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - customized 404 # time=16.294ms
        
        1..5
    ok 31 - 400 in case of bad url (pre find-my-way v2.2.0 was a 404) # time=113.567ms
    
    # Subtest: setNotFoundHandler should be chaining fastify instance
        # Subtest: Register route after setNotFoundHandler
            1..6
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should not error
            ok 5 - should be equal
            ok 6 - should be equal
        ok 1 - Register route after setNotFoundHandler # time=10.036ms
        
        1..1
    ok 32 - setNotFoundHandler should be chaining fastify instance # time=37.999ms
    
    # Subtest: Send 404 when frameworkError calls reply.callNotFound
        # Subtest: Dynamic route
            1..4
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 1 - Dynamic route # time=6.63ms
        
        1..1
    ok 33 - Send 404 when frameworkError calls reply.callNotFound # time=12.046ms
    
    1..33
    # time=1726.636ms
ok 1 - test/404s.test.js # time=1726.636ms

# Subtest: test/500s.test.js
    # Subtest: default 500
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - default 500 # time=106.381ms
    
    # Subtest: custom 500
        1..6
        ok 1 - type is object
        ok 2 - type is Request
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 2 - custom 500 # time=17.233ms
    
    # Subtest: encapsulated 500
        1..10
        ok 1 - type is object
        ok 2 - type is Request
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 3 - encapsulated 500 # time=40.562ms
    
    # Subtest: custom 500 with hooks
        1..7
        ok 1 - onRequest
        ok 2 - onSend
        ok 3 - onResponse
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 4 - custom 500 with hooks # time=10.248ms
    
    # Subtest: cannot set errorHandler after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 5 - cannot set errorHandler after binding # time=28.08ms
    
    1..5
    # time=232.143ms
ok 2 - test/500s.test.js # time=232.143ms

# Subtest: test/allowUnsafeRegex.test.js
    # Subtest: allow unsafe regex
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - allow unsafe regex # time=69.727ms
    
    # Subtest: allow unsafe regex not match
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 2 - allow unsafe regex not match # time=13.233ms
    
    # Subtest: allow unsafe regex not safe
        1..1
        ok 1 - expected to throw
    ok 3 - allow unsafe regex not safe # time=83.458ms
    
    # Subtest: allow unsafe regex not safe by default
        1..1
        ok 1 - expected to throw
    ok 4 - allow unsafe regex not safe by default # time=3.124ms
    
    # Subtest: allow unsafe regex allow unsafe
        1..5
        ok 1 - expected to not throw
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 5 - allow unsafe regex allow unsafe # time=34.949ms
    
    1..5
    # time=228.391ms
ok 3 - test/allowUnsafeRegex.test.js # time=228.391ms

# Subtest: test/als.test.js
    ok 1 - should not error
    ok 2 - expect truthy value
    ok 3 - should not error
    ok 4 - should be equal
    ok 5 - should be equivalent
    ok 6 - expect truthy value
    ok 7 - should not error
    ok 8 - should be equal
    ok 9 - should be equivalent
    ok 10 - expect truthy value
    ok 11 - should not error
    ok 12 - should be equal
    ok 13 - should be equivalent
    1..13
    # time=50.359ms
ok 4 - test/als.test.js # time=50.359ms

# Subtest: test/async-await.test.js
    # Subtest: async await
        1..11
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 1 - async await # time=316.934ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (undefined)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 2 - ignore the result of the promise if reply.send is called beforehand (undefined) # time=11.622ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (object)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 3 - ignore the result of the promise if reply.send is called beforehand (object) # time=30.123ms
    
    # Subtest: server logs an error if reply.send is called and a value is returned via async/await
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 4 - server logs an error if reply.send is called and a value is returned via async/await # time=90.904ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (undefined)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 5 - ignore the result of the promise if reply.send is called beforehand (undefined) # time=10.702ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (object)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 6 - ignore the result of the promise if reply.send is called beforehand (object) # time=13.919ms
    
    # Subtest: await reply if we will be calling reply.send in the future
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 7 - await reply if we will be calling reply.send in the future # time=9.848ms
    
    # Subtest: await reply if we will be calling reply.send in the future (error case)
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 8 - await reply if we will be calling reply.send in the future (error case) # time=11.727ms
    
    # Subtest: support reply decorators with await
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 9 - support reply decorators with await # time=9.669ms
    
    # Subtest: inject async await
        1..1
        ok 1 - should be equivalent
    ok 10 - inject async await # time=7.861ms
    
    # Subtest: inject async await - when the server equal up
        1..2
        ok 1 - should be equivalent
        ok 2 - should be equivalent
    ok 11 - inject async await - when the server equal up # time=212.123ms
    
    # Subtest: async await plugin
        1..1
        ok 1 - should be equivalent
    ok 12 - async await plugin # time=210.206ms
    
    # Subtest: does not call reply.send() twice if 204 response equal already sent
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - does not call reply.send() twice if 204 response equal already sent # time=17.354ms
    
    # Subtest: promise was fulfilled with undefined
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - promise was fulfilled with undefined # time=15.351ms
    
    # Subtest: error is not logged because promise was fulfilled with undefined but response was sent before promise resolution
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 15 - error is not logged because promise was fulfilled with undefined but response was sent before promise resolution # time=9.539ms
    
    # Subtest: Thrown Error instance sets HTTP status code
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - Thrown Error instance sets HTTP status code # time=6.952ms
    
    # Subtest: customErrorHandler support
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 17 - customErrorHandler support # time=6.233ms
    
    # Subtest: customErrorHandler support without throwing
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - customErrorHandler support without throwing # time=15.985ms
    
    # Subtest: customErrorHandler only called if reply not already sent
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - customErrorHandler only called if reply not already sent # time=9.409ms
    
    # Subtest: setNotFoundHandler should accept return value
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - setNotFoundHandler should accept return value # time=6.87ms
    
    # Subtest: customErrorHandler should accept return value
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 21 - customErrorHandler should accept return value # time=7.545ms
    
    # Subtest: await self
        ok 1 - should be equal
        1..1
    ok 22 - await self # time=3.379ms
    
    1..22
    # time=1057.412ms
ok 5 - test/async-await.test.js # time=1057.412ms

# Subtest: test/bodyLimit.test.js
    # Subtest: bodyLimit
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should not error
        ok 5 - should be equal
    ok 1 - bodyLimit # time=43.357ms
    
    1..1
    # time=53.075ms
ok 6 - test/bodyLimit.test.js # time=53.075ms

# Subtest: test/build/error-serializer.test.js
    # Subtest: check generated code syntax
        1..1
        ok 1 - should be equal
    ok 1 - check generated code syntax # time=4049.236ms
    
    ok 2 - ensure the current error serializer is latest # SKIP
    1..2
    # skip: 1
    # time=4142.05ms
ok 7 - test/build/error-serializer.test.js # time=4142.05ms

# Subtest: test/build/version.test.js
    # Subtest: should be the same as package.json
        1..1
        ok 1 - should be equal
    ok 1 - should be the same as package.json # time=6.93ms
    
    1..1
    # time=13.598ms
ok 8 - test/build/version.test.js # time=13.598ms

# Subtest: test/case-insensitive.test.js
    # Subtest: case insensitive
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - case insensitive # time=72.939ms
    
    # Subtest: case insensitive inject
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - case insensitive inject # time=31.214ms
    
    # Subtest: case insensitive (parametric)
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 3 - case insensitive (parametric) # time=11.494ms
    
    # Subtest: case insensitive (wildcard)
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 4 - case insensitive (wildcard) # time=45.372ms
    
    1..4
    # time=174.181ms
ok 9 - test/case-insensitive.test.js # time=174.181ms

# Subtest: test/chainable.test.js
    # Subtest: chainable - get
        1..1
        ok 1 - type is [object Object]
    ok 1 - chainable - get # time=10.493ms
    
    # Subtest: chainable - post
        1..1
        ok 1 - type is [object Object]
    ok 2 - chainable - post # time=2.712ms
    
    # Subtest: chainable - route
        1..1
        ok 1 - type is [object Object]
    ok 3 - chainable - route # time=2.636ms
    
    1..3
    # time=29.301ms
ok 10 - test/chainable.test.js # time=29.301ms

# Subtest: test/close-pipelining.test.js
    # Subtest: Should return 503 while closing - pipelining
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        1..3
    ok 1 - Should return 503 while closing - pipelining # time=181.703ms
    
    # Subtest: Should not return 503 while closing - pipelining - return503OnClosing
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        1..3
    ok 2 - Should not return 503 while closing - pipelining - return503OnClosing # time=37.166ms
    
    1..2
    # time=251.46ms
ok 11 - test/close-pipelining.test.js # time=251.46ms

# Subtest: test/close.test.js
    # Subtest: close callback
        1..4
        ok 1 - should not error
        ok 2 - type is [object Object]
        ok 3 - should not error
        ok 4 - expect truthy value
    ok 1 - close callback # time=84.13ms
    
    # Subtest: inside register
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - expect truthy value
    ok 2 - inside register # time=30.101ms
    
    # Subtest: close order
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 3 - close order # time=35.724ms
    
    # Subtest: close order - async
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 4 - close order - async # time=16.943ms
    
    # Subtest: should not throw an error if the server is not listening
        1..2
        ok 1 - type is [object Object]
        ok 2 - should not error
    ok 5 - should not throw an error if the server is not listening # time=21.722ms
    
    # Subtest: onClose should keep the context
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
    ok 6 - onClose should keep the context # time=10.975ms
    
    # Subtest: Should return error while closing (promise) - injection
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 7 - Should return error while closing (promise) - injection # time=74.36ms
    
    # Subtest: Should return error while closing (callback) - injection
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 8 - Should return error while closing (callback) - injection # time=126.062ms
    
    # Subtest: Current opened connection should continue to work after closing and return "connection: close" header - return503OnClosing: false
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        1..5
    ok 9 - Current opened connection should continue to work after closing and return "connection: close" header - return503OnClosing: false # time=28.474ms
    
    # Subtest: Current opened connection should not accept new incoming connections
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 10 - Current opened connection should not accept new incoming connections # time=271.572ms
    
    # Subtest: Cannot be reopened the closed server without listen callback
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 11 - Cannot be reopened the closed server without listen callback # time=22.803ms
    
    # Subtest: Cannot be reopened the closed server has listen callback
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 12 - Cannot be reopened the closed server has listen callback # time=10.893ms
    
    ok 13 - shutsdown while keep-alive connections are active (non-async, native) # SKIP
    ok 14 - shutsdown while keep-alive connections are active (non-async, idle, native) # SKIP
    # Subtest: shutsdown while keep-alive connections are active (non-async, custom)
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 15 - shutsdown while keep-alive connections are active (non-async, custom) # time=10.109ms
    
    1..15
    # skip: 2
    # time=762.032ms
ok 12 - test/close.test.js # time=762.032ms

# Subtest: test/connectionTimeout.test.js
    # Subtest: connectionTimeout
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 1 - connectionTimeout # time=49.69ms
    
    1..1
    # time=56.159ms
ok 13 - test/connectionTimeout.test.js # time=56.159ms

# Subtest: test/constrained-routes.test.js
    # Subtest: Should register a host constrained route
        1..7
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 1 - Should register a host constrained route # time=99.892ms
    
    # Subtest: Should register the same route with host constraints
        1..8
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 2 - Should register the same route with host constraints # time=12.122ms
    
    # Subtest: Should allow registering custom constrained routes
        1..8
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 3 - Should allow registering custom constrained routes # time=32.77ms
    
    # Subtest: Should allow registering custom constrained routes outside constructor
        1..8
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 4 - Should allow registering custom constrained routes outside constructor # time=19.931ms
    
    # Subtest: Add a constraint strategy after fastify instance was started
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - Cannot add constraint strategy when fastify instance is already started!
    ok 5 - Add a constraint strategy after fastify instance was started # time=14.187ms
    
    # Subtest: Add a constraint strategy should throw an error if there already exist custom strategy with the same name
        1..1
        ok 1 - There already exists a custom constraint with the name secret.
    ok 6 - Add a constraint strategy should throw an error if there already exist custom strategy with the same name # time=1.689ms
    
    # Subtest: Add a constraint strategy shouldn't throw an error if default constraint with the same name isn't used
        1..1
        ok 1 - (unnamed test)
    ok 7 - Add a constraint strategy shouldn't throw an error if default constraint with the same name isn't used # time=1.387ms
    
    # Subtest: Add a constraint strategy should throw an error if default constraint with the same name is used
        1..1
        ok 1 - There already exists a route with version constraint.
    ok 8 - Add a constraint strategy should throw an error if default constraint with the same name is used # time=2.506ms
    
    # Subtest: The hasConstraintStrategy should return false for default constraints until they are used
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 9 - The hasConstraintStrategy should return false for default constraints until they are used # time=4.403ms
    
    # Subtest: The hasConstraintStrategy should return true if there already exist a custom constraint with the same name
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 10 - The hasConstraintStrategy should return true if there already exist a custom constraint with the same name # time=2.509ms
    
    # Subtest: Should allow registering an unconstrained route after a constrained route
        1..6
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
    ok 11 - Should allow registering an unconstrained route after a constrained route # time=10.665ms
    
    # Subtest: Should allow registering constrained routes in a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 12 - Should allow registering constrained routes in a prefixed plugin # time=13.073ms
    
    # Subtest: Should allow registering a constrained GET route after a constrained HEAD route
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 13 - Should allow registering a constrained GET route after a constrained HEAD route # time=13.839ms
    
    # Subtest: Should allow registering a constrained GET route after an unconstrained HEAD route
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 14 - Should allow registering a constrained GET route after an unconstrained HEAD route # time=5.645ms
    
    # Subtest: Will not try to re-createprefixed HEAD route if it already exists and exposeHeadRoutes is true for constrained routes
        1..1
        ok 1 - expect truthy value
    ok 15 - Will not try to re-createprefixed HEAD route if it already exists and exposeHeadRoutes is true for constrained routes # time=6.272ms
    
    # Subtest: allows separate constrained and unconstrained HEAD routes
        1..1
        ok 1 - expect truthy value
    ok 16 - allows separate constrained and unconstrained HEAD routes # time=5.09ms
    
    1..16
    # time=267.725ms
ok 14 - test/constrained-routes.test.js # time=267.725ms

# Subtest: test/content-length.test.js
    # Subtest: default 413 with bodyLimit option
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - default 413 with bodyLimit option # time=75.637ms
    
    # Subtest: default 400 with wrong content-length
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - default 400 with wrong content-length # time=14.985ms
    
    # Subtest: custom 413 with bodyLimit option
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 3 - custom 413 with bodyLimit option # time=25.837ms
    
    # Subtest: custom 400 with wrong content-length
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 4 - custom 400 with wrong content-length # time=12.161ms
    
    # Subtest: \#2214 - wrong content-length
        ok 1 - should be equal
        1..1
    ok 5 - \#2214 - wrong content-length # time=10.993ms
    
    # Subtest: \#2543 - wrong content-length with errorHandler
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 6 - \#2543 - wrong content-length with errorHandler # time=7.545ms
    
    1..6
    # time=156.989ms
ok 15 - test/content-length.test.js # time=156.989ms

# Subtest: test/content-parser.test.js
    # Subtest: hasContentTypeParser
        1..0
    ok 1 - hasContentTypeParser # time=12.098ms
    
    # Subtest: should know about internal parsers
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
    ok 2 - should know about internal parsers # time=41.536ms
    
    # Subtest: should work with string and RegExp
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect falsey value
    ok 3 - should work with string and RegExp # time=4.512ms
    
    # Subtest: getParser
        1..0
    ok 4 - getParser # time=91.747ms
    
    # Subtest: existingParser
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect falsey value
        1..7
    ok 5 - existingParser # time=14.455ms
    
    # Subtest: add
        1..0
    ok 6 - add # time=9.083ms
    
    # Subtest: non-Error thrown from content parser is properly handled
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 7 - non-Error thrown from content parser is properly handled # time=45.654ms
    
    # Subtest: Error thrown 415 from content type is null and make post request to server
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 8 - Error thrown 415 from content type is null and make post request to server # time=10.701ms
    
    # Subtest: remove
        1..0
    ok 9 - remove # time=17.332ms
    
    # Subtest: remove all should remove all existing parsers and reset cache
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
    ok 10 - remove all should remove all existing parsers and reset cache # time=8.739ms
    
    # Subtest: should return matching parser
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 11 - should return matching parser # time=3.109ms
    
    # Subtest: should return matching parser with caching
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 12 - should return matching parser with caching # time=3.566ms
    
    # Subtest: should prefer content type parser with string value
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 13 - should prefer content type parser with string value # time=3.021ms
    
    # Subtest: should return parser that catches all if no other is set
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 14 - should return parser that catches all if no other is set # time=3.667ms
    
    # Subtest: should return undefined if no matching parser exist
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 15 - should return undefined if no matching parser exist # time=2.842ms
    
    # Subtest: returns always false for "*"
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 16 - returns always false for "*" # time=2.062ms
    
    # Subtest: let you override the default parser once
        1..2
        ok 1 - Content type parser 'application/json' already present
        ok 2 - Content type parser 'text/plain' already present
    ok 17 - let you override the default parser once # time=5.492ms
    
    # Subtest: should only accept string and RegExp
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - The content type should be a string or a RegExp
        ok 4 - The content type should be a string or a RegExp
    ok 18 - should only accept string and RegExp # time=4.211ms
    
    # Subtest: should set "*" as parser that catches all
        1..1
        ok 1 - should be equal
    ok 19 - should set "*" as parser that catches all # time=1.687ms
    
    # Subtest: should remove default parser
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 20 - should remove default parser # time=1.875ms
    
    # Subtest: should remove RegExp parser
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 21 - should remove RegExp parser # time=1.892ms
    
    # Subtest: should throw an error if content type is neither string nor RegExp
        1..1
        ok 1 - expected to throw
    ok 22 - should throw an error if content type is neither string nor RegExp # time=2.193ms
    
    # Subtest: should not throw error if content type does not exist
        1..1
        ok 1 - expected to not throw
    ok 23 - should not throw error if content type does not exist # time=1.604ms
    
    # Subtest: should not remove any content type parser if content type does not exist
        1..1
        ok 1 - should be equivalent
    ok 24 - should not remove any content type parser if content type does not exist # time=1.48ms
    
    1..24
    # time=314.292ms
ok 16 - test/content-parser.test.js # time=314.292ms

# Subtest: test/context-config.test.js
    # Subtest: config
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 1 - config # time=83.908ms
    
    # Subtest: config with exposeHeadRoutes
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 2 - config with exposeHeadRoutes # time=17.12ms
    
    # Subtest: config without exposeHeadRoutes
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 3 - config without exposeHeadRoutes # time=32.134ms
    
    1..3
    # time=163.569ms
ok 17 - test/context-config.test.js # time=163.569ms

# Subtest: test/custom-http-server.test.js
    # Subtest: Should support a custom http server
        1..4
        ok 1 - it is called twice for every HOST interface
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - Should support a custom http server # time=66.362ms
    
    # Subtest: Should not allow forceCloseConnection=idle if the server does not support closeIdleConnections
        1..1
        ok 1 - Cannot set forceCloseConnections to 'idle' as your HTTP server does not support closeIdleConnections method
    ok 2 - Should not allow forceCloseConnection=idle if the server does not support closeIdleConnections # time=3.707ms
    
    1..2
    # time=77.817ms
ok 18 - test/custom-http-server.test.js # time=77.817ms

# Subtest: test/custom-parser-async.test.js
    # Subtest: contentTypeParser should add a custom async parser
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=34.858ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=12.959ms
        
    ok 1 - contentTypeParser should add a custom async parser # time=115.965ms
    
    1..1
    # time=121.61ms
ok 19 - test/custom-parser-async.test.js # time=121.61ms

# Subtest: test/custom-parser.test.js
    # Subtest: contentTypeParser method should exist
        1..1
        ok 1 - expect truthy value
    ok 1 - contentTypeParser method should exist # time=20.295ms
    
    # Subtest: contentTypeParser should add a custom parser
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=27.741ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=6.875ms
        
    ok 2 - contentTypeParser should add a custom parser # time=240.441ms
    
    # Subtest: contentTypeParser should handle multiple custom parsers
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 3 - contentTypeParser should handle multiple custom parsers # time=14.58ms
    
    # Subtest: contentTypeParser should handle an array of custom contentTypes
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 4 - contentTypeParser should handle an array of custom contentTypes # time=39.811ms
    
    # Subtest: contentTypeParser should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 5 - contentTypeParser should handle errors # time=11.503ms
    
    # Subtest: contentTypeParser should support encapsulation
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - expect falsey value
        ok 6 - expect falsey value
    ok 6 - contentTypeParser should support encapsulation # time=9.386ms
    
    # Subtest: contentTypeParser should support encapsulation, second try
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - contentTypeParser should support encapsulation, second try # time=15.692ms
    
    # Subtest: contentTypeParser shouldn't support request with undefined "Content-Type"
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 8 - contentTypeParser shouldn't support request with undefined "Content-Type" # time=11.528ms
    
    # Subtest: the content type should be a string or RegExp
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 9 - the content type should be a string or RegExp # time=2.232ms
    
    # Subtest: the content type cannot be an empty string
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 10 - the content type cannot be an empty string # time=8.414ms
    
    # Subtest: the content type handler should be a function
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 11 - the content type handler should be a function # time=2.21ms
    
    # Subtest: catch all content type parser
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 12 - catch all content type parser # time=12.258ms
    
    # Subtest: catch all content type parser should not interfere with other conte type parsers
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 13 - catch all content type parser should not interfere with other conte type parsers # time=14.741ms
    
    # Subtest: '*' catch undefined Content-Type requests
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - '*' catch undefined Content-Type requests # time=26.597ms
    
    # Subtest: cannot add custom parser after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 15 - cannot add custom parser after binding # time=6.779ms
    
    # Subtest: Can override the default json parser
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 16 - Can override the default json parser # time=29.472ms
    
    # Subtest: Can override the default plain text parser
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 17 - Can override the default plain text parser # time=15.995ms
    
    # Subtest: Can override the default json parser in a plugin
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 18 - Can override the default json parser in a plugin # time=19.867ms
    
    # Subtest: Can't override the json parser multiple times
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 19 - Can't override the json parser multiple times # time=2.238ms
    
    # Subtest: Can't override the plain text parser multiple times
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 20 - Can't override the plain text parser multiple times # time=2.979ms
    
    # Subtest: Should get the body as string
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 21 - Should get the body as string # time=9.651ms
    
    # Subtest: Should return defined body with no custom parser defined and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 22 - Should return defined body with no custom parser defined and content type = 'text/plain' # time=16.045ms
    
    # Subtest: Should have typeof body object with no custom parser defined, no body defined and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 23 - Should have typeof body object with no custom parser defined, no body defined and content type = 'text/plain' # time=7.281ms
    
    # Subtest: Should have typeof body object with no custom parser defined, null body and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 24 - Should have typeof body object with no custom parser defined, null body and content type = 'text/plain' # time=7.039ms
    
    # Subtest: Should have typeof body object with no custom parser defined, undefined body and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 25 - Should have typeof body object with no custom parser defined, undefined body and content type = 'text/plain' # time=16.119ms
    
    # Subtest: Should get the body as string
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 26 - Should get the body as string # time=8.164ms
    
    # Subtest: Should get the body as buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 27 - Should get the body as buffer # time=8.687ms
    
    # Subtest: Should get the body as buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 28 - Should get the body as buffer # time=11.135ms
    
    # Subtest: Should parse empty bodies as a string
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 29 - Should parse empty bodies as a string # time=13.252ms
    
    # Subtest: Should parse empty bodies as a buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 30 - Should parse empty bodies as a buffer # time=8.395ms
    
    # Subtest: The charset should not interfere with the content type handling
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 31 - The charset should not interfere with the content type handling # time=7.488ms
    
    # Subtest: Wrong parseAs parameter
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 32 - Wrong parseAs parameter # time=2.023ms
    
    # Subtest: Should allow defining the bodyLimit per parser
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent strictly
    ok 33 - Should allow defining the bodyLimit per parser # time=9.758ms
    
    # Subtest: route bodyLimit should take precedence over a custom parser bodyLimit
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent strictly
    ok 34 - route bodyLimit should take precedence over a custom parser bodyLimit # time=11.395ms
    
    # Subtest: should be able to use default parser for extra content type
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent strictly
    ok 35 - should be able to use default parser for extra content type # time=8.162ms
    
    # Subtest: contentTypeParser should add a custom parser with RegExp value
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=5.715ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=4.476ms
        
    ok 36 - contentTypeParser should add a custom parser with RegExp value # time=17.473ms
    
    # Subtest: contentTypeParser should add multiple custom parsers with RegExp values
        1..6
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 37 - contentTypeParser should add multiple custom parsers with RegExp values # time=46.402ms
    
    # Subtest: catch all content type parser should not interfere with content type parser
        1..10
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 38 - catch all content type parser should not interfere with content type parser # time=14.021ms
    
    # Subtest: should prefer string content types over RegExp ones
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 39 - should prefer string content types over RegExp ones # time=10.54ms
    
    # Subtest: removeContentTypeParser should support arrays of content types to remove
        1..8
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 40 - removeContentTypeParser should support arrays of content types to remove # time=11.869ms
    
    # Subtest: removeContentTypeParser should support encapsulation
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 41 - removeContentTypeParser should support encapsulation # time=11.514ms
    
    # Subtest: removeAllContentTypeParsers should support encapsulation
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 42 - removeAllContentTypeParsers should support encapsulation # time=15.436ms
    
    # Subtest: cannot remove all content type parsers after binding
        1..2
        ok 1 - should not error
        ok 2 - expected to throw
    ok 43 - cannot remove all content type parsers after binding # time=4.541ms
    
    # Subtest: cannot remove content type parsers after binding
        1..2
        ok 1 - should not error
        ok 2 - expected to throw
    ok 44 - cannot remove content type parsers after binding # time=3.498ms
    
    # Subtest: should be able to override the default json parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 45 - should be able to override the default json parser after removeAllContentTypeParsers # time=6.99ms
    
    # Subtest: should be able to override the default plain text parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 46 - should be able to override the default plain text parser after removeAllContentTypeParsers # time=6.896ms
    
    # Subtest: should be able to add a custom content type parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 47 - should be able to add a custom content type parser after removeAllContentTypeParsers # time=7.735ms
    
    1..47
    # time=872.453ms
ok 20 - test/custom-parser.test.js # time=872.453ms

# Subtest: test/custom-querystring-parser.test.js
    # Subtest: Custom querystring parser
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 1 - Custom querystring parser # time=126.521ms
    
    # Subtest: Custom querystring parser should be called also if there is nothing to parse
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 2 - Custom querystring parser should be called also if there is nothing to parse # time=14.044ms
    
    # Subtest: Querystring without value
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 3 - Querystring without value # time=38.975ms
    
    # Subtest: Custom querystring parser should be a function
        1..1
        ok 1 - should be equal
    ok 4 - Custom querystring parser should be a function # time=1.019ms
    
    1..4
    # time=189.425ms
ok 21 - test/custom-querystring-parser.test.js # time=189.425ms

# Subtest: test/decorator.test.js
    # Subtest: server methods should exist
        1..2
        ok 1 - expect truthy value
        ok 2 - expect truthy value
    ok 1 - server methods should exist # time=15.051ms
    
    # Subtest: should check if the given decoration already exist when null
        1..1
        ok 1 - expect truthy value
    ok 2 - should check if the given decoration already exist when null # time=81.673ms
    
    # Subtest: server methods should be encapsulated via .register
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 3 - server methods should be encapsulated via .register # time=7.531ms
    
    # Subtest: hasServerMethod should check if the given method already exist
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 4 - hasServerMethod should check if the given method already exist # time=18.57ms
    
    # Subtest: decorate should throw if a declared dependency is not present
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - (unnamed test)
    ok 5 - decorate should throw if a declared dependency is not present # time=14.289ms
    
    # Subtest: decorate should throw if declared dependency is not array
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - (unnamed test)
    ok 6 - decorate should throw if declared dependency is not array # time=5.938ms
    
    # Subtest: should pass error for missing request decorator
        1..2
        ok 1 - type is Error
        ok 2 - should match pattern provided
    ok 7 - should pass error for missing request decorator # time=6.744ms
    
    # Subtest: decorateReply inside register
        1..11
        ok 1 - should not error
        ok 2 - test exists
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 8 - decorateReply inside register # time=43.331ms
    
    # Subtest: decorateReply as plugin (inside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 9 - decorateReply as plugin (inside .after) # time=22.375ms
    
    # Subtest: decorateReply as plugin (outside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 10 - decorateReply as plugin (outside .after) # time=18.388ms
    
    # Subtest: decorateRequest inside register
        1..11
        ok 1 - should not error
        ok 2 - test exists
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 11 - decorateRequest inside register # time=27.519ms
    
    # Subtest: decorateRequest as plugin (inside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 12 - decorateRequest as plugin (inside .after) # time=17.63ms
    
    # Subtest: decorateRequest as plugin (outside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 13 - decorateRequest as plugin (outside .after) # time=39.221ms
    
    # Subtest: decorators should be instance separated
        1..1
        ok 1 - (unnamed test)
    ok 14 - decorators should be instance separated # time=2.323ms
    
    # Subtest: hasRequestDecorator
        # Subtest: is a function
            1..1
            ok 1 - expect truthy value
        ok 1 - is a function # time=1.462ms
        
        # Subtest: should check if the given request decoration already exist
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 2 - should check if the given request decoration already exist # time=1.958ms
        
        # Subtest: should check if the given request decoration already exist when null
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 3 - should check if the given request decoration already exist when null # time=1.901ms
        
        # Subtest: should be plugin encapsulable
            1..4
            ok 1 - expect falsey value
            ok 2 - expect falsey value
            ok 3 - expect truthy value
            ok 4 - expect falsey value
        ok 4 - should be plugin encapsulable # time=10.567ms
        
        # Subtest: should be inherited
            1..2
            ok 1 - expect truthy value
            ok 2 - expect truthy value
        ok 5 - should be inherited # time=19.262ms
        
        1..5
    ok 15 - hasRequestDecorator # time=56.956ms
    
    # Subtest: hasReplyDecorator
        # Subtest: is a function
            1..1
            ok 1 - expect truthy value
        ok 1 - is a function # time=1.301ms
        
        # Subtest: should check if the given reply decoration already exist
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 2 - should check if the given reply decoration already exist # time=1.337ms
        
        # Subtest: should check if the given reply decoration already exist when null
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 3 - should check if the given reply decoration already exist when null # time=1.381ms
        
        # Subtest: should be plugin encapsulable
            1..4
            ok 1 - expect falsey value
            ok 2 - expect falsey value
            ok 3 - expect truthy value
            ok 4 - expect falsey value
        ok 4 - should be plugin encapsulable # time=11.402ms
        
        # Subtest: should be inherited
            1..2
            ok 1 - expect truthy value
            ok 2 - expect truthy value
        ok 5 - should be inherited # time=14.182ms
        
        1..5
    ok 16 - hasReplyDecorator # time=133.899ms
    
    # Subtest: should register properties via getter/setter objects
        1..3
        ok 1 - expect truthy value
        ok 2 - a getter
        ok 3 - expect falsey value
    ok 17 - should register properties via getter/setter objects # time=21.139ms
    
    # Subtest: decorateRequest should work with getter/setter
        1..5
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - (unnamed test)
    ok 18 - decorateRequest should work with getter/setter # time=79.029ms
    
    # Subtest: decorateReply should work with getter/setter
        1..5
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - (unnamed test)
    ok 19 - decorateReply should work with getter/setter # time=24.511ms
    
    # Subtest: should register empty values
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 20 - should register empty values # time=7.733ms
    
    # Subtest: nested plugins can override things
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 21 - nested plugins can override things # time=8.366ms
    
    # Subtest: a decorator should addSchema to all the encapsulated tree
        1..1
        ok 1 - should not error
    ok 22 - a decorator should addSchema to all the encapsulated tree # time=9.066ms
    
    # Subtest: after can access to a decorated instance and previous plugin decoration
        1..11
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
    ok 23 - after can access to a decorated instance and previous plugin decoration # time=9.04ms
    
    # Subtest: decorate* should throw if called after ready
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 24 - decorate* should throw if called after ready # time=8.115ms
    
    # Subtest: decorate* should emit warning if an array is passed
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 25 - decorate* should emit warning if an array is passed # time=29.605ms
    
    # Subtest: decorate* should emit warning if object type is passed
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 26 - decorate* should emit warning if object type is passed # time=22.804ms
    
    # Subtest: decorate* should not emit warning if object with getter/setter is passed
        1..0
    ok 27 - decorate* should not emit warning if object with getter/setter is passed # time=46.771ms
    
    # Subtest: decorate* should not emit warning if string,bool,numbers are passed
        1..0
    ok 28 - decorate* should not emit warning if string,bool,numbers are passed # time=23.693ms
    
    # Subtest: Request/reply decorators should be able to access the server instance
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not be equal
        ok 4 - should be equal
        ok 5 - should not be equal
        ok 6 - should be equal
    ok 29 - Request/reply decorators should be able to access the server instance # time=8.532ms
    
    # Subtest: plugin required decorators
        1..0
    ok 30 - plugin required decorators # time=3.763ms
    
    # Subtest: decorateRequest/decorateReply empty string
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 31 - decorateRequest/decorateReply empty string # time=23.901ms
    
    # Subtest: decorateRequest/decorateReply is undefined
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 32 - decorateRequest/decorateReply is undefined # time=7.808ms
    
    # Subtest: decorateRequest/decorateReply is not set to a value
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 33 - decorateRequest/decorateReply is not set to a value # time=24.568ms
    
    # Subtest: decorateRequest with dependencies
        1..2
        ok 1 - expected to not throw
        ok 2 - expect truthy value
    ok 34 - decorateRequest with dependencies # time=2.212ms
    
    # Subtest: decorateRequest with dependencies (functions)
        1..2
        ok 1 - expected to not throw
        ok 2 - expect truthy value
    ok 35 - decorateRequest with dependencies (functions) # time=1.788ms
    
    # Subtest: chain of decorators on Request
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        1..6
    ok 36 - chain of decorators on Request # time=17.942ms
    
    # Subtest: chain of decorators on Reply
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        1..6
    ok 37 - chain of decorators on Reply # time=15.218ms
    
    1..37
    # time=939.525ms
ok 22 - test/decorator.test.js # time=939.525ms

# Subtest: test/default-route.test.js
    # Subtest: should fail if defaultRoute is not a function
        1..1
        ok 1 - should be equal
    ok 1 - should fail if defaultRoute is not a function # time=22.35ms
    
    # Subtest: correctly sets, returns, and calls defaultRoute
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 2 - correctly sets, returns, and calls defaultRoute # time=41.644ms
    
    1..2
    # time=76.258ms
ok 23 - test/default-route.test.js # time=76.258ms

# Subtest: test/delete.test.js
    # Subtest: shorthand - delete
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - delete # time=10.212ms
    
    # Subtest: shorthand - delete params
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - delete params # time=2.506ms
    
    # Subtest: shorthand - delete, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - delete, querystring schema # time=1.983ms
    
    # Subtest: shorthand - get, headers schema
        1..1
        ok 1 - (unnamed test)
    ok 4 - shorthand - get, headers schema # time=1.479ms
    
    # Subtest: missing schema - delete
        1..1
        ok 1 - (unnamed test)
    ok 5 - missing schema - delete # time=1.41ms
    
    # Subtest: body - delete
        1..1
        ok 1 - (unnamed test)
    ok 6 - body - delete # time=1.096ms
    
    # Subtest: shorthand - delete with application/json Content-Type header and without body
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - shorthand - delete with application/json Content-Type header and without body # time=43.535ms
    
    ok 8 - should not error
    # Subtest: shorthand - request delete
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 9 - shorthand - request delete # time=37.298ms
    
    # Subtest: shorthand - request delete params schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 10 - shorthand - request delete params schema # time=7.525ms
    
    # Subtest: shorthand - request delete params schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 11 - shorthand - request delete params schema error # time=7.014ms
    
    # Subtest: shorthand - request delete headers schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 12 - shorthand - request delete headers schema # time=6.185ms
    
    # Subtest: shorthand - request delete headers schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 13 - shorthand - request delete headers schema error # time=5.59ms
    
    # Subtest: shorthand - request delete querystring schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 14 - shorthand - request delete querystring schema # time=6.133ms
    
    # Subtest: shorthand - request delete querystring schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 15 - shorthand - request delete querystring schema error # time=5.127ms
    
    # Subtest: shorthand - request delete missing schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 16 - shorthand - request delete missing schema # time=5.601ms
    
    # Subtest: shorthand - delete with body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - shorthand - delete with body # time=8.314ms
    
    1..17
    # time=331.047ms
ok 24 - test/delete.test.js # time=331.047ms

# Subtest: test/diagnostics-channel.test.js
    # Subtest: diagnostics_channel when present and subscribers
        1..3
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should be equal
    ok 1 - diagnostics_channel when present and subscribers # time=954.318ms
    
    # Subtest: diagnostics_channel when present and no subscribers
        1..1
        ok 1 - should be equal
    ok 2 - diagnostics_channel when present and no subscribers # time=20.887ms
    
    # Subtest: diagnostics_channel when not present
        1..1
        ok 1 - expected to not throw
    ok 3 - diagnostics_channel when not present # time=18.205ms
    
    1..3
    # time=1006.147ms
ok 25 - test/diagnostics-channel.test.js # time=1006.147ms

# Subtest: test/encapsulated-error-handler.test.js
    # Subtest: encapuslates an error handler
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 1 - encapuslates an error handler # time=66.962ms
    
    # Subtest: onError hook nested
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 2 - onError hook nested # time=12.152ms
    
    1..2
    # time=86.621ms
ok 26 - test/encapsulated-error-handler.test.js # time=86.621ms

# Subtest: test/esm/index.test.js
    # Subtest: named exports support
        ok 1 - should be equal
        1..1
    ok 1 - named exports support # time=41.843ms
    
    ok 2 - should be equal
    1..2
    # time=47.149ms
ok 27 - test/esm/index.test.js # time=47.149ms

# Subtest: test/fastify-instance.test.js
    # Subtest: root fastify instance is an object
        1..1
        ok 1 - type is object
    ok 1 - root fastify instance is an object # time=15.779ms
    
    # Subtest: fastify instance should contains ajv options
        1..1
        ok 1 - should be equivalent
    ok 2 - fastify instance should contains ajv options # time=6.589ms
    
    # Subtest: fastify instance should contains ajv options.plugins nested arrays
        1..1
        ok 1 - should be equivalent
    ok 3 - fastify instance should contains ajv options.plugins nested arrays # time=3.05ms
    
    # Subtest: fastify instance get invalid ajv options
        1..1
        ok 1 - expected to throw
    ok 4 - fastify instance get invalid ajv options # time=1.477ms
    
    # Subtest: fastify instance get invalid ajv options.plugins
        1..1
        ok 1 - expected to throw
    ok 5 - fastify instance get invalid ajv options.plugins # time=1.08ms
    
    # Subtest: fastify instance should contain default errorHandler
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 6 - fastify instance should contain default errorHandler # time=2.68ms
    
    # Subtest: errorHandler in plugin should be separate from the external one
        1..4
        ok 1 - should not be equivalent
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equivalent
    ok 7 - errorHandler in plugin should be separate from the external one # time=16.099ms
    
    1..7
    # time=72.717ms
ok 28 - test/fastify-instance.test.js # time=72.717ms

# Subtest: test/fluent-schema.test.js
    # Subtest: use fluent-json-schema object
        1..15
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equivalent
    ok 1 - use fluent-json-schema object # time=233.7ms
    
    # Subtest: use complex fluent-json-schema object
        1..1
        ok 1 - should not error
    ok 2 - use complex fluent-json-schema object # time=41.635ms
    
    # Subtest: use fluent schema and plain JSON schema
        1..1
        ok 1 - should not error
    ok 3 - use fluent schema and plain JSON schema # time=64.697ms
    
    # Subtest: Should call valueOf internally
        1..1
        ok 1 - should not error
    ok 4 - Should call valueOf internally # time=67.641ms
    
    1..4
    # time=422.912ms
ok 29 - test/fluent-schema.test.js # time=422.912ms

# Subtest: test/genReqId.test.js
    # Subtest: Should accept a custom genReqId function
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 1 - Should accept a custom genReqId function # time=66.324ms
    
    1..1
    # time=73.927ms
ok 30 - test/genReqId.test.js # time=73.927ms

# Subtest: test/get.test.js
    # Subtest: shorthand - get
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - get # time=9.593ms
    
    # Subtest: shorthand - get (return null)
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - get (return null) # time=2.173ms
    
    # Subtest: shorthand - get params
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - get params # time=2.404ms
    
    # Subtest: shorthand - get, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 4 - shorthand - get, querystring schema # time=1.992ms
    
    # Subtest: shorthand - get, headers schema
        1..1
        ok 1 - (unnamed test)
    ok 5 - shorthand - get, headers schema # time=2.387ms
    
    # Subtest: missing schema - get
        1..1
        ok 1 - (unnamed test)
    ok 6 - missing schema - get # time=1.853ms
    
    # Subtest: custom serializer - get
        1..1
        ok 1 - (unnamed test)
    ok 7 - custom serializer - get # time=2.386ms
    
    # Subtest: empty response
        1..1
        ok 1 - (unnamed test)
    ok 8 - empty response # time=1.967ms
    
    # Subtest: send a falsy boolean
        1..1
        ok 1 - (unnamed test)
    ok 9 - send a falsy boolean # time=1.867ms
    
    ok 10 - should not error
    # Subtest: shorthand - request get
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - shorthand - request get # time=43.282ms
    
    # Subtest: shorthand - request get params schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 12 - shorthand - request get params schema # time=9.395ms
    
    # Subtest: shorthand - request get params schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 13 - shorthand - request get params schema error # time=7.623ms
    
    # Subtest: shorthand - request get headers schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - shorthand - request get headers schema # time=6.294ms
    
    # Subtest: shorthand - request get headers schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 15 - shorthand - request get headers schema error # time=19.021ms
    
    # Subtest: shorthand - request get querystring schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 16 - shorthand - request get querystring schema # time=6.001ms
    
    # Subtest: shorthand - request get querystring schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - shorthand - request get querystring schema error # time=4.668ms
    
    # Subtest: shorthand - request get missing schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - shorthand - request get missing schema # time=4.323ms
    
    # Subtest: shorthand - custom serializer
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 19 - shorthand - custom serializer # time=4.908ms
    
    # Subtest: shorthand - empty response
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 20 - shorthand - empty response # time=4.478ms
    
    # Subtest: shorthand - send a falsy boolean
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - shorthand - send a falsy boolean # time=3.95ms
    
    # Subtest: shorthand - send null value
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - shorthand - send null value # time=3.853ms
    
    1..22
    # time=321.303ms
ok 31 - test/get.test.js # time=321.303ms

# Subtest: test/handler-context.test.js
    # Subtest: handlers receive correct `this` context
        1..4
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 1 - handlers receive correct `this` context # time=122.03ms
    
    # Subtest: handlers have access to the internal context
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - type is Object
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 2 - handlers have access to the internal context # time=17.58ms
    
    1..2
    # time=158.809ms
ok 32 - test/handler-context.test.js # time=158.809ms

# Subtest: test/head.test.js
    # Subtest: shorthand - head
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - head # time=9.186ms
    
    # Subtest: shorthand - head params
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - head params # time=2.259ms
    
    # Subtest: shorthand - head, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - head, querystring schema # time=1.529ms
    
    # Subtest: missing schema - head
        1..1
        ok 1 - (unnamed test)
    ok 4 - missing schema - head # time=1.497ms
    
    ok 5 - should not error
    # Subtest: shorthand - request head
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 6 - shorthand - request head # time=36.191ms
    
    # Subtest: shorthand - request head params schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 7 - shorthand - request head params schema # time=5.339ms
    
    # Subtest: shorthand - request head params schema error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 8 - shorthand - request head params schema error # time=5.332ms
    
    # Subtest: shorthand - request head querystring schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 9 - shorthand - request head querystring schema # time=4.212ms
    
    # Subtest: shorthand - request head querystring schema error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - shorthand - request head querystring schema error # time=4.163ms
    
    # Subtest: shorthand - request head missing schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 11 - shorthand - request head missing schema # time=3.558ms
    
    1..11
    # time=220.745ms
ok 33 - test/head.test.js # time=220.745ms

# Subtest: test/hooks-async.test.js
    # Subtest: async hooks
        1..21
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - should not error
        ok 13 - should be equal
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equivalent
        ok 18 - should not error
        ok 19 - should be equal
        ok 20 - expect truthy value
        ok 21 - expect truthy value
    ok 1 - async hooks # time=192.484ms
    
    # Subtest: modify payload
        1..10
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - expect truthy value
        ok 4 - should be equivalent
        ok 5 - expect truthy value
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
    ok 2 - modify payload # time=37.973ms
    
    # Subtest: onRequest hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 3 - onRequest hooks should be able to block a request # time=25.754ms
    
    # Subtest: preParsing hooks should be able to modify the payload
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 4 - preParsing hooks should be able to modify the payload # time=12.818ms
    
    # Subtest: preParsing hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 5 - preParsing hooks should handle errors # time=6.899ms
    
    # Subtest: preHandler hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 6 - preHandler hooks should be able to block a request # time=25.951ms
    
    # Subtest: preValidation hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 7 - preValidation hooks should be able to block a request # time=10.875ms
    
    # Subtest: preValidation hooks should be able to change request body before validation
        1..4
        ok 1 - (unnamed test)
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - preValidation hooks should be able to change request body before validation # time=84.597ms
    
    # Subtest: preSerialization hooks should be able to modify the payload
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - preSerialization hooks should be able to modify the payload # time=28.313ms
    
    # Subtest: preSerialization hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - preSerialization hooks should handle errors # time=9.865ms
    
    # Subtest: preValidation hooks should handle throwing null
        1..4
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - preValidation hooks should handle throwing null # time=9.07ms
    
    # Subtest: preValidation hooks should handle throwing a string
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 12 - preValidation hooks should handle throwing a string # time=27.876ms
    
    # Subtest: onRequest hooks should be able to block a request (last hook)
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 13 - onRequest hooks should be able to block a request (last hook) # time=7.429ms
    
    # Subtest: preHandler hooks should be able to block a request (last hook)
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 14 - preHandler hooks should be able to block a request (last hook) # time=7.282ms
    
    # Subtest: onRequest respond with a stream
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - onRequest respond with a stream # time=11.708ms
    
    # Subtest: preHandler respond with a stream
        1..7
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 16 - preHandler respond with a stream # time=16.579ms
    
    # Subtest: Should log a warning if is an async function with `done`
        # Subtest: 3 arguments
            1..1
            ok 1 - expect truthy value
        ok 1 - 3 arguments # time=2.441ms
        
        # Subtest: 4 arguments
            1..3
            ok 1 - expect truthy value
            ok 2 - expect truthy value
            ok 3 - expect truthy value
        ok 2 - 4 arguments # time=2.822ms
        
        1..2
    ok 17 - Should log a warning if is an async function with `done` # time=16.759ms
    
    # Subtest: early termination, onRequest async
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 18 - early termination, onRequest async # time=6.286ms
    
    # Subtest: The this should be the same of the encapsulation level
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        1..4
    ok 19 - The this should be the same of the encapsulation level # time=13.158ms
    
    # Subtest: preSerializationEnd should handle errors if the serialize method throws
        # Subtest: works with sync preSerialization
            1..2
            ok 1 - should not error
            ok 2 - should not be equal
        ok 1 - works with sync preSerialization # time=14.046ms
        
        # Subtest: works with async preSerialization
            1..2
            ok 1 - should not error
            ok 2 - should not be equal
        ok 2 - works with async preSerialization # time=5.899ms
        
        1..2
    ok 20 - preSerializationEnd should handle errors if the serialize method throws # time=24.858ms
    
    1..20
    # time=594.789ms
ok 34 - test/hooks-async.test.js # time=594.789ms

# Subtest: test/hooks.on-ready.test.js
    # Subtest: onReady should be called in order
        1..7
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
        ok 7 - should not error
    ok 1 - onReady should be called in order # time=79.861ms
    
    # Subtest: async onReady should be called in order
        1..7
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
        ok 7 - ready
    ok 2 - async onReady should be called in order # time=12.183ms
    
    # Subtest: mix ready and onReady
        1..2
        ok 1 - should be equal
        ok 2 - ready hooks execute once
    ok 3 - mix ready and onReady # time=12.198ms
    
    # Subtest: listen and onReady order
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - trigger the onReady
        ok 9 - do not trigger the onReady
    ok 4 - listen and onReady order # time=38.213ms
    
    # Subtest: multiple ready calls
        1..11
        ok 1 - ready and hooks not triggered yet
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - trigger the onReady
        ok 10 - do not trigger the onReady
        ok 11 - do not trigger the onReady
    ok 5 - multiple ready calls # time=10.148ms
    
    # Subtest: onReady should manage error in sync
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 6 - onReady should manage error in sync # time=6.286ms
    
    # Subtest: onReady should manage error in async
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 7 - onReady should manage error in async # time=11.848ms
    
    # Subtest: onReady should manage sync error
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 8 - onReady should manage sync error # time=5.517ms
    
    # Subtest: onReady can not add decorators or application hooks
        1..3
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should not error
    ok 9 - onReady can not add decorators or application hooks # time=5.203ms
    
    # Subtest: onReady cannot add lifecycle hooks
        1..5
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 10 - onReady cannot add lifecycle hooks # time=9.444ms
    
    # Subtest: onReady throw loading error
        1..1
        ok 1 - expect truthy value
    ok 11 - onReady throw loading error # time=2.226ms
    
    # Subtest: onReady does not call done
        1..6
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
        ok 6 - should be equal
    ok 12 - onReady does not call done # time=504.914ms
    
    # Subtest: onReady execution order
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 13 - onReady execution order # time=4.967ms
    
    # Subtest: ready return the server with callback
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 14 - ready return the server with callback # time=16.827ms
    
    # Subtest: ready return the server with Promise
        1..1
        ok 1 - should be equivalent
    ok 15 - ready return the server with Promise # time=6.34ms
    
    # Subtest: ready return registered
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
    ok 16 - ready return registered # time=11.273ms
    
    1..16
    # time=756.701ms
ok 35 - test/hooks.on-ready.test.js # time=756.701ms

# Subtest: test/hooks.test.js
    # Subtest: hooks
        1..43
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - (unnamed test)
        ok 4 - (unnamed test)
        ok 5 - (unnamed test)
        ok 6 - (unnamed test)
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - expect truthy value
        ok 20 - expect truthy value
        ok 21 - expect truthy value
        ok 22 - expect truthy value
        ok 23 - should be equal
        ok 24 - should be equal
        ok 25 - should be equal
        ok 26 - should be equal
        ok 27 - should be equal
        ok 28 - should be equal
        ok 29 - should be equal
        ok 30 - should be equal
        ok 31 - should be equal
        ok 32 - expect truthy value
        ok 33 - expect truthy value
        ok 34 - expect truthy value
        ok 35 - expect truthy value
        ok 36 - should not error
        ok 37 - should be equal
        ok 38 - should be equal
        ok 39 - should be equivalent
        ok 40 - should not error
        ok 41 - should be equal
        ok 42 - should not error
        ok 43 - should be equal
    ok 1 - hooks # time=251.282ms
    
    # Subtest: onRequest hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 2 - onRequest hook should support encapsulation / 1 # time=51.315ms
    
    # Subtest: onRequest hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 3 - onRequest hook should support encapsulation / 2 # time=15.562ms
    
    # Subtest: onRequest hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 4 - onRequest hook should support encapsulation / 3 # time=40.593ms
    
    # Subtest: preHandler hook should support encapsulation / 5
        1..17
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equivalent
    ok 5 - preHandler hook should support encapsulation / 5 # time=19.044ms
    
    # Subtest: onRoute hook should be called / 1
        1..2
        ok 1 - (unnamed test)
        ok 2 - should not error
    ok 6 - onRoute hook should be called / 1 # time=5.64ms
    
    # Subtest: onRoute hook should be called / 2
        1..5
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 7 - onRoute hook should be called / 2 # time=26.121ms
    
    # Subtest: onRoute hook should be called / 3
        1..5
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - (unnamed test)
        ok 5 - should not error
    ok 8 - onRoute hook should be called / 3 # time=17.406ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 4
        1..4
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - (unnamed test)
        ok 4 - should not error
    ok 9 - onRoute hook should be called (encapsulation support) / 4 # time=17.605ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 5
        1..2
        ok 1 - (unnamed test)
        ok 2 - should not error
    ok 10 - onRoute hook should be called (encapsulation support) / 5 # time=24.672ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 6
        1..1
        ok 1 - should not error
    ok 11 - onRoute hook should be called (encapsulation support) / 6 # time=4.651ms
    
    # Subtest: onRoute should keep the context
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
    ok 12 - onRoute should keep the context # time=11.021ms
    
    # Subtest: onRoute hook should pass correct route
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should not error
    ok 13 - onRoute hook should pass correct route # time=17.624ms
    
    # Subtest: onRoute hook should pass correct route with custom prefix
        1..11
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
    ok 14 - onRoute hook should pass correct route with custom prefix # time=14.981ms
    
    # Subtest: onRoute hook should pass correct route with custom options
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - type is function
        ok 6 - should not error
    ok 15 - onRoute hook should pass correct route with custom options # time=8.635ms
    
    # Subtest: onRoute hook should receive any route option
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 16 - onRoute hook should receive any route option # time=11.759ms
    
    # Subtest: onRoute hook should preserve system route configuration
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 17 - onRoute hook should preserve system route configuration # time=4.72ms
    
    # Subtest: onRoute hook should preserve handler function in options of shorthand route system configuration
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 18 - onRoute hook should preserve handler function in options of shorthand route system configuration # time=3.863ms
    
    # Subtest: onRoute hook should be called once when prefixTrailingSlash
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 19 - onRoute hook should be called once when prefixTrailingSlash # time=5.318ms
    
    # Subtest: onRoute hook should able to change the route url
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 20 - onRoute hook should able to change the route url # time=24.807ms
    
    # Subtest: onRoute hook that throws should be caught
        1..1
        ok 1 - expect truthy value
    ok 21 - onRoute hook that throws should be caught # time=4.162ms
    
    # Subtest: onRoute hook with many prefix
        1..3
        ok 1 - should match pattern provided
        ok 2 - should match pattern provided
        ok 3 - should not error
    ok 22 - onRoute hook with many prefix # time=20.776ms
    
    # Subtest: onRoute hook should not be called when it registered after route
        1..3
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
    ok 23 - onRoute hook should not be called when it registered after route # time=23.068ms
    
    # Subtest: onResponse hook should log request error
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 24 - onResponse hook should log request error # time=96.271ms
    
    # Subtest: onResponse hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 25 - onResponse hook should support encapsulation / 1 # time=7.127ms
    
    # Subtest: onResponse hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 26 - onResponse hook should support encapsulation / 2 # time=3.801ms
    
    # Subtest: onResponse hook should support encapsulation / 3
        1..16
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 27 - onResponse hook should support encapsulation / 3 # time=24.362ms
    
    # Subtest: onSend hook should support encapsulation / 1
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 28 - onSend hook should support encapsulation / 1 # time=3.828ms
    
    # Subtest: onSend hook should support encapsulation / 2
        1..16
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 29 - onSend hook should support encapsulation / 2 # time=14.6ms
    
    # Subtest: onSend hook is called after payload is serialized and headers are set
        1..30
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should be equal
        ok 15 - should not error
        ok 16 - should be equal
        ok 17 - should be equivalent
        ok 18 - should be equal
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equivalent
        ok 22 - should be equal
        ok 23 - should not error
        ok 24 - should be equal
        ok 25 - should be equivalent
        ok 26 - should be equal
        ok 27 - should not error
        ok 28 - should be equal
        ok 29 - should be equivalent
        ok 30 - should be equal
    ok 30 - onSend hook is called after payload is serialized and headers are set # time=22.966ms
    
    # Subtest: modify payload
        1..10
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - expect truthy value
        ok 4 - should be equivalent
        ok 5 - expect truthy value
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
    ok 31 - modify payload # time=6.981ms
    
    # Subtest: clear payload
        1..6
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 32 - clear payload # time=4.519ms
    
    # Subtest: onSend hook throws
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 33 - onSend hook throws # time=15.998ms
    
    # Subtest: onSend hook should receive valid request and reply objects if onRequest hook fails
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 34 - onSend hook should receive valid request and reply objects if onRequest hook fails # time=11.234ms
    
    # Subtest: onSend hook should receive valid request and reply objects if a custom content type parser fails
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 35 - onSend hook should receive valid request and reply objects if a custom content type parser fails # time=18.518ms
    
    # Subtest: Content-Length header should be updated if onSend hook modifies the payload
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 36 - Content-Length header should be updated if onSend hook modifies the payload # time=13.195ms
    
    # Subtest: cannot add hook after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 37 - cannot add hook after binding # time=23.956ms
    
    # Subtest: onRequest hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 38 - onRequest hooks should be able to block a request # time=5.004ms
    
    # Subtest: preValidation hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 39 - preValidation hooks should be able to block a request # time=4.56ms
    
    # Subtest: preValidation hooks should be able to change request body before validation
        1..4
        ok 1 - (unnamed test)
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 40 - preValidation hooks should be able to change request body before validation # time=76.94ms
    
    # Subtest: preParsing hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 41 - preParsing hooks should be able to block a request # time=5.031ms
    
    # Subtest: preHandler hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 42 - preHandler hooks should be able to block a request # time=4.551ms
    
    # Subtest: onRequest hooks should be able to block a request (last hook)
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 43 - onRequest hooks should be able to block a request (last hook) # time=4.405ms
    
    # Subtest: preHandler hooks should be able to block a request (last hook)
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 44 - preHandler hooks should be able to block a request (last hook) # time=4.311ms
    
    # Subtest: preParsing hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 45 - preParsing hooks should handle errors # time=4.242ms
    
    # Subtest: onRequest respond with a stream
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 46 - onRequest respond with a stream # time=10.28ms
    
    # Subtest: preHandler respond with a stream
        1..7
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 47 - preHandler respond with a stream # time=6.98ms
    
    # Subtest: Register an hook after a plugin inside a plugin
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 48 - Register an hook after a plugin inside a plugin # time=7.607ms
    
    # Subtest: Register an hook after a plugin inside a plugin (with preHandler option)
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 49 - Register an hook after a plugin inside a plugin (with preHandler option) # time=6.779ms
    
    # Subtest: Register hooks inside a plugin after an encapsulated plugin
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 50 - Register hooks inside a plugin after an encapsulated plugin # time=7.298ms
    
    # Subtest: onRequest hooks should run in the order in which they are defined
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 51 - onRequest hooks should run in the order in which they are defined # time=8.452ms
    
    # Subtest: preHandler hooks should run in the order in which they are defined
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 52 - preHandler hooks should run in the order in which they are defined # time=8.092ms
    
    # Subtest: onSend hooks should run in the order in which they are defined
        1..8
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equivalent
    ok 53 - onSend hooks should run in the order in which they are defined # time=7.867ms
    
    # Subtest: onResponse hooks should run in the order in which they are defined
        1..8
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equivalent
    ok 54 - onResponse hooks should run in the order in which they are defined # time=8.098ms
    
    # Subtest: onRequest, preHandler, and onResponse hooks that resolve to a value do not cause an error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 55 - onRequest, preHandler, and onResponse hooks that resolve to a value do not cause an error # time=24.125ms
    
    # Subtest: If a response header has been set inside an hook it shoulod not be overwritten by the final response handler
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 56 - If a response header has been set inside an hook it shoulod not be overwritten by the final response handler # time=3.793ms
    
    # Subtest: If the content type has been set inside an hook it should not be changed
        1..5
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 57 - If the content type has been set inside an hook it should not be changed # time=3.517ms
    
    # Subtest: request in onRequest, preParsing, preValidation and onResponse
        1..18
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equivalent
        ok 10 - should be equivalent
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equivalent
        ok 14 - should be equivalent
        ok 15 - should be equivalent
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
    ok 58 - request in onRequest, preParsing, preValidation and onResponse # time=11.73ms
    
    # Subtest: preValidation hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 59 - preValidation hook should support encapsulation / 1 # time=19.156ms
    
    # Subtest: preValidation hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 60 - preValidation hook should support encapsulation / 2 # time=16.285ms
    
    # Subtest: preValidation hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 61 - preValidation hook should support encapsulation / 3 # time=28.562ms
    
    # Subtest: onError hook
        1..3
        ok 1 - should match pattern provided
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 62 - onError hook # time=5.196ms
    
    # Subtest: reply.send should throw if called inside the onError hook
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 63 - reply.send should throw if called inside the onError hook # time=4.854ms
    
    # Subtest: onError hook with setErrorHandler
        # Subtest: Send error
            1..3
            ok 1 - should match pattern provided
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 1 - Send error # time=5.466ms
        
        1..1
    ok 64 - onError hook with setErrorHandler # time=10.424ms
    
    # Subtest: preParsing hook should run before parsing and be able to modify the payload
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 65 - preParsing hook should run before parsing and be able to modify the payload # time=10.924ms
    
    # Subtest: preParsing hooks should run in the order in which they are defined
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 66 - preParsing hooks should run in the order in which they are defined # time=8.027ms
    
    # Subtest: preParsing hooks should support encapsulation
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 67 - preParsing hooks should support encapsulation # time=11.703ms
    
    # Subtest: preParsing hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 68 - preParsing hook should support encapsulation / 1 # time=6.084ms
    
    # Subtest: preParsing hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 69 - preParsing hook should support encapsulation / 2 # time=5.695ms
    
    # Subtest: preParsing hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 70 - preParsing hook should support encapsulation / 3 # time=12.799ms
    
    # Subtest: preSerialization hook should run before serialization and be able to modify the payload
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 71 - preSerialization hook should run before serialization and be able to modify the payload # time=14.644ms
    
    # Subtest: preSerialization hook should be able to throw errors which are validated against schema response
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        1..6
    ok 72 - preSerialization hook should be able to throw errors which are validated against schema response # time=29.214ms
    
    # Subtest: preSerialization hook which returned error should still run onError hooks
        1..4
        ok 1 - should not error
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - should be equal
    ok 73 - preSerialization hook which returned error should still run onError hooks # time=7.713ms
    
    # Subtest: preSerialization hooks should run in the order in which they are defined
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 74 - preSerialization hooks should run in the order in which they are defined # time=15.2ms
    
    # Subtest: preSerialization hooks should support encapsulation
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 75 - preSerialization hooks should support encapsulation # time=14.001ms
    
    # Subtest: onRegister hook should be called / 1
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should not error
    ok 76 - onRegister hook should be called / 1 # time=4.671ms
    
    # Subtest: onRegister hook should be called / 2
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
    ok 77 - onRegister hook should be called / 2 # time=6.425ms
    
    # Subtest: onRegister hook should be called / 3
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
    ok 78 - onRegister hook should be called / 3 # time=6.168ms
    
    # Subtest: onRegister hook should be called (encapsulation)
        1..1
        ok 1 - should not error
    ok 79 - onRegister hook should be called (encapsulation) # time=2.746ms
    
    # Subtest: early termination, onRequest
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 80 - early termination, onRequest # time=4.93ms
    
    # Subtest: reply.send should throw if undefined error is thrown
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 81 - reply.send should throw if undefined error is thrown # time=16.986ms
    
    # Subtest: reply.send should throw if undefined error is thrown at preParsing hook
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 82 - reply.send should throw if undefined error is thrown at preParsing hook # time=18.546ms
    
    # Subtest: reply.send should throw if undefined error is thrown at onSend hook
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 83 - reply.send should throw if undefined error is thrown at onSend hook # time=5.077ms
    
    # Subtest: onTimeout should be triggered
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - onTimeout
        ok 5 - type is Error
        ok 6 - should be equal
    ok 84 - onTimeout should be triggered # time=510.488ms
    
    # Subtest: onTimeout should be triggered and socket _meta is set
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - onTimeout
        ok 5 - type is Error
        ok 6 - should be equal
    ok 85 - onTimeout should be triggered and socket _meta is set # time=516.286ms
    
    1..85
    # time=2495.698ms
ok 36 - test/hooks.test.js # time=2495.698ms

# Subtest: test/http2/closing.test.js
    # Subtest: http/2 request while fastify closing
        ok 1 - http2 successfully loaded
        ok 2 - should not error
        # Subtest: return 200
            ok 1 - should be equal
            1..1
        ok 3 - return 200 # time=18.812ms
        
        1..3
    ok 1 - http/2 request while fastify closing # time=94.187ms
    
    # Subtest: http/2 request while fastify closing - return503OnClosing: false
        ok 1 - http2 successfully loaded
        ok 2 - should not error
        # Subtest: return 200
            ok 1 - should be equal
            1..1
        ok 3 - return 200 # time=6.117ms
        
        1..3
    ok 2 - http/2 request while fastify closing - return503OnClosing: false # time=16.385ms
    
    # Subtest: http/2 closes successfully with async await
        1..0
    ok 3 - http/2 closes successfully with async await # time=116.888ms
    
    # Subtest: https/2 closes successfully with async await
        1..0
    ok 4 - https/2 closes successfully with async await # time=13.278ms
    
    # Subtest: http/2 server side session emits a timeout event
        ok 1 - should be equal
        1..1
    ok 5 - http/2 server side session emits a timeout event # time=107.266ms
    
    1..5
    # time=385.327ms
ok 37 - test/http2/closing.test.js # time=385.327ms

# Subtest: test/http2/constraint.test.js
    # Subtest: A route supports host constraints under http2 protocol and secure connection
        1..5
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request - no constrain
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - https get request - no constrain # time=51.456ms
        
        # Subtest: https get request - constrain
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - https get request - constrain # time=24.892ms
        
        # Subtest: https get request - constrain - not found
            1..1
            ok 1 - should be equal
        ok 5 - https get request - constrain - not found # time=12.322ms
        
    ok 1 - A route supports host constraints under http2 protocol and secure connection # time=188.599ms
    
    1..1
    # time=219.337ms
ok 38 - test/http2/constraint.test.js # time=219.337ms

# Subtest: test/http2/head.test.js
    ok 1 - http2 successfully loaded
    ok 2 - should not error
    # Subtest: http HEAD request
        1..1
        ok 1 - should be equal
    ok 3 - http HEAD request # time=62.554ms
    
    1..3
    # time=142.967ms
ok 39 - test/http2/head.test.js # time=142.967ms

# Subtest: test/http2/missing-http2-module.test.js
    # Subtest: should throw when http2 module cannot be found
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - should throw when http2 module cannot be found # time=11.146ms
    
    1..1
    # time=16.575ms
ok 40 - test/http2/missing-http2-module.test.js # time=16.575ms

# Subtest: test/http2/plain.test.js
    ok 1 - http2 successfully loaded
    ok 2 - should not error
    # Subtest: http get request
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 3 - http get request # time=35.657ms
    
    # Subtest: http hostname
        1..1
        ok 1 - should be equal
    ok 4 - http hostname # time=7.98ms
    
    1..4
    # time=133.01ms
ok 41 - test/http2/plain.test.js # time=133.01ms

# Subtest: test/http2/secure-with-fallback.test.js
    # Subtest: secure with fallback
        1..7
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get error
            1..1
            ok 1 - should be equal
        ok 3 - https get error # time=41.726ms
        
        # Subtest: https post
            1..2
            ok 1 - should be equal
            ok 2 - should be equivalent
        ok 4 - https post # time=19.493ms
        
        # Subtest: https get request
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - https get request # time=15.411ms
        
        # Subtest: http1 get request
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 6 - http1 get request # time=32.546ms
        
        # Subtest: http1 get error
            1..2
            ok 1 - should not error
            ok 2 - should be equal
        ok 7 - http1 get error # time=8.062ms
        
    ok 1 - secure with fallback # time=199.322ms
    
    1..1
    # time=228.754ms
ok 42 - test/http2/secure-with-fallback.test.js # time=228.754ms

# Subtest: test/http2/secure.test.js
    # Subtest: secure
        1..4
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - https get request # time=40.108ms
        
        # Subtest: https get request without trust proxy - protocol
            1..2
            ok 1 - should be equivalent
            ok 2 - should be equivalent
        ok 4 - https get request without trust proxy - protocol # time=22.356ms
        
    ok 1 - secure # time=154.626ms
    
    1..1
    # time=186.348ms
ok 43 - test/http2/secure.test.js # time=186.348ms

# Subtest: test/http2/unknown-http-method.test.js
    ok 1 - should not error
    # Subtest: http UNKNOWN_METHOD request
        1..2
        ok 1 - should be equal
        ok 2 - should be equivalent
    ok 2 - http UNKNOWN_METHOD request # time=33.117ms
    
    1..2
    # time=95.237ms
ok 44 - test/http2/unknown-http-method.test.js # time=95.237ms

# Subtest: test/https/custom-https-server.test.js
    # Subtest: Should support a custom https server
        1..4
        ok 1 - it is called twice for every HOST interface
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - Should support a custom https server # time=102.617ms
    
    1..1
    # time=174.656ms
ok 45 - test/https/custom-https-server.test.js # time=174.656ms

# Subtest: test/https/https.test.js
    # Subtest: https
        1..4
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 3 - https get request # time=39.974ms
        
        # Subtest: https get request without trust proxy - protocol
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 4 - https get request without trust proxy - protocol # time=17.103ms
        
    ok 1 - https # time=140.691ms
    
    1..1
    # time=173.743ms
ok 46 - test/https/https.test.js # time=173.743ms

# Subtest: test/imports.test.js
    # Subtest: should import as default
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 1 - should import as default # time=755.913ms
    
    # Subtest: should import as esm
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 2 - should import as esm # time=1.495ms
    
    1..2
    # time=767.201ms
ok 47 - test/imports.test.js # time=767.201ms

# Subtest: test/inject.test.js
    # Subtest: inject should exist
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 1 - inject should exist # time=15.064ms
    
    # Subtest: should wait for the ready event
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 2 - should wait for the ready event # time=596.378ms
    
    # Subtest: inject get request
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 3 - inject get request # time=8.958ms
    
    # Subtest: inject get request - code check
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 4 - inject get request - code check # time=25.216ms
    
    # Subtest: inject get request - headers check
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 5 - inject get request - headers check # time=13.095ms
    
    # Subtest: inject get request - querystring
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 6 - inject get request - querystring # time=10.342ms
    
    # Subtest: inject get request - params
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 7 - inject get request - params # time=7.559ms
    
    # Subtest: inject get request - wildcard
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - inject get request - wildcard # time=7.825ms
    
    # Subtest: inject get request - headers
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 9 - inject get request - headers # time=11.68ms
    
    # Subtest: inject post request
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 10 - inject post request # time=13.143ms
    
    # Subtest: inject post request - send stream
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 11 - inject post request - send stream # time=10.68ms
    
    # Subtest: inject get request - reply stream
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 12 - inject get request - reply stream # time=17.659ms
    
    # Subtest: inject promisify - waiting for ready event
        1..1
        ok 1 - should be equal
    ok 13 - inject promisify - waiting for ready event # time=6.185ms
    
    # Subtest: inject promisify - after the ready event
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 14 - inject promisify - after the ready event # time=10.267ms
    
    # Subtest: inject promisify - when the server is up
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 15 - inject promisify - when the server is up # time=17.812ms
    
    # Subtest: should reject in error case
        1..1
        ok 1 - should be equal
    ok 16 - should reject in error case # time=506.342ms
    
    # Subtest: inject a multipart request using form-body
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 17 - inject a multipart request using form-body # time=8.91ms
    
    # Subtest: should error the promise if ready errors
        1..3
        ok 1 - after is called
        ok 2 - expect truthy value
        ok 3 - should be equal
    ok 18 - should error the promise if ready errors # time=66.575ms
    
    # Subtest: should throw error if callback specified and if ready errors
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 19 - should throw error if callback specified and if ready errors # time=25.991ms
    
    # Subtest: should support builder-style injection with ready app
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
    ok 20 - should support builder-style injection with ready app # time=19.035ms
    
    # Subtest: should support builder-style injection with non-ready app
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
    ok 21 - should support builder-style injection with non-ready app # time=14.067ms
    
    # Subtest: should handle errors in builder-style injection correctly
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 22 - should handle errors in builder-style injection correctly # time=8.489ms
    
    1..22
    # time=1444.466ms
ok 48 - test/inject.test.js # time=1444.466ms

# Subtest: test/internals/all.test.js
    # Subtest: fastify.all should add all the methods to the same url
        1..14
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equivalent
    ok 1 - fastify.all should add all the methods to the same url # time=51.186ms
    
    1..1
    # time=54.953ms
ok 49 - test/internals/all.test.js # time=54.953ms

# Subtest: test/internals/contentTypeParser.test.js
    # Subtest: rawBody function
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - rawBody function # time=21.871ms
    
    # Subtest: Should support Webpack and faux modules
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - Should support Webpack and faux modules # time=11.463ms
    
    1..2
    # time=42.891ms
ok 50 - test/internals/contentTypeParser.test.js # time=42.891ms

# Subtest: test/internals/decorator.test.js
    # Subtest: decorate should add the given method to its instance
        1..1
        ok 1 - expect truthy value
    ok 1 - decorate should add the given method to its instance # time=5.973ms
    
    # Subtest: decorate is chainable
        1..3
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
    ok 2 - decorate is chainable # time=2.925ms
    
    # Subtest: checkExistence should check if a property is part of the given instance
        1..1
        ok 1 - expect truthy value
    ok 3 - checkExistence should check if a property is part of the given instance # time=1.3ms
    
    # Subtest: checkExistence should find the instance if not given
        1..1
        ok 1 - expect truthy value
    ok 4 - checkExistence should find the instance if not given # time=1.18ms
    
    # Subtest: checkExistence should check the prototype as well
        1..1
        ok 1 - expect truthy value
    ok 5 - checkExistence should check the prototype as well # time=1.041ms
    
    # Subtest: checkDependencies should throw if a dependency is not present
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 6 - checkDependencies should throw if a dependency is not present # time=1.627ms
    
    # Subtest: decorate should internally call checkDependencies
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 7 - decorate should internally call checkDependencies # time=1.011ms
    
    # Subtest: decorate should recognize getter/setter objects
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - (unnamed test)
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 8 - decorate should recognize getter/setter objects # time=1.614ms
    
    1..8
    # time=67.892ms
ok 51 - test/internals/decorator.test.js # time=67.892ms

# Subtest: test/internals/handleRequest.test.js
    # Subtest: handleRequest function - sent reply
        1..1
        ok 1 - should be equal
    ok 1 - handleRequest function - sent reply # time=5.918ms
    
    # Subtest: handleRequest function - invoke with error
        1..1
        ok 1 - should be equal
    ok 2 - handleRequest function - invoke with error # time=1.42ms
    
    # Subtest: handler function - invalid schema
        1..1
        ok 1 - errorHandler called
    ok 3 - handler function - invalid schema # time=73.122ms
    
    # Subtest: handler function - reply
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - (unnamed test)
    ok 4 - handler function - reply # time=2.853ms
    
    # Subtest: handler function - preValidationCallback with finished response
        1..0
    ok 5 - handler function - preValidationCallback with finished response # time=0.776ms
    
    # Subtest: request should be defined in onSend Hook on post request with content type application/json
        1..8
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - should not error
        ok 8 - should be equal
    ok 6 - request should be defined in onSend Hook on post request with content type application/json # time=348.926ms
    
    # Subtest: request should be defined in onSend Hook on post request with content type application/x-www-form-urlencoded
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - should be equal
    ok 7 - request should be defined in onSend Hook on post request with content type application/x-www-form-urlencoded # time=12.13ms
    
    # Subtest: request should be defined in onSend Hook on options request with content type application/x-www-form-urlencoded
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - should be equal
    ok 8 - request should be defined in onSend Hook on options request with content type application/x-www-form-urlencoded # time=24.838ms
    
    # Subtest: request should respond with an error if an unserialized payload is sent inside an async handler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
    ok 9 - request should respond with an error if an unserialized payload is sent inside an async handler # time=42.714ms
    
    1..9
    # time=534.782ms
ok 52 - test/internals/handleRequest.test.js # time=534.782ms

# Subtest: test/internals/hookRunner.test.js
    # Subtest: hookRunner - Basic
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 1 - hookRunner - Basic # time=10.548ms
    
    # Subtest: hookRunner - In case of error should skip to done
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 2 - hookRunner - In case of error should skip to done # time=3.628ms
    
    # Subtest: hookRunner - Should handle throw
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 3 - hookRunner - Should handle throw # time=3.122ms
    
    # Subtest: hookRunner - Should handle promises
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 4 - hookRunner - Should handle promises # time=28.765ms
    
    # Subtest: hookRunner - In case of error should skip to done (with promises)
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 5 - hookRunner - In case of error should skip to done (with promises) # time=3.536ms
    
    # Subtest: hookRunner - Be able to exit before its natural end
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 6 - hookRunner - Be able to exit before its natural end # time=1.969ms
    
    # Subtest: hookRunner - Promises that resolve to a value do not change the state
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 7 - hookRunner - Promises that resolve to a value do not change the state # time=2.221ms
    
    # Subtest: onSendHookRunner - Basic
        1..13
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equal
        ok 10 - should not error
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equal
    ok 8 - onSendHookRunner - Basic # time=11.552ms
    
    # Subtest: onSendHookRunner - Can change the payload
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 9 - onSendHookRunner - Can change the payload # time=4.658ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 10 - onSendHookRunner - In case of error should skip to done # time=3.185ms
    
    # Subtest: onSendHookRunner - Should handle promises
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 11 - onSendHookRunner - Should handle promises # time=3.633ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done (with promises)
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 12 - onSendHookRunner - In case of error should skip to done (with promises) # time=3.37ms
    
    # Subtest: onSendHookRunner - Be able to exit before its natural end
        1..2
        ok 1 - should be equivalent
        ok 2 - should be equivalent
    ok 13 - onSendHookRunner - Be able to exit before its natural end # time=1.379ms
    
    1..13
    # time=128.523ms
ok 53 - test/internals/hookRunner.test.js # time=128.523ms

# Subtest: test/internals/hooks.test.js
    # Subtest: hooks should have 4 array with the registered hooks
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        1..8
    ok 1 - hooks should have 4 array with the registered hooks # time=8.04ms
    
    # Subtest: hooks.add should add a hook to the given hook
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        1..14
    ok 2 - hooks.add should add a hook to the given hook # time=4.137ms
    
    # Subtest: hooks should throw on unexisting handler
        1..1
        ok 1 - (unnamed test)
    ok 3 - hooks should throw on unexisting handler # time=1.045ms
    
    # Subtest: should throw on wrong parameters
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 4 - should throw on wrong parameters # time=1.397ms
    
    1..4
    # time=50.131ms
ok 54 - test/internals/hooks.test.js # time=50.131ms

# Subtest: test/internals/initialConfig.test.js
    # Subtest: Fastify.initialConfig is an object
        1..1
        ok 1 - type is object
    ok 1 - Fastify.initialConfig is an object # time=16.234ms
    
    # Subtest: without options passed to Fastify, initialConfig should expose default values
        1..1
        ok 1 - should be equivalent
    ok 2 - without options passed to Fastify, initialConfig should expose default values # time=9.213ms
    
    # Subtest: Fastify.initialConfig should expose all options
        1..20
        ok 1 - should be equal
        ok 2 - for security reason the key cert is hidden
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - expect truthy value
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equal
    ok 3 - Fastify.initialConfig should expose all options # time=13.42ms
    
    # Subtest: Should throw if you try to modify Fastify.initialConfig
        1..4
        ok 1 - type is TypeError
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - (unnamed test)
    ok 4 - Should throw if you try to modify Fastify.initialConfig # time=3.328ms
    
    # Subtest: We must avoid shallow freezing and ensure that the whole object is freezed
        1..4
        ok 1 - type is TypeError
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - key cert removed
    ok 5 - We must avoid shallow freezing and ensure that the whole object is freezed # time=15.959ms
    
    # Subtest: https value check
        1..1
        ok 1 - expect falsey value
    ok 6 - https value check # time=1.429ms
    
    # Subtest: Return an error if options do not match the validation schema
        1..6
        ok 1 - type is Error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
        ok 6 - (unnamed test)
    ok 7 - Return an error if options do not match the validation schema # time=56.815ms
    
    # Subtest: Original options must not be frozen
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - Original options must not be frozen # time=2.873ms
    
    # Subtest: Original options must not be altered (test deep cloning)
        1..3
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 9 - Original options must not be altered (test deep cloning) # time=5.122ms
    
    # Subtest: Should not have issues when passing stream options to Pino.js
        1..15
        ok 1 - type is object
        ok 2 - should be equivalent
        ok 3 - listen at log message is ok
        ok 4 - should not error
        ok 5 - reqId is defined
        ok 6 - req is defined
        ok 7 - message is set
        ok 8 - method is get
        ok 9 - expect truthy value
        ok 10 - should be equal
        ok 11 - reqId is defined
        ok 12 - res is defined
        ok 13 - message is set
        ok 14 - statusCode is 200
        ok 15 - responseTime is defined
    ok 10 - Should not have issues when passing stream options to Pino.js # time=42.111ms
    
    # Subtest: deepFreezeObject() should not throw on TypedArray
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - (unnamed test)
    ok 11 - deepFreezeObject() should not throw on TypedArray # time=1.718ms
    
    # Subtest: Fastify.initialConfig should accept the deprecated versioning option
        1..1
        ok 1 - should be equal
    ok 12 - Fastify.initialConfig should accept the deprecated versioning option # time=4.89ms
    
    # Subtest: pluginTimeout should be parsed correctly
        ok 1 - should be equal
        ok 2 - should be equal
        1..2
    ok 13 - pluginTimeout should be parsed correctly # time=3.05ms
    
    1..13
    # time=244.725ms
ok 55 - test/internals/initialConfig.test.js # time=244.725ms

# Subtest: test/internals/logger.test.js
    # Subtest: time resolution
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - time resolution # time=8.748ms
    
    # Subtest: The logger should add a unique id for every request
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - the id should not be duplicated
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - the id should not be duplicated
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - the id should not be duplicated
        ok 11 - expect truthy value
        ok 12 - should not error
        ok 13 - the id should not be duplicated
        ok 14 - expect truthy value
        ok 15 - should not error
        ok 16 - the id should not be duplicated
        ok 17 - expect truthy value
        ok 18 - should not error
        ok 19 - the id should not be duplicated
        ok 20 - expect truthy value
        ok 21 - should not error
        ok 22 - the id should not be duplicated
        ok 23 - expect truthy value
        ok 24 - should not error
        ok 25 - the id should not be duplicated
        ok 26 - expect truthy value
        ok 27 - should not error
        ok 28 - the id should not be duplicated
        ok 29 - expect truthy value
        ok 30 - should not error
        ok 31 - the id should not be duplicated
        1..31
    ok 2 - The logger should add a unique id for every request # time=87.926ms
    
    # Subtest: The logger should reuse request id header for req.id
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - the request id from the header should be returned
        1..4
    ok 3 - The logger should reuse request id header for req.id # time=12.553ms
    
    # Subtest: The logger should error if both stream and file destination are given
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - The logger should error if both stream and file destination are given # time=1.743ms
    
    # Subtest: The serializer prevent fails if the request socket is undefined
        1..1
        ok 1 - should be equivalent
    ok 5 - The serializer prevent fails if the request socket is undefined # time=4.813ms
    
    1..5
    # time=126.809ms
ok 56 - test/internals/logger.test.js # time=126.809ms

# Subtest: test/internals/plugin.test.js
    # Subtest: shouldSkipOverride should check the 'skip-override' symbol
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 1 - shouldSkipOverride should check the 'skip-override' symbol # time=6.286ms
    
    # Subtest: getPluginName should return plugin name if the file is cached
        1..1
        ok 1 - should be equal
    ok 2 - getPluginName should return plugin name if the file is cached # time=1.79ms
    
    # Subtest: getMeta should return the object stored with the 'plugin-meta' symbol
        1..1
        ok 1 - should be equivalent
    ok 3 - getMeta should return the object stored with the 'plugin-meta' symbol # time=8.83ms
    
    # Subtest: checkDecorators should check if the given decorator is present in the instance
        1..1
        ok 1 - Everything ok
    ok 4 - checkDecorators should check if the given decorator is present in the instance # time=1.611ms
    
    # Subtest: checkDecorators should check if the given decorator is present in the instance (errored)
        1..1
        ok 1 - should be equal
    ok 5 - checkDecorators should check if the given decorator is present in the instance (errored) # time=1.098ms
    
    # Subtest: checkDecorators should accept optional decorators
        1..1
        ok 1 - Everything ok
    ok 6 - checkDecorators should accept optional decorators # time=0.988ms
    
    # Subtest: checkDependencies should check if the given dependency is present in the instance
        1..1
        ok 1 - Everything ok
    ok 7 - checkDependencies should check if the given dependency is present in the instance # time=0.942ms
    
    # Subtest: checkDependencies should check if the given dependency is present in the instance (errored)
        1..1
        ok 1 - should be equal
    ok 8 - checkDependencies should check if the given dependency is present in the instance (errored) # time=23.752ms
    
    1..8
    # time=103.036ms
ok 57 - test/internals/plugin.test.js # time=103.036ms

# Subtest: test/internals/reply-serialize.test.js
    # Subtest: Reply\#compileSerializationSchema
        1..4
        # Subtest: Should return a serialization function
            1..4
            ok 1 - type is Function
            ok 2 - type is string
            ok 3 - should be equal
            ok 4 - should be equal
        ok 1 - Should return a serialization function # time=98.997ms
        
        # Subtest: Should reuse the serialize fn across multiple invocations - Route without schema
            1..17
            ok 1 - build the schema compilation function
            ok 2 - type is Function
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - Are the same validate function
            ok 6 - type is Function
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - Are the same validate function
            ok 10 - type is Function
            ok 11 - should be equal
            ok 12 - should be equal
            ok 13 - Are the same validate function
            ok 14 - type is Function
            ok 15 - should be equal
            ok 16 - should be equal
            ok 17 - should be equal
        ok 2 - Should reuse the serialize fn across multiple invocations - Route without schema # time=23.242ms
        
        # Subtest: Should use the custom serializer compiler for the route
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equivalent
            ok 7 - {"hello":"world"}
            ok 8 - should be equivalent
            ok 9 - {"hello":"world"}
            ok 10 - should be equal
        ok 3 - Should use the custom serializer compiler for the route # time=37.135ms
        
        # Subtest: Should build a WeakMap for cache when called
            1..4
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
            ok 4 - should be equal
        ok 4 - Should build a WeakMap for cache when called # time=14.737ms
        
    ok 1 - Reply\#compileSerializationSchema # time=193.137ms
    
    # Subtest: Reply\#getSerializationFunction
        1..3
        # Subtest: Should retrieve the serialization function from the Schema definition
            1..9
            ok 1 - type is Function
            ok 2 - type is Function
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - expect falsey value
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
        ok 1 - Should retrieve the serialization function from the Schema definition # time=25.2ms
        
        # Subtest: Should retrieve the serialization function from the cached one
            1..6
            ok 1 - type is Function
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
        ok 2 - Should retrieve the serialization function from the cached one # time=10.206ms
        
        # Subtest: Should not instantiate a WeakMap if it is not needed
            1..4
            ok 1 - expect falsey value
            ok 2 - should be equal
            ok 3 - expect falsey value
            ok 4 - should be equal
        ok 3 - Should not instantiate a WeakMap if it is not needed # time=20.27ms
        
    ok 2 - Reply\#getSerializationFunction # time=73.925ms
    
    # Subtest: Reply\#serializeInput
        1..5
        # Subtest: Should throw if missed serialization function from HTTP status
            1..2
            ok 1 - should be equal
            ok 2 - should be equivalent
        ok 1 - Should throw if missed serialization function from HTTP status # time=42.131ms
        
        # Subtest: Should use a serializer fn from HTTP status
            1..4
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
        ok 2 - Should use a serializer fn from HTTP status # time=16.39ms
        
        # Subtest: Should compile a serializer out of a schema if serializer fn missed
            1..10
            ok 1 - should be equal
            ok 2 - expect falsey value
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 3 - Should compile a serializer out of a schema if serializer fn missed # time=9.312ms
        
        # Subtest: Should use a cached serializer fn
            1..12
            ok 1 - should be equal
            ok 2 - expect falsey value
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
            ok 11 - should be equal
            ok 12 - should be equal
        ok 4 - Should use a cached serializer fn # time=9.617ms
        
        # Subtest: Should instantiate a WeakMap after first call
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
        ok 5 - Should instantiate a WeakMap after first call # time=6.923ms
        
    ok 3 - Reply\#serializeInput # time=93.903ms
    
    1..3
    # time=370.807ms
ok 58 - test/internals/reply-serialize.test.js # time=370.807ms

# Subtest: test/internals/reply.test.js
    # Subtest: Once called, Reply should return an object with methods
        1..13
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should be equal
        ok 13 - should be equal
    ok 1 - Once called, Reply should return an object with methods # time=13.765ms
    
    # Subtest: reply.send will logStream error and destroy the stream
        1..1
        ok 1 - Error not logged and not streamed
    ok 2 - reply.send will logStream error and destroy the stream # time=25.671ms
    
    # Subtest: reply.send throw with circular JSON
        1..1
        ok 1 - Converting circular structure to JSON
    ok 3 - reply.send throw with circular JSON # time=1.831ms
    
    # Subtest: reply.send returns itself
        1..1
        ok 1 - should be equal
    ok 4 - reply.send returns itself # time=1.547ms
    
    # Subtest: reply.serializer should set a custom serializer
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 5 - reply.serializer should set a custom serializer # time=1.084ms
    
    # Subtest: reply.serializer should support running preSerialization hooks
        1..3
        ok 1 - preSerialization
        ok 2 - should not error
        ok 3 - should be equal
    ok 6 - reply.serializer should support running preSerialization hooks # time=828.481ms
    
    # Subtest: reply.serialize should serialize payload
        1..1
        ok 1 - should be equal
    ok 7 - reply.serialize should serialize payload # time=1.24ms
    
    # Subtest: reply.serialize should serialize payload with a custom serializer
        1..2
        ok 1 - should be equal
        ok 2 - custom serializer not called
    ok 8 - reply.serialize should serialize payload with a custom serializer # time=1.213ms
    
    # Subtest: reply.serialize should serialize payload with a context default serializer
        1..2
        ok 1 - should be equal
        ok 2 - custom serializer not called
    ok 9 - reply.serialize should serialize payload with a context default serializer # time=1.276ms
    
    # Subtest: reply.serialize should serialize payload with Fastify instance
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - reply.serialize should serialize payload with Fastify instance # time=25.812ms
    
    # Subtest: within an instance
        ok 1 - should not error
        # Subtest: custom serializer should be used
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - custom serializer should be used # time=35.423ms
        
        # Subtest: status code and content-type should be correct
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 3 - status code and content-type should be correct # time=21.974ms
        
        # Subtest: auto status code shoud be 200
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - auto status code shoud be 200 # time=4.996ms
        
        # Subtest: auto type shoud be text/plain
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - auto type shoud be text/plain # time=4.539ms
        
        # Subtest: redirect to `/` - 1
            1..1
            ok 1 - should be equal
        ok 6 - redirect to `/` - 1 # time=18.025ms
        
        # Subtest: redirect to `/` - 2
            1..1
            ok 1 - should be equal
        ok 7 - redirect to `/` - 2 # time=3.72ms
        
        # Subtest: redirect to `/` - 3
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 8 - redirect to `/` - 3 # time=7.621ms
        
        # Subtest: redirect to `/` - 4
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 9 - redirect to `/` - 4 # time=7.933ms
        
        # Subtest: redirect to `/` - 5
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
        ok 10 - redirect to `/` - 5 # time=3.472ms
        
        # Subtest: redirect to `/` - 6
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 11 - redirect to `/` - 6 # time=6.543ms
        
        # Subtest: redirect to `/` - 7
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 12 - redirect to `/` - 7 # time=6.975ms
        
        # Subtest: redirect to `/` - 8
            1..1
            ok 1 - should be equal
        ok 13 - redirect to `/` - 8 # time=3.014ms
        
        # Subtest: redirect to `/` - 9
            1..1
            ok 1 - should be equal
        ok 14 - redirect to `/` - 9 # time=3.174ms
        
        # Subtest: redirect with async function to `/` - 10
            1..1
            ok 1 - should be equal
        ok 15 - redirect with async function to `/` - 10 # time=3.176ms
        
        1..15
    ok 11 - within an instance # time=189.038ms
    
    # Subtest: buffer without content type should send a application/octet-stream and raw buffer
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 12 - buffer without content type should send a application/octet-stream and raw buffer # time=23.591ms
    
    # Subtest: buffer with content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 13 - buffer with content type should not send application/octet-stream # time=17.139ms
    
    # Subtest: stream with content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 14 - stream with content type should not send application/octet-stream # time=18.046ms
    
    # Subtest: stream without content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 15 - stream without content type should not send application/octet-stream # time=71.997ms
    
    # Subtest: stream using reply.raw.writeHead should return customize headers
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 16 - stream using reply.raw.writeHead should return customize headers # time=42.562ms
    
    # Subtest: plain string without content type should send a text/plain
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 17 - plain string without content type should send a text/plain # time=12.921ms
    
    # Subtest: plain string with content type should be sent unmodified
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - plain string with content type should be sent unmodified # time=8.752ms
    
    # Subtest: plain string with content type and custom serializer should be serialized
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 19 - plain string with content type and custom serializer should be serialized # time=21.854ms
    
    # Subtest: plain string with content type application/json should NOT be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 20 - plain string with content type application/json should NOT be serialized as json # time=16.784ms
    
    # Subtest: plain string with custom json content type should NOT be serialized as json
        1..19
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equivalent
    ok 21 - plain string with custom json content type should NOT be serialized as json # time=22.244ms
    
    # Subtest: non-string with content type application/json SHOULD be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 22 - non-string with content type application/json SHOULD be serialized as json # time=27.921ms
    
    # Subtest: non-string with custom json's content-type SHOULD be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 23 - non-string with custom json's content-type SHOULD be serialized as json # time=16.419ms
    
    # Subtest: non-string with custom json content type SHOULD be serialized as json
        1..16
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 24 - non-string with custom json content type SHOULD be serialized as json # time=15.762ms
    
    # Subtest: error object with a content type that is not application/json should work
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 25 - error object with a content type that is not application/json should work # time=7.512ms
    
    # Subtest: undefined payload should be sent as-is
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 26 - undefined payload should be sent as-is # time=9.897ms
    
    # Subtest: for HEAD method, no body should be sent but content-length should be
        1..11
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
    ok 27 - for HEAD method, no body should be sent but content-length should be # time=8.725ms
    
    # Subtest: reply.send(new NotFound()) should not invoke the 404 handler
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 28 - reply.send(new NotFound()) should not invoke the 404 handler # time=12.275ms
    
    # Subtest: reply can set multiple instances of same header
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - expect truthy value
        ok 4 - should be equivalent strictly
    ok 29 - reply can set multiple instances of same header # time=10.316ms
    
    # Subtest: reply.hasHeader returns correct values
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 30 - reply.hasHeader returns correct values # time=4.935ms
    
    # Subtest: reply.getHeader returns correct values
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
        ok 4 - should be equivalent strictly
    ok 31 - reply.getHeader returns correct values # time=7.643ms
    
    # Subtest: reply.getHeader returns raw header if there is not in the reply headers
        1..1
        ok 1 - should be equal
    ok 32 - reply.getHeader returns raw header if there is not in the reply headers # time=0.694ms
    
    # Subtest: reply.getHeaders returns correct values
        1..3
        ok 1 - should be equivalent strictly
        ok 2 - should be equivalent strictly
        ok 3 - should not error
    ok 33 - reply.getHeaders returns correct values # time=4.922ms
    
    # Subtest: reply.removeHeader can remove the value
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent strictly
        ok 5 - (unnamed test)
    ok 34 - reply.removeHeader can remove the value # time=6.802ms
    
    # Subtest: reply.header can reset the value
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent strictly
        ok 3 - (unnamed test)
    ok 35 - reply.header can reset the value # time=6.149ms
    
    # Subtest: reply.hasHeader computes raw and fastify headers
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - (unnamed test)
    ok 36 - reply.hasHeader computes raw and fastify headers # time=19.043ms
    
    # Subtest: Reply should handle JSON content type with a charset
        1..16
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should not error
        ok 16 - should be equal
    ok 37 - Reply should handle JSON content type with a charset # time=17.52ms
    
    # Subtest: Content type and charset set previously
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 38 - Content type and charset set previously # time=4.399ms
    
    # Subtest: .status() is an alias for .code()
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 39 - .status() is an alias for .code() # time=3.591ms
    
    # Subtest: .statusCode is getter and setter
        1..4
        ok 1 - 200
        ok 2 - 418
        ok 3 - should not error
        ok 4 - should be equal
    ok 40 - .statusCode is getter and setter # time=5.963ms
    
    # Subtest: reply.header setting multiple cookies as multiple Set-Cookie headers
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equivalent strictly
        ok 4 - should not error
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - should be equivalent strictly
    ok 41 - reply.header setting multiple cookies as multiple Set-Cookie headers # time=9.02ms
    
    # Subtest: should emit deprecation warning when trying to modify the reply.sent property
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 42 - should emit deprecation warning when trying to modify the reply.sent property # time=4.308ms
    
    # Subtest: should throw error when passing falsy value to reply.sent
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 43 - should throw error when passing falsy value to reply.sent # time=3.823ms
    
    # Subtest: should throw error when attempting to set reply.sent more than once
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 44 - should throw error when attempting to set reply.sent more than once # time=3.572ms
    
    # Subtest: should not throw error when attempting to set reply.sent if the underlining request was sent
        1..3
        ok 1 - expected to not throw
        ok 2 - should not error
        ok 3 - (unnamed test)
    ok 45 - should not throw error when attempting to set reply.sent if the underlining request was sent # time=7.129ms
    
    # Subtest: reply.getResponseTime() should return 0 before the timer is initialised on the reply by setting up response listeners
        1..1
        ok 1 - should be equal
    ok 46 - reply.getResponseTime() should return 0 before the timer is initialised on the reply by setting up response listeners # time=0.615ms
    
    # Subtest: reply.getResponseTime() should return a number greater than 0 after the timer is initialised on the reply by setting up response listeners
        1..1
        ok 1 - expect truthy value
    ok 47 - reply.getResponseTime() should return a number greater than 0 after the timer is initialised on the reply by setting up response listeners # time=3.891ms
    
    # Subtest: reply.getResponseTime() should return the time since a request started while inflight
        1..1
        ok 1 - should not be equal
    ok 48 - reply.getResponseTime() should return the time since a request started while inflight # time=3.371ms
    
    # Subtest: reply.getResponseTime() should return the same value after a request is finished
        1..1
        ok 1 - should be equal
    ok 49 - reply.getResponseTime() should return the same value after a request is finished # time=3.487ms
    
    # Subtest: reply should use the custom serializer
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 50 - reply should use the custom serializer # time=6.431ms
    
    # Subtest: reply should use the right serializer in encapsulated context
        1..9
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 51 - reply should use the right serializer in encapsulated context # time=9.676ms
    
    # Subtest: reply should use the right serializer in deep encapsulated context
        1..8
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 52 - reply should use the right serializer in deep encapsulated context # time=9.21ms
    
    # Subtest: reply should use the route serializer
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equal
    ok 53 - reply should use the route serializer # time=3.776ms
    
    # Subtest: cannot set the replySerializer when the server is running
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 54 - cannot set the replySerializer when the server is running # time=11.662ms
    
    # Subtest: reply should not call the custom serializer for errors and not found
        1..9
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 55 - reply should not call the custom serializer for errors and not found # time=7.103ms
    
    # Subtest: reply.then
        1..4
        # Subtest: without an error
            1..1
            ok 1 - fulfilled called
        ok 1 - without an error # time=10.619ms
        
        # Subtest: with an error
            1..1
            ok 1 - should be equal
        ok 2 - with an error # time=1.509ms
        
        # Subtest: with error but without reject callback
            1..1
            ok 1 - (unnamed test)
        ok 3 - with error but without reject callback # time=0.969ms
        
        # Subtest: with error, without reject callback, with logger
            1..1
            ok 1 - should be equal
        ok 4 - with error, without reject callback, with logger # time=1.558ms
        
    ok 56 - reply.then # time=21.833ms
    
    # Subtest: reply.sent should read from response.writableEnded if it is defined
        1..1
        ok 1 - should be equal
    ok 57 - reply.sent should read from response.writableEnded if it is defined # time=0.771ms
    
    # Subtest: redirect to an invalid URL should not crash the server
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        1..7
    ok 58 - redirect to an invalid URL should not crash the server # time=23.191ms
    
    # Subtest: invalid response headers should not crash the server
        ok 1 - only the first invalid header is logged
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 59 - invalid response headers should not crash the server # time=7.473ms
    
    # Subtest: invalid response headers when sending back an error
        ok 1 - only the first invalid header is logged
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 60 - invalid response headers when sending back an error # time=6.734ms
    
    # Subtest: invalid response headers and custom error handler
        ok 1 - custom error handler receives the error
        ok 2 - only the first invalid header is logged
        ok 3 - should be equal
        ok 4 - should be equivalent
        1..4
    ok 61 - invalid response headers and custom error handler # time=6.864ms
    
    1..61
    # time=1761.54ms
ok 59 - test/internals/reply.test.js # time=1761.54ms

# Subtest: test/internals/request-validate.test.js
    # Subtest: \#compileValidationSchema
        1..5
        # Subtest: Should return a function - Route without schema
            1..3
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
        ok 1 - Should return a function - Route without schema # time=163.483ms
        
        # Subtest: Should reuse the validate fn across multiple invocations - Route without schema
            1..16
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
            ok 4 - Are the same validate function
            ok 5 - type is Function
            ok 6 - expect truthy value
            ok 7 - expect falsey value
            ok 8 - Are the same validate function
            ok 9 - type is Function
            ok 10 - expect truthy value
            ok 11 - expect falsey value
            ok 12 - Are the same validate function
            ok 13 - type is Function
            ok 14 - expect truthy value
            ok 15 - expect falsey value
            ok 16 - should be equal
        ok 2 - Should reuse the validate fn across multiple invocations - Route without schema # time=44.363ms
        
        # Subtest: Should return a function - Route with schema
            1..3
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
        ok 3 - Should return a function - Route with schema # time=93.302ms
        
        # Subtest: Should use the custom validator compiler for the route
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equivalent
            ok 7 - expect truthy value
            ok 8 - should be equivalent
            ok 9 - expect truthy value
            ok 10 - should be equal
        ok 4 - Should use the custom validator compiler for the route # time=13.037ms
        
        # Subtest: Should instantiate a WeakMap when executed for first time
            1..5
            ok 1 - should be equal
            ok 2 - type is Function
            ok 3 - type is WeakMap
            ok 4 - type is Function
            ok 5 - type is WeakMap
        ok 5 - Should instantiate a WeakMap when executed for first time # time=34.532ms
        
    ok 1 - \#compileValidationSchema # time=378.965ms
    
    # Subtest: \#getValidationFunction
        1..4
        # Subtest: Should return a validation function
            1..1
            ok 1 - should be equal
        ok 1 - Should return a validation function # time=56.197ms
        
        # Subtest: Should return undefined if no schema compiled
            1..2
            ok 1 - expect falsey value
            ok 2 - expect falsey value
        ok 2 - Should return undefined if no schema compiled # time=6.445ms
        
        # Subtest: Should return the validation function from each HTTP part
            1..15
            ok 1 - expect truthy value
            ok 2 - expect truthy value
            ok 3 - expect falsey value
            ok 4 - expect truthy value
            ok 5 - expect truthy value
            ok 6 - expect falsey value
            ok 7 - expect truthy value
            ok 8 - expect truthy value
            ok 9 - expect truthy value
            ok 10 - expect truthy value
            ok 11 - expect falsey value
            ok 12 - should be equal
            ok 13 - expect truthy value
            ok 14 - expect falsey value
            ok 15 - should be equal
        ok 3 - Should return the validation function from each HTTP part # time=94.017ms
        
        # Subtest: Should not set a WeakMap if there is no schema
            1..1
            ok 1 - should be equal
        ok 4 - Should not set a WeakMap if there is no schema # time=19.02ms
        
    ok 2 - \#getValidationFunction # time=191.603ms
    
    # Subtest: \#validate
        1..7
        # Subtest: Should return true/false if input valid - Route without schema
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 1 - Should return true/false if input valid - Route without schema # time=68.334ms
        
        # Subtest: Should use the custom validator compiler for the route
            1..9
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equivalent
            ok 6 - should be equivalent
            ok 7 - expect truthy value
            ok 8 - expect truthy value
            ok 9 - should be equal
        ok 2 - Should use the custom validator compiler for the route # time=9.806ms
        
        # Subtest: Should return true/false if input valid - With Schema for Route defined
            1..8
            ok 1 - expect truthy value
            ok 2 - expect falsey value
            ok 3 - expect falsey value
            ok 4 - expect truthy value
            ok 5 - expect falsey value
            ok 6 - expect truthy value
            ok 7 - expect truthy value
            ok 8 - expect falsey value
        ok 3 - Should return true/false if input valid - With Schema for Route defined # time=110.62ms
        
        # Subtest: Should throw if missing validation fn for HTTP part and not schema provided
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 4 - Should throw if missing validation fn for HTTP part and not schema provided # time=12.985ms
        
        # Subtest: Should throw if missing validation fn for HTTP part and not valid schema provided
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 5 - Should throw if missing validation fn for HTTP part and not valid schema provided # time=34.599ms
        
        # Subtest: Should throw if invalid schema passed
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 6 - Should throw if invalid schema passed # time=35.868ms
        
        # Subtest: Should set a WeakMap if compiling the very first schema
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
        ok 7 - Should set a WeakMap if compiling the very first schema # time=25.937ms
        
    ok 3 - \#validate # time=309.793ms
    
    # Subtest: Nested Context
        1..1
        # Subtest: Level_1
            1..3
            # Subtest: \#compileValidationSchema
                1..4
                # Subtest: Should return a function - Route without schema
                    1..3
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                ok 1 - Should return a function - Route without schema # time=92.955ms
                
                # Subtest: Should reuse the validate fn across multiple invocations - Route without schema
                    1..16
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                    ok 4 - Are the same validate function
                    ok 5 - type is Function
                    ok 6 - expect truthy value
                    ok 7 - expect falsey value
                    ok 8 - Are the same validate function
                    ok 9 - type is Function
                    ok 10 - expect truthy value
                    ok 11 - expect falsey value
                    ok 12 - Are the same validate function
                    ok 13 - type is Function
                    ok 14 - expect truthy value
                    ok 15 - expect falsey value
                    ok 16 - should be equal
                ok 2 - Should reuse the validate fn across multiple invocations - Route without schema # time=55.613ms
                
                # Subtest: Should return a function - Route with schema
                    1..3
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                ok 3 - Should return a function - Route with schema # time=43.963ms
                
                # Subtest: Should use the custom validator compiler for the route
                    1..10
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - should be equal
                    ok 5 - should be equal
                    ok 6 - should be equivalent
                    ok 7 - expect truthy value
                    ok 8 - should be equivalent
                    ok 9 - expect truthy value
                    ok 10 - should be equal
                ok 4 - Should use the custom validator compiler for the route # time=8.534ms
                
            ok 1 - \#compileValidationSchema # time=211.501ms
            
            # Subtest: \#getValidationFunction
                1..6
                # Subtest: Should return a validation function
                    1..1
                    ok 1 - should be equal
                ok 1 - Should return a validation function # time=53.552ms
                
                # Subtest: Should return undefined if no schema compiled
                    1..1
                    ok 1 - expect falsey value
                ok 2 - Should return undefined if no schema compiled # time=4.495ms
                
                # Subtest: Should return the validation function from each HTTP part
                    1..15
                    ok 1 - expect truthy value
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                    ok 4 - expect truthy value
                    ok 5 - expect truthy value
                    ok 6 - expect falsey value
                    ok 7 - expect truthy value
                    ok 8 - expect truthy value
                    ok 9 - expect truthy value
                    ok 10 - expect truthy value
                    ok 11 - expect falsey value
                    ok 12 - should be equal
                    ok 13 - expect truthy value
                    ok 14 - expect falsey value
                    ok 15 - should be equal
                ok 3 - Should return the validation function from each HTTP part # time=63.688ms
                
                # Subtest: Should return a validation function - nested
                    1..6
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - expect falsey value
                    ok 5 - should be equal
                    ok 6 - should be equal
                ok 4 - Should return a validation function - nested # time=7.961ms
                
                # Subtest: Should return undefined if no schema compiled - nested
                    1..3
                    ok 1 - should be equal
                    ok 2 - expect falsey value
                    ok 3 - should be equal
                ok 5 - Should return undefined if no schema compiled - nested # time=21.329ms
                
                # Subtest: Should per-route defined validation compiler
                    1..5
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should not be equal
                    ok 4 - should be equal
                    ok 5 - should be equal
                ok 6 - Should per-route defined validation compiler # time=16.96ms
                
            ok 2 - \#getValidationFunction # time=187.324ms
            
            # Subtest: \#validate
                1..3
                # Subtest: Should return true/false if input valid - Route without schema
                    1..2
                    ok 1 - expect falsey value
                    ok 2 - expect truthy value
                ok 1 - Should return true/false if input valid - Route without schema # time=67.699ms
                
                # Subtest: Should use the custom validator compiler for the route
                    1..10
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - should be equal
                    ok 5 - should be equivalent
                    ok 6 - should be equivalent
                    ok 7 - expect truthy value
                    ok 8 - expect truthy value
                    ok 9 - should be equal
                    ok 10 - should be equal
                ok 2 - Should use the custom validator compiler for the route # time=7.634ms
                
                # Subtest: Should return true/false if input valid - With Schema for Route defined and scoped validator compiler
                    1..13
                    ok 1 - expect truthy value
                    ok 2 - expect falsey value
                    ok 3 - expect falsey value
                    ok 4 - expect truthy value
                    ok 5 - expect falsey value
                    ok 6 - expect truthy value
                    ok 7 - expect truthy value
                    ok 8 - expect falsey value
                    ok 9 - should be equal
                    ok 10 - should be equal
                    ok 11 - should be equal
                    ok 12 - should be equal
                    ok 13 - should be equal
                ok 3 - Should return true/false if input valid - With Schema for Route defined and scoped validator compiler # time=116.849ms
                
            ok 3 - \#validate # time=199.518ms
            
        ok 1 - Level_1 # time=605.449ms
        
    ok 4 - Nested Context # time=610.178ms
    
    1..4
    # time=1503.184ms
ok 60 - test/internals/request-validate.test.js # time=1503.184ms

# Subtest: test/internals/request.test.js
    # Subtest: Regular request
        ok 1 - type is Request
        ok 2 - type is Function
        ok 3 - type is Function
        ok 4 - type is Function
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        1..19
    ok 1 - Regular request # time=12.62ms
    
    # Subtest: Regular request - hostname from authority
        1..2
        ok 1 - type is Request
        ok 2 - should be equal
    ok 2 - Regular request - hostname from authority # time=1.563ms
    
    # Subtest: Regular request - host header has precedence over authority
        1..2
        ok 1 - type is Request
        ok 2 - should be equal
    ok 3 - Regular request - host header has precedence over authority # time=0.971ms
    
    # Subtest: Request with trust proxy
        1..18
        ok 1 - type is _Request
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - type is Function
        ok 17 - type is Function
        ok 18 - type is Function
    ok 4 - Request with trust proxy # time=18.456ms
    
    # Subtest: Request with trust proxy, encrypted
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 5 - Request with trust proxy, encrypted # time=1.114ms
    
    # Subtest: Request with trust proxy - no x-forwarded-host header
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 6 - Request with trust proxy - no x-forwarded-host header # time=0.889ms
    
    # Subtest: Request with trust proxy - no x-forwarded-host header and fallback to authority
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 7 - Request with trust proxy - no x-forwarded-host header and fallback to authority # time=0.929ms
    
    # Subtest: Request with trust proxy - x-forwarded-host header has precedence over host
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 8 - Request with trust proxy - x-forwarded-host header has precedence over host # time=1.056ms
    
    # Subtest: Request with trust proxy - handles multiple entries in x-forwarded-host/proto
        1..3
        ok 1 - type is _Request
        ok 2 - should be equal
        ok 3 - should be equal
    ok 9 - Request with trust proxy - handles multiple entries in x-forwarded-host/proto # time=1.141ms
    
    # Subtest: Request with trust proxy - plain
        1..1
        ok 1 - should be equivalent
    ok 10 - Request with trust proxy - plain # time=0.994ms
    
    # Subtest: Request with undefined socket
        1..18
        ok 1 - type is Request
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equivalent
        ok 16 - type is Function
        ok 17 - type is Function
        ok 18 - type is Function
    ok 11 - Request with undefined socket # time=3.164ms
    
    # Subtest: Request with trust proxy and undefined socket
        1..1
        ok 1 - should be equivalent
    ok 12 - Request with trust proxy and undefined socket # time=0.75ms
    
    1..12
    # time=123.405ms
ok 61 - test/internals/request.test.js # time=123.405ms

# Subtest: test/internals/server.test.js
    # Subtest: start listening
        ok 1 - server started
        1..1
    ok 1 - start listening # time=43.751ms
    
    # Subtest: DNS errors does not stop the main server on localhost - promise interface
        ok 1 - server started
        1..1
    ok 2 - DNS errors does not stop the main server on localhost - promise interface # time=18.327ms
    
    # Subtest: DNS errors does not stop the main server on localhost - callback interface
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 3 - DNS errors does not stop the main server on localhost - callback interface # time=18.256ms
    
    # Subtest: DNS returns empty binding
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 4 - DNS returns empty binding # time=18.449ms
    
    # Subtest: DNS returns more than two binding
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 5 - DNS returns more than two binding # time=14.952ms
    
    1..5
    # time=122.698ms
ok 62 - test/internals/server.test.js # time=122.698ms

# Subtest: test/internals/validation.test.js
    # Subtest: Symbols
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 1 - Symbols # time=7.178ms
    
    # Subtest: compileSchemasForValidation schema - missing schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - compileSchemasForValidation schema - missing schema # time=1.815ms
    
    # Subtest: compileSchemasForValidation schema - missing output schema
        1..1
        ok 1 - should be equal
    ok 3 - compileSchemasForValidation schema - missing output schema # time=0.968ms
    
    # Subtest: compileSchemasForSerialization schema - missing schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - compileSchemasForSerialization schema - missing schema # time=1.346ms
    
    # Subtest: compileSchemasForSerialization schema - missing output schema
        1..1
        ok 1 - should be equal
    ok 5 - compileSchemasForSerialization schema - missing output schema # time=0.605ms
    
    # Subtest: build schema - output schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 6 - build schema - output schema # time=82.363ms
    
    # Subtest: build schema - payload schema
        1..1
        ok 1 - should be equal
    ok 7 - build schema - payload schema # time=1.981ms
    
    # Subtest: build schema - avoid repeated normalize schema
        1..3
        ok 1 - should not be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 8 - build schema - avoid repeated normalize schema # time=2.164ms
    
    # Subtest: build schema - query schema
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 9 - build schema - query schema # time=2.694ms
    
    # Subtest: build schema - query schema abbreviated
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 10 - build schema - query schema abbreviated # time=5.726ms
    
    # Subtest: build schema - querystring schema
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 11 - build schema - querystring schema # time=3.06ms
    
    # Subtest: build schema - querystring schema abbreviated
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 12 - build schema - querystring schema abbreviated # time=2.554ms
    
    # Subtest: build schema - must throw if querystring and query schema exist
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 13 - build schema - must throw if querystring and query schema exist # time=1.223ms
    
    # Subtest: build schema - params schema
        1..1
        ok 1 - should be equal
    ok 14 - build schema - params schema # time=1.891ms
    
    # Subtest: build schema - headers schema
        1..1
        ok 1 - should be equal
    ok 15 - build schema - headers schema # time=2.559ms
    
    # Subtest: build schema - headers are lowercase
        1..1
        ok 1 - lowercase content-type exists
    ok 16 - build schema - headers are lowercase # time=0.802ms
    
    # Subtest: build schema - headers are not lowercased in case of custom object
        1..1
        ok 1 - type is Headers
    ok 17 - build schema - headers are not lowercased in case of custom object # time=0.59ms
    
    # Subtest: build schema - uppercased headers are not included
        1..1
        ok 1 - uppercase does not exist
    ok 18 - build schema - uppercased headers are not included # time=0.653ms
    
    1..18
    # time=196.971ms
ok 63 - test/internals/validation.test.js # time=196.971ms

# Subtest: test/keepAliveTimeout.test.js
    # Subtest: keepAliveTimeout
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not be equal
        ok 6 - should be equal
    ok 1 - keepAliveTimeout # time=42.439ms
    
    1..1
    # time=51.149ms
ok 64 - test/keepAliveTimeout.test.js # time=51.149ms

# Subtest: test/listen.deprecated.test.js
    # Subtest: listen accepts a port and a callback
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 1 - listen accepts a port and a callback # time=31.164ms
    
    # Subtest: listen accepts a port and a callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 2 - listen accepts a port and a callback with (err, address) # time=5.442ms
    
    # Subtest: listen accepts a port, address, and callback
        1..1
        ok 1 - should not error
    ok 3 - listen accepts a port, address, and callback # time=12.275ms
    
    # Subtest: listen accepts options, backlog and a callback
        1..1
        ok 1 - should not error
    ok 4 - listen accepts options, backlog and a callback # time=14.83ms
    
    # Subtest: listen accepts options (no port), backlog and a callback
        1..1
        ok 1 - should not error
    ok 5 - listen accepts options (no port), backlog and a callback # time=4.333ms
    
    # Subtest: listen accepts options (no host), backlog and a callback
        1..1
        ok 1 - should not error
    ok 6 - listen accepts options (no host), backlog and a callback # time=3.538ms
    
    # Subtest: listen accepts options (no port, no host), backlog and a callback
        1..1
        ok 1 - should not error
    ok 7 - listen accepts options (no port, no host), backlog and a callback # time=6.427ms
    
    # Subtest: listen accepts a port, address and a callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 8 - listen accepts a port, address and a callback with (err, address) # time=4.732ms
    
    # Subtest: listen accepts a port, address, backlog and callback
        1..1
        ok 1 - should not error
    ok 9 - listen accepts a port, address, backlog and callback # time=4.932ms
    
    # Subtest: listen accepts a port, address, backlog and callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 10 - listen accepts a port, address, backlog and callback with (err, address) # time=12.787ms
    
    # Subtest: listen without callback (port zero)
        1..1
        ok 1 - should be equal
    ok 11 - listen without callback (port zero) # time=5.887ms
    
    # Subtest: listen without callback (port not given)
        1..1
        ok 1 - should be equal
    ok 12 - listen without callback (port not given) # time=3.638ms
    
    # Subtest: listen null without callback with (address)
        1..1
        ok 1 - should be equal
    ok 13 - listen null without callback with (address) # time=6.807ms
    
    # Subtest: listen without port without callback with (address)
        1..1
        ok 1 - should be equal
    ok 14 - listen without port without callback with (address) # time=3.479ms
    
    # Subtest: listen with undefined without callback with (address)
        1..1
        ok 1 - should be equal
    ok 15 - listen with undefined without callback with (address) # time=3.349ms
    
    # Subtest: listen when firstArg is string(pipe) and without backlog
        1..1
        ok 1 - should be equal
    ok 16 - listen when firstArg is string(pipe) and without backlog # time=4.416ms
    
    # Subtest: listen when firstArg is string(pipe) and with backlog
        1..1
        ok 1 - should be equal
    ok 17 - listen when firstArg is string(pipe) and with backlog # time=3.371ms
    
    # Subtest: listen when firstArg is { path: string(pipe) } and with backlog and callback
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 18 - listen when firstArg is { path: string(pipe) } and with backlog and callback # time=3.227ms
    
    1..18
    # time=231.76ms
ok 65 - test/listen.deprecated.test.js # time=231.76ms

# Subtest: test/listen.test.js
    # Subtest: listen works without arguments
        ok 1 - should be equal
        ok 2 - expect truthy value
        1..2
    ok 1 - listen works without arguments # time=29.855ms
    
    # Subtest: Async/await listen with arguments
        1..1
        ok 1 - should be equal
    ok 2 - Async/await listen with arguments # time=4.89ms
    
    # Subtest: Promise listen with arguments
        1..1
        ok 1 - should be equal
    ok 3 - Promise listen with arguments # time=7.777ms
    
    # Subtest: listen accepts a callback
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 4 - listen accepts a callback # time=17.447ms
    
    # Subtest: listen accepts options and a callback
        1..1
        ok 1 - should not error
    ok 5 - listen accepts options and a callback # time=5.37ms
    
    # Subtest: listen after Promise.resolve()
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 6 - listen after Promise.resolve() # time=4.399ms
    
    # Subtest: register after listen using Promise.resolve()
        1..1
        ok 1 - resolved
    ok 7 - register after listen using Promise.resolve() # time=10.907ms
    
    # Subtest: double listen errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
    ok 8 - double listen errors # time=4.697ms
    
    # Subtest: double listen errors callback with (err, address)
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 9 - double listen errors callback with (err, address) # time=5.348ms
    
    # Subtest: listen twice on the same port
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 10 - listen twice on the same port # time=11.659ms
    
    # Subtest: listen twice on the same port callback with (err, address)
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 11 - listen twice on the same port callback with (err, address) # time=8.107ms
    
    # Subtest: listen on socket
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent strictly
        ok 3 - should be equal
    ok 12 - listen on socket # time=15.194ms
    
    # Subtest: listen without callback with (address)
        1..1
        ok 1 - should be equal
    ok 13 - listen without callback with (address) # time=6.032ms
    
    # Subtest: double listen without callback rejects
        1..1
        ok 1 - expect truthy value
    ok 14 - double listen without callback rejects # time=19.893ms
    
    # Subtest: double listen without callback with (address)
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 15 - double listen without callback with (address) # time=4.016ms
    
    # Subtest: listen twice on the same port without callback rejects
        1..1
        ok 1 - expect truthy value
    ok 16 - listen twice on the same port without callback rejects # time=6.185ms
    
    # Subtest: listen twice on the same port without callback rejects with (address)
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 17 - listen twice on the same port without callback rejects with (address) # time=7.189ms
    
    # Subtest: listen on invalid port without callback rejects
        ok 1 - expect truthy value
        1..1
    ok 18 - listen on invalid port without callback rejects # time=3.368ms
    
    # Subtest: listen logs the port as info
        1..1
        ok 1 - expect truthy value
    ok 19 - listen logs the port as info # time=5.824ms
    
    # Subtest: listen on localhost binds IPv4 and IPv6 - promise interface
        1..2
        ok 1 - should be equal
        ok 2 - should be equivalent
    ok 20 - listen on localhost binds IPv4 and IPv6 - promise interface # time=25.617ms
    
    # Subtest: listen on localhost binds to all interfaces (both IPv4 and IPv6 if present) - callback interface
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 21 - listen on localhost binds to all interfaces (both IPv4 and IPv6 if present) - callback interface # time=10.197ms
    
    # Subtest: addresses getter
        1..4
        ok 1 - before ready
        ok 2 - after ready
        ok 3 - after listen
        ok 4 - after close
    ok 22 - addresses getter # time=26.143ms
    
    1..22
    # time=336.45ms
ok 66 - test/listen.test.js # time=336.45ms

# Subtest: test/logger.test.js
    # Subtest: defaults to info level
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
        ok 13 - responseTime is defined
        1..13
    ok 1 - defaults to info level # time=86.533ms
    
    # Subtest: test log stream
        1..12
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
    ok 2 - test log stream # time=27.499ms
    
    # Subtest: test error log stream
        1..11
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - reqId is defined
        ok 9 - res is defined
        ok 10 - message is set
        ok 11 - statusCode is 500
    ok 3 - test error log stream # time=70.053ms
    
    # Subtest: can use external logger instance
        1..6
        ok 1 - "Server listening at http://127.0.0.1:38193" dont match "/^Server listening at /"
        ok 2 - should not error
        ok 3 - "incoming request" dont match "/^incoming request$/"
        ok 4 - expect truthy value
        ok 5 - "log success" dont match "/^log success$/"
        ok 6 - "request completed" dont match "/^request completed$/"
    ok 4 - can use external logger instance # time=16.356ms
    
    # Subtest: can use external logger instance with custom serializer
        1..6
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - expect truthy value
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 5 - can use external logger instance with custom serializer # time=14.65ms
    
    # Subtest: expose the logger
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equivalent
    ok 6 - expose the logger # time=2.379ms
    
    # Subtest: The request id header key can be customized
        1..9
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - message is set
        ok 6 - should be equal
        ok 7 - message is set
        ok 8 - should be equal
        ok 9 - message is set
    ok 7 - The request id header key can be customized # time=30.377ms
    
    # Subtest: The request id header key can be customized along with a custom id generator
        1..12
        ok 1 - should match pattern provided
        ok 2 - should be equal
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should be equal
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
    ok 8 - The request id header key can be customized along with a custom id generator # time=17.953ms
    
    # Subtest: The request id log label can be changed
        1..6
        ok 1 - should match pattern provided
        ok 2 - should be equal
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should not error
        ok 6 - should be equal
    ok 9 - The request id log label can be changed # time=9.525ms
    
    # Subtest: The logger should accept custom serializer
        1..9
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - req is defined
        ok 4 - message is set
        ok 5 - custom req serializer is use
        ok 6 - expect truthy value
        ok 7 - res is defined
        ok 8 - message is set
        ok 9 - default res serializer is use
    ok 10 - The logger should accept custom serializer # time=20.926ms
    
    # Subtest: reply.send logs an error if called twice in a row
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
    ok 11 - reply.send logs an error if called twice in a row # time=46.562ms
    
    # Subtest: logger can be silented
        1..17
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equivalent
        ok 10 - should be equivalent
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equivalent
        ok 14 - should be equivalent
        ok 15 - should be equivalent
        ok 16 - should be equivalent
        ok 17 - should be equivalent
    ok 12 - logger can be silented # time=6.792ms
    
    # Subtest: Should set a custom logLevel for a plugin
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equivalent
    ok 13 - Should set a custom logLevel for a plugin # time=35.576ms
    
    # Subtest: Should set a custom logSerializers for a plugin
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 14 - Should set a custom logSerializers for a plugin # time=17.466ms
    
    # Subtest: Should set a custom logLevel for every plugin
        1..18
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equivalent
        ok 15 - should not error
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equivalent
    ok 15 - Should set a custom logLevel for every plugin # time=18.98ms
    
    # Subtest: Should set a custom logSerializers for every plugin
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 16 - Should set a custom logSerializers for every plugin # time=38.744ms
    
    # Subtest: Should override serializers from route
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 17 - Should override serializers from route # time=8.75ms
    
    # Subtest: Should override serializers from plugin
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 18 - Should override serializers from plugin # time=19.178ms
    
    # Subtest: Should use serializers from plugin and route
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 19 - Should use serializers from plugin and route # time=11.975ms
    
    # Subtest: Should use serializers from instance fastify and route
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 20 - Should use serializers from instance fastify and route # time=6.81ms
    
    # Subtest: Should use serializers inherit from contexts
        1..5
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 21 - Should use serializers inherit from contexts # time=14.268ms
    
    # Subtest: Should increase the log level for a specific plugin
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 22 - Should increase the log level for a specific plugin # time=15.216ms
    
    # Subtest: Should set the log level for the customized 404 handler
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 23 - Should set the log level for the customized 404 handler # time=7.056ms
    
    # Subtest: Should set the log level for the customized 500 handler
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 24 - Should set the log level for the customized 500 handler # time=7.259ms
    
    # Subtest: Should set a custom log level for a specific route
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equivalent
    ok 25 - Should set a custom log level for a specific route # time=8.997ms
    
    # Subtest: The default 404 handler logs the incoming request
        1..5
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
    ok 26 - The default 404 handler logs the incoming request # time=6.978ms
    
    # Subtest: should serialize request and response
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 27 - should serialize request and response # time=6.281ms
    
    # Subtest: Wrap IPv6 address in listening log message
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 28 - Wrap IPv6 address in listening log message # time=3.831ms
    
    # Subtest: Do not wrap IPv4 address
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 29 - Do not wrap IPv4 address # time=3.946ms
    
    # Subtest: file option
        1..13
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - listen at log message is ok
        ok 4 - reqId is defined
        ok 5 - req is defined
        ok 6 - message is set
        ok 7 - method is get
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
        ok 13 - responseTime is defined
    ok 30 - file option # time=16.931ms
    
    # Subtest: should log the error if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 31 - should log the error if no error handler is defined # time=10.622ms
    
    # Subtest: should log as info if error status code >= 400 and < 500 if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 32 - should log as info if error status code >= 400 and < 500 if no error handler is defined # time=36.431ms
    
    # Subtest: should log as error if error status code >= 500 if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 33 - should log as error if error status code >= 500 if no error handler is defined # time=16.624ms
    
    # Subtest: should not log the error if error handler is defined and it does not error
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - level is correct
        ok 7 - message is set
        ok 8 - status code is set
    ok 34 - should not log the error if error handler is defined and it does not error # time=15.221ms
    
    # Subtest: should not rely on raw request to log errors
        1..7
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - status code is set
    ok 35 - should not rely on raw request to log errors # time=33.421ms
    
    # Subtest: should redact the authorization header if so specified
        1..7
        ok 1 - listen at log message is ok
        ok 2 - should not error
        ok 3 - authorization is redacted
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 36 - should redact the authorization header if so specified # time=45.605ms
    
    # Subtest: should not log incoming request and outgoing response when disabled
        1..3
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should be equivalent
    ok 37 - should not log incoming request and outgoing response when disabled # time=6.64ms
    
    # Subtest: should not log incoming request and outgoing response for 404 onBadUrl when disabled
        1..1
        ok 1 - should be equivalent
    ok 38 - should not log incoming request and outgoing response for 404 onBadUrl when disabled # time=8.909ms
    
    # Subtest: should pass when using unWritable props in the logger option
        1..1
        ok 1 - (unnamed test)
    ok 39 - should pass when using unWritable props in the logger option # time=2.664ms
    
    # Subtest: should be able to use a custom logger
        1..1
        ok 1 - (unnamed test)
    ok 40 - should be able to use a custom logger # time=25.037ms
    
    # Subtest: should create a default logger if provided one is invalid
        1..1
        ok 1 - (unnamed test)
    ok 41 - should create a default logger if provided one is invalid # time=1.735ms
    
    # Subtest: should not throw error when serializing custom req
        1..1
        ok 1 - should be equivalent
    ok 42 - should not throw error when serializing custom req # time=1.982ms
    
    1..42
    # time=995.453ms
ok 67 - test/logger.test.js # time=995.453ms

# Subtest: test/maxRequestsPerSocket.test.js
    # Subtest: maxRequestsPerSocket on node version >= 16.10.0
        1..8
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should match pattern provided
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
    ok 1 - maxRequestsPerSocket on node version >= 16.10.0 # time=71.208ms
    
    # Subtest: maxRequestsPerSocket zero should behave same as null
        1..10
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should match pattern provided
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
        ok 9 - should match pattern provided
        ok 10 - should match pattern provided
    ok 2 - maxRequestsPerSocket zero should behave same as null # time=17.239ms
    
    # Subtest: maxRequestsPerSocket should be set
        1..1
        ok 1 - should be equivalent
    ok 3 - maxRequestsPerSocket should be set # time=2.173ms
    
    # Subtest: maxRequestsPerSocket should 0
        1..1
        ok 1 - should be equivalent
    ok 4 - maxRequestsPerSocket should 0 # time=1.494ms
    
    # Subtest: requestTimeout passed to server
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 5 - requestTimeout passed to server # time=14.541ms
    
    1..5
    # time=117.054ms
ok 68 - test/maxRequestsPerSocket.test.js # time=117.054ms

# Subtest: test/middleware.test.js
    # Subtest: Should be able to override the default use API
        1..1
        ok 1 - should be equal
    ok 1 - Should be able to override the default use API # time=15.885ms
    
    # Subtest: Cannot decorate use twice
        1..1
        ok 1 - expect truthy value
    ok 2 - Cannot decorate use twice # time=2.736ms
    
    # Subtest: Encapsulation works
        1..1
        ok 1 - should be equal
    ok 3 - Encapsulation works # time=12.71ms
    
    1..3
    # time=46.781ms
ok 69 - test/middleware.test.js # time=46.781ms

# Subtest: test/noop-set.test.js
    # Subtest: does a lot of nothing
        ok 1 - type is object
        ok 2 - should be equal
        1..2
    ok 1 - does a lot of nothing # time=6.799ms
    
    1..1
    # time=12.088ms
ok 70 - test/noop-set.test.js # time=12.088ms

# Subtest: test/nullable-validation.test.js
    # Subtest: nullable string
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 1 - nullable string # time=152.114ms
    
    # Subtest: object or null body
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 2 - object or null body # time=62.475ms
    
    # Subtest: nullable body
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 3 - nullable body # time=54.654ms
    
    # Subtest: Nullable body with 204
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 4 - Nullable body with 204 # time=34.289ms
    
    1..4
    # time=311.764ms
ok 71 - test/nullable-validation.test.js # time=311.764ms

# Subtest: test/options.error-handler.test.js
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - OPTIONS can be created # time=9.179ms
    
    # Subtest: OPTIONS without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - OPTIONS without schema can be created # time=1.897ms
    
    # Subtest: OPTIONS with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - OPTIONS with body and querystring # time=1.356ms
    
    # Subtest: OPTIONS with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - OPTIONS with bodyLimit option # time=1.575ms
    
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - OPTIONS can be created # time=2.625ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - OPTIONS - correctly replies # time=68.22ms
    
    # Subtest: OPTIONS - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - OPTIONS - correctly replies with very large body # time=9.531ms
    
    # Subtest: OPTIONS - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - OPTIONS - correctly replies if the content type has the charset # time=5.615ms
    
    # Subtest: OPTIONS without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - OPTIONS without schema - correctly replies # time=5.346ms
    
    # Subtest: OPTIONS with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - OPTIONS with body and querystring - correctly replies # time=5.567ms
    
    # Subtest: OPTIONS with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - OPTIONS with no body - correctly replies # time=26.572ms
    
    # Subtest: OPTIONS returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - OPTIONS returns 415 - incorrect media type if body is not json # time=4.055ms
    
    # Subtest: OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text # time=5.371ms
    
    # Subtest: OPTIONS returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 14 - OPTIONS returns 400 - Bad Request # time=9.338ms
    
    # Subtest: OPTIONS returns 413 - Payload Too Large
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - OPTIONS returns 413 - Payload Too Large # time=6.846ms
    
    # Subtest: OPTIONS should fail with empty body and application/json content-type
        1..0
    ok 16 - OPTIONS should fail with empty body and application/json content-type # time=0.626ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - OPTIONS - correctly replies # time=4.523ms
    
    # Subtest: OPTIONS - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - OPTIONS - 400 on bad parameters # time=5.187ms
    
    # Subtest: OPTIONS - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - OPTIONS - input-validation coerce # time=4.213ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - OPTIONS - input-validation custom schema compiler # time=4.973ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - OPTIONS - input-validation joi schema compiler ok # time=6.328ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - OPTIONS - input-validation joi schema compiler ko # time=6.382ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - OPTIONS - input-validation yup schema compiler ok # time=6.295ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - OPTIONS - input-validation yup schema compiler ko # time=5.085ms
    
    # Subtest: OPTIONS - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - OPTIONS - input-validation instance custom schema compiler encapsulated # time=3.557ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 26 - OPTIONS - input-validation custom schema compiler encapsulated # time=3.412ms
    
    ok 27 - type is object
    ok 28 - type is Request
    ok 29 - type is object
    ok 30 - type is Request
    ok 31 - type is object
    ok 32 - type is Request
    ok 33 - type is object
    ok 34 - type is Request
    ok 35 - type is object
    ok 36 - type is Request
    1..36
    # time=1168.371ms
ok 72 - test/options.error-handler.test.js # time=1168.371ms

# Subtest: test/options.test.js
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - OPTIONS can be created # time=9.721ms
    
    # Subtest: OPTIONS without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - OPTIONS without schema can be created # time=1.931ms
    
    # Subtest: OPTIONS with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - OPTIONS with body and querystring # time=1.527ms
    
    # Subtest: OPTIONS with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - OPTIONS with bodyLimit option # time=1.742ms
    
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - OPTIONS can be created # time=2.747ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - OPTIONS - correctly replies # time=63.255ms
    
    # Subtest: OPTIONS - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - OPTIONS - correctly replies with very large body # time=9.872ms
    
    # Subtest: OPTIONS - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - OPTIONS - correctly replies if the content type has the charset # time=5.602ms
    
    # Subtest: OPTIONS without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - OPTIONS without schema - correctly replies # time=5.456ms
    
    # Subtest: OPTIONS with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - OPTIONS with body and querystring - correctly replies # time=5.757ms
    
    # Subtest: OPTIONS with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - OPTIONS with no body - correctly replies # time=27.42ms
    
    # Subtest: OPTIONS returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - OPTIONS returns 415 - incorrect media type if body is not json # time=4.333ms
    
    # Subtest: OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text # time=5.52ms
    
    # Subtest: OPTIONS returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 14 - OPTIONS returns 400 - Bad Request # time=7.873ms
    
    # Subtest: OPTIONS returns 413 - Payload Too Large
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - OPTIONS returns 413 - Payload Too Large # time=7.189ms
    
    # Subtest: OPTIONS should fail with empty body and application/json content-type
        1..0
    ok 16 - OPTIONS should fail with empty body and application/json content-type # time=0.615ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - OPTIONS - correctly replies # time=4.909ms
    
    # Subtest: OPTIONS - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - OPTIONS - 400 on bad parameters # time=5.234ms
    
    # Subtest: OPTIONS - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - OPTIONS - input-validation coerce # time=4.614ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - OPTIONS - input-validation custom schema compiler # time=4.666ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - OPTIONS - input-validation joi schema compiler ok # time=6.285ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - OPTIONS - input-validation joi schema compiler ko # time=6.528ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - OPTIONS - input-validation yup schema compiler ok # time=6.473ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - OPTIONS - input-validation yup schema compiler ko # time=5.672ms
    
    # Subtest: OPTIONS - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - OPTIONS - input-validation instance custom schema compiler encapsulated # time=4.166ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 26 - OPTIONS - input-validation custom schema compiler encapsulated # time=4.292ms
    
    1..26
    # time=1057.12ms
ok 73 - test/options.test.js # time=1057.12ms

# Subtest: test/output-validation.test.js
    # Subtest: shorthand - output string
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - output string # time=10.243ms
    
    # Subtest: shorthand - output number
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - output number # time=2.245ms
    
    # Subtest: wrong object for schema - output
        1..1
        ok 1 - (unnamed test)
    ok 3 - wrong object for schema - output # time=2.057ms
    
    # Subtest: empty response
        1..1
        ok 1 - (unnamed test)
    ok 4 - empty response # time=2.375ms
    
    # Subtest: unlisted response code
        1..1
        ok 1 - (unnamed test)
    ok 5 - unlisted response code # time=2.155ms
    
    ok 6 - should not error
    # Subtest: shorthand - string get ok
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - shorthand - string get ok # time=38.739ms
    
    # Subtest: shorthand - number get ok
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 8 - shorthand - number get ok # time=6.884ms
    
    # Subtest: shorthand - wrong-object-for-schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 9 - shorthand - wrong-object-for-schema # time=7.227ms
    
    # Subtest: shorthand - empty
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - shorthand - empty # time=5.485ms
    
    # Subtest: shorthand - 400
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - shorthand - 400 # time=5.317ms
    
    1..11
    # time=320.175ms
ok 74 - test/output-validation.test.js # time=320.175ms

# Subtest: test/patch.error-handler.test.js
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PATCH can be created # time=9.098ms
    
    # Subtest: PATCH without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PATCH without schema can be created # time=1.863ms
    
    # Subtest: PATCH with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PATCH with body and querystring # time=1.672ms
    
    # Subtest: PATCH with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PATCH with bodyLimit option # time=1.499ms
    
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - PATCH can be created # time=2.62ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - PATCH - correctly replies # time=97.865ms
    
    # Subtest: PATCH - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - PATCH - correctly replies with very large body # time=10.11ms
    
    # Subtest: PATCH - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - PATCH - correctly replies if the content type has the charset # time=6.193ms
    
    # Subtest: PATCH without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - PATCH without schema - correctly replies # time=12.623ms
    
    # Subtest: PATCH with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - PATCH with body and querystring - correctly replies # time=13.741ms
    
    # Subtest: PATCH with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - PATCH with no body - correctly replies # time=62.507ms
    
    # Subtest: PATCH returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - PATCH returns 415 - incorrect media type if body is not json # time=18.034ms
    
    # Subtest: PATCH returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 13 - PATCH returns 400 - Bad Request # time=19.359ms
    
    # Subtest: PATCH returns 413 - Payload Too Large
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 14 - PATCH returns 413 - Payload Too Large # time=50.325ms
    
    # Subtest: PATCH should fail with empty body and application/json content-type
        1..12
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
    ok 15 - PATCH should fail with empty body and application/json content-type # time=35.967ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - PATCH - correctly replies # time=6.899ms
    
    # Subtest: PATCH - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - PATCH - 400 on bad parameters # time=5.325ms
    
    # Subtest: PATCH - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - PATCH - input-validation coerce # time=4.687ms
    
    # Subtest: PATCH - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - PATCH - input-validation custom schema compiler # time=4.779ms
    
    # Subtest: PATCH - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - PATCH - input-validation joi schema compiler ok # time=6.291ms
    
    # Subtest: PATCH - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - PATCH - input-validation joi schema compiler ko # time=5.784ms
    
    # Subtest: PATCH - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - PATCH - input-validation yup schema compiler ok # time=6.18ms
    
    # Subtest: PATCH - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - PATCH - input-validation yup schema compiler ko # time=5.669ms
    
    # Subtest: PATCH - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - PATCH - input-validation instance custom schema compiler encapsulated # time=4.034ms
    
    # Subtest: PATCH - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - PATCH - input-validation custom schema compiler encapsulated # time=4.828ms
    
    ok 26 - type is object
    ok 27 - type is Request
    ok 28 - type is object
    ok 29 - type is Request
    ok 30 - type is object
    ok 31 - type is Request
    ok 32 - type is object
    ok 33 - type is Request
    ok 34 - type is object
    ok 35 - type is Request
    ok 36 - type is object
    ok 37 - type is Request
    ok 38 - type is object
    ok 39 - type is Request
    ok 40 - type is object
    ok 41 - type is Request
    ok 42 - type is object
    ok 43 - type is Request
    ok 44 - type is object
    ok 45 - type is Request
    ok 46 - type is object
    ok 47 - type is Request
    ok 48 - type is object
    ok 49 - type is Request
    1..49
    # time=1243.952ms
ok 75 - test/patch.error-handler.test.js # time=1243.952ms

# Subtest: test/patch.test.js
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PATCH can be created # time=9.204ms
    
    # Subtest: PATCH without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PATCH without schema can be created # time=1.885ms
    
    # Subtest: PATCH with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PATCH with body and querystring # time=1.496ms
    
    # Subtest: PATCH with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PATCH with bodyLimit option # time=1.67ms
    
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - PATCH can be created # time=2.652ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - PATCH - correctly replies # time=64.165ms
    
    # Subtest: PATCH - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - PATCH - correctly replies with very large body # time=9.415ms
    
    # Subtest: PATCH - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - PATCH - correctly replies if the content type has the charset # time=5.223ms
    
    # Subtest: PATCH without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - PATCH without schema - correctly replies # time=5.308ms
    
    # Subtest: PATCH with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - PATCH with body and querystring - correctly replies # time=5.964ms
    
    # Subtest: PATCH with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - PATCH with no body - correctly replies # time=25.569ms
    
    # Subtest: PATCH returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - PATCH returns 415 - incorrect media type if body is not json # time=5.92ms
    
    # Subtest: PATCH returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 13 - PATCH returns 400 - Bad Request # time=7.283ms
    
    # Subtest: PATCH returns 413 - Payload Too Large
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 14 - PATCH returns 413 - Payload Too Large # time=14.165ms
    
    # Subtest: PATCH should fail with empty body and application/json content-type
        1..12
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
    ok 15 - PATCH should fail with empty body and application/json content-type # time=19.824ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - PATCH - correctly replies # time=5.097ms
    
    # Subtest: PATCH - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - PATCH - 400 on bad parameters # time=4.67ms
    
    # Subtest: PATCH - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - PATCH - input-validation coerce # time=4.001ms
    
    # Subtest: PATCH - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - PATCH - input-validation custom schema compiler # time=4.157ms
    
    # Subtest: PATCH - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - PATCH - input-validation joi schema compiler ok # time=5.775ms
    
    # Subtest: PATCH - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - PATCH - input-validation joi schema compiler ko # time=5.282ms
    
    # Subtest: PATCH - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - PATCH - input-validation yup schema compiler ok # time=5.156ms
    
    # Subtest: PATCH - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - PATCH - input-validation yup schema compiler ko # time=5.097ms
    
    # Subtest: PATCH - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - PATCH - input-validation instance custom schema compiler encapsulated # time=3.473ms
    
    # Subtest: PATCH - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - PATCH - input-validation custom schema compiler encapsulated # time=3.487ms
    
    1..25
    # time=1175.336ms
ok 76 - test/patch.test.js # time=1175.336ms

# Subtest: test/plugin.test.js
    # Subtest: require a plugin
        1..1
        ok 1 - expect truthy value
    ok 1 - require a plugin # time=99.689ms
    
    # Subtest: plugin metadata - ignore prefix
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 2 - plugin metadata - ignore prefix # time=46.826ms
    
    # Subtest: plugin metadata - naming plugins
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 3 - plugin metadata - naming plugins # time=8.923ms
    
    # Subtest: fastify.register with fastify-plugin should not encapsulate his code
        1..10
        ok 1 - expect falsey value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 4 - fastify.register with fastify-plugin should not encapsulate his code # time=65.487ms
    
    # Subtest: fastify.register with fastify-plugin should provide access to external fastify instance if opts argument is a function
        1..22
        ok 1 - expect falsey value
        ok 2 - expect falsey value
        ok 3 - expect falsey value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect falsey value
        ok 10 - expect truthy value
        ok 11 - expect falsey value
        ok 12 - expect truthy value
        ok 13 - expect truthy value
        ok 14 - should be equal
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - should not error
        ok 18 - expect truthy value
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equal
        ok 22 - should be equivalent
    ok 5 - fastify.register with fastify-plugin should provide access to external fastify instance if opts argument is a function # time=43.85ms
    
    # Subtest: fastify.register with fastify-plugin registers fastify level plugins
        1..15
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should not error
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equivalent
    ok 6 - fastify.register with fastify-plugin registers fastify level plugins # time=23.421ms
    
    # Subtest: check dependencies - should not throw
        1..12
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - should not error
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
    ok 7 - check dependencies - should not throw # time=16.908ms
    
    # Subtest: check dependencies - should throw
        1..12
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - should not error
        ok 7 - expect truthy value
        ok 8 - expect falsey value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
    ok 8 - check dependencies - should throw # time=18.508ms
    
    # Subtest: set the plugin name based on the plugin displayName symbol
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
    ok 9 - set the plugin name based on the plugin displayName symbol # time=8.257ms
    
    # Subtest: plugin name will change when using no encapsulation
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
    ok 10 - plugin name will change when using no encapsulation # time=12.868ms
    
    # Subtest: plugin name is undefined when accessing in no plugin context
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 11 - plugin name is undefined when accessing in no plugin context # time=5.068ms
    
    # Subtest: set the plugin name based on the plugin function name
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 12 - set the plugin name based on the plugin function name # time=25.003ms
    
    # Subtest: approximate a plugin name when no meta data is available
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
    ok 13 - approximate a plugin name when no meta data is available # time=7.79ms
    
    # Subtest: approximate a plugin name also when fastify-plugin has no meta data
        1..4
        ok 1 - should match pattern provided
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should not error
    ok 14 - approximate a plugin name also when fastify-plugin has no meta data # time=52.603ms
    
    # Subtest: plugin encapsulation
        1..10
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 15 - plugin encapsulation # time=35.781ms
    
    # Subtest: if a plugin raises an error and there is not a callback to handle it, the server must not start
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 16 - if a plugin raises an error and there is not a callback to handle it, the server must not start # time=5.031ms
    
    # Subtest: add hooks after route declaration
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 17 - add hooks after route declaration # time=42.76ms
    
    # Subtest: nested plugins
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 18 - nested plugins # time=17.16ms
    
    # Subtest: nested plugins awaited
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 19 - nested plugins awaited # time=15.391ms
    
    # Subtest: plugin metadata - decorators
        1..1
        ok 1 - expect truthy value
    ok 20 - plugin metadata - decorators # time=16.05ms
    
    # Subtest: plugin metadata - decorators - should throw
        1..1
        ok 1 - should be equal
    ok 21 - plugin metadata - decorators - should throw # time=3.29ms
    
    # Subtest: plugin metadata - decorators - should throw with plugin name
        1..1
        ok 1 - should be equal
    ok 22 - plugin metadata - decorators - should throw with plugin name # time=9.559ms
    
    # Subtest: plugin metadata - dependencies
        1..1
        ok 1 - everything right
    ok 23 - plugin metadata - dependencies # time=3.462ms
    
    # Subtest: plugin metadata - dependencies (nested)
        1..1
        ok 1 - everything right
    ok 24 - plugin metadata - dependencies (nested) # time=4.143ms
    
    # Subtest: pluginTimeout
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 25 - pluginTimeout # time=30.437ms
    
    # "pluginTimeout - named function" has `only` set but all tests run
    # Subtest: pluginTimeout - named function
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 26 - pluginTimeout - named function # time=14.513ms
    
    # Subtest: pluginTimeout default
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 27 - pluginTimeout default # time=-161747571.519ms
    
    # Subtest: plugin metadata - version
        1..1
        ok 1 - everything right
    ok 28 - plugin metadata - version # time=6.872ms
    
    # Subtest: plugin metadata - version range
        1..1
        ok 1 - everything right
    ok 29 - plugin metadata - version range # time=3.154ms
    
    # Subtest: plugin metadata - version not matching requirement
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 30 - plugin metadata - version not matching requirement # time=3.263ms
    
    # Subtest: plugin metadata - version not matching requirement 2
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 31 - plugin metadata - version not matching requirement 2 # time=3.115ms
    
    # Subtest: plugin metadata - version not matching requirement 3
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 32 - plugin metadata - version not matching requirement 3 # time=3.087ms
    
    # Subtest: plugin metadata - release candidate
        1..2
        ok 1 - should not error
        ok 2 - everything right
    ok 33 - plugin metadata - release candidate # time=4.772ms
    
    # Subtest: fastify-rc loads prior version plugins
        1..2
        ok 1 - should not error
        ok 2 - everything right
    ok 34 - fastify-rc loads prior version plugins # time=3.661ms
    
    # Subtest: hasPlugin method exists as a function
        1..1
        ok 1 - should be equal
    ok 35 - hasPlugin method exists as a function # time=1.362ms
    
    # Subtest: hasPlugin returns true if the specified plugin has been registered
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
    ok 36 - hasPlugin returns true if the specified plugin has been registered # time=5.766ms
    
    # Subtest: hasPlugin returns false if the specified plugin has not been registered
        1..1
        ok 1 - expect falsey value
    ok 37 - hasPlugin returns false if the specified plugin has not been registered # time=1.3ms
    
    # Subtest: hasPlugin returns false when using encapsulation
        1..25
        ok 1 - expect truthy value
        ok 2 - expect falsey value
        ok 3 - expect falsey value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect truthy value
        ok 8 - expect falsey value
        ok 9 - expect falsey value
        ok 10 - expect falsey value
        ok 11 - expect falsey value
        ok 12 - expect falsey value
        ok 13 - expect truthy value
        ok 14 - expect falsey value
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - expect falsey value
        ok 18 - expect falsey value
        ok 19 - expect truthy value
        ok 20 - expect falsey value
        ok 21 - expect falsey value
        ok 22 - expect falsey value
        ok 23 - expect falsey value
        ok 24 - expect falsey value
        ok 25 - expect truthy value
    ok 38 - hasPlugin returns false when using encapsulation # time=20.448ms
    
    # Subtest: hasPlugin returns true when using no encapsulation
        1..26
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect falsey value
        ok 10 - expect falsey value
        ok 11 - expect falsey value
        ok 12 - expect truthy value
        ok 13 - expect truthy value
        ok 14 - expect truthy value
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - expect truthy value
        ok 18 - expect truthy value
        ok 19 - expect truthy value
        ok 20 - expect truthy value
        ok 21 - expect falsey value
        ok 22 - expect truthy value
        ok 23 - expect truthy value
        ok 24 - expect truthy value
        ok 25 - expect truthy value
        ok 26 - expect truthy value
    ok 39 - hasPlugin returns true when using no encapsulation # time=10.147ms
    
    1..39
    # time=750.763ms
ok 77 - test/plugin.test.js # time=750.763ms

# Subtest: test/pretty-print.test.js
    # Subtest: pretty print - static routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - pretty print - static routes # time=53.817ms
    
    # Subtest: pretty print - parametric routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - pretty print - parametric routes # time=7.576ms
    
    # Subtest: pretty print - mixed parametric routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 3 - pretty print - mixed parametric routes # time=7.82ms
    
    # Subtest: pretty print - wildcard routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - pretty print - wildcard routes # time=8.321ms
    
    # Subtest: pretty print - empty plugins
        1..2
        ok 1 - should be equal
        ok 2 - should match pattern provided
    ok 5 - pretty print - empty plugins # time=7.254ms
    
    # Subtest: pretty print - nested plugins
        1..4
        ok 1 - should be equal
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
    ok 6 - pretty print - nested plugins # time=9.691ms
    
    # Subtest: pretty print - commonPrefix
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 7 - pretty print - commonPrefix # time=31.833ms
    
    # Subtest: pretty print - includeMeta, includeHooks
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 8 - pretty print - includeMeta, includeHooks # time=8.864ms
    
    1..8
    # time=146.499ms
ok 78 - test/pretty-print.test.js # time=146.499ms

./VariantsPureDep/fastify/variant7/fastify

> fastify@4.3.0 test
> npm run lint && npm run unit && npm run test:typescript


> fastify@4.3.0 lint
> npm run lint:standard && npm run lint:typescript && npm run lint:markdown


> fastify@4.3.0 lint:standard
> standard | snazzy


> fastify@4.3.0 lint:typescript
> eslint -c types/.eslintrc.json types/**/*.d.ts test/types/**/*.test-d.ts

./VariantsPureDep/fastify/variant6/fastify

> fastify@4.3.0 test
> npm run lint && npm run unit && npm run test:typescript

-----------------------------|---------|----------|---------|---------|-----------------------------
File                         | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s           
-----------------------------|---------|----------|---------|---------|-----------------------------
All files                    |   92.78 |    92.03 |    92.3 |   92.91 |                             
 fastify                     |   85.23 |    88.12 |   82.14 |    84.9 |                             
  fastify.js                 |   85.23 |    88.12 |   82.14 |    84.9 | ...,676-695,721-724,732-743 
 fastify/lib                 |   93.85 |    92.55 |   94.23 |   94.06 |                             
  contentTypeParser.js       |    97.8 |    99.15 |     100 |   97.64 | 233-236                     
  context.js                 |     100 |      100 |     100 |     100 |                             
  decorate.js                |   98.21 |    98.03 |     100 |   98.07 | 41                          
  error-handler.js           |    94.2 |    93.61 |     100 |    94.2 | 108-110,118                 
  errors.js                  |     100 |      100 |     100 |     100 |                             
  fourOhFour.js              |     100 |      100 |     100 |     100 |                             
  handleRequest.js           |   98.48 |    98.03 |     100 |   98.41 | 97                          
  headRoute.js               |      20 |     12.5 |   33.33 |   14.28 | 4-21,26                     
  hooks.js                   |     100 |      100 |     100 |     100 |                             
  initialConfigValidation.js |     100 |      100 |     100 |     100 |                             
  logger.js                  |     100 |      100 |     100 |     100 |                             
  noop-set.js                |     100 |      100 |     100 |     100 |                             
  pluginOverride.js          |   97.56 |       90 |     100 |    97.5 | 75                          
  pluginUtils.js             |     100 |      100 |     100 |     100 |                             
  reply.js                   |    87.7 |    84.86 |   88.88 |   88.76 | ...-618,622-627,648-654,659 
  reqIdGenFactory.js         |     100 |      100 |     100 |     100 |                             
  request.js                 |   87.96 |    90.62 |      80 |   89.42 | 45-54,157-167,206,211       
  route.js                   |   88.84 |    88.04 |     100 |   88.69 | ...,355-362,396-397,461,465 
  schema-controller.js       |    92.3 |    79.41 |   84.61 |    92.3 | 23,58,71                    
  schemas.js                 |   92.64 |    93.65 |   88.88 |   94.02 | 28,32,43,147                
  server.js                  |     100 |      100 |     100 |     100 |                             
  symbols.js                 |     100 |      100 |     100 |     100 |                             
  validation.js              |   98.55 |    96.55 |     100 |   98.43 | 22                          
  warnings.js                |     100 |      100 |     100 |     100 |                             
  wrapThenable.js            |   93.33 |       90 |     100 |   93.33 | 11                          
-----------------------------|---------|----------|---------|---------|-----------------------------

> fastify@4.3.0 lint
> npm run lint:standard && npm run lint:typescript && npm run lint:markdown


> fastify@4.3.0 lint:standard
> standard | snazzy


> fastify@4.3.0 lint:typescript
> eslint -c types/.eslintrc.json types/**/*.d.ts test/types/**/*.test-d.ts


> fastify@4.3.0 lint:markdown
> markdownlint-cli2

markdownlint-cli2 v0.4.0 (markdownlint v0.25.1)

> fastify@4.3.0 unit
> tap

TAP version 13
# Subtest: test/404s.test.js
    # Subtest: default 404
        1..4
        ok 1 - should not error
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - unsupported method # time=29.185ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - framework-unsupported method # time=8.746ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - unsupported route # time=5.452ms
        
    ok 1 - default 404 # time=180.783ms
    
    # Subtest: customized 404
        1..6
        ok 1 - should not error
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - unsupported method # time=10.403ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - framework-unsupported method # time=4.592ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - unsupported route # time=4.135ms
        
        # Subtest: with error object
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - with error object # time=10.539ms
        
        # Subtest: error object with headers property
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 6 - error object with headers property # time=6.577ms
        
    ok 2 - customized 404 # time=50.267ms
    
    # Subtest: custom header in notFound handler
        1..2
        ok 1 - should not error
        # Subtest: not found with custom header
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
        ok 2 - not found with custom header # time=19.975ms
        
    ok 3 - custom header in notFound handler # time=47.48ms
    
    # Subtest: setting a custom 404 handler multiple times is an error
        1..5
        # Subtest: at the root level
            1..2
            ok 1 - type is Error
            ok 2 - should be equal
        ok 1 - at the root level # time=3.082ms
        
        # Subtest: at the plugin level
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 2 - at the plugin level # time=57.637ms
        
        # Subtest: at multiple levels
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 3 - at multiple levels # time=12.4ms
        
        # Subtest: at multiple levels / 2
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 4 - at multiple levels / 2 # time=28.973ms
        
        # Subtest: in separate plugins at the same level
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 5 - in separate plugins at the same level # time=17.618ms
        
    ok 4 - setting a custom 404 handler multiple times is an error # time=138.304ms
    
    # Subtest: encapsulated 404
        1..13
        ok 1 - should not error
        # Subtest: root unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - root unsupported method # time=23.704ms
        
        # Subtest: root framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - root framework-unsupported method # time=14.317ms
        
        # Subtest: root unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - root unsupported route # time=4.334ms
        
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 5 - unsupported method # time=5.15ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 6 - framework-unsupported method # time=4.898ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 7 - unsupported route # time=4.538ms
        
        # Subtest: unsupported method 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 8 - unsupported method 2 # time=4.751ms
        
        # Subtest: framework-unsupported method 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 9 - framework-unsupported method 2 # time=4.437ms
        
        # Subtest: unsupported route 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 10 - unsupported route 2 # time=4.373ms
        
        # Subtest: unsupported method 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 11 - unsupported method 3 # time=4.867ms
        
        # Subtest: framework-unsupported method 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 12 - framework-unsupported method 3 # time=4.286ms
        
        # Subtest: unsupported route 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 13 - unsupported route 3 # time=4.215ms
        
    ok 5 - encapsulated 404 # time=159.212ms
    
    # Subtest: custom 404 hook and handler context
        1..21
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should not error
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equal
    ok 6 - custom 404 hook and handler context # time=77.348ms
    
    # Subtest: encapsulated custom 404 without - prefix hook and handler context
        1..13
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equal
    ok 7 - encapsulated custom 404 without - prefix hook and handler context # time=11.988ms
    
    # Subtest: run hooks on default 404
        1..7
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - preHandler called
        ok 4 - onSend called
        ok 5 - onResponse called
        ok 6 - should not error
        ok 7 - should be equal
    ok 8 - run hooks on default 404 # time=36.742ms
    
    # Subtest: run non-encapsulated plugin hooks on default 404
        1..6
        ok 1 - onRequest called
        ok 2 - preHandler called
        ok 3 - onSend called
        ok 4 - onResponse called
        ok 5 - should not error
        ok 6 - should be equal
    ok 9 - run non-encapsulated plugin hooks on default 404 # time=10.971ms
    
    # Subtest: run non-encapsulated plugin hooks on custom 404
        1..11
        ok 1 - onRequest called
        ok 2 - onRequest called
        ok 3 - preHandler called
        ok 4 - preHandler called
        ok 5 - onSend called
        ok 6 - onSend called
        ok 7 - onResponse called
        ok 8 - onResponse called
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
    ok 10 - run non-encapsulated plugin hooks on custom 404 # time=11.286ms
    
    # Subtest: run hook with encapsulated 404
        1..11
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - onRequest 2 called
        ok 4 - preHandler called
        ok 5 - preHandler 2 called
        ok 6 - onSend called
        ok 7 - onSend 2 called
        ok 8 - onResponse called
        ok 9 - onResponse 2 called
        ok 10 - should not error
        ok 11 - should be equal
    ok 11 - run hook with encapsulated 404 # time=14.989ms
    
    # Subtest: run hook with encapsulated 404 and framework-unsupported method
        1..11
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - onRequest 2 called
        ok 4 - preHandler called
        ok 5 - preHandler 2 called
        ok 6 - onSend called
        ok 7 - onSend 2 called
        ok 8 - onResponse called
        ok 9 - onResponse 2 called
        ok 10 - should not error
        ok 11 - should be equal
    ok 12 - run hook with encapsulated 404 and framework-unsupported method # time=24.378ms
    
    # Subtest: hooks check 404
        1..13
        ok 1 - should not error
        ok 2 - onRequest
        ok 3 - should be equivalent
        ok 4 - onSend
        ok 5 - onResponse
        ok 6 - onRequest
        ok 7 - should be equivalent
        ok 8 - onSend
        ok 9 - onResponse
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should not error
        ok 13 - should be equal
    ok 13 - hooks check 404 # time=28.307ms
    
    # Subtest: setNotFoundHandler should not suppress duplicated routes checking
        1..1
        ok 1 - expect truthy value
    ok 14 - setNotFoundHandler should not suppress duplicated routes checking # time=3.546ms
    
    # Subtest: log debug for 404
        1..1
        # Subtest: log debug
            1..7
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
        ok 1 - log debug # time=7.922ms
        
    ok 15 - log debug for 404 # time=14.622ms
    
    # Subtest: Unknown method
        1..5
        ok 1 - should not error
        ok 2 - expected to throw
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent strictly
    ok 16 - Unknown method # time=33.902ms
    
    # Subtest: recognizes errors from the http-errors module
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent strictly
    ok 17 - recognizes errors from the http-errors module # time=15.709ms
    
    # Subtest: the default 404 handler can be invoked inside a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
    ok 18 - the default 404 handler can be invoked inside a prefixed plugin # time=6.638ms
    
    # Subtest: an inherited custom 404 handler can be invoked inside a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - an inherited custom 404 handler can be invoked inside a prefixed plugin # time=6.516ms
    
    # Subtest: encapsulated custom 404 handler without a prefix is the handler for the entire 404 level
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 20 - encapsulated custom 404 handler without a prefix is the handler for the entire 404 level # time=10.751ms
    
    # Subtest: cannot set notFoundHandler after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 21 - cannot set notFoundHandler after binding # time=4.359ms
    
    # Subtest: 404 inside onSend
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 22 - 404 inside onSend # time=6.565ms
    
    # Subtest: onSend hooks run when an encapsulated route invokes the notFound handler
        1..3
        ok 1 - onSend hook called
        ok 2 - should not error
        ok 3 - should be equal
    ok 23 - onSend hooks run when an encapsulated route invokes the notFound handler # time=5.617ms
    
    # Subtest: preHandler option for setNotFoundHandler
        1..10
        # Subtest: preHandler option
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 1 - preHandler option # time=37.246ms
        
        # Subtest: preHandler hook in setNotFoundHandler should be called when callNotFound
            1..3
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 2 - preHandler hook in setNotFoundHandler should be called when callNotFound # time=19.995ms
        
        # Subtest: preHandler hook in setNotFoundHandler should accept an array of functions and be called when callNotFound
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 3 - preHandler hook in setNotFoundHandler should accept an array of functions and be called when callNotFound # time=5.646ms
        
        # Subtest: preHandler option should be called after preHandler hook
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 4 - preHandler option should be called after preHandler hook # time=5.213ms
        
        # Subtest: preHandler option should be unique per prefix
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 5 - preHandler option should be unique per prefix # time=9.54ms
        
        # Subtest: preHandler option should handle errors
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 6 - preHandler option should handle errors # time=5.245ms
        
        # Subtest: preHandler option should handle errors with custom status code
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 7 - preHandler option should handle errors with custom status code # time=5.163ms
        
        # Subtest: preHandler option could accept an array of functions
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 8 - preHandler option could accept an array of functions # time=4.563ms
        
        # Subtest: preHandler option does not interfere with preHandler
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 9 - preHandler option does not interfere with preHandler # time=8.957ms
        
        # Subtest: preHandler option should keep the context
            1..3
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 10 - preHandler option should keep the context # time=4.975ms
        
    ok 24 - preHandler option for setNotFoundHandler # time=118.404ms
    
    # Subtest: reply.notFound invoked the notFound handler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - reply.notFound invoked the notFound handler # time=5.055ms
    
    # Subtest: The custom error handler should be invoked after the custom not found handler
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - type is Error
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 26 - The custom error handler should be invoked after the custom not found handler # time=6.264ms
    
    # Subtest: If the custom not found handler does not use an Error, the custom error handler should not be called
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 27 - If the custom not found handler does not use an Error, the custom error handler should not be called # time=4.348ms
    
    # Subtest: preValidation option
        1..3
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 28 - preValidation option # time=4.823ms
    
    # Subtest: preValidation option could accept an array of functions
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 29 - preValidation option could accept an array of functions # time=5.031ms
    
    # Subtest: Should fail to invoke callNotFound inside a 404 handler
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 30 - Should fail to invoke callNotFound inside a 404 handler # time=6.397ms
    
    # Subtest: 400 in case of bad url (pre find-my-way v2.2.0 was a 404)
        # Subtest: Dynamic route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 1 - Dynamic route # time=19.259ms
        
        # Subtest: Wildcard
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - Wildcard # time=5.287ms
        
        # Subtest: No route registered
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - No route registered # time=22.583ms
        
        # Subtest: Only / is registered
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - Only / is registered # time=15.023ms
        
        # Subtest: customized 404
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - customized 404 # time=6.506ms
        
        1..5
    ok 31 - 400 in case of bad url (pre find-my-way v2.2.0 was a 404) # time=76.497ms
    
    # Subtest: setNotFoundHandler should be chaining fastify instance
        # Subtest: Register route after setNotFoundHandler
            1..6
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should not error
            ok 5 - should be equal
            ok 6 - should be equal
        ok 1 - Register route after setNotFoundHandler # time=7.364ms
        
        1..1
    ok 32 - setNotFoundHandler should be chaining fastify instance # time=18.973ms
    
    # Subtest: Send 404 when frameworkError calls reply.callNotFound
        # Subtest: Dynamic route
            1..4
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 1 - Dynamic route # time=6.167ms
        
        1..1
    ok 33 - Send 404 when frameworkError calls reply.callNotFound # time=11.642ms
    
    1..33
    # time=1206.716ms
ok 1 - test/404s.test.js # time=1206.716ms

# Subtest: test/500s.test.js
    # Subtest: default 500
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - default 500 # time=79.702ms
    
    # Subtest: custom 500
        1..6
        ok 1 - type is object
        ok 2 - type is Request
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 2 - custom 500 # time=12.467ms
    
    # Subtest: encapsulated 500
        1..10
        ok 1 - type is object
        ok 2 - type is Request
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 3 - encapsulated 500 # time=45.83ms
    
    # Subtest: custom 500 with hooks
        1..7
        ok 1 - onRequest
        ok 2 - onSend
        ok 3 - onResponse
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 4 - custom 500 with hooks # time=10.726ms
    
    # Subtest: cannot set errorHandler after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 5 - cannot set errorHandler after binding # time=22.603ms
    
    1..5
    # time=182.911ms
ok 2 - test/500s.test.js # time=182.911ms

# Subtest: test/allowUnsafeRegex.test.js
    # Subtest: allow unsafe regex
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - allow unsafe regex # time=68.878ms
    
    # Subtest: allow unsafe regex not match
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 2 - allow unsafe regex not match # time=11.599ms
    
    # Subtest: allow unsafe regex not safe
        1..1
        ok 1 - expected to throw
    ok 3 - allow unsafe regex not safe # time=85.168ms
    
    # Subtest: allow unsafe regex not safe by default
        1..1
        ok 1 - expected to throw
    ok 4 - allow unsafe regex not safe by default # time=3.015ms
    
    # Subtest: allow unsafe regex allow unsafe
        1..5
        ok 1 - expected to not throw
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 5 - allow unsafe regex allow unsafe # time=20.58ms
    
    1..5
    # time=230.269ms
ok 3 - test/allowUnsafeRegex.test.js # time=230.269ms

# Subtest: test/als.test.js
    ok 1 - should not error
    ok 2 - expect truthy value
    ok 3 - should not error
    ok 4 - should be equal
    ok 5 - should be equivalent
    ok 6 - expect truthy value
    ok 7 - should not error
    ok 8 - should be equal
    ok 9 - should be equivalent
    ok 10 - expect truthy value
    ok 11 - should not error
    ok 12 - should be equal
    ok 13 - should be equivalent
    1..13
    # time=43.626ms
ok 4 - test/als.test.js # time=43.626ms

# Subtest: test/async-await.test.js
    # Subtest: async await
        1..11
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 1 - async await # time=317.209ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (undefined)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 2 - ignore the result of the promise if reply.send is called beforehand (undefined) # time=12.898ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (object)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 3 - ignore the result of the promise if reply.send is called beforehand (object) # time=27.59ms
    
    # Subtest: server logs an error if reply.send is called and a value is returned via async/await
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 4 - server logs an error if reply.send is called and a value is returned via async/await # time=97.781ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (undefined)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 5 - ignore the result of the promise if reply.send is called beforehand (undefined) # time=10.286ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (object)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 6 - ignore the result of the promise if reply.send is called beforehand (object) # time=25.713ms
    
    # Subtest: await reply if we will be calling reply.send in the future
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 7 - await reply if we will be calling reply.send in the future # time=14.206ms
    
    # Subtest: await reply if we will be calling reply.send in the future (error case)
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 8 - await reply if we will be calling reply.send in the future (error case) # time=10.071ms
    
    # Subtest: support reply decorators with await
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 9 - support reply decorators with await # time=21.154ms
    
    # Subtest: inject async await
        1..1
        ok 1 - should be equivalent
    ok 10 - inject async await # time=10.945ms
    
    # Subtest: inject async await - when the server equal up
        1..2
        ok 1 - should be equivalent
        ok 2 - should be equivalent
    ok 11 - inject async await - when the server equal up # time=208.874ms
    
    # Subtest: async await plugin
        1..1
        ok 1 - should be equivalent
    ok 12 - async await plugin # time=226.774ms
    
    # Subtest: does not call reply.send() twice if 204 response equal already sent
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - does not call reply.send() twice if 204 response equal already sent # time=4.344ms
    
    # Subtest: promise was fulfilled with undefined
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - promise was fulfilled with undefined # time=16.085ms
    
    # Subtest: error is not logged because promise was fulfilled with undefined but response was sent before promise resolution
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 15 - error is not logged because promise was fulfilled with undefined but response was sent before promise resolution # time=23.611ms
    
    # Subtest: Thrown Error instance sets HTTP status code
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - Thrown Error instance sets HTTP status code # time=12.39ms
    
    # Subtest: customErrorHandler support
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 17 - customErrorHandler support # time=11.604ms
    
    # Subtest: customErrorHandler support without throwing
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - customErrorHandler support without throwing # time=4.93ms
    
    # Subtest: customErrorHandler only called if reply not already sent
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - customErrorHandler only called if reply not already sent # time=4.555ms
    
    # Subtest: setNotFoundHandler should accept return value
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - setNotFoundHandler should accept return value # time=6.496ms
    
    # Subtest: customErrorHandler should accept return value
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 21 - customErrorHandler should accept return value # time=5.337ms
    
    # Subtest: await self
        ok 1 - should be equal
        1..1
    ok 22 - await self # time=3.142ms
    
    1..22
    # time=1101.942ms
ok 5 - test/async-await.test.js # time=1101.942ms

# Subtest: test/bodyLimit.test.js
    # Subtest: bodyLimit
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should not error
        ok 5 - should be equal
    ok 1 - bodyLimit # time=37.834ms
    
    1..1
    # time=42.424ms
ok 6 - test/bodyLimit.test.js # time=42.424ms

# Subtest: test/build/error-serializer.test.js
    # Subtest: check generated code syntax
        1..1
        ok 1 - should be equal
    ok 1 - check generated code syntax # time=3990.308ms
    
    ok 2 - ensure the current error serializer is latest # SKIP
    1..2
    # skip: 1
    # time=4045.589ms
ok 7 - test/build/error-serializer.test.js # time=4045.589ms

# Subtest: test/build/version.test.js
    # Subtest: should be the same as package.json
        1..1
        ok 1 - should be equal
    ok 1 - should be the same as package.json # time=6.347ms
    
    1..1
    # time=11.961ms
ok 8 - test/build/version.test.js # time=11.961ms

# Subtest: test/case-insensitive.test.js
    # Subtest: case insensitive
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - case insensitive # time=70.876ms
    
    # Subtest: case insensitive inject
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - case insensitive inject # time=32.286ms
    
    # Subtest: case insensitive (parametric)
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 3 - case insensitive (parametric) # time=12.715ms
    
    # Subtest: case insensitive (wildcard)
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 4 - case insensitive (wildcard) # time=38.925ms
    
    1..4
    # time=169.84ms
ok 9 - test/case-insensitive.test.js # time=169.84ms

# Subtest: test/chainable.test.js
    # Subtest: chainable - get
        1..1
        ok 1 - type is [object Object]
    ok 1 - chainable - get # time=9.584ms
    
    # Subtest: chainable - post
        1..1
        ok 1 - type is [object Object]
    ok 2 - chainable - post # time=2.149ms
    
    # Subtest: chainable - route
        1..1
        ok 1 - type is [object Object]
    ok 3 - chainable - route # time=2.462ms
    
    1..3
    # time=25.198ms
ok 10 - test/chainable.test.js # time=25.198ms

# Subtest: test/close-pipelining.test.js
    # Subtest: Should return 503 while closing - pipelining
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        1..3
    ok 1 - Should return 503 while closing - pipelining # time=145.432ms
    
    # Subtest: Should not return 503 while closing - pipelining - return503OnClosing
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        1..3
    ok 2 - Should not return 503 while closing - pipelining - return503OnClosing # time=28.138ms
    
    1..2
    # time=192.892ms
ok 11 - test/close-pipelining.test.js # time=192.892ms

# Subtest: test/close.test.js
    # Subtest: close callback
        1..4
        ok 1 - should not error
        ok 2 - type is [object Object]
        ok 3 - should not error
        ok 4 - expect truthy value
    ok 1 - close callback # time=97.78ms
    
    # Subtest: inside register
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - expect truthy value
    ok 2 - inside register # time=39.166ms
    
    # Subtest: close order
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 3 - close order # time=36.1ms
    
    # Subtest: close order - async
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 4 - close order - async # time=11.516ms
    
    # Subtest: should not throw an error if the server is not listening
        1..2
        ok 1 - type is [object Object]
        ok 2 - should not error
    ok 5 - should not throw an error if the server is not listening # time=3.635ms
    
    # Subtest: onClose should keep the context
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
    ok 6 - onClose should keep the context # time=17.389ms
    
    # Subtest: Should return error while closing (promise) - injection
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 7 - Should return error while closing (promise) - injection # time=69.551ms
    
    # Subtest: Should return error while closing (callback) - injection
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 8 - Should return error while closing (callback) - injection # time=114.151ms
    
    # Subtest: Current opened connection should continue to work after closing and return "connection: close" header - return503OnClosing: false
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        1..5
    ok 9 - Current opened connection should continue to work after closing and return "connection: close" header - return503OnClosing: false # time=24.596ms
    
    # Subtest: Current opened connection should not accept new incoming connections
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 10 - Current opened connection should not accept new incoming connections # time=270.328ms
    
    # Subtest: Cannot be reopened the closed server without listen callback
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 11 - Cannot be reopened the closed server without listen callback # time=9.564ms
    
    # Subtest: Cannot be reopened the closed server has listen callback
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 12 - Cannot be reopened the closed server has listen callback # time=5.272ms
    
    ok 13 - shutsdown while keep-alive connections are active (non-async, native) # SKIP
    ok 14 - shutsdown while keep-alive connections are active (non-async, idle, native) # SKIP
    # Subtest: shutsdown while keep-alive connections are active (non-async, custom)
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 15 - shutsdown while keep-alive connections are active (non-async, custom) # time=11.402ms
    
    1..15
    # skip: 2
    # time=726.414ms
ok 12 - test/close.test.js # time=726.414ms

# Subtest: test/connectionTimeout.test.js
    # Subtest: connectionTimeout
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 1 - connectionTimeout # time=41.558ms
    
    1..1
    # time=46.832ms
ok 13 - test/connectionTimeout.test.js # time=46.832ms

# Subtest: test/constrained-routes.test.js
    # Subtest: Should register a host constrained route
        1..7
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 1 - Should register a host constrained route # time=103.956ms
    
    # Subtest: Should register the same route with host constraints
        1..8
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 2 - Should register the same route with host constraints # time=14.072ms
    
    # Subtest: Should allow registering custom constrained routes
        1..8
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 3 - Should allow registering custom constrained routes # time=37.957ms
    
    # Subtest: Should allow registering custom constrained routes outside constructor
        1..8
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 4 - Should allow registering custom constrained routes outside constructor # time=25.242ms
    
    # Subtest: Add a constraint strategy after fastify instance was started
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - Cannot add constraint strategy when fastify instance is already started!
    ok 5 - Add a constraint strategy after fastify instance was started # time=8.549ms
    
    # Subtest: Add a constraint strategy should throw an error if there already exist custom strategy with the same name
        1..1
        ok 1 - There already exists a custom constraint with the name secret.
    ok 6 - Add a constraint strategy should throw an error if there already exist custom strategy with the same name # time=2.196ms
    
    # Subtest: Add a constraint strategy shouldn't throw an error if default constraint with the same name isn't used
        1..1
        ok 1 - (unnamed test)
    ok 7 - Add a constraint strategy shouldn't throw an error if default constraint with the same name isn't used # time=2.464ms
    
    # Subtest: Add a constraint strategy should throw an error if default constraint with the same name is used
        1..1
        ok 1 - There already exists a route with version constraint.
    ok 8 - Add a constraint strategy should throw an error if default constraint with the same name is used # time=2.928ms
    
    # Subtest: The hasConstraintStrategy should return false for default constraints until they are used
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 9 - The hasConstraintStrategy should return false for default constraints until they are used # time=5.573ms
    
    # Subtest: The hasConstraintStrategy should return true if there already exist a custom constraint with the same name
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 10 - The hasConstraintStrategy should return true if there already exist a custom constraint with the same name # time=3.128ms
    
    # Subtest: Should allow registering an unconstrained route after a constrained route
        1..6
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
    ok 11 - Should allow registering an unconstrained route after a constrained route # time=10.115ms
    
    # Subtest: Should allow registering constrained routes in a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 12 - Should allow registering constrained routes in a prefixed plugin # time=32.82ms
    
    # Subtest: Should allow registering a constrained GET route after a constrained HEAD route
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 13 - Should allow registering a constrained GET route after a constrained HEAD route # time=10.68ms
    
    # Subtest: Should allow registering a constrained GET route after an unconstrained HEAD route
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 14 - Should allow registering a constrained GET route after an unconstrained HEAD route # time=9.249ms
    
    # Subtest: Will not try to re-createprefixed HEAD route if it already exists and exposeHeadRoutes is true for constrained routes
        1..1
        ok 1 - expect truthy value
    ok 15 - Will not try to re-createprefixed HEAD route if it already exists and exposeHeadRoutes is true for constrained routes # time=19.461ms
    
    # Subtest: allows separate constrained and unconstrained HEAD routes
        1..1
        ok 1 - expect truthy value
    ok 16 - allows separate constrained and unconstrained HEAD routes # time=5.652ms
    
    1..16
    # time=313.593ms
ok 14 - test/constrained-routes.test.js # time=313.593ms

# Subtest: test/content-length.test.js
    # Subtest: default 413 with bodyLimit option
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - default 413 with bodyLimit option # time=89.07ms
    
    # Subtest: default 400 with wrong content-length
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - default 400 with wrong content-length # time=14.781ms
    
    # Subtest: custom 413 with bodyLimit option
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 3 - custom 413 with bodyLimit option # time=19.408ms
    
    # Subtest: custom 400 with wrong content-length
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 4 - custom 400 with wrong content-length # time=14.09ms
    
    # Subtest: \#2214 - wrong content-length
        ok 1 - should be equal
        1..1
    ok 5 - \#2214 - wrong content-length # time=10.714ms
    
    # Subtest: \#2543 - wrong content-length with errorHandler
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 6 - \#2543 - wrong content-length with errorHandler # time=6.933ms
    
    1..6
    # time=163.573ms
ok 15 - test/content-length.test.js # time=163.573ms

# Subtest: test/content-parser.test.js
    # Subtest: hasContentTypeParser
        1..0
    ok 1 - hasContentTypeParser # time=12.154ms
    
    # Subtest: should know about internal parsers
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
    ok 2 - should know about internal parsers # time=37.162ms
    
    # Subtest: should work with string and RegExp
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect falsey value
    ok 3 - should work with string and RegExp # time=4.425ms
    
    # Subtest: getParser
        1..0
    ok 4 - getParser # time=91.971ms
    
    # Subtest: existingParser
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect falsey value
        1..7
    ok 5 - existingParser # time=15.853ms
    
    # Subtest: add
        1..0
    ok 6 - add # time=11.387ms
    
    # Subtest: non-Error thrown from content parser is properly handled
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 7 - non-Error thrown from content parser is properly handled # time=60.441ms
    
    # Subtest: Error thrown 415 from content type is null and make post request to server
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 8 - Error thrown 415 from content type is null and make post request to server # time=12.107ms
    
    # Subtest: remove
        1..0
    ok 9 - remove # time=22.9ms
    
    # Subtest: remove all should remove all existing parsers and reset cache
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
    ok 10 - remove all should remove all existing parsers and reset cache # time=5.53ms
    
    # Subtest: should return matching parser
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 11 - should return matching parser # time=2.664ms
    
    # Subtest: should return matching parser with caching
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 12 - should return matching parser with caching # time=1.961ms
    
    # Subtest: should prefer content type parser with string value
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 13 - should prefer content type parser with string value # time=2.2ms
    
    # Subtest: should return parser that catches all if no other is set
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 14 - should return parser that catches all if no other is set # time=2.849ms
    
    # Subtest: should return undefined if no matching parser exist
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 15 - should return undefined if no matching parser exist # time=2.277ms
    
    # Subtest: returns always false for "*"
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 16 - returns always false for "*" # time=1.533ms
    
    # Subtest: let you override the default parser once
        1..2
        ok 1 - Content type parser 'application/json' already present
        ok 2 - Content type parser 'text/plain' already present
    ok 17 - let you override the default parser once # time=4.753ms
    
    # Subtest: should only accept string and RegExp
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - The content type should be a string or a RegExp
        ok 4 - The content type should be a string or a RegExp
    ok 18 - should only accept string and RegExp # time=3.178ms
    
    # Subtest: should set "*" as parser that catches all
        1..1
        ok 1 - should be equal
    ok 19 - should set "*" as parser that catches all # time=1.234ms
    
    # Subtest: should remove default parser
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 20 - should remove default parser # time=1.43ms
    
    # Subtest: should remove RegExp parser
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 21 - should remove RegExp parser # time=1.408ms
    
    # Subtest: should throw an error if content type is neither string nor RegExp
        1..1
        ok 1 - expected to throw
    ok 22 - should throw an error if content type is neither string nor RegExp # time=1.667ms
    
    # Subtest: should not throw error if content type does not exist
        1..1
        ok 1 - expected to not throw
    ok 23 - should not throw error if content type does not exist # time=1.409ms
    
    # Subtest: should not remove any content type parser if content type does not exist
        1..1
        ok 1 - should be equivalent
    ok 24 - should not remove any content type parser if content type does not exist # time=1.954ms
    
    1..24
    # time=330.814ms
ok 16 - test/content-parser.test.js # time=330.814ms

# Subtest: test/context-config.test.js
    # Subtest: config
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 1 - config # time=83.188ms
    
    # Subtest: config with exposeHeadRoutes
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 2 - config with exposeHeadRoutes # time=14.599ms
    
    # Subtest: config without exposeHeadRoutes
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 3 - config without exposeHeadRoutes # time=13.697ms
    
    1..3
    # time=128.312ms
ok 17 - test/context-config.test.js # time=128.312ms

# Subtest: test/custom-http-server.test.js
    # Subtest: Should support a custom http server
        1..4
        ok 1 - it is called twice for every HOST interface
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - Should support a custom http server # time=64.498ms
    
    # Subtest: Should not allow forceCloseConnection=idle if the server does not support closeIdleConnections
        1..1
        ok 1 - Cannot set forceCloseConnections to 'idle' as your HTTP server does not support closeIdleConnections method
    ok 2 - Should not allow forceCloseConnection=idle if the server does not support closeIdleConnections # time=3.798ms
    
    1..2
    # time=75.907ms
ok 18 - test/custom-http-server.test.js # time=75.907ms

# Subtest: test/custom-parser-async.test.js
    # Subtest: contentTypeParser should add a custom async parser
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=30.149ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=7.14ms
        
    ok 1 - contentTypeParser should add a custom async parser # time=112.539ms
    
    1..1
    # time=118.081ms
ok 19 - test/custom-parser-async.test.js # time=118.081ms

# Subtest: test/custom-parser.test.js
    # Subtest: contentTypeParser method should exist
        1..1
        ok 1 - expect truthy value
    ok 1 - contentTypeParser method should exist # time=16.057ms
    
    # Subtest: contentTypeParser should add a custom parser
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=38.168ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=11.959ms
        
    ok 2 - contentTypeParser should add a custom parser # time=201.453ms
    
    # Subtest: contentTypeParser should handle multiple custom parsers
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 3 - contentTypeParser should handle multiple custom parsers # time=13.61ms
    
    # Subtest: contentTypeParser should handle an array of custom contentTypes
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 4 - contentTypeParser should handle an array of custom contentTypes # time=22.87ms
    
    # Subtest: contentTypeParser should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 5 - contentTypeParser should handle errors # time=10.794ms
    
    # Subtest: contentTypeParser should support encapsulation
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - expect falsey value
        ok 6 - expect falsey value
    ok 6 - contentTypeParser should support encapsulation # time=9.339ms
    
    # Subtest: contentTypeParser should support encapsulation, second try
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - contentTypeParser should support encapsulation, second try # time=10.371ms
    
    # Subtest: contentTypeParser shouldn't support request with undefined "Content-Type"
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 8 - contentTypeParser shouldn't support request with undefined "Content-Type" # time=12.96ms
    
    # Subtest: the content type should be a string or RegExp
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 9 - the content type should be a string or RegExp # time=2.697ms
    
    # Subtest: the content type cannot be an empty string
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 10 - the content type cannot be an empty string # time=2.825ms
    
    # Subtest: the content type handler should be a function
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 11 - the content type handler should be a function # time=2.593ms
    
    # Subtest: catch all content type parser
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 12 - catch all content type parser # time=18.644ms
    
    # Subtest: catch all content type parser should not interfere with other conte type parsers
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 13 - catch all content type parser should not interfere with other conte type parsers # time=11.852ms
    
    # Subtest: '*' catch undefined Content-Type requests
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - '*' catch undefined Content-Type requests # time=13.058ms
    
    # Subtest: cannot add custom parser after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 15 - cannot add custom parser after binding # time=17.363ms
    
    # Subtest: Can override the default json parser
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 16 - Can override the default json parser # time=16.782ms
    
    # Subtest: Can override the default plain text parser
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 17 - Can override the default plain text parser # time=10.379ms
    
    # Subtest: Can override the default json parser in a plugin
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 18 - Can override the default json parser in a plugin # time=28.629ms
    
    # Subtest: Can't override the json parser multiple times
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 19 - Can't override the json parser multiple times # time=17.244ms
    
    # Subtest: Can't override the plain text parser multiple times
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 20 - Can't override the plain text parser multiple times # time=3.065ms
    
    # Subtest: Should get the body as string
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 21 - Should get the body as string # time=12.967ms
    
    # Subtest: Should return defined body with no custom parser defined and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 22 - Should return defined body with no custom parser defined and content type = 'text/plain' # time=9.503ms
    
    # Subtest: Should have typeof body object with no custom parser defined, no body defined and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 23 - Should have typeof body object with no custom parser defined, no body defined and content type = 'text/plain' # time=8.29ms
    
    # Subtest: Should have typeof body object with no custom parser defined, null body and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 24 - Should have typeof body object with no custom parser defined, null body and content type = 'text/plain' # time=8.939ms
    
    # Subtest: Should have typeof body object with no custom parser defined, undefined body and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 25 - Should have typeof body object with no custom parser defined, undefined body and content type = 'text/plain' # time=14.441ms
    
    # Subtest: Should get the body as string
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 26 - Should get the body as string # time=18.108ms
    
    # Subtest: Should get the body as buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 27 - Should get the body as buffer # time=10.494ms
    
    # Subtest: Should get the body as buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 28 - Should get the body as buffer # time=20.658ms
    
    # Subtest: Should parse empty bodies as a string
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 29 - Should parse empty bodies as a string # time=22.768ms
    
    # Subtest: Should parse empty bodies as a buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 30 - Should parse empty bodies as a buffer # time=21.73ms
    
    # Subtest: The charset should not interfere with the content type handling
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 31 - The charset should not interfere with the content type handling # time=8.364ms
    
    # Subtest: Wrong parseAs parameter
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 32 - Wrong parseAs parameter # time=2.114ms
    
    # Subtest: Should allow defining the bodyLimit per parser
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent strictly
    ok 33 - Should allow defining the bodyLimit per parser # time=8.52ms
    
    # Subtest: route bodyLimit should take precedence over a custom parser bodyLimit
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent strictly
    ok 34 - route bodyLimit should take precedence over a custom parser bodyLimit # time=6.296ms
    
    # Subtest: should be able to use default parser for extra content type
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent strictly
    ok 35 - should be able to use default parser for extra content type # time=29.512ms
    
    # Subtest: contentTypeParser should add a custom parser with RegExp value
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=5.106ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=3.782ms
        
    ok 36 - contentTypeParser should add a custom parser with RegExp value # time=18.245ms
    
    # Subtest: contentTypeParser should add multiple custom parsers with RegExp values
        1..6
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 37 - contentTypeParser should add multiple custom parsers with RegExp values # time=119.298ms
    
    # Subtest: catch all content type parser should not interfere with content type parser
        1..10
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 38 - catch all content type parser should not interfere with content type parser # time=23.887ms
    
    # Subtest: should prefer string content types over RegExp ones
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 39 - should prefer string content types over RegExp ones # time=10.312ms
    
    # Subtest: removeContentTypeParser should support arrays of content types to remove
        1..8
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 40 - removeContentTypeParser should support arrays of content types to remove # time=10.053ms
    
    # Subtest: removeContentTypeParser should support encapsulation
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 41 - removeContentTypeParser should support encapsulation # time=10.022ms
    
    # Subtest: removeAllContentTypeParsers should support encapsulation
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 42 - removeAllContentTypeParsers should support encapsulation # time=23.062ms
    
    # Subtest: cannot remove all content type parsers after binding
        1..2
        ok 1 - should not error
        ok 2 - expected to throw
    ok 43 - cannot remove all content type parsers after binding # time=6.835ms
    
    # Subtest: cannot remove content type parsers after binding
        1..2
        ok 1 - should not error
        ok 2 - expected to throw
    ok 44 - cannot remove content type parsers after binding # time=7.039ms
    
    # Subtest: should be able to override the default json parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 45 - should be able to override the default json parser after removeAllContentTypeParsers # time=7.258ms
    
    # Subtest: should be able to override the default plain text parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 46 - should be able to override the default plain text parser after removeAllContentTypeParsers # time=6.966ms
    
    # Subtest: should be able to add a custom content type parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 47 - should be able to add a custom content type parser after removeAllContentTypeParsers # time=8.259ms
    
    1..47
    # time=952.255ms
ok 20 - test/custom-parser.test.js # time=952.255ms

# Subtest: test/custom-querystring-parser.test.js
    # Subtest: Custom querystring parser
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 1 - Custom querystring parser # time=102.639ms
    
    # Subtest: Custom querystring parser should be called also if there is nothing to parse
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 2 - Custom querystring parser should be called also if there is nothing to parse # time=14.19ms
    
    # Subtest: Querystring without value
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 3 - Querystring without value # time=27.245ms
    
    # Subtest: Custom querystring parser should be a function
        1..1
        ok 1 - should be equal
    ok 4 - Custom querystring parser should be a function # time=1.111ms
    
    1..4
    # time=161.068ms
ok 21 - test/custom-querystring-parser.test.js # time=161.068ms

# Subtest: test/decorator.test.js
    # Subtest: server methods should exist
        1..2
        ok 1 - expect truthy value
        ok 2 - expect truthy value
    ok 1 - server methods should exist # time=24.748ms
    
    # Subtest: should check if the given decoration already exist when null
        1..1
        ok 1 - expect truthy value
    ok 2 - should check if the given decoration already exist when null # time=83.57ms
    
    # Subtest: server methods should be encapsulated via .register
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 3 - server methods should be encapsulated via .register # time=8.181ms
    
    # Subtest: hasServerMethod should check if the given method already exist
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 4 - hasServerMethod should check if the given method already exist # time=9.174ms
    
    # Subtest: decorate should throw if a declared dependency is not present
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - (unnamed test)
    ok 5 - decorate should throw if a declared dependency is not present # time=9.397ms
    
    # Subtest: decorate should throw if declared dependency is not array
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - (unnamed test)
    ok 6 - decorate should throw if declared dependency is not array # time=6.394ms
    
    # Subtest: should pass error for missing request decorator
        1..2
        ok 1 - type is Error
        ok 2 - should match pattern provided
    ok 7 - should pass error for missing request decorator # time=7.486ms
    
    # Subtest: decorateReply inside register
        1..11
        ok 1 - should not error
        ok 2 - test exists
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 8 - decorateReply inside register # time=51.898ms
    
    # Subtest: decorateReply as plugin (inside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 9 - decorateReply as plugin (inside .after) # time=25.695ms
    
    # Subtest: decorateReply as plugin (outside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 10 - decorateReply as plugin (outside .after) # time=18.584ms
    
    # Subtest: decorateRequest inside register
        1..11
        ok 1 - should not error
        ok 2 - test exists
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 11 - decorateRequest inside register # time=23.157ms
    
    # Subtest: decorateRequest as plugin (inside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 12 - decorateRequest as plugin (inside .after) # time=18.341ms
    
    # Subtest: decorateRequest as plugin (outside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 13 - decorateRequest as plugin (outside .after) # time=20.826ms
    
    # Subtest: decorators should be instance separated
        1..1
        ok 1 - (unnamed test)
    ok 14 - decorators should be instance separated # time=2.561ms
    
    # Subtest: hasRequestDecorator
        # Subtest: is a function
            1..1
            ok 1 - expect truthy value
        ok 1 - is a function # time=1.718ms
        
        # Subtest: should check if the given request decoration already exist
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 2 - should check if the given request decoration already exist # time=2.309ms
        
        # Subtest: should check if the given request decoration already exist when null
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 3 - should check if the given request decoration already exist when null # time=2.186ms
        
        # Subtest: should be plugin encapsulable
            1..4
            ok 1 - expect falsey value
            ok 2 - expect falsey value
            ok 3 - expect truthy value
            ok 4 - expect falsey value
        ok 4 - should be plugin encapsulable # time=11.341ms
        
        # Subtest: should be inherited
            1..2
            ok 1 - expect truthy value
            ok 2 - expect truthy value
        ok 5 - should be inherited # time=9.362ms
        
        1..5
    ok 15 - hasRequestDecorator # time=46.962ms
    
    # Subtest: hasReplyDecorator
        # Subtest: is a function
            1..1
            ok 1 - expect truthy value
        ok 1 - is a function # time=2.023ms
        
        # Subtest: should check if the given reply decoration already exist
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 2 - should check if the given reply decoration already exist # time=2.208ms
        
        # Subtest: should check if the given reply decoration already exist when null
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 3 - should check if the given reply decoration already exist when null # time=2.124ms
        
        # Subtest: should be plugin encapsulable
            1..4
            ok 1 - expect falsey value
            ok 2 - expect falsey value
            ok 3 - expect truthy value
            ok 4 - expect falsey value
        ok 4 - should be plugin encapsulable # time=25.673ms
        
        # Subtest: should be inherited
            1..2
            ok 1 - expect truthy value
            ok 2 - expect truthy value
        ok 5 - should be inherited # time=11.763ms
        
        1..5
    ok 16 - hasReplyDecorator # time=137.629ms
    
    # Subtest: should register properties via getter/setter objects
        1..3
        ok 1 - expect truthy value
        ok 2 - a getter
        ok 3 - expect falsey value
    ok 17 - should register properties via getter/setter objects # time=14.164ms
    
    # Subtest: decorateRequest should work with getter/setter
        1..5
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - (unnamed test)
    ok 18 - decorateRequest should work with getter/setter # time=48.419ms
    
    # Subtest: decorateReply should work with getter/setter
        1..5
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - (unnamed test)
    ok 19 - decorateReply should work with getter/setter # time=17.199ms
    
    # Subtest: should register empty values
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 20 - should register empty values # time=4.084ms
    
    # Subtest: nested plugins can override things
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 21 - nested plugins can override things # time=17.982ms
    
    # Subtest: a decorator should addSchema to all the encapsulated tree
        1..1
        ok 1 - should not error
    ok 22 - a decorator should addSchema to all the encapsulated tree # time=13.946ms
    
    # Subtest: after can access to a decorated instance and previous plugin decoration
        1..11
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
    ok 23 - after can access to a decorated instance and previous plugin decoration # time=10.752ms
    
    # Subtest: decorate* should throw if called after ready
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 24 - decorate* should throw if called after ready # time=22.664ms
    
    # Subtest: decorate* should emit warning if an array is passed
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 25 - decorate* should emit warning if an array is passed # time=27.809ms
    
    # Subtest: decorate* should emit warning if object type is passed
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 26 - decorate* should emit warning if object type is passed # time=23.363ms
    
    # Subtest: decorate* should not emit warning if object with getter/setter is passed
        1..0
    ok 27 - decorate* should not emit warning if object with getter/setter is passed # time=21.931ms
    
    # Subtest: decorate* should not emit warning if string,bool,numbers are passed
        1..0
    ok 28 - decorate* should not emit warning if string,bool,numbers are passed # time=22.284ms
    
    # Subtest: Request/reply decorators should be able to access the server instance
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not be equal
        ok 4 - should be equal
        ok 5 - should not be equal
        ok 6 - should be equal
    ok 29 - Request/reply decorators should be able to access the server instance # time=8.54ms
    
    # Subtest: plugin required decorators
        1..0
    ok 30 - plugin required decorators # time=3.648ms
    
    # Subtest: decorateRequest/decorateReply empty string
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 31 - decorateRequest/decorateReply empty string # time=8.039ms
    
    # Subtest: decorateRequest/decorateReply is undefined
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 32 - decorateRequest/decorateReply is undefined # time=8.01ms
    
    # Subtest: decorateRequest/decorateReply is not set to a value
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 33 - decorateRequest/decorateReply is not set to a value # time=7.875ms
    
    # Subtest: decorateRequest with dependencies
        1..2
        ok 1 - expected to not throw
        ok 2 - expect truthy value
    ok 34 - decorateRequest with dependencies # time=1.555ms
    
    # Subtest: decorateRequest with dependencies (functions)
        1..2
        ok 1 - expected to not throw
        ok 2 - expect truthy value
    ok 35 - decorateRequest with dependencies (functions) # time=1.216ms
    
    # Subtest: chain of decorators on Request
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        1..6
    ok 36 - chain of decorators on Request # time=15.972ms
    
    # Subtest: chain of decorators on Reply
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        1..6
    ok 37 - chain of decorators on Reply # time=14.672ms
    
    1..37
    # time=852.202ms
ok 22 - test/decorator.test.js # time=852.202ms

# Subtest: test/default-route.test.js
    # Subtest: should fail if defaultRoute is not a function
        1..1
        ok 1 - should be equal
    ok 1 - should fail if defaultRoute is not a function # time=21.752ms
    
    # Subtest: correctly sets, returns, and calls defaultRoute
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 2 - correctly sets, returns, and calls defaultRoute # time=42.495ms
    
    1..2
    # time=76.202ms
ok 23 - test/default-route.test.js # time=76.202ms

# Subtest: test/delete.test.js
    # Subtest: shorthand - delete
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - delete # time=9.345ms
    
    # Subtest: shorthand - delete params
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - delete params # time=2.087ms
    
    # Subtest: shorthand - delete, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - delete, querystring schema # time=1.547ms
    
    # Subtest: shorthand - get, headers schema
        1..1
        ok 1 - (unnamed test)
    ok 4 - shorthand - get, headers schema # time=1.55ms
    
    # Subtest: missing schema - delete
        1..1
        ok 1 - (unnamed test)
    ok 5 - missing schema - delete # time=1.502ms
    
    # Subtest: body - delete
        1..1
        ok 1 - (unnamed test)
    ok 6 - body - delete # time=1.219ms
    
    # Subtest: shorthand - delete with application/json Content-Type header and without body
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - shorthand - delete with application/json Content-Type header and without body # time=43.125ms
    
    ok 8 - should not error
    # Subtest: shorthand - request delete
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 9 - shorthand - request delete # time=37.193ms
    
    # Subtest: shorthand - request delete params schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 10 - shorthand - request delete params schema # time=6.867ms
    
    # Subtest: shorthand - request delete params schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 11 - shorthand - request delete params schema error # time=6.689ms
    
    # Subtest: shorthand - request delete headers schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 12 - shorthand - request delete headers schema # time=5.438ms
    
    # Subtest: shorthand - request delete headers schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 13 - shorthand - request delete headers schema error # time=4.996ms
    
    # Subtest: shorthand - request delete querystring schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 14 - shorthand - request delete querystring schema # time=5.027ms
    
    # Subtest: shorthand - request delete querystring schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 15 - shorthand - request delete querystring schema error # time=4.517ms
    
    # Subtest: shorthand - request delete missing schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 16 - shorthand - request delete missing schema # time=4.981ms
    
    # Subtest: shorthand - delete with body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - shorthand - delete with body # time=28.05ms
    
    1..17
    # time=325.698ms
ok 24 - test/delete.test.js # time=325.698ms

# Subtest: test/diagnostics-channel.test.js
    # Subtest: diagnostics_channel when present and subscribers
        1..3
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should be equal
    ok 1 - diagnostics_channel when present and subscribers # time=983.308ms
    
    # Subtest: diagnostics_channel when present and no subscribers
        1..1
        ok 1 - should be equal
    ok 2 - diagnostics_channel when present and no subscribers # time=18.696ms
    
    # Subtest: diagnostics_channel when not present
        1..1
        ok 1 - expected to not throw
    ok 3 - diagnostics_channel when not present # time=18.926ms
    
    1..3
    # time=1036.331ms
ok 25 - test/diagnostics-channel.test.js # time=1036.331ms

# Subtest: test/encapsulated-error-handler.test.js
    # Subtest: encapuslates an error handler
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 1 - encapuslates an error handler # time=84.197ms
    
    # Subtest: onError hook nested
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 2 - onError hook nested # time=12.227ms
    
    1..2
    # time=103.539ms
ok 26 - test/encapsulated-error-handler.test.js # time=103.539ms

# Subtest: test/esm/index.test.js
    # Subtest: named exports support
        ok 1 - should be equal
        1..1
    ok 1 - named exports support # time=39.345ms
    
    ok 2 - should be equal
    1..2
    # time=45.31ms
ok 27 - test/esm/index.test.js # time=45.31ms

# Subtest: test/fastify-instance.test.js
    # Subtest: root fastify instance is an object
        1..1
        ok 1 - type is object
    ok 1 - root fastify instance is an object # time=15.542ms
    
    # Subtest: fastify instance should contains ajv options
        1..1
        ok 1 - should be equivalent
    ok 2 - fastify instance should contains ajv options # time=6.582ms
    
    # Subtest: fastify instance should contains ajv options.plugins nested arrays
        1..1
        ok 1 - should be equivalent
    ok 3 - fastify instance should contains ajv options.plugins nested arrays # time=3.103ms
    
    # Subtest: fastify instance get invalid ajv options
        1..1
        ok 1 - expected to throw
    ok 4 - fastify instance get invalid ajv options # time=1.503ms
    
    # Subtest: fastify instance get invalid ajv options.plugins
        1..1
        ok 1 - expected to throw
    ok 5 - fastify instance get invalid ajv options.plugins # time=1.188ms
    
    # Subtest: fastify instance should contain default errorHandler
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 6 - fastify instance should contain default errorHandler # time=2.743ms
    
    # Subtest: errorHandler in plugin should be separate from the external one
        1..4
        ok 1 - should not be equivalent
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equivalent
    ok 7 - errorHandler in plugin should be separate from the external one # time=16.073ms
    
    1..7
    # time=69.496ms
ok 28 - test/fastify-instance.test.js # time=69.496ms

# Subtest: test/fluent-schema.test.js
    # Subtest: use fluent-json-schema object
        1..15
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equivalent
    ok 1 - use fluent-json-schema object # time=188.959ms
    
    # Subtest: use complex fluent-json-schema object
        1..1
        ok 1 - should not error
    ok 2 - use complex fluent-json-schema object # time=43.243ms
    
    # Subtest: use fluent schema and plain JSON schema
        1..1
        ok 1 - should not error
    ok 3 - use fluent schema and plain JSON schema # time=60.679ms
    
    # Subtest: Should call valueOf internally
        1..1
        ok 1 - should not error
    ok 4 - Should call valueOf internally # time=70.098ms
    
    1..4
    # time=370.318ms
ok 29 - test/fluent-schema.test.js # time=370.318ms

# Subtest: test/genReqId.test.js
    # Subtest: Should accept a custom genReqId function
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 1 - Should accept a custom genReqId function # time=116.563ms
    
    1..1
    # time=135.211ms
ok 30 - test/genReqId.test.js # time=135.211ms

# Subtest: test/get.test.js
    # Subtest: shorthand - get
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - get # time=10.548ms
    
    # Subtest: shorthand - get (return null)
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - get (return null) # time=2.644ms
    
    # Subtest: shorthand - get params
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - get params # time=2.825ms
    
    # Subtest: shorthand - get, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 4 - shorthand - get, querystring schema # time=10.947ms
    
    # Subtest: shorthand - get, headers schema
        1..1
        ok 1 - (unnamed test)
    ok 5 - shorthand - get, headers schema # time=6.021ms
    
    # Subtest: missing schema - get
        1..1
        ok 1 - (unnamed test)
    ok 6 - missing schema - get # time=7.365ms
    
    # Subtest: custom serializer - get
        1..1
        ok 1 - (unnamed test)
    ok 7 - custom serializer - get # time=11.143ms
    
    # Subtest: empty response
        1..1
        ok 1 - (unnamed test)
    ok 8 - empty response # time=2.325ms
    
    # Subtest: send a falsy boolean
        1..1
        ok 1 - (unnamed test)
    ok 9 - send a falsy boolean # time=4.126ms
    
    ok 10 - should not error
    # Subtest: shorthand - request get
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - shorthand - request get # time=40.979ms
    
    # Subtest: shorthand - request get params schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 12 - shorthand - request get params schema # time=7.989ms
    
    # Subtest: shorthand - request get params schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 13 - shorthand - request get params schema error # time=7.538ms
    
    # Subtest: shorthand - request get headers schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - shorthand - request get headers schema # time=6.16ms
    
    # Subtest: shorthand - request get headers schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 15 - shorthand - request get headers schema error # time=14.897ms
    
    # Subtest: shorthand - request get querystring schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 16 - shorthand - request get querystring schema # time=5.915ms
    
    # Subtest: shorthand - request get querystring schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - shorthand - request get querystring schema error # time=11.139ms
    
    # Subtest: shorthand - request get missing schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - shorthand - request get missing schema # time=4.505ms
    
    # Subtest: shorthand - custom serializer
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 19 - shorthand - custom serializer # time=5.209ms
    
    # Subtest: shorthand - empty response
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 20 - shorthand - empty response # time=4.266ms
    
    # Subtest: shorthand - send a falsy boolean
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - shorthand - send a falsy boolean # time=11.893ms
    
    # Subtest: shorthand - send null value
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - shorthand - send null value # time=4.031ms
    
    1..22
    # time=375.749ms
ok 31 - test/get.test.js # time=375.749ms

# Subtest: test/handler-context.test.js
    # Subtest: handlers receive correct `this` context
        1..4
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 1 - handlers receive correct `this` context # time=62.471ms
    
    # Subtest: handlers have access to the internal context
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - type is Object
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 2 - handlers have access to the internal context # time=32.419ms
    
    1..2
    # time=123.618ms
ok 32 - test/handler-context.test.js # time=123.618ms

# Subtest: test/head.test.js
    # Subtest: shorthand - head
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - head # time=9.608ms
    
    # Subtest: shorthand - head params
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - head params # time=2.418ms
    
    # Subtest: shorthand - head, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - head, querystring schema # time=1.586ms
    
    # Subtest: missing schema - head
        1..1
        ok 1 - (unnamed test)
    ok 4 - missing schema - head # time=1.479ms
    
    ok 5 - should not error
    # Subtest: shorthand - request head
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 6 - shorthand - request head # time=36.3ms
    
    # Subtest: shorthand - request head params schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 7 - shorthand - request head params schema # time=5.752ms
    
    # Subtest: shorthand - request head params schema error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 8 - shorthand - request head params schema error # time=5.766ms
    
    # Subtest: shorthand - request head querystring schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 9 - shorthand - request head querystring schema # time=4.55ms
    
    # Subtest: shorthand - request head querystring schema error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - shorthand - request head querystring schema error # time=4.398ms
    
    # Subtest: shorthand - request head missing schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 11 - shorthand - request head missing schema # time=3.866ms
    
    1..11
    # time=214.177ms
ok 33 - test/head.test.js # time=214.177ms

# Subtest: test/hooks-async.test.js
    # Subtest: async hooks
        1..21
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - should not error
        ok 13 - should be equal
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equivalent
        ok 18 - should not error
        ok 19 - should be equal
        ok 20 - expect truthy value
        ok 21 - expect truthy value
    ok 1 - async hooks # time=124.825ms
    
    # Subtest: modify payload
        1..10
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - expect truthy value
        ok 4 - should be equivalent
        ok 5 - expect truthy value
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
    ok 2 - modify payload # time=40.677ms
    
    # Subtest: onRequest hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 3 - onRequest hooks should be able to block a request # time=29.373ms
    
    # Subtest: preParsing hooks should be able to modify the payload
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 4 - preParsing hooks should be able to modify the payload # time=9.773ms
    
    # Subtest: preParsing hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 5 - preParsing hooks should handle errors # time=7.171ms
    
    # Subtest: preHandler hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 6 - preHandler hooks should be able to block a request # time=8.783ms
    
    # Subtest: preValidation hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 7 - preValidation hooks should be able to block a request # time=27.051ms
    
    # Subtest: preValidation hooks should be able to change request body before validation
        1..4
        ok 1 - (unnamed test)
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - preValidation hooks should be able to change request body before validation # time=91.215ms
    
    # Subtest: preSerialization hooks should be able to modify the payload
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - preSerialization hooks should be able to modify the payload # time=7.524ms
    
    # Subtest: preSerialization hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - preSerialization hooks should handle errors # time=8.197ms
    
    # Subtest: preValidation hooks should handle throwing null
        1..4
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - preValidation hooks should handle throwing null # time=26.12ms
    
    # Subtest: preValidation hooks should handle throwing a string
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 12 - preValidation hooks should handle throwing a string # time=12.116ms
    
    # Subtest: onRequest hooks should be able to block a request (last hook)
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 13 - onRequest hooks should be able to block a request (last hook) # time=7.539ms
    
    # Subtest: preHandler hooks should be able to block a request (last hook)
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 14 - preHandler hooks should be able to block a request (last hook) # time=20.047ms
    
    # Subtest: onRequest respond with a stream
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - onRequest respond with a stream # time=21.721ms
    
    # Subtest: preHandler respond with a stream
        1..7
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 16 - preHandler respond with a stream # time=17.972ms
    
    # Subtest: Should log a warning if is an async function with `done`
        # Subtest: 3 arguments
            1..1
            ok 1 - expect truthy value
        ok 1 - 3 arguments # time=2.368ms
        
        # Subtest: 4 arguments
            1..3
            ok 1 - expect truthy value
            ok 2 - expect truthy value
            ok 3 - expect truthy value
        ok 2 - 4 arguments # time=2.779ms
        
        1..2
    ok 17 - Should log a warning if is an async function with `done` # time=16.722ms
    
    # Subtest: early termination, onRequest async
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 18 - early termination, onRequest async # time=20.308ms
    
    # Subtest: The this should be the same of the encapsulation level
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        1..4
    ok 19 - The this should be the same of the encapsulation level # time=23.671ms
    
    # Subtest: preSerializationEnd should handle errors if the serialize method throws
        # Subtest: works with sync preSerialization
            1..2
            ok 1 - should not error
            ok 2 - should not be equal
        ok 1 - works with sync preSerialization # time=14.513ms
        
        # Subtest: works with async preSerialization
            1..2
            ok 1 - should not error
            ok 2 - should not be equal
        ok 2 - works with async preSerialization # time=6.723ms
        
        1..2
    ok 20 - preSerializationEnd should handle errors if the serialize method throws # time=26.483ms
    
    1..20
    # time=584.538ms
ok 34 - test/hooks-async.test.js # time=584.538ms

# Subtest: test/hooks.on-ready.test.js
    # Subtest: onReady should be called in order
        1..7
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
        ok 7 - should not error
    ok 1 - onReady should be called in order # time=59.761ms
    
    # Subtest: async onReady should be called in order
        1..7
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
        ok 7 - ready
    ok 2 - async onReady should be called in order # time=10.619ms
    
    # Subtest: mix ready and onReady
        1..2
        ok 1 - should be equal
        ok 2 - ready hooks execute once
    ok 3 - mix ready and onReady # time=23.734ms
    
    # Subtest: listen and onReady order
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - trigger the onReady
        ok 9 - do not trigger the onReady
    ok 4 - listen and onReady order # time=58.769ms
    
    # Subtest: multiple ready calls
        1..11
        ok 1 - ready and hooks not triggered yet
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - trigger the onReady
        ok 10 - do not trigger the onReady
        ok 11 - do not trigger the onReady
    ok 5 - multiple ready calls # time=17.353ms
    
    # Subtest: onReady should manage error in sync
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 6 - onReady should manage error in sync # time=14.257ms
    
    # Subtest: onReady should manage error in async
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 7 - onReady should manage error in async # time=71.459ms
    
    # Subtest: onReady should manage sync error
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 8 - onReady should manage sync error # time=27.084ms
    
    # Subtest: onReady can not add decorators or application hooks
        1..3
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should not error
    ok 9 - onReady can not add decorators or application hooks # time=20.892ms
    
    # Subtest: onReady cannot add lifecycle hooks
        1..5
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 10 - onReady cannot add lifecycle hooks # time=27.193ms
    
    # Subtest: onReady throw loading error
        1..1
        ok 1 - expect truthy value
    ok 11 - onReady throw loading error # time=2.667ms
    
    # Subtest: onReady does not call done
        1..6
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
        ok 6 - should be equal
    ok 12 - onReady does not call done # time=506.25ms
    
    # Subtest: onReady execution order
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 13 - onReady execution order # time=16.362ms
    
    # Subtest: ready return the server with callback
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 14 - ready return the server with callback # time=21.079ms
    
    # Subtest: ready return the server with Promise
        1..1
        ok 1 - should be equivalent
    ok 15 - ready return the server with Promise # time=6.014ms
    
    # Subtest: ready return registered
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
    ok 16 - ready return registered # time=9.54ms
    
    1..16
    # time=909.79ms
ok 35 - test/hooks.on-ready.test.js # time=909.79ms

# Subtest: test/hooks.test.js
    # Subtest: hooks
        1..43
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - (unnamed test)
        ok 4 - (unnamed test)
        ok 5 - (unnamed test)
        ok 6 - (unnamed test)
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - expect truthy value
        ok 20 - expect truthy value
        ok 21 - expect truthy value
        ok 22 - expect truthy value
        ok 23 - should be equal
        ok 24 - should be equal
        ok 25 - should be equal
        ok 26 - should be equal
        ok 27 - should be equal
        ok 28 - should be equal
        ok 29 - should be equal
        ok 30 - should be equal
        ok 31 - should be equal
        ok 32 - expect truthy value
        ok 33 - expect truthy value
        ok 34 - expect truthy value
        ok 35 - expect truthy value
        ok 36 - should not error
        ok 37 - should be equal
        ok 38 - should be equal
        ok 39 - should be equivalent
        ok 40 - should not error
        ok 41 - should be equal
        ok 42 - should not error
        ok 43 - should be equal
    ok 1 - hooks # time=248.893ms
    
    # Subtest: onRequest hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 2 - onRequest hook should support encapsulation / 1 # time=38.749ms
    
    # Subtest: onRequest hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 3 - onRequest hook should support encapsulation / 2 # time=26.508ms
    
    # Subtest: onRequest hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 4 - onRequest hook should support encapsulation / 3 # time=27.309ms
    
    # Subtest: preHandler hook should support encapsulation / 5
        1..17
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equivalent
    ok 5 - preHandler hook should support encapsulation / 5 # time=17.568ms
    
    # Subtest: onRoute hook should be called / 1
        1..2
        ok 1 - (unnamed test)
        ok 2 - should not error
    ok 6 - onRoute hook should be called / 1 # time=17.176ms
    
    # Subtest: onRoute hook should be called / 2
        1..5
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 7 - onRoute hook should be called / 2 # time=23.768ms
    
    # Subtest: onRoute hook should be called / 3
        1..5
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - (unnamed test)
        ok 5 - should not error
    ok 8 - onRoute hook should be called / 3 # time=27.401ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 4
        1..4
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - (unnamed test)
        ok 4 - should not error
    ok 9 - onRoute hook should be called (encapsulation support) / 4 # time=13.972ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 5
        1..2
        ok 1 - (unnamed test)
        ok 2 - should not error
    ok 10 - onRoute hook should be called (encapsulation support) / 5 # time=10.502ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 6
        1..1
        ok 1 - should not error
    ok 11 - onRoute hook should be called (encapsulation support) / 6 # time=4.574ms
    
    # Subtest: onRoute should keep the context
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
    ok 12 - onRoute should keep the context # time=5.585ms
    
    # Subtest: onRoute hook should pass correct route
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should not error
    ok 13 - onRoute hook should pass correct route # time=8.229ms
    
    # Subtest: onRoute hook should pass correct route with custom prefix
        1..11
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
    ok 14 - onRoute hook should pass correct route with custom prefix # time=7.343ms
    
    # Subtest: onRoute hook should pass correct route with custom options
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - type is function
        ok 6 - should not error
    ok 15 - onRoute hook should pass correct route with custom options # time=6.338ms
    
    # Subtest: onRoute hook should receive any route option
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 16 - onRoute hook should receive any route option # time=6.432ms
    
    # Subtest: onRoute hook should preserve system route configuration
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 17 - onRoute hook should preserve system route configuration # time=5.655ms
    
    # Subtest: onRoute hook should preserve handler function in options of shorthand route system configuration
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 18 - onRoute hook should preserve handler function in options of shorthand route system configuration # time=4.659ms
    
    # Subtest: onRoute hook should be called once when prefixTrailingSlash
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 19 - onRoute hook should be called once when prefixTrailingSlash # time=9.551ms
    
    # Subtest: onRoute hook should able to change the route url
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 20 - onRoute hook should able to change the route url # time=10.854ms
    
    # Subtest: onRoute hook that throws should be caught
        1..1
        ok 1 - expect truthy value
    ok 21 - onRoute hook that throws should be caught # time=4.425ms
    
    # Subtest: onRoute hook with many prefix
        1..3
        ok 1 - should match pattern provided
        ok 2 - should match pattern provided
        ok 3 - should not error
    ok 22 - onRoute hook with many prefix # time=9.119ms
    
    # Subtest: onRoute hook should not be called when it registered after route
        1..3
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
    ok 23 - onRoute hook should not be called when it registered after route # time=4.661ms
    
    # Subtest: onResponse hook should log request error
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 24 - onResponse hook should log request error # time=76.285ms
    
    # Subtest: onResponse hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 25 - onResponse hook should support encapsulation / 1 # time=8.392ms
    
    # Subtest: onResponse hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 26 - onResponse hook should support encapsulation / 2 # time=4.723ms
    
    # Subtest: onResponse hook should support encapsulation / 3
        1..16
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 27 - onResponse hook should support encapsulation / 3 # time=50.818ms
    
    # Subtest: onSend hook should support encapsulation / 1
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 28 - onSend hook should support encapsulation / 1 # time=5.818ms
    
    # Subtest: onSend hook should support encapsulation / 2
        1..16
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 29 - onSend hook should support encapsulation / 2 # time=21.631ms
    
    # Subtest: onSend hook is called after payload is serialized and headers are set
        1..30
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should be equal
        ok 15 - should not error
        ok 16 - should be equal
        ok 17 - should be equivalent
        ok 18 - should be equal
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equivalent
        ok 22 - should be equal
        ok 23 - should not error
        ok 24 - should be equal
        ok 25 - should be equivalent
        ok 26 - should be equal
        ok 27 - should not error
        ok 28 - should be equal
        ok 29 - should be equivalent
        ok 30 - should be equal
    ok 30 - onSend hook is called after payload is serialized and headers are set # time=27.333ms
    
    # Subtest: modify payload
        1..10
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - expect truthy value
        ok 4 - should be equivalent
        ok 5 - expect truthy value
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
    ok 31 - modify payload # time=8.304ms
    
    # Subtest: clear payload
        1..6
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 32 - clear payload # time=5.735ms
    
    # Subtest: onSend hook throws
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 33 - onSend hook throws # time=17.474ms
    
    # Subtest: onSend hook should receive valid request and reply objects if onRequest hook fails
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 34 - onSend hook should receive valid request and reply objects if onRequest hook fails # time=10.832ms
    
    # Subtest: onSend hook should receive valid request and reply objects if a custom content type parser fails
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 35 - onSend hook should receive valid request and reply objects if a custom content type parser fails # time=30.109ms
    
    # Subtest: Content-Length header should be updated if onSend hook modifies the payload
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 36 - Content-Length header should be updated if onSend hook modifies the payload # time=4.631ms
    
    # Subtest: cannot add hook after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 37 - cannot add hook after binding # time=4.156ms
    
    # Subtest: onRequest hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 38 - onRequest hooks should be able to block a request # time=5.51ms
    
    # Subtest: preValidation hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 39 - preValidation hooks should be able to block a request # time=5.497ms
    
    # Subtest: preValidation hooks should be able to change request body before validation
        1..4
        ok 1 - (unnamed test)
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 40 - preValidation hooks should be able to change request body before validation # time=90.652ms
    
    # Subtest: preParsing hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 41 - preParsing hooks should be able to block a request # time=4.898ms
    
    # Subtest: preHandler hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 42 - preHandler hooks should be able to block a request # time=4.912ms
    
    # Subtest: onRequest hooks should be able to block a request (last hook)
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 43 - onRequest hooks should be able to block a request (last hook) # time=7.268ms
    
    # Subtest: preHandler hooks should be able to block a request (last hook)
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 44 - preHandler hooks should be able to block a request (last hook) # time=5.518ms
    
    # Subtest: preParsing hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 45 - preParsing hooks should handle errors # time=5.183ms
    
    # Subtest: onRequest respond with a stream
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 46 - onRequest respond with a stream # time=8.763ms
    
    # Subtest: preHandler respond with a stream
        1..7
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 47 - preHandler respond with a stream # time=7.295ms
    
    # Subtest: Register an hook after a plugin inside a plugin
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 48 - Register an hook after a plugin inside a plugin # time=9.731ms
    
    # Subtest: Register an hook after a plugin inside a plugin (with preHandler option)
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 49 - Register an hook after a plugin inside a plugin (with preHandler option) # time=7.953ms
    
    # Subtest: Register hooks inside a plugin after an encapsulated plugin
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 50 - Register hooks inside a plugin after an encapsulated plugin # time=6.53ms
    
    # Subtest: onRequest hooks should run in the order in which they are defined
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 51 - onRequest hooks should run in the order in which they are defined # time=8.23ms
    
    # Subtest: preHandler hooks should run in the order in which they are defined
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 52 - preHandler hooks should run in the order in which they are defined # time=8.31ms
    
    # Subtest: onSend hooks should run in the order in which they are defined
        1..8
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equivalent
    ok 53 - onSend hooks should run in the order in which they are defined # time=8.209ms
    
    # Subtest: onResponse hooks should run in the order in which they are defined
        1..8
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equivalent
    ok 54 - onResponse hooks should run in the order in which they are defined # time=8.184ms
    
    # Subtest: onRequest, preHandler, and onResponse hooks that resolve to a value do not cause an error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 55 - onRequest, preHandler, and onResponse hooks that resolve to a value do not cause an error # time=4.627ms
    
    # Subtest: If a response header has been set inside an hook it shoulod not be overwritten by the final response handler
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 56 - If a response header has been set inside an hook it shoulod not be overwritten by the final response handler # time=4.744ms
    
    # Subtest: If the content type has been set inside an hook it should not be changed
        1..5
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 57 - If the content type has been set inside an hook it should not be changed # time=4.011ms
    
    # Subtest: request in onRequest, preParsing, preValidation and onResponse
        1..18
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equivalent
        ok 10 - should be equivalent
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equivalent
        ok 14 - should be equivalent
        ok 15 - should be equivalent
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
    ok 58 - request in onRequest, preParsing, preValidation and onResponse # time=13.106ms
    
    # Subtest: preValidation hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 59 - preValidation hook should support encapsulation / 1 # time=23.185ms
    
    # Subtest: preValidation hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 60 - preValidation hook should support encapsulation / 2 # time=4.044ms
    
    # Subtest: preValidation hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 61 - preValidation hook should support encapsulation / 3 # time=63.663ms
    
    # Subtest: onError hook
        1..3
        ok 1 - should match pattern provided
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 62 - onError hook # time=5.591ms
    
    # Subtest: reply.send should throw if called inside the onError hook
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 63 - reply.send should throw if called inside the onError hook # time=5.308ms
    
    # Subtest: onError hook with setErrorHandler
        # Subtest: Send error
            1..3
            ok 1 - should match pattern provided
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 1 - Send error # time=6.149ms
        
        1..1
    ok 64 - onError hook with setErrorHandler # time=11.549ms
    
    # Subtest: preParsing hook should run before parsing and be able to modify the payload
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 65 - preParsing hook should run before parsing and be able to modify the payload # time=11.149ms
    
    # Subtest: preParsing hooks should run in the order in which they are defined
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 66 - preParsing hooks should run in the order in which they are defined # time=8.445ms
    
    # Subtest: preParsing hooks should support encapsulation
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 67 - preParsing hooks should support encapsulation # time=12.606ms
    
    # Subtest: preParsing hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 68 - preParsing hook should support encapsulation / 1 # time=17.927ms
    
    # Subtest: preParsing hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 69 - preParsing hook should support encapsulation / 2 # time=6.463ms
    
    # Subtest: preParsing hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 70 - preParsing hook should support encapsulation / 3 # time=15.177ms
    
    # Subtest: preSerialization hook should run before serialization and be able to modify the payload
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 71 - preSerialization hook should run before serialization and be able to modify the payload # time=15.875ms
    
    # Subtest: preSerialization hook should be able to throw errors which are validated against schema response
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        1..6
    ok 72 - preSerialization hook should be able to throw errors which are validated against schema response # time=12.435ms
    
    # Subtest: preSerialization hook which returned error should still run onError hooks
        1..4
        ok 1 - should not error
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - should be equal
    ok 73 - preSerialization hook which returned error should still run onError hooks # time=7.967ms
    
    # Subtest: preSerialization hooks should run in the order in which they are defined
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 74 - preSerialization hooks should run in the order in which they are defined # time=15.805ms
    
    # Subtest: preSerialization hooks should support encapsulation
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 75 - preSerialization hooks should support encapsulation # time=13.964ms
    
    # Subtest: onRegister hook should be called / 1
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should not error
    ok 76 - onRegister hook should be called / 1 # time=4.636ms
    
    # Subtest: onRegister hook should be called / 2
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
    ok 77 - onRegister hook should be called / 2 # time=6.419ms
    
    # Subtest: onRegister hook should be called / 3
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
    ok 78 - onRegister hook should be called / 3 # time=6.483ms
    
    # Subtest: onRegister hook should be called (encapsulation)
        1..1
        ok 1 - should not error
    ok 79 - onRegister hook should be called (encapsulation) # time=2.796ms
    
    # Subtest: early termination, onRequest
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 80 - early termination, onRequest # time=5.806ms
    
    # Subtest: reply.send should throw if undefined error is thrown
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 81 - reply.send should throw if undefined error is thrown # time=18.215ms
    
    # Subtest: reply.send should throw if undefined error is thrown at preParsing hook
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 82 - reply.send should throw if undefined error is thrown at preParsing hook # time=18.026ms
    
    # Subtest: reply.send should throw if undefined error is thrown at onSend hook
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 83 - reply.send should throw if undefined error is thrown at onSend hook # time=5.131ms
    
    # Subtest: onTimeout should be triggered
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - onTimeout
        ok 5 - type is Error
        ok 6 - should be equal
    ok 84 - onTimeout should be triggered # time=527.409ms
    
    # Subtest: onTimeout should be triggered and socket _meta is set
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - onTimeout
        ok 5 - type is Error
        ok 6 - should be equal
    ok 85 - onTimeout should be triggered and socket _meta is set # time=508.336ms
    
    1..85
    # time=2451.979ms
ok 36 - test/hooks.test.js # time=2451.979ms

# Subtest: test/http2/closing.test.js
    # Subtest: http/2 request while fastify closing
        ok 1 - http2 successfully loaded
        ok 2 - should not error
        # Subtest: return 200
            ok 1 - should be equal
            1..1
        ok 3 - return 200 # time=12.182ms
        
        1..3
    ok 1 - http/2 request while fastify closing # time=60.182ms
    
    # Subtest: http/2 request while fastify closing - return503OnClosing: false
        ok 1 - http2 successfully loaded
        ok 2 - should not error
        # Subtest: return 200
            ok 1 - should be equal
            1..1
        ok 3 - return 200 # time=5.078ms
        
        1..3
    ok 2 - http/2 request while fastify closing - return503OnClosing: false # time=17.519ms
    
    # Subtest: http/2 closes successfully with async await
        1..0
    ok 3 - http/2 closes successfully with async await # time=115.014ms
    
    # Subtest: https/2 closes successfully with async await
        1..0
    ok 4 - https/2 closes successfully with async await # time=14.287ms
    
    # Subtest: http/2 server side session emits a timeout event
        ok 1 - should be equal
        1..1
    ok 5 - http/2 server side session emits a timeout event # time=107.88ms
    
    1..5
    # time=341.81ms
ok 37 - test/http2/closing.test.js # time=341.81ms

# Subtest: test/http2/constraint.test.js
    # Subtest: A route supports host constraints under http2 protocol and secure connection
        1..5
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request - no constrain
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - https get request - no constrain # time=44.893ms
        
        # Subtest: https get request - constrain
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - https get request - constrain # time=14.212ms
        
        # Subtest: https get request - constrain - not found
            1..1
            ok 1 - should be equal
        ok 5 - https get request - constrain - not found # time=11.751ms
        
    ok 1 - A route supports host constraints under http2 protocol and secure connection # time=153.837ms
    
    1..1
    # time=184.311ms
ok 38 - test/http2/constraint.test.js # time=184.311ms

# Subtest: test/http2/head.test.js
    ok 1 - http2 successfully loaded
    ok 2 - should not error
    # Subtest: http HEAD request
        1..1
        ok 1 - should be equal
    ok 3 - http HEAD request # time=60.553ms
    
    1..3
    # time=140.928ms
ok 39 - test/http2/head.test.js # time=140.928ms

# Subtest: test/http2/missing-http2-module.test.js
    # Subtest: should throw when http2 module cannot be found
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - should throw when http2 module cannot be found # time=11.431ms
    
    1..1
    # time=17.044ms
ok 40 - test/http2/missing-http2-module.test.js # time=17.044ms

# Subtest: test/http2/plain.test.js
    ok 1 - http2 successfully loaded
    ok 2 - should not error
    # Subtest: http get request
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 3 - http get request # time=32.674ms
    
    # Subtest: http hostname
        1..1
        ok 1 - should be equal
    ok 4 - http hostname # time=9.599ms
    
    1..4
    # time=126.418ms
ok 41 - test/http2/plain.test.js # time=126.418ms

# Subtest: test/http2/secure-with-fallback.test.js
    # Subtest: secure with fallback
        1..7
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get error
            1..1
            ok 1 - should be equal
        ok 3 - https get error # time=44.163ms
        
        # Subtest: https post
            1..2
            ok 1 - should be equal
            ok 2 - should be equivalent
        ok 4 - https post # time=18.93ms
        
        # Subtest: https get request
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - https get request # time=11.053ms
        
        # Subtest: http1 get request
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 6 - http1 get request # time=19.862ms
        
        # Subtest: http1 get error
            1..2
            ok 1 - should not error
            ok 2 - should be equal
        ok 7 - http1 get error # time=7.752ms
        
    ok 1 - secure with fallback # time=194.029ms
    
    1..1
    # time=224.679ms
ok 42 - test/http2/secure-with-fallback.test.js # time=224.679ms

# Subtest: test/http2/secure.test.js
    # Subtest: secure
        1..4
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - https get request # time=41.227ms
        
        # Subtest: https get request without trust proxy - protocol
            1..2
            ok 1 - should be equivalent
            ok 2 - should be equivalent
        ok 4 - https get request without trust proxy - protocol # time=23.307ms
        
    ok 1 - secure # time=158.68ms
    
    1..1
    # time=188.756ms
ok 43 - test/http2/secure.test.js # time=188.756ms

# Subtest: test/http2/unknown-http-method.test.js
    ok 1 - should not error
    # Subtest: http UNKNOWN_METHOD request
        1..2
        ok 1 - should be equal
        ok 2 - should be equivalent
    ok 2 - http UNKNOWN_METHOD request # time=32.417ms
    
    1..2
    # time=95.415ms
ok 44 - test/http2/unknown-http-method.test.js # time=95.415ms

# Subtest: test/https/custom-https-server.test.js
    # Subtest: Should support a custom https server
        1..4
        ok 1 - it is called twice for every HOST interface
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - Should support a custom https server # time=120.038ms
    
    1..1
    # time=174.558ms
ok 45 - test/https/custom-https-server.test.js # time=174.558ms

# Subtest: test/https/https.test.js
    # Subtest: https
        1..4
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 3 - https get request # time=40.183ms
        
        # Subtest: https get request without trust proxy - protocol
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 4 - https get request without trust proxy - protocol # time=17.111ms
        
    ok 1 - https # time=142.136ms
    
    1..1
    # time=172.259ms
ok 46 - test/https/https.test.js # time=172.259ms

# Subtest: test/imports.test.js
    # Subtest: should import as default
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 1 - should import as default # time=777.849ms
    
    # Subtest: should import as esm
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 2 - should import as esm # time=2.004ms
    
    1..2
    # time=792.136ms
ok 47 - test/imports.test.js # time=792.136ms

# Subtest: test/inject.test.js
    # Subtest: inject should exist
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 1 - inject should exist # time=18.281ms
    
    # Subtest: should wait for the ready event
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 2 - should wait for the ready event # time=612.008ms
    
    # Subtest: inject get request
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 3 - inject get request # time=9.083ms
    
    # Subtest: inject get request - code check
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 4 - inject get request - code check # time=26.698ms
    
    # Subtest: inject get request - headers check
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 5 - inject get request - headers check # time=9.001ms
    
    # Subtest: inject get request - querystring
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 6 - inject get request - querystring # time=7.267ms
    
    # Subtest: inject get request - params
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 7 - inject get request - params # time=7.012ms
    
    # Subtest: inject get request - wildcard
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - inject get request - wildcard # time=7.186ms
    
    # Subtest: inject get request - headers
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 9 - inject get request - headers # time=20.181ms
    
    # Subtest: inject post request
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 10 - inject post request # time=19.743ms
    
    # Subtest: inject post request - send stream
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 11 - inject post request - send stream # time=11.057ms
    
    # Subtest: inject get request - reply stream
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 12 - inject get request - reply stream # time=9.396ms
    
    # Subtest: inject promisify - waiting for ready event
        1..1
        ok 1 - should be equal
    ok 13 - inject promisify - waiting for ready event # time=20.826ms
    
    # Subtest: inject promisify - after the ready event
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 14 - inject promisify - after the ready event # time=14.333ms
    
    # Subtest: inject promisify - when the server is up
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 15 - inject promisify - when the server is up # time=22.463ms
    
    # Subtest: should reject in error case
        1..1
        ok 1 - should be equal
    ok 16 - should reject in error case # time=505.074ms
    
    # Subtest: inject a multipart request using form-body
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 17 - inject a multipart request using form-body # time=10.614ms
    
    # Subtest: should error the promise if ready errors
        1..3
        ok 1 - after is called
        ok 2 - expect truthy value
        ok 3 - should be equal
    ok 18 - should error the promise if ready errors # time=8.938ms
    
    # Subtest: should throw error if callback specified and if ready errors
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 19 - should throw error if callback specified and if ready errors # time=4.251ms
    
    # Subtest: should support builder-style injection with ready app
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
    ok 20 - should support builder-style injection with ready app # time=6.614ms
    
    # Subtest: should support builder-style injection with non-ready app
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
    ok 21 - should support builder-style injection with non-ready app # time=5.637ms
    
    # Subtest: should handle errors in builder-style injection correctly
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 22 - should handle errors in builder-style injection correctly # time=4.339ms
    
    1..22
    # time=1403.872ms
ok 48 - test/inject.test.js # time=1403.872ms

# Subtest: test/internals/all.test.js
    # Subtest: fastify.all should add all the methods to the same url
        1..14
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equivalent
    ok 1 - fastify.all should add all the methods to the same url # time=82.631ms
    
    1..1
    # time=92.121ms
ok 49 - test/internals/all.test.js # time=92.121ms

# Subtest: test/internals/contentTypeParser.test.js
    # Subtest: rawBody function
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - rawBody function # time=27.893ms
    
    # Subtest: Should support Webpack and faux modules
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - Should support Webpack and faux modules # time=10.049ms
    
    1..2
    # time=44.971ms
ok 50 - test/internals/contentTypeParser.test.js # time=44.971ms

# Subtest: test/internals/decorator.test.js
    # Subtest: decorate should add the given method to its instance
        1..1
        ok 1 - expect truthy value
    ok 1 - decorate should add the given method to its instance # time=5.415ms
    
    # Subtest: decorate is chainable
        1..3
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
    ok 2 - decorate is chainable # time=2.342ms
    
    # Subtest: checkExistence should check if a property is part of the given instance
        1..1
        ok 1 - expect truthy value
    ok 3 - checkExistence should check if a property is part of the given instance # time=1.526ms
    
    # Subtest: checkExistence should find the instance if not given
        1..1
        ok 1 - expect truthy value
    ok 4 - checkExistence should find the instance if not given # time=1.418ms
    
    # Subtest: checkExistence should check the prototype as well
        1..1
        ok 1 - expect truthy value
    ok 5 - checkExistence should check the prototype as well # time=1.358ms
    
    # Subtest: checkDependencies should throw if a dependency is not present
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 6 - checkDependencies should throw if a dependency is not present # time=1.933ms
    
    # Subtest: decorate should internally call checkDependencies
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 7 - decorate should internally call checkDependencies # time=1.403ms
    
    # Subtest: decorate should recognize getter/setter objects
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - (unnamed test)
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 8 - decorate should recognize getter/setter objects # time=2.75ms
    
    1..8
    # time=81.617ms
ok 51 - test/internals/decorator.test.js # time=81.617ms

# Subtest: test/internals/handleRequest.test.js
    # Subtest: handleRequest function - sent reply
        1..1
        ok 1 - should be equal
    ok 1 - handleRequest function - sent reply # time=6.352ms
    
    # Subtest: handleRequest function - invoke with error
        1..1
        ok 1 - should be equal
    ok 2 - handleRequest function - invoke with error # time=1.689ms
    
    # Subtest: handler function - invalid schema
        1..1
        ok 1 - errorHandler called
    ok 3 - handler function - invalid schema # time=71.567ms
    
    # Subtest: handler function - reply
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - (unnamed test)
    ok 4 - handler function - reply # time=3.461ms
    
    # Subtest: handler function - preValidationCallback with finished response
        1..0
    ok 5 - handler function - preValidationCallback with finished response # time=0.991ms
    
    # Subtest: request should be defined in onSend Hook on post request with content type application/json
        1..8
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - should not error
        ok 8 - should be equal
    ok 6 - request should be defined in onSend Hook on post request with content type application/json # time=388.062ms
    
    # Subtest: request should be defined in onSend Hook on post request with content type application/x-www-form-urlencoded
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - should be equal
    ok 7 - request should be defined in onSend Hook on post request with content type application/x-www-form-urlencoded # time=14.142ms
    
    # Subtest: request should be defined in onSend Hook on options request with content type application/x-www-form-urlencoded
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - should be equal
    ok 8 - request should be defined in onSend Hook on options request with content type application/x-www-form-urlencoded # time=30.139ms
    
    # Subtest: request should respond with an error if an unserialized payload is sent inside an async handler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
    ok 9 - request should respond with an error if an unserialized payload is sent inside an async handler # time=42.14ms
    
    1..9
    # time=582.087ms
ok 52 - test/internals/handleRequest.test.js # time=582.087ms

# Subtest: test/internals/hookRunner.test.js
    # Subtest: hookRunner - Basic
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 1 - hookRunner - Basic # time=8.91ms
    
    # Subtest: hookRunner - In case of error should skip to done
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 2 - hookRunner - In case of error should skip to done # time=2.709ms
    
    # Subtest: hookRunner - Should handle throw
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 3 - hookRunner - Should handle throw # time=2.143ms
    
    # Subtest: hookRunner - Should handle promises
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 4 - hookRunner - Should handle promises # time=26.092ms
    
    # Subtest: hookRunner - In case of error should skip to done (with promises)
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 5 - hookRunner - In case of error should skip to done (with promises) # time=3.374ms
    
    # Subtest: hookRunner - Be able to exit before its natural end
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 6 - hookRunner - Be able to exit before its natural end # time=1.346ms
    
    # Subtest: hookRunner - Promises that resolve to a value do not change the state
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 7 - hookRunner - Promises that resolve to a value do not change the state # time=1.594ms
    
    # Subtest: onSendHookRunner - Basic
        1..13
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equal
        ok 10 - should not error
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equal
    ok 8 - onSendHookRunner - Basic # time=8.605ms
    
    # Subtest: onSendHookRunner - Can change the payload
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 9 - onSendHookRunner - Can change the payload # time=3.8ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 10 - onSendHookRunner - In case of error should skip to done # time=2.572ms
    
    # Subtest: onSendHookRunner - Should handle promises
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 11 - onSendHookRunner - Should handle promises # time=2.926ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done (with promises)
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 12 - onSendHookRunner - In case of error should skip to done (with promises) # time=4.177ms
    
    # Subtest: onSendHookRunner - Be able to exit before its natural end
        1..2
        ok 1 - should be equivalent
        ok 2 - should be equivalent
    ok 13 - onSendHookRunner - Be able to exit before its natural end # time=3.752ms
    
    1..13
    # time=117.86ms
ok 53 - test/internals/hookRunner.test.js # time=117.86ms

# Subtest: test/internals/hooks.test.js
    # Subtest: hooks should have 4 array with the registered hooks
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        1..8
    ok 1 - hooks should have 4 array with the registered hooks # time=8.087ms
    
    # Subtest: hooks.add should add a hook to the given hook
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        1..14
    ok 2 - hooks.add should add a hook to the given hook # time=4.403ms
    
    # Subtest: hooks should throw on unexisting handler
        1..1
        ok 1 - (unnamed test)
    ok 3 - hooks should throw on unexisting handler # time=1.019ms
    
    # Subtest: should throw on wrong parameters
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 4 - should throw on wrong parameters # time=1.561ms
    
    1..4
    # time=29.163ms
ok 54 - test/internals/hooks.test.js # time=29.163ms

# Subtest: test/internals/initialConfig.test.js
    # Subtest: Fastify.initialConfig is an object
        1..1
        ok 1 - type is object
    ok 1 - Fastify.initialConfig is an object # time=16.968ms
    
    # Subtest: without options passed to Fastify, initialConfig should expose default values
        1..1
        ok 1 - should be equivalent
    ok 2 - without options passed to Fastify, initialConfig should expose default values # time=8.354ms
    
    # Subtest: Fastify.initialConfig should expose all options
        1..20
        ok 1 - should be equal
        ok 2 - for security reason the key cert is hidden
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - expect truthy value
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equal
    ok 3 - Fastify.initialConfig should expose all options # time=10.507ms
    
    # Subtest: Should throw if you try to modify Fastify.initialConfig
        1..4
        ok 1 - type is TypeError
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - (unnamed test)
    ok 4 - Should throw if you try to modify Fastify.initialConfig # time=3.3ms
    
    # Subtest: We must avoid shallow freezing and ensure that the whole object is freezed
        1..4
        ok 1 - type is TypeError
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - key cert removed
    ok 5 - We must avoid shallow freezing and ensure that the whole object is freezed # time=15.8ms
    
    # Subtest: https value check
        1..1
        ok 1 - expect falsey value
    ok 6 - https value check # time=1.444ms
    
    # Subtest: Return an error if options do not match the validation schema
        1..6
        ok 1 - type is Error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
        ok 6 - (unnamed test)
    ok 7 - Return an error if options do not match the validation schema # time=52.028ms
    
    # Subtest: Original options must not be frozen
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - Original options must not be frozen # time=2.783ms
    
    # Subtest: Original options must not be altered (test deep cloning)
        1..3
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 9 - Original options must not be altered (test deep cloning) # time=4.873ms
    
    # Subtest: Should not have issues when passing stream options to Pino.js
        1..15
        ok 1 - type is object
        ok 2 - should be equivalent
        ok 3 - listen at log message is ok
        ok 4 - should not error
        ok 5 - reqId is defined
        ok 6 - req is defined
        ok 7 - message is set
        ok 8 - method is get
        ok 9 - expect truthy value
        ok 10 - should be equal
        ok 11 - reqId is defined
        ok 12 - res is defined
        ok 13 - message is set
        ok 14 - statusCode is 200
        ok 15 - responseTime is defined
    ok 10 - Should not have issues when passing stream options to Pino.js # time=47.073ms
    
    # Subtest: deepFreezeObject() should not throw on TypedArray
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - (unnamed test)
    ok 11 - deepFreezeObject() should not throw on TypedArray # time=2.09ms
    
    # Subtest: Fastify.initialConfig should accept the deprecated versioning option
        1..1
        ok 1 - should be equal
    ok 12 - Fastify.initialConfig should accept the deprecated versioning option # time=5.041ms
    
    # Subtest: pluginTimeout should be parsed correctly
        ok 1 - should be equal
        ok 2 - should be equal
        1..2
    ok 13 - pluginTimeout should be parsed correctly # time=3.221ms
    
    1..13
    # time=243.992ms
ok 55 - test/internals/initialConfig.test.js # time=243.992ms

# Subtest: test/internals/logger.test.js
    # Subtest: time resolution
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - time resolution # time=5.751ms
    
    # Subtest: The logger should add a unique id for every request
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - the id should not be duplicated
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - the id should not be duplicated
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - the id should not be duplicated
        ok 11 - expect truthy value
        ok 12 - should not error
        ok 13 - the id should not be duplicated
        ok 14 - expect truthy value
        ok 15 - should not error
        ok 16 - the id should not be duplicated
        ok 17 - expect truthy value
        ok 18 - should not error
        ok 19 - the id should not be duplicated
        ok 20 - expect truthy value
        ok 21 - should not error
        ok 22 - the id should not be duplicated
        ok 23 - expect truthy value
        ok 24 - should not error
        ok 25 - the id should not be duplicated
        ok 26 - expect truthy value
        ok 27 - should not error
        ok 28 - the id should not be duplicated
        ok 29 - expect truthy value
        ok 30 - should not error
        ok 31 - the id should not be duplicated
        1..31
    ok 2 - The logger should add a unique id for every request # time=79.264ms
    
    # Subtest: The logger should reuse request id header for req.id
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - the request id from the header should be returned
        1..4
    ok 3 - The logger should reuse request id header for req.id # time=10.084ms
    
    # Subtest: The logger should error if both stream and file destination are given
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - The logger should error if both stream and file destination are given # time=1.571ms
    
    # Subtest: The serializer prevent fails if the request socket is undefined
        1..1
        ok 1 - should be equivalent
    ok 5 - The serializer prevent fails if the request socket is undefined # time=5.259ms
    
    1..5
    # time=111.104ms
ok 56 - test/internals/logger.test.js # time=111.104ms

# Subtest: test/internals/plugin.test.js
    # Subtest: shouldSkipOverride should check the 'skip-override' symbol
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 1 - shouldSkipOverride should check the 'skip-override' symbol # time=6.72ms
    
    # Subtest: getPluginName should return plugin name if the file is cached
        1..1
        ok 1 - should be equal
    ok 2 - getPluginName should return plugin name if the file is cached # time=2.214ms
    
    # Subtest: getMeta should return the object stored with the 'plugin-meta' symbol
        1..1
        ok 1 - should be equivalent
    ok 3 - getMeta should return the object stored with the 'plugin-meta' symbol # time=4.817ms
    
    # Subtest: checkDecorators should check if the given decorator is present in the instance
        1..1
        ok 1 - Everything ok
    ok 4 - checkDecorators should check if the given decorator is present in the instance # time=1.677ms
    
    # Subtest: checkDecorators should check if the given decorator is present in the instance (errored)
        1..1
        ok 1 - should be equal
    ok 5 - checkDecorators should check if the given decorator is present in the instance (errored) # time=1.103ms
    
    # Subtest: checkDecorators should accept optional decorators
        1..1
        ok 1 - Everything ok
    ok 6 - checkDecorators should accept optional decorators # time=0.688ms
    
    # Subtest: checkDependencies should check if the given dependency is present in the instance
        1..1
        ok 1 - Everything ok
    ok 7 - checkDependencies should check if the given dependency is present in the instance # time=0.868ms
    
    # Subtest: checkDependencies should check if the given dependency is present in the instance (errored)
        1..1
        ok 1 - should be equal
    ok 8 - checkDependencies should check if the given dependency is present in the instance (errored) # time=16.728ms
    
    1..8
    # time=100.404ms
ok 57 - test/internals/plugin.test.js # time=100.404ms

# Subtest: test/internals/reply-serialize.test.js
    # Subtest: Reply\#compileSerializationSchema
        1..4
        # Subtest: Should return a serialization function
            1..4
            ok 1 - type is Function
            ok 2 - type is string
            ok 3 - should be equal
            ok 4 - should be equal
        ok 1 - Should return a serialization function # time=80.081ms
        
        # Subtest: Should reuse the serialize fn across multiple invocations - Route without schema
            1..17
            ok 1 - build the schema compilation function
            ok 2 - type is Function
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - Are the same validate function
            ok 6 - type is Function
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - Are the same validate function
            ok 10 - type is Function
            ok 11 - should be equal
            ok 12 - should be equal
            ok 13 - Are the same validate function
            ok 14 - type is Function
            ok 15 - should be equal
            ok 16 - should be equal
            ok 17 - should be equal
        ok 2 - Should reuse the serialize fn across multiple invocations - Route without schema # time=16.296ms
        
        # Subtest: Should use the custom serializer compiler for the route
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equivalent
            ok 7 - {"hello":"world"}
            ok 8 - should be equivalent
            ok 9 - {"hello":"world"}
            ok 10 - should be equal
        ok 3 - Should use the custom serializer compiler for the route # time=15.299ms
        
        # Subtest: Should build a WeakMap for cache when called
            1..4
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
            ok 4 - should be equal
        ok 4 - Should build a WeakMap for cache when called # time=8.501ms
        
    ok 1 - Reply\#compileSerializationSchema # time=139.559ms
    
    # Subtest: Reply\#getSerializationFunction
        1..3
        # Subtest: Should retrieve the serialization function from the Schema definition
            1..9
            ok 1 - type is Function
            ok 2 - type is Function
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - expect falsey value
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
        ok 1 - Should retrieve the serialization function from the Schema definition # time=29.687ms
        
        # Subtest: Should retrieve the serialization function from the cached one
            1..6
            ok 1 - type is Function
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
        ok 2 - Should retrieve the serialization function from the cached one # time=8.566ms
        
        # Subtest: Should not instantiate a WeakMap if it is not needed
            1..4
            ok 1 - expect falsey value
            ok 2 - should be equal
            ok 3 - expect falsey value
            ok 4 - should be equal
        ok 3 - Should not instantiate a WeakMap if it is not needed # time=30.753ms
        
    ok 2 - Reply\#getSerializationFunction # time=87.7ms
    
    # Subtest: Reply\#serializeInput
        1..5
        # Subtest: Should throw if missed serialization function from HTTP status
            1..2
            ok 1 - should be equal
            ok 2 - should be equivalent
        ok 1 - Should throw if missed serialization function from HTTP status # time=26.616ms
        
        # Subtest: Should use a serializer fn from HTTP status
            1..4
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
        ok 2 - Should use a serializer fn from HTTP status # time=16.313ms
        
        # Subtest: Should compile a serializer out of a schema if serializer fn missed
            1..10
            ok 1 - should be equal
            ok 2 - expect falsey value
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 3 - Should compile a serializer out of a schema if serializer fn missed # time=20.828ms
        
        # Subtest: Should use a cached serializer fn
            1..12
            ok 1 - should be equal
            ok 2 - expect falsey value
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
            ok 11 - should be equal
            ok 12 - should be equal
        ok 4 - Should use a cached serializer fn # time=18.206ms
        
        # Subtest: Should instantiate a WeakMap after first call
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
        ok 5 - Should instantiate a WeakMap after first call # time=20.841ms
        
    ok 3 - Reply\#serializeInput # time=116.199ms
    
    1..3
    # time=363.069ms
ok 58 - test/internals/reply-serialize.test.js # time=363.069ms

# Subtest: test/internals/reply.test.js
    # Subtest: Once called, Reply should return an object with methods
        1..13
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should be equal
        ok 13 - should be equal
    ok 1 - Once called, Reply should return an object with methods # time=16.526ms
    
    # Subtest: reply.send will logStream error and destroy the stream
        1..1
        ok 1 - Error not logged and not streamed
    ok 2 - reply.send will logStream error and destroy the stream # time=24.781ms
    
    # Subtest: reply.send throw with circular JSON
        1..1
        ok 1 - Converting circular structure to JSON
    ok 3 - reply.send throw with circular JSON # time=3.066ms
    
    # Subtest: reply.send returns itself
        1..1
        ok 1 - should be equal
    ok 4 - reply.send returns itself # time=1.566ms
    
    # Subtest: reply.serializer should set a custom serializer
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 5 - reply.serializer should set a custom serializer # time=1.12ms
    
    # Subtest: reply.serializer should support running preSerialization hooks
        1..3
        ok 1 - preSerialization
        ok 2 - should not error
        ok 3 - should be equal
    ok 6 - reply.serializer should support running preSerialization hooks # time=796.256ms
    
    # Subtest: reply.serialize should serialize payload
        1..1
        ok 1 - should be equal
    ok 7 - reply.serialize should serialize payload # time=0.946ms
    
    # Subtest: reply.serialize should serialize payload with a custom serializer
        1..2
        ok 1 - should be equal
        ok 2 - custom serializer not called
    ok 8 - reply.serialize should serialize payload with a custom serializer # time=0.848ms
    
    # Subtest: reply.serialize should serialize payload with a context default serializer
        1..2
        ok 1 - should be equal
        ok 2 - custom serializer not called
    ok 9 - reply.serialize should serialize payload with a context default serializer # time=0.968ms
    
    # Subtest: reply.serialize should serialize payload with Fastify instance
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - reply.serialize should serialize payload with Fastify instance # time=18.627ms
    
    # Subtest: within an instance
        ok 1 - should not error
        # Subtest: custom serializer should be used
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - custom serializer should be used # time=36.085ms
        
        # Subtest: status code and content-type should be correct
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 3 - status code and content-type should be correct # time=7.463ms
        
        # Subtest: auto status code shoud be 200
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - auto status code shoud be 200 # time=6.052ms
        
        # Subtest: auto type shoud be text/plain
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - auto type shoud be text/plain # time=5.154ms
        
        # Subtest: redirect to `/` - 1
            1..1
            ok 1 - should be equal
        ok 6 - redirect to `/` - 1 # time=4.15ms
        
        # Subtest: redirect to `/` - 2
            1..1
            ok 1 - should be equal
        ok 7 - redirect to `/` - 2 # time=14.545ms
        
        # Subtest: redirect to `/` - 3
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 8 - redirect to `/` - 3 # time=8.848ms
        
        # Subtest: redirect to `/` - 4
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 9 - redirect to `/` - 4 # time=8.77ms
        
        # Subtest: redirect to `/` - 5
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
        ok 10 - redirect to `/` - 5 # time=4.184ms
        
        # Subtest: redirect to `/` - 6
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 11 - redirect to `/` - 6 # time=7.532ms
        
        # Subtest: redirect to `/` - 7
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 12 - redirect to `/` - 7 # time=8.042ms
        
        # Subtest: redirect to `/` - 8
            1..1
            ok 1 - should be equal
        ok 13 - redirect to `/` - 8 # time=3.475ms
        
        # Subtest: redirect to `/` - 9
            1..1
            ok 1 - should be equal
        ok 14 - redirect to `/` - 9 # time=3.569ms
        
        # Subtest: redirect with async function to `/` - 10
            1..1
            ok 1 - should be equal
        ok 15 - redirect with async function to `/` - 10 # time=3.663ms
        
        1..15
    ok 11 - within an instance # time=183.828ms
    
    # Subtest: buffer without content type should send a application/octet-stream and raw buffer
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 12 - buffer without content type should send a application/octet-stream and raw buffer # time=31.477ms
    
    # Subtest: buffer with content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 13 - buffer with content type should not send application/octet-stream # time=10.546ms
    
    # Subtest: stream with content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 14 - stream with content type should not send application/octet-stream # time=42.497ms
    
    # Subtest: stream without content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 15 - stream without content type should not send application/octet-stream # time=73.001ms
    
    # Subtest: stream using reply.raw.writeHead should return customize headers
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 16 - stream using reply.raw.writeHead should return customize headers # time=34.252ms
    
    # Subtest: plain string without content type should send a text/plain
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 17 - plain string without content type should send a text/plain # time=24.463ms
    
    # Subtest: plain string with content type should be sent unmodified
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - plain string with content type should be sent unmodified # time=16.946ms
    
    # Subtest: plain string with content type and custom serializer should be serialized
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 19 - plain string with content type and custom serializer should be serialized # time=15.142ms
    
    # Subtest: plain string with content type application/json should NOT be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 20 - plain string with content type application/json should NOT be serialized as json # time=17ms
    
    # Subtest: plain string with custom json content type should NOT be serialized as json
        1..19
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equivalent
    ok 21 - plain string with custom json content type should NOT be serialized as json # time=24.605ms
    
    # Subtest: non-string with content type application/json SHOULD be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 22 - non-string with content type application/json SHOULD be serialized as json # time=22.372ms
    
    # Subtest: non-string with custom json's content-type SHOULD be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 23 - non-string with custom json's content-type SHOULD be serialized as json # time=25.868ms
    
    # Subtest: non-string with custom json content type SHOULD be serialized as json
        1..16
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 24 - non-string with custom json content type SHOULD be serialized as json # time=43.072ms
    
    # Subtest: error object with a content type that is not application/json should work
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 25 - error object with a content type that is not application/json should work # time=14.539ms
    
    # Subtest: undefined payload should be sent as-is
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 26 - undefined payload should be sent as-is # time=17.848ms
    
    # Subtest: for HEAD method, no body should be sent but content-length should be
        1..11
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
    ok 27 - for HEAD method, no body should be sent but content-length should be # time=19.767ms
    
    # Subtest: reply.send(new NotFound()) should not invoke the 404 handler
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 28 - reply.send(new NotFound()) should not invoke the 404 handler # time=14.164ms
    
    # Subtest: reply can set multiple instances of same header
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - expect truthy value
        ok 4 - should be equivalent strictly
    ok 29 - reply can set multiple instances of same header # time=8.539ms
    
    # Subtest: reply.hasHeader returns correct values
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 30 - reply.hasHeader returns correct values # time=5.304ms
    
    # Subtest: reply.getHeader returns correct values
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
        ok 4 - should be equivalent strictly
    ok 31 - reply.getHeader returns correct values # time=7.935ms
    
    # Subtest: reply.getHeader returns raw header if there is not in the reply headers
        1..1
        ok 1 - should be equal
    ok 32 - reply.getHeader returns raw header if there is not in the reply headers # time=0.691ms
    
    # Subtest: reply.getHeaders returns correct values
        1..3
        ok 1 - should be equivalent strictly
        ok 2 - should be equivalent strictly
        ok 3 - should not error
    ok 33 - reply.getHeaders returns correct values # time=5.177ms
    
    # Subtest: reply.removeHeader can remove the value
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent strictly
        ok 5 - (unnamed test)
    ok 34 - reply.removeHeader can remove the value # time=6.967ms
    
    # Subtest: reply.header can reset the value
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent strictly
        ok 3 - (unnamed test)
    ok 35 - reply.header can reset the value # time=7.135ms
    
    # Subtest: reply.hasHeader computes raw and fastify headers
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - (unnamed test)
    ok 36 - reply.hasHeader computes raw and fastify headers # time=5.972ms
    
    # Subtest: Reply should handle JSON content type with a charset
        1..16
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should not error
        ok 16 - should be equal
    ok 37 - Reply should handle JSON content type with a charset # time=16.048ms
    
    # Subtest: Content type and charset set previously
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 38 - Content type and charset set previously # time=4.803ms
    
    # Subtest: .status() is an alias for .code()
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 39 - .status() is an alias for .code() # time=3.936ms
    
    # Subtest: .statusCode is getter and setter
        1..4
        ok 1 - 200
        ok 2 - 418
        ok 3 - should not error
        ok 4 - should be equal
    ok 40 - .statusCode is getter and setter # time=6.631ms
    
    # Subtest: reply.header setting multiple cookies as multiple Set-Cookie headers
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equivalent strictly
        ok 4 - should not error
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - should be equivalent strictly
    ok 41 - reply.header setting multiple cookies as multiple Set-Cookie headers # time=17.216ms
    
    # Subtest: should emit deprecation warning when trying to modify the reply.sent property
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 42 - should emit deprecation warning when trying to modify the reply.sent property # time=4.312ms
    
    # Subtest: should throw error when passing falsy value to reply.sent
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 43 - should throw error when passing falsy value to reply.sent # time=3.855ms
    
    # Subtest: should throw error when attempting to set reply.sent more than once
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 44 - should throw error when attempting to set reply.sent more than once # time=3.657ms
    
    # Subtest: should not throw error when attempting to set reply.sent if the underlining request was sent
        1..3
        ok 1 - expected to not throw
        ok 2 - should not error
        ok 3 - (unnamed test)
    ok 45 - should not throw error when attempting to set reply.sent if the underlining request was sent # time=5.845ms
    
    # Subtest: reply.getResponseTime() should return 0 before the timer is initialised on the reply by setting up response listeners
        1..1
        ok 1 - should be equal
    ok 46 - reply.getResponseTime() should return 0 before the timer is initialised on the reply by setting up response listeners # time=0.624ms
    
    # Subtest: reply.getResponseTime() should return a number greater than 0 after the timer is initialised on the reply by setting up response listeners
        1..1
        ok 1 - expect truthy value
    ok 47 - reply.getResponseTime() should return a number greater than 0 after the timer is initialised on the reply by setting up response listeners # time=4.028ms
    
    # Subtest: reply.getResponseTime() should return the time since a request started while inflight
        1..1
        ok 1 - should not be equal
    ok 48 - reply.getResponseTime() should return the time since a request started while inflight # time=3.452ms
    
    # Subtest: reply.getResponseTime() should return the same value after a request is finished
        1..1
        ok 1 - should be equal
    ok 49 - reply.getResponseTime() should return the same value after a request is finished # time=3.499ms
    
    # Subtest: reply should use the custom serializer
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 50 - reply should use the custom serializer # time=4.821ms
    
    # Subtest: reply should use the right serializer in encapsulated context
        1..9
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 51 - reply should use the right serializer in encapsulated context # time=9.553ms
    
    # Subtest: reply should use the right serializer in deep encapsulated context
        1..8
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 52 - reply should use the right serializer in deep encapsulated context # time=9.384ms
    
    # Subtest: reply should use the route serializer
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equal
    ok 53 - reply should use the route serializer # time=3.658ms
    
    # Subtest: cannot set the replySerializer when the server is running
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 54 - cannot set the replySerializer when the server is running # time=11.509ms
    
    # Subtest: reply should not call the custom serializer for errors and not found
        1..9
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 55 - reply should not call the custom serializer for errors and not found # time=7.181ms
    
    # Subtest: reply.then
        1..4
        # Subtest: without an error
            1..1
            ok 1 - fulfilled called
        ok 1 - without an error # time=10.743ms
        
        # Subtest: with an error
            1..1
            ok 1 - should be equal
        ok 2 - with an error # time=1.507ms
        
        # Subtest: with error but without reject callback
            1..1
            ok 1 - (unnamed test)
        ok 3 - with error but without reject callback # time=1.014ms
        
        # Subtest: with error, without reject callback, with logger
            1..1
            ok 1 - should be equal
        ok 4 - with error, without reject callback, with logger # time=1.555ms
        
    ok 56 - reply.then # time=21.88ms
    
    # Subtest: reply.sent should read from response.writableEnded if it is defined
        1..1
        ok 1 - should be equal
    ok 57 - reply.sent should read from response.writableEnded if it is defined # time=1.216ms
    
    # Subtest: redirect to an invalid URL should not crash the server
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        1..7
    ok 58 - redirect to an invalid URL should not crash the server # time=14.422ms
    
    # Subtest: invalid response headers should not crash the server
        ok 1 - only the first invalid header is logged
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 59 - invalid response headers should not crash the server # time=7.991ms
    
    # Subtest: invalid response headers when sending back an error
        ok 1 - only the first invalid header is logged
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 60 - invalid response headers when sending back an error # time=7.639ms
    
    # Subtest: invalid response headers and custom error handler
        ok 1 - custom error handler receives the error
        ok 2 - only the first invalid header is logged
        ok 3 - should be equal
        ok 4 - should be equivalent
        1..4
    ok 61 - invalid response headers and custom error handler # time=23.613ms
    
    1..61
    # time=1817.85ms
ok 59 - test/internals/reply.test.js # time=1817.85ms

# Subtest: test/internals/request-validate.test.js
    # Subtest: \#compileValidationSchema
        1..5
        # Subtest: Should return a function - Route without schema
            1..3
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
        ok 1 - Should return a function - Route without schema # time=147.232ms
        
        # Subtest: Should reuse the validate fn across multiple invocations - Route without schema
            1..16
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
            ok 4 - Are the same validate function
            ok 5 - type is Function
            ok 6 - expect truthy value
            ok 7 - expect falsey value
            ok 8 - Are the same validate function
            ok 9 - type is Function
            ok 10 - expect truthy value
            ok 11 - expect falsey value
            ok 12 - Are the same validate function
            ok 13 - type is Function
            ok 14 - expect truthy value
            ok 15 - expect falsey value
            ok 16 - should be equal
        ok 2 - Should reuse the validate fn across multiple invocations - Route without schema # time=46.972ms
        
        # Subtest: Should return a function - Route with schema
            1..3
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
        ok 3 - Should return a function - Route with schema # time=79.539ms
        
        # Subtest: Should use the custom validator compiler for the route
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equivalent
            ok 7 - expect truthy value
            ok 8 - should be equivalent
            ok 9 - expect truthy value
            ok 10 - should be equal
        ok 4 - Should use the custom validator compiler for the route # time=12.253ms
        
        # Subtest: Should instantiate a WeakMap when executed for first time
            1..5
            ok 1 - should be equal
            ok 2 - type is Function
            ok 3 - type is WeakMap
            ok 4 - type is Function
            ok 5 - type is WeakMap
        ok 5 - Should instantiate a WeakMap when executed for first time # time=37.88ms
        
    ok 1 - \#compileValidationSchema # time=342.604ms
    
    # Subtest: \#getValidationFunction
        1..4
        # Subtest: Should return a validation function
            1..1
            ok 1 - should be equal
        ok 1 - Should return a validation function # time=68.591ms
        
        # Subtest: Should return undefined if no schema compiled
            1..2
            ok 1 - expect falsey value
            ok 2 - expect falsey value
        ok 2 - Should return undefined if no schema compiled # time=5.75ms
        
        # Subtest: Should return the validation function from each HTTP part
            1..15
            ok 1 - expect truthy value
            ok 2 - expect truthy value
            ok 3 - expect falsey value
            ok 4 - expect truthy value
            ok 5 - expect truthy value
            ok 6 - expect falsey value
            ok 7 - expect truthy value
            ok 8 - expect truthy value
            ok 9 - expect truthy value
            ok 10 - expect truthy value
            ok 11 - expect falsey value
            ok 12 - should be equal
            ok 13 - expect truthy value
            ok 14 - expect falsey value
            ok 15 - should be equal
        ok 3 - Should return the validation function from each HTTP part # time=80.222ms
        
        # Subtest: Should not set a WeakMap if there is no schema
            1..1
            ok 1 - should be equal
        ok 4 - Should not set a WeakMap if there is no schema # time=35.953ms
        
    ok 2 - \#getValidationFunction # time=200.374ms
    
    # Subtest: \#validate
        1..7
        # Subtest: Should return true/false if input valid - Route without schema
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 1 - Should return true/false if input valid - Route without schema # time=72.06ms
        
        # Subtest: Should use the custom validator compiler for the route
            1..9
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equivalent
            ok 6 - should be equivalent
            ok 7 - expect truthy value
            ok 8 - expect truthy value
            ok 9 - should be equal
        ok 2 - Should use the custom validator compiler for the route # time=8.666ms
        
        # Subtest: Should return true/false if input valid - With Schema for Route defined
            1..8
            ok 1 - expect truthy value
            ok 2 - expect falsey value
            ok 3 - expect falsey value
            ok 4 - expect truthy value
            ok 5 - expect falsey value
            ok 6 - expect truthy value
            ok 7 - expect truthy value
            ok 8 - expect falsey value
        ok 3 - Should return true/false if input valid - With Schema for Route defined # time=115.249ms
        
        # Subtest: Should throw if missing validation fn for HTTP part and not schema provided
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 4 - Should throw if missing validation fn for HTTP part and not schema provided # time=10.791ms
        
        # Subtest: Should throw if missing validation fn for HTTP part and not valid schema provided
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 5 - Should throw if missing validation fn for HTTP part and not valid schema provided # time=25.497ms
        
        # Subtest: Should throw if invalid schema passed
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 6 - Should throw if invalid schema passed # time=22.871ms
        
        # Subtest: Should set a WeakMap if compiling the very first schema
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
        ok 7 - Should set a WeakMap if compiling the very first schema # time=33.285ms
        
    ok 3 - \#validate # time=298.489ms
    
    # Subtest: Nested Context
        1..1
        # Subtest: Level_1
            1..3
            # Subtest: \#compileValidationSchema
                1..4
                # Subtest: Should return a function - Route without schema
                    1..3
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                ok 1 - Should return a function - Route without schema # time=119.778ms
                
                # Subtest: Should reuse the validate fn across multiple invocations - Route without schema
                    1..16
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                    ok 4 - Are the same validate function
                    ok 5 - type is Function
                    ok 6 - expect truthy value
                    ok 7 - expect falsey value
                    ok 8 - Are the same validate function
                    ok 9 - type is Function
                    ok 10 - expect truthy value
                    ok 11 - expect falsey value
                    ok 12 - Are the same validate function
                    ok 13 - type is Function
                    ok 14 - expect truthy value
                    ok 15 - expect falsey value
                    ok 16 - should be equal
                ok 2 - Should reuse the validate fn across multiple invocations - Route without schema # time=67.803ms
                
                # Subtest: Should return a function - Route with schema
                    1..3
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                ok 3 - Should return a function - Route with schema # time=46.83ms
                
                # Subtest: Should use the custom validator compiler for the route
                    1..10
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - should be equal
                    ok 5 - should be equal
                    ok 6 - should be equivalent
                    ok 7 - expect truthy value
                    ok 8 - should be equivalent
                    ok 9 - expect truthy value
                    ok 10 - should be equal
                ok 4 - Should use the custom validator compiler for the route # time=9.158ms
                
            ok 1 - \#compileValidationSchema # time=254.196ms
            
            # Subtest: \#getValidationFunction
                1..6
                # Subtest: Should return a validation function
                    1..1
                    ok 1 - should be equal
                ok 1 - Should return a validation function # time=64.467ms
                
                # Subtest: Should return undefined if no schema compiled
                    1..1
                    ok 1 - expect falsey value
                ok 2 - Should return undefined if no schema compiled # time=4.622ms
                
                # Subtest: Should return the validation function from each HTTP part
                    1..15
                    ok 1 - expect truthy value
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                    ok 4 - expect truthy value
                    ok 5 - expect truthy value
                    ok 6 - expect falsey value
                    ok 7 - expect truthy value
                    ok 8 - expect truthy value
                    ok 9 - expect truthy value
                    ok 10 - expect truthy value
                    ok 11 - expect falsey value
                    ok 12 - should be equal
                    ok 13 - expect truthy value
                    ok 14 - expect falsey value
                    ok 15 - should be equal
                ok 3 - Should return the validation function from each HTTP part # time=67.912ms
                
                # Subtest: Should return a validation function - nested
                    1..6
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - expect falsey value
                    ok 5 - should be equal
                    ok 6 - should be equal
                ok 4 - Should return a validation function - nested # time=16.114ms
                
                # Subtest: Should return undefined if no schema compiled - nested
                    1..3
                    ok 1 - should be equal
                    ok 2 - expect falsey value
                    ok 3 - should be equal
                ok 5 - Should return undefined if no schema compiled - nested # time=51.812ms
                
                # Subtest: Should per-route defined validation compiler
                    1..5
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should not be equal
                    ok 4 - should be equal
                    ok 5 - should be equal
                ok 6 - Should per-route defined validation compiler # time=30.368ms
                
            ok 2 - \#getValidationFunction # time=248.771ms
            
            # Subtest: \#validate
                1..3
                # Subtest: Should return true/false if input valid - Route without schema
                    1..2
                    ok 1 - expect falsey value
                    ok 2 - expect truthy value
                ok 1 - Should return true/false if input valid - Route without schema # time=48.119ms
                
                # Subtest: Should use the custom validator compiler for the route
                    1..10
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - should be equal
                    ok 5 - should be equivalent
                    ok 6 - should be equivalent
                    ok 7 - expect truthy value
                    ok 8 - expect truthy value
                    ok 9 - should be equal
                    ok 10 - should be equal
                ok 2 - Should use the custom validator compiler for the route # time=10.694ms
                
                # Subtest: Should return true/false if input valid - With Schema for Route defined and scoped validator compiler
                    1..13
                    ok 1 - expect truthy value
                    ok 2 - expect falsey value
                    ok 3 - expect falsey value
                    ok 4 - expect truthy value
                    ok 5 - expect falsey value
                    ok 6 - expect truthy value
                    ok 7 - expect truthy value
                    ok 8 - expect falsey value
                    ok 9 - should be equal
                    ok 10 - should be equal
                    ok 11 - should be equal
                    ok 12 - should be equal
                    ok 13 - should be equal
                ok 3 - Should return true/false if input valid - With Schema for Route defined and scoped validator compiler # time=101.423ms
                
            ok 3 - \#validate # time=167.188ms
            
        ok 1 - Level_1 # time=677.041ms
        
    ok 4 - Nested Context # time=681.693ms
    
    1..4
    # time=1534.619ms
ok 60 - test/internals/request-validate.test.js # time=1534.619ms

# Subtest: test/internals/request.test.js
    # Subtest: Regular request
        ok 1 - type is Request
        ok 2 - type is Function
        ok 3 - type is Function
        ok 4 - type is Function
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        1..19
    ok 1 - Regular request # time=35.543ms
    
    # Subtest: Regular request - hostname from authority
        1..2
        ok 1 - type is Request
        ok 2 - should be equal
    ok 2 - Regular request - hostname from authority # time=2.221ms
    
    # Subtest: Regular request - host header has precedence over authority
        1..2
        ok 1 - type is Request
        ok 2 - should be equal
    ok 3 - Regular request - host header has precedence over authority # time=14.688ms
    
    # Subtest: Request with trust proxy
        1..18
        ok 1 - type is _Request
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - type is Function
        ok 17 - type is Function
        ok 18 - type is Function
    ok 4 - Request with trust proxy # time=36.356ms
    
    # Subtest: Request with trust proxy, encrypted
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 5 - Request with trust proxy, encrypted # time=1.617ms
    
    # Subtest: Request with trust proxy - no x-forwarded-host header
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 6 - Request with trust proxy - no x-forwarded-host header # time=6.498ms
    
    # Subtest: Request with trust proxy - no x-forwarded-host header and fallback to authority
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 7 - Request with trust proxy - no x-forwarded-host header and fallback to authority # time=1.518ms
    
    # Subtest: Request with trust proxy - x-forwarded-host header has precedence over host
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 8 - Request with trust proxy - x-forwarded-host header has precedence over host # time=3.772ms
    
    # Subtest: Request with trust proxy - handles multiple entries in x-forwarded-host/proto
        1..3
        ok 1 - type is _Request
        ok 2 - should be equal
        ok 3 - should be equal
    ok 9 - Request with trust proxy - handles multiple entries in x-forwarded-host/proto # time=8.032ms
    
    # Subtest: Request with trust proxy - plain
        1..1
        ok 1 - should be equivalent
    ok 10 - Request with trust proxy - plain # time=5.314ms
    
    # Subtest: Request with undefined socket
        1..18
        ok 1 - type is Request
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equivalent
        ok 16 - type is Function
        ok 17 - type is Function
        ok 18 - type is Function
    ok 11 - Request with undefined socket # time=6.378ms
    
    # Subtest: Request with trust proxy and undefined socket
        1..1
        ok 1 - should be equivalent
    ok 12 - Request with trust proxy and undefined socket # time=1.425ms
    
    1..12
    # time=238.452ms
ok 61 - test/internals/request.test.js # time=238.452ms

# Subtest: test/internals/server.test.js
    # Subtest: start listening
        ok 1 - server started
        1..1
    ok 1 - start listening # time=41.55ms
    
    # Subtest: DNS errors does not stop the main server on localhost - promise interface
        ok 1 - server started
        1..1
    ok 2 - DNS errors does not stop the main server on localhost - promise interface # time=17.188ms
    
    # Subtest: DNS errors does not stop the main server on localhost - callback interface
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 3 - DNS errors does not stop the main server on localhost - callback interface # time=27.189ms
    
    # Subtest: DNS returns empty binding
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 4 - DNS returns empty binding # time=18.987ms
    
    # Subtest: DNS returns more than two binding
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 5 - DNS returns more than two binding # time=14.643ms
    
    1..5
    # time=134.298ms
ok 62 - test/internals/server.test.js # time=134.298ms

# Subtest: test/internals/validation.test.js
    # Subtest: Symbols
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 1 - Symbols # time=8.147ms
    
    # Subtest: compileSchemasForValidation schema - missing schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - compileSchemasForValidation schema - missing schema # time=2.345ms
    
    # Subtest: compileSchemasForValidation schema - missing output schema
        1..1
        ok 1 - should be equal
    ok 3 - compileSchemasForValidation schema - missing output schema # time=1.319ms
    
    # Subtest: compileSchemasForSerialization schema - missing schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - compileSchemasForSerialization schema - missing schema # time=1.808ms
    
    # Subtest: compileSchemasForSerialization schema - missing output schema
        1..1
        ok 1 - should be equal
    ok 5 - compileSchemasForSerialization schema - missing output schema # time=0.961ms
    
    # Subtest: build schema - output schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 6 - build schema - output schema # time=68.163ms
    
    # Subtest: build schema - payload schema
        1..1
        ok 1 - should be equal
    ok 7 - build schema - payload schema # time=2.031ms
    
    # Subtest: build schema - avoid repeated normalize schema
        1..3
        ok 1 - should not be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 8 - build schema - avoid repeated normalize schema # time=1.452ms
    
    # Subtest: build schema - query schema
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 9 - build schema - query schema # time=3.151ms
    
    # Subtest: build schema - query schema abbreviated
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 10 - build schema - query schema abbreviated # time=2.702ms
    
    # Subtest: build schema - querystring schema
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 11 - build schema - querystring schema # time=2.638ms
    
    # Subtest: build schema - querystring schema abbreviated
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 12 - build schema - querystring schema abbreviated # time=2.809ms
    
    # Subtest: build schema - must throw if querystring and query schema exist
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 13 - build schema - must throw if querystring and query schema exist # time=1.68ms
    
    # Subtest: build schema - params schema
        1..1
        ok 1 - should be equal
    ok 14 - build schema - params schema # time=2.451ms
    
    # Subtest: build schema - headers schema
        1..1
        ok 1 - should be equal
    ok 15 - build schema - headers schema # time=2.544ms
    
    # Subtest: build schema - headers are lowercase
        1..1
        ok 1 - lowercase content-type exists
    ok 16 - build schema - headers are lowercase # time=1.169ms
    
    # Subtest: build schema - headers are not lowercased in case of custom object
        1..1
        ok 1 - type is Headers
    ok 17 - build schema - headers are not lowercased in case of custom object # time=0.957ms
    
    # Subtest: build schema - uppercased headers are not included
        1..1
        ok 1 - uppercase does not exist
    ok 18 - build schema - uppercased headers are not included # time=1.021ms
    
    1..18
    # time=194.405ms
ok 63 - test/internals/validation.test.js # time=194.405ms

# Subtest: test/keepAliveTimeout.test.js
    # Subtest: keepAliveTimeout
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not be equal
        ok 6 - should be equal
    ok 1 - keepAliveTimeout # time=43.956ms
    
    1..1
    # time=50.662ms
ok 64 - test/keepAliveTimeout.test.js # time=50.662ms

# Subtest: test/listen.deprecated.test.js
    # Subtest: listen accepts a port and a callback
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 1 - listen accepts a port and a callback # time=31.277ms
    
    # Subtest: listen accepts a port and a callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 2 - listen accepts a port and a callback with (err, address) # time=5.528ms
    
    # Subtest: listen accepts a port, address, and callback
        1..1
        ok 1 - should not error
    ok 3 - listen accepts a port, address, and callback # time=15.42ms
    
    # Subtest: listen accepts options, backlog and a callback
        1..1
        ok 1 - should not error
    ok 4 - listen accepts options, backlog and a callback # time=10.817ms
    
    # Subtest: listen accepts options (no port), backlog and a callback
        1..1
        ok 1 - should not error
    ok 5 - listen accepts options (no port), backlog and a callback # time=11.751ms
    
    # Subtest: listen accepts options (no host), backlog and a callback
        1..1
        ok 1 - should not error
    ok 6 - listen accepts options (no host), backlog and a callback # time=3.998ms
    
    # Subtest: listen accepts options (no port, no host), backlog and a callback
        1..1
        ok 1 - should not error
    ok 7 - listen accepts options (no port, no host), backlog and a callback # time=21.026ms
    
    # Subtest: listen accepts a port, address and a callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 8 - listen accepts a port, address and a callback with (err, address) # time=3.656ms
    
    # Subtest: listen accepts a port, address, backlog and callback
        1..1
        ok 1 - should not error
    ok 9 - listen accepts a port, address, backlog and callback # time=6.408ms
    
    # Subtest: listen accepts a port, address, backlog and callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 10 - listen accepts a port, address, backlog and callback with (err, address) # time=7.856ms
    
    # Subtest: listen without callback (port zero)
        1..1
        ok 1 - should be equal
    ok 11 - listen without callback (port zero) # time=5.16ms
    
    # Subtest: listen without callback (port not given)
        1..1
        ok 1 - should be equal
    ok 12 - listen without callback (port not given) # time=20.581ms
    
    # Subtest: listen null without callback with (address)
        1..1
        ok 1 - should be equal
    ok 13 - listen null without callback with (address) # time=4.093ms
    
    # Subtest: listen without port without callback with (address)
        1..1
        ok 1 - should be equal
    ok 14 - listen without port without callback with (address) # time=8.409ms
    
    # Subtest: listen with undefined without callback with (address)
        1..1
        ok 1 - should be equal
    ok 15 - listen with undefined without callback with (address) # time=3.852ms
    
    # Subtest: listen when firstArg is string(pipe) and without backlog
        1..1
        ok 1 - should be equal
    ok 16 - listen when firstArg is string(pipe) and without backlog # time=21.059ms
    
    # Subtest: listen when firstArg is string(pipe) and with backlog
        1..1
        ok 1 - should be equal
    ok 17 - listen when firstArg is string(pipe) and with backlog # time=3.772ms
    
    # Subtest: listen when firstArg is { path: string(pipe) } and with backlog and callback
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 18 - listen when firstArg is { path: string(pipe) } and with backlog and callback # time=12.275ms
    
    1..18
    # time=296.33ms
ok 65 - test/listen.deprecated.test.js # time=296.33ms

# Subtest: test/listen.test.js
    # Subtest: listen works without arguments
        ok 1 - should be equal
        ok 2 - expect truthy value
        1..2
    ok 1 - listen works without arguments # time=35.178ms
    
    # Subtest: Async/await listen with arguments
        1..1
        ok 1 - should be equal
    ok 2 - Async/await listen with arguments # time=4.885ms
    
    # Subtest: Promise listen with arguments
        1..1
        ok 1 - should be equal
    ok 3 - Promise listen with arguments # time=20.385ms
    
    # Subtest: listen accepts a callback
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 4 - listen accepts a callback # time=6.701ms
    
    # Subtest: listen accepts options and a callback
        1..1
        ok 1 - should not error
    ok 5 - listen accepts options and a callback # time=5.884ms
    
    # Subtest: listen after Promise.resolve()
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 6 - listen after Promise.resolve() # time=4.641ms
    
    # Subtest: register after listen using Promise.resolve()
        1..1
        ok 1 - resolved
    ok 7 - register after listen using Promise.resolve() # time=11.492ms
    
    # Subtest: double listen errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
    ok 8 - double listen errors # time=4.84ms
    
    # Subtest: double listen errors callback with (err, address)
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 9 - double listen errors callback with (err, address) # time=5.417ms
    
    # Subtest: listen twice on the same port
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 10 - listen twice on the same port # time=25.979ms
    
    # Subtest: listen twice on the same port callback with (err, address)
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 11 - listen twice on the same port callback with (err, address) # time=36.918ms
    
    # Subtest: listen on socket
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent strictly
        ok 3 - should be equal
    ok 12 - listen on socket # time=8.03ms
    
    # Subtest: listen without callback with (address)
        1..1
        ok 1 - should be equal
    ok 13 - listen without callback with (address) # time=4.117ms
    
    # Subtest: double listen without callback rejects
        1..1
        ok 1 - expect truthy value
    ok 14 - double listen without callback rejects # time=11.809ms
    
    # Subtest: double listen without callback with (address)
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 15 - double listen without callback with (address) # time=4.765ms
    
    # Subtest: listen twice on the same port without callback rejects
        1..1
        ok 1 - expect truthy value
    ok 16 - listen twice on the same port without callback rejects # time=20.584ms
    
    # Subtest: listen twice on the same port without callback rejects with (address)
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 17 - listen twice on the same port without callback rejects with (address) # time=16.2ms
    
    # Subtest: listen on invalid port without callback rejects
        ok 1 - expect truthy value
        1..1
    ok 18 - listen on invalid port without callback rejects # time=3.045ms
    
    # Subtest: listen logs the port as info
        1..1
        ok 1 - expect truthy value
    ok 19 - listen logs the port as info # time=3.255ms
    
    # Subtest: listen on localhost binds IPv4 and IPv6 - promise interface
        1..2
        ok 1 - should be equal
        ok 2 - should be equivalent
    ok 20 - listen on localhost binds IPv4 and IPv6 - promise interface # time=24.341ms
    
    # Subtest: listen on localhost binds to all interfaces (both IPv4 and IPv6 if present) - callback interface
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 21 - listen on localhost binds to all interfaces (both IPv4 and IPv6 if present) - callback interface # time=9.745ms
    
    # Subtest: addresses getter
        1..4
        ok 1 - before ready
        ok 2 - after ready
        ok 3 - after listen
        ok 4 - after close
    ok 22 - addresses getter # time=8.111ms
    
    1..22
    # time=369.087ms
ok 66 - test/listen.test.js # time=369.087ms

# Subtest: test/logger.test.js
    # Subtest: defaults to info level
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
        ok 13 - responseTime is defined
        1..13
    ok 1 - defaults to info level # time=65.983ms
    
    # Subtest: test log stream
        1..12
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
    ok 2 - test log stream # time=18.976ms
    
    # Subtest: test error log stream
        1..11
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - reqId is defined
        ok 9 - res is defined
        ok 10 - message is set
        ok 11 - statusCode is 500
    ok 3 - test error log stream # time=78.507ms
    
    # Subtest: can use external logger instance
        1..6
        ok 1 - "Server listening at http://127.0.0.1:36367" dont match "/^Server listening at /"
        ok 2 - should not error
        ok 3 - "incoming request" dont match "/^incoming request$/"
        ok 4 - expect truthy value
        ok 5 - "log success" dont match "/^log success$/"
        ok 6 - "request completed" dont match "/^request completed$/"
    ok 4 - can use external logger instance # time=37.616ms
    
    # Subtest: can use external logger instance with custom serializer
        1..6
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - expect truthy value
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 5 - can use external logger instance with custom serializer # time=17.36ms
    
    # Subtest: expose the logger
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equivalent
    ok 6 - expose the logger # time=2.482ms
    
    # Subtest: The request id header key can be customized
        1..9
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - message is set
        ok 6 - should be equal
        ok 7 - message is set
        ok 8 - should be equal
        ok 9 - message is set
    ok 7 - The request id header key can be customized # time=31.576ms
    
    # Subtest: The request id header key can be customized along with a custom id generator
        1..12
        ok 1 - should match pattern provided
        ok 2 - should be equal
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should be equal
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
    ok 8 - The request id header key can be customized along with a custom id generator # time=44.776ms
    
    # Subtest: The request id log label can be changed
        1..6
        ok 1 - should match pattern provided
        ok 2 - should be equal
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should not error
        ok 6 - should be equal
    ok 9 - The request id log label can be changed # time=21.6ms
    
    # Subtest: The logger should accept custom serializer
        1..9
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - req is defined
        ok 4 - message is set
        ok 5 - custom req serializer is use
        ok 6 - expect truthy value
        ok 7 - res is defined
        ok 8 - message is set
        ok 9 - default res serializer is use
    ok 10 - The logger should accept custom serializer # time=36.024ms
    
    # Subtest: reply.send logs an error if called twice in a row
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
    ok 11 - reply.send logs an error if called twice in a row # time=43.668ms
    
    # Subtest: logger can be silented
        1..17
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equivalent
        ok 10 - should be equivalent
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equivalent
        ok 14 - should be equivalent
        ok 15 - should be equivalent
        ok 16 - should be equivalent
        ok 17 - should be equivalent
    ok 12 - logger can be silented # time=7.517ms
    
    # Subtest: Should set a custom logLevel for a plugin
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equivalent
    ok 13 - Should set a custom logLevel for a plugin # time=13.358ms
    
    # Subtest: Should set a custom logSerializers for a plugin
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 14 - Should set a custom logSerializers for a plugin # time=12.435ms
    
    # Subtest: Should set a custom logLevel for every plugin
        1..18
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equivalent
        ok 15 - should not error
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equivalent
    ok 15 - Should set a custom logLevel for every plugin # time=27.33ms
    
    # Subtest: Should set a custom logSerializers for every plugin
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 16 - Should set a custom logSerializers for every plugin # time=15.118ms
    
    # Subtest: Should override serializers from route
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 17 - Should override serializers from route # time=21.648ms
    
    # Subtest: Should override serializers from plugin
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 18 - Should override serializers from plugin # time=20.452ms
    
    # Subtest: Should use serializers from plugin and route
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 19 - Should use serializers from plugin and route # time=7.884ms
    
    # Subtest: Should use serializers from instance fastify and route
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 20 - Should use serializers from instance fastify and route # time=7.184ms
    
    # Subtest: Should use serializers inherit from contexts
        1..5
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 21 - Should use serializers inherit from contexts # time=8.018ms
    
    # Subtest: Should increase the log level for a specific plugin
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 22 - Should increase the log level for a specific plugin # time=6.966ms
    
    # Subtest: Should set the log level for the customized 404 handler
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 23 - Should set the log level for the customized 404 handler # time=6.944ms
    
    # Subtest: Should set the log level for the customized 500 handler
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 24 - Should set the log level for the customized 500 handler # time=7.428ms
    
    # Subtest: Should set a custom log level for a specific route
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equivalent
    ok 25 - Should set a custom log level for a specific route # time=12.093ms
    
    # Subtest: The default 404 handler logs the incoming request
        1..5
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
    ok 26 - The default 404 handler logs the incoming request # time=6.634ms
    
    # Subtest: should serialize request and response
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 27 - should serialize request and response # time=6.919ms
    
    # Subtest: Wrap IPv6 address in listening log message
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 28 - Wrap IPv6 address in listening log message # time=4.166ms
    
    # Subtest: Do not wrap IPv4 address
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 29 - Do not wrap IPv4 address # time=4.101ms
    
    # Subtest: file option
        1..13
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - listen at log message is ok
        ok 4 - reqId is defined
        ok 5 - req is defined
        ok 6 - message is set
        ok 7 - method is get
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
        ok 13 - responseTime is defined
    ok 30 - file option # time=18.466ms
    
    # Subtest: should log the error if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 31 - should log the error if no error handler is defined # time=11.94ms
    
    # Subtest: should log as info if error status code >= 400 and < 500 if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 32 - should log as info if error status code >= 400 and < 500 if no error handler is defined # time=12.483ms
    
    # Subtest: should log as error if error status code >= 500 if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 33 - should log as error if error status code >= 500 if no error handler is defined # time=11.187ms
    
    # Subtest: should not log the error if error handler is defined and it does not error
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - level is correct
        ok 7 - message is set
        ok 8 - status code is set
    ok 34 - should not log the error if error handler is defined and it does not error # time=26.449ms
    
    # Subtest: should not rely on raw request to log errors
        1..7
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - status code is set
    ok 35 - should not rely on raw request to log errors # time=9.716ms
    
    # Subtest: should redact the authorization header if so specified
        1..7
        not ok 1 - rx.exec is not a function
          ---
          stack: |
            node_modules/pino/lib/redaction.js:20:22
            Array.reduce (<anonymous>)
            redaction (node_modules/pino/lib/redaction.js:18:23)
            pino (node_modules/pino/pino.js:120:33)
            createPinoLogger (lib/logger.js:42:14)
            createLogger (lib/logger.js:98:20)
            fastify (fastify.js:122:33)
            Test.<anonymous> (test/logger.test.js:1439:19)
          at:
            line: 20
            column: 22
            file: node_modules/pino/lib/redaction.js
          type: TypeError
          tapCaught: testFunctionThrow
          test: should redact the authorization header if so specified
          source: |2
                rx.lastIndex = 0
                const first = rx.exec(str)
            ---------------------^
                const next = rx.exec(str)
          ...
        
        # test count(1) != plan(7)
        # failed 1 test
    not ok 36 - should redact the authorization header if so specified # time=51.512ms
    
    # Subtest: should not log incoming request and outgoing response when disabled
        1..3
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should be equivalent
    ok 37 - should not log incoming request and outgoing response when disabled # time=7.645ms
    
    # Subtest: should not log incoming request and outgoing response for 404 onBadUrl when disabled
        1..1
        ok 1 - should be equivalent
    ok 38 - should not log incoming request and outgoing response for 404 onBadUrl when disabled # time=4.242ms
    
    # Subtest: should pass when using unWritable props in the logger option
        1..1
        ok 1 - (unnamed test)
    ok 39 - should pass when using unWritable props in the logger option # time=1.829ms
    
    # Subtest: should be able to use a custom logger
        1..1
        ok 1 - (unnamed test)
    ok 40 - should be able to use a custom logger # time=1.359ms
    
    # Subtest: should create a default logger if provided one is invalid
        1..1
        ok 1 - (unnamed test)
    ok 41 - should create a default logger if provided one is invalid # time=1.58ms
    
    # Subtest: should not throw error when serializing custom req
        1..1
        ok 1 - should be equivalent
    ok 42 - should not throw error when serializing custom req # time=2.105ms
    
    1..42
    # failed 1 of 42 tests
    # time=902.696ms
not ok 67 - test/logger.test.js # time=902.696ms
  ---
  env: {}
  file: test/logger.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/logger.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant6/fastify
  exitCode: 1
  ...

# Subtest: test/maxRequestsPerSocket.test.js
    # Subtest: maxRequestsPerSocket on node version >= 16.10.0
        1..8
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should match pattern provided
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
    ok 1 - maxRequestsPerSocket on node version >= 16.10.0 # time=91.42ms
    
    # Subtest: maxRequestsPerSocket zero should behave same as null
        1..10
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should match pattern provided
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
        ok 9 - should match pattern provided
        ok 10 - should match pattern provided
    ok 2 - maxRequestsPerSocket zero should behave same as null # time=19.041ms
    
    # Subtest: maxRequestsPerSocket should be set
        1..1
        ok 1 - should be equivalent
    ok 3 - maxRequestsPerSocket should be set # time=2.536ms
    
    # Subtest: maxRequestsPerSocket should 0
        1..1
        ok 1 - should be equivalent
    ok 4 - maxRequestsPerSocket should 0 # time=1.839ms
    
    # Subtest: requestTimeout passed to server
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 5 - requestTimeout passed to server # time=15.029ms
    
    1..5
    # time=142.647ms
ok 68 - test/maxRequestsPerSocket.test.js # time=142.647ms

# Subtest: test/middleware.test.js
    # Subtest: Should be able to override the default use API
        1..1
        ok 1 - should be equal
    ok 1 - Should be able to override the default use API # time=15.494ms
    
    # Subtest: Cannot decorate use twice
        1..1
        ok 1 - expect truthy value
    ok 2 - Cannot decorate use twice # time=2.718ms
    
    # Subtest: Encapsulation works
        1..1
        ok 1 - should be equal
    ok 3 - Encapsulation works # time=12.372ms
    
    1..3
    # time=43.377ms
ok 69 - test/middleware.test.js # time=43.377ms

# Subtest: test/noop-set.test.js
    # Subtest: does a lot of nothing
        ok 1 - type is object
        ok 2 - should be equal
        1..2
    ok 1 - does a lot of nothing # time=6.831ms
    
    1..1
    # time=11.959ms
ok 70 - test/noop-set.test.js # time=11.959ms

# Subtest: test/nullable-validation.test.js
    # Subtest: nullable string
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 1 - nullable string # time=146.29ms
    
    # Subtest: object or null body
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 2 - object or null body # time=75.558ms
    
    # Subtest: nullable body
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 3 - nullable body # time=53.861ms
    
    # Subtest: Nullable body with 204
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 4 - Nullable body with 204 # time=33.724ms
    
    1..4
    # time=317.47ms
ok 71 - test/nullable-validation.test.js # time=317.47ms

# Subtest: test/options.error-handler.test.js
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - OPTIONS can be created # time=10.52ms
    
    # Subtest: OPTIONS without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - OPTIONS without schema can be created # time=2.341ms
    
    # Subtest: OPTIONS with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - OPTIONS with body and querystring # time=1.846ms
    
    # Subtest: OPTIONS with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - OPTIONS with bodyLimit option # time=2.153ms
    
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - OPTIONS can be created # time=3.306ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - OPTIONS - correctly replies # time=57.507ms
    
    # Subtest: OPTIONS - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - OPTIONS - correctly replies with very large body # time=9.389ms
    
    # Subtest: OPTIONS - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - OPTIONS - correctly replies if the content type has the charset # time=5.818ms
    
    # Subtest: OPTIONS without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - OPTIONS without schema - correctly replies # time=5.384ms
    
    # Subtest: OPTIONS with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - OPTIONS with body and querystring - correctly replies # time=5.518ms
    
    # Subtest: OPTIONS with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - OPTIONS with no body - correctly replies # time=47.906ms
    
    # Subtest: OPTIONS returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - OPTIONS returns 415 - incorrect media type if body is not json # time=3.728ms
    
    # Subtest: OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text # time=7.686ms
    
    # Subtest: OPTIONS returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 14 - OPTIONS returns 400 - Bad Request # time=13.064ms
    
    # Subtest: OPTIONS returns 413 - Payload Too Large
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - OPTIONS returns 413 - Payload Too Large # time=7.359ms
    
    # Subtest: OPTIONS should fail with empty body and application/json content-type
        1..0
    ok 16 - OPTIONS should fail with empty body and application/json content-type # time=0.642ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - OPTIONS - correctly replies # time=4.953ms
    
    # Subtest: OPTIONS - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - OPTIONS - 400 on bad parameters # time=5.332ms
    
    # Subtest: OPTIONS - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - OPTIONS - input-validation coerce # time=4.344ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - OPTIONS - input-validation custom schema compiler # time=4.43ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - OPTIONS - input-validation joi schema compiler ok # time=6.225ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - OPTIONS - input-validation joi schema compiler ko # time=6.557ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - OPTIONS - input-validation yup schema compiler ok # time=6.336ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - OPTIONS - input-validation yup schema compiler ko # time=5.535ms
    
    # Subtest: OPTIONS - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - OPTIONS - input-validation instance custom schema compiler encapsulated # time=3.876ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 26 - OPTIONS - input-validation custom schema compiler encapsulated # time=3.87ms
    
    ok 27 - type is object
    ok 28 - type is Request
    ok 29 - type is object
    ok 30 - type is Request
    ok 31 - type is object
    ok 32 - type is Request
    ok 33 - type is object
    ok 34 - type is Request
    ok 35 - type is object
    ok 36 - type is Request
    1..36
    # time=1304.056ms
ok 72 - test/options.error-handler.test.js # time=1304.056ms

# Subtest: test/options.test.js
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - OPTIONS can be created # time=9.023ms
    
    # Subtest: OPTIONS without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - OPTIONS without schema can be created # time=2.077ms
    
    # Subtest: OPTIONS with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - OPTIONS with body and querystring # time=1.511ms
    
    # Subtest: OPTIONS with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - OPTIONS with bodyLimit option # time=1.738ms
    
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - OPTIONS can be created # time=2.661ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - OPTIONS - correctly replies # time=66.555ms
    
    # Subtest: OPTIONS - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - OPTIONS - correctly replies with very large body # time=9.729ms
    
    # Subtest: OPTIONS - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - OPTIONS - correctly replies if the content type has the charset # time=5.692ms
    
    # Subtest: OPTIONS without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - OPTIONS without schema - correctly replies # time=5.378ms
    
    # Subtest: OPTIONS with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - OPTIONS with body and querystring - correctly replies # time=5.544ms
    
    # Subtest: OPTIONS with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - OPTIONS with no body - correctly replies # time=27.385ms
    
    # Subtest: OPTIONS returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - OPTIONS returns 415 - incorrect media type if body is not json # time=4.338ms
    
    # Subtest: OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text # time=5.331ms
    
    # Subtest: OPTIONS returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 14 - OPTIONS returns 400 - Bad Request # time=7.563ms
    
    # Subtest: OPTIONS returns 413 - Payload Too Large
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - OPTIONS returns 413 - Payload Too Large # time=6.755ms
    
    # Subtest: OPTIONS should fail with empty body and application/json content-type
        1..0
    ok 16 - OPTIONS should fail with empty body and application/json content-type # time=0.594ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - OPTIONS - correctly replies # time=4.585ms
    
    # Subtest: OPTIONS - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - OPTIONS - 400 on bad parameters # time=5.088ms
    
    # Subtest: OPTIONS - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - OPTIONS - input-validation coerce # time=4.393ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - OPTIONS - input-validation custom schema compiler # time=4.396ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - OPTIONS - input-validation joi schema compiler ok # time=6.158ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - OPTIONS - input-validation joi schema compiler ko # time=6.289ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - OPTIONS - input-validation yup schema compiler ok # time=6.434ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - OPTIONS - input-validation yup schema compiler ko # time=5.858ms
    
    # Subtest: OPTIONS - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - OPTIONS - input-validation instance custom schema compiler encapsulated # time=4.017ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 26 - OPTIONS - input-validation custom schema compiler encapsulated # time=4.118ms
    
    1..26
    # time=1070.079ms
ok 73 - test/options.test.js # time=1070.079ms

# Subtest: test/output-validation.test.js
    # Subtest: shorthand - output string
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - output string # time=9.875ms
    
    # Subtest: shorthand - output number
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - output number # time=2.528ms
    
    # Subtest: wrong object for schema - output
        1..1
        ok 1 - (unnamed test)
    ok 3 - wrong object for schema - output # time=2.208ms
    
    # Subtest: empty response
        1..1
        ok 1 - (unnamed test)
    ok 4 - empty response # time=1.851ms
    
    # Subtest: unlisted response code
        1..1
        ok 1 - (unnamed test)
    ok 5 - unlisted response code # time=1.792ms
    
    ok 6 - should not error
    # Subtest: shorthand - string get ok
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - shorthand - string get ok # time=36.187ms
    
    # Subtest: shorthand - number get ok
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 8 - shorthand - number get ok # time=7.597ms
    
    # Subtest: shorthand - wrong-object-for-schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 9 - shorthand - wrong-object-for-schema # time=7.443ms
    
    # Subtest: shorthand - empty
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - shorthand - empty # time=4.657ms
    
    # Subtest: shorthand - 400
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - shorthand - 400 # time=5.181ms
    
    1..11
    # time=201.251ms
ok 74 - test/output-validation.test.js # time=201.251ms

# Subtest: test/patch.error-handler.test.js
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PATCH can be created # time=9.146ms
    
    # Subtest: PATCH without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PATCH without schema can be created # time=1.912ms
    
    # Subtest: PATCH with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PATCH with body and querystring # time=1.497ms
    
    # Subtest: PATCH with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PATCH with bodyLimit option # time=1.721ms
    
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - PATCH can be created # time=2.543ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - PATCH - correctly replies # time=58.702ms
    
    # Subtest: PATCH - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - PATCH - correctly replies with very large body # time=10.126ms
    
    # Subtest: PATCH - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - PATCH - correctly replies if the content type has the charset # time=6.447ms
    
    # Subtest: PATCH without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - PATCH without schema - correctly replies # time=6.08ms
    
    # Subtest: PATCH with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - PATCH with body and querystring - correctly replies # time=6.404ms
    
    # Subtest: PATCH with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - PATCH with no body - correctly replies # time=36.327ms
    
    # Subtest: PATCH returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - PATCH returns 415 - incorrect media type if body is not json # time=6.591ms
    
    # Subtest: PATCH returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 13 - PATCH returns 400 - Bad Request # time=8.204ms
    
    # Subtest: PATCH returns 413 - Payload Too Large
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 14 - PATCH returns 413 - Payload Too Large # time=14.155ms
    
    # Subtest: PATCH should fail with empty body and application/json content-type
        1..12
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
    ok 15 - PATCH should fail with empty body and application/json content-type # time=20.75ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - PATCH - correctly replies # time=9.389ms
    
    # Subtest: PATCH - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - PATCH - 400 on bad parameters # time=7.214ms
    
    # Subtest: PATCH - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - PATCH - input-validation coerce # time=4.232ms
    
    # Subtest: PATCH - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - PATCH - input-validation custom schema compiler # time=4.514ms
    
    # Subtest: PATCH - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - PATCH - input-validation joi schema compiler ok # time=6.419ms
    
    # Subtest: PATCH - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - PATCH - input-validation joi schema compiler ko # time=10.349ms
    
    # Subtest: PATCH - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - PATCH - input-validation yup schema compiler ok # time=5.88ms
    
    # Subtest: PATCH - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - PATCH - input-validation yup schema compiler ko # time=5.685ms
    
    # Subtest: PATCH - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - PATCH - input-validation instance custom schema compiler encapsulated # time=4.055ms
    
    # Subtest: PATCH - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - PATCH - input-validation custom schema compiler encapsulated # time=4.465ms
    
    ok 26 - type is object
    ok 27 - type is Request
    ok 28 - type is object
    ok 29 - type is Request
    ok 30 - type is object
    ok 31 - type is Request
    ok 32 - type is object
    ok 33 - type is Request
    ok 34 - type is object
    ok 35 - type is Request
    ok 36 - type is object
    ok 37 - type is Request
    ok 38 - type is object
    ok 39 - type is Request
    ok 40 - type is object
    ok 41 - type is Request
    ok 42 - type is object
    ok 43 - type is Request
    ok 44 - type is object
    ok 45 - type is Request
    ok 46 - type is object
    ok 47 - type is Request
    ok 48 - type is object
    ok 49 - type is Request
    1..49
    # time=1046.92ms
ok 75 - test/patch.error-handler.test.js # time=1046.92ms

# Subtest: test/patch.test.js
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PATCH can be created # time=9.919ms
    
    # Subtest: PATCH without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PATCH without schema can be created # time=2.49ms
    
    # Subtest: PATCH with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PATCH with body and querystring # time=1.918ms
    
    # Subtest: PATCH with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PATCH with bodyLimit option # time=2.055ms
    
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - PATCH can be created # time=3.206ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - PATCH - correctly replies # time=63.479ms
    
    # Subtest: PATCH - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - PATCH - correctly replies with very large body # time=10.146ms
    
    # Subtest: PATCH - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - PATCH - correctly replies if the content type has the charset # time=6.189ms
    
    # Subtest: PATCH without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - PATCH without schema - correctly replies # time=7.982ms
    
    # Subtest: PATCH with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - PATCH with body and querystring - correctly replies # time=5.711ms
    
    # Subtest: PATCH with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - PATCH with no body - correctly replies # time=38.036ms
    
    # Subtest: PATCH returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - PATCH returns 415 - incorrect media type if body is not json # time=5.688ms
    
    # Subtest: PATCH returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 13 - PATCH returns 400 - Bad Request # time=8.55ms
    
    # Subtest: PATCH returns 413 - Payload Too Large
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 14 - PATCH returns 413 - Payload Too Large # time=14.576ms
    
    # Subtest: PATCH should fail with empty body and application/json content-type
        1..12
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
    ok 15 - PATCH should fail with empty body and application/json content-type # time=19.776ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - PATCH - correctly replies # time=5.312ms
    
    # Subtest: PATCH - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - PATCH - 400 on bad parameters # time=5.062ms
    
    # Subtest: PATCH - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - PATCH - input-validation coerce # time=4.226ms
    
    # Subtest: PATCH - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - PATCH - input-validation custom schema compiler # time=4.29ms
    
    # Subtest: PATCH - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - PATCH - input-validation joi schema compiler ok # time=5.938ms
    
    # Subtest: PATCH - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - PATCH - input-validation joi schema compiler ko # time=5.567ms
    
    # Subtest: PATCH - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - PATCH - input-validation yup schema compiler ok # time=5.406ms
    
    # Subtest: PATCH - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - PATCH - input-validation yup schema compiler ko # time=5.167ms
    
    # Subtest: PATCH - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - PATCH - input-validation instance custom schema compiler encapsulated # time=3.769ms
    
    # Subtest: PATCH - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - PATCH - input-validation custom schema compiler encapsulated # time=3.783ms
    
    1..25
    # time=1037.892ms
ok 76 - test/patch.test.js # time=1037.892ms

# Subtest: test/plugin.test.js
    # Subtest: require a plugin
        1..1
        ok 1 - expect truthy value
    ok 1 - require a plugin # time=105.675ms
    
    # Subtest: plugin metadata - ignore prefix
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 2 - plugin metadata - ignore prefix # time=41.133ms
    
    # Subtest: plugin metadata - naming plugins
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 3 - plugin metadata - naming plugins # time=10.098ms
    
    # Subtest: fastify.register with fastify-plugin should not encapsulate his code
        1..10
        ok 1 - expect falsey value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 4 - fastify.register with fastify-plugin should not encapsulate his code # time=59.417ms
    
    # Subtest: fastify.register with fastify-plugin should provide access to external fastify instance if opts argument is a function
        1..22
        ok 1 - expect falsey value
        ok 2 - expect falsey value
        ok 3 - expect falsey value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect falsey value
        ok 10 - expect truthy value
        ok 11 - expect falsey value
        ok 12 - expect truthy value
        ok 13 - expect truthy value
        ok 14 - should be equal
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - should not error
        ok 18 - expect truthy value
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equal
        ok 22 - should be equivalent
    ok 5 - fastify.register with fastify-plugin should provide access to external fastify instance if opts argument is a function # time=27.776ms
    
    # Subtest: fastify.register with fastify-plugin registers fastify level plugins
        1..15
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should not error
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equivalent
    ok 6 - fastify.register with fastify-plugin registers fastify level plugins # time=18.491ms
    
    # Subtest: check dependencies - should not throw
        1..12
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - should not error
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
    ok 7 - check dependencies - should not throw # time=13.837ms
    
    # Subtest: check dependencies - should throw
        1..12
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - should not error
        ok 7 - expect truthy value
        ok 8 - expect falsey value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
    ok 8 - check dependencies - should throw # time=41.094ms
    
    # Subtest: set the plugin name based on the plugin displayName symbol
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
    ok 9 - set the plugin name based on the plugin displayName symbol # time=7.389ms
    
    # Subtest: plugin name will change when using no encapsulation
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
    ok 10 - plugin name will change when using no encapsulation # time=7.231ms
    
    # Subtest: plugin name is undefined when accessing in no plugin context
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 11 - plugin name is undefined when accessing in no plugin context # time=16.929ms
    
    # Subtest: set the plugin name based on the plugin function name
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 12 - set the plugin name based on the plugin function name # time=11.941ms
    
    # Subtest: approximate a plugin name when no meta data is available
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
    ok 13 - approximate a plugin name when no meta data is available # time=10.401ms
    
    # Subtest: approximate a plugin name also when fastify-plugin has no meta data
        1..4
        ok 1 - should match pattern provided
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should not error
    ok 14 - approximate a plugin name also when fastify-plugin has no meta data # time=11.141ms
    
    # Subtest: plugin encapsulation
        1..10
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 15 - plugin encapsulation # time=26.271ms
    
    # Subtest: if a plugin raises an error and there is not a callback to handle it, the server must not start
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 16 - if a plugin raises an error and there is not a callback to handle it, the server must not start # time=5.287ms
    
    # Subtest: add hooks after route declaration
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 17 - add hooks after route declaration # time=15.847ms
    
    # Subtest: nested plugins
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 18 - nested plugins # time=15.177ms
    
    # Subtest: nested plugins awaited
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 19 - nested plugins awaited # time=16.026ms
    
    # Subtest: plugin metadata - decorators
        1..1
        ok 1 - expect truthy value
    ok 20 - plugin metadata - decorators # time=4.768ms
    
    # Subtest: plugin metadata - decorators - should throw
        1..1
        ok 1 - should be equal
    ok 21 - plugin metadata - decorators - should throw # time=3.502ms
    
    # Subtest: plugin metadata - decorators - should throw with plugin name
        1..1
        ok 1 - should be equal
    ok 22 - plugin metadata - decorators - should throw with plugin name # time=6.7ms
    
    # Subtest: plugin metadata - dependencies
        1..1
        ok 1 - everything right
    ok 23 - plugin metadata - dependencies # time=3.666ms
    
    # Subtest: plugin metadata - dependencies (nested)
        1..1
        ok 1 - everything right
    ok 24 - plugin metadata - dependencies (nested) # time=4.384ms
    
    # Subtest: pluginTimeout
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 25 - pluginTimeout # time=14.555ms
    
    # "pluginTimeout - named function" has `only` set but all tests run
    # Subtest: pluginTimeout - named function
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 26 - pluginTimeout - named function # time=15.558ms
    
    # Subtest: pluginTimeout default
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 27 - pluginTimeout default # time=-161870516.349ms
    
    # Subtest: plugin metadata - version
        1..1
        ok 1 - everything right
    ok 28 - plugin metadata - version # time=8.198ms
    
    # Subtest: plugin metadata - version range
        1..1
        ok 1 - everything right
    ok 29 - plugin metadata - version range # time=4.509ms
    
    # Subtest: plugin metadata - version not matching requirement
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 30 - plugin metadata - version not matching requirement # time=4.007ms
    
    # Subtest: plugin metadata - version not matching requirement 2
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 31 - plugin metadata - version not matching requirement 2 # time=3.454ms
    
    # Subtest: plugin metadata - version not matching requirement 3
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 32 - plugin metadata - version not matching requirement 3 # time=3.353ms
    
    # Subtest: plugin metadata - release candidate
        1..2
        ok 1 - should not error
        ok 2 - everything right
    ok 33 - plugin metadata - release candidate # time=4.922ms
    
    # Subtest: fastify-rc loads prior version plugins
        1..2
        ok 1 - should not error
        ok 2 - everything right
    ok 34 - fastify-rc loads prior version plugins # time=3.848ms
    
    # Subtest: hasPlugin method exists as a function
        1..1
        ok 1 - should be equal
    ok 35 - hasPlugin method exists as a function # time=1.465ms
    
    # Subtest: hasPlugin returns true if the specified plugin has been registered
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
    ok 36 - hasPlugin returns true if the specified plugin has been registered # time=15.669ms
    
    # Subtest: hasPlugin returns false if the specified plugin has not been registered
        1..1
        ok 1 - expect falsey value
    ok 37 - hasPlugin returns false if the specified plugin has not been registered # time=1.536ms
    
    # Subtest: hasPlugin returns false when using encapsulation
        1..25
        ok 1 - expect truthy value
        ok 2 - expect falsey value
        ok 3 - expect falsey value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect truthy value
        ok 8 - expect falsey value
        ok 9 - expect falsey value
        ok 10 - expect falsey value
        ok 11 - expect falsey value
        ok 12 - expect falsey value
        ok 13 - expect truthy value
        ok 14 - expect falsey value
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - expect falsey value
        ok 18 - expect falsey value
        ok 19 - expect truthy value
        ok 20 - expect falsey value
        ok 21 - expect falsey value
        ok 22 - expect falsey value
        ok 23 - expect falsey value
        ok 24 - expect falsey value
        ok 25 - expect truthy value
    ok 38 - hasPlugin returns false when using encapsulation # time=15.314ms
    
    # Subtest: hasPlugin returns true when using no encapsulation
        1..26
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect falsey value
        ok 10 - expect falsey value
        ok 11 - expect falsey value
        ok 12 - expect truthy value
        ok 13 - expect truthy value
        ok 14 - expect truthy value
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - expect truthy value
        ok 18 - expect truthy value
        ok 19 - expect truthy value
        ok 20 - expect truthy value
        ok 21 - expect falsey value
        ok 22 - expect truthy value
        ok 23 - expect truthy value
        ok 24 - expect truthy value
        ok 25 - expect truthy value
        ok 26 - expect truthy value
    ok 39 - hasPlugin returns true when using no encapsulation # time=26.926ms
    
    1..39
    # time=653.307ms
ok 77 - test/plugin.test.js # time=653.307ms

# Subtest: test/pretty-print.test.js
    # Subtest: pretty print - static routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - pretty print - static routes # time=46.829ms
    
    # Subtest: pretty print - parametric routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - pretty print - parametric routes # time=7.69ms
    
    # Subtest: pretty print - mixed parametric routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 3 - pretty print - mixed parametric routes # time=8.253ms
    
    # Subtest: pretty print - wildcard routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - pretty print - wildcard routes # time=8.715ms
    
    # Subtest: pretty print - empty plugins
        1..2
        ok 1 - should be equal
        ok 2 - should match pattern provided
    ok 5 - pretty print - empty plugins # time=29.143ms
    
    # Subtest: pretty print - nested plugins
        1..4
        ok 1 - should be equal
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
    ok 6 - pretty print - nested plugins # time=20.087ms
    
    # Subtest: pretty print - commonPrefix
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 7 - pretty print - commonPrefix # time=39.35ms
    
    # Subtest: pretty print - includeMeta, includeHooks
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 8 - pretty print - includeMeta, includeHooks # time=38.892ms
    
    1..8
    # time=223.218ms
ok 78 - test/pretty-print.test.js # time=223.218ms

./VariantsPureDep/fastify/variant5/fastify

> fastify@4.3.0 test
> npm run lint && npm run unit && npm run test:typescript


> fastify@4.3.0 lint
> npm run lint:standard && npm run lint:typescript && npm run lint:markdown


> fastify@4.3.0 lint:standard
> standard | snazzy

-----------------------------|---------|----------|---------|---------|-----------------------------
File                         | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s           
-----------------------------|---------|----------|---------|---------|-----------------------------
All files                    |   92.78 |    92.03 |    92.3 |   92.91 |                             
 fastify                     |   85.23 |    88.12 |   82.14 |    84.9 |                             
  fastify.js                 |   85.23 |    88.12 |   82.14 |    84.9 | ...,676-695,721-724,732-743 
 fastify/lib                 |   93.85 |    92.55 |   94.23 |   94.06 |                             
  contentTypeParser.js       |    97.8 |    99.15 |     100 |   97.64 | 233-236                     
  context.js                 |     100 |      100 |     100 |     100 |                             
  decorate.js                |   98.21 |    98.03 |     100 |   98.07 | 41                          
  error-handler.js           |    94.2 |    93.61 |     100 |    94.2 | 108-110,118                 
  errors.js                  |     100 |      100 |     100 |     100 |                             
  fourOhFour.js              |     100 |      100 |     100 |     100 |                             
  handleRequest.js           |   98.48 |    98.03 |     100 |   98.41 | 97                          
  headRoute.js               |      20 |     12.5 |   33.33 |   14.28 | 4-21,26                     
  hooks.js                   |     100 |      100 |     100 |     100 |                             
  initialConfigValidation.js |     100 |      100 |     100 |     100 |                             
  logger.js                  |     100 |      100 |     100 |     100 |                             
  noop-set.js                |     100 |      100 |     100 |     100 |                             
  pluginOverride.js          |   97.56 |       90 |     100 |    97.5 | 75                          
  pluginUtils.js             |     100 |      100 |     100 |     100 |                             
  reply.js                   |    87.7 |    84.86 |   88.88 |   88.76 | ...-618,622-627,648-654,659 
  reqIdGenFactory.js         |     100 |      100 |     100 |     100 |                             
  request.js                 |   87.96 |    90.62 |      80 |   89.42 | 45-54,157-167,206,211       
  route.js                   |   88.84 |    88.04 |     100 |   88.69 | ...,355-362,396-397,461,465 
  schema-controller.js       |    92.3 |    79.41 |   84.61 |    92.3 | 23,58,71                    
  schemas.js                 |   92.64 |    93.65 |   88.88 |   94.02 | 28,32,43,147                
  server.js                  |     100 |      100 |     100 |     100 |                             
  symbols.js                 |     100 |      100 |     100 |     100 |                             
  validation.js              |   98.55 |    96.55 |     100 |   98.43 | 22                          
  warnings.js                |     100 |      100 |     100 |     100 |                             
  wrapThenable.js            |   93.33 |       90 |     100 |   93.33 | 11                          
-----------------------------|---------|----------|---------|---------|-----------------------------

> fastify@4.3.0 lint:typescript
> eslint -c types/.eslintrc.json types/**/*.d.ts test/types/**/*.test-d.ts


> fastify@4.3.0 lint:markdown
> markdownlint-cli2

markdownlint-cli2 v0.4.0 (markdownlint v0.25.1)

> fastify@4.3.0 unit
> tap

TAP version 13
# Subtest: test/404s.test.js
    # Subtest: default 404
        1..4
        ok 1 - should not error
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - unsupported method # time=29.733ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - framework-unsupported method # time=6.899ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - unsupported route # time=6.091ms
        
    ok 1 - default 404 # time=198.031ms
    
    # Subtest: customized 404
        1..6
        ok 1 - should not error
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - unsupported method # time=11.262ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - framework-unsupported method # time=5.214ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - unsupported route # time=4.54ms
        
        # Subtest: with error object
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - with error object # time=9.617ms
        
        # Subtest: error object with headers property
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 6 - error object with headers property # time=5.609ms
        
    ok 2 - customized 404 # time=53.196ms
    
    # Subtest: custom header in notFound handler
        1..2
        ok 1 - should not error
        # Subtest: not found with custom header
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
        ok 2 - not found with custom header # time=13.697ms
        
    ok 3 - custom header in notFound handler # time=33.884ms
    
    # Subtest: setting a custom 404 handler multiple times is an error
        1..5
        # Subtest: at the root level
            1..2
            ok 1 - type is Error
            ok 2 - should be equal
        ok 1 - at the root level # time=3.055ms
        
        # Subtest: at the plugin level
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 2 - at the plugin level # time=27.027ms
        
        # Subtest: at multiple levels
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 3 - at multiple levels # time=7.256ms
        
        # Subtest: at multiple levels / 2
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 4 - at multiple levels / 2 # time=11.913ms
        
        # Subtest: in separate plugins at the same level
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 5 - in separate plugins at the same level # time=12.833ms
        
    ok 4 - setting a custom 404 handler multiple times is an error # time=76.147ms
    
    # Subtest: encapsulated 404
        1..13
        ok 1 - should not error
        # Subtest: root unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - root unsupported method # time=19.116ms
        
        # Subtest: root framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - root framework-unsupported method # time=4.976ms
        
        # Subtest: root unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - root unsupported route # time=4.717ms
        
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 5 - unsupported method # time=5.258ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 6 - framework-unsupported method # time=4.872ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 7 - unsupported route # time=4.589ms
        
        # Subtest: unsupported method 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 8 - unsupported method 2 # time=4.951ms
        
        # Subtest: framework-unsupported method 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 9 - framework-unsupported method 2 # time=4.534ms
        
        # Subtest: unsupported route 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 10 - unsupported route 2 # time=4.35ms
        
        # Subtest: unsupported method 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 11 - unsupported method 3 # time=4.978ms
        
        # Subtest: framework-unsupported method 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 12 - framework-unsupported method 3 # time=4.301ms
        
        # Subtest: unsupported route 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 13 - unsupported route 3 # time=5.108ms
        
    ok 5 - encapsulated 404 # time=154.979ms
    
    # Subtest: custom 404 hook and handler context
        1..21
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should not error
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equal
    ok 6 - custom 404 hook and handler context # time=68.664ms
    
    # Subtest: encapsulated custom 404 without - prefix hook and handler context
        1..13
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equal
    ok 7 - encapsulated custom 404 without - prefix hook and handler context # time=18.913ms
    
    # Subtest: run hooks on default 404
        1..7
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - preHandler called
        ok 4 - onSend called
        ok 5 - onResponse called
        ok 6 - should not error
        ok 7 - should be equal
    ok 8 - run hooks on default 404 # time=26.08ms
    
    # Subtest: run non-encapsulated plugin hooks on default 404
        1..6
        ok 1 - onRequest called
        ok 2 - preHandler called
        ok 3 - onSend called
        ok 4 - onResponse called
        ok 5 - should not error
        ok 6 - should be equal
    ok 9 - run non-encapsulated plugin hooks on default 404 # time=25.631ms
    
    # Subtest: run non-encapsulated plugin hooks on custom 404
        1..11
        ok 1 - onRequest called
        ok 2 - onRequest called
        ok 3 - preHandler called
        ok 4 - preHandler called
        ok 5 - onSend called
        ok 6 - onSend called
        ok 7 - onResponse called
        ok 8 - onResponse called
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
    ok 10 - run non-encapsulated plugin hooks on custom 404 # time=19.145ms
    
    # Subtest: run hook with encapsulated 404
        1..11
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - onRequest 2 called
        ok 4 - preHandler called
        ok 5 - preHandler 2 called
        ok 6 - onSend called
        ok 7 - onSend 2 called
        ok 8 - onResponse called
        ok 9 - onResponse 2 called
        ok 10 - should not error
        ok 11 - should be equal
    ok 11 - run hook with encapsulated 404 # time=47.2ms
    
    # Subtest: run hook with encapsulated 404 and framework-unsupported method
        1..11
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - onRequest 2 called
        ok 4 - preHandler called
        ok 5 - preHandler 2 called
        ok 6 - onSend called
        ok 7 - onSend 2 called
        ok 8 - onResponse called
        ok 9 - onResponse 2 called
        ok 10 - should not error
        ok 11 - should be equal
    ok 12 - run hook with encapsulated 404 and framework-unsupported method # time=16.649ms
    
    # Subtest: hooks check 404
        1..13
        ok 1 - should not error
        ok 2 - onRequest
        ok 3 - should be equivalent
        ok 4 - onSend
        ok 5 - onResponse
        ok 6 - onRequest
        ok 7 - should be equivalent
        ok 8 - onSend
        ok 9 - onResponse
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should not error
        ok 13 - should be equal
    ok 13 - hooks check 404 # time=28.398ms
    
    # Subtest: setNotFoundHandler should not suppress duplicated routes checking
        1..1
        ok 1 - expect truthy value
    ok 14 - setNotFoundHandler should not suppress duplicated routes checking # time=3.545ms
    
    # Subtest: log debug for 404
        1..1
        # Subtest: log debug
            1..7
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
        ok 1 - log debug # time=7.918ms
        
    ok 15 - log debug for 404 # time=14.886ms
    
    # Subtest: Unknown method
        1..5
        ok 1 - should not error
        ok 2 - expected to throw
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent strictly
    ok 16 - Unknown method # time=12.067ms
    
    # Subtest: recognizes errors from the http-errors module
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent strictly
    ok 17 - recognizes errors from the http-errors module # time=40.967ms
    
    # Subtest: the default 404 handler can be invoked inside a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
    ok 18 - the default 404 handler can be invoked inside a prefixed plugin # time=6.708ms
    
    # Subtest: an inherited custom 404 handler can be invoked inside a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - an inherited custom 404 handler can be invoked inside a prefixed plugin # time=6.348ms
    
    # Subtest: encapsulated custom 404 handler without a prefix is the handler for the entire 404 level
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 20 - encapsulated custom 404 handler without a prefix is the handler for the entire 404 level # time=10.01ms
    
    # Subtest: cannot set notFoundHandler after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 21 - cannot set notFoundHandler after binding # time=4.34ms
    
    # Subtest: 404 inside onSend
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 22 - 404 inside onSend # time=6.741ms
    
    # Subtest: onSend hooks run when an encapsulated route invokes the notFound handler
        1..3
        ok 1 - onSend hook called
        ok 2 - should not error
        ok 3 - should be equal
    ok 23 - onSend hooks run when an encapsulated route invokes the notFound handler # time=5.691ms
    
    # Subtest: preHandler option for setNotFoundHandler
        1..10
        # Subtest: preHandler option
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 1 - preHandler option # time=51.408ms
        
        # Subtest: preHandler hook in setNotFoundHandler should be called when callNotFound
            1..3
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 2 - preHandler hook in setNotFoundHandler should be called when callNotFound # time=6.514ms
        
        # Subtest: preHandler hook in setNotFoundHandler should accept an array of functions and be called when callNotFound
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 3 - preHandler hook in setNotFoundHandler should accept an array of functions and be called when callNotFound # time=5.352ms
        
        # Subtest: preHandler option should be called after preHandler hook
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 4 - preHandler option should be called after preHandler hook # time=5.092ms
        
        # Subtest: preHandler option should be unique per prefix
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 5 - preHandler option should be unique per prefix # time=10.454ms
        
        # Subtest: preHandler option should handle errors
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 6 - preHandler option should handle errors # time=5.053ms
        
        # Subtest: preHandler option should handle errors with custom status code
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 7 - preHandler option should handle errors with custom status code # time=5.168ms
        
        # Subtest: preHandler option could accept an array of functions
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 8 - preHandler option could accept an array of functions # time=4.552ms
        
        # Subtest: preHandler option does not interfere with preHandler
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 9 - preHandler option does not interfere with preHandler # time=8.931ms
        
        # Subtest: preHandler option should keep the context
            1..3
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 10 - preHandler option should keep the context # time=5.088ms
        
    ok 24 - preHandler option for setNotFoundHandler # time=119.337ms
    
    # Subtest: reply.notFound invoked the notFound handler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - reply.notFound invoked the notFound handler # time=4.192ms
    
    # Subtest: The custom error handler should be invoked after the custom not found handler
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - type is Error
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 26 - The custom error handler should be invoked after the custom not found handler # time=4.977ms
    
    # Subtest: If the custom not found handler does not use an Error, the custom error handler should not be called
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 27 - If the custom not found handler does not use an Error, the custom error handler should not be called # time=3.638ms
    
    # Subtest: preValidation option
        1..3
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 28 - preValidation option # time=4.28ms
    
    # Subtest: preValidation option could accept an array of functions
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 29 - preValidation option could accept an array of functions # time=4.195ms
    
    # Subtest: Should fail to invoke callNotFound inside a 404 handler
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 30 - Should fail to invoke callNotFound inside a 404 handler # time=5.712ms
    
    # Subtest: 400 in case of bad url (pre find-my-way v2.2.0 was a 404)
        # Subtest: Dynamic route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 1 - Dynamic route # time=18.009ms
        
        # Subtest: Wildcard
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - Wildcard # time=11.206ms
        
        # Subtest: No route registered
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - No route registered # time=4.752ms
        
        # Subtest: Only / is registered
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - Only / is registered # time=20.04ms
        
        # Subtest: customized 404
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - customized 404 # time=25.272ms
        
        1..5
    ok 31 - 400 in case of bad url (pre find-my-way v2.2.0 was a 404) # time=86.306ms
    
    # Subtest: setNotFoundHandler should be chaining fastify instance
        # Subtest: Register route after setNotFoundHandler
            1..6
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should not error
            ok 5 - should be equal
            ok 6 - should be equal
        ok 1 - Register route after setNotFoundHandler # time=11.376ms
        
        1..1
    ok 32 - setNotFoundHandler should be chaining fastify instance # time=16.476ms
    
    # Subtest: Send 404 when frameworkError calls reply.callNotFound
        # Subtest: Dynamic route
            1..4
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 1 - Dynamic route # time=5.806ms
        
        1..1
    ok 33 - Send 404 when frameworkError calls reply.callNotFound # time=11.048ms
    
    1..33
    # time=1166.562ms
ok 1 - test/404s.test.js # time=1166.562ms

# Subtest: test/500s.test.js
    # Subtest: default 500
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - default 500 # time=83.581ms
    
    # Subtest: custom 500
        1..6
        ok 1 - type is object
        ok 2 - type is Request
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 2 - custom 500 # time=9.866ms
    
    # Subtest: encapsulated 500
        1..10
        ok 1 - type is object
        ok 2 - type is Request
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 3 - encapsulated 500 # time=19.352ms
    
    # Subtest: custom 500 with hooks
        1..7
        ok 1 - onRequest
        ok 2 - onSend
        ok 3 - onResponse
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 4 - custom 500 with hooks # time=12.744ms
    
    # Subtest: cannot set errorHandler after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 5 - cannot set errorHandler after binding # time=25.651ms
    
    1..5
    # time=162.211ms
ok 2 - test/500s.test.js # time=162.211ms

# Subtest: test/allowUnsafeRegex.test.js
    # Subtest: allow unsafe regex
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - allow unsafe regex # time=74.442ms
    
    # Subtest: allow unsafe regex not match
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 2 - allow unsafe regex not match # time=12.98ms
    
    # Subtest: allow unsafe regex not safe
        1..1
        ok 1 - expected to throw
    ok 3 - allow unsafe regex not safe # time=88.156ms
    
    # Subtest: allow unsafe regex not safe by default
        1..1
        ok 1 - expected to throw
    ok 4 - allow unsafe regex not safe by default # time=3.782ms
    
    # Subtest: allow unsafe regex allow unsafe
        1..5
        ok 1 - expected to not throw
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 5 - allow unsafe regex allow unsafe # time=13.188ms
    
    1..5
    # time=227.733ms
ok 3 - test/allowUnsafeRegex.test.js # time=227.733ms

# Subtest: test/als.test.js
    ok 1 - should not error
    ok 2 - expect truthy value
    ok 3 - should not error
    ok 4 - should be equal
    ok 5 - should be equivalent
    ok 6 - expect truthy value
    ok 7 - should not error
    ok 8 - should be equal
    ok 9 - should be equivalent
    ok 10 - expect truthy value
    ok 11 - should not error
    ok 12 - should be equal
    ok 13 - should be equivalent
    1..13
    # time=45.281ms
ok 4 - test/als.test.js # time=45.281ms

# Subtest: test/async-await.test.js
    # Subtest: async await
        1..11
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 1 - async await # time=321.747ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (undefined)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 2 - ignore the result of the promise if reply.send is called beforehand (undefined) # time=11.955ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (object)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 3 - ignore the result of the promise if reply.send is called beforehand (object) # time=31.15ms
    
    # Subtest: server logs an error if reply.send is called and a value is returned via async/await
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 4 - server logs an error if reply.send is called and a value is returned via async/await # time=91.756ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (undefined)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 5 - ignore the result of the promise if reply.send is called beforehand (undefined) # time=9.313ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (object)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 6 - ignore the result of the promise if reply.send is called beforehand (object) # time=24.026ms
    
    # Subtest: await reply if we will be calling reply.send in the future
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 7 - await reply if we will be calling reply.send in the future # time=14.094ms
    
    # Subtest: await reply if we will be calling reply.send in the future (error case)
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 8 - await reply if we will be calling reply.send in the future (error case) # time=9.055ms
    
    # Subtest: support reply decorators with await
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 9 - support reply decorators with await # time=25.841ms
    
    # Subtest: inject async await
        1..1
        ok 1 - should be equivalent
    ok 10 - inject async await # time=8.085ms
    
    # Subtest: inject async await - when the server equal up
        1..2
        ok 1 - should be equivalent
        ok 2 - should be equivalent
    ok 11 - inject async await - when the server equal up # time=207.615ms
    
    # Subtest: async await plugin
        1..1
        ok 1 - should be equivalent
    ok 12 - async await plugin # time=221.565ms
    
    # Subtest: does not call reply.send() twice if 204 response equal already sent
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - does not call reply.send() twice if 204 response equal already sent # time=4.443ms
    
    # Subtest: promise was fulfilled with undefined
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - promise was fulfilled with undefined # time=7.774ms
    
    # Subtest: error is not logged because promise was fulfilled with undefined but response was sent before promise resolution
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 15 - error is not logged because promise was fulfilled with undefined but response was sent before promise resolution # time=8.824ms
    
    # Subtest: Thrown Error instance sets HTTP status code
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - Thrown Error instance sets HTTP status code # time=12.998ms
    
    # Subtest: customErrorHandler support
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 17 - customErrorHandler support # time=5.891ms
    
    # Subtest: customErrorHandler support without throwing
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - customErrorHandler support without throwing # time=4.874ms
    
    # Subtest: customErrorHandler only called if reply not already sent
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - customErrorHandler only called if reply not already sent # time=4.616ms
    
    # Subtest: setNotFoundHandler should accept return value
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - setNotFoundHandler should accept return value # time=6.497ms
    
    # Subtest: customErrorHandler should accept return value
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 21 - customErrorHandler should accept return value # time=5.665ms
    
    # Subtest: await self
        ok 1 - should be equal
        1..1
    ok 22 - await self # time=3.186ms
    
    1..22
    # time=1059.733ms
ok 5 - test/async-await.test.js # time=1059.733ms

# Subtest: test/bodyLimit.test.js
    # Subtest: bodyLimit
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should not error
        ok 5 - should be equal
    ok 1 - bodyLimit # time=56.959ms
    
    1..1
    # time=63.686ms
ok 6 - test/bodyLimit.test.js # time=63.686ms

# Subtest: test/build/error-serializer.test.js
    # Subtest: check generated code syntax
        1..1
        ok 1 - should be equal
    ok 1 - check generated code syntax # time=4097.237ms
    
    ok 2 - ensure the current error serializer is latest # SKIP
    1..2
    # skip: 1
    # time=4162.81ms
ok 7 - test/build/error-serializer.test.js # time=4162.81ms

# Subtest: test/build/version.test.js
    # Subtest: should be the same as package.json
        1..1
        ok 1 - should be equal
    ok 1 - should be the same as package.json # time=6.774ms
    
    1..1
    # time=18.704ms
ok 8 - test/build/version.test.js # time=18.704ms

# Subtest: test/case-insensitive.test.js
    # Subtest: case insensitive
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - case insensitive # time=77.275ms
    
    # Subtest: case insensitive inject
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - case insensitive inject # time=37.162ms
    
    # Subtest: case insensitive (parametric)
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 3 - case insensitive (parametric) # time=11.642ms
    
    # Subtest: case insensitive (wildcard)
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 4 - case insensitive (wildcard) # time=27.473ms
    
    1..4
    # time=172.474ms
ok 9 - test/case-insensitive.test.js # time=172.474ms

# Subtest: test/chainable.test.js
    # Subtest: chainable - get
        1..1
        ok 1 - type is [object Object]
    ok 1 - chainable - get # time=9.798ms
    
    # Subtest: chainable - post
        1..1
        ok 1 - type is [object Object]
    ok 2 - chainable - post # time=2.062ms
    
    # Subtest: chainable - route
        1..1
        ok 1 - type is [object Object]
    ok 3 - chainable - route # time=2.147ms
    
    1..3
    # time=25.876ms
ok 10 - test/chainable.test.js # time=25.876ms

# Subtest: test/close-pipelining.test.js
    # Subtest: Should return 503 while closing - pipelining
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        1..3
    ok 1 - Should return 503 while closing - pipelining # time=109.111ms
    
    # Subtest: Should not return 503 while closing - pipelining - return503OnClosing
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        1..3
    ok 2 - Should not return 503 while closing - pipelining - return503OnClosing # time=28.647ms
    
    1..2
    # time=173.552ms
ok 11 - test/close-pipelining.test.js # time=173.552ms

# Subtest: test/close.test.js
    # Subtest: close callback
        1..4
        ok 1 - should not error
        ok 2 - type is [object Object]
        ok 3 - should not error
        ok 4 - expect truthy value
    ok 1 - close callback # time=80.958ms
    
    # Subtest: inside register
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - expect truthy value
    ok 2 - inside register # time=22.069ms
    
    # Subtest: close order
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 3 - close order # time=28.371ms
    
    # Subtest: close order - async
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 4 - close order - async # time=16.822ms
    
    # Subtest: should not throw an error if the server is not listening
        1..2
        ok 1 - type is [object Object]
        ok 2 - should not error
    ok 5 - should not throw an error if the server is not listening # time=10.133ms
    
    # Subtest: onClose should keep the context
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
    ok 6 - onClose should keep the context # time=34.587ms
    
    # Subtest: Should return error while closing (promise) - injection
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 7 - Should return error while closing (promise) - injection # time=62.151ms
    
    # Subtest: Should return error while closing (callback) - injection
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 8 - Should return error while closing (callback) - injection # time=134.193ms
    
    # Subtest: Current opened connection should continue to work after closing and return "connection: close" header - return503OnClosing: false
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        1..5
    ok 9 - Current opened connection should continue to work after closing and return "connection: close" header - return503OnClosing: false # time=27.863ms
    
    # Subtest: Current opened connection should not accept new incoming connections
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 10 - Current opened connection should not accept new incoming connections # time=269.796ms
    
    # Subtest: Cannot be reopened the closed server without listen callback
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 11 - Cannot be reopened the closed server without listen callback # time=20.515ms
    
    # Subtest: Cannot be reopened the closed server has listen callback
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 12 - Cannot be reopened the closed server has listen callback # time=21.771ms
    
    ok 13 - shutsdown while keep-alive connections are active (non-async, native) # SKIP
    ok 14 - shutsdown while keep-alive connections are active (non-async, idle, native) # SKIP
    # Subtest: shutsdown while keep-alive connections are active (non-async, custom)
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 15 - shutsdown while keep-alive connections are active (non-async, custom) # time=10.126ms
    
    1..15
    # skip: 2
    # time=753.326ms
ok 12 - test/close.test.js # time=753.326ms

# Subtest: test/connectionTimeout.test.js
    # Subtest: connectionTimeout
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 1 - connectionTimeout # time=46.808ms
    
    1..1
    # time=53.013ms
ok 13 - test/connectionTimeout.test.js # time=53.013ms

# Subtest: test/constrained-routes.test.js
    # Subtest: Should register a host constrained route
        1..7
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 1 - Should register a host constrained route # time=103.879ms
    
    # Subtest: Should register the same route with host constraints
        1..8
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 2 - Should register the same route with host constraints # time=14.224ms
    
    # Subtest: Should allow registering custom constrained routes
        1..8
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 3 - Should allow registering custom constrained routes # time=36.082ms
    
    # Subtest: Should allow registering custom constrained routes outside constructor
        1..8
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 4 - Should allow registering custom constrained routes outside constructor # time=22.397ms
    
    # Subtest: Add a constraint strategy after fastify instance was started
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - Cannot add constraint strategy when fastify instance is already started!
    ok 5 - Add a constraint strategy after fastify instance was started # time=7.64ms
    
    # Subtest: Add a constraint strategy should throw an error if there already exist custom strategy with the same name
        1..1
        ok 1 - There already exists a custom constraint with the name secret.
    ok 6 - Add a constraint strategy should throw an error if there already exist custom strategy with the same name # time=2.118ms
    
    # Subtest: Add a constraint strategy shouldn't throw an error if default constraint with the same name isn't used
        1..1
        ok 1 - (unnamed test)
    ok 7 - Add a constraint strategy shouldn't throw an error if default constraint with the same name isn't used # time=1.834ms
    
    # Subtest: Add a constraint strategy should throw an error if default constraint with the same name is used
        1..1
        ok 1 - There already exists a route with version constraint.
    ok 8 - Add a constraint strategy should throw an error if default constraint with the same name is used # time=2.962ms
    
    # Subtest: The hasConstraintStrategy should return false for default constraints until they are used
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 9 - The hasConstraintStrategy should return false for default constraints until they are used # time=5.855ms
    
    # Subtest: The hasConstraintStrategy should return true if there already exist a custom constraint with the same name
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 10 - The hasConstraintStrategy should return true if there already exist a custom constraint with the same name # time=3.128ms
    
    # Subtest: Should allow registering an unconstrained route after a constrained route
        1..6
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
    ok 11 - Should allow registering an unconstrained route after a constrained route # time=17.547ms
    
    # Subtest: Should allow registering constrained routes in a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 12 - Should allow registering constrained routes in a prefixed plugin # time=28.038ms
    
    # Subtest: Should allow registering a constrained GET route after a constrained HEAD route
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 13 - Should allow registering a constrained GET route after a constrained HEAD route # time=13.976ms
    
    # Subtest: Should allow registering a constrained GET route after an unconstrained HEAD route
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 14 - Should allow registering a constrained GET route after an unconstrained HEAD route # time=6.288ms
    
    # Subtest: Will not try to re-createprefixed HEAD route if it already exists and exposeHeadRoutes is true for constrained routes
        1..1
        ok 1 - expect truthy value
    ok 15 - Will not try to re-createprefixed HEAD route if it already exists and exposeHeadRoutes is true for constrained routes # time=7.264ms
    
    # Subtest: allows separate constrained and unconstrained HEAD routes
        1..1
        ok 1 - expect truthy value
    ok 16 - allows separate constrained and unconstrained HEAD routes # time=6.802ms
    
    1..16
    # time=298.511ms
ok 14 - test/constrained-routes.test.js # time=298.511ms

# Subtest: test/content-length.test.js
    # Subtest: default 413 with bodyLimit option
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - default 413 with bodyLimit option # time=74.145ms
    
    # Subtest: default 400 with wrong content-length
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - default 400 with wrong content-length # time=11.767ms
    
    # Subtest: custom 413 with bodyLimit option
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 3 - custom 413 with bodyLimit option # time=20.253ms
    
    # Subtest: custom 400 with wrong content-length
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 4 - custom 400 with wrong content-length # time=12.516ms
    
    # Subtest: \#2214 - wrong content-length
        ok 1 - should be equal
        1..1
    ok 5 - \#2214 - wrong content-length # time=11.868ms
    
    # Subtest: \#2543 - wrong content-length with errorHandler
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 6 - \#2543 - wrong content-length with errorHandler # time=12.756ms
    
    1..6
    # time=151.311ms
ok 15 - test/content-length.test.js # time=151.311ms

# Subtest: test/content-parser.test.js
    # Subtest: hasContentTypeParser
        1..0
    ok 1 - hasContentTypeParser # time=12.148ms
    
    # Subtest: should know about internal parsers
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
    ok 2 - should know about internal parsers # time=44.121ms
    
    # Subtest: should work with string and RegExp
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect falsey value
    ok 3 - should work with string and RegExp # time=4.409ms
    
    # Subtest: getParser
        1..0
    ok 4 - getParser # time=95.297ms
    
    # Subtest: existingParser
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect falsey value
        1..7
    ok 5 - existingParser # time=14.962ms
    
    # Subtest: add
        1..0
    ok 6 - add # time=9.408ms
    
    # Subtest: non-Error thrown from content parser is properly handled
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 7 - non-Error thrown from content parser is properly handled # time=54.984ms
    
    # Subtest: Error thrown 415 from content type is null and make post request to server
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 8 - Error thrown 415 from content type is null and make post request to server # time=18.257ms
    
    # Subtest: remove
        1..0
    ok 9 - remove # time=26.822ms
    
    # Subtest: remove all should remove all existing parsers and reset cache
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
    ok 10 - remove all should remove all existing parsers and reset cache # time=4.983ms
    
    # Subtest: should return matching parser
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 11 - should return matching parser # time=2.192ms
    
    # Subtest: should return matching parser with caching
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 12 - should return matching parser with caching # time=2.247ms
    
    # Subtest: should prefer content type parser with string value
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 13 - should prefer content type parser with string value # time=2.403ms
    
    # Subtest: should return parser that catches all if no other is set
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 14 - should return parser that catches all if no other is set # time=3.117ms
    
    # Subtest: should return undefined if no matching parser exist
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 15 - should return undefined if no matching parser exist # time=2.167ms
    
    # Subtest: returns always false for "*"
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 16 - returns always false for "*" # time=1.436ms
    
    # Subtest: let you override the default parser once
        1..2
        ok 1 - Content type parser 'application/json' already present
        ok 2 - Content type parser 'text/plain' already present
    ok 17 - let you override the default parser once # time=4.987ms
    
    # Subtest: should only accept string and RegExp
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - The content type should be a string or a RegExp
        ok 4 - The content type should be a string or a RegExp
    ok 18 - should only accept string and RegExp # time=3.529ms
    
    # Subtest: should set "*" as parser that catches all
        1..1
        ok 1 - should be equal
    ok 19 - should set "*" as parser that catches all # time=1.433ms
    
    # Subtest: should remove default parser
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 20 - should remove default parser # time=1.387ms
    
    # Subtest: should remove RegExp parser
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 21 - should remove RegExp parser # time=1.298ms
    
    # Subtest: should throw an error if content type is neither string nor RegExp
        1..1
        ok 1 - expected to throw
    ok 22 - should throw an error if content type is neither string nor RegExp # time=2.77ms
    
    # Subtest: should not throw error if content type does not exist
        1..1
        ok 1 - expected to not throw
    ok 23 - should not throw error if content type does not exist # time=1.81ms
    
    # Subtest: should not remove any content type parser if content type does not exist
        1..1
        ok 1 - should be equivalent
    ok 24 - should not remove any content type parser if content type does not exist # time=2.528ms
    
    1..24
    # time=337.392ms
ok 16 - test/content-parser.test.js # time=337.392ms

# Subtest: test/context-config.test.js
    # Subtest: config
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 1 - config # time=81.08ms
    
    # Subtest: config with exposeHeadRoutes
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 2 - config with exposeHeadRoutes # time=19.102ms
    
    # Subtest: config without exposeHeadRoutes
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 3 - config without exposeHeadRoutes # time=16.79ms
    
    1..3
    # time=139.225ms
ok 17 - test/context-config.test.js # time=139.225ms

# Subtest: test/custom-http-server.test.js
    # Subtest: Should support a custom http server
        1..4
        ok 1 - it is called twice for every HOST interface
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - Should support a custom http server # time=68.036ms
    
    # Subtest: Should not allow forceCloseConnection=idle if the server does not support closeIdleConnections
        1..1
        ok 1 - Cannot set forceCloseConnections to 'idle' as your HTTP server does not support closeIdleConnections method
    ok 2 - Should not allow forceCloseConnection=idle if the server does not support closeIdleConnections # time=3.735ms
    
    1..2
    # time=80.28ms
ok 18 - test/custom-http-server.test.js # time=80.28ms

# Subtest: test/custom-parser-async.test.js
    # Subtest: contentTypeParser should add a custom async parser
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=34.344ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=7.852ms
        
    ok 1 - contentTypeParser should add a custom async parser # time=109.792ms
    
    1..1
    # time=115.376ms
ok 19 - test/custom-parser-async.test.js # time=115.376ms

# Subtest: test/custom-parser.test.js
    # Subtest: contentTypeParser method should exist
        1..1
        ok 1 - expect truthy value
    ok 1 - contentTypeParser method should exist # time=15.053ms
    
    # Subtest: contentTypeParser should add a custom parser
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=27.251ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=6.868ms
        
    ok 2 - contentTypeParser should add a custom parser # time=181.932ms
    
    # Subtest: contentTypeParser should handle multiple custom parsers
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 3 - contentTypeParser should handle multiple custom parsers # time=14.441ms
    
    # Subtest: contentTypeParser should handle an array of custom contentTypes
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 4 - contentTypeParser should handle an array of custom contentTypes # time=30.81ms
    
    # Subtest: contentTypeParser should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 5 - contentTypeParser should handle errors # time=14.454ms
    
    # Subtest: contentTypeParser should support encapsulation
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - expect falsey value
        ok 6 - expect falsey value
    ok 6 - contentTypeParser should support encapsulation # time=9.884ms
    
    # Subtest: contentTypeParser should support encapsulation, second try
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - contentTypeParser should support encapsulation, second try # time=15.072ms
    
    # Subtest: contentTypeParser shouldn't support request with undefined "Content-Type"
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 8 - contentTypeParser shouldn't support request with undefined "Content-Type" # time=11.087ms
    
    # Subtest: the content type should be a string or RegExp
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 9 - the content type should be a string or RegExp # time=7.67ms
    
    # Subtest: the content type cannot be an empty string
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 10 - the content type cannot be an empty string # time=3.751ms
    
    # Subtest: the content type handler should be a function
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 11 - the content type handler should be a function # time=3.136ms
    
    # Subtest: catch all content type parser
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 12 - catch all content type parser # time=16.417ms
    
    # Subtest: catch all content type parser should not interfere with other conte type parsers
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 13 - catch all content type parser should not interfere with other conte type parsers # time=45.07ms
    
    # Subtest: '*' catch undefined Content-Type requests
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - '*' catch undefined Content-Type requests # time=15.707ms
    
    # Subtest: cannot add custom parser after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 15 - cannot add custom parser after binding # time=15.329ms
    
    # Subtest: Can override the default json parser
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 16 - Can override the default json parser # time=24.369ms
    
    # Subtest: Can override the default plain text parser
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 17 - Can override the default plain text parser # time=13.715ms
    
    # Subtest: Can override the default json parser in a plugin
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 18 - Can override the default json parser in a plugin # time=11.012ms
    
    # Subtest: Can't override the json parser multiple times
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 19 - Can't override the json parser multiple times # time=1.723ms
    
    # Subtest: Can't override the plain text parser multiple times
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 20 - Can't override the plain text parser multiple times # time=1.935ms
    
    # Subtest: Should get the body as string
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 21 - Should get the body as string # time=8.416ms
    
    # Subtest: Should return defined body with no custom parser defined and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 22 - Should return defined body with no custom parser defined and content type = 'text/plain' # time=14.753ms
    
    # Subtest: Should have typeof body object with no custom parser defined, no body defined and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 23 - Should have typeof body object with no custom parser defined, no body defined and content type = 'text/plain' # time=6.537ms
    
    # Subtest: Should have typeof body object with no custom parser defined, null body and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 24 - Should have typeof body object with no custom parser defined, null body and content type = 'text/plain' # time=7.123ms
    
    # Subtest: Should have typeof body object with no custom parser defined, undefined body and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 25 - Should have typeof body object with no custom parser defined, undefined body and content type = 'text/plain' # time=6.597ms
    
    # Subtest: Should get the body as string
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 26 - Should get the body as string # time=6.707ms
    
    # Subtest: Should get the body as buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 27 - Should get the body as buffer # time=7.347ms
    
    # Subtest: Should get the body as buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 28 - Should get the body as buffer # time=6.805ms
    
    # Subtest: Should parse empty bodies as a string
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 29 - Should parse empty bodies as a string # time=18.764ms
    
    # Subtest: Should parse empty bodies as a buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 30 - Should parse empty bodies as a buffer # time=13.671ms
    
    # Subtest: The charset should not interfere with the content type handling
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 31 - The charset should not interfere with the content type handling # time=6.703ms
    
    # Subtest: Wrong parseAs parameter
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 32 - Wrong parseAs parameter # time=1.456ms
    
    # Subtest: Should allow defining the bodyLimit per parser
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent strictly
    ok 33 - Should allow defining the bodyLimit per parser # time=8.757ms
    
    # Subtest: route bodyLimit should take precedence over a custom parser bodyLimit
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent strictly
    ok 34 - route bodyLimit should take precedence over a custom parser bodyLimit # time=7.277ms
    
    # Subtest: should be able to use default parser for extra content type
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent strictly
    ok 35 - should be able to use default parser for extra content type # time=7.149ms
    
    # Subtest: contentTypeParser should add a custom parser with RegExp value
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=5.266ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=3.899ms
        
    ok 36 - contentTypeParser should add a custom parser with RegExp value # time=15.626ms
    
    # Subtest: contentTypeParser should add multiple custom parsers with RegExp values
        1..6
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 37 - contentTypeParser should add multiple custom parsers with RegExp values # time=46.833ms
    
    # Subtest: catch all content type parser should not interfere with content type parser
        1..10
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 38 - catch all content type parser should not interfere with content type parser # time=12.275ms
    
    # Subtest: should prefer string content types over RegExp ones
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 39 - should prefer string content types over RegExp ones # time=9.235ms
    
    # Subtest: removeContentTypeParser should support arrays of content types to remove
        1..8
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 40 - removeContentTypeParser should support arrays of content types to remove # time=10.969ms
    
    # Subtest: removeContentTypeParser should support encapsulation
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 41 - removeContentTypeParser should support encapsulation # time=10.311ms
    
    # Subtest: removeAllContentTypeParsers should support encapsulation
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 42 - removeAllContentTypeParsers should support encapsulation # time=11.34ms
    
    # Subtest: cannot remove all content type parsers after binding
        1..2
        ok 1 - should not error
        ok 2 - expected to throw
    ok 43 - cannot remove all content type parsers after binding # time=4.534ms
    
    # Subtest: cannot remove content type parsers after binding
        1..2
        ok 1 - should not error
        ok 2 - expected to throw
    ok 44 - cannot remove content type parsers after binding # time=3.064ms
    
    # Subtest: should be able to override the default json parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 45 - should be able to override the default json parser after removeAllContentTypeParsers # time=6.544ms
    
    # Subtest: should be able to override the default plain text parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 46 - should be able to override the default plain text parser after removeAllContentTypeParsers # time=6.379ms
    
    # Subtest: should be able to add a custom content type parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 47 - should be able to add a custom content type parser after removeAllContentTypeParsers # time=7.079ms
    
    1..47
    # time=768.075ms
ok 20 - test/custom-parser.test.js # time=768.075ms

# Subtest: test/custom-querystring-parser.test.js
    # Subtest: Custom querystring parser
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 1 - Custom querystring parser # time=129.099ms
    
    # Subtest: Custom querystring parser should be called also if there is nothing to parse
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 2 - Custom querystring parser should be called also if there is nothing to parse # time=14.708ms
    
    # Subtest: Querystring without value
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 3 - Querystring without value # time=18.307ms
    
    # Subtest: Custom querystring parser should be a function
        1..1
        ok 1 - should be equal
    ok 4 - Custom querystring parser should be a function # time=1.672ms
    
    1..4
    # time=184.019ms
ok 21 - test/custom-querystring-parser.test.js # time=184.019ms

# Subtest: test/decorator.test.js
    # Subtest: server methods should exist
        1..2
        ok 1 - expect truthy value
        ok 2 - expect truthy value
    ok 1 - server methods should exist # time=15.865ms
    
    # Subtest: should check if the given decoration already exist when null
        1..1
        ok 1 - expect truthy value
    ok 2 - should check if the given decoration already exist when null # time=83.091ms
    
    # Subtest: server methods should be encapsulated via .register
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 3 - server methods should be encapsulated via .register # time=7.689ms
    
    # Subtest: hasServerMethod should check if the given method already exist
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 4 - hasServerMethod should check if the given method already exist # time=22.92ms
    
    # Subtest: decorate should throw if a declared dependency is not present
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - (unnamed test)
    ok 5 - decorate should throw if a declared dependency is not present # time=10.548ms
    
    # Subtest: decorate should throw if declared dependency is not array
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - (unnamed test)
    ok 6 - decorate should throw if declared dependency is not array # time=6.146ms
    
    # Subtest: should pass error for missing request decorator
        1..2
        ok 1 - type is Error
        ok 2 - should match pattern provided
    ok 7 - should pass error for missing request decorator # time=7.003ms
    
    # Subtest: decorateReply inside register
        1..11
        ok 1 - should not error
        ok 2 - test exists
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 8 - decorateReply inside register # time=57.663ms
    
    # Subtest: decorateReply as plugin (inside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 9 - decorateReply as plugin (inside .after) # time=43.305ms
    
    # Subtest: decorateReply as plugin (outside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 10 - decorateReply as plugin (outside .after) # time=18.048ms
    
    # Subtest: decorateRequest inside register
        1..11
        ok 1 - should not error
        ok 2 - test exists
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 11 - decorateRequest inside register # time=18.174ms
    
    # Subtest: decorateRequest as plugin (inside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 12 - decorateRequest as plugin (inside .after) # time=30.618ms
    
    # Subtest: decorateRequest as plugin (outside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 13 - decorateRequest as plugin (outside .after) # time=29.961ms
    
    # Subtest: decorators should be instance separated
        1..1
        ok 1 - (unnamed test)
    ok 14 - decorators should be instance separated # time=2.358ms
    
    # Subtest: hasRequestDecorator
        # Subtest: is a function
            1..1
            ok 1 - expect truthy value
        ok 1 - is a function # time=1.521ms
        
        # Subtest: should check if the given request decoration already exist
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 2 - should check if the given request decoration already exist # time=1.908ms
        
        # Subtest: should check if the given request decoration already exist when null
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 3 - should check if the given request decoration already exist when null # time=1.96ms
        
        # Subtest: should be plugin encapsulable
            1..4
            ok 1 - expect falsey value
            ok 2 - expect falsey value
            ok 3 - expect truthy value
            ok 4 - expect falsey value
        ok 4 - should be plugin encapsulable # time=10.627ms
        
        # Subtest: should be inherited
            1..2
            ok 1 - expect truthy value
            ok 2 - expect truthy value
        ok 5 - should be inherited # time=18.297ms
        
        1..5
    ok 15 - hasRequestDecorator # time=54.617ms
    
    # Subtest: hasReplyDecorator
        # Subtest: is a function
            1..1
            ok 1 - expect truthy value
        ok 1 - is a function # time=1.43ms
        
        # Subtest: should check if the given reply decoration already exist
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 2 - should check if the given reply decoration already exist # time=11.718ms
        
        # Subtest: should check if the given reply decoration already exist when null
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 3 - should check if the given reply decoration already exist when null # time=10.183ms
        
        # Subtest: should be plugin encapsulable
            1..4
            ok 1 - expect falsey value
            ok 2 - expect falsey value
            ok 3 - expect truthy value
            ok 4 - expect falsey value
        ok 4 - should be plugin encapsulable # time=42.59ms
        
        # Subtest: should be inherited
            1..2
            ok 1 - expect truthy value
            ok 2 - expect truthy value
        ok 5 - should be inherited # time=5.692ms
        
        1..5
    ok 16 - hasReplyDecorator # time=176.918ms
    
    # Subtest: should register properties via getter/setter objects
        1..3
        ok 1 - expect truthy value
        ok 2 - a getter
        ok 3 - expect falsey value
    ok 17 - should register properties via getter/setter objects # time=7.576ms
    
    # Subtest: decorateRequest should work with getter/setter
        1..5
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - (unnamed test)
    ok 18 - decorateRequest should work with getter/setter # time=40.086ms
    
    # Subtest: decorateReply should work with getter/setter
        1..5
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - (unnamed test)
    ok 19 - decorateReply should work with getter/setter # time=18.72ms
    
    # Subtest: should register empty values
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 20 - should register empty values # time=11.795ms
    
    # Subtest: nested plugins can override things
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 21 - nested plugins can override things # time=4.81ms
    
    # Subtest: a decorator should addSchema to all the encapsulated tree
        1..1
        ok 1 - should not error
    ok 22 - a decorator should addSchema to all the encapsulated tree # time=5.956ms
    
    # Subtest: after can access to a decorated instance and previous plugin decoration
        1..11
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
    ok 23 - after can access to a decorated instance and previous plugin decoration # time=10.861ms
    
    # Subtest: decorate* should throw if called after ready
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 24 - decorate* should throw if called after ready # time=25.571ms
    
    # Subtest: decorate* should emit warning if an array is passed
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 25 - decorate* should emit warning if an array is passed # time=28.933ms
    
    # Subtest: decorate* should emit warning if object type is passed
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 26 - decorate* should emit warning if object type is passed # time=24.413ms
    
    # Subtest: decorate* should not emit warning if object with getter/setter is passed
        1..0
    ok 27 - decorate* should not emit warning if object with getter/setter is passed # time=23.522ms
    
    # Subtest: decorate* should not emit warning if string,bool,numbers are passed
        1..0
    ok 28 - decorate* should not emit warning if string,bool,numbers are passed # time=23.937ms
    
    # Subtest: Request/reply decorators should be able to access the server instance
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not be equal
        ok 4 - should be equal
        ok 5 - should not be equal
        ok 6 - should be equal
    ok 29 - Request/reply decorators should be able to access the server instance # time=8.764ms
    
    # Subtest: plugin required decorators
        1..0
    ok 30 - plugin required decorators # time=3.854ms
    
    # Subtest: decorateRequest/decorateReply empty string
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 31 - decorateRequest/decorateReply empty string # time=8.26ms
    
    # Subtest: decorateRequest/decorateReply is undefined
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 32 - decorateRequest/decorateReply is undefined # time=8.228ms
    
    # Subtest: decorateRequest/decorateReply is not set to a value
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 33 - decorateRequest/decorateReply is not set to a value # time=8.412ms
    
    # Subtest: decorateRequest with dependencies
        1..2
        ok 1 - expected to not throw
        ok 2 - expect truthy value
    ok 34 - decorateRequest with dependencies # time=5.114ms
    
    # Subtest: decorateRequest with dependencies (functions)
        1..2
        ok 1 - expected to not throw
        ok 2 - expect truthy value
    ok 35 - decorateRequest with dependencies (functions) # time=1.441ms
    
    # Subtest: chain of decorators on Request
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        1..6
    ok 36 - chain of decorators on Request # time=17.439ms
    
    # Subtest: chain of decorators on Reply
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        1..6
    ok 37 - chain of decorators on Reply # time=15.631ms
    
    1..37
    # time=941.049ms
ok 22 - test/decorator.test.js # time=941.049ms

# Subtest: test/default-route.test.js
    # Subtest: should fail if defaultRoute is not a function
        1..1
        ok 1 - should be equal
    ok 1 - should fail if defaultRoute is not a function # time=23.339ms
    
    # Subtest: correctly sets, returns, and calls defaultRoute
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 2 - correctly sets, returns, and calls defaultRoute # time=43.786ms
    
    1..2
    # time=78.436ms
ok 23 - test/default-route.test.js # time=78.436ms

# Subtest: test/delete.test.js
    # Subtest: shorthand - delete
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - delete # time=10.37ms
    
    # Subtest: shorthand - delete params
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - delete params # time=2.905ms
    
    # Subtest: shorthand - delete, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - delete, querystring schema # time=2.215ms
    
    # Subtest: shorthand - get, headers schema
        1..1
        ok 1 - (unnamed test)
    ok 4 - shorthand - get, headers schema # time=2.149ms
    
    # Subtest: missing schema - delete
        1..1
        ok 1 - (unnamed test)
    ok 5 - missing schema - delete # time=2.019ms
    
    # Subtest: body - delete
        1..1
        ok 1 - (unnamed test)
    ok 6 - body - delete # time=1.367ms
    
    # Subtest: shorthand - delete with application/json Content-Type header and without body
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - shorthand - delete with application/json Content-Type header and without body # time=44.723ms
    
    ok 8 - should not error
    # Subtest: shorthand - request delete
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 9 - shorthand - request delete # time=38.687ms
    
    # Subtest: shorthand - request delete params schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 10 - shorthand - request delete params schema # time=7.532ms
    
    # Subtest: shorthand - request delete params schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 11 - shorthand - request delete params schema error # time=7.412ms
    
    # Subtest: shorthand - request delete headers schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 12 - shorthand - request delete headers schema # time=5.694ms
    
    # Subtest: shorthand - request delete headers schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 13 - shorthand - request delete headers schema error # time=5.609ms
    
    # Subtest: shorthand - request delete querystring schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 14 - shorthand - request delete querystring schema # time=5.55ms
    
    # Subtest: shorthand - request delete querystring schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 15 - shorthand - request delete querystring schema error # time=5.01ms
    
    # Subtest: shorthand - request delete missing schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 16 - shorthand - request delete missing schema # time=5.622ms
    
    # Subtest: shorthand - delete with body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - shorthand - delete with body # time=8.676ms
    
    1..17
    # time=324.109ms
ok 24 - test/delete.test.js # time=324.109ms

# Subtest: test/diagnostics-channel.test.js
    # Subtest: diagnostics_channel when present and subscribers
        1..3
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should be equal
    ok 1 - diagnostics_channel when present and subscribers # time=972.744ms
    
    # Subtest: diagnostics_channel when present and no subscribers
        1..1
        ok 1 - should be equal
    ok 2 - diagnostics_channel when present and no subscribers # time=20.592ms
    
    # Subtest: diagnostics_channel when not present
        1..1
        ok 1 - expected to not throw
    ok 3 - diagnostics_channel when not present # time=19.04ms
    
    1..3
    # time=1026.672ms
ok 25 - test/diagnostics-channel.test.js # time=1026.672ms

# Subtest: test/encapsulated-error-handler.test.js
    # Subtest: encapuslates an error handler
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 1 - encapuslates an error handler # time=69.12ms
    
    # Subtest: onError hook nested
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 2 - onError hook nested # time=11.844ms
    
    1..2
    # time=87.718ms
ok 26 - test/encapsulated-error-handler.test.js # time=87.718ms

# Subtest: test/esm/index.test.js
    # Subtest: named exports support
        ok 1 - should be equal
        1..1
    ok 1 - named exports support # time=65.426ms
    
    ok 2 - should be equal
    1..2
    # time=71.485ms
ok 27 - test/esm/index.test.js # time=71.485ms

# Subtest: test/fastify-instance.test.js
    # Subtest: root fastify instance is an object
        1..1
        ok 1 - type is object
    ok 1 - root fastify instance is an object # time=15.586ms
    
    # Subtest: fastify instance should contains ajv options
        1..1
        ok 1 - should be equivalent
    ok 2 - fastify instance should contains ajv options # time=6.768ms
    
    # Subtest: fastify instance should contains ajv options.plugins nested arrays
        1..1
        ok 1 - should be equivalent
    ok 3 - fastify instance should contains ajv options.plugins nested arrays # time=3.277ms
    
    # Subtest: fastify instance get invalid ajv options
        1..1
        ok 1 - expected to throw
    ok 4 - fastify instance get invalid ajv options # time=1.513ms
    
    # Subtest: fastify instance get invalid ajv options.plugins
        1..1
        ok 1 - expected to throw
    ok 5 - fastify instance get invalid ajv options.plugins # time=1.109ms
    
    # Subtest: fastify instance should contain default errorHandler
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 6 - fastify instance should contain default errorHandler # time=2.777ms
    
    # Subtest: errorHandler in plugin should be separate from the external one
        1..4
        ok 1 - should not be equivalent
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equivalent
    ok 7 - errorHandler in plugin should be separate from the external one # time=17.304ms
    
    1..7
    # time=82.281ms
ok 28 - test/fastify-instance.test.js # time=82.281ms

# Subtest: test/fluent-schema.test.js
    # Subtest: use fluent-json-schema object
        1..15
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equivalent
    ok 1 - use fluent-json-schema object # time=202.365ms
    
    # Subtest: use complex fluent-json-schema object
        1..1
        ok 1 - should not error
    ok 2 - use complex fluent-json-schema object # time=41.98ms
    
    # Subtest: use fluent schema and plain JSON schema
        1..1
        ok 1 - should not error
    ok 3 - use fluent schema and plain JSON schema # time=53.423ms
    
    # Subtest: Should call valueOf internally
        1..1
        ok 1 - should not error
    ok 4 - Should call valueOf internally # time=58.642ms
    
    1..4
    # time=364.456ms
ok 29 - test/fluent-schema.test.js # time=364.456ms

# Subtest: test/genReqId.test.js
    # Subtest: Should accept a custom genReqId function
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 1 - Should accept a custom genReqId function # time=70.643ms
    
    1..1
    # time=78.145ms
ok 30 - test/genReqId.test.js # time=78.145ms

# Subtest: test/get.test.js
    # Subtest: shorthand - get
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - get # time=9.759ms
    
    # Subtest: shorthand - get (return null)
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - get (return null) # time=2.785ms
    
    # Subtest: shorthand - get params
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - get params # time=2.894ms
    
    # Subtest: shorthand - get, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 4 - shorthand - get, querystring schema # time=2.5ms
    
    # Subtest: shorthand - get, headers schema
        1..1
        ok 1 - (unnamed test)
    ok 5 - shorthand - get, headers schema # time=3.028ms
    
    # Subtest: missing schema - get
        1..1
        ok 1 - (unnamed test)
    ok 6 - missing schema - get # time=2.109ms
    
    # Subtest: custom serializer - get
        1..1
        ok 1 - (unnamed test)
    ok 7 - custom serializer - get # time=2.592ms
    
    # Subtest: empty response
        1..1
        ok 1 - (unnamed test)
    ok 8 - empty response # time=2.171ms
    
    # Subtest: send a falsy boolean
        1..1
        ok 1 - (unnamed test)
    ok 9 - send a falsy boolean # time=1.936ms
    
    ok 10 - should not error
    # Subtest: shorthand - request get
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - shorthand - request get # time=41.543ms
    
    # Subtest: shorthand - request get params schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 12 - shorthand - request get params schema # time=8.017ms
    
    # Subtest: shorthand - request get params schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 13 - shorthand - request get params schema error # time=7.704ms
    
    # Subtest: shorthand - request get headers schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - shorthand - request get headers schema # time=5.397ms
    
    # Subtest: shorthand - request get headers schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 15 - shorthand - request get headers schema error # time=8.07ms
    
    # Subtest: shorthand - request get querystring schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 16 - shorthand - request get querystring schema # time=6.32ms
    
    # Subtest: shorthand - request get querystring schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - shorthand - request get querystring schema error # time=5.498ms
    
    # Subtest: shorthand - request get missing schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - shorthand - request get missing schema # time=5.543ms
    
    # Subtest: shorthand - custom serializer
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 19 - shorthand - custom serializer # time=7.452ms
    
    # Subtest: shorthand - empty response
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 20 - shorthand - empty response # time=5.635ms
    
    # Subtest: shorthand - send a falsy boolean
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - shorthand - send a falsy boolean # time=4.951ms
    
    # Subtest: shorthand - send null value
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - shorthand - send null value # time=4.871ms
    
    1..22
    # time=332.641ms
ok 31 - test/get.test.js # time=332.641ms

# Subtest: test/handler-context.test.js
    # Subtest: handlers receive correct `this` context
        1..4
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 1 - handlers receive correct `this` context # time=53.634ms
    
    # Subtest: handlers have access to the internal context
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - type is Object
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 2 - handlers have access to the internal context # time=17.312ms
    
    1..2
    # time=78.434ms
ok 32 - test/handler-context.test.js # time=78.434ms

# Subtest: test/head.test.js
    # Subtest: shorthand - head
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - head # time=10.305ms
    
    # Subtest: shorthand - head params
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - head params # time=3.096ms
    
    # Subtest: shorthand - head, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - head, querystring schema # time=2.178ms
    
    # Subtest: missing schema - head
        1..1
        ok 1 - (unnamed test)
    ok 4 - missing schema - head # time=2.14ms
    
    ok 5 - should not error
    # Subtest: shorthand - request head
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 6 - shorthand - request head # time=35.529ms
    
    # Subtest: shorthand - request head params schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 7 - shorthand - request head params schema # time=6.679ms
    
    # Subtest: shorthand - request head params schema error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 8 - shorthand - request head params schema error # time=7.587ms
    
    # Subtest: shorthand - request head querystring schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 9 - shorthand - request head querystring schema # time=5.4ms
    
    # Subtest: shorthand - request head querystring schema error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - shorthand - request head querystring schema error # time=5.266ms
    
    # Subtest: shorthand - request head missing schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 11 - shorthand - request head missing schema # time=6.277ms
    
    1..11
    # time=242.992ms
ok 33 - test/head.test.js # time=242.992ms

# Subtest: test/hooks-async.test.js
    # Subtest: async hooks
        1..21
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - expect truthy value
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should not error
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equivalent
        ok 20 - should not error
        ok 21 - should be equal
    ok 1 - async hooks # time=124.092ms
    
    # Subtest: modify payload
        1..10
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - expect truthy value
        ok 4 - should be equivalent
        ok 5 - expect truthy value
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
    ok 2 - modify payload # time=39.505ms
    
    # Subtest: onRequest hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 3 - onRequest hooks should be able to block a request # time=19.11ms
    
    # Subtest: preParsing hooks should be able to modify the payload
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 4 - preParsing hooks should be able to modify the payload # time=19.365ms
    
    # Subtest: preParsing hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 5 - preParsing hooks should handle errors # time=6.744ms
    
    # Subtest: preHandler hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 6 - preHandler hooks should be able to block a request # time=16.5ms
    
    # Subtest: preValidation hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 7 - preValidation hooks should be able to block a request # time=6.305ms
    
    # Subtest: preValidation hooks should be able to change request body before validation
        1..4
        ok 1 - (unnamed test)
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - preValidation hooks should be able to change request body before validation # time=87.416ms
    
    # Subtest: preSerialization hooks should be able to modify the payload
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - preSerialization hooks should be able to modify the payload # time=6.824ms
    
    # Subtest: preSerialization hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - preSerialization hooks should handle errors # time=7.69ms
    
    # Subtest: preValidation hooks should handle throwing null
        1..4
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - preValidation hooks should handle throwing null # time=11.237ms
    
    # Subtest: preValidation hooks should handle throwing a string
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 12 - preValidation hooks should handle throwing a string # time=6.11ms
    
    # Subtest: onRequest hooks should be able to block a request (last hook)
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 13 - onRequest hooks should be able to block a request (last hook) # time=6.443ms
    
    # Subtest: preHandler hooks should be able to block a request (last hook)
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 14 - preHandler hooks should be able to block a request (last hook) # time=6.065ms
    
    # Subtest: onRequest respond with a stream
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - onRequest respond with a stream # time=22.823ms
    
    # Subtest: preHandler respond with a stream
        1..7
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 16 - preHandler respond with a stream # time=16.477ms
    
    # Subtest: Should log a warning if is an async function with `done`
        # Subtest: 3 arguments
            1..1
            ok 1 - expect truthy value
        ok 1 - 3 arguments # time=1.892ms
        
        # Subtest: 4 arguments
            1..3
            ok 1 - expect truthy value
            ok 2 - expect truthy value
            ok 3 - expect truthy value
        ok 2 - 4 arguments # time=2.042ms
        
        1..2
    ok 17 - Should log a warning if is an async function with `done` # time=14.855ms
    
    # Subtest: early termination, onRequest async
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 18 - early termination, onRequest async # time=16.582ms
    
    # Subtest: The this should be the same of the encapsulation level
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        1..4
    ok 19 - The this should be the same of the encapsulation level # time=26.11ms
    
    # Subtest: preSerializationEnd should handle errors if the serialize method throws
        # Subtest: works with sync preSerialization
            1..2
            ok 1 - should not error
            ok 2 - should not be equal
        ok 1 - works with sync preSerialization # time=14.672ms
        
        # Subtest: works with async preSerialization
            1..2
            ok 1 - should not error
            ok 2 - should not be equal
        ok 2 - works with async preSerialization # time=6.576ms
        
        1..2
    ok 20 - preSerializationEnd should handle errors if the serialize method throws # time=25.692ms
    
    1..20
    # time=512.459ms
ok 34 - test/hooks-async.test.js # time=512.459ms

# Subtest: test/hooks.on-ready.test.js
    # Subtest: onReady should be called in order
        1..7
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
        ok 7 - should not error
    ok 1 - onReady should be called in order # time=95.815ms
    
    # Subtest: async onReady should be called in order
        1..7
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
        ok 7 - ready
    ok 2 - async onReady should be called in order # time=12.031ms
    
    # Subtest: mix ready and onReady
        1..2
        ok 1 - should be equal
        ok 2 - ready hooks execute once
    ok 3 - mix ready and onReady # time=8.477ms
    
    # Subtest: listen and onReady order
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - trigger the onReady
        ok 9 - do not trigger the onReady
    ok 4 - listen and onReady order # time=34.925ms
    
    # Subtest: multiple ready calls
        1..11
        ok 1 - ready and hooks not triggered yet
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - trigger the onReady
        ok 10 - do not trigger the onReady
        ok 11 - do not trigger the onReady
    ok 5 - multiple ready calls # time=11.324ms
    
    # Subtest: onReady should manage error in sync
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 6 - onReady should manage error in sync # time=7.161ms
    
    # Subtest: onReady should manage error in async
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 7 - onReady should manage error in async # time=37.122ms
    
    # Subtest: onReady should manage sync error
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 8 - onReady should manage sync error # time=7.09ms
    
    # Subtest: onReady can not add decorators or application hooks
        1..3
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should not error
    ok 9 - onReady can not add decorators or application hooks # time=6.164ms
    
    # Subtest: onReady cannot add lifecycle hooks
        1..5
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 10 - onReady cannot add lifecycle hooks # time=10.981ms
    
    # Subtest: onReady throw loading error
        1..1
        ok 1 - expect truthy value
    ok 11 - onReady throw loading error # time=2.179ms
    
    # Subtest: onReady does not call done
        1..6
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
        ok 6 - should be equal
    ok 12 - onReady does not call done # time=520.175ms
    
    # Subtest: onReady execution order
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 13 - onReady execution order # time=4.162ms
    
    # Subtest: ready return the server with callback
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 14 - ready return the server with callback # time=33.396ms
    
    # Subtest: ready return the server with Promise
        1..1
        ok 1 - should be equivalent
    ok 15 - ready return the server with Promise # time=5.633ms
    
    # Subtest: ready return registered
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
    ok 16 - ready return registered # time=9.425ms
    
    1..16
    # time=845.666ms
ok 35 - test/hooks.on-ready.test.js # time=845.666ms

# Subtest: test/hooks.test.js
    # Subtest: hooks
        1..43
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - (unnamed test)
        ok 4 - (unnamed test)
        ok 5 - (unnamed test)
        ok 6 - (unnamed test)
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - expect truthy value
        ok 20 - expect truthy value
        ok 21 - expect truthy value
        ok 22 - expect truthy value
        ok 23 - should be equal
        ok 24 - should be equal
        ok 25 - should be equal
        ok 26 - should be equal
        ok 27 - should be equal
        ok 28 - should be equal
        ok 29 - should be equal
        ok 30 - should be equal
        ok 31 - should be equal
        ok 32 - expect truthy value
        ok 33 - expect truthy value
        ok 34 - expect truthy value
        ok 35 - expect truthy value
        ok 36 - should not error
        ok 37 - should be equal
        ok 38 - should be equal
        ok 39 - should be equivalent
        ok 40 - should not error
        ok 41 - should be equal
        ok 42 - should not error
        ok 43 - should be equal
    ok 1 - hooks # time=162.478ms
    
    # Subtest: onRequest hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 2 - onRequest hook should support encapsulation / 1 # time=24.516ms
    
    # Subtest: onRequest hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 3 - onRequest hook should support encapsulation / 2 # time=6.904ms
    
    # Subtest: onRequest hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 4 - onRequest hook should support encapsulation / 3 # time=20.625ms
    
    # Subtest: preHandler hook should support encapsulation / 5
        1..17
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equivalent
    ok 5 - preHandler hook should support encapsulation / 5 # time=13.899ms
    
    # Subtest: onRoute hook should be called / 1
        1..2
        ok 1 - (unnamed test)
        ok 2 - should not error
    ok 6 - onRoute hook should be called / 1 # time=4.315ms
    
    # Subtest: onRoute hook should be called / 2
        1..5
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 7 - onRoute hook should be called / 2 # time=8.168ms
    
    # Subtest: onRoute hook should be called / 3
        1..5
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - (unnamed test)
        ok 5 - should not error
    ok 8 - onRoute hook should be called / 3 # time=17.328ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 4
        1..4
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - (unnamed test)
        ok 4 - should not error
    ok 9 - onRoute hook should be called (encapsulation support) / 4 # time=6.754ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 5
        1..2
        ok 1 - (unnamed test)
        ok 2 - should not error
    ok 10 - onRoute hook should be called (encapsulation support) / 5 # time=8.564ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 6
        1..1
        ok 1 - should not error
    ok 11 - onRoute hook should be called (encapsulation support) / 6 # time=5.49ms
    
    # Subtest: onRoute should keep the context
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
    ok 12 - onRoute should keep the context # time=6.112ms
    
    # Subtest: onRoute hook should pass correct route
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should not error
    ok 13 - onRoute hook should pass correct route # time=7.785ms
    
    # Subtest: onRoute hook should pass correct route with custom prefix
        1..11
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
    ok 14 - onRoute hook should pass correct route with custom prefix # time=10.573ms
    
    # Subtest: onRoute hook should pass correct route with custom options
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - type is function
        ok 6 - should not error
    ok 15 - onRoute hook should pass correct route with custom options # time=8.002ms
    
    # Subtest: onRoute hook should receive any route option
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 16 - onRoute hook should receive any route option # time=15.699ms
    
    # Subtest: onRoute hook should preserve system route configuration
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 17 - onRoute hook should preserve system route configuration # time=12.348ms
    
    # Subtest: onRoute hook should preserve handler function in options of shorthand route system configuration
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 18 - onRoute hook should preserve handler function in options of shorthand route system configuration # time=5.195ms
    
    # Subtest: onRoute hook should be called once when prefixTrailingSlash
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 19 - onRoute hook should be called once when prefixTrailingSlash # time=7.207ms
    
    # Subtest: onRoute hook should able to change the route url
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 20 - onRoute hook should able to change the route url # time=16.353ms
    
    # Subtest: onRoute hook that throws should be caught
        1..1
        ok 1 - expect truthy value
    ok 21 - onRoute hook that throws should be caught # time=4.529ms
    
    # Subtest: onRoute hook with many prefix
        1..3
        ok 1 - should match pattern provided
        ok 2 - should match pattern provided
        ok 3 - should not error
    ok 22 - onRoute hook with many prefix # time=10.007ms
    
    # Subtest: onRoute hook should not be called when it registered after route
        1..3
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
    ok 23 - onRoute hook should not be called when it registered after route # time=5.01ms
    
    # Subtest: onResponse hook should log request error
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 24 - onResponse hook should log request error # time=68.438ms
    
    # Subtest: onResponse hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 25 - onResponse hook should support encapsulation / 1 # time=22.698ms
    
    # Subtest: onResponse hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 26 - onResponse hook should support encapsulation / 2 # time=8.799ms
    
    # Subtest: onResponse hook should support encapsulation / 3
        1..16
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 27 - onResponse hook should support encapsulation / 3 # time=23.802ms
    
    # Subtest: onSend hook should support encapsulation / 1
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 28 - onSend hook should support encapsulation / 1 # time=4.01ms
    
    # Subtest: onSend hook should support encapsulation / 2
        1..16
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 29 - onSend hook should support encapsulation / 2 # time=15.883ms
    
    # Subtest: onSend hook is called after payload is serialized and headers are set
        1..30
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should be equal
        ok 15 - should not error
        ok 16 - should be equal
        ok 17 - should be equivalent
        ok 18 - should be equal
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equivalent
        ok 22 - should be equal
        ok 23 - should not error
        ok 24 - should be equal
        ok 25 - should be equivalent
        ok 26 - should be equal
        ok 27 - should not error
        ok 28 - should be equal
        ok 29 - should be equivalent
        ok 30 - should be equal
    ok 30 - onSend hook is called after payload is serialized and headers are set # time=23.333ms
    
    # Subtest: modify payload
        1..10
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - expect truthy value
        ok 4 - should be equivalent
        ok 5 - expect truthy value
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
    ok 31 - modify payload # time=7.486ms
    
    # Subtest: clear payload
        1..6
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 32 - clear payload # time=4.724ms
    
    # Subtest: onSend hook throws
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 33 - onSend hook throws # time=29.61ms
    
    # Subtest: onSend hook should receive valid request and reply objects if onRequest hook fails
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 34 - onSend hook should receive valid request and reply objects if onRequest hook fails # time=11.474ms
    
    # Subtest: onSend hook should receive valid request and reply objects if a custom content type parser fails
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 35 - onSend hook should receive valid request and reply objects if a custom content type parser fails # time=9.932ms
    
    # Subtest: Content-Length header should be updated if onSend hook modifies the payload
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 36 - Content-Length header should be updated if onSend hook modifies the payload # time=12.143ms
    
    # Subtest: cannot add hook after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 37 - cannot add hook after binding # time=5.639ms
    
    # Subtest: onRequest hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 38 - onRequest hooks should be able to block a request # time=5.955ms
    
    # Subtest: preValidation hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 39 - preValidation hooks should be able to block a request # time=5.683ms
    
    # Subtest: preValidation hooks should be able to change request body before validation
        1..4
        ok 1 - (unnamed test)
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 40 - preValidation hooks should be able to change request body before validation # time=79.385ms
    
    # Subtest: preParsing hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 41 - preParsing hooks should be able to block a request # time=6.045ms
    
    # Subtest: preHandler hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 42 - preHandler hooks should be able to block a request # time=5.67ms
    
    # Subtest: onRequest hooks should be able to block a request (last hook)
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 43 - onRequest hooks should be able to block a request (last hook) # time=5.628ms
    
    # Subtest: preHandler hooks should be able to block a request (last hook)
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 44 - preHandler hooks should be able to block a request (last hook) # time=5.72ms
    
    # Subtest: preParsing hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 45 - preParsing hooks should handle errors # time=6.324ms
    
    # Subtest: onRequest respond with a stream
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 46 - onRequest respond with a stream # time=12.702ms
    
    # Subtest: preHandler respond with a stream
        1..7
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 47 - preHandler respond with a stream # time=18.561ms
    
    # Subtest: Register an hook after a plugin inside a plugin
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 48 - Register an hook after a plugin inside a plugin # time=9.474ms
    
    # Subtest: Register an hook after a plugin inside a plugin (with preHandler option)
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 49 - Register an hook after a plugin inside a plugin (with preHandler option) # time=8.02ms
    
    # Subtest: Register hooks inside a plugin after an encapsulated plugin
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 50 - Register hooks inside a plugin after an encapsulated plugin # time=21.517ms
    
    # Subtest: onRequest hooks should run in the order in which they are defined
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 51 - onRequest hooks should run in the order in which they are defined # time=8.944ms
    
    # Subtest: preHandler hooks should run in the order in which they are defined
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 52 - preHandler hooks should run in the order in which they are defined # time=19.296ms
    
    # Subtest: onSend hooks should run in the order in which they are defined
        1..8
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equivalent
    ok 53 - onSend hooks should run in the order in which they are defined # time=8.628ms
    
    # Subtest: onResponse hooks should run in the order in which they are defined
        1..8
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equivalent
    ok 54 - onResponse hooks should run in the order in which they are defined # time=8.41ms
    
    # Subtest: onRequest, preHandler, and onResponse hooks that resolve to a value do not cause an error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 55 - onRequest, preHandler, and onResponse hooks that resolve to a value do not cause an error # time=29.938ms
    
    # Subtest: If a response header has been set inside an hook it shoulod not be overwritten by the final response handler
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 56 - If a response header has been set inside an hook it shoulod not be overwritten by the final response handler # time=7.458ms
    
    # Subtest: If the content type has been set inside an hook it should not be changed
        1..5
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 57 - If the content type has been set inside an hook it should not be changed # time=8.794ms
    
    # Subtest: request in onRequest, preParsing, preValidation and onResponse
        1..18
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equivalent
        ok 10 - should be equivalent
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equivalent
        ok 14 - should be equivalent
        ok 15 - should be equivalent
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
    ok 58 - request in onRequest, preParsing, preValidation and onResponse # time=30.448ms
    
    # Subtest: preValidation hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 59 - preValidation hook should support encapsulation / 1 # time=7.685ms
    
    # Subtest: preValidation hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 60 - preValidation hook should support encapsulation / 2 # time=22.195ms
    
    # Subtest: preValidation hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 61 - preValidation hook should support encapsulation / 3 # time=30.743ms
    
    # Subtest: onError hook
        1..3
        ok 1 - should match pattern provided
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 62 - onError hook # time=5.888ms
    
    # Subtest: reply.send should throw if called inside the onError hook
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 63 - reply.send should throw if called inside the onError hook # time=5.405ms
    
    # Subtest: onError hook with setErrorHandler
        # Subtest: Send error
            1..3
            ok 1 - should match pattern provided
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 1 - Send error # time=6.215ms
        
        1..1
    ok 64 - onError hook with setErrorHandler # time=11.648ms
    
    # Subtest: preParsing hook should run before parsing and be able to modify the payload
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 65 - preParsing hook should run before parsing and be able to modify the payload # time=27.07ms
    
    # Subtest: preParsing hooks should run in the order in which they are defined
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 66 - preParsing hooks should run in the order in which they are defined # time=8.846ms
    
    # Subtest: preParsing hooks should support encapsulation
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 67 - preParsing hooks should support encapsulation # time=13.812ms
    
    # Subtest: preParsing hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 68 - preParsing hook should support encapsulation / 1 # time=7.125ms
    
    # Subtest: preParsing hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 69 - preParsing hook should support encapsulation / 2 # time=4.935ms
    
    # Subtest: preParsing hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 70 - preParsing hook should support encapsulation / 3 # time=15.963ms
    
    # Subtest: preSerialization hook should run before serialization and be able to modify the payload
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 71 - preSerialization hook should run before serialization and be able to modify the payload # time=16.397ms
    
    # Subtest: preSerialization hook should be able to throw errors which are validated against schema response
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        1..6
    ok 72 - preSerialization hook should be able to throw errors which are validated against schema response # time=11.814ms
    
    # Subtest: preSerialization hook which returned error should still run onError hooks
        1..4
        ok 1 - should not error
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - should be equal
    ok 73 - preSerialization hook which returned error should still run onError hooks # time=8.255ms
    
    # Subtest: preSerialization hooks should run in the order in which they are defined
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 74 - preSerialization hooks should run in the order in which they are defined # time=10.196ms
    
    # Subtest: preSerialization hooks should support encapsulation
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 75 - preSerialization hooks should support encapsulation # time=14.257ms
    
    # Subtest: onRegister hook should be called / 1
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should not error
    ok 76 - onRegister hook should be called / 1 # time=4.818ms
    
    # Subtest: onRegister hook should be called / 2
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
    ok 77 - onRegister hook should be called / 2 # time=6.513ms
    
    # Subtest: onRegister hook should be called / 3
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
    ok 78 - onRegister hook should be called / 3 # time=6.78ms
    
    # Subtest: onRegister hook should be called (encapsulation)
        1..1
        ok 1 - should not error
    ok 79 - onRegister hook should be called (encapsulation) # time=2.791ms
    
    # Subtest: early termination, onRequest
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 80 - early termination, onRequest # time=5.173ms
    
    # Subtest: reply.send should throw if undefined error is thrown
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 81 - reply.send should throw if undefined error is thrown # time=7.969ms
    
    # Subtest: reply.send should throw if undefined error is thrown at preParsing hook
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 82 - reply.send should throw if undefined error is thrown at preParsing hook # time=16.281ms
    
    # Subtest: reply.send should throw if undefined error is thrown at onSend hook
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 83 - reply.send should throw if undefined error is thrown at onSend hook # time=5.185ms
    
    # Subtest: onTimeout should be triggered
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - onTimeout
        ok 5 - type is Error
        ok 6 - should be equal
    ok 84 - onTimeout should be triggered # time=508.739ms
    
    # Subtest: onTimeout should be triggered and socket _meta is set
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - onTimeout
        ok 5 - type is Error
        ok 6 - should be equal
    ok 85 - onTimeout should be triggered and socket _meta is set # time=508.55ms
    
    1..85
    # time=2324.106ms
ok 36 - test/hooks.test.js # time=2324.106ms

# Subtest: test/http2/closing.test.js
    # Subtest: http/2 request while fastify closing
        ok 1 - http2 successfully loaded
        ok 2 - should not error
        # Subtest: return 200
            ok 1 - should be equal
            1..1
        ok 3 - return 200 # time=12.781ms
        
        1..3
    ok 1 - http/2 request while fastify closing # time=72.552ms
    
    # Subtest: http/2 request while fastify closing - return503OnClosing: false
        ok 1 - http2 successfully loaded
        ok 2 - should not error
        # Subtest: return 200
            ok 1 - should be equal
            1..1
        ok 3 - return 200 # time=4.928ms
        
        1..3
    ok 2 - http/2 request while fastify closing - return503OnClosing: false # time=14.319ms
    
    # Subtest: http/2 closes successfully with async await
        1..0
    ok 3 - http/2 closes successfully with async await # time=113.586ms
    
    # Subtest: https/2 closes successfully with async await
        1..0
    ok 4 - https/2 closes successfully with async await # time=13.232ms
    
    # Subtest: http/2 server side session emits a timeout event
        ok 1 - should be equal
        1..1
    ok 5 - http/2 server side session emits a timeout event # time=107.71ms
    
    1..5
    # time=364.779ms
ok 37 - test/http2/closing.test.js # time=364.779ms

# Subtest: test/http2/constraint.test.js
    # Subtest: A route supports host constraints under http2 protocol and secure connection
        1..5
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request - no constrain
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - https get request - no constrain # time=42.192ms
        
        # Subtest: https get request - constrain
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - https get request - constrain # time=17.189ms
        
        # Subtest: https get request - constrain - not found
            1..1
            ok 1 - should be equal
        ok 5 - https get request - constrain - not found # time=11.489ms
        
    ok 1 - A route supports host constraints under http2 protocol and secure connection # time=166.693ms
    
    1..1
    # time=201.166ms
ok 38 - test/http2/constraint.test.js # time=201.166ms

# Subtest: test/http2/head.test.js
    ok 1 - http2 successfully loaded
    ok 2 - should not error
    # Subtest: http HEAD request
        1..1
        ok 1 - should be equal
    ok 3 - http HEAD request # time=56.613ms
    
    1..3
    # time=160.054ms
ok 39 - test/http2/head.test.js # time=160.054ms

# Subtest: test/http2/missing-http2-module.test.js
    # Subtest: should throw when http2 module cannot be found
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - should throw when http2 module cannot be found # time=11.451ms
    
    1..1
    # time=17.047ms
ok 40 - test/http2/missing-http2-module.test.js # time=17.047ms

# Subtest: test/http2/plain.test.js
    ok 1 - http2 successfully loaded
    ok 2 - should not error
    # Subtest: http get request
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 3 - http get request # time=36.276ms
    
    # Subtest: http hostname
        1..1
        ok 1 - should be equal
    ok 4 - http hostname # time=7.966ms
    
    1..4
    # time=131.189ms
ok 41 - test/http2/plain.test.js # time=131.189ms

# Subtest: test/http2/secure-with-fallback.test.js
    # Subtest: secure with fallback
        1..7
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get error
            1..1
            ok 1 - should be equal
        ok 3 - https get error # time=47.921ms
        
        # Subtest: https post
            1..2
            ok 1 - should be equal
            ok 2 - should be equivalent
        ok 4 - https post # time=22.704ms
        
        # Subtest: https get request
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - https get request # time=15.523ms
        
        # Subtest: http1 get request
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 6 - http1 get request # time=28.451ms
        
        # Subtest: http1 get error
            1..2
            ok 1 - should not error
            ok 2 - should be equal
        ok 7 - http1 get error # time=7.581ms
        
    ok 1 - secure with fallback # time=228.299ms
    
    1..1
    # time=255.509ms
ok 42 - test/http2/secure-with-fallback.test.js # time=255.509ms

# Subtest: test/http2/secure.test.js
    # Subtest: secure
        1..4
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - https get request # time=39.03ms
        
        # Subtest: https get request without trust proxy - protocol
            1..2
            ok 1 - should be equivalent
            ok 2 - should be equivalent
        ok 4 - https get request without trust proxy - protocol # time=22.573ms
        
    ok 1 - secure # time=143.561ms
    
    1..1
    # time=181.391ms
ok 43 - test/http2/secure.test.js # time=181.391ms

# Subtest: test/http2/unknown-http-method.test.js
    ok 1 - should not error
    # Subtest: http UNKNOWN_METHOD request
        1..2
        ok 1 - should be equal
        ok 2 - should be equivalent
    ok 2 - http UNKNOWN_METHOD request # time=33.645ms
    
    1..2
    # time=95.534ms
ok 44 - test/http2/unknown-http-method.test.js # time=95.534ms

# Subtest: test/https/custom-https-server.test.js
    # Subtest: Should support a custom https server
        1..4
        ok 1 - it is called twice for every HOST interface
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - Should support a custom https server # time=188.762ms
    
    1..1
    # time=236.218ms
ok 45 - test/https/custom-https-server.test.js # time=236.218ms

# Subtest: test/https/https.test.js
    # Subtest: https
        1..4
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 3 - https get request # time=42.832ms
        
        # Subtest: https get request without trust proxy - protocol
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 4 - https get request without trust proxy - protocol # time=17.977ms
        
    ok 1 - https # time=149.292ms
    
    1..1
    # time=180.171ms
ok 46 - test/https/https.test.js # time=180.171ms

# Subtest: test/imports.test.js
    # Subtest: should import as default
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 1 - should import as default # time=722.625ms
    
    # Subtest: should import as esm
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 2 - should import as esm # time=1.528ms
    
    1..2
    # time=735.207ms
ok 47 - test/imports.test.js # time=735.207ms

# Subtest: test/inject.test.js
    # Subtest: inject should exist
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 1 - inject should exist # time=16.044ms
    
    # Subtest: should wait for the ready event
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 2 - should wait for the ready event # time=600.24ms
    
    # Subtest: inject get request
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 3 - inject get request # time=9.292ms
    
    # Subtest: inject get request - code check
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 4 - inject get request - code check # time=10.221ms
    
    # Subtest: inject get request - headers check
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 5 - inject get request - headers check # time=6.515ms
    
    # Subtest: inject get request - querystring
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 6 - inject get request - querystring # time=6.508ms
    
    # Subtest: inject get request - params
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 7 - inject get request - params # time=5.983ms
    
    # Subtest: inject get request - wildcard
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - inject get request - wildcard # time=10.213ms
    
    # Subtest: inject get request - headers
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 9 - inject get request - headers # time=6.68ms
    
    # Subtest: inject post request
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 10 - inject post request # time=32.088ms
    
    # Subtest: inject post request - send stream
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 11 - inject post request - send stream # time=17.832ms
    
    # Subtest: inject get request - reply stream
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 12 - inject get request - reply stream # time=9.028ms
    
    # Subtest: inject promisify - waiting for ready event
        1..1
        ok 1 - should be equal
    ok 13 - inject promisify - waiting for ready event # time=22.293ms
    
    # Subtest: inject promisify - after the ready event
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 14 - inject promisify - after the ready event # time=10.366ms
    
    # Subtest: inject promisify - when the server is up
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 15 - inject promisify - when the server is up # time=25.677ms
    
    # Subtest: should reject in error case
        1..1
        ok 1 - should be equal
    ok 16 - should reject in error case # time=505.094ms
    
    # Subtest: inject a multipart request using form-body
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 17 - inject a multipart request using form-body # time=9.069ms
    
    # Subtest: should error the promise if ready errors
        1..3
        ok 1 - after is called
        ok 2 - expect truthy value
        ok 3 - should be equal
    ok 18 - should error the promise if ready errors # time=17.017ms
    
    # Subtest: should throw error if callback specified and if ready errors
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 19 - should throw error if callback specified and if ready errors # time=4.544ms
    
    # Subtest: should support builder-style injection with ready app
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
    ok 20 - should support builder-style injection with ready app # time=15.563ms
    
    # Subtest: should support builder-style injection with non-ready app
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
    ok 21 - should support builder-style injection with non-ready app # time=13.701ms
    
    # Subtest: should handle errors in builder-style injection correctly
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 22 - should handle errors in builder-style injection correctly # time=14.639ms
    
    1..22
    # time=1393.736ms
ok 48 - test/inject.test.js # time=1393.736ms

# Subtest: test/internals/all.test.js
    # Subtest: fastify.all should add all the methods to the same url
        1..14
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equivalent
    ok 1 - fastify.all should add all the methods to the same url # time=60.724ms
    
    1..1
    # time=65.664ms
ok 49 - test/internals/all.test.js # time=65.664ms

# Subtest: test/internals/contentTypeParser.test.js
    # Subtest: rawBody function
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - rawBody function # time=13.292ms
    
    # Subtest: Should support Webpack and faux modules
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - Should support Webpack and faux modules # time=10.512ms
    
    1..2
    # time=30.689ms
ok 50 - test/internals/contentTypeParser.test.js # time=30.689ms

# Subtest: test/internals/decorator.test.js
    # Subtest: decorate should add the given method to its instance
        1..1
        ok 1 - expect truthy value
    ok 1 - decorate should add the given method to its instance # time=5.512ms
    
    # Subtest: decorate is chainable
        1..3
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
    ok 2 - decorate is chainable # time=1.966ms
    
    # Subtest: checkExistence should check if a property is part of the given instance
        1..1
        ok 1 - expect truthy value
    ok 3 - checkExistence should check if a property is part of the given instance # time=1.906ms
    
    # Subtest: checkExistence should find the instance if not given
        1..1
        ok 1 - expect truthy value
    ok 4 - checkExistence should find the instance if not given # time=1.619ms
    
    # Subtest: checkExistence should check the prototype as well
        1..1
        ok 1 - expect truthy value
    ok 5 - checkExistence should check the prototype as well # time=1.442ms
    
    # Subtest: checkDependencies should throw if a dependency is not present
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 6 - checkDependencies should throw if a dependency is not present # time=2.037ms
    
    # Subtest: decorate should internally call checkDependencies
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 7 - decorate should internally call checkDependencies # time=1.538ms
    
    # Subtest: decorate should recognize getter/setter objects
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - (unnamed test)
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 8 - decorate should recognize getter/setter objects # time=3.065ms
    
    1..8
    # time=82.752ms
ok 51 - test/internals/decorator.test.js # time=82.752ms

# Subtest: test/internals/handleRequest.test.js
    # Subtest: handleRequest function - sent reply
        1..1
        ok 1 - should be equal
    ok 1 - handleRequest function - sent reply # time=5.826ms
    
    # Subtest: handleRequest function - invoke with error
        1..1
        ok 1 - should be equal
    ok 2 - handleRequest function - invoke with error # time=1.381ms
    
    # Subtest: handler function - invalid schema
        1..1
        ok 1 - errorHandler called
    ok 3 - handler function - invalid schema # time=69.088ms
    
    # Subtest: handler function - reply
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - (unnamed test)
    ok 4 - handler function - reply # time=3.053ms
    
    # Subtest: handler function - preValidationCallback with finished response
        1..0
    ok 5 - handler function - preValidationCallback with finished response # time=0.799ms
    
    # Subtest: request should be defined in onSend Hook on post request with content type application/json
        1..8
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - should not error
        ok 8 - should be equal
    ok 6 - request should be defined in onSend Hook on post request with content type application/json # time=322.197ms
    
    # Subtest: request should be defined in onSend Hook on post request with content type application/x-www-form-urlencoded
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - should be equal
    ok 7 - request should be defined in onSend Hook on post request with content type application/x-www-form-urlencoded # time=14.053ms
    
    # Subtest: request should be defined in onSend Hook on options request with content type application/x-www-form-urlencoded
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - should be equal
    ok 8 - request should be defined in onSend Hook on options request with content type application/x-www-form-urlencoded # time=15.488ms
    
    # Subtest: request should respond with an error if an unserialized payload is sent inside an async handler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
    ok 9 - request should respond with an error if an unserialized payload is sent inside an async handler # time=37.653ms
    
    1..9
    # time=496.575ms
ok 52 - test/internals/handleRequest.test.js # time=496.575ms

# Subtest: test/internals/hookRunner.test.js
    # Subtest: hookRunner - Basic
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 1 - hookRunner - Basic # time=8.841ms
    
    # Subtest: hookRunner - In case of error should skip to done
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 2 - hookRunner - In case of error should skip to done # time=2.923ms
    
    # Subtest: hookRunner - Should handle throw
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 3 - hookRunner - Should handle throw # time=2.217ms
    
    # Subtest: hookRunner - Should handle promises
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 4 - hookRunner - Should handle promises # time=31.916ms
    
    # Subtest: hookRunner - In case of error should skip to done (with promises)
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 5 - hookRunner - In case of error should skip to done (with promises) # time=3.451ms
    
    # Subtest: hookRunner - Be able to exit before its natural end
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 6 - hookRunner - Be able to exit before its natural end # time=1.993ms
    
    # Subtest: hookRunner - Promises that resolve to a value do not change the state
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 7 - hookRunner - Promises that resolve to a value do not change the state # time=2.28ms
    
    # Subtest: onSendHookRunner - Basic
        1..13
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equal
        ok 10 - should not error
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equal
    ok 8 - onSendHookRunner - Basic # time=10.282ms
    
    # Subtest: onSendHookRunner - Can change the payload
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 9 - onSendHookRunner - Can change the payload # time=4.748ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 10 - onSendHookRunner - In case of error should skip to done # time=3.397ms
    
    # Subtest: onSendHookRunner - Should handle promises
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 11 - onSendHookRunner - Should handle promises # time=3.961ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done (with promises)
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 12 - onSendHookRunner - In case of error should skip to done (with promises) # time=3.733ms
    
    # Subtest: onSendHookRunner - Be able to exit before its natural end
        1..2
        ok 1 - should be equivalent
        ok 2 - should be equivalent
    ok 13 - onSendHookRunner - Be able to exit before its natural end # time=1.47ms
    
    1..13
    # time=127.772ms
ok 53 - test/internals/hookRunner.test.js # time=127.772ms

# Subtest: test/internals/hooks.test.js
    # Subtest: hooks should have 4 array with the registered hooks
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        1..8
    ok 1 - hooks should have 4 array with the registered hooks # time=8.486ms
    
    # Subtest: hooks.add should add a hook to the given hook
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        1..14
    ok 2 - hooks.add should add a hook to the given hook # time=5.743ms
    
    # Subtest: hooks should throw on unexisting handler
        1..1
        ok 1 - (unnamed test)
    ok 3 - hooks should throw on unexisting handler # time=1.443ms
    
    # Subtest: should throw on wrong parameters
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 4 - should throw on wrong parameters # time=4.172ms
    
    1..4
    # time=52.086ms
ok 54 - test/internals/hooks.test.js # time=52.086ms

# Subtest: test/internals/initialConfig.test.js
    # Subtest: Fastify.initialConfig is an object
        1..1
        ok 1 - type is object
    ok 1 - Fastify.initialConfig is an object # time=15.134ms
    
    # Subtest: without options passed to Fastify, initialConfig should expose default values
        1..1
        ok 1 - should be equivalent
    ok 2 - without options passed to Fastify, initialConfig should expose default values # time=8.042ms
    
    # Subtest: Fastify.initialConfig should expose all options
        1..20
        ok 1 - should be equal
        ok 2 - for security reason the key cert is hidden
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - expect truthy value
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equal
    ok 3 - Fastify.initialConfig should expose all options # time=9.355ms
    
    # Subtest: Should throw if you try to modify Fastify.initialConfig
        1..4
        ok 1 - type is TypeError
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - (unnamed test)
    ok 4 - Should throw if you try to modify Fastify.initialConfig # time=3.033ms
    
    # Subtest: We must avoid shallow freezing and ensure that the whole object is freezed
        1..4
        ok 1 - type is TypeError
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - key cert removed
    ok 5 - We must avoid shallow freezing and ensure that the whole object is freezed # time=15.73ms
    
    # Subtest: https value check
        1..1
        ok 1 - expect falsey value
    ok 6 - https value check # time=1.405ms
    
    # Subtest: Return an error if options do not match the validation schema
        1..6
        ok 1 - type is Error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
        ok 6 - (unnamed test)
    ok 7 - Return an error if options do not match the validation schema # time=57.272ms
    
    # Subtest: Original options must not be frozen
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - Original options must not be frozen # time=2.735ms
    
    # Subtest: Original options must not be altered (test deep cloning)
        1..3
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 9 - Original options must not be altered (test deep cloning) # time=4.92ms
    
    # Subtest: Should not have issues when passing stream options to Pino.js
        1..15
        ok 1 - type is object
        ok 2 - should be equivalent
        ok 3 - listen at log message is ok
        ok 4 - should not error
        ok 5 - reqId is defined
        ok 6 - req is defined
        ok 7 - message is set
        ok 8 - method is get
        ok 9 - expect truthy value
        ok 10 - should be equal
        ok 11 - reqId is defined
        ok 12 - res is defined
        ok 13 - message is set
        ok 14 - statusCode is 200
        ok 15 - responseTime is defined
    ok 10 - Should not have issues when passing stream options to Pino.js # time=41.76ms
    
    # Subtest: deepFreezeObject() should not throw on TypedArray
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - (unnamed test)
    ok 11 - deepFreezeObject() should not throw on TypedArray # time=1.671ms
    
    # Subtest: Fastify.initialConfig should accept the deprecated versioning option
        1..1
        ok 1 - should be equal
    ok 12 - Fastify.initialConfig should accept the deprecated versioning option # time=4.922ms
    
    # Subtest: pluginTimeout should be parsed correctly
        ok 1 - should be equal
        ok 2 - should be equal
        1..2
    ok 13 - pluginTimeout should be parsed correctly # time=2.803ms
    
    1..13
    # time=238.598ms
ok 55 - test/internals/initialConfig.test.js # time=238.598ms

# Subtest: test/internals/logger.test.js
    # Subtest: time resolution
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - time resolution # time=6.857ms
    
    # Subtest: The logger should add a unique id for every request
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - the id should not be duplicated
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - the id should not be duplicated
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - the id should not be duplicated
        ok 11 - expect truthy value
        ok 12 - should not error
        ok 13 - the id should not be duplicated
        ok 14 - expect truthy value
        ok 15 - should not error
        ok 16 - the id should not be duplicated
        ok 17 - expect truthy value
        ok 18 - should not error
        ok 19 - the id should not be duplicated
        ok 20 - expect truthy value
        ok 21 - should not error
        ok 22 - the id should not be duplicated
        ok 23 - expect truthy value
        ok 24 - should not error
        ok 25 - the id should not be duplicated
        ok 26 - expect truthy value
        ok 27 - should not error
        ok 28 - the id should not be duplicated
        ok 29 - expect truthy value
        ok 30 - should not error
        ok 31 - the id should not be duplicated
        1..31
    ok 2 - The logger should add a unique id for every request # time=89.047ms
    
    # Subtest: The logger should reuse request id header for req.id
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - the request id from the header should be returned
        1..4
    ok 3 - The logger should reuse request id header for req.id # time=11.471ms
    
    # Subtest: The logger should error if both stream and file destination are given
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - The logger should error if both stream and file destination are given # time=1.417ms
    
    # Subtest: The serializer prevent fails if the request socket is undefined
        1..1
        ok 1 - should be equivalent
    ok 5 - The serializer prevent fails if the request socket is undefined # time=4.489ms
    
    1..5
    # time=123.437ms
ok 56 - test/internals/logger.test.js # time=123.437ms

# Subtest: test/internals/plugin.test.js
    # Subtest: shouldSkipOverride should check the 'skip-override' symbol
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 1 - shouldSkipOverride should check the 'skip-override' symbol # time=6.315ms
    
    # Subtest: getPluginName should return plugin name if the file is cached
        1..1
        ok 1 - should be equal
    ok 2 - getPluginName should return plugin name if the file is cached # time=1.83ms
    
    # Subtest: getMeta should return the object stored with the 'plugin-meta' symbol
        1..1
        ok 1 - should be equivalent
    ok 3 - getMeta should return the object stored with the 'plugin-meta' symbol # time=4.744ms
    
    # Subtest: checkDecorators should check if the given decorator is present in the instance
        1..1
        ok 1 - Everything ok
    ok 4 - checkDecorators should check if the given decorator is present in the instance # time=1.5ms
    
    # Subtest: checkDecorators should check if the given decorator is present in the instance (errored)
        1..1
        ok 1 - should be equal
    ok 5 - checkDecorators should check if the given decorator is present in the instance (errored) # time=1.027ms
    
    # Subtest: checkDecorators should accept optional decorators
        1..1
        ok 1 - Everything ok
    ok 6 - checkDecorators should accept optional decorators # time=0.726ms
    
    # Subtest: checkDependencies should check if the given dependency is present in the instance
        1..1
        ok 1 - Everything ok
    ok 7 - checkDependencies should check if the given dependency is present in the instance # time=0.937ms
    
    # Subtest: checkDependencies should check if the given dependency is present in the instance (errored)
        1..1
        ok 1 - should be equal
    ok 8 - checkDependencies should check if the given dependency is present in the instance (errored) # time=32.141ms
    
    1..8
    # time=102.147ms
ok 57 - test/internals/plugin.test.js # time=102.147ms

# Subtest: test/internals/reply-serialize.test.js
    # Subtest: Reply\#compileSerializationSchema
        1..4
        # Subtest: Should return a serialization function
            1..4
            ok 1 - type is Function
            ok 2 - type is string
            ok 3 - should be equal
            ok 4 - should be equal
        ok 1 - Should return a serialization function # time=77.395ms
        
        # Subtest: Should reuse the serialize fn across multiple invocations - Route without schema
            1..17
            ok 1 - build the schema compilation function
            ok 2 - type is Function
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - Are the same validate function
            ok 6 - type is Function
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - Are the same validate function
            ok 10 - type is Function
            ok 11 - should be equal
            ok 12 - should be equal
            ok 13 - Are the same validate function
            ok 14 - type is Function
            ok 15 - should be equal
            ok 16 - should be equal
            ok 17 - should be equal
        ok 2 - Should reuse the serialize fn across multiple invocations - Route without schema # time=17.853ms
        
        # Subtest: Should use the custom serializer compiler for the route
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equivalent
            ok 7 - {"hello":"world"}
            ok 8 - should be equivalent
            ok 9 - {"hello":"world"}
            ok 10 - should be equal
        ok 3 - Should use the custom serializer compiler for the route # time=35.316ms
        
        # Subtest: Should build a WeakMap for cache when called
            1..4
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
            ok 4 - should be equal
        ok 4 - Should build a WeakMap for cache when called # time=10.194ms
        
    ok 1 - Reply\#compileSerializationSchema # time=163.882ms
    
    # Subtest: Reply\#getSerializationFunction
        1..3
        # Subtest: Should retrieve the serialization function from the Schema definition
            1..9
            ok 1 - type is Function
            ok 2 - type is Function
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - expect falsey value
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
        ok 1 - Should retrieve the serialization function from the Schema definition # time=23.735ms
        
        # Subtest: Should retrieve the serialization function from the cached one
            1..6
            ok 1 - type is Function
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
        ok 2 - Should retrieve the serialization function from the cached one # time=9.687ms
        
        # Subtest: Should not instantiate a WeakMap if it is not needed
            1..4
            ok 1 - expect falsey value
            ok 2 - should be equal
            ok 3 - expect falsey value
            ok 4 - should be equal
        ok 3 - Should not instantiate a WeakMap if it is not needed # time=9.676ms
        
    ok 2 - Reply\#getSerializationFunction # time=53.649ms
    
    # Subtest: Reply\#serializeInput
        1..5
        # Subtest: Should throw if missed serialization function from HTTP status
            1..2
            ok 1 - should be equal
            ok 2 - should be equivalent
        ok 1 - Should throw if missed serialization function from HTTP status # time=24.647ms
        
        # Subtest: Should use a serializer fn from HTTP status
            1..4
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
        ok 2 - Should use a serializer fn from HTTP status # time=13.612ms
        
        # Subtest: Should compile a serializer out of a schema if serializer fn missed
            1..10
            ok 1 - should be equal
            ok 2 - expect falsey value
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 3 - Should compile a serializer out of a schema if serializer fn missed # time=11.639ms
        
        # Subtest: Should use a cached serializer fn
            1..12
            ok 1 - should be equal
            ok 2 - expect falsey value
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
            ok 11 - should be equal
            ok 12 - should be equal
        ok 4 - Should use a cached serializer fn # time=10.24ms
        
        # Subtest: Should instantiate a WeakMap after first call
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
        ok 5 - Should instantiate a WeakMap after first call # time=25.666ms
        
    ok 3 - Reply\#serializeInput # time=95.738ms
    
    1..3
    # time=331.473ms
ok 58 - test/internals/reply-serialize.test.js # time=331.473ms

# Subtest: test/internals/reply.test.js
    # Subtest: Once called, Reply should return an object with methods
        1..13
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should be equal
        ok 13 - should be equal
    ok 1 - Once called, Reply should return an object with methods # time=13.515ms
    
    # Subtest: reply.send will logStream error and destroy the stream
        1..1
        ok 1 - Error not logged and not streamed
    ok 2 - reply.send will logStream error and destroy the stream # time=3.844ms
    
    # Subtest: reply.send throw with circular JSON
        1..1
        ok 1 - Converting circular structure to JSON
    ok 3 - reply.send throw with circular JSON # time=2.081ms
    
    # Subtest: reply.send returns itself
        1..1
        ok 1 - should be equal
    ok 4 - reply.send returns itself # time=1.508ms
    
    # Subtest: reply.serializer should set a custom serializer
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 5 - reply.serializer should set a custom serializer # time=1.065ms
    
    # Subtest: reply.serializer should support running preSerialization hooks
        1..3
        ok 1 - preSerialization
        ok 2 - should not error
        ok 3 - should be equal
    ok 6 - reply.serializer should support running preSerialization hooks # time=764.841ms
    
    # Subtest: reply.serialize should serialize payload
        1..1
        ok 1 - should be equal
    ok 7 - reply.serialize should serialize payload # time=0.976ms
    
    # Subtest: reply.serialize should serialize payload with a custom serializer
        1..2
        ok 1 - should be equal
        ok 2 - custom serializer not called
    ok 8 - reply.serialize should serialize payload with a custom serializer # time=0.875ms
    
    # Subtest: reply.serialize should serialize payload with a context default serializer
        1..2
        ok 1 - should be equal
        ok 2 - custom serializer not called
    ok 9 - reply.serialize should serialize payload with a context default serializer # time=0.962ms
    
    # Subtest: reply.serialize should serialize payload with Fastify instance
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - reply.serialize should serialize payload with Fastify instance # time=56.171ms
    
    # Subtest: within an instance
        ok 1 - should not error
        # Subtest: custom serializer should be used
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - custom serializer should be used # time=36.023ms
        
        # Subtest: status code and content-type should be correct
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 3 - status code and content-type should be correct # time=30.815ms
        
        # Subtest: auto status code shoud be 200
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - auto status code shoud be 200 # time=28.381ms
        
        # Subtest: auto type shoud be text/plain
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - auto type shoud be text/plain # time=5.216ms
        
        # Subtest: redirect to `/` - 1
            1..1
            ok 1 - should be equal
        ok 6 - redirect to `/` - 1 # time=4.286ms
        
        # Subtest: redirect to `/` - 2
            1..1
            ok 1 - should be equal
        ok 7 - redirect to `/` - 2 # time=3.545ms
        
        # Subtest: redirect to `/` - 3
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 8 - redirect to `/` - 3 # time=7.766ms
        
        # Subtest: redirect to `/` - 4
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 9 - redirect to `/` - 4 # time=9.065ms
        
        # Subtest: redirect to `/` - 5
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
        ok 10 - redirect to `/` - 5 # time=4.588ms
        
        # Subtest: redirect to `/` - 6
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 11 - redirect to `/` - 6 # time=7.899ms
        
        # Subtest: redirect to `/` - 7
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 12 - redirect to `/` - 7 # time=8.328ms
        
        # Subtest: redirect to `/` - 8
            1..1
            ok 1 - should be equal
        ok 13 - redirect to `/` - 8 # time=3.544ms
        
        # Subtest: redirect to `/` - 9
            1..1
            ok 1 - should be equal
        ok 14 - redirect to `/` - 9 # time=3.775ms
        
        # Subtest: redirect with async function to `/` - 10
            1..1
            ok 1 - should be equal
        ok 15 - redirect with async function to `/` - 10 # time=3.871ms
        
        1..15
    ok 11 - within an instance # time=258.897ms
    
    # Subtest: buffer without content type should send a application/octet-stream and raw buffer
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 12 - buffer without content type should send a application/octet-stream and raw buffer # time=36.167ms
    
    # Subtest: buffer with content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 13 - buffer with content type should not send application/octet-stream # time=10.615ms
    
    # Subtest: stream with content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 14 - stream with content type should not send application/octet-stream # time=19.102ms
    
    # Subtest: stream without content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 15 - stream without content type should not send application/octet-stream # time=76.911ms
    
    # Subtest: stream using reply.raw.writeHead should return customize headers
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 16 - stream using reply.raw.writeHead should return customize headers # time=60.649ms
    
    # Subtest: plain string without content type should send a text/plain
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 17 - plain string without content type should send a text/plain # time=9.042ms
    
    # Subtest: plain string with content type should be sent unmodified
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - plain string with content type should be sent unmodified # time=26.457ms
    
    # Subtest: plain string with content type and custom serializer should be serialized
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 19 - plain string with content type and custom serializer should be serialized # time=15.677ms
    
    # Subtest: plain string with content type application/json should NOT be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 20 - plain string with content type application/json should NOT be serialized as json # time=9.853ms
    
    # Subtest: plain string with custom json content type should NOT be serialized as json
        1..19
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equivalent
    ok 21 - plain string with custom json content type should NOT be serialized as json # time=25.198ms
    
    # Subtest: non-string with content type application/json SHOULD be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 22 - non-string with content type application/json SHOULD be serialized as json # time=36.358ms
    
    # Subtest: non-string with custom json's content-type SHOULD be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 23 - non-string with custom json's content-type SHOULD be serialized as json # time=15.572ms
    
    # Subtest: non-string with custom json content type SHOULD be serialized as json
        1..16
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 24 - non-string with custom json content type SHOULD be serialized as json # time=18.854ms
    
    # Subtest: error object with a content type that is not application/json should work
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 25 - error object with a content type that is not application/json should work # time=8.601ms
    
    # Subtest: undefined payload should be sent as-is
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 26 - undefined payload should be sent as-is # time=12.089ms
    
    # Subtest: for HEAD method, no body should be sent but content-length should be
        1..11
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
    ok 27 - for HEAD method, no body should be sent but content-length should be # time=11.244ms
    
    # Subtest: reply.send(new NotFound()) should not invoke the 404 handler
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 28 - reply.send(new NotFound()) should not invoke the 404 handler # time=15.487ms
    
    # Subtest: reply can set multiple instances of same header
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - expect truthy value
        ok 4 - should be equivalent strictly
    ok 29 - reply can set multiple instances of same header # time=9.07ms
    
    # Subtest: reply.hasHeader returns correct values
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 30 - reply.hasHeader returns correct values # time=5.921ms
    
    # Subtest: reply.getHeader returns correct values
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
        ok 4 - should be equivalent strictly
    ok 31 - reply.getHeader returns correct values # time=24.431ms
    
    # Subtest: reply.getHeader returns raw header if there is not in the reply headers
        1..1
        ok 1 - should be equal
    ok 32 - reply.getHeader returns raw header if there is not in the reply headers # time=1.244ms
    
    # Subtest: reply.getHeaders returns correct values
        1..3
        ok 1 - should be equivalent strictly
        ok 2 - should be equivalent strictly
        ok 3 - should not error
    ok 33 - reply.getHeaders returns correct values # time=5.982ms
    
    # Subtest: reply.removeHeader can remove the value
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent strictly
        ok 5 - (unnamed test)
    ok 34 - reply.removeHeader can remove the value # time=7.911ms
    
    # Subtest: reply.header can reset the value
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent strictly
        ok 3 - (unnamed test)
    ok 35 - reply.header can reset the value # time=21.331ms
    
    # Subtest: reply.hasHeader computes raw and fastify headers
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - (unnamed test)
    ok 36 - reply.hasHeader computes raw and fastify headers # time=7.286ms
    
    # Subtest: Reply should handle JSON content type with a charset
        1..16
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should not error
        ok 16 - should be equal
    ok 37 - Reply should handle JSON content type with a charset # time=18.163ms
    
    # Subtest: Content type and charset set previously
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 38 - Content type and charset set previously # time=5.176ms
    
    # Subtest: .status() is an alias for .code()
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 39 - .status() is an alias for .code() # time=4.352ms
    
    # Subtest: .statusCode is getter and setter
        1..4
        ok 1 - 200
        ok 2 - 418
        ok 3 - should not error
        ok 4 - should be equal
    ok 40 - .statusCode is getter and setter # time=7.13ms
    
    # Subtest: reply.header setting multiple cookies as multiple Set-Cookie headers
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equivalent strictly
        ok 4 - should not error
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - should be equivalent strictly
    ok 41 - reply.header setting multiple cookies as multiple Set-Cookie headers # time=10.782ms
    
    # Subtest: should emit deprecation warning when trying to modify the reply.sent property
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 42 - should emit deprecation warning when trying to modify the reply.sent property # time=5.373ms
    
    # Subtest: should throw error when passing falsy value to reply.sent
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 43 - should throw error when passing falsy value to reply.sent # time=4.793ms
    
    # Subtest: should throw error when attempting to set reply.sent more than once
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 44 - should throw error when attempting to set reply.sent more than once # time=5.593ms
    
    # Subtest: should not throw error when attempting to set reply.sent if the underlining request was sent
        1..3
        ok 1 - expected to not throw
        ok 2 - should not error
        ok 3 - (unnamed test)
    ok 45 - should not throw error when attempting to set reply.sent if the underlining request was sent # time=8.152ms
    
    # Subtest: reply.getResponseTime() should return 0 before the timer is initialised on the reply by setting up response listeners
        1..1
        ok 1 - should be equal
    ok 46 - reply.getResponseTime() should return 0 before the timer is initialised on the reply by setting up response listeners # time=0.95ms
    
    # Subtest: reply.getResponseTime() should return a number greater than 0 after the timer is initialised on the reply by setting up response listeners
        1..1
        ok 1 - expect truthy value
    ok 47 - reply.getResponseTime() should return a number greater than 0 after the timer is initialised on the reply by setting up response listeners # time=4.742ms
    
    # Subtest: reply.getResponseTime() should return the time since a request started while inflight
        1..1
        ok 1 - should not be equal
    ok 48 - reply.getResponseTime() should return the time since a request started while inflight # time=4.024ms
    
    # Subtest: reply.getResponseTime() should return the same value after a request is finished
        1..1
        ok 1 - should be equal
    ok 49 - reply.getResponseTime() should return the same value after a request is finished # time=4.1ms
    
    # Subtest: reply should use the custom serializer
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 50 - reply should use the custom serializer # time=7.183ms
    
    # Subtest: reply should use the right serializer in encapsulated context
        1..9
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 51 - reply should use the right serializer in encapsulated context # time=10.862ms
    
    # Subtest: reply should use the right serializer in deep encapsulated context
        1..8
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 52 - reply should use the right serializer in deep encapsulated context # time=10.363ms
    
    # Subtest: reply should use the route serializer
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equal
    ok 53 - reply should use the route serializer # time=4.31ms
    
    # Subtest: cannot set the replySerializer when the server is running
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 54 - cannot set the replySerializer when the server is running # time=12.12ms
    
    # Subtest: reply should not call the custom serializer for errors and not found
        1..9
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 55 - reply should not call the custom serializer for errors and not found # time=8.47ms
    
    # Subtest: reply.then
        1..4
        # Subtest: without an error
            1..1
            ok 1 - fulfilled called
        ok 1 - without an error # time=10.823ms
        
        # Subtest: with an error
            1..1
            ok 1 - should be equal
        ok 2 - with an error # time=1.442ms
        
        # Subtest: with error but without reject callback
            1..1
            ok 1 - (unnamed test)
        ok 3 - with error but without reject callback # time=0.983ms
        
        # Subtest: with error, without reject callback, with logger
            1..1
            ok 1 - should be equal
        ok 4 - with error, without reject callback, with logger # time=1.53ms
        
    ok 56 - reply.then # time=22.392ms
    
    # Subtest: reply.sent should read from response.writableEnded if it is defined
        1..1
        ok 1 - should be equal
    ok 57 - reply.sent should read from response.writableEnded if it is defined # time=0.591ms
    
    # Subtest: redirect to an invalid URL should not crash the server
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        1..7
    ok 58 - redirect to an invalid URL should not crash the server # time=30.389ms
    
    # Subtest: invalid response headers should not crash the server
        ok 1 - only the first invalid header is logged
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 59 - invalid response headers should not crash the server # time=7.839ms
    
    # Subtest: invalid response headers when sending back an error
        ok 1 - only the first invalid header is logged
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 60 - invalid response headers when sending back an error # time=6.989ms
    
    # Subtest: invalid response headers and custom error handler
        ok 1 - custom error handler receives the error
        ok 2 - only the first invalid header is logged
        ok 3 - should be equal
        ok 4 - should be equivalent
        1..4
    ok 61 - invalid response headers and custom error handler # time=7.848ms
    
    1..61
    # time=1894.043ms
ok 59 - test/internals/reply.test.js # time=1894.043ms

# Subtest: test/internals/request-validate.test.js
    # Subtest: \#compileValidationSchema
        1..5
        # Subtest: Should return a function - Route without schema
            1..3
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
        ok 1 - Should return a function - Route without schema # time=163.748ms
        
        # Subtest: Should reuse the validate fn across multiple invocations - Route without schema
            1..16
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
            ok 4 - Are the same validate function
            ok 5 - type is Function
            ok 6 - expect truthy value
            ok 7 - expect falsey value
            ok 8 - Are the same validate function
            ok 9 - type is Function
            ok 10 - expect truthy value
            ok 11 - expect falsey value
            ok 12 - Are the same validate function
            ok 13 - type is Function
            ok 14 - expect truthy value
            ok 15 - expect falsey value
            ok 16 - should be equal
        ok 2 - Should reuse the validate fn across multiple invocations - Route without schema # time=53.099ms
        
        # Subtest: Should return a function - Route with schema
            1..3
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
        ok 3 - Should return a function - Route with schema # time=73.059ms
        
        # Subtest: Should use the custom validator compiler for the route
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equivalent
            ok 7 - expect truthy value
            ok 8 - should be equivalent
            ok 9 - expect truthy value
            ok 10 - should be equal
        ok 4 - Should use the custom validator compiler for the route # time=13.71ms
        
        # Subtest: Should instantiate a WeakMap when executed for first time
            1..5
            ok 1 - should be equal
            ok 2 - type is Function
            ok 3 - type is WeakMap
            ok 4 - type is Function
            ok 5 - type is WeakMap
        ok 5 - Should instantiate a WeakMap when executed for first time # time=37.6ms
        
    ok 1 - \#compileValidationSchema # time=362.352ms
    
    # Subtest: \#getValidationFunction
        1..4
        # Subtest: Should return a validation function
            1..1
            ok 1 - should be equal
        ok 1 - Should return a validation function # time=62.067ms
        
        # Subtest: Should return undefined if no schema compiled
            1..2
            ok 1 - expect falsey value
            ok 2 - expect falsey value
        ok 2 - Should return undefined if no schema compiled # time=6.006ms
        
        # Subtest: Should return the validation function from each HTTP part
            1..15
            ok 1 - expect truthy value
            ok 2 - expect truthy value
            ok 3 - expect falsey value
            ok 4 - expect truthy value
            ok 5 - expect truthy value
            ok 6 - expect falsey value
            ok 7 - expect truthy value
            ok 8 - expect truthy value
            ok 9 - expect truthy value
            ok 10 - expect truthy value
            ok 11 - expect falsey value
            ok 12 - should be equal
            ok 13 - expect truthy value
            ok 14 - expect falsey value
            ok 15 - should be equal
        ok 3 - Should return the validation function from each HTTP part # time=74.852ms
        
        # Subtest: Should not set a WeakMap if there is no schema
            1..1
            ok 1 - should be equal
        ok 4 - Should not set a WeakMap if there is no schema # time=9.305ms
        
    ok 2 - \#getValidationFunction # time=163ms
    
    # Subtest: \#validate
        1..7
        # Subtest: Should return true/false if input valid - Route without schema
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 1 - Should return true/false if input valid - Route without schema # time=54.138ms
        
        # Subtest: Should use the custom validator compiler for the route
            1..9
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equivalent
            ok 6 - should be equivalent
            ok 7 - expect truthy value
            ok 8 - expect truthy value
            ok 9 - should be equal
        ok 2 - Should use the custom validator compiler for the route # time=9.453ms
        
        # Subtest: Should return true/false if input valid - With Schema for Route defined
            1..8
            ok 1 - expect truthy value
            ok 2 - expect falsey value
            ok 3 - expect falsey value
            ok 4 - expect truthy value
            ok 5 - expect falsey value
            ok 6 - expect truthy value
            ok 7 - expect truthy value
            ok 8 - expect falsey value
        ok 3 - Should return true/false if input valid - With Schema for Route defined # time=99.39ms
        
        # Subtest: Should throw if missing validation fn for HTTP part and not schema provided
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 4 - Should throw if missing validation fn for HTTP part and not schema provided # time=12.448ms
        
        # Subtest: Should throw if missing validation fn for HTTP part and not valid schema provided
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 5 - Should throw if missing validation fn for HTTP part and not valid schema provided # time=30.199ms
        
        # Subtest: Should throw if invalid schema passed
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 6 - Should throw if invalid schema passed # time=20.603ms
        
        # Subtest: Should set a WeakMap if compiling the very first schema
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
        ok 7 - Should set a WeakMap if compiling the very first schema # time=32.925ms
        
    ok 3 - \#validate # time=270.668ms
    
    # Subtest: Nested Context
        1..1
        # Subtest: Level_1
            1..3
            # Subtest: \#compileValidationSchema
                1..4
                # Subtest: Should return a function - Route without schema
                    1..3
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                ok 1 - Should return a function - Route without schema # time=78.045ms
                
                # Subtest: Should reuse the validate fn across multiple invocations - Route without schema
                    1..16
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                    ok 4 - Are the same validate function
                    ok 5 - type is Function
                    ok 6 - expect truthy value
                    ok 7 - expect falsey value
                    ok 8 - Are the same validate function
                    ok 9 - type is Function
                    ok 10 - expect truthy value
                    ok 11 - expect falsey value
                    ok 12 - Are the same validate function
                    ok 13 - type is Function
                    ok 14 - expect truthy value
                    ok 15 - expect falsey value
                    ok 16 - should be equal
                ok 2 - Should reuse the validate fn across multiple invocations - Route without schema # time=59.493ms
                
                # Subtest: Should return a function - Route with schema
                    1..3
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                ok 3 - Should return a function - Route with schema # time=47.225ms
                
                # Subtest: Should use the custom validator compiler for the route
                    1..10
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - should be equal
                    ok 5 - should be equal
                    ok 6 - should be equivalent
                    ok 7 - expect truthy value
                    ok 8 - should be equivalent
                    ok 9 - expect truthy value
                    ok 10 - should be equal
                ok 4 - Should use the custom validator compiler for the route # time=9.213ms
                
            ok 1 - \#compileValidationSchema # time=205.895ms
            
            # Subtest: \#getValidationFunction
                1..6
                # Subtest: Should return a validation function
                    1..1
                    ok 1 - should be equal
                ok 1 - Should return a validation function # time=55.936ms
                
                # Subtest: Should return undefined if no schema compiled
                    1..1
                    ok 1 - expect falsey value
                ok 2 - Should return undefined if no schema compiled # time=4.821ms
                
                # Subtest: Should return the validation function from each HTTP part
                    1..15
                    ok 1 - expect truthy value
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                    ok 4 - expect truthy value
                    ok 5 - expect truthy value
                    ok 6 - expect falsey value
                    ok 7 - expect truthy value
                    ok 8 - expect truthy value
                    ok 9 - expect truthy value
                    ok 10 - expect truthy value
                    ok 11 - expect falsey value
                    ok 12 - should be equal
                    ok 13 - expect truthy value
                    ok 14 - expect falsey value
                    ok 15 - should be equal
                ok 3 - Should return the validation function from each HTTP part # time=41.745ms
                
                # Subtest: Should return a validation function - nested
                    1..6
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - expect falsey value
                    ok 5 - should be equal
                    ok 6 - should be equal
                ok 4 - Should return a validation function - nested # time=10.186ms
                
                # Subtest: Should return undefined if no schema compiled - nested
                    1..3
                    ok 1 - should be equal
                    ok 2 - expect falsey value
                    ok 3 - should be equal
                ok 5 - Should return undefined if no schema compiled - nested # time=13.496ms
                
                # Subtest: Should per-route defined validation compiler
                    1..5
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should not be equal
                    ok 4 - should be equal
                    ok 5 - should be equal
                ok 6 - Should per-route defined validation compiler # time=18.547ms
                
            ok 2 - \#getValidationFunction # time=157.785ms
            
            # Subtest: \#validate
                1..3
                # Subtest: Should return true/false if input valid - Route without schema
                    1..2
                    ok 1 - expect falsey value
                    ok 2 - expect truthy value
                ok 1 - Should return true/false if input valid - Route without schema # time=47.536ms
                
                # Subtest: Should use the custom validator compiler for the route
                    1..10
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - should be equal
                    ok 5 - should be equivalent
                    ok 6 - should be equivalent
                    ok 7 - expect truthy value
                    ok 8 - expect truthy value
                    ok 9 - should be equal
                    ok 10 - should be equal
                ok 2 - Should use the custom validator compiler for the route # time=9.493ms
                
                # Subtest: Should return true/false if input valid - With Schema for Route defined and scoped validator compiler
                    1..13
                    ok 1 - expect truthy value
                    ok 2 - expect falsey value
                    ok 3 - expect falsey value
                    ok 4 - expect truthy value
                    ok 5 - expect falsey value
                    ok 6 - expect truthy value
                    ok 7 - expect truthy value
                    ok 8 - expect falsey value
                    ok 9 - should be equal
                    ok 10 - should be equal
                    ok 11 - should be equal
                    ok 12 - should be equal
                    ok 13 - should be equal
                ok 3 - Should return true/false if input valid - With Schema for Route defined and scoped validator compiler # time=84.386ms
                
            ok 3 - \#validate # time=153.171ms
            
        ok 1 - Level_1 # time=524.608ms
        
    ok 4 - Nested Context # time=529.826ms
    
    1..4
    # time=1342.379ms
ok 60 - test/internals/request-validate.test.js # time=1342.379ms

# Subtest: test/internals/request.test.js
    # Subtest: Regular request
        ok 1 - type is Request
        ok 2 - type is Function
        ok 3 - type is Function
        ok 4 - type is Function
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        1..19
    ok 1 - Regular request # time=14.356ms
    
    # Subtest: Regular request - hostname from authority
        1..2
        ok 1 - type is Request
        ok 2 - should be equal
    ok 2 - Regular request - hostname from authority # time=1.482ms
    
    # Subtest: Regular request - host header has precedence over authority
        1..2
        ok 1 - type is Request
        ok 2 - should be equal
    ok 3 - Regular request - host header has precedence over authority # time=0.922ms
    
    # Subtest: Request with trust proxy
        1..18
        ok 1 - type is _Request
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - type is Function
        ok 17 - type is Function
        ok 18 - type is Function
    ok 4 - Request with trust proxy # time=12.344ms
    
    # Subtest: Request with trust proxy, encrypted
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 5 - Request with trust proxy, encrypted # time=1.067ms
    
    # Subtest: Request with trust proxy - no x-forwarded-host header
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 6 - Request with trust proxy - no x-forwarded-host header # time=0.892ms
    
    # Subtest: Request with trust proxy - no x-forwarded-host header and fallback to authority
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 7 - Request with trust proxy - no x-forwarded-host header and fallback to authority # time=1.643ms
    
    # Subtest: Request with trust proxy - x-forwarded-host header has precedence over host
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 8 - Request with trust proxy - x-forwarded-host header has precedence over host # time=1.167ms
    
    # Subtest: Request with trust proxy - handles multiple entries in x-forwarded-host/proto
        1..3
        ok 1 - type is _Request
        ok 2 - should be equal
        ok 3 - should be equal
    ok 9 - Request with trust proxy - handles multiple entries in x-forwarded-host/proto # time=1.27ms
    
    # Subtest: Request with trust proxy - plain
        1..1
        ok 1 - should be equivalent
    ok 10 - Request with trust proxy - plain # time=1.012ms
    
    # Subtest: Request with undefined socket
        1..18
        ok 1 - type is Request
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equivalent
        ok 16 - type is Function
        ok 17 - type is Function
        ok 18 - type is Function
    ok 11 - Request with undefined socket # time=9.676ms
    
    # Subtest: Request with trust proxy and undefined socket
        1..1
        ok 1 - should be equivalent
    ok 12 - Request with trust proxy and undefined socket # time=1.598ms
    
    1..12
    # time=123.08ms
ok 61 - test/internals/request.test.js # time=123.08ms

# Subtest: test/internals/server.test.js
    # Subtest: start listening
        ok 1 - server started
        1..1
    ok 1 - start listening # time=42.704ms
    
    # Subtest: DNS errors does not stop the main server on localhost - promise interface
        ok 1 - server started
        1..1
    ok 2 - DNS errors does not stop the main server on localhost - promise interface # time=17.605ms
    
    # Subtest: DNS errors does not stop the main server on localhost - callback interface
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 3 - DNS errors does not stop the main server on localhost - callback interface # time=33.903ms
    
    # Subtest: DNS returns empty binding
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 4 - DNS returns empty binding # time=22.518ms
    
    # Subtest: DNS returns more than two binding
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 5 - DNS returns more than two binding # time=15.539ms
    
    1..5
    # time=141.437ms
ok 62 - test/internals/server.test.js # time=141.437ms

# Subtest: test/internals/validation.test.js
    # Subtest: Symbols
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 1 - Symbols # time=8.616ms
    
    # Subtest: compileSchemasForValidation schema - missing schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - compileSchemasForValidation schema - missing schema # time=1.939ms
    
    # Subtest: compileSchemasForValidation schema - missing output schema
        1..1
        ok 1 - should be equal
    ok 3 - compileSchemasForValidation schema - missing output schema # time=1.576ms
    
    # Subtest: compileSchemasForSerialization schema - missing schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - compileSchemasForSerialization schema - missing schema # time=1.328ms
    
    # Subtest: compileSchemasForSerialization schema - missing output schema
        1..1
        ok 1 - should be equal
    ok 5 - compileSchemasForSerialization schema - missing output schema # time=0.61ms
    
    # Subtest: build schema - output schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 6 - build schema - output schema # time=71.423ms
    
    # Subtest: build schema - payload schema
        1..1
        ok 1 - should be equal
    ok 7 - build schema - payload schema # time=2.512ms
    
    # Subtest: build schema - avoid repeated normalize schema
        1..3
        ok 1 - should not be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 8 - build schema - avoid repeated normalize schema # time=1.788ms
    
    # Subtest: build schema - query schema
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 9 - build schema - query schema # time=2.681ms
    
    # Subtest: build schema - query schema abbreviated
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 10 - build schema - query schema abbreviated # time=2.351ms
    
    # Subtest: build schema - querystring schema
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 11 - build schema - querystring schema # time=3.302ms
    
    # Subtest: build schema - querystring schema abbreviated
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 12 - build schema - querystring schema abbreviated # time=2.444ms
    
    # Subtest: build schema - must throw if querystring and query schema exist
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 13 - build schema - must throw if querystring and query schema exist # time=1.309ms
    
    # Subtest: build schema - params schema
        1..1
        ok 1 - should be equal
    ok 14 - build schema - params schema # time=2.145ms
    
    # Subtest: build schema - headers schema
        1..1
        ok 1 - should be equal
    ok 15 - build schema - headers schema # time=2.241ms
    
    # Subtest: build schema - headers are lowercase
        1..1
        ok 1 - lowercase content-type exists
    ok 16 - build schema - headers are lowercase # time=0.84ms
    
    # Subtest: build schema - headers are not lowercased in case of custom object
        1..1
        ok 1 - type is Headers
    ok 17 - build schema - headers are not lowercased in case of custom object # time=0.699ms
    
    # Subtest: build schema - uppercased headers are not included
        1..1
        ok 1 - uppercase does not exist
    ok 18 - build schema - uppercased headers are not included # time=0.699ms
    
    1..18
    # time=196.394ms
ok 63 - test/internals/validation.test.js # time=196.394ms

# Subtest: test/keepAliveTimeout.test.js
    # Subtest: keepAliveTimeout
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not be equal
        ok 6 - should be equal
    ok 1 - keepAliveTimeout # time=44.912ms
    
    1..1
    # time=54.76ms
ok 64 - test/keepAliveTimeout.test.js # time=54.76ms

# Subtest: test/listen.deprecated.test.js
    # Subtest: listen accepts a port and a callback
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 1 - listen accepts a port and a callback # time=32.258ms
    
    # Subtest: listen accepts a port and a callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 2 - listen accepts a port and a callback with (err, address) # time=6.664ms
    
    # Subtest: listen accepts a port, address, and callback
        1..1
        ok 1 - should not error
    ok 3 - listen accepts a port, address, and callback # time=19.526ms
    
    # Subtest: listen accepts options, backlog and a callback
        1..1
        ok 1 - should not error
    ok 4 - listen accepts options, backlog and a callback # time=9.243ms
    
    # Subtest: listen accepts options (no port), backlog and a callback
        1..1
        ok 1 - should not error
    ok 5 - listen accepts options (no port), backlog and a callback # time=13.133ms
    
    # Subtest: listen accepts options (no host), backlog and a callback
        1..1
        ok 1 - should not error
    ok 6 - listen accepts options (no host), backlog and a callback # time=4.684ms
    
    # Subtest: listen accepts options (no port, no host), backlog and a callback
        1..1
        ok 1 - should not error
    ok 7 - listen accepts options (no port, no host), backlog and a callback # time=17.898ms
    
    # Subtest: listen accepts a port, address and a callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 8 - listen accepts a port, address and a callback with (err, address) # time=12.139ms
    
    # Subtest: listen accepts a port, address, backlog and callback
        1..1
        ok 1 - should not error
    ok 9 - listen accepts a port, address, backlog and callback # time=7.065ms
    
    # Subtest: listen accepts a port, address, backlog and callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 10 - listen accepts a port, address, backlog and callback with (err, address) # time=6.554ms
    
    # Subtest: listen without callback (port zero)
        1..1
        ok 1 - should be equal
    ok 11 - listen without callback (port zero) # time=19.597ms
    
    # Subtest: listen without callback (port not given)
        1..1
        ok 1 - should be equal
    ok 12 - listen without callback (port not given) # time=12.639ms
    
    # Subtest: listen null without callback with (address)
        1..1
        ok 1 - should be equal
    ok 13 - listen null without callback with (address) # time=5.668ms
    
    # Subtest: listen without port without callback with (address)
        1..1
        ok 1 - should be equal
    ok 14 - listen without port without callback with (address) # time=4.419ms
    
    # Subtest: listen with undefined without callback with (address)
        1..1
        ok 1 - should be equal
    ok 15 - listen with undefined without callback with (address) # time=4.371ms
    
    # Subtest: listen when firstArg is string(pipe) and without backlog
        1..1
        ok 1 - should be equal
    ok 16 - listen when firstArg is string(pipe) and without backlog # time=31.879ms
    
    # Subtest: listen when firstArg is string(pipe) and with backlog
        1..1
        ok 1 - should be equal
    ok 17 - listen when firstArg is string(pipe) and with backlog # time=7.306ms
    
    # Subtest: listen when firstArg is { path: string(pipe) } and with backlog and callback
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 18 - listen when firstArg is { path: string(pipe) } and with backlog and callback # time=3.942ms
    
    1..18
    # time=362.13ms
ok 65 - test/listen.deprecated.test.js # time=362.13ms

# Subtest: test/listen.test.js
    # Subtest: listen works without arguments
        ok 1 - should be equal
        ok 2 - expect truthy value
        1..2
    ok 1 - listen works without arguments # time=32.553ms
    
    # Subtest: Async/await listen with arguments
        1..1
        ok 1 - should be equal
    ok 2 - Async/await listen with arguments # time=5.525ms
    
    # Subtest: Promise listen with arguments
        1..1
        ok 1 - should be equal
    ok 3 - Promise listen with arguments # time=21.739ms
    
    # Subtest: listen accepts a callback
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 4 - listen accepts a callback # time=12.417ms
    
    # Subtest: listen accepts options and a callback
        1..1
        ok 1 - should not error
    ok 5 - listen accepts options and a callback # time=4.973ms
    
    # Subtest: listen after Promise.resolve()
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 6 - listen after Promise.resolve() # time=5ms
    
    # Subtest: register after listen using Promise.resolve()
        1..1
        ok 1 - resolved
    ok 7 - register after listen using Promise.resolve() # time=11.498ms
    
    # Subtest: double listen errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
    ok 8 - double listen errors # time=5.446ms
    
    # Subtest: double listen errors callback with (err, address)
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 9 - double listen errors callback with (err, address) # time=6.063ms
    
    # Subtest: listen twice on the same port
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 10 - listen twice on the same port # time=35.831ms
    
    # Subtest: listen twice on the same port callback with (err, address)
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 11 - listen twice on the same port callback with (err, address) # time=27.581ms
    
    # Subtest: listen on socket
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent strictly
        ok 3 - should be equal
    ok 12 - listen on socket # time=15.936ms
    
    # Subtest: listen without callback with (address)
        1..1
        ok 1 - should be equal
    ok 13 - listen without callback with (address) # time=5.475ms
    
    # Subtest: double listen without callback rejects
        1..1
        ok 1 - expect truthy value
    ok 14 - double listen without callback rejects # time=28.125ms
    
    # Subtest: double listen without callback with (address)
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 15 - double listen without callback with (address) # time=6.514ms
    
    # Subtest: listen twice on the same port without callback rejects
        1..1
        ok 1 - expect truthy value
    ok 16 - listen twice on the same port without callback rejects # time=7.052ms
    
    # Subtest: listen twice on the same port without callback rejects with (address)
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 17 - listen twice on the same port without callback rejects with (address) # time=9.78ms
    
    # Subtest: listen on invalid port without callback rejects
        ok 1 - expect truthy value
        1..1
    ok 18 - listen on invalid port without callback rejects # time=4.057ms
    
    # Subtest: listen logs the port as info
        1..1
        ok 1 - expect truthy value
    ok 19 - listen logs the port as info # time=3.61ms
    
    # Subtest: listen on localhost binds IPv4 and IPv6 - promise interface
        1..2
        ok 1 - should be equal
        ok 2 - should be equivalent
    ok 20 - listen on localhost binds IPv4 and IPv6 - promise interface # time=26.973ms
    
    # Subtest: listen on localhost binds to all interfaces (both IPv4 and IPv6 if present) - callback interface
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 21 - listen on localhost binds to all interfaces (both IPv4 and IPv6 if present) - callback interface # time=11.778ms
    
    # Subtest: addresses getter
        1..4
        ok 1 - before ready
        ok 2 - after ready
        ok 3 - after listen
        ok 4 - after close
    ok 22 - addresses getter # time=9.612ms
    
    1..22
    # time=400.105ms
ok 66 - test/listen.test.js # time=400.105ms

# Subtest: test/logger.test.js
    # Subtest: defaults to info level
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
        ok 13 - responseTime is defined
        1..13
    ok 1 - defaults to info level # time=60.52ms
    
    # Subtest: test log stream
        1..12
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
    ok 2 - test log stream # time=26.297ms
    
    # Subtest: test error log stream
        1..11
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - reqId is defined
        ok 9 - res is defined
        ok 10 - message is set
        ok 11 - statusCode is 500
    ok 3 - test error log stream # time=68.583ms
    
    # Subtest: can use external logger instance
        1..6
        ok 1 - "Server listening at http://127.0.0.1:39959" dont match "/^Server listening at /"
        ok 2 - should not error
        ok 3 - "incoming request" dont match "/^incoming request$/"
        ok 4 - expect truthy value
        ok 5 - "log success" dont match "/^log success$/"
        ok 6 - "request completed" dont match "/^request completed$/"
    ok 4 - can use external logger instance # time=34.138ms
    
    # Subtest: can use external logger instance with custom serializer
        1..6
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - expect truthy value
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 5 - can use external logger instance with custom serializer # time=16.696ms
    
    # Subtest: expose the logger
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equivalent
    ok 6 - expose the logger # time=2.992ms
    
    # Subtest: The request id header key can be customized
        1..9
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - message is set
        ok 6 - should be equal
        ok 7 - message is set
        ok 8 - should be equal
        ok 9 - message is set
    ok 7 - The request id header key can be customized # time=32.255ms
    
    # Subtest: The request id header key can be customized along with a custom id generator
        1..12
        ok 1 - should match pattern provided
        ok 2 - should be equal
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should be equal
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
    ok 8 - The request id header key can be customized along with a custom id generator # time=30.197ms
    
    # Subtest: The request id log label can be changed
        1..6
        ok 1 - should match pattern provided
        ok 2 - should be equal
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should not error
        ok 6 - should be equal
    ok 9 - The request id log label can be changed # time=9.657ms
    
    # Subtest: The logger should accept custom serializer
        1..9
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - req is defined
        ok 4 - message is set
        ok 5 - custom req serializer is use
        ok 6 - expect truthy value
        ok 7 - res is defined
        ok 8 - message is set
        ok 9 - default res serializer is use
    ok 10 - The logger should accept custom serializer # time=15.419ms
    
    # Subtest: reply.send logs an error if called twice in a row
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
    ok 11 - reply.send logs an error if called twice in a row # time=40.717ms
    
    # Subtest: logger can be silented
        1..17
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equivalent
        ok 10 - should be equivalent
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equivalent
        ok 14 - should be equivalent
        ok 15 - should be equivalent
        ok 16 - should be equivalent
        ok 17 - should be equivalent
    ok 12 - logger can be silented # time=8.318ms
    
    # Subtest: Should set a custom logLevel for a plugin
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equivalent
    ok 13 - Should set a custom logLevel for a plugin # time=54.958ms
    
    # Subtest: Should set a custom logSerializers for a plugin
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 14 - Should set a custom logSerializers for a plugin # time=21.345ms
    
    # Subtest: Should set a custom logLevel for every plugin
        1..18
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equivalent
        ok 15 - should not error
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equivalent
    ok 15 - Should set a custom logLevel for every plugin # time=50.253ms
    
    # Subtest: Should set a custom logSerializers for every plugin
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 16 - Should set a custom logSerializers for every plugin # time=18.239ms
    
    # Subtest: Should override serializers from route
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 17 - Should override serializers from route # time=8.432ms
    
    # Subtest: Should override serializers from plugin
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 18 - Should override serializers from plugin # time=25.062ms
    
    # Subtest: Should use serializers from plugin and route
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 19 - Should use serializers from plugin and route # time=10.496ms
    
    # Subtest: Should use serializers from instance fastify and route
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 20 - Should use serializers from instance fastify and route # time=7.404ms
    
    # Subtest: Should use serializers inherit from contexts
        1..5
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 21 - Should use serializers inherit from contexts # time=8.563ms
    
    # Subtest: Should increase the log level for a specific plugin
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 22 - Should increase the log level for a specific plugin # time=7.081ms
    
    # Subtest: Should set the log level for the customized 404 handler
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 23 - Should set the log level for the customized 404 handler # time=6.9ms
    
    # Subtest: Should set the log level for the customized 500 handler
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 24 - Should set the log level for the customized 500 handler # time=7.118ms
    
    # Subtest: Should set a custom log level for a specific route
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equivalent
    ok 25 - Should set a custom log level for a specific route # time=9.037ms
    
    # Subtest: The default 404 handler logs the incoming request
        1..5
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
    ok 26 - The default 404 handler logs the incoming request # time=6.153ms
    
    # Subtest: should serialize request and response
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 27 - should serialize request and response # time=6.499ms
    
    # Subtest: Wrap IPv6 address in listening log message
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 28 - Wrap IPv6 address in listening log message # time=4.181ms
    
    # Subtest: Do not wrap IPv4 address
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 29 - Do not wrap IPv4 address # time=3.915ms
    
    # Subtest: file option
        1..13
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - listen at log message is ok
        ok 4 - reqId is defined
        ok 5 - req is defined
        ok 6 - message is set
        ok 7 - method is get
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
        ok 13 - responseTime is defined
    ok 30 - file option # time=17.817ms
    
    # Subtest: should log the error if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 31 - should log the error if no error handler is defined # time=11.793ms
    
    # Subtest: should log as info if error status code >= 400 and < 500 if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 32 - should log as info if error status code >= 400 and < 500 if no error handler is defined # time=11.963ms
    
    # Subtest: should log as error if error status code >= 500 if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 33 - should log as error if error status code >= 500 if no error handler is defined # time=36.537ms
    
    # Subtest: should not log the error if error handler is defined and it does not error
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - level is correct
        ok 7 - message is set
        ok 8 - status code is set
    ok 34 - should not log the error if error handler is defined and it does not error # time=15.307ms
    
    # Subtest: should not rely on raw request to log errors
        1..7
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - status code is set
    ok 35 - should not rely on raw request to log errors # time=9.46ms
    
    # Subtest: should redact the authorization header if so specified
        1..7
        ok 1 - listen at log message is ok
        ok 2 - should not error
        ok 3 - authorization is redacted
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 36 - should redact the authorization header if so specified # time=40.615ms
    
    # Subtest: should not log incoming request and outgoing response when disabled
        1..3
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should be equivalent
    ok 37 - should not log incoming request and outgoing response when disabled # time=15.497ms
    
    # Subtest: should not log incoming request and outgoing response for 404 onBadUrl when disabled
        1..1
        ok 1 - should be equivalent
    ok 38 - should not log incoming request and outgoing response for 404 onBadUrl when disabled # time=11.424ms
    
    # Subtest: should pass when using unWritable props in the logger option
        1..1
        ok 1 - (unnamed test)
    ok 39 - should pass when using unWritable props in the logger option # time=7.592ms
    
    # Subtest: should be able to use a custom logger
        1..1
        ok 1 - (unnamed test)
    ok 40 - should be able to use a custom logger # time=10.171ms
    
    # Subtest: should create a default logger if provided one is invalid
        1..1
        ok 1 - (unnamed test)
    ok 41 - should create a default logger if provided one is invalid # time=1.797ms
    
    # Subtest: should not throw error when serializing custom req
        1..1
        ok 1 - should be equivalent
    ok 42 - should not throw error when serializing custom req # time=2.096ms
    
    1..42
    # time=949.464ms
ok 67 - test/logger.test.js # time=949.464ms

# Subtest: test/maxRequestsPerSocket.test.js
    # Subtest: maxRequestsPerSocket on node version >= 16.10.0
        1..8
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should match pattern provided
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
    ok 1 - maxRequestsPerSocket on node version >= 16.10.0 # time=78.19ms
    
    # Subtest: maxRequestsPerSocket zero should behave same as null
        1..10
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should match pattern provided
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
        ok 9 - should match pattern provided
        ok 10 - should match pattern provided
    ok 2 - maxRequestsPerSocket zero should behave same as null # time=17.215ms
    
    # Subtest: maxRequestsPerSocket should be set
        1..1
        ok 1 - should be equivalent
    ok 3 - maxRequestsPerSocket should be set # time=2.052ms
    
    # Subtest: maxRequestsPerSocket should 0
        1..1
        ok 1 - should be equivalent
    ok 4 - maxRequestsPerSocket should 0 # time=1.391ms
    
    # Subtest: requestTimeout passed to server
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 5 - requestTimeout passed to server # time=14.362ms
    
    1..5
    # time=123.966ms
ok 68 - test/maxRequestsPerSocket.test.js # time=123.966ms

# Subtest: test/middleware.test.js
    # Subtest: Should be able to override the default use API
        1..1
        ok 1 - should be equal
    ok 1 - Should be able to override the default use API # time=15.424ms
    
    # Subtest: Cannot decorate use twice
        1..1
        ok 1 - expect truthy value
    ok 2 - Cannot decorate use twice # time=2.693ms
    
    # Subtest: Encapsulation works
        1..1
        ok 1 - should be equal
    ok 3 - Encapsulation works # time=12.464ms
    
    1..3
    # time=43.371ms
ok 69 - test/middleware.test.js # time=43.371ms

# Subtest: test/noop-set.test.js
    # Subtest: does a lot of nothing
        ok 1 - type is object
        ok 2 - should be equal
        1..2
    ok 1 - does a lot of nothing # time=7.524ms
    
    1..1
    # time=13.269ms
ok 70 - test/noop-set.test.js # time=13.269ms

# Subtest: test/nullable-validation.test.js
    # Subtest: nullable string
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 1 - nullable string # time=148.128ms
    
    # Subtest: object or null body
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 2 - object or null body # time=62.605ms
    
    # Subtest: nullable body
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 3 - nullable body # time=104.785ms
    
    # Subtest: Nullable body with 204
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 4 - Nullable body with 204 # time=48.302ms
    
    1..4
    # time=371.673ms
ok 71 - test/nullable-validation.test.js # time=371.673ms

# Subtest: test/options.error-handler.test.js
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - OPTIONS can be created # time=9.61ms
    
    # Subtest: OPTIONS without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - OPTIONS without schema can be created # time=2.301ms
    
    # Subtest: OPTIONS with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - OPTIONS with body and querystring # time=1.836ms
    
    # Subtest: OPTIONS with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - OPTIONS with bodyLimit option # time=2.025ms
    
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - OPTIONS can be created # time=5.685ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - OPTIONS - correctly replies # time=72.643ms
    
    # Subtest: OPTIONS - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - OPTIONS - correctly replies with very large body # time=10.244ms
    
    # Subtest: OPTIONS - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - OPTIONS - correctly replies if the content type has the charset # time=6.098ms
    
    # Subtest: OPTIONS without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - OPTIONS without schema - correctly replies # time=5.548ms
    
    # Subtest: OPTIONS with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - OPTIONS with body and querystring - correctly replies # time=5.784ms
    
    # Subtest: OPTIONS with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - OPTIONS with no body - correctly replies # time=27.363ms
    
    # Subtest: OPTIONS returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - OPTIONS returns 415 - incorrect media type if body is not json # time=4.249ms
    
    # Subtest: OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text # time=5.574ms
    
    # Subtest: OPTIONS returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 14 - OPTIONS returns 400 - Bad Request # time=7.991ms
    
    # Subtest: OPTIONS returns 413 - Payload Too Large
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - OPTIONS returns 413 - Payload Too Large # time=7.038ms
    
    # Subtest: OPTIONS should fail with empty body and application/json content-type
        1..0
    ok 16 - OPTIONS should fail with empty body and application/json content-type # time=0.642ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - OPTIONS - correctly replies # time=4.729ms
    
    # Subtest: OPTIONS - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - OPTIONS - 400 on bad parameters # time=5.404ms
    
    # Subtest: OPTIONS - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - OPTIONS - input-validation coerce # time=4.47ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - OPTIONS - input-validation custom schema compiler # time=4.493ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - OPTIONS - input-validation joi schema compiler ok # time=6.359ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - OPTIONS - input-validation joi schema compiler ko # time=6.645ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - OPTIONS - input-validation yup schema compiler ok # time=6.6ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - OPTIONS - input-validation yup schema compiler ko # time=5.796ms
    
    # Subtest: OPTIONS - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - OPTIONS - input-validation instance custom schema compiler encapsulated # time=4.114ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 26 - OPTIONS - input-validation custom schema compiler encapsulated # time=4.158ms
    
    ok 27 - type is object
    ok 28 - type is Request
    ok 29 - type is object
    ok 30 - type is Request
    ok 31 - type is object
    ok 32 - type is Request
    ok 33 - type is object
    ok 34 - type is Request
    ok 35 - type is object
    ok 36 - type is Request
    1..36
    # time=1298.075ms
ok 72 - test/options.error-handler.test.js # time=1298.075ms

# Subtest: test/options.test.js
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - OPTIONS can be created # time=9.569ms
    
    # Subtest: OPTIONS without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - OPTIONS without schema can be created # time=1.962ms
    
    # Subtest: OPTIONS with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - OPTIONS with body and querystring # time=1.498ms
    
    # Subtest: OPTIONS with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - OPTIONS with bodyLimit option # time=1.623ms
    
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - OPTIONS can be created # time=4.87ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - OPTIONS - correctly replies # time=62.066ms
    
    # Subtest: OPTIONS - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - OPTIONS - correctly replies with very large body # time=10.146ms
    
    # Subtest: OPTIONS - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - OPTIONS - correctly replies if the content type has the charset # time=6.367ms
    
    # Subtest: OPTIONS without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - OPTIONS without schema - correctly replies # time=6.098ms
    
    # Subtest: OPTIONS with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - OPTIONS with body and querystring - correctly replies # time=6.255ms
    
    # Subtest: OPTIONS with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - OPTIONS with no body - correctly replies # time=34.495ms
    
    # Subtest: OPTIONS returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - OPTIONS returns 415 - incorrect media type if body is not json # time=4.253ms
    
    # Subtest: OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text # time=5.414ms
    
    # Subtest: OPTIONS returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 14 - OPTIONS returns 400 - Bad Request # time=7.872ms
    
    # Subtest: OPTIONS returns 413 - Payload Too Large
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - OPTIONS returns 413 - Payload Too Large # time=7.299ms
    
    # Subtest: OPTIONS should fail with empty body and application/json content-type
        1..0
    ok 16 - OPTIONS should fail with empty body and application/json content-type # time=0.601ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - OPTIONS - correctly replies # time=4.753ms
    
    # Subtest: OPTIONS - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - OPTIONS - 400 on bad parameters # time=5.141ms
    
    # Subtest: OPTIONS - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - OPTIONS - input-validation coerce # time=4.409ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - OPTIONS - input-validation custom schema compiler # time=4.658ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - OPTIONS - input-validation joi schema compiler ok # time=6.378ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - OPTIONS - input-validation joi schema compiler ko # time=6.597ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - OPTIONS - input-validation yup schema compiler ok # time=6.714ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - OPTIONS - input-validation yup schema compiler ko # time=5.847ms
    
    # Subtest: OPTIONS - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - OPTIONS - input-validation instance custom schema compiler encapsulated # time=4.282ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 26 - OPTIONS - input-validation custom schema compiler encapsulated # time=4.404ms
    
    1..26
    # time=1100.638ms
ok 73 - test/options.test.js # time=1100.638ms

# Subtest: test/output-validation.test.js
    # Subtest: shorthand - output string
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - output string # time=12.047ms
    
    # Subtest: shorthand - output number
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - output number # time=2.909ms
    
    # Subtest: wrong object for schema - output
        1..1
        ok 1 - (unnamed test)
    ok 3 - wrong object for schema - output # time=2.779ms
    
    # Subtest: empty response
        1..1
        ok 1 - (unnamed test)
    ok 4 - empty response # time=2.091ms
    
    # Subtest: unlisted response code
        1..1
        ok 1 - (unnamed test)
    ok 5 - unlisted response code # time=1.941ms
    
    ok 6 - should not error
    # Subtest: shorthand - string get ok
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - shorthand - string get ok # time=37.782ms
    
    # Subtest: shorthand - number get ok
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 8 - shorthand - number get ok # time=6.864ms
    
    # Subtest: shorthand - wrong-object-for-schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 9 - shorthand - wrong-object-for-schema # time=7.073ms
    
    # Subtest: shorthand - empty
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - shorthand - empty # time=4.331ms
    
    # Subtest: shorthand - 400
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - shorthand - 400 # time=5.288ms
    
    1..11
    # time=201.339ms
ok 74 - test/output-validation.test.js # time=201.339ms

# Subtest: test/patch.error-handler.test.js
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PATCH can be created # time=10.022ms
    
    # Subtest: PATCH without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PATCH without schema can be created # time=2.29ms
    
    # Subtest: PATCH with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PATCH with body and querystring # time=1.861ms
    
    # Subtest: PATCH with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PATCH with bodyLimit option # time=2.049ms
    
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - PATCH can be created # time=2.665ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - PATCH - correctly replies # time=70.799ms
    
    # Subtest: PATCH - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - PATCH - correctly replies with very large body # time=14.833ms
    
    # Subtest: PATCH - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - PATCH - correctly replies if the content type has the charset # time=6.18ms
    
    # Subtest: PATCH without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - PATCH without schema - correctly replies # time=6.01ms
    
    # Subtest: PATCH with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - PATCH with body and querystring - correctly replies # time=6.58ms
    
    # Subtest: PATCH with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - PATCH with no body - correctly replies # time=31.303ms
    
    # Subtest: PATCH returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - PATCH returns 415 - incorrect media type if body is not json # time=6.804ms
    
    # Subtest: PATCH returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 13 - PATCH returns 400 - Bad Request # time=8.895ms
    
    # Subtest: PATCH returns 413 - Payload Too Large
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 14 - PATCH returns 413 - Payload Too Large # time=16.891ms
    
    # Subtest: PATCH should fail with empty body and application/json content-type
        1..12
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
    ok 15 - PATCH should fail with empty body and application/json content-type # time=23.491ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - PATCH - correctly replies # time=8.729ms
    
    # Subtest: PATCH - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - PATCH - 400 on bad parameters # time=5.516ms
    
    # Subtest: PATCH - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - PATCH - input-validation coerce # time=4.681ms
    
    # Subtest: PATCH - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - PATCH - input-validation custom schema compiler # time=5.244ms
    
    # Subtest: PATCH - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - PATCH - input-validation joi schema compiler ok # time=7.023ms
    
    # Subtest: PATCH - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - PATCH - input-validation joi schema compiler ko # time=6.433ms
    
    # Subtest: PATCH - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - PATCH - input-validation yup schema compiler ok # time=6.191ms
    
    # Subtest: PATCH - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - PATCH - input-validation yup schema compiler ko # time=6.031ms
    
    # Subtest: PATCH - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - PATCH - input-validation instance custom schema compiler encapsulated # time=4.414ms
    
    # Subtest: PATCH - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - PATCH - input-validation custom schema compiler encapsulated # time=4.885ms
    
    ok 26 - type is object
    ok 27 - type is Request
    ok 28 - type is object
    ok 29 - type is Request
    ok 30 - type is object
    ok 31 - type is Request
    ok 32 - type is object
    ok 33 - type is Request
    ok 34 - type is object
    ok 35 - type is Request
    ok 36 - type is object
    ok 37 - type is Request
    ok 38 - type is object
    ok 39 - type is Request
    ok 40 - type is object
    ok 41 - type is Request
    ok 42 - type is object
    ok 43 - type is Request
    ok 44 - type is object
    ok 45 - type is Request
    ok 46 - type is object
    ok 47 - type is Request
    ok 48 - type is object
    ok 49 - type is Request
    1..49
    # time=1095.418ms
ok 75 - test/patch.error-handler.test.js # time=1095.418ms

# Subtest: test/patch.test.js
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PATCH can be created # time=9.295ms
    
    # Subtest: PATCH without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PATCH without schema can be created # time=1.999ms
    
    # Subtest: PATCH with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PATCH with body and querystring # time=1.587ms
    
    # Subtest: PATCH with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PATCH with bodyLimit option # time=1.802ms
    
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - PATCH can be created # time=2.656ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - PATCH - correctly replies # time=65.122ms
    
    # Subtest: PATCH - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - PATCH - correctly replies with very large body # time=9.683ms
    
    # Subtest: PATCH - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - PATCH - correctly replies if the content type has the charset # time=5.392ms
    
    # Subtest: PATCH without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - PATCH without schema - correctly replies # time=5.313ms
    
    # Subtest: PATCH with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - PATCH with body and querystring - correctly replies # time=5.515ms
    
    # Subtest: PATCH with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - PATCH with no body - correctly replies # time=27.811ms
    
    # Subtest: PATCH returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - PATCH returns 415 - incorrect media type if body is not json # time=6.067ms
    
    # Subtest: PATCH returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 13 - PATCH returns 400 - Bad Request # time=8.015ms
    
    # Subtest: PATCH returns 413 - Payload Too Large
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 14 - PATCH returns 413 - Payload Too Large # time=14.807ms
    
    # Subtest: PATCH should fail with empty body and application/json content-type
        1..12
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
    ok 15 - PATCH should fail with empty body and application/json content-type # time=20.933ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - PATCH - correctly replies # time=5.306ms
    
    # Subtest: PATCH - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - PATCH - 400 on bad parameters # time=5.079ms
    
    # Subtest: PATCH - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - PATCH - input-validation coerce # time=4.387ms
    
    # Subtest: PATCH - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - PATCH - input-validation custom schema compiler # time=4.438ms
    
    # Subtest: PATCH - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - PATCH - input-validation joi schema compiler ok # time=6.048ms
    
    # Subtest: PATCH - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - PATCH - input-validation joi schema compiler ko # time=5.803ms
    
    # Subtest: PATCH - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - PATCH - input-validation yup schema compiler ok # time=5.844ms
    
    # Subtest: PATCH - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - PATCH - input-validation yup schema compiler ko # time=5.471ms
    
    # Subtest: PATCH - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - PATCH - input-validation instance custom schema compiler encapsulated # time=4.015ms
    
    # Subtest: PATCH - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - PATCH - input-validation custom schema compiler encapsulated # time=4ms
    
    1..25
    # time=1133.698ms
ok 76 - test/patch.test.js # time=1133.698ms

# Subtest: test/plugin.test.js
    # Subtest: require a plugin
        1..1
        ok 1 - expect truthy value
    ok 1 - require a plugin # time=101.078ms
    
    # Subtest: plugin metadata - ignore prefix
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 2 - plugin metadata - ignore prefix # time=53.241ms
    
    # Subtest: plugin metadata - naming plugins
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 3 - plugin metadata - naming plugins # time=8.195ms
    
    # Subtest: fastify.register with fastify-plugin should not encapsulate his code
        1..10
        ok 1 - expect falsey value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 4 - fastify.register with fastify-plugin should not encapsulate his code # time=57.335ms
    
    # Subtest: fastify.register with fastify-plugin should provide access to external fastify instance if opts argument is a function
        1..22
        ok 1 - expect falsey value
        ok 2 - expect falsey value
        ok 3 - expect falsey value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect falsey value
        ok 10 - expect truthy value
        ok 11 - expect falsey value
        ok 12 - expect truthy value
        ok 13 - expect truthy value
        ok 14 - should be equal
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - should not error
        ok 18 - expect truthy value
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equal
        ok 22 - should be equivalent
    ok 5 - fastify.register with fastify-plugin should provide access to external fastify instance if opts argument is a function # time=31.051ms
    
    # Subtest: fastify.register with fastify-plugin registers fastify level plugins
        1..15
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should not error
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equivalent
    ok 6 - fastify.register with fastify-plugin registers fastify level plugins # time=20.059ms
    
    # Subtest: check dependencies - should not throw
        1..12
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - should not error
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
    ok 7 - check dependencies - should not throw # time=12.249ms
    
    # Subtest: check dependencies - should throw
        1..12
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - should not error
        ok 7 - expect truthy value
        ok 8 - expect falsey value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
    ok 8 - check dependencies - should throw # time=27.084ms
    
    # Subtest: set the plugin name based on the plugin displayName symbol
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
    ok 9 - set the plugin name based on the plugin displayName symbol # time=7.503ms
    
    # Subtest: plugin name will change when using no encapsulation
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
    ok 10 - plugin name will change when using no encapsulation # time=11.944ms
    
    # Subtest: plugin name is undefined when accessing in no plugin context
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 11 - plugin name is undefined when accessing in no plugin context # time=5.827ms
    
    # Subtest: set the plugin name based on the plugin function name
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 12 - set the plugin name based on the plugin function name # time=30.376ms
    
    # Subtest: approximate a plugin name when no meta data is available
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
    ok 13 - approximate a plugin name when no meta data is available # time=9.48ms
    
    # Subtest: approximate a plugin name also when fastify-plugin has no meta data
        1..4
        ok 1 - should match pattern provided
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should not error
    ok 14 - approximate a plugin name also when fastify-plugin has no meta data # time=9.289ms
    
    # Subtest: plugin encapsulation
        1..10
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 15 - plugin encapsulation # time=24.403ms
    
    # Subtest: if a plugin raises an error and there is not a callback to handle it, the server must not start
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 16 - if a plugin raises an error and there is not a callback to handle it, the server must not start # time=22.32ms
    
    # Subtest: add hooks after route declaration
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 17 - add hooks after route declaration # time=28.55ms
    
    # Subtest: nested plugins
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 18 - nested plugins # time=16.774ms
    
    # Subtest: nested plugins awaited
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 19 - nested plugins awaited # time=16.573ms
    
    # Subtest: plugin metadata - decorators
        1..1
        ok 1 - expect truthy value
    ok 20 - plugin metadata - decorators # time=16.509ms
    
    # Subtest: plugin metadata - decorators - should throw
        1..1
        ok 1 - should be equal
    ok 21 - plugin metadata - decorators - should throw # time=12.952ms
    
    # Subtest: plugin metadata - decorators - should throw with plugin name
        1..1
        ok 1 - should be equal
    ok 22 - plugin metadata - decorators - should throw with plugin name # time=3.32ms
    
    # Subtest: plugin metadata - dependencies
        1..1
        ok 1 - everything right
    ok 23 - plugin metadata - dependencies # time=3.24ms
    
    # Subtest: plugin metadata - dependencies (nested)
        1..1
        ok 1 - everything right
    ok 24 - plugin metadata - dependencies (nested) # time=3.906ms
    
    # Subtest: pluginTimeout
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 25 - pluginTimeout # time=16.4ms
    
    # "pluginTimeout - named function" has `only` set but all tests run
    # Subtest: pluginTimeout - named function
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 26 - pluginTimeout - named function # time=15.362ms
    
    # Subtest: pluginTimeout default
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 27 - pluginTimeout default # time=-161990138.813ms
    
    # Subtest: plugin metadata - version
        1..1
        ok 1 - everything right
    ok 28 - plugin metadata - version # time=11.364ms
    
    # Subtest: plugin metadata - version range
        1..1
        ok 1 - everything right
    ok 29 - plugin metadata - version range # time=2.884ms
    
    # Subtest: plugin metadata - version not matching requirement
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 30 - plugin metadata - version not matching requirement # time=2.92ms
    
    # Subtest: plugin metadata - version not matching requirement 2
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 31 - plugin metadata - version not matching requirement 2 # time=3.445ms
    
    # Subtest: plugin metadata - version not matching requirement 3
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 32 - plugin metadata - version not matching requirement 3 # time=2.761ms
    
    # Subtest: plugin metadata - release candidate
        1..2
        ok 1 - should not error
        ok 2 - everything right
    ok 33 - plugin metadata - release candidate # time=4.31ms
    
    # Subtest: fastify-rc loads prior version plugins
        1..2
        ok 1 - should not error
        ok 2 - everything right
    ok 34 - fastify-rc loads prior version plugins # time=3.33ms
    
    # Subtest: hasPlugin method exists as a function
        1..1
        ok 1 - should be equal
    ok 35 - hasPlugin method exists as a function # time=1.098ms
    
    # Subtest: hasPlugin returns true if the specified plugin has been registered
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
    ok 36 - hasPlugin returns true if the specified plugin has been registered # time=5.37ms
    
    # Subtest: hasPlugin returns false if the specified plugin has not been registered
        1..1
        ok 1 - expect falsey value
    ok 37 - hasPlugin returns false if the specified plugin has not been registered # time=1.115ms
    
    # Subtest: hasPlugin returns false when using encapsulation
        1..25
        ok 1 - expect truthy value
        ok 2 - expect falsey value
        ok 3 - expect falsey value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect truthy value
        ok 8 - expect falsey value
        ok 9 - expect falsey value
        ok 10 - expect falsey value
        ok 11 - expect falsey value
        ok 12 - expect falsey value
        ok 13 - expect truthy value
        ok 14 - expect falsey value
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - expect falsey value
        ok 18 - expect falsey value
        ok 19 - expect truthy value
        ok 20 - expect falsey value
        ok 21 - expect falsey value
        ok 22 - expect falsey value
        ok 23 - expect falsey value
        ok 24 - expect falsey value
        ok 25 - expect truthy value
    ok 38 - hasPlugin returns false when using encapsulation # time=12.261ms
    
    # Subtest: hasPlugin returns true when using no encapsulation
        1..26
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect falsey value
        ok 10 - expect falsey value
        ok 11 - expect falsey value
        ok 12 - expect truthy value
        ok 13 - expect truthy value
        ok 14 - expect truthy value
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - expect truthy value
        ok 18 - expect truthy value
        ok 19 - expect truthy value
        ok 20 - expect truthy value
        ok 21 - expect falsey value
        ok 22 - expect truthy value
        ok 23 - expect truthy value
        ok 24 - expect truthy value
        ok 25 - expect truthy value
        ok 26 - expect truthy value
    ok 39 - hasPlugin returns true when using no encapsulation # time=9.639ms
    
    1..39
    # time=662.12ms
ok 77 - test/plugin.test.js # time=662.12ms

# Subtest: test/pretty-print.test.js
    # Subtest: pretty print - static routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - pretty print - static routes # time=58.431ms
    
    # Subtest: pretty print - parametric routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - pretty print - parametric routes # time=7.65ms
    
    # Subtest: pretty print - mixed parametric routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 3 - pretty print - mixed parametric routes # time=7.759ms
    
    # Subtest: pretty print - wildcard routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - pretty print - wildcard routes # time=15.707ms
    
    # Subtest: pretty print - empty plugins
        1..2
        ok 1 - should be equal
        ok 2 - should match pattern provided
    ok 5 - pretty print - empty plugins # time=21.323ms
    
    # Subtest: pretty print - nested plugins
        1..4
        ok 1 - should be equal
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
    ok 6 - pretty print - nested plugins # time=17.292ms
    
    # Subtest: pretty print - commonPrefix
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 7 - pretty print - commonPrefix # time=24.595ms
    
    # Subtest: pretty print - includeMeta, includeHooks
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 8 - pretty print - includeMeta, includeHooks # time=12.471ms
    
    1..8
    # time=215.995ms
ok 78 - test/pretty-print.test.js # time=215.995ms

# Subtest: test/promises.test.js
    ok 1 - should not error
    # Subtest: shorthand - sget return promise es6 get
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - shorthand - sget return promise es6 get # time=39.148ms
    
    # Subtest: shorthand - sget promise es6 get return error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 3 - shorthand - sget promise es6 get return error # time=8.277ms
    
    # Subtest: sget promise double send
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 4 - sget promise double send # time=6.098ms
    
    # Subtest: thenable
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 5 - thenable # time=6.197ms
    
    # Subtest: thenable (error)
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 6 - thenable (error) # time=4.478ms
    
    # Subtest: return-reply
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - return-reply # time=5.007ms
    
    1..7
    # time=126.726ms
ok 79 - test/promises.test.js # time=126.726ms

./VariantsPureDep/fastify/variant4/fastify

> fastify@4.3.0 test
> npm run lint && npm run unit && npm run test:typescript


> fastify@4.3.0 lint
> npm run lint:standard && npm run lint:typescript && npm run lint:markdown


> fastify@4.3.0 lint:standard
> standard | snazzy

-----------------------------|---------|----------|---------|---------|-----------------------------
File                         | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s           
-----------------------------|---------|----------|---------|---------|-----------------------------
All files                    |   92.78 |    92.03 |    92.3 |   92.91 |                             
 fastify                     |   85.23 |    88.12 |   82.14 |    84.9 |                             
  fastify.js                 |   85.23 |    88.12 |   82.14 |    84.9 | ...,676-695,721-724,732-743 
 fastify/lib                 |   93.85 |    92.55 |   94.23 |   94.06 |                             
  contentTypeParser.js       |    97.8 |    99.15 |     100 |   97.64 | 233-236                     
  context.js                 |     100 |      100 |     100 |     100 |                             
  decorate.js                |   98.21 |    98.03 |     100 |   98.07 | 41                          
  error-handler.js           |    94.2 |    93.61 |     100 |    94.2 | 108-110,118                 
  errors.js                  |     100 |      100 |     100 |     100 |                             
  fourOhFour.js              |     100 |      100 |     100 |     100 |                             
  handleRequest.js           |   98.48 |    98.03 |     100 |   98.41 | 97                          
  headRoute.js               |      20 |     12.5 |   33.33 |   14.28 | 4-21,26                     
  hooks.js                   |     100 |      100 |     100 |     100 |                             
  initialConfigValidation.js |     100 |      100 |     100 |     100 |                             
  logger.js                  |     100 |      100 |     100 |     100 |                             
  noop-set.js                |     100 |      100 |     100 |     100 |                             
  pluginOverride.js          |   97.56 |       90 |     100 |    97.5 | 75                          
  pluginUtils.js             |     100 |      100 |     100 |     100 |                             
  reply.js                   |    87.7 |    84.86 |   88.88 |   88.76 | ...-618,622-627,648-654,659 
  reqIdGenFactory.js         |     100 |      100 |     100 |     100 |                             
  request.js                 |   87.96 |    90.62 |      80 |   89.42 | 45-54,157-167,206,211       
  route.js                   |   88.84 |    88.04 |     100 |   88.69 | ...,355-362,396-397,461,465 
  schema-controller.js       |    92.3 |    79.41 |   84.61 |    92.3 | 23,58,71                    
  schemas.js                 |   92.64 |    93.65 |   88.88 |   94.02 | 28,32,43,147                
  server.js                  |     100 |      100 |     100 |     100 |                             
  symbols.js                 |     100 |      100 |     100 |     100 |                             
  validation.js              |   98.55 |    96.55 |     100 |   98.43 | 22                          
  warnings.js                |     100 |      100 |     100 |     100 |                             
  wrapThenable.js            |   93.33 |       90 |     100 |   93.33 | 11                          
-----------------------------|---------|----------|---------|---------|-----------------------------

> fastify@4.3.0 lint:typescript
> eslint -c types/.eslintrc.json types/**/*.d.ts test/types/**/*.test-d.ts


> fastify@4.3.0 lint:markdown
> markdownlint-cli2

markdownlint-cli2 v0.4.0 (markdownlint v0.25.1)

> fastify@4.3.0 unit
> tap

TAP version 13
# Subtest: test/404s.test.js
    # Subtest: default 404
        1..4
        ok 1 - should not error
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - unsupported method # time=34.637ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - framework-unsupported method # time=9.49ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - unsupported route # time=5.168ms
        
    ok 1 - default 404 # time=185.286ms
    
    # Subtest: customized 404
        1..6
        ok 1 - should not error
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - unsupported method # time=10.255ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - framework-unsupported method # time=4.691ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - unsupported route # time=4.149ms
        
        # Subtest: with error object
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - with error object # time=9.905ms
        
        # Subtest: error object with headers property
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 6 - error object with headers property # time=5.393ms
        
    ok 2 - customized 404 # time=47.854ms
    
    # Subtest: custom header in notFound handler
        1..2
        ok 1 - should not error
        # Subtest: not found with custom header
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
        ok 2 - not found with custom header # time=24.515ms
        
    ok 3 - custom header in notFound handler # time=43.838ms
    
    # Subtest: setting a custom 404 handler multiple times is an error
        1..5
        # Subtest: at the root level
            1..2
            ok 1 - type is Error
            ok 2 - should be equal
        ok 1 - at the root level # time=2.942ms
        
        # Subtest: at the plugin level
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 2 - at the plugin level # time=22.445ms
        
        # Subtest: at multiple levels
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 3 - at multiple levels # time=6.91ms
        
        # Subtest: at multiple levels / 2
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 4 - at multiple levels / 2 # time=21.662ms
        
        # Subtest: in separate plugins at the same level
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 5 - in separate plugins at the same level # time=28.14ms
        
    ok 4 - setting a custom 404 handler multiple times is an error # time=92.426ms
    
    # Subtest: encapsulated 404
        1..13
        ok 1 - should not error
        # Subtest: root unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - root unsupported method # time=36.788ms
        
        # Subtest: root framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - root framework-unsupported method # time=4.48ms
        
        # Subtest: root unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - root unsupported route # time=4.563ms
        
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 5 - unsupported method # time=4.801ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 6 - framework-unsupported method # time=4.893ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 7 - unsupported route # time=4.418ms
        
        # Subtest: unsupported method 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 8 - unsupported method 2 # time=10.177ms
        
        # Subtest: framework-unsupported method 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 9 - framework-unsupported method 2 # time=6.97ms
        
        # Subtest: unsupported route 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 10 - unsupported route 2 # time=8.559ms
        
        # Subtest: unsupported method 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 11 - unsupported method 3 # time=13.023ms
        
        # Subtest: framework-unsupported method 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 12 - framework-unsupported method 3 # time=5.149ms
        
        # Subtest: unsupported route 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 13 - unsupported route 3 # time=4.79ms
        
    ok 5 - encapsulated 404 # time=153.314ms
    
    # Subtest: custom 404 hook and handler context
        1..21
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should not error
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equal
    ok 6 - custom 404 hook and handler context # time=77.336ms
    
    # Subtest: encapsulated custom 404 without - prefix hook and handler context
        1..13
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equal
    ok 7 - encapsulated custom 404 without - prefix hook and handler context # time=16.959ms
    
    # Subtest: run hooks on default 404
        1..7
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - preHandler called
        ok 4 - onSend called
        ok 5 - onResponse called
        ok 6 - should not error
        ok 7 - should be equal
    ok 8 - run hooks on default 404 # time=32.914ms
    
    # Subtest: run non-encapsulated plugin hooks on default 404
        1..6
        ok 1 - onRequest called
        ok 2 - preHandler called
        ok 3 - onSend called
        ok 4 - onResponse called
        ok 5 - should not error
        ok 6 - should be equal
    ok 9 - run non-encapsulated plugin hooks on default 404 # time=16.416ms
    
    # Subtest: run non-encapsulated plugin hooks on custom 404
        1..11
        ok 1 - onRequest called
        ok 2 - onRequest called
        ok 3 - preHandler called
        ok 4 - preHandler called
        ok 5 - onSend called
        ok 6 - onSend called
        ok 7 - onResponse called
        ok 8 - onResponse called
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
    ok 10 - run non-encapsulated plugin hooks on custom 404 # time=15.722ms
    
    # Subtest: run hook with encapsulated 404
        1..11
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - onRequest 2 called
        ok 4 - preHandler called
        ok 5 - preHandler 2 called
        ok 6 - onSend called
        ok 7 - onSend 2 called
        ok 8 - onResponse called
        ok 9 - onResponse 2 called
        ok 10 - should not error
        ok 11 - should be equal
    ok 11 - run hook with encapsulated 404 # time=36.236ms
    
    # Subtest: run hook with encapsulated 404 and framework-unsupported method
        1..11
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - onRequest 2 called
        ok 4 - preHandler called
        ok 5 - preHandler 2 called
        ok 6 - onSend called
        ok 7 - onSend 2 called
        ok 8 - onResponse called
        ok 9 - onResponse 2 called
        ok 10 - should not error
        ok 11 - should be equal
    ok 12 - run hook with encapsulated 404 and framework-unsupported method # time=15.428ms
    
    # Subtest: hooks check 404
        1..13
        ok 1 - should not error
        ok 2 - onRequest
        ok 3 - should be equivalent
        ok 4 - onSend
        ok 5 - onResponse
        ok 6 - onRequest
        ok 7 - should be equivalent
        ok 8 - onSend
        ok 9 - onResponse
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should not error
        ok 13 - should be equal
    ok 13 - hooks check 404 # time=27.468ms
    
    # Subtest: setNotFoundHandler should not suppress duplicated routes checking
        1..1
        ok 1 - expect truthy value
    ok 14 - setNotFoundHandler should not suppress duplicated routes checking # time=3.428ms
    
    # Subtest: log debug for 404
        1..1
        # Subtest: log debug
            1..7
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
        ok 1 - log debug # time=8.042ms
        
    ok 15 - log debug for 404 # time=15.048ms
    
    # Subtest: Unknown method
        1..5
        ok 1 - should not error
        ok 2 - expected to throw
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent strictly
    ok 16 - Unknown method # time=31.099ms
    
    # Subtest: recognizes errors from the http-errors module
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent strictly
    ok 17 - recognizes errors from the http-errors module # time=22.11ms
    
    # Subtest: the default 404 handler can be invoked inside a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
    ok 18 - the default 404 handler can be invoked inside a prefixed plugin # time=6.822ms
    
    # Subtest: an inherited custom 404 handler can be invoked inside a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - an inherited custom 404 handler can be invoked inside a prefixed plugin # time=6.491ms
    
    # Subtest: encapsulated custom 404 handler without a prefix is the handler for the entire 404 level
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 20 - encapsulated custom 404 handler without a prefix is the handler for the entire 404 level # time=10.115ms
    
    # Subtest: cannot set notFoundHandler after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 21 - cannot set notFoundHandler after binding # time=4.377ms
    
    # Subtest: 404 inside onSend
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 22 - 404 inside onSend # time=6.747ms
    
    # Subtest: onSend hooks run when an encapsulated route invokes the notFound handler
        1..3
        ok 1 - onSend hook called
        ok 2 - should not error
        ok 3 - should be equal
    ok 23 - onSend hooks run when an encapsulated route invokes the notFound handler # time=5.703ms
    
    # Subtest: preHandler option for setNotFoundHandler
        1..10
        # Subtest: preHandler option
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 1 - preHandler option # time=38.166ms
        
        # Subtest: preHandler hook in setNotFoundHandler should be called when callNotFound
            1..3
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 2 - preHandler hook in setNotFoundHandler should be called when callNotFound # time=20.839ms
        
        # Subtest: preHandler hook in setNotFoundHandler should accept an array of functions and be called when callNotFound
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 3 - preHandler hook in setNotFoundHandler should accept an array of functions and be called when callNotFound # time=6.407ms
        
        # Subtest: preHandler option should be called after preHandler hook
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 4 - preHandler option should be called after preHandler hook # time=5.386ms
        
        # Subtest: preHandler option should be unique per prefix
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 5 - preHandler option should be unique per prefix # time=10.078ms
        
        # Subtest: preHandler option should handle errors
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 6 - preHandler option should handle errors # time=5.789ms
        
        # Subtest: preHandler option should handle errors with custom status code
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 7 - preHandler option should handle errors with custom status code # time=5.5ms
        
        # Subtest: preHandler option could accept an array of functions
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 8 - preHandler option could accept an array of functions # time=4.823ms
        
        # Subtest: preHandler option does not interfere with preHandler
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 9 - preHandler option does not interfere with preHandler # time=9.306ms
        
        # Subtest: preHandler option should keep the context
            1..3
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 10 - preHandler option should keep the context # time=5.255ms
        
    ok 24 - preHandler option for setNotFoundHandler # time=123.358ms
    
    # Subtest: reply.notFound invoked the notFound handler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - reply.notFound invoked the notFound handler # time=5.084ms
    
    # Subtest: The custom error handler should be invoked after the custom not found handler
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - type is Error
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 26 - The custom error handler should be invoked after the custom not found handler # time=6.591ms
    
    # Subtest: If the custom not found handler does not use an Error, the custom error handler should not be called
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 27 - If the custom not found handler does not use an Error, the custom error handler should not be called # time=4.696ms
    
    # Subtest: preValidation option
        1..3
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 28 - preValidation option # time=5.252ms
    
    # Subtest: preValidation option could accept an array of functions
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 29 - preValidation option could accept an array of functions # time=5.31ms
    
    # Subtest: Should fail to invoke callNotFound inside a 404 handler
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 30 - Should fail to invoke callNotFound inside a 404 handler # time=7.008ms
    
    # Subtest: 400 in case of bad url (pre find-my-way v2.2.0 was a 404)
        # Subtest: Dynamic route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 1 - Dynamic route # time=25.441ms
        
        # Subtest: Wildcard
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - Wildcard # time=5.549ms
        
        # Subtest: No route registered
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - No route registered # time=5.054ms
        
        # Subtest: Only / is registered
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - Only / is registered # time=23.708ms
        
        # Subtest: customized 404
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - customized 404 # time=12.599ms
        
        1..5
    ok 31 - 400 in case of bad url (pre find-my-way v2.2.0 was a 404) # time=80.274ms
    
    # Subtest: setNotFoundHandler should be chaining fastify instance
        # Subtest: Register route after setNotFoundHandler
            1..6
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should not error
            ok 5 - should be equal
            ok 6 - should be equal
        ok 1 - Register route after setNotFoundHandler # time=28.123ms
        
        1..1
    ok 32 - setNotFoundHandler should be chaining fastify instance # time=34.473ms
    
    # Subtest: Send 404 when frameworkError calls reply.callNotFound
        # Subtest: Dynamic route
            1..4
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 1 - Dynamic route # time=6.689ms
        
        1..1
    ok 33 - Send 404 when frameworkError calls reply.callNotFound # time=12.211ms
    
    1..33
    # time=1187.82ms
ok 1 - test/404s.test.js # time=1187.82ms

# Subtest: test/500s.test.js
    # Subtest: default 500
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - default 500 # time=88.046ms
    
    # Subtest: custom 500
        1..6
        ok 1 - type is object
        ok 2 - type is Request
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 2 - custom 500 # time=7.944ms
    
    # Subtest: encapsulated 500
        1..10
        ok 1 - type is object
        ok 2 - type is Request
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 3 - encapsulated 500 # time=44.07ms
    
    # Subtest: custom 500 with hooks
        1..7
        ok 1 - onRequest
        ok 2 - onSend
        ok 3 - onResponse
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 4 - custom 500 with hooks # time=11.049ms
    
    # Subtest: cannot set errorHandler after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 5 - cannot set errorHandler after binding # time=19.964ms
    
    1..5
    # time=181.91ms
ok 2 - test/500s.test.js # time=181.91ms

# Subtest: test/allowUnsafeRegex.test.js
    # Subtest: allow unsafe regex
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - allow unsafe regex # time=71.172ms
    
    # Subtest: allow unsafe regex not match
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 2 - allow unsafe regex not match # time=13.17ms
    
    # Subtest: allow unsafe regex not safe
        1..1
        ok 1 - expected to throw
    ok 3 - allow unsafe regex not safe # time=87.635ms
    
    # Subtest: allow unsafe regex not safe by default
        1..1
        ok 1 - expected to throw
    ok 4 - allow unsafe regex not safe by default # time=3.696ms
    
    # Subtest: allow unsafe regex allow unsafe
        1..5
        ok 1 - expected to not throw
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 5 - allow unsafe regex allow unsafe # time=34.335ms
    
    1..5
    # time=241.899ms
ok 3 - test/allowUnsafeRegex.test.js # time=241.899ms

# Subtest: test/als.test.js
    ok 1 - should not error
    ok 2 - expect truthy value
    ok 3 - should not error
    ok 4 - should be equal
    ok 5 - should be equivalent
    ok 6 - expect truthy value
    ok 7 - should not error
    ok 8 - should be equal
    ok 9 - should be equivalent
    ok 10 - expect truthy value
    ok 11 - should not error
    ok 12 - should be equal
    ok 13 - should be equivalent
    1..13
    # time=44.627ms
ok 4 - test/als.test.js # time=44.627ms

# Subtest: test/async-await.test.js
    # Subtest: async await
        1..11
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 1 - async await # time=322.08ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (undefined)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 2 - ignore the result of the promise if reply.send is called beforehand (undefined) # time=13.954ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (object)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 3 - ignore the result of the promise if reply.send is called beforehand (object) # time=22.884ms
    
    # Subtest: server logs an error if reply.send is called and a value is returned via async/await
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 4 - server logs an error if reply.send is called and a value is returned via async/await # time=89.067ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (undefined)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 5 - ignore the result of the promise if reply.send is called beforehand (undefined) # time=9.596ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (object)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 6 - ignore the result of the promise if reply.send is called beforehand (object) # time=12.027ms
    
    # Subtest: await reply if we will be calling reply.send in the future
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 7 - await reply if we will be calling reply.send in the future # time=7.83ms
    
    # Subtest: await reply if we will be calling reply.send in the future (error case)
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 8 - await reply if we will be calling reply.send in the future (error case) # time=9.303ms
    
    # Subtest: support reply decorators with await
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 9 - support reply decorators with await # time=10.902ms
    
    # Subtest: inject async await
        1..1
        ok 1 - should be equivalent
    ok 10 - inject async await # time=10.774ms
    
    # Subtest: inject async await - when the server equal up
        1..2
        ok 1 - should be equivalent
        ok 2 - should be equivalent
    ok 11 - inject async await - when the server equal up # time=214.925ms
    
    # Subtest: async await plugin
        1..1
        ok 1 - should be equivalent
    ok 12 - async await plugin # time=214.139ms
    
    # Subtest: does not call reply.send() twice if 204 response equal already sent
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - does not call reply.send() twice if 204 response equal already sent # time=25.489ms
    
    # Subtest: promise was fulfilled with undefined
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - promise was fulfilled with undefined # time=31.607ms
    
    # Subtest: error is not logged because promise was fulfilled with undefined but response was sent before promise resolution
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 15 - error is not logged because promise was fulfilled with undefined but response was sent before promise resolution # time=18.567ms
    
    # Subtest: Thrown Error instance sets HTTP status code
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - Thrown Error instance sets HTTP status code # time=14.912ms
    
    # Subtest: customErrorHandler support
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 17 - customErrorHandler support # time=7.074ms
    
    # Subtest: customErrorHandler support without throwing
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - customErrorHandler support without throwing # time=7.767ms
    
    # Subtest: customErrorHandler only called if reply not already sent
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - customErrorHandler only called if reply not already sent # time=5.583ms
    
    # Subtest: setNotFoundHandler should accept return value
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - setNotFoundHandler should accept return value # time=33.372ms
    
    # Subtest: customErrorHandler should accept return value
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 21 - customErrorHandler should accept return value # time=6.99ms
    
    # Subtest: await self
        ok 1 - should be equal
        1..1
    ok 22 - await self # time=3.747ms
    
    1..22
    # time=1117.195ms
ok 5 - test/async-await.test.js # time=1117.195ms

# Subtest: test/bodyLimit.test.js
    # Subtest: bodyLimit
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should not error
        ok 5 - should be equal
    ok 1 - bodyLimit # time=55.678ms
    
    1..1
    # time=62.89ms
ok 6 - test/bodyLimit.test.js # time=62.89ms

# Subtest: test/build/error-serializer.test.js
    # Subtest: check generated code syntax
        1..1
        ok 1 - should be equal
    ok 1 - check generated code syntax # time=4147.863ms
    
    ok 2 - ensure the current error serializer is latest # SKIP
    1..2
    # skip: 1
    # time=4231.445ms
ok 7 - test/build/error-serializer.test.js # time=4231.445ms

# Subtest: test/build/version.test.js
    # Subtest: should be the same as package.json
        1..1
        ok 1 - should be equal
    ok 1 - should be the same as package.json # time=6.204ms
    
    1..1
    # time=11.779ms
ok 8 - test/build/version.test.js # time=11.779ms

# Subtest: test/case-insensitive.test.js
    # Subtest: case insensitive
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - case insensitive # time=69.543ms
    
    # Subtest: case insensitive inject
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - case insensitive inject # time=35.328ms
    
    # Subtest: case insensitive (parametric)
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 3 - case insensitive (parametric) # time=12.356ms
    
    # Subtest: case insensitive (wildcard)
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 4 - case insensitive (wildcard) # time=28.866ms
    
    1..4
    # time=165.819ms
ok 9 - test/case-insensitive.test.js # time=165.819ms

# Subtest: test/chainable.test.js
    # Subtest: chainable - get
        1..1
        ok 1 - type is [object Object]
    ok 1 - chainable - get # time=10.872ms
    
    # Subtest: chainable - post
        1..1
        ok 1 - type is [object Object]
    ok 2 - chainable - post # time=2.16ms
    
    # Subtest: chainable - route
        1..1
        ok 1 - type is [object Object]
    ok 3 - chainable - route # time=2.174ms
    
    1..3
    # time=30.392ms
ok 10 - test/chainable.test.js # time=30.392ms

# Subtest: test/close-pipelining.test.js
    # Subtest: Should return 503 while closing - pipelining
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        1..3
    ok 1 - Should return 503 while closing - pipelining # time=125.733ms
    
    # Subtest: Should not return 503 while closing - pipelining - return503OnClosing
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        1..3
    ok 2 - Should not return 503 while closing - pipelining - return503OnClosing # time=28.987ms
    
    1..2
    # time=160.751ms
ok 11 - test/close-pipelining.test.js # time=160.751ms

# Subtest: test/close.test.js
    # Subtest: close callback
        1..4
        ok 1 - should not error
        ok 2 - type is [object Object]
        ok 3 - should not error
        ok 4 - expect truthy value
    ok 1 - close callback # time=98.3ms
    
    # Subtest: inside register
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - expect truthy value
    ok 2 - inside register # time=30.065ms
    
    # Subtest: close order
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 3 - close order # time=36.302ms
    
    # Subtest: close order - async
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 4 - close order - async # time=7.845ms
    
    # Subtest: should not throw an error if the server is not listening
        1..2
        ok 1 - type is [object Object]
        ok 2 - should not error
    ok 5 - should not throw an error if the server is not listening # time=3.496ms
    
    # Subtest: onClose should keep the context
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
    ok 6 - onClose should keep the context # time=21.022ms
    
    # Subtest: Should return error while closing (promise) - injection
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 7 - Should return error while closing (promise) - injection # time=97.488ms
    
    # Subtest: Should return error while closing (callback) - injection
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 8 - Should return error while closing (callback) - injection # time=134.539ms
    
    # Subtest: Current opened connection should continue to work after closing and return "connection: close" header - return503OnClosing: false
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        1..5
    ok 9 - Current opened connection should continue to work after closing and return "connection: close" header - return503OnClosing: false # time=24.822ms
    
    # Subtest: Current opened connection should not accept new incoming connections
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 10 - Current opened connection should not accept new incoming connections # time=271.704ms
    
    # Subtest: Cannot be reopened the closed server without listen callback
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 11 - Cannot be reopened the closed server without listen callback # time=22.348ms
    
    # Subtest: Cannot be reopened the closed server has listen callback
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 12 - Cannot be reopened the closed server has listen callback # time=12.126ms
    
    ok 13 - shutsdown while keep-alive connections are active (non-async, native) # SKIP
    ok 14 - shutsdown while keep-alive connections are active (non-async, idle, native) # SKIP
    # Subtest: shutsdown while keep-alive connections are active (non-async, custom)
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 15 - shutsdown while keep-alive connections are active (non-async, custom) # time=17.125ms
    
    1..15
    # skip: 2
    # time=791.497ms
ok 12 - test/close.test.js # time=791.497ms

# Subtest: test/connectionTimeout.test.js
    # Subtest: connectionTimeout
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 1 - connectionTimeout # time=42.286ms
    
    1..1
    # time=48.466ms
ok 13 - test/connectionTimeout.test.js # time=48.466ms

# Subtest: test/constrained-routes.test.js
    # Subtest: Should register a host constrained route
        1..7
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 1 - Should register a host constrained route # time=99.553ms
    
    # Subtest: Should register the same route with host constraints
        1..8
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 2 - Should register the same route with host constraints # time=12.292ms
    
    # Subtest: Should allow registering custom constrained routes
        1..8
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 3 - Should allow registering custom constrained routes # time=34.738ms
    
    # Subtest: Should allow registering custom constrained routes outside constructor
        1..8
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 4 - Should allow registering custom constrained routes outside constructor # time=20.138ms
    
    # Subtest: Add a constraint strategy after fastify instance was started
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - Cannot add constraint strategy when fastify instance is already started!
    ok 5 - Add a constraint strategy after fastify instance was started # time=13.146ms
    
    # Subtest: Add a constraint strategy should throw an error if there already exist custom strategy with the same name
        1..1
        ok 1 - There already exists a custom constraint with the name secret.
    ok 6 - Add a constraint strategy should throw an error if there already exist custom strategy with the same name # time=1.729ms
    
    # Subtest: Add a constraint strategy shouldn't throw an error if default constraint with the same name isn't used
        1..1
        ok 1 - (unnamed test)
    ok 7 - Add a constraint strategy shouldn't throw an error if default constraint with the same name isn't used # time=1.399ms
    
    # Subtest: Add a constraint strategy should throw an error if default constraint with the same name is used
        1..1
        ok 1 - There already exists a route with version constraint.
    ok 8 - Add a constraint strategy should throw an error if default constraint with the same name is used # time=2.448ms
    
    # Subtest: The hasConstraintStrategy should return false for default constraints until they are used
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 9 - The hasConstraintStrategy should return false for default constraints until they are used # time=4.45ms
    
    # Subtest: The hasConstraintStrategy should return true if there already exist a custom constraint with the same name
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 10 - The hasConstraintStrategy should return true if there already exist a custom constraint with the same name # time=2.537ms
    
    # Subtest: Should allow registering an unconstrained route after a constrained route
        1..6
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
    ok 11 - Should allow registering an unconstrained route after a constrained route # time=8.946ms
    
    # Subtest: Should allow registering constrained routes in a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 12 - Should allow registering constrained routes in a prefixed plugin # time=20.73ms
    
    # Subtest: Should allow registering a constrained GET route after a constrained HEAD route
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 13 - Should allow registering a constrained GET route after a constrained HEAD route # time=18.191ms
    
    # Subtest: Should allow registering a constrained GET route after an unconstrained HEAD route
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 14 - Should allow registering a constrained GET route after an unconstrained HEAD route # time=13.154ms
    
    # Subtest: Will not try to re-createprefixed HEAD route if it already exists and exposeHeadRoutes is true for constrained routes
        1..1
        ok 1 - expect truthy value
    ok 15 - Will not try to re-createprefixed HEAD route if it already exists and exposeHeadRoutes is true for constrained routes # time=18.189ms
    
    # Subtest: allows separate constrained and unconstrained HEAD routes
        1..1
        ok 1 - expect truthy value
    ok 16 - allows separate constrained and unconstrained HEAD routes # time=13.543ms
    
    1..16
    # time=308.726ms
ok 14 - test/constrained-routes.test.js # time=308.726ms

# Subtest: test/content-length.test.js
    # Subtest: default 413 with bodyLimit option
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - default 413 with bodyLimit option # time=84.56ms
    
    # Subtest: default 400 with wrong content-length
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - default 400 with wrong content-length # time=13.146ms
    
    # Subtest: custom 413 with bodyLimit option
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 3 - custom 413 with bodyLimit option # time=25.26ms
    
    # Subtest: custom 400 with wrong content-length
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 4 - custom 400 with wrong content-length # time=14.775ms
    
    # Subtest: \#2214 - wrong content-length
        ok 1 - should be equal
        1..1
    ok 5 - \#2214 - wrong content-length # time=13.411ms
    
    # Subtest: \#2543 - wrong content-length with errorHandler
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 6 - \#2543 - wrong content-length with errorHandler # time=25.806ms
    
    1..6
    # time=204.258ms
ok 15 - test/content-length.test.js # time=204.258ms

# Subtest: test/content-parser.test.js
    # Subtest: hasContentTypeParser
        1..0
    ok 1 - hasContentTypeParser # time=12.857ms
    
    # Subtest: should know about internal parsers
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
    ok 2 - should know about internal parsers # time=45.913ms
    
    # Subtest: should work with string and RegExp
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect falsey value
    ok 3 - should work with string and RegExp # time=4.528ms
    
    # Subtest: getParser
        1..0
    ok 4 - getParser # time=101.226ms
    
    # Subtest: existingParser
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect falsey value
        1..7
    ok 5 - existingParser # time=13.342ms
    
    # Subtest: add
        1..0
    ok 6 - add # time=8.085ms
    
    # Subtest: non-Error thrown from content parser is properly handled
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 7 - non-Error thrown from content parser is properly handled # time=45.547ms
    
    # Subtest: Error thrown 415 from content type is null and make post request to server
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 8 - Error thrown 415 from content type is null and make post request to server # time=25.558ms
    
    # Subtest: remove
        1..0
    ok 9 - remove # time=23.472ms
    
    # Subtest: remove all should remove all existing parsers and reset cache
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
    ok 10 - remove all should remove all existing parsers and reset cache # time=5.644ms
    
    # Subtest: should return matching parser
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 11 - should return matching parser # time=2.346ms
    
    # Subtest: should return matching parser with caching
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 12 - should return matching parser with caching # time=2.453ms
    
    # Subtest: should prefer content type parser with string value
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 13 - should prefer content type parser with string value # time=2.308ms
    
    # Subtest: should return parser that catches all if no other is set
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 14 - should return parser that catches all if no other is set # time=2.951ms
    
    # Subtest: should return undefined if no matching parser exist
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 15 - should return undefined if no matching parser exist # time=2.188ms
    
    # Subtest: returns always false for "*"
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 16 - returns always false for "*" # time=1.586ms
    
    # Subtest: let you override the default parser once
        1..2
        ok 1 - Content type parser 'application/json' already present
        ok 2 - Content type parser 'text/plain' already present
    ok 17 - let you override the default parser once # time=4.899ms
    
    # Subtest: should only accept string and RegExp
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - The content type should be a string or a RegExp
        ok 4 - The content type should be a string or a RegExp
    ok 18 - should only accept string and RegExp # time=3.313ms
    
    # Subtest: should set "*" as parser that catches all
        1..1
        ok 1 - should be equal
    ok 19 - should set "*" as parser that catches all # time=1.25ms
    
    # Subtest: should remove default parser
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 20 - should remove default parser # time=1.467ms
    
    # Subtest: should remove RegExp parser
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 21 - should remove RegExp parser # time=1.427ms
    
    # Subtest: should throw an error if content type is neither string nor RegExp
        1..1
        ok 1 - expected to throw
    ok 22 - should throw an error if content type is neither string nor RegExp # time=1.798ms
    
    # Subtest: should not throw error if content type does not exist
        1..1
        ok 1 - expected to not throw
    ok 23 - should not throw error if content type does not exist # time=1.401ms
    
    # Subtest: should not remove any content type parser if content type does not exist
        1..1
        ok 1 - should be equivalent
    ok 24 - should not remove any content type parser if content type does not exist # time=1.974ms
    
    1..24
    # time=334.984ms
ok 16 - test/content-parser.test.js # time=334.984ms

# Subtest: test/context-config.test.js
    # Subtest: config
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 1 - config # time=80.658ms
    
    # Subtest: config with exposeHeadRoutes
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 2 - config with exposeHeadRoutes # time=19.051ms
    
    # Subtest: config without exposeHeadRoutes
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 3 - config without exposeHeadRoutes # time=32.804ms
    
    1..3
    # time=144.925ms
ok 17 - test/context-config.test.js # time=144.925ms

# Subtest: test/custom-http-server.test.js
    # Subtest: Should support a custom http server
        1..4
        ok 1 - it is called twice for every HOST interface
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - Should support a custom http server # time=68.496ms
    
    # Subtest: Should not allow forceCloseConnection=idle if the server does not support closeIdleConnections
        1..1
        ok 1 - Cannot set forceCloseConnections to 'idle' as your HTTP server does not support closeIdleConnections method
    ok 2 - Should not allow forceCloseConnection=idle if the server does not support closeIdleConnections # time=3.641ms
    
    1..2
    # time=79.846ms
ok 18 - test/custom-http-server.test.js # time=79.846ms

# Subtest: test/custom-parser-async.test.js
    # Subtest: contentTypeParser should add a custom async parser
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=31.683ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=7.703ms
        
    ok 1 - contentTypeParser should add a custom async parser # time=113.715ms
    
    1..1
    # time=119.137ms
ok 19 - test/custom-parser-async.test.js # time=119.137ms

# Subtest: test/custom-parser.test.js
    # Subtest: contentTypeParser method should exist
        1..1
        ok 1 - expect truthy value
    ok 1 - contentTypeParser method should exist # time=15.166ms
    
    # Subtest: contentTypeParser should add a custom parser
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=27.733ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=6.841ms
        
    ok 2 - contentTypeParser should add a custom parser # time=181.879ms
    
    # Subtest: contentTypeParser should handle multiple custom parsers
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 3 - contentTypeParser should handle multiple custom parsers # time=14.713ms
    
    # Subtest: contentTypeParser should handle an array of custom contentTypes
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 4 - contentTypeParser should handle an array of custom contentTypes # time=40.733ms
    
    # Subtest: contentTypeParser should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 5 - contentTypeParser should handle errors # time=11.02ms
    
    # Subtest: contentTypeParser should support encapsulation
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - expect falsey value
        ok 6 - expect falsey value
    ok 6 - contentTypeParser should support encapsulation # time=8.529ms
    
    # Subtest: contentTypeParser should support encapsulation, second try
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - contentTypeParser should support encapsulation, second try # time=23.448ms
    
    # Subtest: contentTypeParser shouldn't support request with undefined "Content-Type"
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 8 - contentTypeParser shouldn't support request with undefined "Content-Type" # time=14.589ms
    
    # Subtest: the content type should be a string or RegExp
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 9 - the content type should be a string or RegExp # time=2.243ms
    
    # Subtest: the content type cannot be an empty string
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 10 - the content type cannot be an empty string # time=4.974ms
    
    # Subtest: the content type handler should be a function
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 11 - the content type handler should be a function # time=2.274ms
    
    # Subtest: catch all content type parser
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 12 - catch all content type parser # time=12.912ms
    
    # Subtest: catch all content type parser should not interfere with other conte type parsers
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 13 - catch all content type parser should not interfere with other conte type parsers # time=30.836ms
    
    # Subtest: '*' catch undefined Content-Type requests
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - '*' catch undefined Content-Type requests # time=13.192ms
    
    # Subtest: cannot add custom parser after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 15 - cannot add custom parser after binding # time=5.466ms
    
    # Subtest: Can override the default json parser
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 16 - Can override the default json parser # time=30.763ms
    
    # Subtest: Can override the default plain text parser
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 17 - Can override the default plain text parser # time=13.139ms
    
    # Subtest: Can override the default json parser in a plugin
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 18 - Can override the default json parser in a plugin # time=17.017ms
    
    # Subtest: Can't override the json parser multiple times
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 19 - Can't override the json parser multiple times # time=1.827ms
    
    # Subtest: Can't override the plain text parser multiple times
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 20 - Can't override the plain text parser multiple times # time=2.097ms
    
    # Subtest: Should get the body as string
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 21 - Should get the body as string # time=17.598ms
    
    # Subtest: Should return defined body with no custom parser defined and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 22 - Should return defined body with no custom parser defined and content type = 'text/plain' # time=8.426ms
    
    # Subtest: Should have typeof body object with no custom parser defined, no body defined and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 23 - Should have typeof body object with no custom parser defined, no body defined and content type = 'text/plain' # time=6.823ms
    
    # Subtest: Should have typeof body object with no custom parser defined, null body and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 24 - Should have typeof body object with no custom parser defined, null body and content type = 'text/plain' # time=7.015ms
    
    # Subtest: Should have typeof body object with no custom parser defined, undefined body and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 25 - Should have typeof body object with no custom parser defined, undefined body and content type = 'text/plain' # time=15.056ms
    
    # Subtest: Should get the body as string
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 26 - Should get the body as string # time=7.554ms
    
    # Subtest: Should get the body as buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 27 - Should get the body as buffer # time=8.255ms
    
    # Subtest: Should get the body as buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 28 - Should get the body as buffer # time=11.158ms
    
    # Subtest: Should parse empty bodies as a string
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 29 - Should parse empty bodies as a string # time=24.51ms
    
    # Subtest: Should parse empty bodies as a buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 30 - Should parse empty bodies as a buffer # time=8.109ms
    
    # Subtest: The charset should not interfere with the content type handling
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 31 - The charset should not interfere with the content type handling # time=8.25ms
    
    # Subtest: Wrong parseAs parameter
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 32 - Wrong parseAs parameter # time=1.58ms
    
    # Subtest: Should allow defining the bodyLimit per parser
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent strictly
    ok 33 - Should allow defining the bodyLimit per parser # time=9.02ms
    
    # Subtest: route bodyLimit should take precedence over a custom parser bodyLimit
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent strictly
    ok 34 - route bodyLimit should take precedence over a custom parser bodyLimit # time=6.799ms
    
    # Subtest: should be able to use default parser for extra content type
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent strictly
    ok 35 - should be able to use default parser for extra content type # time=8.644ms
    
    # Subtest: contentTypeParser should add a custom parser with RegExp value
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=5.64ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=3.942ms
        
    ok 36 - contentTypeParser should add a custom parser with RegExp value # time=16.051ms
    
    # Subtest: contentTypeParser should add multiple custom parsers with RegExp values
        1..6
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 37 - contentTypeParser should add multiple custom parsers with RegExp values # time=47.965ms
    
    # Subtest: catch all content type parser should not interfere with content type parser
        1..10
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 38 - catch all content type parser should not interfere with content type parser # time=13.026ms
    
    # Subtest: should prefer string content types over RegExp ones
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 39 - should prefer string content types over RegExp ones # time=9.033ms
    
    # Subtest: removeContentTypeParser should support arrays of content types to remove
        1..8
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 40 - removeContentTypeParser should support arrays of content types to remove # time=10.346ms
    
    # Subtest: removeContentTypeParser should support encapsulation
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 41 - removeContentTypeParser should support encapsulation # time=9.985ms
    
    # Subtest: removeAllContentTypeParsers should support encapsulation
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 42 - removeAllContentTypeParsers should support encapsulation # time=14.895ms
    
    # Subtest: cannot remove all content type parsers after binding
        1..2
        ok 1 - should not error
        ok 2 - expected to throw
    ok 43 - cannot remove all content type parsers after binding # time=4.518ms
    
    # Subtest: cannot remove content type parsers after binding
        1..2
        ok 1 - should not error
        ok 2 - expected to throw
    ok 44 - cannot remove content type parsers after binding # time=3.026ms
    
    # Subtest: should be able to override the default json parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 45 - should be able to override the default json parser after removeAllContentTypeParsers # time=6.309ms
    
    # Subtest: should be able to override the default plain text parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 46 - should be able to override the default plain text parser after removeAllContentTypeParsers # time=12.791ms
    
    # Subtest: should be able to add a custom content type parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 47 - should be able to add a custom content type parser after removeAllContentTypeParsers # time=8.155ms
    
    1..47
    # time=792.282ms
ok 20 - test/custom-parser.test.js # time=792.282ms

# Subtest: test/custom-querystring-parser.test.js
    # Subtest: Custom querystring parser
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 1 - Custom querystring parser # time=116.555ms
    
    # Subtest: Custom querystring parser should be called also if there is nothing to parse
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 2 - Custom querystring parser should be called also if there is nothing to parse # time=19.417ms
    
    # Subtest: Querystring without value
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 3 - Querystring without value # time=46.952ms
    
    # Subtest: Custom querystring parser should be a function
        1..1
        ok 1 - should be equal
    ok 4 - Custom querystring parser should be a function # time=2.264ms
    
    1..4
    # time=199.185ms
ok 21 - test/custom-querystring-parser.test.js # time=199.185ms

# Subtest: test/decorator.test.js
    # Subtest: server methods should exist
        1..2
        ok 1 - expect truthy value
        ok 2 - expect truthy value
    ok 1 - server methods should exist # time=19.063ms
    
    # Subtest: should check if the given decoration already exist when null
        1..1
        ok 1 - expect truthy value
    ok 2 - should check if the given decoration already exist when null # time=88.39ms
    
    # Subtest: server methods should be encapsulated via .register
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 3 - server methods should be encapsulated via .register # time=8.47ms
    
    # Subtest: hasServerMethod should check if the given method already exist
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 4 - hasServerMethod should check if the given method already exist # time=8.866ms
    
    # Subtest: decorate should throw if a declared dependency is not present
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - (unnamed test)
    ok 5 - decorate should throw if a declared dependency is not present # time=8.951ms
    
    # Subtest: decorate should throw if declared dependency is not array
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - (unnamed test)
    ok 6 - decorate should throw if declared dependency is not array # time=6.158ms
    
    # Subtest: should pass error for missing request decorator
        1..2
        ok 1 - type is Error
        ok 2 - should match pattern provided
    ok 7 - should pass error for missing request decorator # time=7.034ms
    
    # Subtest: decorateReply inside register
        1..11
        ok 1 - should not error
        ok 2 - test exists
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 8 - decorateReply inside register # time=55.688ms
    
    # Subtest: decorateReply as plugin (inside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 9 - decorateReply as plugin (inside .after) # time=30.184ms
    
    # Subtest: decorateReply as plugin (outside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 10 - decorateReply as plugin (outside .after) # time=20.606ms
    
    # Subtest: decorateRequest inside register
        1..11
        ok 1 - should not error
        ok 2 - test exists
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 11 - decorateRequest inside register # time=17.973ms
    
    # Subtest: decorateRequest as plugin (inside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 12 - decorateRequest as plugin (inside .after) # time=20.565ms
    
    # Subtest: decorateRequest as plugin (outside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 13 - decorateRequest as plugin (outside .after) # time=15.612ms
    
    # Subtest: decorators should be instance separated
        1..1
        ok 1 - (unnamed test)
    ok 14 - decorators should be instance separated # time=2.203ms
    
    # Subtest: hasRequestDecorator
        # Subtest: is a function
            1..1
            ok 1 - expect truthy value
        ok 1 - is a function # time=1.334ms
        
        # Subtest: should check if the given request decoration already exist
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 2 - should check if the given request decoration already exist # time=1.838ms
        
        # Subtest: should check if the given request decoration already exist when null
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 3 - should check if the given request decoration already exist when null # time=1.853ms
        
        # Subtest: should be plugin encapsulable
            1..4
            ok 1 - expect falsey value
            ok 2 - expect falsey value
            ok 3 - expect truthy value
            ok 4 - expect falsey value
        ok 4 - should be plugin encapsulable # time=13.723ms
        
        # Subtest: should be inherited
            1..2
            ok 1 - expect truthy value
            ok 2 - expect truthy value
        ok 5 - should be inherited # time=5.582ms
        
        1..5
    ok 15 - hasRequestDecorator # time=43.286ms
    
    # Subtest: hasReplyDecorator
        # Subtest: is a function
            1..1
            ok 1 - expect truthy value
        ok 1 - is a function # time=1.471ms
        
        # Subtest: should check if the given reply decoration already exist
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 2 - should check if the given reply decoration already exist # time=1.898ms
        
        # Subtest: should check if the given reply decoration already exist when null
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 3 - should check if the given reply decoration already exist when null # time=1.75ms
        
        # Subtest: should be plugin encapsulable
            1..4
            ok 1 - expect falsey value
            ok 2 - expect falsey value
            ok 3 - expect truthy value
            ok 4 - expect falsey value
        ok 4 - should be plugin encapsulable # time=22.5ms
        
        # Subtest: should be inherited
            1..2
            ok 1 - expect truthy value
            ok 2 - expect truthy value
        ok 5 - should be inherited # time=11.631ms
        
        1..5
    ok 16 - hasReplyDecorator # time=129.648ms
    
    # Subtest: should register properties via getter/setter objects
        1..3
        ok 1 - expect truthy value
        ok 2 - a getter
        ok 3 - expect falsey value
    ok 17 - should register properties via getter/setter objects # time=14.554ms
    
    # Subtest: decorateRequest should work with getter/setter
        1..5
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - (unnamed test)
    ok 18 - decorateRequest should work with getter/setter # time=48.563ms
    
    # Subtest: decorateReply should work with getter/setter
        1..5
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - (unnamed test)
    ok 19 - decorateReply should work with getter/setter # time=16.897ms
    
    # Subtest: should register empty values
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 20 - should register empty values # time=4.359ms
    
    # Subtest: nested plugins can override things
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 21 - nested plugins can override things # time=18.039ms
    
    # Subtest: a decorator should addSchema to all the encapsulated tree
        1..1
        ok 1 - should not error
    ok 22 - a decorator should addSchema to all the encapsulated tree # time=14.392ms
    
    # Subtest: after can access to a decorated instance and previous plugin decoration
        1..11
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
    ok 23 - after can access to a decorated instance and previous plugin decoration # time=11.829ms
    
    # Subtest: decorate* should throw if called after ready
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 24 - decorate* should throw if called after ready # time=22.705ms
    
    # Subtest: decorate* should emit warning if an array is passed
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 25 - decorate* should emit warning if an array is passed # time=28.825ms
    
    # Subtest: decorate* should emit warning if object type is passed
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 26 - decorate* should emit warning if object type is passed # time=28.967ms
    
    # Subtest: decorate* should not emit warning if object with getter/setter is passed
        1..0
    ok 27 - decorate* should not emit warning if object with getter/setter is passed # time=23.775ms
    
    # Subtest: decorate* should not emit warning if string,bool,numbers are passed
        1..0
    ok 28 - decorate* should not emit warning if string,bool,numbers are passed # time=26.331ms
    
    # Subtest: Request/reply decorators should be able to access the server instance
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not be equal
        ok 4 - should be equal
        ok 5 - should not be equal
        ok 6 - should be equal
    ok 29 - Request/reply decorators should be able to access the server instance # time=9.713ms
    
    # Subtest: plugin required decorators
        1..0
    ok 30 - plugin required decorators # time=3.726ms
    
    # Subtest: decorateRequest/decorateReply empty string
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 31 - decorateRequest/decorateReply empty string # time=8.655ms
    
    # Subtest: decorateRequest/decorateReply is undefined
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 32 - decorateRequest/decorateReply is undefined # time=8.061ms
    
    # Subtest: decorateRequest/decorateReply is not set to a value
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 33 - decorateRequest/decorateReply is not set to a value # time=7.976ms
    
    # Subtest: decorateRequest with dependencies
        1..2
        ok 1 - expected to not throw
        ok 2 - expect truthy value
    ok 34 - decorateRequest with dependencies # time=12.751ms
    
    # Subtest: decorateRequest with dependencies (functions)
        1..2
        ok 1 - expected to not throw
        ok 2 - expect truthy value
    ok 35 - decorateRequest with dependencies (functions) # time=2.71ms
    
    # Subtest: chain of decorators on Request
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        1..6
    ok 36 - chain of decorators on Request # time=23.137ms
    
    # Subtest: chain of decorators on Reply
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        1..6
    ok 37 - chain of decorators on Reply # time=16.548ms
    
    1..37
    # time=881.415ms
ok 22 - test/decorator.test.js # time=881.415ms

# Subtest: test/default-route.test.js
    # Subtest: should fail if defaultRoute is not a function
        1..1
        ok 1 - should be equal
    ok 1 - should fail if defaultRoute is not a function # time=20.725ms
    
    # Subtest: correctly sets, returns, and calls defaultRoute
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 2 - correctly sets, returns, and calls defaultRoute # time=45.026ms
    
    1..2
    # time=77.727ms
ok 23 - test/default-route.test.js # time=77.727ms

# Subtest: test/delete.test.js
    # Subtest: shorthand - delete
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - delete # time=19.785ms
    
    # Subtest: shorthand - delete params
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - delete params # time=2.168ms
    
    # Subtest: shorthand - delete, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - delete, querystring schema # time=1.539ms
    
    # Subtest: shorthand - get, headers schema
        1..1
        ok 1 - (unnamed test)
    ok 4 - shorthand - get, headers schema # time=1.534ms
    
    # Subtest: missing schema - delete
        1..1
        ok 1 - (unnamed test)
    ok 5 - missing schema - delete # time=1.439ms
    
    # Subtest: body - delete
        1..1
        ok 1 - (unnamed test)
    ok 6 - body - delete # time=1.252ms
    
    # Subtest: shorthand - delete with application/json Content-Type header and without body
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - shorthand - delete with application/json Content-Type header and without body # time=55.56ms
    
    ok 8 - should not error
    # Subtest: shorthand - request delete
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 9 - shorthand - request delete # time=37.664ms
    
    # Subtest: shorthand - request delete params schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 10 - shorthand - request delete params schema # time=7.202ms
    
    # Subtest: shorthand - request delete params schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 11 - shorthand - request delete params schema error # time=6.649ms
    
    # Subtest: shorthand - request delete headers schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 12 - shorthand - request delete headers schema # time=5.458ms
    
    # Subtest: shorthand - request delete headers schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 13 - shorthand - request delete headers schema error # time=4.906ms
    
    # Subtest: shorthand - request delete querystring schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 14 - shorthand - request delete querystring schema # time=4.833ms
    
    # Subtest: shorthand - request delete querystring schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 15 - shorthand - request delete querystring schema error # time=4.858ms
    
    # Subtest: shorthand - request delete missing schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 16 - shorthand - request delete missing schema # time=4.83ms
    
    # Subtest: shorthand - delete with body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - shorthand - delete with body # time=8.064ms
    
    1..17
    # time=335.7ms
ok 24 - test/delete.test.js # time=335.7ms

# Subtest: test/diagnostics-channel.test.js
    # Subtest: diagnostics_channel when present and subscribers
        1..3
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should be equal
    ok 1 - diagnostics_channel when present and subscribers # time=1006.203ms
    
    # Subtest: diagnostics_channel when present and no subscribers
        1..1
        ok 1 - should be equal
    ok 2 - diagnostics_channel when present and no subscribers # time=31.565ms
    
    # Subtest: diagnostics_channel when not present
        1..1
        ok 1 - expected to not throw
    ok 3 - diagnostics_channel when not present # time=18.83ms
    
    1..3
    # time=1071.741ms
ok 25 - test/diagnostics-channel.test.js # time=1071.741ms

# Subtest: test/encapsulated-error-handler.test.js
    # Subtest: encapuslates an error handler
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 1 - encapuslates an error handler # time=68.567ms
    
    # Subtest: onError hook nested
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 2 - onError hook nested # time=12.747ms
    
    1..2
    # time=89.204ms
ok 26 - test/encapsulated-error-handler.test.js # time=89.204ms

# Subtest: test/esm/index.test.js
    # Subtest: named exports support
        ok 1 - should be equal
        1..1
    ok 1 - named exports support # time=70.951ms
    
    ok 2 - should be equal
    1..2
    # time=100.005ms
ok 27 - test/esm/index.test.js # time=100.005ms

# Subtest: test/fastify-instance.test.js
    # Subtest: root fastify instance is an object
        1..1
        ok 1 - type is object
    ok 1 - root fastify instance is an object # time=15.856ms
    
    # Subtest: fastify instance should contains ajv options
        1..1
        ok 1 - should be equivalent
    ok 2 - fastify instance should contains ajv options # time=7.106ms
    
    # Subtest: fastify instance should contains ajv options.plugins nested arrays
        1..1
        ok 1 - should be equivalent
    ok 3 - fastify instance should contains ajv options.plugins nested arrays # time=3.475ms
    
    # Subtest: fastify instance get invalid ajv options
        1..1
        ok 1 - expected to throw
    ok 4 - fastify instance get invalid ajv options # time=1.59ms
    
    # Subtest: fastify instance get invalid ajv options.plugins
        1..1
        ok 1 - expected to throw
    ok 5 - fastify instance get invalid ajv options.plugins # time=1.152ms
    
    # Subtest: fastify instance should contain default errorHandler
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 6 - fastify instance should contain default errorHandler # time=3.378ms
    
    # Subtest: errorHandler in plugin should be separate from the external one
        1..4
        ok 1 - should not be equivalent
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equivalent
    ok 7 - errorHandler in plugin should be separate from the external one # time=19.125ms
    
    1..7
    # time=76.875ms
ok 28 - test/fastify-instance.test.js # time=76.875ms

# Subtest: test/fluent-schema.test.js
    # Subtest: use fluent-json-schema object
        1..15
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equivalent
    ok 1 - use fluent-json-schema object # time=240.312ms
    
    # Subtest: use complex fluent-json-schema object
        1..1
        ok 1 - should not error
    ok 2 - use complex fluent-json-schema object # time=61.69ms
    
    # Subtest: use fluent schema and plain JSON schema
        1..1
        ok 1 - should not error
    ok 3 - use fluent schema and plain JSON schema # time=78.944ms
    
    # Subtest: Should call valueOf internally
        1..1
        ok 1 - should not error
    ok 4 - Should call valueOf internally # time=68.222ms
    
    1..4
    # time=458.113ms
ok 29 - test/fluent-schema.test.js # time=458.113ms

# Subtest: test/genReqId.test.js
    # Subtest: Should accept a custom genReqId function
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 1 - Should accept a custom genReqId function # time=70.313ms
    
    1..1
    # time=76.974ms
ok 30 - test/genReqId.test.js # time=76.974ms

# Subtest: test/get.test.js
    # Subtest: shorthand - get
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - get # time=10.27ms
    
    # Subtest: shorthand - get (return null)
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - get (return null) # time=2.679ms
    
    # Subtest: shorthand - get params
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - get params # time=2.865ms
    
    # Subtest: shorthand - get, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 4 - shorthand - get, querystring schema # time=2.371ms
    
    # Subtest: shorthand - get, headers schema
        1..1
        ok 1 - (unnamed test)
    ok 5 - shorthand - get, headers schema # time=2.355ms
    
    # Subtest: missing schema - get
        1..1
        ok 1 - (unnamed test)
    ok 6 - missing schema - get # time=2.642ms
    
    # Subtest: custom serializer - get
        1..1
        ok 1 - (unnamed test)
    ok 7 - custom serializer - get # time=2.726ms
    
    # Subtest: empty response
        1..1
        ok 1 - (unnamed test)
    ok 8 - empty response # time=4.383ms
    
    # Subtest: send a falsy boolean
        1..1
        ok 1 - (unnamed test)
    ok 9 - send a falsy boolean # time=1.908ms
    
    ok 10 - should not error
    # Subtest: shorthand - request get
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - shorthand - request get # time=40.446ms
    
    # Subtest: shorthand - request get params schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 12 - shorthand - request get params schema # time=7.535ms
    
    # Subtest: shorthand - request get params schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 13 - shorthand - request get params schema error # time=7.517ms
    
    # Subtest: shorthand - request get headers schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - shorthand - request get headers schema # time=6.479ms
    
    # Subtest: shorthand - request get headers schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 15 - shorthand - request get headers schema error # time=25.206ms
    
    # Subtest: shorthand - request get querystring schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 16 - shorthand - request get querystring schema # time=7.948ms
    
    # Subtest: shorthand - request get querystring schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - shorthand - request get querystring schema error # time=5.6ms
    
    # Subtest: shorthand - request get missing schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - shorthand - request get missing schema # time=5.468ms
    
    # Subtest: shorthand - custom serializer
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 19 - shorthand - custom serializer # time=8.495ms
    
    # Subtest: shorthand - empty response
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 20 - shorthand - empty response # time=5.311ms
    
    # Subtest: shorthand - send a falsy boolean
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - shorthand - send a falsy boolean # time=4.923ms
    
    # Subtest: shorthand - send null value
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - shorthand - send null value # time=12.331ms
    
    1..22
    # time=362.615ms
ok 31 - test/get.test.js # time=362.615ms

# Subtest: test/handler-context.test.js
    # Subtest: handlers receive correct `this` context
        1..4
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 1 - handlers receive correct `this` context # time=48.158ms
    
    # Subtest: handlers have access to the internal context
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - type is Object
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 2 - handlers have access to the internal context # time=18.138ms
    
    1..2
    # time=74.247ms
ok 32 - test/handler-context.test.js # time=74.247ms

# Subtest: test/head.test.js
    # Subtest: shorthand - head
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - head # time=17.699ms
    
    # Subtest: shorthand - head params
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - head params # time=2.818ms
    
    # Subtest: shorthand - head, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - head, querystring schema # time=1.977ms
    
    # Subtest: missing schema - head
        1..1
        ok 1 - (unnamed test)
    ok 4 - missing schema - head # time=1.875ms
    
    ok 5 - should not error
    # Subtest: shorthand - request head
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 6 - shorthand - request head # time=40.583ms
    
    # Subtest: shorthand - request head params schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 7 - shorthand - request head params schema # time=6.089ms
    
    # Subtest: shorthand - request head params schema error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 8 - shorthand - request head params schema error # time=6.184ms
    
    # Subtest: shorthand - request head querystring schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 9 - shorthand - request head querystring schema # time=4.937ms
    
    # Subtest: shorthand - request head querystring schema error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - shorthand - request head querystring schema error # time=4.791ms
    
    # Subtest: shorthand - request head missing schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 11 - shorthand - request head missing schema # time=4.201ms
    
    1..11
    # time=241.401ms
ok 33 - test/head.test.js # time=241.401ms

# Subtest: test/hooks-async.test.js
    # Subtest: async hooks
        1..21
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - should not error
        ok 13 - should be equal
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equivalent
        ok 18 - should not error
        ok 19 - should be equal
        ok 20 - expect truthy value
        ok 21 - expect truthy value
    ok 1 - async hooks # time=119.746ms
    
    # Subtest: modify payload
        1..10
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - expect truthy value
        ok 4 - should be equivalent
        ok 5 - expect truthy value
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
    ok 2 - modify payload # time=37.874ms
    
    # Subtest: onRequest hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 3 - onRequest hooks should be able to block a request # time=18.147ms
    
    # Subtest: preParsing hooks should be able to modify the payload
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 4 - preParsing hooks should be able to modify the payload # time=8.469ms
    
    # Subtest: preParsing hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 5 - preParsing hooks should handle errors # time=6.041ms
    
    # Subtest: preHandler hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 6 - preHandler hooks should be able to block a request # time=6.329ms
    
    # Subtest: preValidation hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 7 - preValidation hooks should be able to block a request # time=6.27ms
    
    # Subtest: preValidation hooks should be able to change request body before validation
        1..4
        ok 1 - (unnamed test)
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - preValidation hooks should be able to change request body before validation # time=109.865ms
    
    # Subtest: preSerialization hooks should be able to modify the payload
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - preSerialization hooks should be able to modify the payload # time=6.826ms
    
    # Subtest: preSerialization hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - preSerialization hooks should handle errors # time=7.442ms
    
    # Subtest: preValidation hooks should handle throwing null
        1..4
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - preValidation hooks should handle throwing null # time=10.618ms
    
    # Subtest: preValidation hooks should handle throwing a string
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 12 - preValidation hooks should handle throwing a string # time=5.732ms
    
    # Subtest: onRequest hooks should be able to block a request (last hook)
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 13 - onRequest hooks should be able to block a request (last hook) # time=6.249ms
    
    # Subtest: preHandler hooks should be able to block a request (last hook)
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 14 - preHandler hooks should be able to block a request (last hook) # time=5.674ms
    
    # Subtest: onRequest respond with a stream
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - onRequest respond with a stream # time=11.32ms
    
    # Subtest: preHandler respond with a stream
        1..7
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 16 - preHandler respond with a stream # time=15.472ms
    
    # Subtest: Should log a warning if is an async function with `done`
        # Subtest: 3 arguments
            1..1
            ok 1 - expect truthy value
        ok 1 - 3 arguments # time=1.796ms
        
        # Subtest: 4 arguments
            1..3
            ok 1 - expect truthy value
            ok 2 - expect truthy value
            ok 3 - expect truthy value
        ok 2 - 4 arguments # time=2.067ms
        
        1..2
    ok 17 - Should log a warning if is an async function with `done` # time=16.386ms
    
    # Subtest: early termination, onRequest async
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 18 - early termination, onRequest async # time=17.599ms
    
    # Subtest: The this should be the same of the encapsulation level
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        1..4
    ok 19 - The this should be the same of the encapsulation level # time=24.702ms
    
    # Subtest: preSerializationEnd should handle errors if the serialize method throws
        # Subtest: works with sync preSerialization
            1..2
            ok 1 - should not error
            ok 2 - should not be equal
        ok 1 - works with sync preSerialization # time=19.923ms
        
        # Subtest: works with async preSerialization
            1..2
            ok 1 - should not error
            ok 2 - should not be equal
        ok 2 - works with async preSerialization # time=6.69ms
        
        1..2
    ok 20 - preSerializationEnd should handle errors if the serialize method throws # time=31.51ms
    
    1..20
    # time=494.331ms
ok 34 - test/hooks-async.test.js # time=494.331ms

# Subtest: test/hooks.on-ready.test.js
    # Subtest: onReady should be called in order
        1..7
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
        ok 7 - should not error
    ok 1 - onReady should be called in order # time=71.828ms
    
    # Subtest: async onReady should be called in order
        1..7
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
        ok 7 - ready
    ok 2 - async onReady should be called in order # time=19.327ms
    
    # Subtest: mix ready and onReady
        1..2
        ok 1 - should be equal
        ok 2 - ready hooks execute once
    ok 3 - mix ready and onReady # time=18.569ms
    
    # Subtest: listen and onReady order
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - trigger the onReady
        ok 9 - do not trigger the onReady
    ok 4 - listen and onReady order # time=24.961ms
    
    # Subtest: multiple ready calls
        1..11
        ok 1 - ready and hooks not triggered yet
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - trigger the onReady
        ok 10 - do not trigger the onReady
        ok 11 - do not trigger the onReady
    ok 5 - multiple ready calls # time=10.976ms
    
    # Subtest: onReady should manage error in sync
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 6 - onReady should manage error in sync # time=7.105ms
    
    # Subtest: onReady should manage error in async
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 7 - onReady should manage error in async # time=35.308ms
    
    # Subtest: onReady should manage sync error
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 8 - onReady should manage sync error # time=6.707ms
    
    # Subtest: onReady can not add decorators or application hooks
        1..3
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should not error
    ok 9 - onReady can not add decorators or application hooks # time=5.83ms
    
    # Subtest: onReady cannot add lifecycle hooks
        1..5
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 10 - onReady cannot add lifecycle hooks # time=10.407ms
    
    # Subtest: onReady throw loading error
        1..1
        ok 1 - expect truthy value
    ok 11 - onReady throw loading error # time=2.299ms
    
    # Subtest: onReady does not call done
        1..6
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
        ok 6 - should be equal
    ok 12 - onReady does not call done # time=524.627ms
    
    # Subtest: onReady execution order
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 13 - onReady execution order # time=3.792ms
    
    # Subtest: ready return the server with callback
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 14 - ready return the server with callback # time=31.957ms
    
    # Subtest: ready return the server with Promise
        1..1
        ok 1 - should be equivalent
    ok 15 - ready return the server with Promise # time=12.385ms
    
    # Subtest: ready return registered
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
    ok 16 - ready return registered # time=34.472ms
    
    1..16
    # time=843.678ms
ok 35 - test/hooks.on-ready.test.js # time=843.678ms

# Subtest: test/hooks.test.js
    # Subtest: hooks
        1..43
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - (unnamed test)
        ok 4 - (unnamed test)
        ok 5 - (unnamed test)
        ok 6 - (unnamed test)
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - expect truthy value
        ok 20 - expect truthy value
        ok 21 - expect truthy value
        ok 22 - expect truthy value
        ok 23 - should be equal
        ok 24 - should be equal
        ok 25 - should be equal
        ok 26 - should be equal
        ok 27 - should be equal
        ok 28 - should be equal
        ok 29 - should be equal
        ok 30 - should be equal
        ok 31 - should be equal
        ok 32 - expect truthy value
        ok 33 - expect truthy value
        ok 34 - expect truthy value
        ok 35 - expect truthy value
        ok 36 - should not error
        ok 37 - should be equal
        ok 38 - should be equal
        ok 39 - should be equivalent
        ok 40 - should not error
        ok 41 - should be equal
        ok 42 - should not error
        ok 43 - should be equal
    ok 1 - hooks # time=159.363ms
    
    # Subtest: onRequest hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 2 - onRequest hook should support encapsulation / 1 # time=22.948ms
    
    # Subtest: onRequest hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 3 - onRequest hook should support encapsulation / 2 # time=6.682ms
    
    # Subtest: onRequest hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 4 - onRequest hook should support encapsulation / 3 # time=19.608ms
    
    # Subtest: preHandler hook should support encapsulation / 5
        1..17
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equivalent
    ok 5 - preHandler hook should support encapsulation / 5 # time=13.343ms
    
    # Subtest: onRoute hook should be called / 1
        1..2
        ok 1 - (unnamed test)
        ok 2 - should not error
    ok 6 - onRoute hook should be called / 1 # time=4.113ms
    
    # Subtest: onRoute hook should be called / 2
        1..5
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 7 - onRoute hook should be called / 2 # time=7.827ms
    
    # Subtest: onRoute hook should be called / 3
        1..5
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - (unnamed test)
        ok 5 - should not error
    ok 8 - onRoute hook should be called / 3 # time=16.838ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 4
        1..4
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - (unnamed test)
        ok 4 - should not error
    ok 9 - onRoute hook should be called (encapsulation support) / 4 # time=6.397ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 5
        1..2
        ok 1 - (unnamed test)
        ok 2 - should not error
    ok 10 - onRoute hook should be called (encapsulation support) / 5 # time=8.016ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 6
        1..1
        ok 1 - should not error
    ok 11 - onRoute hook should be called (encapsulation support) / 6 # time=4.566ms
    
    # Subtest: onRoute should keep the context
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
    ok 12 - onRoute should keep the context # time=5.412ms
    
    # Subtest: onRoute hook should pass correct route
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should not error
    ok 13 - onRoute hook should pass correct route # time=6.023ms
    
    # Subtest: onRoute hook should pass correct route with custom prefix
        1..11
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
    ok 14 - onRoute hook should pass correct route with custom prefix # time=6.367ms
    
    # Subtest: onRoute hook should pass correct route with custom options
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - type is function
        ok 6 - should not error
    ok 15 - onRoute hook should pass correct route with custom options # time=25.349ms
    
    # Subtest: onRoute hook should receive any route option
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 16 - onRoute hook should receive any route option # time=14.424ms
    
    # Subtest: onRoute hook should preserve system route configuration
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 17 - onRoute hook should preserve system route configuration # time=10.746ms
    
    # Subtest: onRoute hook should preserve handler function in options of shorthand route system configuration
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 18 - onRoute hook should preserve handler function in options of shorthand route system configuration # time=4.21ms
    
    # Subtest: onRoute hook should be called once when prefixTrailingSlash
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 19 - onRoute hook should be called once when prefixTrailingSlash # time=41.777ms
    
    # Subtest: onRoute hook should able to change the route url
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 20 - onRoute hook should able to change the route url # time=13.525ms
    
    # Subtest: onRoute hook that throws should be caught
        1..1
        ok 1 - expect truthy value
    ok 21 - onRoute hook that throws should be caught # time=4.66ms
    
    # Subtest: onRoute hook with many prefix
        1..3
        ok 1 - should match pattern provided
        ok 2 - should match pattern provided
        ok 3 - should not error
    ok 22 - onRoute hook with many prefix # time=32.86ms
    
    # Subtest: onRoute hook should not be called when it registered after route
        1..3
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
    ok 23 - onRoute hook should not be called when it registered after route # time=12.306ms
    
    # Subtest: onResponse hook should log request error
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 24 - onResponse hook should log request error # time=104.361ms
    
    # Subtest: onResponse hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 25 - onResponse hook should support encapsulation / 1 # time=7.496ms
    
    # Subtest: onResponse hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 26 - onResponse hook should support encapsulation / 2 # time=3.78ms
    
    # Subtest: onResponse hook should support encapsulation / 3
        1..16
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 27 - onResponse hook should support encapsulation / 3 # time=17.988ms
    
    # Subtest: onSend hook should support encapsulation / 1
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 28 - onSend hook should support encapsulation / 1 # time=3.684ms
    
    # Subtest: onSend hook should support encapsulation / 2
        1..16
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 29 - onSend hook should support encapsulation / 2 # time=14.088ms
    
    # Subtest: onSend hook is called after payload is serialized and headers are set
        1..30
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should be equal
        ok 15 - should not error
        ok 16 - should be equal
        ok 17 - should be equivalent
        ok 18 - should be equal
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equivalent
        ok 22 - should be equal
        ok 23 - should not error
        ok 24 - should be equal
        ok 25 - should be equivalent
        ok 26 - should be equal
        ok 27 - should not error
        ok 28 - should be equal
        ok 29 - should be equivalent
        ok 30 - should be equal
    ok 30 - onSend hook is called after payload is serialized and headers are set # time=22.066ms
    
    # Subtest: modify payload
        1..10
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - expect truthy value
        ok 4 - should be equivalent
        ok 5 - expect truthy value
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
    ok 31 - modify payload # time=6.779ms
    
    # Subtest: clear payload
        1..6
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 32 - clear payload # time=4.453ms
    
    # Subtest: onSend hook throws
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 33 - onSend hook throws # time=30.361ms
    
    # Subtest: onSend hook should receive valid request and reply objects if onRequest hook fails
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 34 - onSend hook should receive valid request and reply objects if onRequest hook fails # time=6.96ms
    
    # Subtest: onSend hook should receive valid request and reply objects if a custom content type parser fails
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 35 - onSend hook should receive valid request and reply objects if a custom content type parser fails # time=10.365ms
    
    # Subtest: Content-Length header should be updated if onSend hook modifies the payload
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 36 - Content-Length header should be updated if onSend hook modifies the payload # time=5.481ms
    
    # Subtest: cannot add hook after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 37 - cannot add hook after binding # time=4.995ms
    
    # Subtest: onRequest hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 38 - onRequest hooks should be able to block a request # time=5.051ms
    
    # Subtest: preValidation hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 39 - preValidation hooks should be able to block a request # time=4.901ms
    
    # Subtest: preValidation hooks should be able to change request body before validation
        1..4
        ok 1 - (unnamed test)
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 40 - preValidation hooks should be able to change request body before validation # time=78.59ms
    
    # Subtest: preParsing hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 41 - preParsing hooks should be able to block a request # time=5.171ms
    
    # Subtest: preHandler hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 42 - preHandler hooks should be able to block a request # time=4.546ms
    
    # Subtest: onRequest hooks should be able to block a request (last hook)
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 43 - onRequest hooks should be able to block a request (last hook) # time=4.359ms
    
    # Subtest: preHandler hooks should be able to block a request (last hook)
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 44 - preHandler hooks should be able to block a request (last hook) # time=4.182ms
    
    # Subtest: preParsing hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 45 - preParsing hooks should handle errors # time=4.435ms
    
    # Subtest: onRequest respond with a stream
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 46 - onRequest respond with a stream # time=23.081ms
    
    # Subtest: preHandler respond with a stream
        1..7
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 47 - preHandler respond with a stream # time=6.361ms
    
    # Subtest: Register an hook after a plugin inside a plugin
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 48 - Register an hook after a plugin inside a plugin # time=7.409ms
    
    # Subtest: Register an hook after a plugin inside a plugin (with preHandler option)
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 49 - Register an hook after a plugin inside a plugin (with preHandler option) # time=6.51ms
    
    # Subtest: Register hooks inside a plugin after an encapsulated plugin
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 50 - Register hooks inside a plugin after an encapsulated plugin # time=6.815ms
    
    # Subtest: onRequest hooks should run in the order in which they are defined
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 51 - onRequest hooks should run in the order in which they are defined # time=10.741ms
    
    # Subtest: preHandler hooks should run in the order in which they are defined
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 52 - preHandler hooks should run in the order in which they are defined # time=7.837ms
    
    # Subtest: onSend hooks should run in the order in which they are defined
        1..8
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equivalent
    ok 53 - onSend hooks should run in the order in which they are defined # time=7.778ms
    
    # Subtest: onResponse hooks should run in the order in which they are defined
        1..8
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equivalent
    ok 54 - onResponse hooks should run in the order in which they are defined # time=7.722ms
    
    # Subtest: onRequest, preHandler, and onResponse hooks that resolve to a value do not cause an error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 55 - onRequest, preHandler, and onResponse hooks that resolve to a value do not cause an error # time=4.383ms
    
    # Subtest: If a response header has been set inside an hook it shoulod not be overwritten by the final response handler
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 56 - If a response header has been set inside an hook it shoulod not be overwritten by the final response handler # time=3.447ms
    
    # Subtest: If the content type has been set inside an hook it should not be changed
        1..5
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 57 - If the content type has been set inside an hook it should not be changed # time=3.836ms
    
    # Subtest: request in onRequest, preParsing, preValidation and onResponse
        1..18
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equivalent
        ok 10 - should be equivalent
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equivalent
        ok 14 - should be equivalent
        ok 15 - should be equivalent
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
    ok 58 - request in onRequest, preParsing, preValidation and onResponse # time=12.613ms
    
    # Subtest: preValidation hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 59 - preValidation hook should support encapsulation / 1 # time=23.67ms
    
    # Subtest: preValidation hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 60 - preValidation hook should support encapsulation / 2 # time=12.093ms
    
    # Subtest: preValidation hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 61 - preValidation hook should support encapsulation / 3 # time=26.443ms
    
    # Subtest: onError hook
        1..3
        ok 1 - should match pattern provided
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 62 - onError hook # time=4.824ms
    
    # Subtest: reply.send should throw if called inside the onError hook
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 63 - reply.send should throw if called inside the onError hook # time=4.596ms
    
    # Subtest: onError hook with setErrorHandler
        # Subtest: Send error
            1..3
            ok 1 - should match pattern provided
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 1 - Send error # time=4.886ms
        
        1..1
    ok 64 - onError hook with setErrorHandler # time=9.761ms
    
    # Subtest: preParsing hook should run before parsing and be able to modify the payload
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 65 - preParsing hook should run before parsing and be able to modify the payload # time=26.452ms
    
    # Subtest: preParsing hooks should run in the order in which they are defined
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 66 - preParsing hooks should run in the order in which they are defined # time=7.445ms
    
    # Subtest: preParsing hooks should support encapsulation
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 67 - preParsing hooks should support encapsulation # time=11.396ms
    
    # Subtest: preParsing hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 68 - preParsing hook should support encapsulation / 1 # time=5.878ms
    
    # Subtest: preParsing hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 69 - preParsing hook should support encapsulation / 2 # time=5.346ms
    
    # Subtest: preParsing hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 70 - preParsing hook should support encapsulation / 3 # time=17.587ms
    
    # Subtest: preSerialization hook should run before serialization and be able to modify the payload
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 71 - preSerialization hook should run before serialization and be able to modify the payload # time=18.045ms
    
    # Subtest: preSerialization hook should be able to throw errors which are validated against schema response
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        1..6
    ok 72 - preSerialization hook should be able to throw errors which are validated against schema response # time=10.403ms
    
    # Subtest: preSerialization hook which returned error should still run onError hooks
        1..4
        ok 1 - should not error
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - should be equal
    ok 73 - preSerialization hook which returned error should still run onError hooks # time=6.827ms
    
    # Subtest: preSerialization hooks should run in the order in which they are defined
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 74 - preSerialization hooks should run in the order in which they are defined # time=8.854ms
    
    # Subtest: preSerialization hooks should support encapsulation
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 75 - preSerialization hooks should support encapsulation # time=17.4ms
    
    # Subtest: onRegister hook should be called / 1
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should not error
    ok 76 - onRegister hook should be called / 1 # time=4.947ms
    
    # Subtest: onRegister hook should be called / 2
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
    ok 77 - onRegister hook should be called / 2 # time=6.521ms
    
    # Subtest: onRegister hook should be called / 3
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
    ok 78 - onRegister hook should be called / 3 # time=5.313ms
    
    # Subtest: onRegister hook should be called (encapsulation)
        1..1
        ok 1 - should not error
    ok 79 - onRegister hook should be called (encapsulation) # time=2.424ms
    
    # Subtest: early termination, onRequest
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 80 - early termination, onRequest # time=4.652ms
    
    # Subtest: reply.send should throw if undefined error is thrown
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 81 - reply.send should throw if undefined error is thrown # time=7.023ms
    
    # Subtest: reply.send should throw if undefined error is thrown at preParsing hook
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 82 - reply.send should throw if undefined error is thrown at preParsing hook # time=22.902ms
    
    # Subtest: reply.send should throw if undefined error is thrown at onSend hook
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 83 - reply.send should throw if undefined error is thrown at onSend hook # time=4.805ms
    
    # Subtest: onTimeout should be triggered
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - onTimeout
        ok 5 - type is Error
        ok 6 - should be equal
    ok 84 - onTimeout should be triggered # time=510.049ms
    
    # Subtest: onTimeout should be triggered and socket _meta is set
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - onTimeout
        ok 5 - type is Error
        ok 6 - should be equal
    ok 85 - onTimeout should be triggered and socket _meta is set # time=508.959ms
    
    1..85
    # time=2302.165ms
ok 36 - test/hooks.test.js # time=2302.165ms

# Subtest: test/http2/closing.test.js
    # Subtest: http/2 request while fastify closing
        ok 1 - http2 successfully loaded
        ok 2 - should not error
        # Subtest: return 200
            ok 1 - should be equal
            1..1
        ok 3 - return 200 # time=11.973ms
        
        1..3
    ok 1 - http/2 request while fastify closing # time=58.537ms
    
    # Subtest: http/2 request while fastify closing - return503OnClosing: false
        ok 1 - http2 successfully loaded
        ok 2 - should not error
        # Subtest: return 200
            ok 1 - should be equal
            1..1
        ok 3 - return 200 # time=4.83ms
        
        1..3
    ok 2 - http/2 request while fastify closing - return503OnClosing: false # time=13.997ms
    
    # Subtest: http/2 closes successfully with async await
        1..0
    ok 3 - http/2 closes successfully with async await # time=114.285ms
    
    # Subtest: https/2 closes successfully with async await
        1..0
    ok 4 - https/2 closes successfully with async await # time=13.728ms
    
    # Subtest: http/2 server side session emits a timeout event
        ok 1 - should be equal
        1..1
    ok 5 - http/2 server side session emits a timeout event # time=113.033ms
    
    1..5
    # time=341.75ms
ok 37 - test/http2/closing.test.js # time=341.75ms

# Subtest: test/http2/constraint.test.js
    # Subtest: A route supports host constraints under http2 protocol and secure connection
        1..5
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request - no constrain
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - https get request - no constrain # time=42.978ms
        
        # Subtest: https get request - constrain
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - https get request - constrain # time=14.364ms
        
        # Subtest: https get request - constrain - not found
            1..1
            ok 1 - should be equal
        ok 5 - https get request - constrain - not found # time=11.177ms
        
    ok 1 - A route supports host constraints under http2 protocol and secure connection # time=156.003ms
    
    1..1
    # time=189.648ms
ok 38 - test/http2/constraint.test.js # time=189.648ms

# Subtest: test/http2/head.test.js
    ok 1 - http2 successfully loaded
    ok 2 - should not error
    # Subtest: http HEAD request
        1..1
        ok 1 - should be equal
    ok 3 - http HEAD request # time=59.399ms
    
    1..3
    # time=139.48ms
ok 39 - test/http2/head.test.js # time=139.48ms

# Subtest: test/http2/missing-http2-module.test.js
    # Subtest: should throw when http2 module cannot be found
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - should throw when http2 module cannot be found # time=12.349ms
    
    1..1
    # time=18.817ms
ok 40 - test/http2/missing-http2-module.test.js # time=18.817ms

# Subtest: test/http2/plain.test.js
    ok 1 - http2 successfully loaded
    ok 2 - should not error
    # Subtest: http get request
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 3 - http get request # time=34.971ms
    
    # Subtest: http hostname
        1..1
        ok 1 - should be equal
    ok 4 - http hostname # time=7.668ms
    
    1..4
    # time=132.593ms
ok 41 - test/http2/plain.test.js # time=132.593ms

# Subtest: test/http2/secure-with-fallback.test.js
    # Subtest: secure with fallback
        1..7
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get error
            1..1
            ok 1 - should be equal
        ok 3 - https get error # time=37.923ms
        
        # Subtest: https post
            1..2
            ok 1 - should be equal
            ok 2 - should be equivalent
        ok 4 - https post # time=17.802ms
        
        # Subtest: https get request
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - https get request # time=11.011ms
        
        # Subtest: http1 get request
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 6 - http1 get request # time=18.327ms
        
        # Subtest: http1 get error
            1..2
            ok 1 - should not error
            ok 2 - should be equal
        ok 7 - http1 get error # time=7.433ms
        
    ok 1 - secure with fallback # time=175.986ms
    
    1..1
    # time=202.992ms
ok 42 - test/http2/secure-with-fallback.test.js # time=202.992ms

# Subtest: test/http2/secure.test.js
    # Subtest: secure
        1..4
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - https get request # time=41.187ms
        
        # Subtest: https get request without trust proxy - protocol
            1..2
            ok 1 - should be equivalent
            ok 2 - should be equivalent
        ok 4 - https get request without trust proxy - protocol # time=23.359ms
        
    ok 1 - secure # time=164.709ms
    
    1..1
    # time=195.717ms
ok 43 - test/http2/secure.test.js # time=195.717ms

# Subtest: test/http2/unknown-http-method.test.js
    ok 1 - should not error
    # Subtest: http UNKNOWN_METHOD request
        1..2
        ok 1 - should be equal
        ok 2 - should be equivalent
    ok 2 - http UNKNOWN_METHOD request # time=34.995ms
    
    1..2
    # time=98.871ms
ok 44 - test/http2/unknown-http-method.test.js # time=98.871ms

# Subtest: test/https/custom-https-server.test.js
    # Subtest: Should support a custom https server
        1..4
        ok 1 - it is called twice for every HOST interface
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - Should support a custom https server # time=83.808ms
    
    1..1
    # time=116.901ms
ok 45 - test/https/custom-https-server.test.js # time=116.901ms

# Subtest: test/https/https.test.js
    # Subtest: https
        1..4
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 3 - https get request # time=39.978ms
        
        # Subtest: https get request without trust proxy - protocol
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 4 - https get request without trust proxy - protocol # time=17.481ms
        
    ok 1 - https # time=142.699ms
    
    1..1
    # time=177.739ms
ok 46 - test/https/https.test.js # time=177.739ms

# Subtest: test/imports.test.js
    # Subtest: should import as default
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 1 - should import as default # time=762.34ms
    
    # Subtest: should import as esm
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 2 - should import as esm # time=2.088ms
    
    1..2
    # time=779.207ms
ok 47 - test/imports.test.js # time=779.207ms

# Subtest: test/inject.test.js
    # Subtest: inject should exist
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 1 - inject should exist # time=16.193ms
    
    # Subtest: should wait for the ready event
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 2 - should wait for the ready event # time=600.718ms
    
    # Subtest: inject get request
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 3 - inject get request # time=9.329ms
    
    # Subtest: inject get request - code check
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 4 - inject get request - code check # time=10.796ms
    
    # Subtest: inject get request - headers check
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 5 - inject get request - headers check # time=7.658ms
    
    # Subtest: inject get request - querystring
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 6 - inject get request - querystring # time=7.203ms
    
    # Subtest: inject get request - params
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 7 - inject get request - params # time=6.486ms
    
    # Subtest: inject get request - wildcard
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - inject get request - wildcard # time=6.86ms
    
    # Subtest: inject get request - headers
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 9 - inject get request - headers # time=12.397ms
    
    # Subtest: inject post request
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 10 - inject post request # time=24.188ms
    
    # Subtest: inject post request - send stream
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 11 - inject post request - send stream # time=8.974ms
    
    # Subtest: inject get request - reply stream
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 12 - inject get request - reply stream # time=10.497ms
    
    # Subtest: inject promisify - waiting for ready event
        1..1
        ok 1 - should be equal
    ok 13 - inject promisify - waiting for ready event # time=23.876ms
    
    # Subtest: inject promisify - after the ready event
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 14 - inject promisify - after the ready event # time=13.353ms
    
    # Subtest: inject promisify - when the server is up
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 15 - inject promisify - when the server is up # time=24.725ms
    
    # Subtest: should reject in error case
        1..1
        ok 1 - should be equal
    ok 16 - should reject in error case # time=506.454ms
    
    # Subtest: inject a multipart request using form-body
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 17 - inject a multipart request using form-body # time=16.235ms
    
    # Subtest: should error the promise if ready errors
        1..3
        ok 1 - after is called
        ok 2 - expect truthy value
        ok 3 - should be equal
    ok 18 - should error the promise if ready errors # time=16.903ms
    
    # Subtest: should throw error if callback specified and if ready errors
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 19 - should throw error if callback specified and if ready errors # time=13.418ms
    
    # Subtest: should support builder-style injection with ready app
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
    ok 20 - should support builder-style injection with ready app # time=15.97ms
    
    # Subtest: should support builder-style injection with non-ready app
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
    ok 21 - should support builder-style injection with non-ready app # time=19.514ms
    
    # Subtest: should handle errors in builder-style injection correctly
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 22 - should handle errors in builder-style injection correctly # time=26.766ms
    
    1..22
    # time=1439.352ms
ok 48 - test/inject.test.js # time=1439.352ms

# Subtest: test/internals/all.test.js
    # Subtest: fastify.all should add all the methods to the same url
        1..14
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equivalent
    ok 1 - fastify.all should add all the methods to the same url # time=53.733ms
    
    1..1
    # time=57.592ms
ok 49 - test/internals/all.test.js # time=57.592ms

# Subtest: test/internals/contentTypeParser.test.js
    # Subtest: rawBody function
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - rawBody function # time=22.335ms
    
    # Subtest: Should support Webpack and faux modules
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - Should support Webpack and faux modules # time=11.567ms
    
    1..2
    # time=47.996ms
ok 50 - test/internals/contentTypeParser.test.js # time=47.996ms

# Subtest: test/internals/decorator.test.js
    # Subtest: decorate should add the given method to its instance
        1..1
        ok 1 - expect truthy value
    ok 1 - decorate should add the given method to its instance # time=5.689ms
    
    # Subtest: decorate is chainable
        1..3
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
    ok 2 - decorate is chainable # time=1.886ms
    
    # Subtest: checkExistence should check if a property is part of the given instance
        1..1
        ok 1 - expect truthy value
    ok 3 - checkExistence should check if a property is part of the given instance # time=1.592ms
    
    # Subtest: checkExistence should find the instance if not given
        1..1
        ok 1 - expect truthy value
    ok 4 - checkExistence should find the instance if not given # time=1.602ms
    
    # Subtest: checkExistence should check the prototype as well
        1..1
        ok 1 - expect truthy value
    ok 5 - checkExistence should check the prototype as well # time=1.358ms
    
    # Subtest: checkDependencies should throw if a dependency is not present
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 6 - checkDependencies should throw if a dependency is not present # time=2.06ms
    
    # Subtest: decorate should internally call checkDependencies
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 7 - decorate should internally call checkDependencies # time=1.473ms
    
    # Subtest: decorate should recognize getter/setter objects
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - (unnamed test)
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 8 - decorate should recognize getter/setter objects # time=2.848ms
    
    1..8
    # time=75.23ms
ok 51 - test/internals/decorator.test.js # time=75.23ms

# Subtest: test/internals/handleRequest.test.js
    # Subtest: handleRequest function - sent reply
        1..1
        ok 1 - should be equal
    ok 1 - handleRequest function - sent reply # time=6.614ms
    
    # Subtest: handleRequest function - invoke with error
        1..1
        ok 1 - should be equal
    ok 2 - handleRequest function - invoke with error # time=1.35ms
    
    # Subtest: handler function - invalid schema
        1..1
        ok 1 - errorHandler called
    ok 3 - handler function - invalid schema # time=74.725ms
    
    # Subtest: handler function - reply
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - (unnamed test)
    ok 4 - handler function - reply # time=2.901ms
    
    # Subtest: handler function - preValidationCallback with finished response
        1..0
    ok 5 - handler function - preValidationCallback with finished response # time=0.791ms
    
    # Subtest: request should be defined in onSend Hook on post request with content type application/json
        1..8
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - should not error
        ok 8 - should be equal
    ok 6 - request should be defined in onSend Hook on post request with content type application/json # time=334.903ms
    
    # Subtest: request should be defined in onSend Hook on post request with content type application/x-www-form-urlencoded
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - should be equal
    ok 7 - request should be defined in onSend Hook on post request with content type application/x-www-form-urlencoded # time=12.703ms
    
    # Subtest: request should be defined in onSend Hook on options request with content type application/x-www-form-urlencoded
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - should be equal
    ok 8 - request should be defined in onSend Hook on options request with content type application/x-www-form-urlencoded # time=26.321ms
    
    # Subtest: request should respond with an error if an unserialized payload is sent inside an async handler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
    ok 9 - request should respond with an error if an unserialized payload is sent inside an async handler # time=42.177ms
    
    1..9
    # time=525.039ms
ok 52 - test/internals/handleRequest.test.js # time=525.039ms

# Subtest: test/internals/hookRunner.test.js
    # Subtest: hookRunner - Basic
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 1 - hookRunner - Basic # time=8.943ms
    
    # Subtest: hookRunner - In case of error should skip to done
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 2 - hookRunner - In case of error should skip to done # time=2.703ms
    
    # Subtest: hookRunner - Should handle throw
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 3 - hookRunner - Should handle throw # time=2.18ms
    
    # Subtest: hookRunner - Should handle promises
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 4 - hookRunner - Should handle promises # time=30.148ms
    
    # Subtest: hookRunner - In case of error should skip to done (with promises)
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 5 - hookRunner - In case of error should skip to done (with promises) # time=3.398ms
    
    # Subtest: hookRunner - Be able to exit before its natural end
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 6 - hookRunner - Be able to exit before its natural end # time=1.858ms
    
    # Subtest: hookRunner - Promises that resolve to a value do not change the state
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 7 - hookRunner - Promises that resolve to a value do not change the state # time=3.44ms
    
    # Subtest: onSendHookRunner - Basic
        1..13
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equal
        ok 10 - should not error
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equal
    ok 8 - onSendHookRunner - Basic # time=10.266ms
    
    # Subtest: onSendHookRunner - Can change the payload
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 9 - onSendHookRunner - Can change the payload # time=4.702ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 10 - onSendHookRunner - In case of error should skip to done # time=3.314ms
    
    # Subtest: onSendHookRunner - Should handle promises
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 11 - onSendHookRunner - Should handle promises # time=3.931ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done (with promises)
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 12 - onSendHookRunner - In case of error should skip to done (with promises) # time=3.663ms
    
    # Subtest: onSendHookRunner - Be able to exit before its natural end
        1..2
        ok 1 - should be equivalent
        ok 2 - should be equivalent
    ok 13 - onSendHookRunner - Be able to exit before its natural end # time=1.499ms
    
    1..13
    # time=124.914ms
ok 53 - test/internals/hookRunner.test.js # time=124.914ms

# Subtest: test/internals/hooks.test.js
    # Subtest: hooks should have 4 array with the registered hooks
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        1..8
    ok 1 - hooks should have 4 array with the registered hooks # time=10.535ms
    
    # Subtest: hooks.add should add a hook to the given hook
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        1..14
    ok 2 - hooks.add should add a hook to the given hook # time=6.9ms
    
    # Subtest: hooks should throw on unexisting handler
        1..1
        ok 1 - (unnamed test)
    ok 3 - hooks should throw on unexisting handler # time=1.434ms
    
    # Subtest: should throw on wrong parameters
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 4 - should throw on wrong parameters # time=2.236ms
    
    1..4
    # time=37.472ms
ok 54 - test/internals/hooks.test.js # time=37.472ms

# Subtest: test/internals/initialConfig.test.js
    # Subtest: Fastify.initialConfig is an object
        1..1
        ok 1 - type is object
    ok 1 - Fastify.initialConfig is an object # time=15.787ms
    
    # Subtest: without options passed to Fastify, initialConfig should expose default values
        1..1
        ok 1 - should be equivalent
    ok 2 - without options passed to Fastify, initialConfig should expose default values # time=8.133ms
    
    # Subtest: Fastify.initialConfig should expose all options
        1..20
        ok 1 - should be equal
        ok 2 - for security reason the key cert is hidden
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - expect truthy value
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equal
    ok 3 - Fastify.initialConfig should expose all options # time=9.795ms
    
    # Subtest: Should throw if you try to modify Fastify.initialConfig
        1..4
        ok 1 - type is TypeError
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - (unnamed test)
    ok 4 - Should throw if you try to modify Fastify.initialConfig # time=2.944ms
    
    # Subtest: We must avoid shallow freezing and ensure that the whole object is freezed
        1..4
        ok 1 - type is TypeError
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - key cert removed
    ok 5 - We must avoid shallow freezing and ensure that the whole object is freezed # time=15.544ms
    
    # Subtest: https value check
        1..1
        ok 1 - expect falsey value
    ok 6 - https value check # time=1.318ms
    
    # Subtest: Return an error if options do not match the validation schema
        1..6
        ok 1 - type is Error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
        ok 6 - (unnamed test)
    ok 7 - Return an error if options do not match the validation schema # time=58.88ms
    
    # Subtest: Original options must not be frozen
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - Original options must not be frozen # time=2.747ms
    
    # Subtest: Original options must not be altered (test deep cloning)
        1..3
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 9 - Original options must not be altered (test deep cloning) # time=8.537ms
    
    # Subtest: Should not have issues when passing stream options to Pino.js
        1..15
        ok 1 - type is object
        ok 2 - should be equivalent
        ok 3 - listen at log message is ok
        ok 4 - should not error
        ok 5 - reqId is defined
        ok 6 - req is defined
        ok 7 - message is set
        ok 8 - method is get
        ok 9 - expect truthy value
        ok 10 - should be equal
        ok 11 - reqId is defined
        ok 12 - res is defined
        ok 13 - message is set
        ok 14 - statusCode is 200
        ok 15 - responseTime is defined
    ok 10 - Should not have issues when passing stream options to Pino.js # time=41.722ms
    
    # Subtest: deepFreezeObject() should not throw on TypedArray
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - (unnamed test)
    ok 11 - deepFreezeObject() should not throw on TypedArray # time=1.687ms
    
    # Subtest: Fastify.initialConfig should accept the deprecated versioning option
        1..1
        ok 1 - should be equal
    ok 12 - Fastify.initialConfig should accept the deprecated versioning option # time=4.93ms
    
    # Subtest: pluginTimeout should be parsed correctly
        ok 1 - should be equal
        ok 2 - should be equal
        1..2
    ok 13 - pluginTimeout should be parsed correctly # time=2.827ms
    
    1..13
    # time=258.248ms
ok 55 - test/internals/initialConfig.test.js # time=258.248ms

# Subtest: test/internals/logger.test.js
    # Subtest: time resolution
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - time resolution # time=6.964ms
    
    # Subtest: The logger should add a unique id for every request
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - the id should not be duplicated
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - the id should not be duplicated
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - the id should not be duplicated
        ok 11 - expect truthy value
        ok 12 - should not error
        ok 13 - the id should not be duplicated
        ok 14 - expect truthy value
        ok 15 - should not error
        ok 16 - the id should not be duplicated
        ok 17 - expect truthy value
        ok 18 - should not error
        ok 19 - the id should not be duplicated
        ok 20 - expect truthy value
        ok 21 - should not error
        ok 22 - the id should not be duplicated
        ok 23 - expect truthy value
        ok 24 - should not error
        ok 25 - the id should not be duplicated
        ok 26 - expect truthy value
        ok 27 - should not error
        ok 28 - the id should not be duplicated
        ok 29 - expect truthy value
        ok 30 - should not error
        ok 31 - the id should not be duplicated
        1..31
    ok 2 - The logger should add a unique id for every request # time=80.581ms
    
    # Subtest: The logger should reuse request id header for req.id
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - the request id from the header should be returned
        1..4
    ok 3 - The logger should reuse request id header for req.id # time=12.376ms
    
    # Subtest: The logger should error if both stream and file destination are given
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - The logger should error if both stream and file destination are given # time=1.805ms
    
    # Subtest: The serializer prevent fails if the request socket is undefined
        1..1
        ok 1 - should be equivalent
    ok 5 - The serializer prevent fails if the request socket is undefined # time=4.717ms
    
    1..5
    # time=117.426ms
ok 56 - test/internals/logger.test.js # time=117.426ms

# Subtest: test/internals/plugin.test.js
    # Subtest: shouldSkipOverride should check the 'skip-override' symbol
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 1 - shouldSkipOverride should check the 'skip-override' symbol # time=6.844ms
    
    # Subtest: getPluginName should return plugin name if the file is cached
        1..1
        ok 1 - should be equal
    ok 2 - getPluginName should return plugin name if the file is cached # time=2.194ms
    
    # Subtest: getMeta should return the object stored with the 'plugin-meta' symbol
        1..1
        ok 1 - should be equivalent
    ok 3 - getMeta should return the object stored with the 'plugin-meta' symbol # time=5.004ms
    
    # Subtest: checkDecorators should check if the given decorator is present in the instance
        1..1
        ok 1 - Everything ok
    ok 4 - checkDecorators should check if the given decorator is present in the instance # time=1.983ms
    
    # Subtest: checkDecorators should check if the given decorator is present in the instance (errored)
        1..1
        ok 1 - should be equal
    ok 5 - checkDecorators should check if the given decorator is present in the instance (errored) # time=1.527ms
    
    # Subtest: checkDecorators should accept optional decorators
        1..1
        ok 1 - Everything ok
    ok 6 - checkDecorators should accept optional decorators # time=1.082ms
    
    # Subtest: checkDependencies should check if the given dependency is present in the instance
        1..1
        ok 1 - Everything ok
    ok 7 - checkDependencies should check if the given dependency is present in the instance # time=1.241ms
    
    # Subtest: checkDependencies should check if the given dependency is present in the instance (errored)
        1..1
        ok 1 - should be equal
    ok 8 - checkDependencies should check if the given dependency is present in the instance (errored) # time=23.752ms
    
    1..8
    # time=101.748ms
ok 57 - test/internals/plugin.test.js # time=101.748ms

# Subtest: test/internals/reply-serialize.test.js
    # Subtest: Reply\#compileSerializationSchema
        1..4
        # Subtest: Should return a serialization function
            1..4
            ok 1 - type is Function
            ok 2 - type is string
            ok 3 - should be equal
            ok 4 - should be equal
        ok 1 - Should return a serialization function # time=81.383ms
        
        # Subtest: Should reuse the serialize fn across multiple invocations - Route without schema
            1..17
            ok 1 - build the schema compilation function
            ok 2 - type is Function
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - Are the same validate function
            ok 6 - type is Function
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - Are the same validate function
            ok 10 - type is Function
            ok 11 - should be equal
            ok 12 - should be equal
            ok 13 - Are the same validate function
            ok 14 - type is Function
            ok 15 - should be equal
            ok 16 - should be equal
            ok 17 - should be equal
        ok 2 - Should reuse the serialize fn across multiple invocations - Route without schema # time=22.504ms
        
        # Subtest: Should use the custom serializer compiler for the route
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equivalent
            ok 7 - {"hello":"world"}
            ok 8 - should be equivalent
            ok 9 - {"hello":"world"}
            ok 10 - should be equal
        ok 3 - Should use the custom serializer compiler for the route # time=37.152ms
        
        # Subtest: Should build a WeakMap for cache when called
            1..4
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
            ok 4 - should be equal
        ok 4 - Should build a WeakMap for cache when called # time=9.878ms
        
    ok 1 - Reply\#compileSerializationSchema # time=170.967ms
    
    # Subtest: Reply\#getSerializationFunction
        1..3
        # Subtest: Should retrieve the serialization function from the Schema definition
            1..9
            ok 1 - type is Function
            ok 2 - type is Function
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - expect falsey value
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
        ok 1 - Should retrieve the serialization function from the Schema definition # time=24.687ms
        
        # Subtest: Should retrieve the serialization function from the cached one
            1..6
            ok 1 - type is Function
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
        ok 2 - Should retrieve the serialization function from the cached one # time=9.942ms
        
        # Subtest: Should not instantiate a WeakMap if it is not needed
            1..4
            ok 1 - expect falsey value
            ok 2 - should be equal
            ok 3 - expect falsey value
            ok 4 - should be equal
        ok 3 - Should not instantiate a WeakMap if it is not needed # time=23.848ms
        
    ok 2 - Reply\#getSerializationFunction # time=73.562ms
    
    # Subtest: Reply\#serializeInput
        1..5
        # Subtest: Should throw if missed serialization function from HTTP status
            1..2
            ok 1 - should be equal
            ok 2 - should be equivalent
        ok 1 - Should throw if missed serialization function from HTTP status # time=41.456ms
        
        # Subtest: Should use a serializer fn from HTTP status
            1..4
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
        ok 2 - Should use a serializer fn from HTTP status # time=33.003ms
        
        # Subtest: Should compile a serializer out of a schema if serializer fn missed
            1..10
            ok 1 - should be equal
            ok 2 - expect falsey value
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 3 - Should compile a serializer out of a schema if serializer fn missed # time=16.812ms
        
        # Subtest: Should use a cached serializer fn
            1..12
            ok 1 - should be equal
            ok 2 - expect falsey value
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
            ok 11 - should be equal
            ok 12 - should be equal
        ok 4 - Should use a cached serializer fn # time=9.653ms
        
        # Subtest: Should instantiate a WeakMap after first call
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
        ok 5 - Should instantiate a WeakMap after first call # time=12.009ms
        
    ok 3 - Reply\#serializeInput # time=123.254ms
    
    1..3
    # time=392.323ms
ok 58 - test/internals/reply-serialize.test.js # time=392.323ms

# Subtest: test/internals/reply.test.js
    # Subtest: Once called, Reply should return an object with methods
        1..13
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should be equal
        ok 13 - should be equal
    ok 1 - Once called, Reply should return an object with methods # time=13.381ms
    
    # Subtest: reply.send will logStream error and destroy the stream
        1..1
        ok 1 - Error not logged and not streamed
    ok 2 - reply.send will logStream error and destroy the stream # time=25.523ms
    
    # Subtest: reply.send throw with circular JSON
        1..1
        ok 1 - Converting circular structure to JSON
    ok 3 - reply.send throw with circular JSON # time=1.604ms
    
    # Subtest: reply.send returns itself
        1..1
        ok 1 - should be equal
    ok 4 - reply.send returns itself # time=1.521ms
    
    # Subtest: reply.serializer should set a custom serializer
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 5 - reply.serializer should set a custom serializer # time=1.06ms
    
    # Subtest: reply.serializer should support running preSerialization hooks
        1..3
        ok 1 - preSerialization
        ok 2 - should not error
        ok 3 - should be equal
    ok 6 - reply.serializer should support running preSerialization hooks # time=708.481ms
    
    # Subtest: reply.serialize should serialize payload
        1..1
        ok 1 - should be equal
    ok 7 - reply.serialize should serialize payload # time=0.919ms
    
    # Subtest: reply.serialize should serialize payload with a custom serializer
        1..2
        ok 1 - should be equal
        ok 2 - custom serializer not called
    ok 8 - reply.serialize should serialize payload with a custom serializer # time=0.833ms
    
    # Subtest: reply.serialize should serialize payload with a context default serializer
        1..2
        ok 1 - should be equal
        ok 2 - custom serializer not called
    ok 9 - reply.serialize should serialize payload with a context default serializer # time=0.971ms
    
    # Subtest: reply.serialize should serialize payload with Fastify instance
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - reply.serialize should serialize payload with Fastify instance # time=20.162ms
    
    # Subtest: within an instance
        ok 1 - should not error
        # Subtest: custom serializer should be used
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - custom serializer should be used # time=46.379ms
        
        # Subtest: status code and content-type should be correct
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 3 - status code and content-type should be correct # time=6.1ms
        
        # Subtest: auto status code shoud be 200
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - auto status code shoud be 200 # time=4.956ms
        
        # Subtest: auto type shoud be text/plain
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - auto type shoud be text/plain # time=4.573ms
        
        # Subtest: redirect to `/` - 1
            1..1
            ok 1 - should be equal
        ok 6 - redirect to `/` - 1 # time=3.869ms
        
        # Subtest: redirect to `/` - 2
            1..1
            ok 1 - should be equal
        ok 7 - redirect to `/` - 2 # time=3.608ms
        
        # Subtest: redirect to `/` - 3
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 8 - redirect to `/` - 3 # time=17.273ms
        
        # Subtest: redirect to `/` - 4
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 9 - redirect to `/` - 4 # time=7.284ms
        
        # Subtest: redirect to `/` - 5
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
        ok 10 - redirect to `/` - 5 # time=3.368ms
        
        # Subtest: redirect to `/` - 6
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 11 - redirect to `/` - 6 # time=6.314ms
        
        # Subtest: redirect to `/` - 7
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 12 - redirect to `/` - 7 # time=6.786ms
        
        # Subtest: redirect to `/` - 8
            1..1
            ok 1 - should be equal
        ok 13 - redirect to `/` - 8 # time=2.855ms
        
        # Subtest: redirect to `/` - 9
            1..1
            ok 1 - should be equal
        ok 14 - redirect to `/` - 9 # time=3.001ms
        
        # Subtest: redirect with async function to `/` - 10
            1..1
            ok 1 - should be equal
        ok 15 - redirect with async function to `/` - 10 # time=3.097ms
        
        1..15
    ok 11 - within an instance # time=184.536ms
    
    # Subtest: buffer without content type should send a application/octet-stream and raw buffer
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 12 - buffer without content type should send a application/octet-stream and raw buffer # time=32.643ms
    
    # Subtest: buffer with content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 13 - buffer with content type should not send application/octet-stream # time=12.172ms
    
    # Subtest: stream with content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 14 - stream with content type should not send application/octet-stream # time=18.874ms
    
    # Subtest: stream without content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 15 - stream without content type should not send application/octet-stream # time=88.736ms
    
    # Subtest: stream using reply.raw.writeHead should return customize headers
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 16 - stream using reply.raw.writeHead should return customize headers # time=57.344ms
    
    # Subtest: plain string without content type should send a text/plain
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 17 - plain string without content type should send a text/plain # time=14.465ms
    
    # Subtest: plain string with content type should be sent unmodified
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - plain string with content type should be sent unmodified # time=11.568ms
    
    # Subtest: plain string with content type and custom serializer should be serialized
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 19 - plain string with content type and custom serializer should be serialized # time=12.201ms
    
    # Subtest: plain string with content type application/json should NOT be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 20 - plain string with content type application/json should NOT be serialized as json # time=14.367ms
    
    # Subtest: plain string with custom json content type should NOT be serialized as json
        1..19
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equivalent
    ok 21 - plain string with custom json content type should NOT be serialized as json # time=24.177ms
    
    # Subtest: non-string with content type application/json SHOULD be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 22 - non-string with content type application/json SHOULD be serialized as json # time=29.336ms
    
    # Subtest: non-string with custom json's content-type SHOULD be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 23 - non-string with custom json's content-type SHOULD be serialized as json # time=17.499ms
    
    # Subtest: non-string with custom json content type SHOULD be serialized as json
        1..16
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 24 - non-string with custom json content type SHOULD be serialized as json # time=18.582ms
    
    # Subtest: error object with a content type that is not application/json should work
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 25 - error object with a content type that is not application/json should work # time=9.001ms
    
    # Subtest: undefined payload should be sent as-is
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 26 - undefined payload should be sent as-is # time=9.231ms
    
    # Subtest: for HEAD method, no body should be sent but content-length should be
        1..11
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
    ok 27 - for HEAD method, no body should be sent but content-length should be # time=9.399ms
    
    # Subtest: reply.send(new NotFound()) should not invoke the 404 handler
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 28 - reply.send(new NotFound()) should not invoke the 404 handler # time=14.481ms
    
    # Subtest: reply can set multiple instances of same header
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - expect truthy value
        ok 4 - should be equivalent strictly
    ok 29 - reply can set multiple instances of same header # time=8.636ms
    
    # Subtest: reply.hasHeader returns correct values
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 30 - reply.hasHeader returns correct values # time=5.524ms
    
    # Subtest: reply.getHeader returns correct values
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
        ok 4 - should be equivalent strictly
    ok 31 - reply.getHeader returns correct values # time=8.25ms
    
    # Subtest: reply.getHeader returns raw header if there is not in the reply headers
        1..1
        ok 1 - should be equal
    ok 32 - reply.getHeader returns raw header if there is not in the reply headers # time=1.045ms
    
    # Subtest: reply.getHeaders returns correct values
        1..3
        ok 1 - should be equivalent strictly
        ok 2 - should be equivalent strictly
        ok 3 - should not error
    ok 33 - reply.getHeaders returns correct values # time=5.508ms
    
    # Subtest: reply.removeHeader can remove the value
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent strictly
        ok 5 - (unnamed test)
    ok 34 - reply.removeHeader can remove the value # time=7.433ms
    
    # Subtest: reply.header can reset the value
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent strictly
        ok 3 - (unnamed test)
    ok 35 - reply.header can reset the value # time=19.055ms
    
    # Subtest: reply.hasHeader computes raw and fastify headers
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - (unnamed test)
    ok 36 - reply.hasHeader computes raw and fastify headers # time=6.385ms
    
    # Subtest: Reply should handle JSON content type with a charset
        1..16
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should not error
        ok 16 - should be equal
    ok 37 - Reply should handle JSON content type with a charset # time=17.659ms
    
    # Subtest: Content type and charset set previously
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 38 - Content type and charset set previously # time=4.661ms
    
    # Subtest: .status() is an alias for .code()
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 39 - .status() is an alias for .code() # time=3.82ms
    
    # Subtest: .statusCode is getter and setter
        1..4
        ok 1 - 200
        ok 2 - 418
        ok 3 - should not error
        ok 4 - should be equal
    ok 40 - .statusCode is getter and setter # time=5.006ms
    
    # Subtest: reply.header setting multiple cookies as multiple Set-Cookie headers
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equivalent strictly
        ok 4 - should not error
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - should be equivalent strictly
    ok 41 - reply.header setting multiple cookies as multiple Set-Cookie headers # time=9.557ms
    
    # Subtest: should emit deprecation warning when trying to modify the reply.sent property
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 42 - should emit deprecation warning when trying to modify the reply.sent property # time=5.034ms
    
    # Subtest: should throw error when passing falsy value to reply.sent
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 43 - should throw error when passing falsy value to reply.sent # time=4.422ms
    
    # Subtest: should throw error when attempting to set reply.sent more than once
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 44 - should throw error when attempting to set reply.sent more than once # time=5.096ms
    
    # Subtest: should not throw error when attempting to set reply.sent if the underlining request was sent
        1..3
        ok 1 - expected to not throw
        ok 2 - should not error
        ok 3 - (unnamed test)
    ok 45 - should not throw error when attempting to set reply.sent if the underlining request was sent # time=4.538ms
    
    # Subtest: reply.getResponseTime() should return 0 before the timer is initialised on the reply by setting up response listeners
        1..1
        ok 1 - should be equal
    ok 46 - reply.getResponseTime() should return 0 before the timer is initialised on the reply by setting up response listeners # time=0.953ms
    
    # Subtest: reply.getResponseTime() should return a number greater than 0 after the timer is initialised on the reply by setting up response listeners
        1..1
        ok 1 - expect truthy value
    ok 47 - reply.getResponseTime() should return a number greater than 0 after the timer is initialised on the reply by setting up response listeners # time=4.254ms
    
    # Subtest: reply.getResponseTime() should return the time since a request started while inflight
        1..1
        ok 1 - should not be equal
    ok 48 - reply.getResponseTime() should return the time since a request started while inflight # time=3.672ms
    
    # Subtest: reply.getResponseTime() should return the same value after a request is finished
        1..1
        ok 1 - should be equal
    ok 49 - reply.getResponseTime() should return the same value after a request is finished # time=4.79ms
    
    # Subtest: reply should use the custom serializer
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 50 - reply should use the custom serializer # time=6.698ms
    
    # Subtest: reply should use the right serializer in encapsulated context
        1..9
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 51 - reply should use the right serializer in encapsulated context # time=10.321ms
    
    # Subtest: reply should use the right serializer in deep encapsulated context
        1..8
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 52 - reply should use the right serializer in deep encapsulated context # time=9.654ms
    
    # Subtest: reply should use the route serializer
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equal
    ok 53 - reply should use the route serializer # time=4.047ms
    
    # Subtest: cannot set the replySerializer when the server is running
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 54 - cannot set the replySerializer when the server is running # time=5.601ms
    
    # Subtest: reply should not call the custom serializer for errors and not found
        1..9
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 55 - reply should not call the custom serializer for errors and not found # time=7.772ms
    
    # Subtest: reply.then
        1..4
        # Subtest: without an error
            1..1
            ok 1 - fulfilled called
        ok 1 - without an error # time=10.69ms
        
        # Subtest: with an error
            1..1
            ok 1 - should be equal
        ok 2 - with an error # time=1.458ms
        
        # Subtest: with error but without reject callback
            1..1
            ok 1 - (unnamed test)
        ok 3 - with error but without reject callback # time=1.029ms
        
        # Subtest: with error, without reject callback, with logger
            1..1
            ok 1 - should be equal
        ok 4 - with error, without reject callback, with logger # time=1.555ms
        
    ok 56 - reply.then # time=21.73ms
    
    # Subtest: reply.sent should read from response.writableEnded if it is defined
        1..1
        ok 1 - should be equal
    ok 57 - reply.sent should read from response.writableEnded if it is defined # time=0.785ms
    
    # Subtest: redirect to an invalid URL should not crash the server
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        1..7
    ok 58 - redirect to an invalid URL should not crash the server # time=27.618ms
    
    # Subtest: invalid response headers should not crash the server
        ok 1 - only the first invalid header is logged
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 59 - invalid response headers should not crash the server # time=7.473ms
    
    # Subtest: invalid response headers when sending back an error
        ok 1 - only the first invalid header is logged
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 60 - invalid response headers when sending back an error # time=6.661ms
    
    # Subtest: invalid response headers and custom error handler
        ok 1 - custom error handler receives the error
        ok 2 - only the first invalid header is logged
        ok 3 - should be equal
        ok 4 - should be equivalent
        1..4
    ok 61 - invalid response headers and custom error handler # time=7.343ms
    
    1..61
    # time=1680.706ms
ok 59 - test/internals/reply.test.js # time=1680.706ms

# Subtest: test/internals/request-validate.test.js
    # Subtest: \#compileValidationSchema
        1..5
        # Subtest: Should return a function - Route without schema
            1..3
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
        ok 1 - Should return a function - Route without schema # time=220.667ms
        
        # Subtest: Should reuse the validate fn across multiple invocations - Route without schema
            1..16
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
            ok 4 - Are the same validate function
            ok 5 - type is Function
            ok 6 - expect truthy value
            ok 7 - expect falsey value
            ok 8 - Are the same validate function
            ok 9 - type is Function
            ok 10 - expect truthy value
            ok 11 - expect falsey value
            ok 12 - Are the same validate function
            ok 13 - type is Function
            ok 14 - expect truthy value
            ok 15 - expect falsey value
            ok 16 - should be equal
        ok 2 - Should reuse the validate fn across multiple invocations - Route without schema # time=49.019ms
        
        # Subtest: Should return a function - Route with schema
            1..3
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
        ok 3 - Should return a function - Route with schema # time=77.425ms
        
        # Subtest: Should use the custom validator compiler for the route
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equivalent
            ok 7 - expect truthy value
            ok 8 - should be equivalent
            ok 9 - expect truthy value
            ok 10 - should be equal
        ok 4 - Should use the custom validator compiler for the route # time=13.787ms
        
        # Subtest: Should instantiate a WeakMap when executed for first time
            1..5
            ok 1 - should be equal
            ok 2 - type is Function
            ok 3 - type is WeakMap
            ok 4 - type is Function
            ok 5 - type is WeakMap
        ok 5 - Should instantiate a WeakMap when executed for first time # time=42.832ms
        
    ok 1 - \#compileValidationSchema # time=423.722ms
    
    # Subtest: \#getValidationFunction
        1..4
        # Subtest: Should return a validation function
            1..1
            ok 1 - should be equal
        ok 1 - Should return a validation function # time=84.117ms
        
        # Subtest: Should return undefined if no schema compiled
            1..2
            ok 1 - expect falsey value
            ok 2 - expect falsey value
        ok 2 - Should return undefined if no schema compiled # time=5.566ms
        
        # Subtest: Should return the validation function from each HTTP part
            1..15
            ok 1 - expect truthy value
            ok 2 - expect truthy value
            ok 3 - expect falsey value
            ok 4 - expect truthy value
            ok 5 - expect truthy value
            ok 6 - expect falsey value
            ok 7 - expect truthy value
            ok 8 - expect truthy value
            ok 9 - expect truthy value
            ok 10 - expect truthy value
            ok 11 - expect falsey value
            ok 12 - should be equal
            ok 13 - expect truthy value
            ok 14 - expect falsey value
            ok 15 - should be equal
        ok 3 - Should return the validation function from each HTTP part # time=62.968ms
        
        # Subtest: Should not set a WeakMap if there is no schema
            1..1
            ok 1 - should be equal
        ok 4 - Should not set a WeakMap if there is no schema # time=21.737ms
        
    ok 2 - \#getValidationFunction # time=187.177ms
    
    # Subtest: \#validate
        1..7
        # Subtest: Should return true/false if input valid - Route without schema
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 1 - Should return true/false if input valid - Route without schema # time=65.976ms
        
        # Subtest: Should use the custom validator compiler for the route
            1..9
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equivalent
            ok 6 - should be equivalent
            ok 7 - expect truthy value
            ok 8 - expect truthy value
            ok 9 - should be equal
        ok 2 - Should use the custom validator compiler for the route # time=10.042ms
        
        # Subtest: Should return true/false if input valid - With Schema for Route defined
            1..8
            ok 1 - expect truthy value
            ok 2 - expect falsey value
            ok 3 - expect falsey value
            ok 4 - expect truthy value
            ok 5 - expect falsey value
            ok 6 - expect truthy value
            ok 7 - expect truthy value
            ok 8 - expect falsey value
        ok 3 - Should return true/false if input valid - With Schema for Route defined # time=121.045ms
        
        # Subtest: Should throw if missing validation fn for HTTP part and not schema provided
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 4 - Should throw if missing validation fn for HTTP part and not schema provided # time=12.187ms
        
        # Subtest: Should throw if missing validation fn for HTTP part and not valid schema provided
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 5 - Should throw if missing validation fn for HTTP part and not valid schema provided # time=31.278ms
        
        # Subtest: Should throw if invalid schema passed
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 6 - Should throw if invalid schema passed # time=20.38ms
        
        # Subtest: Should set a WeakMap if compiling the very first schema
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
        ok 7 - Should set a WeakMap if compiling the very first schema # time=27.504ms
        
    ok 3 - \#validate # time=300.119ms
    
    # Subtest: Nested Context
        1..1
        # Subtest: Level_1
            1..3
            # Subtest: \#compileValidationSchema
                1..4
                # Subtest: Should return a function - Route without schema
                    1..3
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                ok 1 - Should return a function - Route without schema # time=125.272ms
                
                # Subtest: Should reuse the validate fn across multiple invocations - Route without schema
                    1..16
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                    ok 4 - Are the same validate function
                    ok 5 - type is Function
                    ok 6 - expect truthy value
                    ok 7 - expect falsey value
                    ok 8 - Are the same validate function
                    ok 9 - type is Function
                    ok 10 - expect truthy value
                    ok 11 - expect falsey value
                    ok 12 - Are the same validate function
                    ok 13 - type is Function
                    ok 14 - expect truthy value
                    ok 15 - expect falsey value
                    ok 16 - should be equal
                ok 2 - Should reuse the validate fn across multiple invocations - Route without schema # time=59.935ms
                
                # Subtest: Should return a function - Route with schema
                    1..3
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                ok 3 - Should return a function - Route with schema # time=45.896ms
                
                # Subtest: Should use the custom validator compiler for the route
                    1..10
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - should be equal
                    ok 5 - should be equal
                    ok 6 - should be equivalent
                    ok 7 - expect truthy value
                    ok 8 - should be equivalent
                    ok 9 - expect truthy value
                    ok 10 - should be equal
                ok 4 - Should use the custom validator compiler for the route # time=9.851ms
                
            ok 1 - \#compileValidationSchema # time=252.354ms
            
            # Subtest: \#getValidationFunction
                1..6
                # Subtest: Should return a validation function
                    1..1
                    ok 1 - should be equal
                ok 1 - Should return a validation function # time=56.324ms
                
                # Subtest: Should return undefined if no schema compiled
                    1..1
                    ok 1 - expect falsey value
                ok 2 - Should return undefined if no schema compiled # time=5.07ms
                
                # Subtest: Should return the validation function from each HTTP part
                    1..15
                    ok 1 - expect truthy value
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                    ok 4 - expect truthy value
                    ok 5 - expect truthy value
                    ok 6 - expect falsey value
                    ok 7 - expect truthy value
                    ok 8 - expect truthy value
                    ok 9 - expect truthy value
                    ok 10 - expect truthy value
                    ok 11 - expect falsey value
                    ok 12 - should be equal
                    ok 13 - expect truthy value
                    ok 14 - expect falsey value
                    ok 15 - should be equal
                ok 3 - Should return the validation function from each HTTP part # time=44.226ms
                
                # Subtest: Should return a validation function - nested
                    1..6
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - expect falsey value
                    ok 5 - should be equal
                    ok 6 - should be equal
                ok 4 - Should return a validation function - nested # time=13.383ms
                
                # Subtest: Should return undefined if no schema compiled - nested
                    1..3
                    ok 1 - should be equal
                    ok 2 - expect falsey value
                    ok 3 - should be equal
                ok 5 - Should return undefined if no schema compiled - nested # time=27.717ms
                
                # Subtest: Should per-route defined validation compiler
                    1..5
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should not be equal
                    ok 4 - should be equal
                    ok 5 - should be equal
                ok 6 - Should per-route defined validation compiler # time=15.639ms
                
            ok 2 - \#getValidationFunction # time=174.167ms
            
            # Subtest: \#validate
                1..3
                # Subtest: Should return true/false if input valid - Route without schema
                    1..2
                    ok 1 - expect falsey value
                    ok 2 - expect truthy value
                ok 1 - Should return true/false if input valid - Route without schema # time=52.167ms
                
                # Subtest: Should use the custom validator compiler for the route
                    1..10
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - should be equal
                    ok 5 - should be equivalent
                    ok 6 - should be equivalent
                    ok 7 - expect truthy value
                    ok 8 - expect truthy value
                    ok 9 - should be equal
                    ok 10 - should be equal
                ok 2 - Should use the custom validator compiler for the route # time=8.913ms
                
                # Subtest: Should return true/false if input valid - With Schema for Route defined and scoped validator compiler
                    1..13
                    ok 1 - expect truthy value
                    ok 2 - expect falsey value
                    ok 3 - expect falsey value
                    ok 4 - expect truthy value
                    ok 5 - expect falsey value
                    ok 6 - expect truthy value
                    ok 7 - expect truthy value
                    ok 8 - expect falsey value
                    ok 9 - should be equal
                    ok 10 - should be equal
                    ok 11 - should be equal
                    ok 12 - should be equal
                    ok 13 - should be equal
                ok 3 - Should return true/false if input valid - With Schema for Route defined and scoped validator compiler # time=107.461ms
                
            ok 3 - \#validate # time=177.897ms
            
        ok 1 - Level_1 # time=612.101ms
        
    ok 4 - Nested Context # time=617.186ms
    
    1..4
    # time=1537.727ms
ok 60 - test/internals/request-validate.test.js # time=1537.727ms

# Subtest: test/internals/request.test.js
    # Subtest: Regular request
        ok 1 - type is Request
        ok 2 - type is Function
        ok 3 - type is Function
        ok 4 - type is Function
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        1..19
    ok 1 - Regular request # time=12.608ms
    
    # Subtest: Regular request - hostname from authority
        1..2
        ok 1 - type is Request
        ok 2 - should be equal
    ok 2 - Regular request - hostname from authority # time=1.342ms
    
    # Subtest: Regular request - host header has precedence over authority
        1..2
        ok 1 - type is Request
        ok 2 - should be equal
    ok 3 - Regular request - host header has precedence over authority # time=0.947ms
    
    # Subtest: Request with trust proxy
        1..18
        ok 1 - type is _Request
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - type is Function
        ok 17 - type is Function
        ok 18 - type is Function
    ok 4 - Request with trust proxy # time=10.07ms
    
    # Subtest: Request with trust proxy, encrypted
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 5 - Request with trust proxy, encrypted # time=1.06ms
    
    # Subtest: Request with trust proxy - no x-forwarded-host header
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 6 - Request with trust proxy - no x-forwarded-host header # time=0.866ms
    
    # Subtest: Request with trust proxy - no x-forwarded-host header and fallback to authority
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 7 - Request with trust proxy - no x-forwarded-host header and fallback to authority # time=0.852ms
    
    # Subtest: Request with trust proxy - x-forwarded-host header has precedence over host
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 8 - Request with trust proxy - x-forwarded-host header has precedence over host # time=0.86ms
    
    # Subtest: Request with trust proxy - handles multiple entries in x-forwarded-host/proto
        1..3
        ok 1 - type is _Request
        ok 2 - should be equal
        ok 3 - should be equal
    ok 9 - Request with trust proxy - handles multiple entries in x-forwarded-host/proto # time=1.248ms
    
    # Subtest: Request with trust proxy - plain
        1..1
        ok 1 - should be equivalent
    ok 10 - Request with trust proxy - plain # time=1.014ms
    
    # Subtest: Request with undefined socket
        1..18
        ok 1 - type is Request
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equivalent
        ok 16 - type is Function
        ok 17 - type is Function
        ok 18 - type is Function
    ok 11 - Request with undefined socket # time=3.816ms
    
    # Subtest: Request with trust proxy and undefined socket
        1..1
        ok 1 - should be equivalent
    ok 12 - Request with trust proxy and undefined socket # time=0.696ms
    
    1..12
    # time=94.608ms
ok 61 - test/internals/request.test.js # time=94.608ms

# Subtest: test/internals/server.test.js
    # Subtest: start listening
        ok 1 - server started
        1..1
    ok 1 - start listening # time=42.735ms
    
    # Subtest: DNS errors does not stop the main server on localhost - promise interface
        ok 1 - server started
        1..1
    ok 2 - DNS errors does not stop the main server on localhost - promise interface # time=18.016ms
    
    # Subtest: DNS errors does not stop the main server on localhost - callback interface
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 3 - DNS errors does not stop the main server on localhost - callback interface # time=31.821ms
    
    # Subtest: DNS returns empty binding
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 4 - DNS returns empty binding # time=17.402ms
    
    # Subtest: DNS returns more than two binding
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 5 - DNS returns more than two binding # time=19.511ms
    
    1..5
    # time=138.374ms
ok 62 - test/internals/server.test.js # time=138.374ms

# Subtest: test/internals/validation.test.js
    # Subtest: Symbols
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 1 - Symbols # time=8.103ms
    
    # Subtest: compileSchemasForValidation schema - missing schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - compileSchemasForValidation schema - missing schema # time=2.283ms
    
    # Subtest: compileSchemasForValidation schema - missing output schema
        1..1
        ok 1 - should be equal
    ok 3 - compileSchemasForValidation schema - missing output schema # time=1.232ms
    
    # Subtest: compileSchemasForSerialization schema - missing schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - compileSchemasForSerialization schema - missing schema # time=1.715ms
    
    # Subtest: compileSchemasForSerialization schema - missing output schema
        1..1
        ok 1 - should be equal
    ok 5 - compileSchemasForSerialization schema - missing output schema # time=0.888ms
    
    # Subtest: build schema - output schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 6 - build schema - output schema # time=70.381ms
    
    # Subtest: build schema - payload schema
        1..1
        ok 1 - should be equal
    ok 7 - build schema - payload schema # time=2.322ms
    
    # Subtest: build schema - avoid repeated normalize schema
        1..3
        ok 1 - should not be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 8 - build schema - avoid repeated normalize schema # time=2.161ms
    
    # Subtest: build schema - query schema
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 9 - build schema - query schema # time=29.465ms
    
    # Subtest: build schema - query schema abbreviated
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 10 - build schema - query schema abbreviated # time=3.37ms
    
    # Subtest: build schema - querystring schema
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 11 - build schema - querystring schema # time=2.747ms
    
    # Subtest: build schema - querystring schema abbreviated
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 12 - build schema - querystring schema abbreviated # time=2.446ms
    
    # Subtest: build schema - must throw if querystring and query schema exist
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 13 - build schema - must throw if querystring and query schema exist # time=1.608ms
    
    # Subtest: build schema - params schema
        1..1
        ok 1 - should be equal
    ok 14 - build schema - params schema # time=2.169ms
    
    # Subtest: build schema - headers schema
        1..1
        ok 1 - should be equal
    ok 15 - build schema - headers schema # time=2.267ms
    
    # Subtest: build schema - headers are lowercase
        1..1
        ok 1 - lowercase content-type exists
    ok 16 - build schema - headers are lowercase # time=1.098ms
    
    # Subtest: build schema - headers are not lowercased in case of custom object
        1..1
        ok 1 - type is Headers
    ok 17 - build schema - headers are not lowercased in case of custom object # time=0.941ms
    
    # Subtest: build schema - uppercased headers are not included
        1..1
        ok 1 - uppercase does not exist
    ok 18 - build schema - uppercased headers are not included # time=0.945ms
    
    1..18
    # time=198.646ms
ok 63 - test/internals/validation.test.js # time=198.646ms

# Subtest: test/keepAliveTimeout.test.js
    # Subtest: keepAliveTimeout
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not be equal
        ok 6 - should be equal
    ok 1 - keepAliveTimeout # time=41.941ms
    
    1..1
    # time=47.556ms
ok 64 - test/keepAliveTimeout.test.js # time=47.556ms

# Subtest: test/listen.deprecated.test.js
    # Subtest: listen accepts a port and a callback
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 1 - listen accepts a port and a callback # time=30.767ms
    
    # Subtest: listen accepts a port and a callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 2 - listen accepts a port and a callback with (err, address) # time=5.582ms
    
    # Subtest: listen accepts a port, address, and callback
        1..1
        ok 1 - should not error
    ok 3 - listen accepts a port, address, and callback # time=13.902ms
    
    # Subtest: listen accepts options, backlog and a callback
        1..1
        ok 1 - should not error
    ok 4 - listen accepts options, backlog and a callback # time=14.021ms
    
    # Subtest: listen accepts options (no port), backlog and a callback
        1..1
        ok 1 - should not error
    ok 5 - listen accepts options (no port), backlog and a callback # time=4.47ms
    
    # Subtest: listen accepts options (no host), backlog and a callback
        1..1
        ok 1 - should not error
    ok 6 - listen accepts options (no host), backlog and a callback # time=14.288ms
    
    # Subtest: listen accepts options (no port, no host), backlog and a callback
        1..1
        ok 1 - should not error
    ok 7 - listen accepts options (no port, no host), backlog and a callback # time=24.128ms
    
    # Subtest: listen accepts a port, address and a callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 8 - listen accepts a port, address and a callback with (err, address) # time=3.566ms
    
    # Subtest: listen accepts a port, address, backlog and callback
        1..1
        ok 1 - should not error
    ok 9 - listen accepts a port, address, backlog and callback # time=13.126ms
    
    # Subtest: listen accepts a port, address, backlog and callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 10 - listen accepts a port, address, backlog and callback with (err, address) # time=5.741ms
    
    # Subtest: listen without callback (port zero)
        1..1
        ok 1 - should be equal
    ok 11 - listen without callback (port zero) # time=30.487ms
    
    # Subtest: listen without callback (port not given)
        1..1
        ok 1 - should be equal
    ok 12 - listen without callback (port not given) # time=8.695ms
    
    # Subtest: listen null without callback with (address)
        1..1
        ok 1 - should be equal
    ok 13 - listen null without callback with (address) # time=5.552ms
    
    # Subtest: listen without port without callback with (address)
        1..1
        ok 1 - should be equal
    ok 14 - listen without port without callback with (address) # time=11.043ms
    
    # Subtest: listen with undefined without callback with (address)
        1..1
        ok 1 - should be equal
    ok 15 - listen with undefined without callback with (address) # time=21.621ms
    
    # Subtest: listen when firstArg is string(pipe) and without backlog
        1..1
        ok 1 - should be equal
    ok 16 - listen when firstArg is string(pipe) and without backlog # time=11.331ms
    
    # Subtest: listen when firstArg is string(pipe) and with backlog
        1..1
        ok 1 - should be equal
    ok 17 - listen when firstArg is string(pipe) and with backlog # time=6.831ms
    
    # Subtest: listen when firstArg is { path: string(pipe) } and with backlog and callback
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 18 - listen when firstArg is { path: string(pipe) } and with backlog and callback # time=3.01ms
    
    1..18
    # time=314.435ms
ok 65 - test/listen.deprecated.test.js # time=314.435ms

# Subtest: test/listen.test.js
    # Subtest: listen works without arguments
        ok 1 - should be equal
        ok 2 - expect truthy value
        1..2
    ok 1 - listen works without arguments # time=29.786ms
    
    # Subtest: Async/await listen with arguments
        1..1
        ok 1 - should be equal
    ok 2 - Async/await listen with arguments # time=5.174ms
    
    # Subtest: Promise listen with arguments
        1..1
        ok 1 - should be equal
    ok 3 - Promise listen with arguments # time=14.559ms
    
    # Subtest: listen accepts a callback
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 4 - listen accepts a callback # time=27.124ms
    
    # Subtest: listen accepts options and a callback
        1..1
        ok 1 - should not error
    ok 5 - listen accepts options and a callback # time=4.935ms
    
    # Subtest: listen after Promise.resolve()
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 6 - listen after Promise.resolve() # time=4.281ms
    
    # Subtest: register after listen using Promise.resolve()
        1..1
        ok 1 - resolved
    ok 7 - register after listen using Promise.resolve() # time=10.736ms
    
    # Subtest: double listen errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
    ok 8 - double listen errors # time=4.503ms
    
    # Subtest: double listen errors callback with (err, address)
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 9 - double listen errors callback with (err, address) # time=5.547ms
    
    # Subtest: listen twice on the same port
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 10 - listen twice on the same port # time=31.884ms
    
    # Subtest: listen twice on the same port callback with (err, address)
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 11 - listen twice on the same port callback with (err, address) # time=35.748ms
    
    # Subtest: listen on socket
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent strictly
        ok 3 - should be equal
    ok 12 - listen on socket # time=32.667ms
    
    # Subtest: listen without callback with (address)
        1..1
        ok 1 - should be equal
    ok 13 - listen without callback with (address) # time=4.515ms
    
    # Subtest: double listen without callback rejects
        1..1
        ok 1 - expect truthy value
    ok 14 - double listen without callback rejects # time=36.661ms
    
    # Subtest: double listen without callback with (address)
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 15 - double listen without callback with (address) # time=11.198ms
    
    # Subtest: listen twice on the same port without callback rejects
        1..1
        ok 1 - expect truthy value
    ok 16 - listen twice on the same port without callback rejects # time=4.977ms
    
    # Subtest: listen twice on the same port without callback rejects with (address)
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 17 - listen twice on the same port without callback rejects with (address) # time=13.926ms
    
    # Subtest: listen on invalid port without callback rejects
        ok 1 - expect truthy value
        1..1
    ok 18 - listen on invalid port without callback rejects # time=2.983ms
    
    # Subtest: listen logs the port as info
        1..1
        ok 1 - expect truthy value
    ok 19 - listen logs the port as info # time=8.14ms
    
    # Subtest: listen on localhost binds IPv4 and IPv6 - promise interface
        1..2
        ok 1 - should be equal
        ok 2 - should be equivalent
    ok 20 - listen on localhost binds IPv4 and IPv6 - promise interface # time=28.545ms
    
    # Subtest: listen on localhost binds to all interfaces (both IPv4 and IPv6 if present) - callback interface
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 21 - listen on localhost binds to all interfaces (both IPv4 and IPv6 if present) - callback interface # time=8.94ms
    
    # Subtest: addresses getter
        1..4
        ok 1 - before ready
        ok 2 - after ready
        ok 3 - after listen
        ok 4 - after close
    ok 22 - addresses getter # time=7.305ms
    
    1..22
    # time=432.639ms
ok 66 - test/listen.test.js # time=432.639ms

# Subtest: test/logger.test.js
    # Subtest: defaults to info level
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
        ok 13 - responseTime is defined
        1..13
    ok 1 - defaults to info level # time=58.042ms
    
    # Subtest: test log stream
        1..12
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
    ok 2 - test log stream # time=23.554ms
    
    # Subtest: test error log stream
        1..11
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - reqId is defined
        ok 9 - res is defined
        ok 10 - message is set
        ok 11 - statusCode is 500
    ok 3 - test error log stream # time=68.549ms
    
    # Subtest: can use external logger instance
        1..6
        ok 1 - "Server listening at http://127.0.0.1:41895" dont match "/^Server listening at /"
        ok 2 - should not error
        ok 3 - "incoming request" dont match "/^incoming request$/"
        ok 4 - expect truthy value
        ok 5 - "log success" dont match "/^log success$/"
        ok 6 - "request completed" dont match "/^request completed$/"
    ok 4 - can use external logger instance # time=23.734ms
    
    # Subtest: can use external logger instance with custom serializer
        1..6
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - expect truthy value
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 5 - can use external logger instance with custom serializer # time=27.517ms
    
    # Subtest: expose the logger
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equivalent
    ok 6 - expose the logger # time=2.435ms
    
    # Subtest: The request id header key can be customized
        1..9
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - message is set
        ok 6 - should be equal
        ok 7 - message is set
        ok 8 - should be equal
        ok 9 - message is set
    ok 7 - The request id header key can be customized # time=30.665ms
    
    # Subtest: The request id header key can be customized along with a custom id generator
        1..12
        ok 1 - should match pattern provided
        ok 2 - should be equal
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should be equal
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
    ok 8 - The request id header key can be customized along with a custom id generator # time=32.491ms
    
    # Subtest: The request id log label can be changed
        1..6
        ok 1 - should match pattern provided
        ok 2 - should be equal
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should not error
        ok 6 - should be equal
    ok 9 - The request id log label can be changed # time=14.277ms
    
    # Subtest: The logger should accept custom serializer
        1..9
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - req is defined
        ok 4 - message is set
        ok 5 - custom req serializer is use
        ok 6 - expect truthy value
        ok 7 - res is defined
        ok 8 - message is set
        ok 9 - default res serializer is use
    ok 10 - The logger should accept custom serializer # time=14.112ms
    
    # Subtest: reply.send logs an error if called twice in a row
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
    ok 11 - reply.send logs an error if called twice in a row # time=64.79ms
    
    # Subtest: logger can be silented
        1..17
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equivalent
        ok 10 - should be equivalent
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equivalent
        ok 14 - should be equivalent
        ok 15 - should be equivalent
        ok 16 - should be equivalent
        ok 17 - should be equivalent
    ok 12 - logger can be silented # time=5.312ms
    
    # Subtest: Should set a custom logLevel for a plugin
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equivalent
    ok 13 - Should set a custom logLevel for a plugin # time=34.764ms
    
    # Subtest: Should set a custom logSerializers for a plugin
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 14 - Should set a custom logSerializers for a plugin # time=20.806ms
    
    # Subtest: Should set a custom logLevel for every plugin
        1..18
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equivalent
        ok 15 - should not error
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equivalent
    ok 15 - Should set a custom logLevel for every plugin # time=39.013ms
    
    # Subtest: Should set a custom logSerializers for every plugin
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 16 - Should set a custom logSerializers for every plugin # time=14.456ms
    
    # Subtest: Should override serializers from route
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 17 - Should override serializers from route # time=7.96ms
    
    # Subtest: Should override serializers from plugin
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 18 - Should override serializers from plugin # time=36.105ms
    
    # Subtest: Should use serializers from plugin and route
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 19 - Should use serializers from plugin and route # time=7.556ms
    
    # Subtest: Should use serializers from instance fastify and route
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 20 - Should use serializers from instance fastify and route # time=6.472ms
    
    # Subtest: Should use serializers inherit from contexts
        1..5
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 21 - Should use serializers inherit from contexts # time=7.363ms
    
    # Subtest: Should increase the log level for a specific plugin
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 22 - Should increase the log level for a specific plugin # time=8.628ms
    
    # Subtest: Should set the log level for the customized 404 handler
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 23 - Should set the log level for the customized 404 handler # time=6.479ms
    
    # Subtest: Should set the log level for the customized 500 handler
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 24 - Should set the log level for the customized 500 handler # time=6.471ms
    
    # Subtest: Should set a custom log level for a specific route
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equivalent
    ok 25 - Should set a custom log level for a specific route # time=7.99ms
    
    # Subtest: The default 404 handler logs the incoming request
        1..5
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
    ok 26 - The default 404 handler logs the incoming request # time=5.475ms
    
    # Subtest: should serialize request and response
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 27 - should serialize request and response # time=6.086ms
    
    # Subtest: Wrap IPv6 address in listening log message
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 28 - Wrap IPv6 address in listening log message # time=3.602ms
    
    # Subtest: Do not wrap IPv4 address
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 29 - Do not wrap IPv4 address # time=3.617ms
    
    # Subtest: file option
        1..13
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - listen at log message is ok
        ok 4 - reqId is defined
        ok 5 - req is defined
        ok 6 - message is set
        ok 7 - method is get
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
        ok 13 - responseTime is defined
    ok 30 - file option # time=16.355ms
    
    # Subtest: should log the error if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 31 - should log the error if no error handler is defined # time=10.726ms
    
    # Subtest: should log as info if error status code >= 400 and < 500 if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 32 - should log as info if error status code >= 400 and < 500 if no error handler is defined # time=10.856ms
    
    # Subtest: should log as error if error status code >= 500 if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 33 - should log as error if error status code >= 500 if no error handler is defined # time=25.788ms
    
    # Subtest: should not log the error if error handler is defined and it does not error
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - level is correct
        ok 7 - message is set
        ok 8 - status code is set
    ok 34 - should not log the error if error handler is defined and it does not error # time=8.437ms
    
    # Subtest: should not rely on raw request to log errors
        1..7
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - status code is set
    ok 35 - should not rely on raw request to log errors # time=8.463ms
    
    # Subtest: should redact the authorization header if so specified
        1..7
        ok 1 - listen at log message is ok
        ok 2 - should not error
        ok 3 - authorization is redacted
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 36 - should redact the authorization header if so specified # time=18.353ms
    
    # Subtest: should not log incoming request and outgoing response when disabled
        1..3
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should be equivalent
    ok 37 - should not log incoming request and outgoing response when disabled # time=5.804ms
    
    # Subtest: should not log incoming request and outgoing response for 404 onBadUrl when disabled
        1..1
        ok 1 - should be equivalent
    ok 38 - should not log incoming request and outgoing response for 404 onBadUrl when disabled # time=3.868ms
    
    # Subtest: should pass when using unWritable props in the logger option
        1..1
        ok 1 - (unnamed test)
    ok 39 - should pass when using unWritable props in the logger option # time=6.316ms
    
    # Subtest: should be able to use a custom logger
        1..1
        ok 1 - (unnamed test)
    ok 40 - should be able to use a custom logger # time=3.003ms
    
    # Subtest: should create a default logger if provided one is invalid
        1..1
        ok 1 - (unnamed test)
    ok 41 - should create a default logger if provided one is invalid # time=1.179ms
    
    # Subtest: should not throw error when serializing custom req
        1..1
        ok 1 - should be equivalent
    ok 42 - should not throw error when serializing custom req # time=1.957ms
    
    1..42
    # time=855.356ms
ok 67 - test/logger.test.js # time=855.356ms

# Subtest: test/maxRequestsPerSocket.test.js
    # Subtest: maxRequestsPerSocket on node version >= 16.10.0
        1..8
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should match pattern provided
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
    ok 1 - maxRequestsPerSocket on node version >= 16.10.0 # time=73.041ms
    
    # Subtest: maxRequestsPerSocket zero should behave same as null
        1..10
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should match pattern provided
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
        ok 9 - should match pattern provided
        ok 10 - should match pattern provided
    ok 2 - maxRequestsPerSocket zero should behave same as null # time=17.126ms
    
    # Subtest: maxRequestsPerSocket should be set
        1..1
        ok 1 - should be equivalent
    ok 3 - maxRequestsPerSocket should be set # time=2.126ms
    
    # Subtest: maxRequestsPerSocket should 0
        1..1
        ok 1 - should be equivalent
    ok 4 - maxRequestsPerSocket should 0 # time=1.426ms
    
    # Subtest: requestTimeout passed to server
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 5 - requestTimeout passed to server # time=14.725ms
    
    1..5
    # time=121.272ms
ok 68 - test/maxRequestsPerSocket.test.js # time=121.272ms

# Subtest: test/middleware.test.js
    # Subtest: Should be able to override the default use API
        1..1
        ok 1 - should be equal
    ok 1 - Should be able to override the default use API # time=15.875ms
    
    # Subtest: Cannot decorate use twice
        1..1
        ok 1 - expect truthy value
    ok 2 - Cannot decorate use twice # time=2.795ms
    
    # Subtest: Encapsulation works
        1..1
        ok 1 - should be equal
    ok 3 - Encapsulation works # time=14.833ms
    
    1..3
    # time=46.682ms
ok 69 - test/middleware.test.js # time=46.682ms

# Subtest: test/noop-set.test.js
    # Subtest: does a lot of nothing
        ok 1 - type is object
        ok 2 - should be equal
        1..2
    ok 1 - does a lot of nothing # time=7.267ms
    
    1..1
    # time=12.832ms
ok 70 - test/noop-set.test.js # time=12.832ms

# Subtest: test/nullable-validation.test.js
    # Subtest: nullable string
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 1 - nullable string # time=162.471ms
    
    # Subtest: object or null body
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 2 - object or null body # time=65.622ms
    
    # Subtest: nullable body
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 3 - nullable body # time=62.356ms
    
    # Subtest: Nullable body with 204
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 4 - Nullable body with 204 # time=34.137ms
    
    1..4
    # time=333.794ms
ok 71 - test/nullable-validation.test.js # time=333.794ms

# Subtest: test/options.error-handler.test.js
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - OPTIONS can be created # time=9.256ms
    
    # Subtest: OPTIONS without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - OPTIONS without schema can be created # time=2.029ms
    
    # Subtest: OPTIONS with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - OPTIONS with body and querystring # time=1.548ms
    
    # Subtest: OPTIONS with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - OPTIONS with bodyLimit option # time=1.728ms
    
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - OPTIONS can be created # time=3.243ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - OPTIONS - correctly replies # time=58.585ms
    
    # Subtest: OPTIONS - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - OPTIONS - correctly replies with very large body # time=10.29ms
    
    # Subtest: OPTIONS - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - OPTIONS - correctly replies if the content type has the charset # time=6.007ms
    
    # Subtest: OPTIONS without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - OPTIONS without schema - correctly replies # time=5.858ms
    
    # Subtest: OPTIONS with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - OPTIONS with body and querystring - correctly replies # time=5.95ms
    
    # Subtest: OPTIONS with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - OPTIONS with no body - correctly replies # time=32.536ms
    
    # Subtest: OPTIONS returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - OPTIONS returns 415 - incorrect media type if body is not json # time=4.495ms
    
    # Subtest: OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text # time=6.08ms
    
    # Subtest: OPTIONS returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 14 - OPTIONS returns 400 - Bad Request # time=8.521ms
    
    # Subtest: OPTIONS returns 413 - Payload Too Large
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - OPTIONS returns 413 - Payload Too Large # time=7.574ms
    
    # Subtest: OPTIONS should fail with empty body and application/json content-type
        1..0
    ok 16 - OPTIONS should fail with empty body and application/json content-type # time=0.868ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - OPTIONS - correctly replies # time=5.011ms
    
    # Subtest: OPTIONS - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - OPTIONS - 400 on bad parameters # time=5.846ms
    
    # Subtest: OPTIONS - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - OPTIONS - input-validation coerce # time=4.856ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - OPTIONS - input-validation custom schema compiler # time=5.018ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - OPTIONS - input-validation joi schema compiler ok # time=6.825ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - OPTIONS - input-validation joi schema compiler ko # time=6.854ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - OPTIONS - input-validation yup schema compiler ok # time=8.587ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - OPTIONS - input-validation yup schema compiler ko # time=6.055ms
    
    # Subtest: OPTIONS - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - OPTIONS - input-validation instance custom schema compiler encapsulated # time=4.494ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 26 - OPTIONS - input-validation custom schema compiler encapsulated # time=4.471ms
    
    ok 27 - type is object
    ok 28 - type is Request
    ok 29 - type is object
    ok 30 - type is Request
    ok 31 - type is object
    ok 32 - type is Request
    ok 33 - type is object
    ok 34 - type is Request
    ok 35 - type is object
    ok 36 - type is Request
    1..36
    # time=1226.255ms
ok 72 - test/options.error-handler.test.js # time=1226.255ms

# Subtest: test/options.test.js
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - OPTIONS can be created # time=9.082ms
    
    # Subtest: OPTIONS without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - OPTIONS without schema can be created # time=1.925ms
    
    # Subtest: OPTIONS with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - OPTIONS with body and querystring # time=1.378ms
    
    # Subtest: OPTIONS with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - OPTIONS with bodyLimit option # time=1.651ms
    
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - OPTIONS can be created # time=3.051ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - OPTIONS - correctly replies # time=58.459ms
    
    # Subtest: OPTIONS - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - OPTIONS - correctly replies with very large body # time=12.063ms
    
    # Subtest: OPTIONS - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - OPTIONS - correctly replies if the content type has the charset # time=5.678ms
    
    # Subtest: OPTIONS without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - OPTIONS without schema - correctly replies # time=5.333ms
    
    # Subtest: OPTIONS with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - OPTIONS with body and querystring - correctly replies # time=12.118ms
    
    # Subtest: OPTIONS with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - OPTIONS with no body - correctly replies # time=27.225ms
    
    # Subtest: OPTIONS returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - OPTIONS returns 415 - incorrect media type if body is not json # time=4.561ms
    
    # Subtest: OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text # time=5.309ms
    
    # Subtest: OPTIONS returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 14 - OPTIONS returns 400 - Bad Request # time=7.721ms
    
    # Subtest: OPTIONS returns 413 - Payload Too Large
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - OPTIONS returns 413 - Payload Too Large # time=6.876ms
    
    # Subtest: OPTIONS should fail with empty body and application/json content-type
        1..0
    ok 16 - OPTIONS should fail with empty body and application/json content-type # time=0.606ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - OPTIONS - correctly replies # time=4.813ms
    
    # Subtest: OPTIONS - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - OPTIONS - 400 on bad parameters # time=5.286ms
    
    # Subtest: OPTIONS - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - OPTIONS - input-validation coerce # time=4.392ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - OPTIONS - input-validation custom schema compiler # time=4.59ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - OPTIONS - input-validation joi schema compiler ok # time=6.336ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - OPTIONS - input-validation joi schema compiler ko # time=6.528ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - OPTIONS - input-validation yup schema compiler ok # time=6.772ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - OPTIONS - input-validation yup schema compiler ko # time=5.795ms
    
    # Subtest: OPTIONS - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - OPTIONS - input-validation instance custom schema compiler encapsulated # time=4.168ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 26 - OPTIONS - input-validation custom schema compiler encapsulated # time=4.358ms
    
    1..26
    # time=1010.972ms
ok 73 - test/options.test.js # time=1010.972ms

# Subtest: test/output-validation.test.js
    # Subtest: shorthand - output string
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - output string # time=10.047ms
    
    # Subtest: shorthand - output number
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - output number # time=2.179ms
    
    # Subtest: wrong object for schema - output
        1..1
        ok 1 - (unnamed test)
    ok 3 - wrong object for schema - output # time=2.022ms
    
    # Subtest: empty response
        1..1
        ok 1 - (unnamed test)
    ok 4 - empty response # time=2.095ms
    
    # Subtest: unlisted response code
        1..1
        ok 1 - (unnamed test)
    ok 5 - unlisted response code # time=1.952ms
    
    ok 6 - should not error
    # Subtest: shorthand - string get ok
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - shorthand - string get ok # time=38.733ms
    
    # Subtest: shorthand - number get ok
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 8 - shorthand - number get ok # time=7.433ms
    
    # Subtest: shorthand - wrong-object-for-schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 9 - shorthand - wrong-object-for-schema # time=7.026ms
    
    # Subtest: shorthand - empty
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - shorthand - empty # time=4.61ms
    
    # Subtest: shorthand - 400
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - shorthand - 400 # time=5.104ms
    
    1..11
    # time=206.505ms
ok 74 - test/output-validation.test.js # time=206.505ms

# Subtest: test/patch.error-handler.test.js
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PATCH can be created # time=10.449ms
    
    # Subtest: PATCH without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PATCH without schema can be created # time=14.34ms
    
    # Subtest: PATCH with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PATCH with body and querystring # time=9.81ms
    
    # Subtest: PATCH with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PATCH with bodyLimit option # time=9.07ms
    
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - PATCH can be created # time=3.122ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - PATCH - correctly replies # time=61.46ms
    
    # Subtest: PATCH - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - PATCH - correctly replies with very large body # time=10.35ms
    
    # Subtest: PATCH - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - PATCH - correctly replies if the content type has the charset # time=6.27ms
    
    # Subtest: PATCH without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - PATCH without schema - correctly replies # time=6.604ms
    
    # Subtest: PATCH with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - PATCH with body and querystring - correctly replies # time=6.636ms
    
    # Subtest: PATCH with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - PATCH with no body - correctly replies # time=34.507ms
    
    # Subtest: PATCH returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - PATCH returns 415 - incorrect media type if body is not json # time=8.186ms
    
    # Subtest: PATCH returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 13 - PATCH returns 400 - Bad Request # time=10.804ms
    
    # Subtest: PATCH returns 413 - Payload Too Large
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 14 - PATCH returns 413 - Payload Too Large # time=15.605ms
    
    # Subtest: PATCH should fail with empty body and application/json content-type
        1..12
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
    ok 15 - PATCH should fail with empty body and application/json content-type # time=22.531ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - PATCH - correctly replies # time=5.606ms
    
    # Subtest: PATCH - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - PATCH - 400 on bad parameters # time=5.16ms
    
    # Subtest: PATCH - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - PATCH - input-validation coerce # time=4.642ms
    
    # Subtest: PATCH - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - PATCH - input-validation custom schema compiler # time=4.722ms
    
    # Subtest: PATCH - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - PATCH - input-validation joi schema compiler ok # time=6.114ms
    
    # Subtest: PATCH - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - PATCH - input-validation joi schema compiler ko # time=5.514ms
    
    # Subtest: PATCH - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - PATCH - input-validation yup schema compiler ok # time=5.569ms
    
    # Subtest: PATCH - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - PATCH - input-validation yup schema compiler ko # time=5.822ms
    
    # Subtest: PATCH - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - PATCH - input-validation instance custom schema compiler encapsulated # time=4.296ms
    
    # Subtest: PATCH - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - PATCH - input-validation custom schema compiler encapsulated # time=4.524ms
    
    ok 26 - type is object
    ok 27 - type is Request
    ok 28 - type is object
    ok 29 - type is Request
    ok 30 - type is object
    ok 31 - type is Request
    ok 32 - type is object
    ok 33 - type is Request
    ok 34 - type is object
    ok 35 - type is Request
    ok 36 - type is object
    ok 37 - type is Request
    ok 38 - type is object
    ok 39 - type is Request
    ok 40 - type is object
    ok 41 - type is Request
    ok 42 - type is object
    ok 43 - type is Request
    ok 44 - type is object
    ok 45 - type is Request
    ok 46 - type is object
    ok 47 - type is Request
    ok 48 - type is object
    ok 49 - type is Request
    1..49
    # time=1108.797ms
ok 75 - test/patch.error-handler.test.js # time=1108.797ms

# Subtest: test/patch.test.js
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PATCH can be created # time=9.346ms
    
    # Subtest: PATCH without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PATCH without schema can be created # time=1.99ms
    
    # Subtest: PATCH with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PATCH with body and querystring # time=1.539ms
    
    # Subtest: PATCH with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PATCH with bodyLimit option # time=1.748ms
    
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - PATCH can be created # time=2.768ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - PATCH - correctly replies # time=59.089ms
    
    # Subtest: PATCH - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - PATCH - correctly replies with very large body # time=9.767ms
    
    # Subtest: PATCH - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - PATCH - correctly replies if the content type has the charset # time=5.925ms
    
    # Subtest: PATCH without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - PATCH without schema - correctly replies # time=5.663ms
    
    # Subtest: PATCH with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - PATCH with body and querystring - correctly replies # time=5.926ms
    
    # Subtest: PATCH with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - PATCH with no body - correctly replies # time=33.941ms
    
    # Subtest: PATCH returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - PATCH returns 415 - incorrect media type if body is not json # time=6.013ms
    
    # Subtest: PATCH returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 13 - PATCH returns 400 - Bad Request # time=8.188ms
    
    # Subtest: PATCH returns 413 - Payload Too Large
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 14 - PATCH returns 413 - Payload Too Large # time=15.047ms
    
    # Subtest: PATCH should fail with empty body and application/json content-type
        1..12
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
    ok 15 - PATCH should fail with empty body and application/json content-type # time=21.336ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - PATCH - correctly replies # time=5.715ms
    
    # Subtest: PATCH - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - PATCH - 400 on bad parameters # time=5.12ms
    
    # Subtest: PATCH - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - PATCH - input-validation coerce # time=4.431ms
    
    # Subtest: PATCH - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - PATCH - input-validation custom schema compiler # time=4.727ms
    
    # Subtest: PATCH - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - PATCH - input-validation joi schema compiler ok # time=6.293ms
    
    # Subtest: PATCH - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - PATCH - input-validation joi schema compiler ko # time=5.886ms
    
    # Subtest: PATCH - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - PATCH - input-validation yup schema compiler ok # time=5.704ms
    
    # Subtest: PATCH - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - PATCH - input-validation yup schema compiler ko # time=5.728ms
    
    # Subtest: PATCH - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - PATCH - input-validation instance custom schema compiler encapsulated # time=3.994ms
    
    # Subtest: PATCH - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - PATCH - input-validation custom schema compiler encapsulated # time=4.046ms
    
    1..25
    # time=1054.946ms
ok 76 - test/patch.test.js # time=1054.946ms

# Subtest: test/plugin.test.js
    # Subtest: require a plugin
        1..1
        ok 1 - expect truthy value
    ok 1 - require a plugin # time=123.9ms
    
    # Subtest: plugin metadata - ignore prefix
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 2 - plugin metadata - ignore prefix # time=64.228ms
    
    # Subtest: plugin metadata - naming plugins
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 3 - plugin metadata - naming plugins # time=29.361ms
    
    # Subtest: fastify.register with fastify-plugin should not encapsulate his code
        1..10
        ok 1 - expect falsey value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 4 - fastify.register with fastify-plugin should not encapsulate his code # time=47.846ms
    
    # Subtest: fastify.register with fastify-plugin should provide access to external fastify instance if opts argument is a function
        1..22
        ok 1 - expect falsey value
        ok 2 - expect falsey value
        ok 3 - expect falsey value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
./VariantsPureDep/fastify/variant3/fastify
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect falsey value
        ok 10 - expect truthy value
        ok 11 - expect falsey value
        ok 12 - expect truthy value
        ok 13 - expect truthy value
        ok 14 - should be equal
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - should not error
        ok 18 - expect truthy value
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equal
        ok 22 - should be equivalent
    ok 5 - fastify.register with fastify-plugin should provide access to external fastify instance if opts argument is a function # time=28.217ms
    
    # Subtest: fastify.register with fastify-plugin registers fastify level plugins
        1..15
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should not error
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equivalent
    ok 6 - fastify.register with fastify-plugin registers fastify level plugins # time=20.192ms
    
    # Subtest: check dependencies - should not throw
        1..12
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - should not error
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
    ok 7 - check dependencies - should not throw # time=23.685ms
    
    # Subtest: check dependencies - should throw
        1..12
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - should not error
        ok 7 - expect truthy value
        ok 8 - expect falsey value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
    ok 8 - check dependencies - should throw # time=45.723ms
    
    # Subtest: set the plugin name based on the plugin displayName symbol
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
    ok 9 - set the plugin name based on the plugin displayName symbol # time=7.682ms
    
    # Subtest: plugin name will change when using no encapsulation
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
    ok 10 - plugin name will change when using no encapsulation # time=6.926ms
    
    # Subtest: plugin name is undefined when accessing in no plugin context
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 11 - plugin name is undefined when accessing in no plugin context # time=17.189ms
    
    # Subtest: set the plugin name based on the plugin function name
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 12 - set the plugin name based on the plugin function name # time=16.562ms
    
    # Subtest: approximate a plugin name when no meta data is available
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
    ok 13 - approximate a plugin name when no meta data is available # time=9.53ms
    
    # Subtest: approximate a plugin name also when fastify-plugin has no meta data
        1..4
        ok 1 - should match pattern provided
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should not error
    ok 14 - approximate a plugin name also when fastify-plugin has no meta data # time=7.98ms
    
    # Subtest: plugin encapsulation
        1..10
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 15 - plugin encapsulation # time=25.057ms
    
    # Subtest: if a plugin raises an error and there is not a callback to handle it, the server must not start
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 16 - if a plugin raises an error and there is not a callback to handle it, the server must not start # time=29.004ms
    
    # Subtest: add hooks after route declaration
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 17 - add hooks after route declaration # time=17.815ms
    
    # Subtest: nested plugins
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 18 - nested plugins # time=15.45ms
    
    # Subtest: nested plugins awaited
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 19 - nested plugins awaited # time=15.357ms
    
    # Subtest: plugin metadata - decorators
        1..1
        ok 1 - expect truthy value
    ok 20 - plugin metadata - decorators # time=21.514ms
    
    # Subtest: plugin metadata - decorators - should throw
        1..1
        ok 1 - should be equal
    ok 21 - plugin metadata - decorators - should throw # time=3.519ms
    
    # Subtest: plugin metadata - decorators - should throw with plugin name
        1..1
        ok 1 - should be equal
    ok 22 - plugin metadata - decorators - should throw with plugin name # time=7.704ms
    
    # Subtest: plugin metadata - dependencies
        1..1
        ok 1 - everything right
    ok 23 - plugin metadata - dependencies # time=3.018ms
    
    # Subtest: plugin metadata - dependencies (nested)
        1..1
        ok 1 - everything right
    ok 24 - plugin metadata - dependencies (nested) # time=3.657ms
    
    # Subtest: pluginTimeout
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 25 - pluginTimeout # time=14.956ms
    
    # "pluginTimeout - named function" has `only` set but all tests run
    # Subtest: pluginTimeout - named function
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 26 - pluginTimeout - named function # time=14.395ms
    
    # Subtest: pluginTimeout default
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 27 - pluginTimeout default # time=-162111917.679ms
    
    # Subtest: plugin metadata - version
        1..1
        ok 1 - everything right
    ok 28 - plugin metadata - version # time=7.71ms
    
    # Subtest: plugin metadata - version range
        1..1
        ok 1 - everything right
    ok 29 - plugin metadata - version range # time=4.15ms
    
    # Subtest: plugin metadata - version not matching requirement
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 30 - plugin metadata - version not matching requirement # time=4.271ms
    
    # Subtest: plugin metadata - version not matching requirement 2
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 31 - plugin metadata - version not matching requirement 2 # time=3.508ms
    
    # Subtest: plugin metadata - version not matching requirement 3
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 32 - plugin metadata - version not matching requirement 3 # time=3.431ms
    
    # Subtest: plugin metadata - release candidate
        1..2
        ok 1 - should not error
        ok 2 - everything right
    ok 33 - plugin metadata - release candidate # time=5.032ms
    
    # Subtest: fastify-rc loads prior version plugins
        1..2
        ok 1 - should not error
        ok 2 - everything right
    ok 34 - fastify-rc loads prior version plugins # time=3.528ms
    
    # Subtest: hasPlugin method exists as a function
        1..1
        ok 1 - should be equal
    ok 35 - hasPlugin method exists as a function # time=1.172ms
    
    # Subtest: hasPlugin returns true if the specified plugin has been registered
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
    ok 36 - hasPlugin returns true if the specified plugin has been registered # time=5.637ms
    
    # Subtest: hasPlugin returns false if the specified plugin has not been registered
        1..1
        ok 1 - expect falsey value
    ok 37 - hasPlugin returns false if the specified plugin has not been registered # time=1.145ms
    
    # Subtest: hasPlugin returns false when using encapsulation
        1..25
        ok 1 - expect truthy value
        ok 2 - expect falsey value
        ok 3 - expect falsey value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect truthy value
        ok 8 - expect falsey value
        ok 9 - expect falsey value
        ok 10 - expect falsey value
        ok 11 - expect falsey value
        ok 12 - expect falsey value
        ok 13 - expect truthy value
        ok 14 - expect falsey value
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - expect falsey value
        ok 18 - expect falsey value
        ok 19 - expect truthy value
        ok 20 - expect falsey value
        ok 21 - expect falsey value
        ok 22 - expect falsey value
        ok 23 - expect falsey value
        ok 24 - expect falsey value
        ok 25 - expect truthy value
    ok 38 - hasPlugin returns false when using encapsulation # time=18.486ms
    
    # Subtest: hasPlugin returns true when using no encapsulation
        1..26
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect falsey value
        ok 10 - expect falsey value
        ok 11 - expect falsey value
        ok 12 - expect truthy value
        ok 13 - expect truthy value
        ok 14 - expect truthy value
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - expect truthy value
        ok 18 - expect truthy value
        ok 19 - expect truthy value
        ok 20 - expect truthy value
        ok 21 - expect falsey value
        ok 22 - expect truthy value
        ok 23 - expect truthy value
        ok 24 - expect truthy value
        ok 25 - expect truthy value
        ok 26 - expect truthy value
    ok 39 - hasPlugin returns true when using no encapsulation # time=24.853ms
    
    1..39
    # time=737.101ms
ok 77 - test/plugin.test.js # time=737.101ms

# Subtest: test/pretty-print.test.js
    # Subtest: pretty print - static routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - pretty print - static routes # time=86.132ms
    
    # Subtest: pretty print - parametric routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - pretty print - parametric routes # time=8.085ms
    
    # Subtest: pretty print - mixed parametric routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 3 - pretty print - mixed parametric routes # time=9.635ms
    
    # Subtest: pretty print - wildcard routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - pretty print - wildcard routes # time=9.303ms
    
    # Subtest: pretty print - empty plugins
        1..2
        ok 1 - should be equal
        ok 2 - should match pattern provided
    ok 5 - pretty print - empty plugins # time=8.128ms
    
    # Subtest: pretty print - nested plugins
        1..4
        ok 1 - should be equal
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
    ok 6 - pretty print - nested plugins # time=22.703ms
    
    # Subtest: pretty print - commonPrefix
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 7 - pretty print - commonPrefix # time=35.667ms
    
    # Subtest: pretty print - includeMeta, includeHooks
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 8 - pretty print - includeMeta, includeHooks # time=11.666ms
    
    1..8
    # time=217.293ms
ok 78 - test/pretty-print.test.js # time=217.293ms


> fastify@4.3.0 test
> npm run lint && npm run unit && npm run test:typescript


> fastify@4.3.0 lint
> npm run lint:standard && npm run lint:typescript && npm run lint:markdown


> fastify@4.3.0 lint:standard
> standard | snazzy

-----------------------------|---------|----------|---------|---------|-----------------------------
File                         | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s           
-----------------------------|---------|----------|---------|---------|-----------------------------
All files                    |   92.78 |    92.03 |    92.3 |   92.91 |                             
 fastify                     |   85.23 |    88.12 |   82.14 |    84.9 |                             
  fastify.js                 |   85.23 |    88.12 |   82.14 |    84.9 | ...,676-695,721-724,732-743 
 fastify/lib                 |   93.85 |    92.55 |   94.23 |   94.06 |                             
  contentTypeParser.js       |    97.8 |    99.15 |     100 |   97.64 | 233-236                     
  context.js                 |     100 |      100 |     100 |     100 |                             
  decorate.js                |   98.21 |    98.03 |     100 |   98.07 | 41                          
  error-handler.js           |    94.2 |    93.61 |     100 |    94.2 | 108-110,118                 
  errors.js                  |     100 |      100 |     100 |     100 |                             
  fourOhFour.js              |     100 |      100 |     100 |     100 |                             
  handleRequest.js           |   98.48 |    98.03 |     100 |   98.41 | 97                          
  headRoute.js               |      20 |     12.5 |   33.33 |   14.28 | 4-21,26                     
  hooks.js                   |     100 |      100 |     100 |     100 |                             
  initialConfigValidation.js |     100 |      100 |     100 |     100 |                             
  logger.js                  |     100 |      100 |     100 |     100 |                             
  noop-set.js                |     100 |      100 |     100 |     100 |                             
  pluginOverride.js          |   97.56 |       90 |     100 |    97.5 | 75                          
  pluginUtils.js             |     100 |      100 |     100 |     100 |                             
  reply.js                   |    87.7 |    84.86 |   88.88 |   88.76 | ...-618,622-627,648-654,659 
  reqIdGenFactory.js         |     100 |      100 |     100 |     100 |                             
  request.js                 |   87.96 |    90.62 |      80 |   89.42 | 45-54,157-167,206,211       
  route.js                   |   88.84 |    88.04 |     100 |   88.69 | ...,355-362,396-397,461,465 
  schema-controller.js       |    92.3 |    79.41 |   84.61 |    92.3 | 23,58,71                    
  schemas.js                 |   92.64 |    93.65 |   88.88 |   94.02 | 28,32,43,147                
  server.js                  |     100 |      100 |     100 |     100 |                             
  symbols.js                 |     100 |      100 |     100 |     100 |                             
  validation.js              |   98.55 |    96.55 |     100 |   98.43 | 22                          
  warnings.js                |     100 |      100 |     100 |     100 |                             
  wrapThenable.js            |   93.33 |       90 |     100 |   93.33 | 11                          
-----------------------------|---------|----------|---------|---------|-----------------------------

> fastify@4.3.0 lint:typescript
> eslint -c types/.eslintrc.json types/**/*.d.ts test/types/**/*.test-d.ts


> fastify@4.3.0 lint:markdown
> markdownlint-cli2

markdownlint-cli2 v0.4.0 (markdownlint v0.25.1)

> fastify@4.3.0 unit
> tap

TAP version 13
# Subtest: test/404s.test.js
    # Subtest: default 404
        1..4
        ok 1 - should not error
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - unsupported method # time=30.683ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - framework-unsupported method # time=7.209ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - unsupported route # time=5.578ms
        
    ok 1 - default 404 # time=202.254ms
    
    # Subtest: customized 404
        1..6
        ok 1 - should not error
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - unsupported method # time=9.806ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - framework-unsupported method # time=4.129ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - unsupported route # time=3.584ms
        
        # Subtest: with error object
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - with error object # time=9.76ms
        
        # Subtest: error object with headers property
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 6 - error object with headers property # time=6.033ms
        
    ok 2 - customized 404 # time=46.65ms
    
    # Subtest: custom header in notFound handler
        1..2
        ok 1 - should not error
        # Subtest: not found with custom header
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
        ok 2 - not found with custom header # time=14.194ms
        
    ok 3 - custom header in notFound handler # time=33.991ms
    
    # Subtest: setting a custom 404 handler multiple times is an error
        1..5
        # Subtest: at the root level
            1..2
            ok 1 - type is Error
            ok 2 - should be equal
        ok 1 - at the root level # time=4.863ms
        
        # Subtest: at the plugin level
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 2 - at the plugin level # time=36.977ms
        
        # Subtest: at multiple levels
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 3 - at multiple levels # time=15.951ms
        
        # Subtest: at multiple levels / 2
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 4 - at multiple levels / 2 # time=29.711ms
        
        # Subtest: in separate plugins at the same level
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 5 - in separate plugins at the same level # time=20.72ms
        
    ok 4 - setting a custom 404 handler multiple times is an error # time=118.833ms
    
    # Subtest: encapsulated 404
        1..13
        ok 1 - should not error
        # Subtest: root unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - root unsupported method # time=18.459ms
        
        # Subtest: root framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - root framework-unsupported method # time=4.605ms
        
        # Subtest: root unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - root unsupported route # time=4.426ms
        
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 5 - unsupported method # time=4.937ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 6 - framework-unsupported method # time=4.584ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 7 - unsupported route # time=4.196ms
        
        # Subtest: unsupported method 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 8 - unsupported method 2 # time=4.618ms
        
        # Subtest: framework-unsupported method 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 9 - framework-unsupported method 2 # time=4.182ms
        
        # Subtest: unsupported route 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 10 - unsupported route 2 # time=4.106ms
        
        # Subtest: unsupported method 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 11 - unsupported method 3 # time=4.75ms
        
        # Subtest: framework-unsupported method 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 12 - framework-unsupported method 3 # time=3.998ms
        
        # Subtest: unsupported route 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 13 - unsupported route 3 # time=4.109ms
        
    ok 5 - encapsulated 404 # time=137.882ms
    
    # Subtest: custom 404 hook and handler context
        1..21
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should not error
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equal
    ok 6 - custom 404 hook and handler context # time=75.818ms
    
    # Subtest: encapsulated custom 404 without - prefix hook and handler context
        1..13
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equal
    ok 7 - encapsulated custom 404 without - prefix hook and handler context # time=12.217ms
    
    # Subtest: run hooks on default 404
        1..7
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - preHandler called
        ok 4 - onSend called
        ok 5 - onResponse called
        ok 6 - should not error
        ok 7 - should be equal
    ok 8 - run hooks on default 404 # time=49.64ms
    
    # Subtest: run non-encapsulated plugin hooks on default 404
        1..6
        ok 1 - onRequest called
        ok 2 - preHandler called
        ok 3 - onSend called
        ok 4 - onResponse called
        ok 5 - should not error
        ok 6 - should be equal
    ok 9 - run non-encapsulated plugin hooks on default 404 # time=14.359ms
    
    # Subtest: run non-encapsulated plugin hooks on custom 404
        1..11
        ok 1 - onRequest called
        ok 2 - onRequest called
        ok 3 - preHandler called
        ok 4 - preHandler called
        ok 5 - onSend called
        ok 6 - onSend called
        ok 7 - onResponse called
        ok 8 - onResponse called
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
    ok 10 - run non-encapsulated plugin hooks on custom 404 # time=10.476ms
    
    # Subtest: run hook with encapsulated 404
        1..11
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - onRequest 2 called
        ok 4 - preHandler called
        ok 5 - preHandler 2 called
        ok 6 - onSend called
        ok 7 - onSend 2 called
        ok 8 - onResponse called
        ok 9 - onResponse 2 called
        ok 10 - should not error
        ok 11 - should be equal
    ok 11 - run hook with encapsulated 404 # time=13.725ms
    
    # Subtest: run hook with encapsulated 404 and framework-unsupported method
        1..11
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - onRequest 2 called
        ok 4 - preHandler called
        ok 5 - preHandler 2 called
        ok 6 - onSend called
        ok 7 - onSend 2 called
        ok 8 - onResponse called
        ok 9 - onResponse 2 called
        ok 10 - should not error
        ok 11 - should be equal
    ok 12 - run hook with encapsulated 404 and framework-unsupported method # time=12.926ms
    
    # Subtest: hooks check 404
        1..13
        ok 1 - should not error
        ok 2 - onRequest
        ok 3 - should be equivalent
        ok 4 - onSend
        ok 5 - onResponse
        ok 6 - onRequest
        ok 7 - should be equivalent
        ok 8 - onSend
        ok 9 - onResponse
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should not error
        ok 13 - should be equal
    ok 13 - hooks check 404 # time=27.794ms
    
    # Subtest: setNotFoundHandler should not suppress duplicated routes checking
        1..1
        ok 1 - expect truthy value
    ok 14 - setNotFoundHandler should not suppress duplicated routes checking # time=3.519ms
    
    # Subtest: log debug for 404
        1..1
        # Subtest: log debug
            1..7
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
        ok 1 - log debug # time=7.876ms
        
    ok 15 - log debug for 404 # time=14.755ms
    
    # Subtest: Unknown method
        1..5
        ok 1 - should not error
        ok 2 - expected to throw
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent strictly
    ok 16 - Unknown method # time=12.288ms
    
    # Subtest: recognizes errors from the http-errors module
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent strictly
    ok 17 - recognizes errors from the http-errors module # time=36.5ms
    
    # Subtest: the default 404 handler can be invoked inside a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
    ok 18 - the default 404 handler can be invoked inside a prefixed plugin # time=12.77ms
    
    # Subtest: an inherited custom 404 handler can be invoked inside a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - an inherited custom 404 handler can be invoked inside a prefixed plugin # time=7.231ms
    
    # Subtest: encapsulated custom 404 handler without a prefix is the handler for the entire 404 level
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 20 - encapsulated custom 404 handler without a prefix is the handler for the entire 404 level # time=10.746ms
    
    # Subtest: cannot set notFoundHandler after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 21 - cannot set notFoundHandler after binding # time=4.473ms
    
    # Subtest: 404 inside onSend
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 22 - 404 inside onSend # time=6.571ms
    
    # Subtest: onSend hooks run when an encapsulated route invokes the notFound handler
        1..3
        ok 1 - onSend hook called
        ok 2 - should not error
        ok 3 - should be equal
    ok 23 - onSend hooks run when an encapsulated route invokes the notFound handler # time=5.773ms
    
    # Subtest: preHandler option for setNotFoundHandler
        1..10
        # Subtest: preHandler option
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 1 - preHandler option # time=37.016ms
        
        # Subtest: preHandler hook in setNotFoundHandler should be called when callNotFound
            1..3
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 2 - preHandler hook in setNotFoundHandler should be called when callNotFound # time=21.896ms
        
        # Subtest: preHandler hook in setNotFoundHandler should accept an array of functions and be called when callNotFound
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 3 - preHandler hook in setNotFoundHandler should accept an array of functions and be called when callNotFound # time=5.829ms
        
        # Subtest: preHandler option should be called after preHandler hook
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 4 - preHandler option should be called after preHandler hook # time=5.303ms
        
        # Subtest: preHandler option should be unique per prefix
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 5 - preHandler option should be unique per prefix # time=14.769ms
        
        # Subtest: preHandler option should handle errors
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 6 - preHandler option should handle errors # time=5.53ms
        
        # Subtest: preHandler option should handle errors with custom status code
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 7 - preHandler option should handle errors with custom status code # time=5.526ms
        
        # Subtest: preHandler option could accept an array of functions
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 8 - preHandler option could accept an array of functions # time=4.799ms
        
        # Subtest: preHandler option does not interfere with preHandler
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 9 - preHandler option does not interfere with preHandler # time=9.64ms
        
        # Subtest: preHandler option should keep the context
            1..3
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 10 - preHandler option should keep the context # time=5.399ms
        
    ok 24 - preHandler option for setNotFoundHandler # time=127.92ms
    
    # Subtest: reply.notFound invoked the notFound handler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - reply.notFound invoked the notFound handler # time=5.533ms
    
    # Subtest: The custom error handler should be invoked after the custom not found handler
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - type is Error
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 26 - The custom error handler should be invoked after the custom not found handler # time=6.748ms
    
    # Subtest: If the custom not found handler does not use an Error, the custom error handler should not be called
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 27 - If the custom not found handler does not use an Error, the custom error handler should not be called # time=4.723ms
    
    # Subtest: preValidation option
        1..3
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 28 - preValidation option # time=5.419ms
    
    # Subtest: preValidation option could accept an array of functions
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 29 - preValidation option could accept an array of functions # time=5.41ms
    
    # Subtest: Should fail to invoke callNotFound inside a 404 handler
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 30 - Should fail to invoke callNotFound inside a 404 handler # time=7.137ms
    
    # Subtest: 400 in case of bad url (pre find-my-way v2.2.0 was a 404)
        # Subtest: Dynamic route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 1 - Dynamic route # time=19.877ms
        
        # Subtest: Wildcard
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - Wildcard # time=5.806ms
        
        # Subtest: No route registered
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - No route registered # time=5.181ms
        
        # Subtest: Only / is registered
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - Only / is registered # time=25.961ms
        
        # Subtest: customized 404
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - customized 404 # time=22.494ms
        
        1..5
    ok 31 - 400 in case of bad url (pre find-my-way v2.2.0 was a 404) # time=87.29ms
    
    # Subtest: setNotFoundHandler should be chaining fastify instance
        # Subtest: Register route after setNotFoundHandler
            1..6
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should not error
            ok 5 - should be equal
            ok 6 - should be equal
        ok 1 - Register route after setNotFoundHandler # time=7.577ms
        
        1..1
    ok 32 - setNotFoundHandler should be chaining fastify instance # time=39.297ms
    
    # Subtest: Send 404 when frameworkError calls reply.callNotFound
        # Subtest: Dynamic route
            1..4
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 1 - Dynamic route # time=6.122ms
        
        1..1
    ok 33 - Send 404 when frameworkError calls reply.callNotFound # time=11.368ms
    
    1..33
    # time=1204.349ms
ok 1 - test/404s.test.js # time=1204.349ms

# Subtest: test/500s.test.js
    # Subtest: default 500
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - default 500 # time=81.386ms
    
    # Subtest: custom 500
        1..6
        ok 1 - type is object
        ok 2 - type is Request
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 2 - custom 500 # time=11.179ms
    
    # Subtest: encapsulated 500
        1..10
        ok 1 - type is object
        ok 2 - type is Request
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 3 - encapsulated 500 # time=18.883ms
    
    # Subtest: custom 500 with hooks
        1..7
        ok 1 - onRequest
        ok 2 - onSend
        ok 3 - onResponse
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 4 - custom 500 with hooks # time=10.169ms
    
    # Subtest: cannot set errorHandler after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 5 - cannot set errorHandler after binding # time=12.382ms
    
    1..5
    # time=148.277ms
ok 2 - test/500s.test.js # time=148.277ms

# Subtest: test/allowUnsafeRegex.test.js
    # Subtest: allow unsafe regex
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - allow unsafe regex # time=71.472ms
    
    # Subtest: allow unsafe regex not match
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 2 - allow unsafe regex not match # time=12.364ms
    
    # Subtest: allow unsafe regex not safe
        1..1
        ok 1 - expected to throw
    ok 3 - allow unsafe regex not safe # time=92.605ms
    
    # Subtest: allow unsafe regex not safe by default
        1..1
        ok 1 - expected to throw
    ok 4 - allow unsafe regex not safe by default # time=3.208ms
    
    # Subtest: allow unsafe regex allow unsafe
        1..5
        ok 1 - expected to not throw
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 5 - allow unsafe regex allow unsafe # time=46.651ms
    
    1..5
    # time=270.813ms
ok 3 - test/allowUnsafeRegex.test.js # time=270.813ms

# Subtest: test/als.test.js
    ok 1 - should not error
    ok 2 - expect truthy value
    ok 3 - should not error
    ok 4 - should be equal
    ok 5 - should be equivalent
    ok 6 - expect truthy value
    ok 7 - should not error
    ok 8 - should be equal
    ok 9 - should be equivalent
    ok 10 - expect truthy value
    ok 11 - should not error
    ok 12 - should be equal
    ok 13 - should be equivalent
    1..13
    # time=45.995ms
ok 4 - test/als.test.js # time=45.995ms

# Subtest: test/async-await.test.js
    # Subtest: async await
        1..11
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 1 - async await # time=318.341ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (undefined)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 2 - ignore the result of the promise if reply.send is called beforehand (undefined) # time=11.828ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (object)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 3 - ignore the result of the promise if reply.send is called beforehand (object) # time=14.083ms
    
    # Subtest: server logs an error if reply.send is called and a value is returned via async/await
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 4 - server logs an error if reply.send is called and a value is returned via async/await # time=85.089ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (undefined)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 5 - ignore the result of the promise if reply.send is called beforehand (undefined) # time=9.581ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (object)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 6 - ignore the result of the promise if reply.send is called beforehand (object) # time=12.392ms
    
    # Subtest: await reply if we will be calling reply.send in the future
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 7 - await reply if we will be calling reply.send in the future # time=7.573ms
    
    # Subtest: await reply if we will be calling reply.send in the future (error case)
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 8 - await reply if we will be calling reply.send in the future (error case) # time=8.649ms
    
    # Subtest: support reply decorators with await
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 9 - support reply decorators with await # time=19.256ms
    
    # Subtest: inject async await
        1..1
        ok 1 - should be equivalent
    ok 10 - inject async await # time=8.701ms
    
    # Subtest: inject async await - when the server equal up
        1..2
        ok 1 - should be equivalent
        ok 2 - should be equivalent
    ok 11 - inject async await - when the server equal up # time=209.238ms
    
    # Subtest: async await plugin
        1..1
        ok 1 - should be equivalent
    ok 12 - async await plugin # time=212.494ms
    
    # Subtest: does not call reply.send() twice if 204 response equal already sent
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - does not call reply.send() twice if 204 response equal already sent # time=5.496ms
    
    # Subtest: promise was fulfilled with undefined
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - promise was fulfilled with undefined # time=12.463ms
    
    # Subtest: error is not logged because promise was fulfilled with undefined but response was sent before promise resolution
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 15 - error is not logged because promise was fulfilled with undefined but response was sent before promise resolution # time=11.061ms
    
    # Subtest: Thrown Error instance sets HTTP status code
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - Thrown Error instance sets HTTP status code # time=13.995ms
    
    # Subtest: customErrorHandler support
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 17 - customErrorHandler support # time=13.371ms
    
    # Subtest: customErrorHandler support without throwing
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - customErrorHandler support without throwing # time=12.409ms
    
    # Subtest: customErrorHandler only called if reply not already sent
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - customErrorHandler only called if reply not already sent # time=5.015ms
    
    # Subtest: setNotFoundHandler should accept return value
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - setNotFoundHandler should accept return value # time=7.037ms
    
    # Subtest: customErrorHandler should accept return value
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 21 - customErrorHandler should accept return value # time=5.869ms
    
    # Subtest: await self
        ok 1 - should be equal
        1..1
    ok 22 - await self # time=3.299ms
    
    1..22
    # time=1026.037ms
ok 5 - test/async-await.test.js # time=1026.037ms

# Subtest: test/bodyLimit.test.js
    # Subtest: bodyLimit
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should not error
        ok 5 - should be equal
    ok 1 - bodyLimit # time=48.389ms
    
    1..1
    # time=54.473ms
ok 6 - test/bodyLimit.test.js # time=54.473ms

# Subtest: test/build/error-serializer.test.js
    # Subtest: check generated code syntax
        1..1
        ok 1 - should be equal
    ok 1 - check generated code syntax # time=4058.009ms
    
    ok 2 - ensure the current error serializer is latest # SKIP
    1..2
    # skip: 1
    # time=4121.263ms
ok 7 - test/build/error-serializer.test.js # time=4121.263ms

# Subtest: test/build/version.test.js
    # Subtest: should be the same as package.json
        1..1
        ok 1 - should be equal
    ok 1 - should be the same as package.json # time=6.988ms
    
    1..1
    # time=14.819ms
ok 8 - test/build/version.test.js # time=14.819ms

# Subtest: test/case-insensitive.test.js
    # Subtest: case insensitive
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - case insensitive # time=73.382ms
    
    # Subtest: case insensitive inject
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - case insensitive inject # time=39.486ms
    
    # Subtest: case insensitive (parametric)
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 3 - case insensitive (parametric) # time=25.408ms
    
    # Subtest: case insensitive (wildcard)
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 4 - case insensitive (wildcard) # time=41.93ms
    
    1..4
    # time=196.055ms
ok 9 - test/case-insensitive.test.js # time=196.055ms

# Subtest: test/chainable.test.js
    # Subtest: chainable - get
        1..1
        ok 1 - type is [object Object]
    ok 1 - chainable - get # time=10.582ms
    
    # Subtest: chainable - post
        1..1
        ok 1 - type is [object Object]
    ok 2 - chainable - post # time=2.696ms
    
    # Subtest: chainable - route
        1..1
        ok 1 - type is [object Object]
    ok 3 - chainable - route # time=2.825ms
    
    1..3
    # time=31.346ms
ok 10 - test/chainable.test.js # time=31.346ms

# Subtest: test/close-pipelining.test.js
    # Subtest: Should return 503 while closing - pipelining
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        1..3
    ok 1 - Should return 503 while closing - pipelining # time=138.646ms
    
    # Subtest: Should not return 503 while closing - pipelining - return503OnClosing
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        1..3
    ok 2 - Should not return 503 while closing - pipelining - return503OnClosing # time=32.065ms
    
    1..2
    # time=202.353ms
ok 11 - test/close-pipelining.test.js # time=202.353ms

# Subtest: test/close.test.js
    # Subtest: close callback
        1..4
        ok 1 - should not error
        ok 2 - type is [object Object]
        ok 3 - should not error
        ok 4 - expect truthy value
    ok 1 - close callback # time=109.908ms
    
    # Subtest: inside register
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - expect truthy value
    ok 2 - inside register # time=19.34ms
    
    # Subtest: close order
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 3 - close order # time=43.456ms
    
    # Subtest: close order - async
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 4 - close order - async # time=16.247ms
    
    # Subtest: should not throw an error if the server is not listening
        1..2
        ok 1 - type is [object Object]
        ok 2 - should not error
    ok 5 - should not throw an error if the server is not listening # time=3.546ms
    
    # Subtest: onClose should keep the context
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
    ok 6 - onClose should keep the context # time=30.131ms
    
    # Subtest: Should return error while closing (promise) - injection
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 7 - Should return error while closing (promise) - injection # time=53.961ms
    
    # Subtest: Should return error while closing (callback) - injection
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 8 - Should return error while closing (callback) - injection # time=123.536ms
    
    # Subtest: Current opened connection should continue to work after closing and return "connection: close" header - return503OnClosing: false
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        1..5
    ok 9 - Current opened connection should continue to work after closing and return "connection: close" header - return503OnClosing: false # time=26.396ms
    
    # Subtest: Current opened connection should not accept new incoming connections
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 10 - Current opened connection should not accept new incoming connections # time=271.957ms
    
    # Subtest: Cannot be reopened the closed server without listen callback
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 11 - Cannot be reopened the closed server without listen callback # time=9.744ms
    
    # Subtest: Cannot be reopened the closed server has listen callback
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 12 - Cannot be reopened the closed server has listen callback # time=5.593ms
    
    ok 13 - shutsdown while keep-alive connections are active (non-async, native) # SKIP
    ok 14 - shutsdown while keep-alive connections are active (non-async, idle, native) # SKIP
    # Subtest: shutsdown while keep-alive connections are active (non-async, custom)
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 15 - shutsdown while keep-alive connections are active (non-async, custom) # time=11.132ms
    
    1..15
    # skip: 2
    # time=746.55ms
ok 12 - test/close.test.js # time=746.55ms

# Subtest: test/connectionTimeout.test.js
    # Subtest: connectionTimeout
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 1 - connectionTimeout # time=49.921ms
    
    1..1
    # time=56.103ms
ok 13 - test/connectionTimeout.test.js # time=56.103ms

# Subtest: test/constrained-routes.test.js
    # Subtest: Should register a host constrained route
        1..7
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 1 - Should register a host constrained route # time=103.473ms
    
    # Subtest: Should register the same route with host constraints
        1..8
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 2 - Should register the same route with host constraints # time=15.552ms
    
    # Subtest: Should allow registering custom constrained routes
        1..8
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 3 - Should allow registering custom constrained routes # time=26.472ms
    
    # Subtest: Should allow registering custom constrained routes outside constructor
        1..8
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 4 - Should allow registering custom constrained routes outside constructor # time=13.222ms
    
    # Subtest: Add a constraint strategy after fastify instance was started
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - Cannot add constraint strategy when fastify instance is already started!
    ok 5 - Add a constraint strategy after fastify instance was started # time=23.203ms
    
    # Subtest: Add a constraint strategy should throw an error if there already exist custom strategy with the same name
        1..1
        ok 1 - There already exists a custom constraint with the name secret.
    ok 6 - Add a constraint strategy should throw an error if there already exist custom strategy with the same name # time=2.219ms
    
    # Subtest: Add a constraint strategy shouldn't throw an error if default constraint with the same name isn't used
        1..1
        ok 1 - (unnamed test)
    ok 7 - Add a constraint strategy shouldn't throw an error if default constraint with the same name isn't used # time=1.92ms
    
    # Subtest: Add a constraint strategy should throw an error if default constraint with the same name is used
        1..1
        ok 1 - There already exists a route with version constraint.
    ok 8 - Add a constraint strategy should throw an error if default constraint with the same name is used # time=3.111ms
    
    # Subtest: The hasConstraintStrategy should return false for default constraints until they are used
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 9 - The hasConstraintStrategy should return false for default constraints until they are used # time=5.853ms
    
    # Subtest: The hasConstraintStrategy should return true if there already exist a custom constraint with the same name
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 10 - The hasConstraintStrategy should return true if there already exist a custom constraint with the same name # time=3.123ms
    
    # Subtest: Should allow registering an unconstrained route after a constrained route
        1..6
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
    ok 11 - Should allow registering an unconstrained route after a constrained route # time=10.524ms
    
    # Subtest: Should allow registering constrained routes in a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 12 - Should allow registering constrained routes in a prefixed plugin # time=20.798ms
    
    # Subtest: Should allow registering a constrained GET route after a constrained HEAD route
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 13 - Should allow registering a constrained GET route after a constrained HEAD route # time=6.547ms
    
    # Subtest: Should allow registering a constrained GET route after an unconstrained HEAD route
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 14 - Should allow registering a constrained GET route after an unconstrained HEAD route # time=6.348ms
    
    # Subtest: Will not try to re-createprefixed HEAD route if it already exists and exposeHeadRoutes is true for constrained routes
        1..1
        ok 1 - expect truthy value
    ok 15 - Will not try to re-createprefixed HEAD route if it already exists and exposeHeadRoutes is true for constrained routes # time=14.931ms
    
    # Subtest: allows separate constrained and unconstrained HEAD routes
        1..1
        ok 1 - expect truthy value
    ok 16 - allows separate constrained and unconstrained HEAD routes # time=7.868ms
    
    1..16
    # time=286.335ms
ok 14 - test/constrained-routes.test.js # time=286.335ms

# Subtest: test/content-length.test.js
    # Subtest: default 413 with bodyLimit option
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - default 413 with bodyLimit option # time=73.619ms
    
    # Subtest: default 400 with wrong content-length
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - default 400 with wrong content-length # time=14.785ms
    
    # Subtest: custom 413 with bodyLimit option
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 3 - custom 413 with bodyLimit option # time=24.126ms
    
    # Subtest: custom 400 with wrong content-length
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 4 - custom 400 with wrong content-length # time=10.94ms
    
    # Subtest: \#2214 - wrong content-length
        ok 1 - should be equal
        1..1
    ok 5 - \#2214 - wrong content-length # time=8.135ms
    
    # Subtest: \#2543 - wrong content-length with errorHandler
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 6 - \#2543 - wrong content-length with errorHandler # time=19.515ms
    
    1..6
    # time=168.953ms
ok 15 - test/content-length.test.js # time=168.953ms

# Subtest: test/content-parser.test.js
    # Subtest: hasContentTypeParser
        1..0
    ok 1 - hasContentTypeParser # time=12.05ms
    
    # Subtest: should know about internal parsers
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
    ok 2 - should know about internal parsers # time=40.337ms
    
    # Subtest: should work with string and RegExp
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect falsey value
    ok 3 - should work with string and RegExp # time=4.53ms
    
    # Subtest: getParser
        1..0
    ok 4 - getParser # time=92.146ms
    
    # Subtest: existingParser
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect falsey value
        1..7
    ok 5 - existingParser # time=14.477ms
    
    # Subtest: add
        1..0
    ok 6 - add # time=20.184ms
    
    # Subtest: non-Error thrown from content parser is properly handled
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 7 - non-Error thrown from content parser is properly handled # time=34.352ms
    
    # Subtest: Error thrown 415 from content type is null and make post request to server
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 8 - Error thrown 415 from content type is null and make post request to server # time=17.241ms
    
    # Subtest: remove
        1..0
    ok 9 - remove # time=30.487ms
    
    # Subtest: remove all should remove all existing parsers and reset cache
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
    ok 10 - remove all should remove all existing parsers and reset cache # time=5.318ms
    
    # Subtest: should return matching parser
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 11 - should return matching parser # time=2.373ms
    
    # Subtest: should return matching parser with caching
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 12 - should return matching parser with caching # time=2.497ms
    
    # Subtest: should prefer content type parser with string value
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 13 - should prefer content type parser with string value # time=2.526ms
    
    # Subtest: should return parser that catches all if no other is set
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 14 - should return parser that catches all if no other is set # time=3.165ms
    
    # Subtest: should return undefined if no matching parser exist
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 15 - should return undefined if no matching parser exist # time=2.342ms
    
    # Subtest: returns always false for "*"
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 16 - returns always false for "*" # time=1.705ms
    
    # Subtest: let you override the default parser once
        1..2
        ok 1 - Content type parser 'application/json' already present
        ok 2 - Content type parser 'text/plain' already present
    ok 17 - let you override the default parser once # time=4.951ms
    
    # Subtest: should only accept string and RegExp
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - The content type should be a string or a RegExp
        ok 4 - The content type should be a string or a RegExp
    ok 18 - should only accept string and RegExp # time=3.44ms
    
    # Subtest: should set "*" as parser that catches all
        1..1
        ok 1 - should be equal
    ok 19 - should set "*" as parser that catches all # time=1.325ms
    
    # Subtest: should remove default parser
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 20 - should remove default parser # time=1.503ms
    
    # Subtest: should remove RegExp parser
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 21 - should remove RegExp parser # time=1.521ms
    
    # Subtest: should throw an error if content type is neither string nor RegExp
        1..1
        ok 1 - expected to throw
    ok 22 - should throw an error if content type is neither string nor RegExp # time=1.75ms
    
    # Subtest: should not throw error if content type does not exist
        1..1
        ok 1 - expected to not throw
    ok 23 - should not throw error if content type does not exist # time=1.467ms
    
    # Subtest: should not remove any content type parser if content type does not exist
        1..1
        ok 1 - should be equivalent
    ok 24 - should not remove any content type parser if content type does not exist # time=1.934ms
    
    1..24
    # time=320.785ms
ok 16 - test/content-parser.test.js # time=320.785ms

# Subtest: test/context-config.test.js
    # Subtest: config
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 1 - config # time=94.985ms
    
    # Subtest: config with exposeHeadRoutes
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 2 - config with exposeHeadRoutes # time=17.34ms
    
    # Subtest: config without exposeHeadRoutes
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 3 - config without exposeHeadRoutes # time=32.777ms
    
    1..3
    # time=154.446ms
ok 17 - test/context-config.test.js # time=154.446ms

# Subtest: test/custom-http-server.test.js
    # Subtest: Should support a custom http server
        1..4
        ok 1 - it is called twice for every HOST interface
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - Should support a custom http server # time=67.69ms
    
    # Subtest: Should not allow forceCloseConnection=idle if the server does not support closeIdleConnections
        1..1
        ok 1 - Cannot set forceCloseConnections to 'idle' as your HTTP server does not support closeIdleConnections method
    ok 2 - Should not allow forceCloseConnection=idle if the server does not support closeIdleConnections # time=4.38ms
    
    1..2
    # time=81.926ms
ok 18 - test/custom-http-server.test.js # time=81.926ms

# Subtest: test/custom-parser-async.test.js
    # Subtest: contentTypeParser should add a custom async parser
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=30.979ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=7.636ms
        
    ok 1 - contentTypeParser should add a custom async parser # time=112.962ms
    
    1..1
    # time=118.327ms
ok 19 - test/custom-parser-async.test.js # time=118.327ms

# Subtest: test/custom-parser.test.js
    # Subtest: contentTypeParser method should exist
        1..1
        ok 1 - expect truthy value
    ok 1 - contentTypeParser method should exist # time=15.016ms
    
    # Subtest: contentTypeParser should add a custom parser
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=27.973ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=6.955ms
        
    ok 2 - contentTypeParser should add a custom parser # time=191.742ms
    
    # Subtest: contentTypeParser should handle multiple custom parsers
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 3 - contentTypeParser should handle multiple custom parsers # time=13.856ms
    
    # Subtest: contentTypeParser should handle an array of custom contentTypes
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 4 - contentTypeParser should handle an array of custom contentTypes # time=32.01ms
    
    # Subtest: contentTypeParser should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 5 - contentTypeParser should handle errors # time=9.812ms
    
    # Subtest: contentTypeParser should support encapsulation
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - expect falsey value
        ok 6 - expect falsey value
    ok 6 - contentTypeParser should support encapsulation # time=8.128ms
    
    # Subtest: contentTypeParser should support encapsulation, second try
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - contentTypeParser should support encapsulation, second try # time=32.183ms
    
    # Subtest: contentTypeParser shouldn't support request with undefined "Content-Type"
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 8 - contentTypeParser shouldn't support request with undefined "Content-Type" # time=10.341ms
    
    # Subtest: the content type should be a string or RegExp
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 9 - the content type should be a string or RegExp # time=2.213ms
    
    # Subtest: the content type cannot be an empty string
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 10 - the content type cannot be an empty string # time=2.457ms
    
    # Subtest: the content type handler should be a function
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 11 - the content type handler should be a function # time=2.098ms
    
    # Subtest: catch all content type parser
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 12 - catch all content type parser # time=12.589ms
    
    # Subtest: catch all content type parser should not interfere with other conte type parsers
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 13 - catch all content type parser should not interfere with other conte type parsers # time=36.205ms
    
    # Subtest: '*' catch undefined Content-Type requests
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - '*' catch undefined Content-Type requests # time=14.015ms
    
    # Subtest: cannot add custom parser after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 15 - cannot add custom parser after binding # time=5.825ms
    
    # Subtest: Can override the default json parser
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 16 - Can override the default json parser # time=22.672ms
    
    # Subtest: Can override the default plain text parser
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 17 - Can override the default plain text parser # time=20.551ms
    
    # Subtest: Can override the default json parser in a plugin
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 18 - Can override the default json parser in a plugin # time=9.6ms
    
    # Subtest: Can't override the json parser multiple times
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 19 - Can't override the json parser multiple times # time=1.747ms
    
    # Subtest: Can't override the plain text parser multiple times
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 20 - Can't override the plain text parser multiple times # time=1.951ms
    
    # Subtest: Should get the body as string
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 21 - Should get the body as string # time=10.958ms
    
    # Subtest: Should return defined body with no custom parser defined and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 22 - Should return defined body with no custom parser defined and content type = 'text/plain' # time=15.477ms
    
    # Subtest: Should have typeof body object with no custom parser defined, no body defined and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 23 - Should have typeof body object with no custom parser defined, no body defined and content type = 'text/plain' # time=7.215ms
    
    # Subtest: Should have typeof body object with no custom parser defined, null body and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 24 - Should have typeof body object with no custom parser defined, null body and content type = 'text/plain' # time=7.793ms
    
    # Subtest: Should have typeof body object with no custom parser defined, undefined body and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 25 - Should have typeof body object with no custom parser defined, undefined body and content type = 'text/plain' # time=20.802ms
    
    # Subtest: Should get the body as string
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 26 - Should get the body as string # time=7.208ms
    
    # Subtest: Should get the body as buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 27 - Should get the body as buffer # time=8.244ms
    
    # Subtest: Should get the body as buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 28 - Should get the body as buffer # time=23.062ms
    
    # Subtest: Should parse empty bodies as a string
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 29 - Should parse empty bodies as a string # time=17.769ms
    
    # Subtest: Should parse empty bodies as a buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 30 - Should parse empty bodies as a buffer # time=8.349ms
    
    # Subtest: The charset should not interfere with the content type handling
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 31 - The charset should not interfere with the content type handling # time=7.623ms
    
    # Subtest: Wrong parseAs parameter
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 32 - Wrong parseAs parameter # time=1.618ms
    
    # Subtest: Should allow defining the bodyLimit per parser
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent strictly
    ok 33 - Should allow defining the bodyLimit per parser # time=8.606ms
    
    # Subtest: route bodyLimit should take precedence over a custom parser bodyLimit
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent strictly
    ok 34 - route bodyLimit should take precedence over a custom parser bodyLimit # time=6.631ms
    
    # Subtest: should be able to use default parser for extra content type
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent strictly
    ok 35 - should be able to use default parser for extra content type # time=7.157ms
    
    # Subtest: contentTypeParser should add a custom parser with RegExp value
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=5.594ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=3.904ms
        
    ok 36 - contentTypeParser should add a custom parser with RegExp value # time=16.064ms
    
    # Subtest: contentTypeParser should add multiple custom parsers with RegExp values
        1..6
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 37 - contentTypeParser should add multiple custom parsers with RegExp values # time=48.375ms
    
    # Subtest: catch all content type parser should not interfere with content type parser
        1..10
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 38 - catch all content type parser should not interfere with content type parser # time=12.15ms
    
    # Subtest: should prefer string content types over RegExp ones
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 39 - should prefer string content types over RegExp ones # time=9.467ms
    
    # Subtest: removeContentTypeParser should support arrays of content types to remove
        1..8
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 40 - removeContentTypeParser should support arrays of content types to remove # time=11.146ms
    
    # Subtest: removeContentTypeParser should support encapsulation
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 41 - removeContentTypeParser should support encapsulation # time=10.099ms
    
    # Subtest: removeAllContentTypeParsers should support encapsulation
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 42 - removeAllContentTypeParsers should support encapsulation # time=28.73ms
    
    # Subtest: cannot remove all content type parsers after binding
        1..2
        ok 1 - should not error
        ok 2 - expected to throw
    ok 43 - cannot remove all content type parsers after binding # time=5.604ms
    
    # Subtest: cannot remove content type parsers after binding
        1..2
        ok 1 - should not error
        ok 2 - expected to throw
    ok 44 - cannot remove content type parsers after binding # time=3.144ms
    
    # Subtest: should be able to override the default json parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 45 - should be able to override the default json parser after removeAllContentTypeParsers # time=7.075ms
    
    # Subtest: should be able to override the default plain text parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 46 - should be able to override the default plain text parser after removeAllContentTypeParsers # time=12.809ms
    
    # Subtest: should be able to add a custom content type parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 47 - should be able to add a custom content type parser after removeAllContentTypeParsers # time=7.268ms
    
    1..47
    # time=813.938ms
ok 20 - test/custom-parser.test.js # time=813.938ms

# Subtest: test/custom-querystring-parser.test.js
    # Subtest: Custom querystring parser
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 1 - Custom querystring parser # time=101.47ms
    
    # Subtest: Custom querystring parser should be called also if there is nothing to parse
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 2 - Custom querystring parser should be called also if there is nothing to parse # time=16.458ms
    
    # Subtest: Querystring without value
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 3 - Querystring without value # time=36.848ms
    
    # Subtest: Custom querystring parser should be a function
        1..1
        ok 1 - should be equal
    ok 4 - Custom querystring parser should be a function # time=1.462ms
    
    1..4
    # time=166.922ms
ok 21 - test/custom-querystring-parser.test.js # time=166.922ms

# Subtest: test/decorator.test.js
    # Subtest: server methods should exist
        1..2
        ok 1 - expect truthy value
        ok 2 - expect truthy value
    ok 1 - server methods should exist # time=17.08ms
    
    # Subtest: should check if the given decoration already exist when null
        1..1
        ok 1 - expect truthy value
    ok 2 - should check if the given decoration already exist when null # time=79.592ms
    
    # Subtest: server methods should be encapsulated via .register
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 3 - server methods should be encapsulated via .register # time=9.384ms
    
    # Subtest: hasServerMethod should check if the given method already exist
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 4 - hasServerMethod should check if the given method already exist # time=23.877ms
    
    # Subtest: decorate should throw if a declared dependency is not present
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - (unnamed test)
    ok 5 - decorate should throw if a declared dependency is not present # time=12.877ms
    
    # Subtest: decorate should throw if declared dependency is not array
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - (unnamed test)
    ok 6 - decorate should throw if declared dependency is not array # time=7.612ms
    
    # Subtest: should pass error for missing request decorator
        1..2
        ok 1 - type is Error
        ok 2 - should match pattern provided
    ok 7 - should pass error for missing request decorator # time=8.178ms
    
    # Subtest: decorateReply inside register
        1..11
        ok 1 - should not error
        ok 2 - test exists
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 8 - decorateReply inside register # time=61.203ms
    
    # Subtest: decorateReply as plugin (inside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 9 - decorateReply as plugin (inside .after) # time=45.006ms
    
    # Subtest: decorateReply as plugin (outside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 10 - decorateReply as plugin (outside .after) # time=19.35ms
    
    # Subtest: decorateRequest inside register
        1..11
        ok 1 - should not error
        ok 2 - test exists
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 11 - decorateRequest inside register # time=20.315ms
    
    # Subtest: decorateRequest as plugin (inside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 12 - decorateRequest as plugin (inside .after) # time=36.827ms
    
    # Subtest: decorateRequest as plugin (outside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 13 - decorateRequest as plugin (outside .after) # time=17.076ms
    
    # Subtest: decorators should be instance separated
        1..1
        ok 1 - (unnamed test)
    ok 14 - decorators should be instance separated # time=2.72ms
    
    # Subtest: hasRequestDecorator
        # Subtest: is a function
            1..1
            ok 1 - expect truthy value
        ok 1 - is a function # time=1.815ms
        
        # Subtest: should check if the given request decoration already exist
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 2 - should check if the given request decoration already exist # time=2.673ms
        
        # Subtest: should check if the given request decoration already exist when null
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 3 - should check if the given request decoration already exist when null # time=2.419ms
        
        # Subtest: should be plugin encapsulable
            1..4
            ok 1 - expect falsey value
            ok 2 - expect falsey value
            ok 3 - expect truthy value
            ok 4 - expect falsey value
        ok 4 - should be plugin encapsulable # time=31.176ms
        
        # Subtest: should be inherited
            1..2
            ok 1 - expect truthy value
            ok 2 - expect truthy value
        ok 5 - should be inherited # time=6.081ms
        
        1..5
    ok 15 - hasRequestDecorator # time=69.817ms
    
    # Subtest: hasReplyDecorator
        # Subtest: is a function
            1..1
            ok 1 - expect truthy value
        ok 1 - is a function # time=2.033ms
        
        # Subtest: should check if the given reply decoration already exist
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 2 - should check if the given reply decoration already exist # time=2.206ms
        
        # Subtest: should check if the given reply decoration already exist when null
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 3 - should check if the given reply decoration already exist when null # time=2.667ms
        
        # Subtest: should be plugin encapsulable
            1..4
            ok 1 - expect falsey value
            ok 2 - expect falsey value
            ok 3 - expect truthy value
            ok 4 - expect falsey value
        ok 4 - should be plugin encapsulable # time=17.297ms
        
        # Subtest: should be inherited
            1..2
            ok 1 - expect truthy value
            ok 2 - expect truthy value
        ok 5 - should be inherited # time=8.293ms
        
        1..5
    ok 16 - hasReplyDecorator # time=156.875ms
    
    # Subtest: should register properties via getter/setter objects
        1..3
        ok 1 - expect truthy value
        ok 2 - a getter
        ok 3 - expect falsey value
    ok 17 - should register properties via getter/setter objects # time=4.013ms
    
    # Subtest: decorateRequest should work with getter/setter
        1..5
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - (unnamed test)
    ok 18 - decorateRequest should work with getter/setter # time=40.487ms
    
    # Subtest: decorateReply should work with getter/setter
        1..5
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - (unnamed test)
    ok 19 - decorateReply should work with getter/setter # time=11.347ms
    
    # Subtest: should register empty values
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 20 - should register empty values # time=4.062ms
    
    # Subtest: nested plugins can override things
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 21 - nested plugins can override things # time=5.057ms
    
    # Subtest: a decorator should addSchema to all the encapsulated tree
        1..1
        ok 1 - should not error
    ok 22 - a decorator should addSchema to all the encapsulated tree # time=5.389ms
    
    # Subtest: after can access to a decorated instance and previous plugin decoration
        1..11
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
    ok 23 - after can access to a decorated instance and previous plugin decoration # time=9.434ms
    
    # Subtest: decorate* should throw if called after ready
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 24 - decorate* should throw if called after ready # time=32.684ms
    
    # Subtest: decorate* should emit warning if an array is passed
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 25 - decorate* should emit warning if an array is passed # time=30.733ms
    
    # Subtest: decorate* should emit warning if object type is passed
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 26 - decorate* should emit warning if object type is passed # time=23.949ms
    
    # Subtest: decorate* should not emit warning if object with getter/setter is passed
        1..0
    ok 27 - decorate* should not emit warning if object with getter/setter is passed # time=23.531ms
    
    # Subtest: decorate* should not emit warning if string,bool,numbers are passed
        1..0
    ok 28 - decorate* should not emit warning if string,bool,numbers are passed # time=23.318ms
    
    # Subtest: Request/reply decorators should be able to access the server instance
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not be equal
        ok 4 - should be equal
        ok 5 - should not be equal
        ok 6 - should be equal
    ok 29 - Request/reply decorators should be able to access the server instance # time=9.5ms
    
    # Subtest: plugin required decorators
        1..0
    ok 30 - plugin required decorators # time=4.2ms
    
    # Subtest: decorateRequest/decorateReply empty string
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 31 - decorateRequest/decorateReply empty string # time=23.021ms
    
    # Subtest: decorateRequest/decorateReply is undefined
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 32 - decorateRequest/decorateReply is undefined # time=9.755ms
    
    # Subtest: decorateRequest/decorateReply is not set to a value
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 33 - decorateRequest/decorateReply is not set to a value # time=18.595ms
    
    # Subtest: decorateRequest with dependencies
        1..2
        ok 1 - expected to not throw
        ok 2 - expect truthy value
    ok 34 - decorateRequest with dependencies # time=3.299ms
    
    # Subtest: decorateRequest with dependencies (functions)
        1..2
        ok 1 - expected to not throw
        ok 2 - expect truthy value
    ok 35 - decorateRequest with dependencies (functions) # time=1.762ms
    
    # Subtest: chain of decorators on Request
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        1..6
    ok 36 - chain of decorators on Request # time=16.316ms
    
    # Subtest: chain of decorators on Reply
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        1..6
    ok 37 - chain of decorators on Reply # time=14.382ms
    
    1..37
    # time=950.839ms
ok 22 - test/decorator.test.js # time=950.839ms

# Subtest: test/default-route.test.js
    # Subtest: should fail if defaultRoute is not a function
        1..1
        ok 1 - should be equal
    ok 1 - should fail if defaultRoute is not a function # time=21.592ms
    
    # Subtest: correctly sets, returns, and calls defaultRoute
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 2 - correctly sets, returns, and calls defaultRoute # time=42.401ms
    
    1..2
    # time=72.965ms
ok 23 - test/default-route.test.js # time=72.965ms

# Subtest: test/delete.test.js
    # Subtest: shorthand - delete
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - delete # time=9.488ms
    
    # Subtest: shorthand - delete params
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - delete params # time=2.106ms
    
    # Subtest: shorthand - delete, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - delete, querystring schema # time=1.57ms
    
    # Subtest: shorthand - get, headers schema
        1..1
        ok 1 - (unnamed test)
    ok 4 - shorthand - get, headers schema # time=1.571ms
    
    # Subtest: missing schema - delete
        1..1
        ok 1 - (unnamed test)
    ok 5 - missing schema - delete # time=1.503ms
    
    # Subtest: body - delete
        1..1
        ok 1 - (unnamed test)
    ok 6 - body - delete # time=1.171ms
    
    # Subtest: shorthand - delete with application/json Content-Type header and without body
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - shorthand - delete with application/json Content-Type header and without body # time=47.156ms
    
    ok 8 - should not error
    # Subtest: shorthand - request delete
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 9 - shorthand - request delete # time=38.369ms
    
    # Subtest: shorthand - request delete params schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 10 - shorthand - request delete params schema # time=7.199ms
    
    # Subtest: shorthand - request delete params schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 11 - shorthand - request delete params schema error # time=6.836ms
    
    # Subtest: shorthand - request delete headers schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 12 - shorthand - request delete headers schema # time=5.327ms
    
    # Subtest: shorthand - request delete headers schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 13 - shorthand - request delete headers schema error # time=5.328ms
    
    # Subtest: shorthand - request delete querystring schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 14 - shorthand - request delete querystring schema # time=5.165ms
    
    # Subtest: shorthand - request delete querystring schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 15 - shorthand - request delete querystring schema error # time=4.722ms
    
    # Subtest: shorthand - request delete missing schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 16 - shorthand - request delete missing schema # time=5.198ms
    
    # Subtest: shorthand - delete with body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - shorthand - delete with body # time=8.171ms
    
    1..17
    # time=310.986ms
ok 24 - test/delete.test.js # time=310.986ms

# Subtest: test/diagnostics-channel.test.js
    # Subtest: diagnostics_channel when present and subscribers
        1..3
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should be equal
    ok 1 - diagnostics_channel when present and subscribers # time=936.033ms
    
    # Subtest: diagnostics_channel when present and no subscribers
        1..1
        ok 1 - should be equal
    ok 2 - diagnostics_channel when present and no subscribers # time=18.242ms
    
    # Subtest: diagnostics_channel when not present
        1..1
        ok 1 - expected to not throw
    ok 3 - diagnostics_channel when not present # time=18.446ms
    
    1..3
    # time=985.803ms
ok 25 - test/diagnostics-channel.test.js # time=985.803ms

# Subtest: test/encapsulated-error-handler.test.js
    # Subtest: encapuslates an error handler
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 1 - encapuslates an error handler # time=67.343ms
    
    # Subtest: onError hook nested
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 2 - onError hook nested # time=12.062ms
    
    1..2
    # time=86.808ms
ok 26 - test/encapsulated-error-handler.test.js # time=86.808ms

# Subtest: test/esm/index.test.js
    # Subtest: named exports support
        ok 1 - should be equal
        1..1
    ok 1 - named exports support # time=35.66ms
    
    ok 2 - should be equal
    1..2
    # time=40.923ms
ok 27 - test/esm/index.test.js # time=40.923ms

# Subtest: test/fastify-instance.test.js
    # Subtest: root fastify instance is an object
        1..1
        ok 1 - type is object
    ok 1 - root fastify instance is an object # time=15.911ms
    
    # Subtest: fastify instance should contains ajv options
        1..1
        ok 1 - should be equivalent
    ok 2 - fastify instance should contains ajv options # time=6.813ms
    
    # Subtest: fastify instance should contains ajv options.plugins nested arrays
        1..1
        ok 1 - should be equivalent
    ok 3 - fastify instance should contains ajv options.plugins nested arrays # time=3.527ms
    
    # Subtest: fastify instance get invalid ajv options
        1..1
        ok 1 - expected to throw
    ok 4 - fastify instance get invalid ajv options # time=1.846ms
    
    # Subtest: fastify instance get invalid ajv options.plugins
        1..1
        ok 1 - expected to throw
    ok 5 - fastify instance get invalid ajv options.plugins # time=1.421ms
    
    # Subtest: fastify instance should contain default errorHandler
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 6 - fastify instance should contain default errorHandler # time=3.282ms
    
    # Subtest: errorHandler in plugin should be separate from the external one
        1..4
        ok 1 - should not be equivalent
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equivalent
    ok 7 - errorHandler in plugin should be separate from the external one # time=16.709ms
    
    1..7
    # time=75.826ms
ok 28 - test/fastify-instance.test.js # time=75.826ms

# Subtest: test/fluent-schema.test.js
    # Subtest: use fluent-json-schema object
        1..15
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equivalent
    ok 1 - use fluent-json-schema object # time=264.361ms
    
    # Subtest: use complex fluent-json-schema object
        1..1
        ok 1 - should not error
    ok 2 - use complex fluent-json-schema object # time=58.394ms
    
    # Subtest: use fluent schema and plain JSON schema
        1..1
        ok 1 - should not error
    ok 3 - use fluent schema and plain JSON schema # time=55.924ms
    
    # Subtest: Should call valueOf internally
        1..1
        ok 1 - should not error
    ok 4 - Should call valueOf internally # time=57.592ms
    
    1..4
    # time=443.616ms
ok 29 - test/fluent-schema.test.js # time=443.616ms

# Subtest: test/genReqId.test.js
    # Subtest: Should accept a custom genReqId function
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 1 - Should accept a custom genReqId function # time=63.56ms
    
    1..1
    # time=75.411ms
ok 30 - test/genReqId.test.js # time=75.411ms

# Subtest: test/get.test.js
    # Subtest: shorthand - get
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - get # time=9.568ms
    
    # Subtest: shorthand - get (return null)
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - get (return null) # time=2.035ms
    
    # Subtest: shorthand - get params
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - get params # time=2.329ms
    
    # Subtest: shorthand - get, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 4 - shorthand - get, querystring schema # time=1.941ms
    
    # Subtest: shorthand - get, headers schema
        1..1
        ok 1 - (unnamed test)
    ok 5 - shorthand - get, headers schema # time=2.196ms
    
    # Subtest: missing schema - get
        1..1
        ok 1 - (unnamed test)
    ok 6 - missing schema - get # time=1.851ms
    
    # Subtest: custom serializer - get
        1..1
        ok 1 - (unnamed test)
    ok 7 - custom serializer - get # time=2.437ms
    
    # Subtest: empty response
        1..1
        ok 1 - (unnamed test)
    ok 8 - empty response # time=1.674ms
    
    # Subtest: send a falsy boolean
        1..1
        ok 1 - (unnamed test)
    ok 9 - send a falsy boolean # time=1.674ms
    
    ok 10 - should not error
    # Subtest: shorthand - request get
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - shorthand - request get # time=39.869ms
    
    # Subtest: shorthand - request get params schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 12 - shorthand - request get params schema # time=7.412ms
    
    # Subtest: shorthand - request get params schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 13 - shorthand - request get params schema error # time=7.018ms
    
    # Subtest: shorthand - request get headers schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - shorthand - request get headers schema # time=5.036ms
    
    # Subtest: shorthand - request get headers schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 15 - shorthand - request get headers schema error # time=21.018ms
    
    # Subtest: shorthand - request get querystring schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 16 - shorthand - request get querystring schema # time=8.848ms
    
    # Subtest: shorthand - request get querystring schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - shorthand - request get querystring schema error # time=5.177ms
    
    # Subtest: shorthand - request get missing schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - shorthand - request get missing schema # time=5.117ms
    
    # Subtest: shorthand - custom serializer
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 19 - shorthand - custom serializer # time=5.766ms
    
    # Subtest: shorthand - empty response
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 20 - shorthand - empty response # time=12.706ms
    
    # Subtest: shorthand - send a falsy boolean
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - shorthand - send a falsy boolean # time=4.559ms
    
    # Subtest: shorthand - send null value
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - shorthand - send null value # time=4.324ms
    
    1..22
    # time=337.249ms
ok 31 - test/get.test.js # time=337.249ms

# Subtest: test/handler-context.test.js
    # Subtest: handlers receive correct `this` context
        1..4
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 1 - handlers receive correct `this` context # time=71.596ms
    
    # Subtest: handlers have access to the internal context
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - type is Object
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 2 - handlers have access to the internal context # time=18.26ms
    
    1..2
    # time=103.608ms
ok 32 - test/handler-context.test.js # time=103.608ms

# Subtest: test/head.test.js
    # Subtest: shorthand - head
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - head # time=8.968ms
    
    # Subtest: shorthand - head params
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - head params # time=2.306ms
    
    # Subtest: shorthand - head, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - head, querystring schema # time=1.529ms
    
    # Subtest: missing schema - head
        1..1
        ok 1 - (unnamed test)
    ok 4 - missing schema - head # time=1.52ms
    
    ok 5 - should not error
    # Subtest: shorthand - request head
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 6 - shorthand - request head # time=33.596ms
    
    # Subtest: shorthand - request head params schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 7 - shorthand - request head params schema # time=5.619ms
    
    # Subtest: shorthand - request head params schema error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 8 - shorthand - request head params schema error # time=5.605ms
    
    # Subtest: shorthand - request head querystring schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 9 - shorthand - request head querystring schema # time=4.279ms
    
    # Subtest: shorthand - request head querystring schema error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - shorthand - request head querystring schema error # time=4.189ms
    
    # Subtest: shorthand - request head missing schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 11 - shorthand - request head missing schema # time=3.659ms
    
    1..11
    # time=223.211ms
ok 33 - test/head.test.js # time=223.211ms

# Subtest: test/hooks-async.test.js
    # Subtest: async hooks
        1..21
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - should not error
        ok 13 - should be equal
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equivalent
        ok 18 - should not error
        ok 19 - should be equal
        ok 20 - expect truthy value
        ok 21 - expect truthy value
    ok 1 - async hooks # time=169.787ms
    
    # Subtest: modify payload
        1..10
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - expect truthy value
        ok 4 - should be equivalent
        ok 5 - expect truthy value
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
    ok 2 - modify payload # time=41.631ms
    
    # Subtest: onRequest hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 3 - onRequest hooks should be able to block a request # time=11.048ms
    
    # Subtest: preParsing hooks should be able to modify the payload
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 4 - preParsing hooks should be able to modify the payload # time=32.207ms
    
    # Subtest: preParsing hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 5 - preParsing hooks should handle errors # time=7.146ms
    
    # Subtest: preHandler hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 6 - preHandler hooks should be able to block a request # time=7.325ms
    
    # Subtest: preValidation hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 7 - preValidation hooks should be able to block a request # time=28.349ms
    
    # Subtest: preValidation hooks should be able to change request body before validation
        1..4
        ok 1 - (unnamed test)
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - preValidation hooks should be able to change request body before validation # time=85.277ms
    
    # Subtest: preSerialization hooks should be able to modify the payload
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - preSerialization hooks should be able to modify the payload # time=7.775ms
    
    # Subtest: preSerialization hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - preSerialization hooks should handle errors # time=8.113ms
    
    # Subtest: preValidation hooks should handle throwing null
        1..4
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - preValidation hooks should handle throwing null # time=30.215ms
    
    # Subtest: preValidation hooks should handle throwing a string
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 12 - preValidation hooks should handle throwing a string # time=8.286ms
    
    # Subtest: onRequest hooks should be able to block a request (last hook)
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 13 - onRequest hooks should be able to block a request (last hook) # time=21.761ms
    
    # Subtest: preHandler hooks should be able to block a request (last hook)
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 14 - preHandler hooks should be able to block a request (last hook) # time=14.799ms
    
    # Subtest: onRequest respond with a stream
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - onRequest respond with a stream # time=14.207ms
    
    # Subtest: preHandler respond with a stream
        1..7
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 16 - preHandler respond with a stream # time=18.2ms
    
    # Subtest: Should log a warning if is an async function with `done`
        # Subtest: 3 arguments
            1..1
            ok 1 - expect truthy value
        ok 1 - 3 arguments # time=2.502ms
        
        # Subtest: 4 arguments
            1..3
            ok 1 - expect truthy value
            ok 2 - expect truthy value
            ok 3 - expect truthy value
        ok 2 - 4 arguments # time=2.813ms
        
        1..2
    ok 17 - Should log a warning if is an async function with `done` # time=17.164ms
    
    # Subtest: early termination, onRequest async
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 18 - early termination, onRequest async # time=6.395ms
    
    # Subtest: The this should be the same of the encapsulation level
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        1..4
    ok 19 - The this should be the same of the encapsulation level # time=13.837ms
    
    # Subtest: preSerializationEnd should handle errors if the serialize method throws
        # Subtest: works with sync preSerialization
            1..2
            ok 1 - should not error
            ok 2 - should not be equal
        ok 1 - works with sync preSerialization # time=14.845ms
        
        # Subtest: works with async preSerialization
            1..2
            ok 1 - should not error
            ok 2 - should not be equal
        ok 2 - works with async preSerialization # time=6.708ms
        
        1..2
    ok 20 - preSerializationEnd should handle errors if the serialize method throws # time=26.779ms
    
    1..20
    # time=602.551ms
ok 34 - test/hooks-async.test.js # time=602.551ms

# Subtest: test/hooks.on-ready.test.js
    # Subtest: onReady should be called in order
        1..7
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
        ok 7 - should not error
    ok 1 - onReady should be called in order # time=113.349ms
    
    # Subtest: async onReady should be called in order
        1..7
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
        ok 7 - ready
    ok 2 - async onReady should be called in order # time=14.542ms
    
    # Subtest: mix ready and onReady
        1..2
        ok 1 - should be equal
        ok 2 - ready hooks execute once
    ok 3 - mix ready and onReady # time=10.715ms
    
    # Subtest: listen and onReady order
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - trigger the onReady
        ok 9 - do not trigger the onReady
    ok 4 - listen and onReady order # time=38.16ms
    
    # Subtest: multiple ready calls
        1..11
        ok 1 - ready and hooks not triggered yet
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - trigger the onReady
        ok 10 - do not trigger the onReady
        ok 11 - do not trigger the onReady
    ok 5 - multiple ready calls # time=8.784ms
    
    # Subtest: onReady should manage error in sync
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 6 - onReady should manage error in sync # time=5.824ms
    
    # Subtest: onReady should manage error in async
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 7 - onReady should manage error in async # time=17.524ms
    
    # Subtest: onReady should manage sync error
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 8 - onReady should manage sync error # time=7.251ms
    
    # Subtest: onReady can not add decorators or application hooks
        1..3
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should not error
    ok 9 - onReady can not add decorators or application hooks # time=10.054ms
    
    # Subtest: onReady cannot add lifecycle hooks
        1..5
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 10 - onReady cannot add lifecycle hooks # time=14.42ms
    
    # Subtest: onReady throw loading error
        1..1
        ok 1 - expect truthy value
    ok 11 - onReady throw loading error # time=1.989ms
    
    # Subtest: onReady does not call done
        1..6
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
        ok 6 - should be equal
    ok 12 - onReady does not call done # time=511.914ms
    
    # Subtest: onReady execution order
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 13 - onReady execution order # time=21.682ms
    
    # Subtest: ready return the server with callback
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 14 - ready return the server with callback # time=18.062ms
    
    # Subtest: ready return the server with Promise
        1..1
        ok 1 - should be equivalent
    ok 15 - ready return the server with Promise # time=6.18ms
    
    # Subtest: ready return registered
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
    ok 16 - ready return registered # time=10.107ms
    
    1..16
    # time=825.47ms
ok 35 - test/hooks.on-ready.test.js # time=825.47ms

# Subtest: test/hooks.test.js
    # Subtest: hooks
        1..43
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - (unnamed test)
        ok 4 - (unnamed test)
        ok 5 - (unnamed test)
        ok 6 - (unnamed test)
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - expect truthy value
        ok 20 - expect truthy value
        ok 21 - expect truthy value
        ok 22 - expect truthy value
        ok 23 - should be equal
        ok 24 - should be equal
        ok 25 - should be equal
        ok 26 - should be equal
        ok 27 - should be equal
        ok 28 - should be equal
        ok 29 - should be equal
        ok 30 - should be equal
        ok 31 - should be equal
        ok 32 - expect truthy value
        ok 33 - expect truthy value
        ok 34 - expect truthy value
        ok 35 - expect truthy value
        ok 36 - should not error
        ok 37 - should be equal
        ok 38 - should be equal
        ok 39 - should be equivalent
        ok 40 - should not error
        ok 41 - should be equal
        ok 42 - should not error
        ok 43 - should be equal
    ok 1 - hooks # time=199.475ms
    
    # Subtest: onRequest hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 2 - onRequest hook should support encapsulation / 1 # time=38.645ms
    
    # Subtest: onRequest hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 3 - onRequest hook should support encapsulation / 2 # time=18.047ms
    
    # Subtest: onRequest hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 4 - onRequest hook should support encapsulation / 3 # time=27.356ms
    
    # Subtest: preHandler hook should support encapsulation / 5
        1..17
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equivalent
    ok 5 - preHandler hook should support encapsulation / 5 # time=18.309ms
    
    # Subtest: onRoute hook should be called / 1
        1..2
        ok 1 - (unnamed test)
        ok 2 - should not error
    ok 6 - onRoute hook should be called / 1 # time=5.875ms
    
    # Subtest: onRoute hook should be called / 2
        1..5
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 7 - onRoute hook should be called / 2 # time=16.625ms
    
    # Subtest: onRoute hook should be called / 3
        1..5
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - (unnamed test)
        ok 5 - should not error
    ok 8 - onRoute hook should be called / 3 # time=26.026ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 4
        1..4
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - (unnamed test)
        ok 4 - should not error
    ok 9 - onRoute hook should be called (encapsulation support) / 4 # time=8.161ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 5
        1..2
        ok 1 - (unnamed test)
        ok 2 - should not error
    ok 10 - onRoute hook should be called (encapsulation support) / 5 # time=21.266ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 6
        1..1
        ok 1 - should not error
    ok 11 - onRoute hook should be called (encapsulation support) / 6 # time=4.982ms
    
    # Subtest: onRoute should keep the context
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
    ok 12 - onRoute should keep the context # time=13.943ms
    
    # Subtest: onRoute hook should pass correct route
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should not error
    ok 13 - onRoute hook should pass correct route # time=6.842ms
    
    # Subtest: onRoute hook should pass correct route with custom prefix
        1..11
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
    ok 14 - onRoute hook should pass correct route with custom prefix # time=6.156ms
    
    # Subtest: onRoute hook should pass correct route with custom options
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - type is function
        ok 6 - should not error
    ok 15 - onRoute hook should pass correct route with custom options # time=16.559ms
    
    # Subtest: onRoute hook should receive any route option
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 16 - onRoute hook should receive any route option # time=35.61ms
    
    # Subtest: onRoute hook should preserve system route configuration
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 17 - onRoute hook should preserve system route configuration # time=4.915ms
    
    # Subtest: onRoute hook should preserve handler function in options of shorthand route system configuration
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 18 - onRoute hook should preserve handler function in options of shorthand route system configuration # time=14.043ms
    
    # Subtest: onRoute hook should be called once when prefixTrailingSlash
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 19 - onRoute hook should be called once when prefixTrailingSlash # time=14.037ms
    
    # Subtest: onRoute hook should able to change the route url
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 20 - onRoute hook should able to change the route url # time=9.07ms
    
    # Subtest: onRoute hook that throws should be caught
        1..1
        ok 1 - expect truthy value
    ok 21 - onRoute hook that throws should be caught # time=3.362ms
    
    # Subtest: onRoute hook with many prefix
        1..3
        ok 1 - should match pattern provided
        ok 2 - should match pattern provided
        ok 3 - should not error
    ok 22 - onRoute hook with many prefix # time=7.958ms
    
    # Subtest: onRoute hook should not be called when it registered after route
        1..3
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
    ok 23 - onRoute hook should not be called when it registered after route # time=3.925ms
    
    # Subtest: onResponse hook should log request error
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 24 - onResponse hook should log request error # time=71.138ms
    
    # Subtest: onResponse hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 25 - onResponse hook should support encapsulation / 1 # time=20.267ms
    
    # Subtest: onResponse hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 26 - onResponse hook should support encapsulation / 2 # time=12.293ms
    
    # Subtest: onResponse hook should support encapsulation / 3
        1..16
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 27 - onResponse hook should support encapsulation / 3 # time=23.863ms
    
    # Subtest: onSend hook should support encapsulation / 1
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 28 - onSend hook should support encapsulation / 1 # time=3.535ms
    
    # Subtest: onSend hook should support encapsulation / 2
        1..16
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 29 - onSend hook should support encapsulation / 2 # time=15.136ms
    
    # Subtest: onSend hook is called after payload is serialized and headers are set
        1..30
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should be equal
        ok 15 - should not error
        ok 16 - should be equal
        ok 17 - should be equivalent
        ok 18 - should be equal
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equivalent
        ok 22 - should be equal
        ok 23 - should not error
        ok 24 - should be equal
        ok 25 - should be equivalent
        ok 26 - should be equal
        ok 27 - should not error
        ok 28 - should be equal
        ok 29 - should be equivalent
        ok 30 - should be equal
    ok 30 - onSend hook is called after payload is serialized and headers are set # time=26.207ms
    
    # Subtest: modify payload
        1..10
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - expect truthy value
        ok 4 - should be equivalent
        ok 5 - expect truthy value
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
    ok 31 - modify payload # time=13.577ms
    
    # Subtest: clear payload
        1..6
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 32 - clear payload # time=5.627ms
    
    # Subtest: onSend hook throws
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 33 - onSend hook throws # time=31.38ms
    
    # Subtest: onSend hook should receive valid request and reply objects if onRequest hook fails
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 34 - onSend hook should receive valid request and reply objects if onRequest hook fails # time=11.324ms
    
    # Subtest: onSend hook should receive valid request and reply objects if a custom content type parser fails
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 35 - onSend hook should receive valid request and reply objects if a custom content type parser fails # time=28.342ms
    
    # Subtest: Content-Length header should be updated if onSend hook modifies the payload
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 36 - Content-Length header should be updated if onSend hook modifies the payload # time=13.433ms
    
    # Subtest: cannot add hook after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 37 - cannot add hook after binding # time=5.229ms
    
    # Subtest: onRequest hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 38 - onRequest hooks should be able to block a request # time=5.71ms
    
    # Subtest: preValidation hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 39 - preValidation hooks should be able to block a request # time=5.719ms
    
    # Subtest: preValidation hooks should be able to change request body before validation
        1..4
        ok 1 - (unnamed test)
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 40 - preValidation hooks should be able to change request body before validation # time=77.643ms
    
    # Subtest: preParsing hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 41 - preParsing hooks should be able to block a request # time=6.773ms
    
    # Subtest: preHandler hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 42 - preHandler hooks should be able to block a request # time=5.367ms
    
    # Subtest: onRequest hooks should be able to block a request (last hook)
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 43 - onRequest hooks should be able to block a request (last hook) # time=5.349ms
    
    # Subtest: preHandler hooks should be able to block a request (last hook)
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 44 - preHandler hooks should be able to block a request (last hook) # time=5.372ms
    
    # Subtest: preParsing hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 45 - preParsing hooks should handle errors # time=4.959ms
    
    # Subtest: onRequest respond with a stream
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 46 - onRequest respond with a stream # time=11.261ms
    
    # Subtest: preHandler respond with a stream
        1..7
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 47 - preHandler respond with a stream # time=7.845ms
    
    # Subtest: Register an hook after a plugin inside a plugin
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 48 - Register an hook after a plugin inside a plugin # time=8.694ms
    
    # Subtest: Register an hook after a plugin inside a plugin (with preHandler option)
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 49 - Register an hook after a plugin inside a plugin (with preHandler option) # time=7.916ms
    
    # Subtest: Register hooks inside a plugin after an encapsulated plugin
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 50 - Register hooks inside a plugin after an encapsulated plugin # time=8.328ms
    
    # Subtest: onRequest hooks should run in the order in which they are defined
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 51 - onRequest hooks should run in the order in which they are defined # time=10.624ms
    
    # Subtest: preHandler hooks should run in the order in which they are defined
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 52 - preHandler hooks should run in the order in which they are defined # time=28.883ms
    
    # Subtest: onSend hooks should run in the order in which they are defined
        1..8
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equivalent
    ok 53 - onSend hooks should run in the order in which they are defined # time=10.324ms
    
    # Subtest: onResponse hooks should run in the order in which they are defined
        1..8
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equivalent
    ok 54 - onResponse hooks should run in the order in which they are defined # time=9.464ms
    
    # Subtest: onRequest, preHandler, and onResponse hooks that resolve to a value do not cause an error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 55 - onRequest, preHandler, and onResponse hooks that resolve to a value do not cause an error # time=5.535ms
    
    # Subtest: If a response header has been set inside an hook it shoulod not be overwritten by the final response handler
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 56 - If a response header has been set inside an hook it shoulod not be overwritten by the final response handler # time=5.274ms
    
    # Subtest: If the content type has been set inside an hook it should not be changed
        1..5
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 57 - If the content type has been set inside an hook it should not be changed # time=5.196ms
    
    # Subtest: request in onRequest, preParsing, preValidation and onResponse
        1..18
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equivalent
        ok 10 - should be equivalent
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equivalent
        ok 14 - should be equivalent
        ok 15 - should be equivalent
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
    ok 58 - request in onRequest, preParsing, preValidation and onResponse # time=15.674ms
    
    # Subtest: preValidation hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 59 - preValidation hook should support encapsulation / 1 # time=28.01ms
    
    # Subtest: preValidation hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 60 - preValidation hook should support encapsulation / 2 # time=13.866ms
    
    # Subtest: preValidation hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 61 - preValidation hook should support encapsulation / 3 # time=25.144ms
    
    # Subtest: onError hook
        1..3
        ok 1 - should match pattern provided
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 62 - onError hook # time=5.849ms
    
    # Subtest: reply.send should throw if called inside the onError hook
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 63 - reply.send should throw if called inside the onError hook # time=4.986ms
    
    # Subtest: onError hook with setErrorHandler
        # Subtest: Send error
            1..3
            ok 1 - should match pattern provided
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 1 - Send error # time=5.562ms
        
        1..1
    ok 64 - onError hook with setErrorHandler # time=10.441ms
    
    # Subtest: preParsing hook should run before parsing and be able to modify the payload
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 65 - preParsing hook should run before parsing and be able to modify the payload # time=11.379ms
    
    # Subtest: preParsing hooks should run in the order in which they are defined
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 66 - preParsing hooks should run in the order in which they are defined # time=8.92ms
    
    # Subtest: preParsing hooks should support encapsulation
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 67 - preParsing hooks should support encapsulation # time=13.501ms
    
    # Subtest: preParsing hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 68 - preParsing hook should support encapsulation / 1 # time=7.147ms
    
    # Subtest: preParsing hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 69 - preParsing hook should support encapsulation / 2 # time=6.333ms
    
    # Subtest: preParsing hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 70 - preParsing hook should support encapsulation / 3 # time=78.655ms
    
    # Subtest: preSerialization hook should run before serialization and be able to modify the payload
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 71 - preSerialization hook should run before serialization and be able to modify the payload # time=18.1ms
    
    # Subtest: preSerialization hook should be able to throw errors which are validated against schema response
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        1..6
    ok 72 - preSerialization hook should be able to throw errors which are validated against schema response # time=11.736ms
    
    # Subtest: preSerialization hook which returned error should still run onError hooks
        1..4
        ok 1 - should not error
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - should be equal
    ok 73 - preSerialization hook which returned error should still run onError hooks # time=7.823ms
    
    # Subtest: preSerialization hooks should run in the order in which they are defined
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 74 - preSerialization hooks should run in the order in which they are defined # time=9.734ms
    
    # Subtest: preSerialization hooks should support encapsulation
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 75 - preSerialization hooks should support encapsulation # time=13.878ms
    
    # Subtest: onRegister hook should be called / 1
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should not error
    ok 76 - onRegister hook should be called / 1 # time=4.766ms
    
    # Subtest: onRegister hook should be called / 2
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
    ok 77 - onRegister hook should be called / 2 # time=5.618ms
    
    # Subtest: onRegister hook should be called / 3
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
    ok 78 - onRegister hook should be called / 3 # time=6.295ms
    
    # Subtest: onRegister hook should be called (encapsulation)
        1..1
        ok 1 - should not error
    ok 79 - onRegister hook should be called (encapsulation) # time=2.724ms
    
    # Subtest: early termination, onRequest
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 80 - early termination, onRequest # time=6.172ms
    
    # Subtest: reply.send should throw if undefined error is thrown
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 81 - reply.send should throw if undefined error is thrown # time=7.975ms
    
    # Subtest: reply.send should throw if undefined error is thrown at preParsing hook
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 82 - reply.send should throw if undefined error is thrown at preParsing hook # time=17.097ms
    
    # Subtest: reply.send should throw if undefined error is thrown at onSend hook
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 83 - reply.send should throw if undefined error is thrown at onSend hook # time=5.185ms
    
    # Subtest: onTimeout should be triggered
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - onTimeout
        ok 5 - type is Error
        ok 6 - should be equal
    ok 84 - onTimeout should be triggered # time=509.342ms
    
    # Subtest: onTimeout should be triggered and socket _meta is set
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - onTimeout
        ok 5 - type is Error
        ok 6 - should be equal
    ok 85 - onTimeout should be triggered and socket _meta is set # time=509.875ms
    
    1..85
    # time=2465.922ms
ok 36 - test/hooks.test.js # time=2465.922ms

# Subtest: test/http2/closing.test.js
    # Subtest: http/2 request while fastify closing
        ok 1 - http2 successfully loaded
        ok 2 - should not error
        # Subtest: return 200
            ok 1 - should be equal
            1..1
        ok 3 - return 200 # time=12.002ms
        
        1..3
    ok 1 - http/2 request while fastify closing # time=58.986ms
    
    # Subtest: http/2 request while fastify closing - return503OnClosing: false
        ok 1 - http2 successfully loaded
        ok 2 - should not error
        # Subtest: return 200
            ok 1 - should be equal
            1..1
        ok 3 - return 200 # time=7.752ms
        
        1..3
    ok 2 - http/2 request while fastify closing - return503OnClosing: false # time=18.728ms
    
    # Subtest: http/2 closes successfully with async await
        1..0
    ok 3 - http/2 closes successfully with async await # time=109.902ms
    
    # Subtest: https/2 closes successfully with async await
        1..0
    ok 4 - https/2 closes successfully with async await # time=12.749ms
    
    # Subtest: http/2 server side session emits a timeout event
        ok 1 - should be equal
        1..1
    ok 5 - http/2 server side session emits a timeout event # time=107.778ms
    
    1..5
    # time=337.878ms
ok 37 - test/http2/closing.test.js # time=337.878ms

# Subtest: test/http2/constraint.test.js
    # Subtest: A route supports host constraints under http2 protocol and secure connection
        1..5
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request - no constrain
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - https get request - no constrain # time=43.41ms
        
        # Subtest: https get request - constrain
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - https get request - constrain # time=17.998ms
        
        # Subtest: https get request - constrain - not found
            1..1
            ok 1 - should be equal
        ok 5 - https get request - constrain - not found # time=15.937ms
        
    ok 1 - A route supports host constraints under http2 protocol and secure connection # time=169.899ms
    
    1..1
    # time=203.8ms
ok 38 - test/http2/constraint.test.js # time=203.8ms

# Subtest: test/http2/head.test.js
    ok 1 - http2 successfully loaded
    ok 2 - should not error
    # Subtest: http HEAD request
        1..1
        ok 1 - should be equal
    ok 3 - http HEAD request # time=65.642ms
    
    1..3
    # time=145.671ms
ok 39 - test/http2/head.test.js # time=145.671ms

# Subtest: test/http2/missing-http2-module.test.js
    # Subtest: should throw when http2 module cannot be found
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - should throw when http2 module cannot be found # time=12.158ms
    
    1..1
    # time=18.618ms
ok 40 - test/http2/missing-http2-module.test.js # time=18.618ms

# Subtest: test/http2/plain.test.js
    ok 1 - http2 successfully loaded
    ok 2 - should not error
    # Subtest: http get request
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 3 - http get request # time=35.807ms
    
    # Subtest: http hostname
        1..1
        ok 1 - should be equal
    ok 4 - http hostname # time=7.837ms
    
    1..4
    # time=131.579ms
ok 41 - test/http2/plain.test.js # time=131.579ms

# Subtest: test/http2/secure-with-fallback.test.js
    # Subtest: secure with fallback
        1..7
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get error
            1..1
            ok 1 - should be equal
        ok 3 - https get error # time=57.58ms
        
        # Subtest: https post
            1..2
            ok 1 - should be equal
            ok 2 - should be equivalent
        ok 4 - https post # time=20.033ms
        
        # Subtest: https get request
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - https get request # time=15.693ms
        
        # Subtest: http1 get request
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 6 - http1 get request # time=19.906ms
        
        # Subtest: http1 get error
            1..2
            ok 1 - should not error
            ok 2 - should be equal
        ok 7 - http1 get error # time=8.909ms
        
    ok 1 - secure with fallback # time=274.443ms
    
    1..1
    # time=313.35ms
ok 42 - test/http2/secure-with-fallback.test.js # time=313.35ms

# Subtest: test/http2/secure.test.js
    # Subtest: secure
        1..4
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - https get request # time=44.556ms
        
        # Subtest: https get request without trust proxy - protocol
            1..2
            ok 1 - should be equivalent
            ok 2 - should be equivalent
        ok 4 - https get request without trust proxy - protocol # time=26.38ms
        
    ok 1 - secure # time=177.286ms
    
    1..1
    # time=216.746ms
ok 43 - test/http2/secure.test.js # time=216.746ms

# Subtest: test/http2/unknown-http-method.test.js
    ok 1 - should not error
    # Subtest: http UNKNOWN_METHOD request
        1..2
        ok 1 - should be equal
        ok 2 - should be equivalent
    ok 2 - http UNKNOWN_METHOD request # time=34.526ms
    
    1..2
    # time=95.597ms
ok 44 - test/http2/unknown-http-method.test.js # time=95.597ms

# Subtest: test/https/custom-https-server.test.js
    # Subtest: Should support a custom https server
        1..4
        ok 1 - it is called twice for every HOST interface
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - Should support a custom https server # time=83.558ms
    
    1..1
    # time=115.913ms
ok 45 - test/https/custom-https-server.test.js # time=115.913ms

# Subtest: test/https/https.test.js
    # Subtest: https
        1..4
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 3 - https get request # time=39.553ms
        
        # Subtest: https get request without trust proxy - protocol
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 4 - https get request without trust proxy - protocol # time=17.027ms
        
    ok 1 - https # time=141.747ms
    
    1..1
    # time=172.616ms
ok 46 - test/https/https.test.js # time=172.616ms

# Subtest: test/imports.test.js
    # Subtest: should import as default
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 1 - should import as default # time=1151.825ms
    
    # Subtest: should import as esm
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 2 - should import as esm # time=4.41ms
    
    1..2
    # time=1174.67ms
ok 47 - test/imports.test.js # time=1174.67ms

# Subtest: test/inject.test.js
    # Subtest: inject should exist
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 1 - inject should exist # time=16.167ms
    
    # Subtest: should wait for the ready event
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 2 - should wait for the ready event # time=596.252ms
    
    # Subtest: inject get request
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 3 - inject get request # time=8.105ms
    
    # Subtest: inject get request - code check
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 4 - inject get request - code check # time=50.825ms
    
    # Subtest: inject get request - headers check
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 5 - inject get request - headers check # time=6.94ms
    
    # Subtest: inject get request - querystring
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 6 - inject get request - querystring # time=8.106ms
    
    # Subtest: inject get request - params
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 7 - inject get request - params # time=6.977ms
    
    # Subtest: inject get request - wildcard
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - inject get request - wildcard # time=7.382ms
    
    # Subtest: inject get request - headers
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 9 - inject get request - headers # time=10.888ms
    
    # Subtest: inject post request
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 10 - inject post request # time=12.533ms
    
    # Subtest: inject post request - send stream
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 11 - inject post request - send stream # time=10.437ms
    
    # Subtest: inject get request - reply stream
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 12 - inject get request - reply stream # time=12.852ms
    
    # Subtest: inject promisify - waiting for ready event
        1..1
        ok 1 - should be equal
    ok 13 - inject promisify - waiting for ready event # time=7.916ms
    
    # Subtest: inject promisify - after the ready event
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 14 - inject promisify - after the ready event # time=6.541ms
    
    # Subtest: inject promisify - when the server is up
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 15 - inject promisify - when the server is up # time=28.754ms
    
    # Subtest: should reject in error case
        1..1
        ok 1 - should be equal
    ok 16 - should reject in error case # time=505.87ms
    
    # Subtest: inject a multipart request using form-body
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 17 - inject a multipart request using form-body # time=9.269ms
    
    # Subtest: should error the promise if ready errors
        1..3
        ok 1 - after is called
        ok 2 - expect truthy value
        ok 3 - should be equal
    ok 18 - should error the promise if ready errors # time=9.453ms
    
    # Subtest: should throw error if callback specified and if ready errors
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 19 - should throw error if callback specified and if ready errors # time=4.408ms
    
    # Subtest: should support builder-style injection with ready app
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
    ok 20 - should support builder-style injection with ready app # time=7.015ms
    
    # Subtest: should support builder-style injection with non-ready app
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
    ok 21 - should support builder-style injection with non-ready app # time=6.071ms
    
    # Subtest: should handle errors in builder-style injection correctly
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 22 - should handle errors in builder-style injection correctly # time=5.92ms
    
    1..22
    # time=1368.518ms
ok 48 - test/inject.test.js # time=1368.518ms

# Subtest: test/internals/all.test.js
    # Subtest: fastify.all should add all the methods to the same url
        1..14
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equivalent
    ok 1 - fastify.all should add all the methods to the same url # time=77.166ms
    
    1..1
    # time=82.16ms
ok 49 - test/internals/all.test.js # time=82.16ms

# Subtest: test/internals/contentTypeParser.test.js
    # Subtest: rawBody function
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - rawBody function # time=20.485ms
    
    # Subtest: Should support Webpack and faux modules
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - Should support Webpack and faux modules # time=17.627ms
    
    1..2
    # time=46.935ms
ok 50 - test/internals/contentTypeParser.test.js # time=46.935ms

# Subtest: test/internals/decorator.test.js
    # Subtest: decorate should add the given method to its instance
        1..1
        ok 1 - expect truthy value
    ok 1 - decorate should add the given method to its instance # time=5.724ms
    
    # Subtest: decorate is chainable
        1..3
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
    ok 2 - decorate is chainable # time=1.917ms
    
    # Subtest: checkExistence should check if a property is part of the given instance
        1..1
        ok 1 - expect truthy value
    ok 3 - checkExistence should check if a property is part of the given instance # time=1.234ms
    
    # Subtest: checkExistence should find the instance if not given
        1..1
        ok 1 - expect truthy value
    ok 4 - checkExistence should find the instance if not given # time=1.103ms
    
    # Subtest: checkExistence should check the prototype as well
        1..1
        ok 1 - expect truthy value
    ok 5 - checkExistence should check the prototype as well # time=0.925ms
    
    # Subtest: checkDependencies should throw if a dependency is not present
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 6 - checkDependencies should throw if a dependency is not present # time=1.44ms
    
    # Subtest: decorate should internally call checkDependencies
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 7 - decorate should internally call checkDependencies # time=0.967ms
    
    # Subtest: decorate should recognize getter/setter objects
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - (unnamed test)
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 8 - decorate should recognize getter/setter objects # time=1.768ms
    
    1..8
    # time=70.904ms
ok 51 - test/internals/decorator.test.js # time=70.904ms

# Subtest: test/internals/handleRequest.test.js
    # Subtest: handleRequest function - sent reply
        1..1
        ok 1 - should be equal
    ok 1 - handleRequest function - sent reply # time=5.595ms
    
    # Subtest: handleRequest function - invoke with error
        1..1
        ok 1 - should be equal
    ok 2 - handleRequest function - invoke with error # time=1.313ms
    
    # Subtest: handler function - invalid schema
        1..1
        ok 1 - errorHandler called
    ok 3 - handler function - invalid schema # time=71.298ms
    
    # Subtest: handler function - reply
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - (unnamed test)
    ok 4 - handler function - reply # time=2.715ms
    
    # Subtest: handler function - preValidationCallback with finished response
        1..0
    ok 5 - handler function - preValidationCallback with finished response # time=0.783ms
    
    # Subtest: request should be defined in onSend Hook on post request with content type application/json
        1..8
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - should not error
        ok 8 - should be equal
    ok 6 - request should be defined in onSend Hook on post request with content type application/json # time=423.344ms
    
    # Subtest: request should be defined in onSend Hook on post request with content type application/x-www-form-urlencoded
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - should be equal
    ok 7 - request should be defined in onSend Hook on post request with content type application/x-www-form-urlencoded # time=12.531ms
    
    # Subtest: request should be defined in onSend Hook on options request with content type application/x-www-form-urlencoded
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - should be equal
    ok 8 - request should be defined in onSend Hook on options request with content type application/x-www-form-urlencoded # time=31.057ms
    
    # Subtest: request should respond with an error if an unserialized payload is sent inside an async handler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
    ok 9 - request should respond with an error if an unserialized payload is sent inside an async handler # time=36.877ms
    
    1..9
    # time=608.23ms
ok 52 - test/internals/handleRequest.test.js # time=608.23ms

# Subtest: test/internals/hookRunner.test.js
    # Subtest: hookRunner - Basic
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 1 - hookRunner - Basic # time=10.45ms
    
    # Subtest: hookRunner - In case of error should skip to done
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 2 - hookRunner - In case of error should skip to done # time=3.609ms
    
    # Subtest: hookRunner - Should handle throw
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 3 - hookRunner - Should handle throw # time=3.041ms
    
    # Subtest: hookRunner - Should handle promises
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 4 - hookRunner - Should handle promises # time=27.059ms
    
    # Subtest: hookRunner - In case of error should skip to done (with promises)
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 5 - hookRunner - In case of error should skip to done (with promises) # time=2.69ms
    
    # Subtest: hookRunner - Be able to exit before its natural end
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 6 - hookRunner - Be able to exit before its natural end # time=1.095ms
    
    # Subtest: hookRunner - Promises that resolve to a value do not change the state
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 7 - hookRunner - Promises that resolve to a value do not change the state # time=1.333ms
    
    # Subtest: onSendHookRunner - Basic
        1..13
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equal
        ok 10 - should not error
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equal
    ok 8 - onSendHookRunner - Basic # time=8.584ms
    
    # Subtest: onSendHookRunner - Can change the payload
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 9 - onSendHookRunner - Can change the payload # time=4.69ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 10 - onSendHookRunner - In case of error should skip to done # time=3.478ms
    
    # Subtest: onSendHookRunner - Should handle promises
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 11 - onSendHookRunner - Should handle promises # time=3.826ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done (with promises)
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 12 - onSendHookRunner - In case of error should skip to done (with promises) # time=3.558ms
    
    # Subtest: onSendHookRunner - Be able to exit before its natural end
        1..2
        ok 1 - should be equivalent
        ok 2 - should be equivalent
    ok 13 - onSendHookRunner - Be able to exit before its natural end # time=1.494ms
    
    1..13
    # time=114.424ms
ok 53 - test/internals/hookRunner.test.js # time=114.424ms

# Subtest: test/internals/hooks.test.js
    # Subtest: hooks should have 4 array with the registered hooks
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        1..8
    ok 1 - hooks should have 4 array with the registered hooks # time=7.898ms
    
    # Subtest: hooks.add should add a hook to the given hook
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        1..14
    ok 2 - hooks.add should add a hook to the given hook # time=4.018ms
    
    # Subtest: hooks should throw on unexisting handler
        1..1
        ok 1 - (unnamed test)
    ok 3 - hooks should throw on unexisting handler # time=1.027ms
    
    # Subtest: should throw on wrong parameters
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 4 - should throw on wrong parameters # time=1.347ms
    
    1..4
    # time=53.017ms
ok 54 - test/internals/hooks.test.js # time=53.017ms

# Subtest: test/internals/initialConfig.test.js
    # Subtest: Fastify.initialConfig is an object
        1..1
        ok 1 - type is object
    ok 1 - Fastify.initialConfig is an object # time=15.824ms
    
    # Subtest: without options passed to Fastify, initialConfig should expose default values
        1..1
        ok 1 - should be equivalent
    ok 2 - without options passed to Fastify, initialConfig should expose default values # time=8.062ms
    
    # Subtest: Fastify.initialConfig should expose all options
        1..20
        ok 1 - should be equal
        ok 2 - for security reason the key cert is hidden
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - expect truthy value
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equal
    ok 3 - Fastify.initialConfig should expose all options # time=10.243ms
    
    # Subtest: Should throw if you try to modify Fastify.initialConfig
        1..4
        ok 1 - type is TypeError
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - (unnamed test)
    ok 4 - Should throw if you try to modify Fastify.initialConfig # time=3.136ms
    
    # Subtest: We must avoid shallow freezing and ensure that the whole object is freezed
        1..4
        ok 1 - type is TypeError
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - key cert removed
    ok 5 - We must avoid shallow freezing and ensure that the whole object is freezed # time=15.542ms
    
    # Subtest: https value check
        1..1
        ok 1 - expect falsey value
    ok 6 - https value check # time=1.286ms
    
    # Subtest: Return an error if options do not match the validation schema
        1..6
        ok 1 - type is Error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
        ok 6 - (unnamed test)
    ok 7 - Return an error if options do not match the validation schema # time=58.253ms
    
    # Subtest: Original options must not be frozen
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - Original options must not be frozen # time=2.526ms
    
    # Subtest: Original options must not be altered (test deep cloning)
        1..3
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 9 - Original options must not be altered (test deep cloning) # time=4.457ms
    
    # Subtest: Should not have issues when passing stream options to Pino.js
        1..15
        ok 1 - type is object
        ok 2 - should be equivalent
        ok 3 - listen at log message is ok
        ok 4 - should not error
        ok 5 - reqId is defined
        ok 6 - req is defined
        ok 7 - message is set
        ok 8 - method is get
        ok 9 - expect truthy value
        ok 10 - should be equal
        ok 11 - reqId is defined
        ok 12 - res is defined
        ok 13 - message is set
        ok 14 - statusCode is 200
        ok 15 - responseTime is defined
    ok 10 - Should not have issues when passing stream options to Pino.js # time=54.928ms
    
    # Subtest: deepFreezeObject() should not throw on TypedArray
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - (unnamed test)
    ok 11 - deepFreezeObject() should not throw on TypedArray # time=1.592ms
    
    # Subtest: Fastify.initialConfig should accept the deprecated versioning option
        1..1
        ok 1 - should be equal
    ok 12 - Fastify.initialConfig should accept the deprecated versioning option # time=4.631ms
    
    # Subtest: pluginTimeout should be parsed correctly
        ok 1 - should be equal
        ok 2 - should be equal
        1..2
    ok 13 - pluginTimeout should be parsed correctly # time=2.718ms
    
    1..13
    # time=259.502ms
ok 55 - test/internals/initialConfig.test.js # time=259.502ms

# Subtest: test/internals/logger.test.js
    # Subtest: time resolution
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - time resolution # time=5.563ms
    
    # Subtest: The logger should add a unique id for every request
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - the id should not be duplicated
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - the id should not be duplicated
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - the id should not be duplicated
        ok 11 - expect truthy value
        ok 12 - should not error
        ok 13 - the id should not be duplicated
        ok 14 - expect truthy value
        ok 15 - should not error
        ok 16 - the id should not be duplicated
        ok 17 - expect truthy value
        ok 18 - should not error
        ok 19 - the id should not be duplicated
        ok 20 - expect truthy value
        ok 21 - should not error
        ok 22 - the id should not be duplicated
        ok 23 - expect truthy value
        ok 24 - should not error
        ok 25 - the id should not be duplicated
        ok 26 - expect truthy value
        ok 27 - should not error
        ok 28 - the id should not be duplicated
        ok 29 - expect truthy value
        ok 30 - should not error
        ok 31 - the id should not be duplicated
        1..31
    ok 2 - The logger should add a unique id for every request # time=78.85ms
    
    # Subtest: The logger should reuse request id header for req.id
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - the request id from the header should be returned
        1..4
    ok 3 - The logger should reuse request id header for req.id # time=13.884ms
    
    # Subtest: The logger should error if both stream and file destination are given
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - The logger should error if both stream and file destination are given # time=3.534ms
    
    # Subtest: The serializer prevent fails if the request socket is undefined
        1..1
        ok 1 - should be equivalent
    ok 5 - The serializer prevent fails if the request socket is undefined # time=5.416ms
    
    1..5
    # time=117.285ms
ok 56 - test/internals/logger.test.js # time=117.285ms

# Subtest: test/internals/plugin.test.js
    # Subtest: shouldSkipOverride should check the 'skip-override' symbol
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 1 - shouldSkipOverride should check the 'skip-override' symbol # time=6.083ms
    
    # Subtest: getPluginName should return plugin name if the file is cached
        1..1
        ok 1 - should be equal
    ok 2 - getPluginName should return plugin name if the file is cached # time=1.784ms
    
    # Subtest: getMeta should return the object stored with the 'plugin-meta' symbol
        1..1
        ok 1 - should be equivalent
    ok 3 - getMeta should return the object stored with the 'plugin-meta' symbol # time=4.687ms
    
    # Subtest: checkDecorators should check if the given decorator is present in the instance
        1..1
        ok 1 - Everything ok
    ok 4 - checkDecorators should check if the given decorator is present in the instance # time=1.588ms
    
    # Subtest: checkDecorators should check if the given decorator is present in the instance (errored)
        1..1
        ok 1 - should be equal
    ok 5 - checkDecorators should check if the given decorator is present in the instance (errored) # time=1.169ms
    
    # Subtest: checkDecorators should accept optional decorators
        1..1
        ok 1 - Everything ok
    ok 6 - checkDecorators should accept optional decorators # time=0.752ms
    
    # Subtest: checkDependencies should check if the given dependency is present in the instance
        1..1
        ok 1 - Everything ok
    ok 7 - checkDependencies should check if the given dependency is present in the instance # time=0.948ms
    
    # Subtest: checkDependencies should check if the given dependency is present in the instance (errored)
        1..1
        ok 1 - should be equal
    ok 8 - checkDependencies should check if the given dependency is present in the instance (errored) # time=23.444ms
    
    1..8
    # time=96.933ms
ok 57 - test/internals/plugin.test.js # time=96.933ms

# Subtest: test/internals/reply-serialize.test.js
    # Subtest: Reply\#compileSerializationSchema
        1..4
        # Subtest: Should return a serialization function
            1..4
            ok 1 - type is Function
            ok 2 - type is string
            ok 3 - should be equal
            ok 4 - should be equal
        ok 1 - Should return a serialization function # time=78.448ms
        
        # Subtest: Should reuse the serialize fn across multiple invocations - Route without schema
            1..17
            ok 1 - build the schema compilation function
            ok 2 - type is Function
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - Are the same validate function
            ok 6 - type is Function
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - Are the same validate function
            ok 10 - type is Function
            ok 11 - should be equal
            ok 12 - should be equal
            ok 13 - Are the same validate function
            ok 14 - type is Function
            ok 15 - should be equal
            ok 16 - should be equal
            ok 17 - should be equal
        ok 2 - Should reuse the serialize fn across multiple invocations - Route without schema # time=15.312ms
        
        # Subtest: Should use the custom serializer compiler for the route
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equivalent
            ok 7 - {"hello":"world"}
            ok 8 - should be equivalent
            ok 9 - {"hello":"world"}
            ok 10 - should be equal
        ok 3 - Should use the custom serializer compiler for the route # time=31.362ms
        
        # Subtest: Should build a WeakMap for cache when called
            1..4
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
            ok 4 - should be equal
        ok 4 - Should build a WeakMap for cache when called # time=19.898ms
        
    ok 1 - Reply\#compileSerializationSchema # time=162.499ms
    
    # Subtest: Reply\#getSerializationFunction
        1..3
        # Subtest: Should retrieve the serialization function from the Schema definition
            1..9
            ok 1 - type is Function
            ok 2 - type is Function
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - expect falsey value
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
        ok 1 - Should retrieve the serialization function from the Schema definition # time=22.239ms
        
        # Subtest: Should retrieve the serialization function from the cached one
            1..6
            ok 1 - type is Function
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
        ok 2 - Should retrieve the serialization function from the cached one # time=8.701ms
        
        # Subtest: Should not instantiate a WeakMap if it is not needed
            1..4
            ok 1 - expect falsey value
            ok 2 - should be equal
            ok 3 - expect falsey value
            ok 4 - should be equal
        ok 3 - Should not instantiate a WeakMap if it is not needed # time=23.634ms
        
    ok 2 - Reply\#getSerializationFunction # time=68.574ms
    
    # Subtest: Reply\#serializeInput
        1..5
        # Subtest: Should throw if missed serialization function from HTTP status
            1..2
            ok 1 - should be equal
            ok 2 - should be equivalent
        ok 1 - Should throw if missed serialization function from HTTP status # time=31.375ms
        
        # Subtest: Should use a serializer fn from HTTP status
            1..4
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
        ok 2 - Should use a serializer fn from HTTP status # time=35.772ms
        
        # Subtest: Should compile a serializer out of a schema if serializer fn missed
            1..10
            ok 1 - should be equal
            ok 2 - expect falsey value
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 3 - Should compile a serializer out of a schema if serializer fn missed # time=9.355ms
        
        # Subtest: Should use a cached serializer fn
            1..12
            ok 1 - should be equal
            ok 2 - expect falsey value
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
            ok 11 - should be equal
            ok 12 - should be equal
        ok 4 - Should use a cached serializer fn # time=8.61ms
        
        # Subtest: Should instantiate a WeakMap after first call
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
        ok 5 - Should instantiate a WeakMap after first call # time=6.908ms
        
    ok 3 - Reply\#serializeInput # time=104.488ms
    
    1..3
    # time=341.857ms
ok 58 - test/internals/reply-serialize.test.js # time=341.857ms

# Subtest: test/internals/reply.test.js
    # Subtest: Once called, Reply should return an object with methods
        1..13
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should be equal
        ok 13 - should be equal
    ok 1 - Once called, Reply should return an object with methods # time=16.357ms
    
    # Subtest: reply.send will logStream error and destroy the stream
        1..1
        ok 1 - Error not logged and not streamed
    ok 2 - reply.send will logStream error and destroy the stream # time=5.977ms
    
    # Subtest: reply.send throw with circular JSON
        1..1
        ok 1 - Converting circular structure to JSON
    ok 3 - reply.send throw with circular JSON # time=2.065ms
    
    # Subtest: reply.send returns itself
        1..1
        ok 1 - should be equal
    ok 4 - reply.send returns itself # time=1.725ms
    
    # Subtest: reply.serializer should set a custom serializer
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 5 - reply.serializer should set a custom serializer # time=1.481ms
    
    # Subtest: reply.serializer should support running preSerialization hooks
        1..3
        ok 1 - preSerialization
        ok 2 - should not error
        ok 3 - should be equal
    ok 6 - reply.serializer should support running preSerialization hooks # time=718.848ms
    
    # Subtest: reply.serialize should serialize payload
        1..1
        ok 1 - should be equal
    ok 7 - reply.serialize should serialize payload # time=1.394ms
    
    # Subtest: reply.serialize should serialize payload with a custom serializer
        1..2
        ok 1 - should be equal
        ok 2 - custom serializer not called
    ok 8 - reply.serialize should serialize payload with a custom serializer # time=1.261ms
    
    # Subtest: reply.serialize should serialize payload with a context default serializer
        1..2
        ok 1 - should be equal
        ok 2 - custom serializer not called
    ok 9 - reply.serialize should serialize payload with a context default serializer # time=1.37ms
    
    # Subtest: reply.serialize should serialize payload with Fastify instance
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - reply.serialize should serialize payload with Fastify instance # time=23.108ms
    
    # Subtest: within an instance
        ok 1 - should not error
        # Subtest: custom serializer should be used
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - custom serializer should be used # time=31.638ms
        
        # Subtest: status code and content-type should be correct
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 3 - status code and content-type should be correct # time=7.074ms
        
        # Subtest: auto status code shoud be 200
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - auto status code shoud be 200 # time=5.671ms
        
        # Subtest: auto type shoud be text/plain
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - auto type shoud be text/plain # time=5.039ms
        
        # Subtest: redirect to `/` - 1
            1..1
            ok 1 - should be equal
        ok 6 - redirect to `/` - 1 # time=4.509ms
        
        # Subtest: redirect to `/` - 2
            1..1
            ok 1 - should be equal
        ok 7 - redirect to `/` - 2 # time=4.028ms
        
        # Subtest: redirect to `/` - 3
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 8 - redirect to `/` - 3 # time=8.464ms
        
        # Subtest: redirect to `/` - 4
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 9 - redirect to `/` - 4 # time=8.539ms
        
        # Subtest: redirect to `/` - 5
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
        ok 10 - redirect to `/` - 5 # time=4.078ms
        
        # Subtest: redirect to `/` - 6
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 11 - redirect to `/` - 6 # time=7.266ms
        
        # Subtest: redirect to `/` - 7
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 12 - redirect to `/` - 7 # time=7.727ms
        
        # Subtest: redirect to `/` - 8
            1..1
            ok 1 - should be equal
        ok 13 - redirect to `/` - 8 # time=3.341ms
        
        # Subtest: redirect to `/` - 9
            1..1
            ok 1 - should be equal
        ok 14 - redirect to `/` - 9 # time=3.533ms
        
        # Subtest: redirect with async function to `/` - 10
            1..1
            ok 1 - should be equal
        ok 15 - redirect with async function to `/` - 10 # time=3.563ms
        
        1..15
    ok 11 - within an instance # time=183.358ms
    
    # Subtest: buffer without content type should send a application/octet-stream and raw buffer
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 12 - buffer without content type should send a application/octet-stream and raw buffer # time=37.539ms
    
    # Subtest: buffer with content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 13 - buffer with content type should not send application/octet-stream # time=11.03ms
    
    # Subtest: stream with content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 14 - stream with content type should not send application/octet-stream # time=22.574ms
    
    # Subtest: stream without content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 15 - stream without content type should not send application/octet-stream # time=95.18ms
    
    # Subtest: stream using reply.raw.writeHead should return customize headers
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 16 - stream using reply.raw.writeHead should return customize headers # time=18.999ms
    
    # Subtest: plain string without content type should send a text/plain
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 17 - plain string without content type should send a text/plain # time=19.081ms
    
    # Subtest: plain string with content type should be sent unmodified
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - plain string with content type should be sent unmodified # time=9.258ms
    
    # Subtest: plain string with content type and custom serializer should be serialized
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 19 - plain string with content type and custom serializer should be serialized # time=8.666ms
    
    # Subtest: plain string with content type application/json should NOT be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 20 - plain string with content type application/json should NOT be serialized as json # time=8.173ms
    
    # Subtest: plain string with custom json content type should NOT be serialized as json
        1..19
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equivalent
    ok 21 - plain string with custom json content type should NOT be serialized as json # time=23.989ms
    
    # Subtest: non-string with content type application/json SHOULD be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 22 - non-string with content type application/json SHOULD be serialized as json # time=11.97ms
    
    # Subtest: non-string with custom json's content-type SHOULD be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 23 - non-string with custom json's content-type SHOULD be serialized as json # time=9.333ms
    
    # Subtest: non-string with custom json content type SHOULD be serialized as json
        1..16
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 24 - non-string with custom json content type SHOULD be serialized as json # time=37.867ms
    
    # Subtest: error object with a content type that is not application/json should work
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 25 - error object with a content type that is not application/json should work # time=8.616ms
    
    # Subtest: undefined payload should be sent as-is
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 26 - undefined payload should be sent as-is # time=9.209ms
    
    # Subtest: for HEAD method, no body should be sent but content-length should be
        1..11
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
    ok 27 - for HEAD method, no body should be sent but content-length should be # time=10.843ms
    
    # Subtest: reply.send(new NotFound()) should not invoke the 404 handler
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 28 - reply.send(new NotFound()) should not invoke the 404 handler # time=18.798ms
    
    # Subtest: reply can set multiple instances of same header
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - expect truthy value
        ok 4 - should be equivalent strictly
    ok 29 - reply can set multiple instances of same header # time=9.269ms
    
    # Subtest: reply.hasHeader returns correct values
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 30 - reply.hasHeader returns correct values # time=6.471ms
    
    # Subtest: reply.getHeader returns correct values
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
        ok 4 - should be equivalent strictly
    ok 31 - reply.getHeader returns correct values # time=8.549ms
    
    # Subtest: reply.getHeader returns raw header if there is not in the reply headers
        1..1
        ok 1 - should be equal
    ok 32 - reply.getHeader returns raw header if there is not in the reply headers # time=1.024ms
    
    # Subtest: reply.getHeaders returns correct values
        1..3
        ok 1 - should be equivalent strictly
        ok 2 - should be equivalent strictly
        ok 3 - should not error
    ok 33 - reply.getHeaders returns correct values # time=5.839ms
    
    # Subtest: reply.removeHeader can remove the value
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent strictly
        ok 5 - (unnamed test)
    ok 34 - reply.removeHeader can remove the value # time=9.131ms
    
    # Subtest: reply.header can reset the value
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent strictly
        ok 3 - (unnamed test)
    ok 35 - reply.header can reset the value # time=6.56ms
    
    # Subtest: reply.hasHeader computes raw and fastify headers
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - (unnamed test)
    ok 36 - reply.hasHeader computes raw and fastify headers # time=16.548ms
    
    # Subtest: Reply should handle JSON content type with a charset
        1..16
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should not error
        ok 16 - should be equal
    ok 37 - Reply should handle JSON content type with a charset # time=15.918ms
    
    # Subtest: Content type and charset set previously
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 38 - Content type and charset set previously # time=9.449ms
    
    # Subtest: .status() is an alias for .code()
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 39 - .status() is an alias for .code() # time=3.629ms
    
    # Subtest: .statusCode is getter and setter
        1..4
        ok 1 - 200
        ok 2 - 418
        ok 3 - should not error
        ok 4 - should be equal
    ok 40 - .statusCode is getter and setter # time=4.334ms
    
    # Subtest: reply.header setting multiple cookies as multiple Set-Cookie headers
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equivalent strictly
        ok 4 - should not error
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - should be equivalent strictly
    ok 41 - reply.header setting multiple cookies as multiple Set-Cookie headers # time=9.028ms
    
    # Subtest: should emit deprecation warning when trying to modify the reply.sent property
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 42 - should emit deprecation warning when trying to modify the reply.sent property # time=4.347ms
    
    # Subtest: should throw error when passing falsy value to reply.sent
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 43 - should throw error when passing falsy value to reply.sent # time=3.779ms
    
    # Subtest: should throw error when attempting to set reply.sent more than once
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 44 - should throw error when attempting to set reply.sent more than once # time=3.606ms
    
    # Subtest: should not throw error when attempting to set reply.sent if the underlining request was sent
        1..3
        ok 1 - expected to not throw
        ok 2 - should not error
        ok 3 - (unnamed test)
    ok 45 - should not throw error when attempting to set reply.sent if the underlining request was sent # time=6.858ms
    
    # Subtest: reply.getResponseTime() should return 0 before the timer is initialised on the reply by setting up response listeners
        1..1
        ok 1 - should be equal
    ok 46 - reply.getResponseTime() should return 0 before the timer is initialised on the reply by setting up response listeners # time=0.623ms
    
    # Subtest: reply.getResponseTime() should return a number greater than 0 after the timer is initialised on the reply by setting up response listeners
        1..1
        ok 1 - expect truthy value
    ok 47 - reply.getResponseTime() should return a number greater than 0 after the timer is initialised on the reply by setting up response listeners # time=4.834ms
    
    # Subtest: reply.getResponseTime() should return the time since a request started while inflight
        1..1
        ok 1 - should not be equal
    ok 48 - reply.getResponseTime() should return the time since a request started while inflight # time=9.949ms
    
    # Subtest: reply.getResponseTime() should return the same value after a request is finished
        1..1
        ok 1 - should be equal
    ok 49 - reply.getResponseTime() should return the same value after a request is finished # time=4.176ms
    
    # Subtest: reply should use the custom serializer
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 50 - reply should use the custom serializer # time=6.504ms
    
    # Subtest: reply should use the right serializer in encapsulated context
        1..9
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 51 - reply should use the right serializer in encapsulated context # time=12.405ms
    
    # Subtest: reply should use the right serializer in deep encapsulated context
        1..8
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 52 - reply should use the right serializer in deep encapsulated context # time=10.116ms
    
    # Subtest: reply should use the route serializer
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equal
    ok 53 - reply should use the route serializer # time=4.146ms
    
    # Subtest: cannot set the replySerializer when the server is running
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 54 - cannot set the replySerializer when the server is running # time=27.044ms
    
    # Subtest: reply should not call the custom serializer for errors and not found
        1..9
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 55 - reply should not call the custom serializer for errors and not found # time=14.064ms
    
    # Subtest: reply.then
        1..4
        # Subtest: without an error
            1..1
            ok 1 - fulfilled called
        ok 1 - without an error # time=11.197ms
        
        # Subtest: with an error
            1..1
            ok 1 - should be equal
        ok 2 - with an error # time=1.26ms
        
        # Subtest: with error but without reject callback
            1..1
            ok 1 - (unnamed test)
        ok 3 - with error but without reject callback # time=0.694ms
        
        # Subtest: with error, without reject callback, with logger
            1..1
            ok 1 - should be equal
        ok 4 - with error, without reject callback, with logger # time=1.357ms
        
    ok 56 - reply.then # time=21.381ms
    
    # Subtest: reply.sent should read from response.writableEnded if it is defined
        1..1
        ok 1 - should be equal
    ok 57 - reply.sent should read from response.writableEnded if it is defined # time=0.478ms
    
    # Subtest: redirect to an invalid URL should not crash the server
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        1..7
    ok 58 - redirect to an invalid URL should not crash the server # time=14.438ms
    
    # Subtest: invalid response headers should not crash the server
        ok 1 - only the first invalid header is logged
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 59 - invalid response headers should not crash the server # time=7.551ms
    
    # Subtest: invalid response headers when sending back an error
        ok 1 - only the first invalid header is logged
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 60 - invalid response headers when sending back an error # time=6.783ms
    
    # Subtest: invalid response headers and custom error handler
        ok 1 - custom error handler receives the error
        ok 2 - only the first invalid header is logged
        ok 3 - should be equal
        ok 4 - should be equivalent
        1..4
    ok 61 - invalid response headers and custom error handler # time=7.599ms
    
    1..61
    # time=1688.844ms
ok 59 - test/internals/reply.test.js # time=1688.844ms

# Subtest: test/internals/request-validate.test.js
    # Subtest: \#compileValidationSchema
        1..5
        # Subtest: Should return a function - Route without schema
            1..3
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
        ok 1 - Should return a function - Route without schema # time=153.155ms
        
        # Subtest: Should reuse the validate fn across multiple invocations - Route without schema
            1..16
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
            ok 4 - Are the same validate function
            ok 5 - type is Function
            ok 6 - expect truthy value
            ok 7 - expect falsey value
            ok 8 - Are the same validate function
            ok 9 - type is Function
            ok 10 - expect truthy value
            ok 11 - expect falsey value
            ok 12 - Are the same validate function
            ok 13 - type is Function
            ok 14 - expect truthy value
            ok 15 - expect falsey value
            ok 16 - should be equal
        ok 2 - Should reuse the validate fn across multiple invocations - Route without schema # time=68.58ms
        
        # Subtest: Should return a function - Route with schema
            1..3
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
        ok 3 - Should return a function - Route with schema # time=44.385ms
        
        # Subtest: Should use the custom validator compiler for the route
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equivalent
            ok 7 - expect truthy value
            ok 8 - should be equivalent
            ok 9 - expect truthy value
            ok 10 - should be equal
        ok 4 - Should use the custom validator compiler for the route # time=24.372ms
        
        # Subtest: Should instantiate a WeakMap when executed for first time
            1..5
            ok 1 - should be equal
            ok 2 - type is Function
            ok 3 - type is WeakMap
            ok 4 - type is Function
            ok 5 - type is WeakMap
        ok 5 - Should instantiate a WeakMap when executed for first time # time=35.645ms
        
    ok 1 - \#compileValidationSchema # time=346.75ms
    
    # Subtest: \#getValidationFunction
        1..4
        # Subtest: Should return a validation function
            1..1
            ok 1 - should be equal
        ok 1 - Should return a validation function # time=45.778ms
        
        # Subtest: Should return undefined if no schema compiled
            1..2
            ok 1 - expect falsey value
            ok 2 - expect falsey value
        ok 2 - Should return undefined if no schema compiled # time=17.052ms
        
        # Subtest: Should return the validation function from each HTTP part
            1..15
            ok 1 - expect truthy value
            ok 2 - expect truthy value
            ok 3 - expect falsey value
            ok 4 - expect truthy value
            ok 5 - expect truthy value
            ok 6 - expect falsey value
            ok 7 - expect truthy value
            ok 8 - expect truthy value
            ok 9 - expect truthy value
            ok 10 - expect truthy value
            ok 11 - expect falsey value
            ok 12 - should be equal
            ok 13 - expect truthy value
            ok 14 - expect falsey value
            ok 15 - should be equal
        ok 3 - Should return the validation function from each HTTP part # time=71.618ms
        
        # Subtest: Should not set a WeakMap if there is no schema
            1..1
            ok 1 - should be equal
        ok 4 - Should not set a WeakMap if there is no schema # time=19.845ms
        
    ok 2 - \#getValidationFunction # time=171.635ms
    
    # Subtest: \#validate
        1..7
        # Subtest: Should return true/false if input valid - Route without schema
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 1 - Should return true/false if input valid - Route without schema # time=59.374ms
        
        # Subtest: Should use the custom validator compiler for the route
            1..9
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equivalent
            ok 6 - should be equivalent
            ok 7 - expect truthy value
            ok 8 - expect truthy value
            ok 9 - should be equal
        ok 2 - Should use the custom validator compiler for the route # time=9.053ms
        
        # Subtest: Should return true/false if input valid - With Schema for Route defined
            1..8
            ok 1 - expect truthy value
            ok 2 - expect falsey value
            ok 3 - expect falsey value
            ok 4 - expect truthy value
            ok 5 - expect falsey value
            ok 6 - expect truthy value
            ok 7 - expect truthy value
            ok 8 - expect falsey value
        ok 3 - Should return true/false if input valid - With Schema for Route defined # time=77.283ms
        
        # Subtest: Should throw if missing validation fn for HTTP part and not schema provided
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 4 - Should throw if missing validation fn for HTTP part and not schema provided # time=12.529ms
        
        # Subtest: Should throw if missing validation fn for HTTP part and not valid schema provided
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 5 - Should throw if missing validation fn for HTTP part and not valid schema provided # time=32.486ms
        
        # Subtest: Should throw if invalid schema passed
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 6 - Should throw if invalid schema passed # time=18.473ms
        
        # Subtest: Should set a WeakMap if compiling the very first schema
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
        ok 7 - Should set a WeakMap if compiling the very first schema # time=31.385ms
        
    ok 3 - \#validate # time=252.607ms
    
    # Subtest: Nested Context
        1..1
        # Subtest: Level_1
            1..3
            # Subtest: \#compileValidationSchema
                1..4
                # Subtest: Should return a function - Route without schema
                    1..3
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                ok 1 - Should return a function - Route without schema # time=176.903ms
                
                # Subtest: Should reuse the validate fn across multiple invocations - Route without schema
                    1..16
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                    ok 4 - Are the same validate function
                    ok 5 - type is Function
                    ok 6 - expect truthy value
                    ok 7 - expect falsey value
                    ok 8 - Are the same validate function
                    ok 9 - type is Function
                    ok 10 - expect truthy value
                    ok 11 - expect falsey value
                    ok 12 - Are the same validate function
                    ok 13 - type is Function
                    ok 14 - expect truthy value
                    ok 15 - expect falsey value
                    ok 16 - should be equal
                ok 2 - Should reuse the validate fn across multiple invocations - Route without schema # time=93.346ms
                
                # Subtest: Should return a function - Route with schema
                    1..3
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                ok 3 - Should return a function - Route with schema # time=78.604ms
                
                # Subtest: Should use the custom validator compiler for the route
                    1..10
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - should be equal
                    ok 5 - should be equal
                    ok 6 - should be equivalent
                    ok 7 - expect truthy value
                    ok 8 - should be equivalent
                    ok 9 - expect truthy value
                    ok 10 - should be equal
                ok 4 - Should use the custom validator compiler for the route # time=20.864ms
                
            ok 1 - \#compileValidationSchema # time=382.494ms
            
            # Subtest: \#getValidationFunction
                1..6
                # Subtest: Should return a validation function
                    1..1
                    ok 1 - should be equal
                ok 1 - Should return a validation function # time=44.589ms
                
                # Subtest: Should return undefined if no schema compiled
                    1..1
                    ok 1 - expect falsey value
                ok 2 - Should return undefined if no schema compiled # time=22.529ms
                
                # Subtest: Should return the validation function from each HTTP part
                    1..15
                    ok 1 - expect truthy value
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                    ok 4 - expect truthy value
                    ok 5 - expect truthy value
                    ok 6 - expect falsey value
                    ok 7 - expect truthy value
                    ok 8 - expect truthy value
                    ok 9 - expect truthy value
                    ok 10 - expect truthy value
                    ok 11 - expect falsey value
                    ok 12 - should be equal
                    ok 13 - expect truthy value
                    ok 14 - expect falsey value
                    ok 15 - should be equal
                ok 3 - Should return the validation function from each HTTP part # time=72.723ms
                
                # Subtest: Should return a validation function - nested
                    1..6
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - expect falsey value
                    ok 5 - should be equal
                    ok 6 - should be equal
                ok 4 - Should return a validation function - nested # time=13.595ms
                
                # Subtest: Should return undefined if no schema compiled - nested
                    1..3
                    ok 1 - should be equal
                    ok 2 - expect falsey value
                    ok 3 - should be equal
                ok 5 - Should return undefined if no schema compiled - nested # time=53.4ms
                
                # Subtest: Should per-route defined validation compiler
                    1..5
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should not be equal
                    ok 4 - should be equal
                    ok 5 - should be equal
                ok 6 - Should per-route defined validation compiler # time=16.733ms
                
            ok 2 - \#getValidationFunction # time=246.241ms
            
            # Subtest: \#validate
                1..3
                # Subtest: Should return true/false if input valid - Route without schema
                    1..2
                    ok 1 - expect falsey value
                    ok 2 - expect truthy value
                ok 1 - Should return true/false if input valid - Route without schema # time=147.592ms
                
                # Subtest: Should use the custom validator compiler for the route
                    1..10
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - should be equal
                    ok 5 - should be equivalent
                    ok 6 - should be equivalent
                    ok 7 - expect truthy value
                    ok 8 - expect truthy value
                    ok 9 - should be equal
                    ok 10 - should be equal
                ok 2 - Should use the custom validator compiler for the route # time=9.414ms
                
                # Subtest: Should return true/false if input valid - With Schema for Route defined and scoped validator compiler
                    1..13
                    ok 1 - expect truthy value
                    ok 2 - expect falsey value
                    ok 3 - expect falsey value
                    ok 4 - expect truthy value
                    ok 5 - expect falsey value
                    ok 6 - expect truthy value
                    ok 7 - expect truthy value
                    ok 8 - expect falsey value
                    ok 9 - should be equal
                    ok 10 - should be equal
                    ok 11 - should be equal
                    ok 12 - should be equal
                    ok 13 - should be equal
                ok 3 - Should return true/false if input valid - With Schema for Route defined and scoped validator compiler # time=132.076ms
                
            ok 3 - \#validate # time=301.798ms
            
        ok 1 - Level_1 # time=939.287ms
        
    ok 4 - Nested Context # time=946.158ms
    
    1..4
    # time=1730.049ms
ok 60 - test/internals/request-validate.test.js # time=1730.049ms

# Subtest: test/internals/request.test.js
    # Subtest: Regular request
        ok 1 - type is Request
        ok 2 - type is Function
        ok 3 - type is Function
        ok 4 - type is Function
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        1..19
    ok 1 - Regular request # time=18.864ms
    
    # Subtest: Regular request - hostname from authority
        1..2
        ok 1 - type is Request
        ok 2 - should be equal
    ok 2 - Regular request - hostname from authority # time=1.421ms
    
    # Subtest: Regular request - host header has precedence over authority
        1..2
        ok 1 - type is Request
        ok 2 - should be equal
    ok 3 - Regular request - host header has precedence over authority # time=0.891ms
    
    # Subtest: Request with trust proxy
        1..18
        ok 1 - type is _Request
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - type is Function
        ok 17 - type is Function
        ok 18 - type is Function
    ok 4 - Request with trust proxy # time=10.115ms
    
    # Subtest: Request with trust proxy, encrypted
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 5 - Request with trust proxy, encrypted # time=1.056ms
    
    # Subtest: Request with trust proxy - no x-forwarded-host header
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 6 - Request with trust proxy - no x-forwarded-host header # time=0.885ms
    
    # Subtest: Request with trust proxy - no x-forwarded-host header and fallback to authority
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 7 - Request with trust proxy - no x-forwarded-host header and fallback to authority # time=0.875ms
    
    # Subtest: Request with trust proxy - x-forwarded-host header has precedence over host
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 8 - Request with trust proxy - x-forwarded-host header has precedence over host # time=1.07ms
    
    # Subtest: Request with trust proxy - handles multiple entries in x-forwarded-host/proto
        1..3
        ok 1 - type is _Request
        ok 2 - should be equal
        ok 3 - should be equal
    ok 9 - Request with trust proxy - handles multiple entries in x-forwarded-host/proto # time=1.161ms
    
    # Subtest: Request with trust proxy - plain
        1..1
        ok 1 - should be equivalent
    ok 10 - Request with trust proxy - plain # time=0.999ms
    
    # Subtest: Request with undefined socket
        1..18
        ok 1 - type is Request
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equivalent
        ok 16 - type is Function
        ok 17 - type is Function
        ok 18 - type is Function
    ok 11 - Request with undefined socket # time=3.831ms
    
    # Subtest: Request with trust proxy and undefined socket
        1..1
        ok 1 - should be equivalent
    ok 12 - Request with trust proxy and undefined socket # time=0.788ms
    
    1..12
    # time=109.937ms
ok 61 - test/internals/request.test.js # time=109.937ms

# Subtest: test/internals/server.test.js
    # Subtest: start listening
        ok 1 - server started
        1..1
    ok 1 - start listening # time=44.895ms
    
    # Subtest: DNS errors does not stop the main server on localhost - promise interface
        ok 1 - server started
        1..1
    ok 2 - DNS errors does not stop the main server on localhost - promise interface # time=17.99ms
    
    # Subtest: DNS errors does not stop the main server on localhost - callback interface
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 3 - DNS errors does not stop the main server on localhost - callback interface # time=23.599ms
    
    # Subtest: DNS returns empty binding
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 4 - DNS returns empty binding # time=28.632ms
    
    # Subtest: DNS returns more than two binding
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 5 - DNS returns more than two binding # time=14.801ms
    
    1..5
    # time=139.111ms
ok 62 - test/internals/server.test.js # time=139.111ms

# Subtest: test/internals/validation.test.js
    # Subtest: Symbols
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 1 - Symbols # time=7.834ms
    
    # Subtest: compileSchemasForValidation schema - missing schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - compileSchemasForValidation schema - missing schema # time=2.241ms
    
    # Subtest: compileSchemasForValidation schema - missing output schema
        1..1
        ok 1 - should be equal
    ok 3 - compileSchemasForValidation schema - missing output schema # time=1.297ms
    
    # Subtest: compileSchemasForSerialization schema - missing schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - compileSchemasForSerialization schema - missing schema # time=1.926ms
    
    # Subtest: compileSchemasForSerialization schema - missing output schema
        1..1
        ok 1 - should be equal
    ok 5 - compileSchemasForSerialization schema - missing output schema # time=0.985ms
    
    # Subtest: build schema - output schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 6 - build schema - output schema # time=63.855ms
    
    # Subtest: build schema - payload schema
        1..1
        ok 1 - should be equal
    ok 7 - build schema - payload schema # time=2.217ms
    
    # Subtest: build schema - avoid repeated normalize schema
        1..3
        ok 1 - should not be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 8 - build schema - avoid repeated normalize schema # time=2.097ms
    
    # Subtest: build schema - query schema
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 9 - build schema - query schema # time=3.273ms
    
    # Subtest: build schema - query schema abbreviated
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 10 - build schema - query schema abbreviated # time=3.235ms
    
    # Subtest: build schema - querystring schema
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 11 - build schema - querystring schema # time=4.333ms
    
    # Subtest: build schema - querystring schema abbreviated
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 12 - build schema - querystring schema abbreviated # time=2.86ms
    
    # Subtest: build schema - must throw if querystring and query schema exist
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 13 - build schema - must throw if querystring and query schema exist # time=1.135ms
    
    # Subtest: build schema - params schema
        1..1
        ok 1 - should be equal
    ok 14 - build schema - params schema # time=1.92ms
    
    # Subtest: build schema - headers schema
        1..1
        ok 1 - should be equal
    ok 15 - build schema - headers schema # time=1.999ms
    
    # Subtest: build schema - headers are lowercase
        1..1
        ok 1 - lowercase content-type exists
    ok 16 - build schema - headers are lowercase # time=0.717ms
    
    # Subtest: build schema - headers are not lowercased in case of custom object
        1..1
        ok 1 - type is Headers
    ok 17 - build schema - headers are not lowercased in case of custom object # time=0.548ms
    
    # Subtest: build schema - uppercased headers are not included
        1..1
        ok 1 - uppercase does not exist
    ok 18 - build schema - uppercased headers are not included # time=0.87ms
    
    1..18
    # time=170.879ms
ok 63 - test/internals/validation.test.js # time=170.879ms

# Subtest: test/keepAliveTimeout.test.js
    # Subtest: keepAliveTimeout
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not be equal
        ok 6 - should be equal
    ok 1 - keepAliveTimeout # time=42.047ms
    
    1..1
    # time=47.937ms
ok 64 - test/keepAliveTimeout.test.js # time=47.937ms

# Subtest: test/listen.deprecated.test.js
    # Subtest: listen accepts a port and a callback
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 1 - listen accepts a port and a callback # time=32.036ms
    
    # Subtest: listen accepts a port and a callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 2 - listen accepts a port and a callback with (err, address) # time=5.798ms
    
    # Subtest: listen accepts a port, address, and callback
        1..1
        ok 1 - should not error
    ok 3 - listen accepts a port, address, and callback # time=19.785ms
    
    # Subtest: listen accepts options, backlog and a callback
        1..1
        ok 1 - should not error
    ok 4 - listen accepts options, backlog and a callback # time=8.957ms
    
    # Subtest: listen accepts options (no port), backlog and a callback
        1..1
        ok 1 - should not error
    ok 5 - listen accepts options (no port), backlog and a callback # time=8.063ms
    
    # Subtest: listen accepts options (no host), backlog and a callback
        1..1
        ok 1 - should not error
    ok 6 - listen accepts options (no host), backlog and a callback # time=4.934ms
    
    # Subtest: listen accepts options (no port, no host), backlog and a callback
        1..1
        ok 1 - should not error
    ok 7 - listen accepts options (no port, no host), backlog and a callback # time=15.056ms
    
    # Subtest: listen accepts a port, address and a callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 8 - listen accepts a port, address and a callback with (err, address) # time=3.402ms
    
    # Subtest: listen accepts a port, address, backlog and callback
        1..1
        ok 1 - should not error
    ok 9 - listen accepts a port, address, backlog and callback # time=4.314ms
    
    # Subtest: listen accepts a port, address, backlog and callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 10 - listen accepts a port, address, backlog and callback with (err, address) # time=13.107ms
    
    # Subtest: listen without callback (port zero)
        1..1
        ok 1 - should be equal
    ok 11 - listen without callback (port zero) # time=8.257ms
    
    # Subtest: listen without callback (port not given)
        1..1
        ok 1 - should be equal
    ok 12 - listen without callback (port not given) # time=4.047ms
    
    # Subtest: listen null without callback with (address)
        1..1
        ok 1 - should be equal
    ok 13 - listen null without callback with (address) # time=7.231ms
    
    # Subtest: listen without port without callback with (address)
        1..1
        ok 1 - should be equal
    ok 14 - listen without port without callback with (address) # time=3.566ms
    
    # Subtest: listen with undefined without callback with (address)
        1..1
        ok 1 - should be equal
    ok 15 - listen with undefined without callback with (address) # time=3.573ms
    
    # Subtest: listen when firstArg is string(pipe) and without backlog
        1..1
        ok 1 - should be equal
    ok 16 - listen when firstArg is string(pipe) and without backlog # time=10.861ms
    
    # Subtest: listen when firstArg is string(pipe) and with backlog
        1..1
        ok 1 - should be equal
    ok 17 - listen when firstArg is string(pipe) and with backlog # time=3.561ms
    
    # Subtest: listen when firstArg is { path: string(pipe) } and with backlog and callback
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 18 - listen when firstArg is { path: string(pipe) } and with backlog and callback # time=12.311ms
    
    1..18
    # time=264.067ms
ok 65 - test/listen.deprecated.test.js # time=264.067ms

# Subtest: test/listen.test.js
    # Subtest: listen works without arguments
        ok 1 - should be equal
        ok 2 - expect truthy value
        1..2
    ok 1 - listen works without arguments # time=37.026ms
    
    # Subtest: Async/await listen with arguments
        1..1
        ok 1 - should be equal
    ok 2 - Async/await listen with arguments # time=5.309ms
    
    # Subtest: Promise listen with arguments
        1..1
        ok 1 - should be equal
    ok 3 - Promise listen with arguments # time=18.389ms
    
    # Subtest: listen accepts a callback
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 4 - listen accepts a callback # time=13.185ms
    
    # Subtest: listen accepts options and a callback
        1..1
        ok 1 - should not error
    ok 5 - listen accepts options and a callback # time=4.937ms
    
    # Subtest: listen after Promise.resolve()
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 6 - listen after Promise.resolve() # time=4.833ms
    
    # Subtest: register after listen using Promise.resolve()
        1..1
        ok 1 - resolved
    ok 7 - register after listen using Promise.resolve() # time=11.327ms
    
    # Subtest: double listen errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
    ok 8 - double listen errors # time=5.339ms
    
    # Subtest: double listen errors callback with (err, address)
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 9 - double listen errors callback with (err, address) # time=5.935ms
    
    # Subtest: listen twice on the same port
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 10 - listen twice on the same port # time=30.349ms
    
    # Subtest: listen twice on the same port callback with (err, address)
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 11 - listen twice on the same port callback with (err, address) # time=10.024ms
    
    # Subtest: listen on socket
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent strictly
        ok 3 - should be equal
    ok 12 - listen on socket # time=8.999ms
    
    # Subtest: listen without callback with (address)
        1..1
        ok 1 - should be equal
    ok 13 - listen without callback with (address) # time=14.481ms
    
    # Subtest: double listen without callback rejects
        1..1
        ok 1 - expect truthy value
    ok 14 - double listen without callback rejects # time=20.043ms
    
    # Subtest: double listen without callback with (address)
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 15 - double listen without callback with (address) # time=25.216ms
    
    # Subtest: listen twice on the same port without callback rejects
        1..1
        ok 1 - expect truthy value
    ok 16 - listen twice on the same port without callback rejects # time=7.53ms
    
    # Subtest: listen twice on the same port without callback rejects with (address)
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 17 - listen twice on the same port without callback rejects with (address) # time=10.687ms
    
    # Subtest: listen on invalid port without callback rejects
        ok 1 - expect truthy value
        1..1
    ok 18 - listen on invalid port without callback rejects # time=3.4ms
    
    # Subtest: listen logs the port as info
        1..1
        ok 1 - expect truthy value
    ok 19 - listen logs the port as info # time=3.628ms
    
    # Subtest: listen on localhost binds IPv4 and IPv6 - promise interface
        1..2
        ok 1 - should be equal
        ok 2 - should be equivalent
    ok 20 - listen on localhost binds IPv4 and IPv6 - promise interface # time=24.616ms
    
    # Subtest: listen on localhost binds to all interfaces (both IPv4 and IPv6 if present) - callback interface
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 21 - listen on localhost binds to all interfaces (both IPv4 and IPv6 if present) - callback interface # time=9.451ms
    
    # Subtest: addresses getter
        1..4
        ok 1 - before ready
        ok 2 - after ready
        ok 3 - after listen
        ok 4 - after close
    ok 22 - addresses getter # time=7.865ms
    
    1..22
    # time=375.479ms
ok 66 - test/listen.test.js # time=375.479ms

# Subtest: test/logger.test.js
    # Subtest: defaults to info level
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
        ok 13 - responseTime is defined
        1..13
    ok 1 - defaults to info level # time=62.69ms
    
    # Subtest: test log stream
        1..12
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
    ok 2 - test log stream # time=24.958ms
    
    # Subtest: test error log stream
        1..11
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - reqId is defined
        ok 9 - res is defined
        ok 10 - message is set
        ok 11 - statusCode is 500
    ok 3 - test error log stream # time=59.302ms
    
    # Subtest: can use external logger instance
        1..6
        ok 1 - "Server listening at http://127.0.0.1:43993" dont match "/^Server listening at /"
        ok 2 - should not error
        ok 3 - "incoming request" dont match "/^incoming request$/"
        ok 4 - expect truthy value
        ok 5 - "log success" dont match "/^log success$/"
        ok 6 - "request completed" dont match "/^request completed$/"
    ok 4 - can use external logger instance # time=15.297ms
    
    # Subtest: can use external logger instance with custom serializer
        1..6
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - expect truthy value
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 5 - can use external logger instance with custom serializer # time=14.495ms
    
    # Subtest: expose the logger
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equivalent
    ok 6 - expose the logger # time=2.478ms
    
    # Subtest: The request id header key can be customized
        1..9
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - message is set
        ok 6 - should be equal
        ok 7 - message is set
        ok 8 - should be equal
        ok 9 - message is set
    ok 7 - The request id header key can be customized # time=36.717ms
    
    # Subtest: The request id header key can be customized along with a custom id generator
        1..12
        ok 1 - should match pattern provided
        ok 2 - should be equal
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should be equal
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
    ok 8 - The request id header key can be customized along with a custom id generator # time=17.824ms
    
    # Subtest: The request id log label can be changed
        1..6
        ok 1 - should match pattern provided
        ok 2 - should be equal
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should not error
        ok 6 - should be equal
    ok 9 - The request id log label can be changed # time=9.206ms
    
    # Subtest: The logger should accept custom serializer
        1..9
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - req is defined
        ok 4 - message is set
        ok 5 - custom req serializer is use
        ok 6 - expect truthy value
        ok 7 - res is defined
        ok 8 - message is set
        ok 9 - default res serializer is use
    ok 10 - The logger should accept custom serializer # time=18.65ms
    
    # Subtest: reply.send logs an error if called twice in a row
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
    ok 11 - reply.send logs an error if called twice in a row # time=39.235ms
    
    # Subtest: logger can be silented
        1..17
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equivalent
        ok 10 - should be equivalent
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equivalent
        ok 14 - should be equivalent
        ok 15 - should be equivalent
        ok 16 - should be equivalent
        ok 17 - should be equivalent
    ok 12 - logger can be silented # time=5.879ms
    
    # Subtest: Should set a custom logLevel for a plugin
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equivalent
    ok 13 - Should set a custom logLevel for a plugin # time=13.713ms
    
    # Subtest: Should set a custom logSerializers for a plugin
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 14 - Should set a custom logSerializers for a plugin # time=17.103ms
    
    # Subtest: Should set a custom logLevel for every plugin
        1..18
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equivalent
        ok 15 - should not error
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equivalent
    ok 15 - Should set a custom logLevel for every plugin # time=16.253ms
    
    # Subtest: Should set a custom logSerializers for every plugin
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 16 - Should set a custom logSerializers for every plugin # time=15.167ms
    
    # Subtest: Should override serializers from route
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 17 - Should override serializers from route # time=7.808ms
    
    # Subtest: Should override serializers from plugin
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 18 - Should override serializers from plugin # time=21.086ms
    
    # Subtest: Should use serializers from plugin and route
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 19 - Should use serializers from plugin and route # time=10.914ms
    
    # Subtest: Should use serializers from instance fastify and route
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 20 - Should use serializers from instance fastify and route # time=6.498ms
    
    # Subtest: Should use serializers inherit from contexts
        1..5
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 21 - Should use serializers inherit from contexts # time=7.718ms
    
    # Subtest: Should increase the log level for a specific plugin
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 22 - Should increase the log level for a specific plugin # time=6.982ms
    
    # Subtest: Should set the log level for the customized 404 handler
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 23 - Should set the log level for the customized 404 handler # time=6.798ms
    
    # Subtest: Should set the log level for the customized 500 handler
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 24 - Should set the log level for the customized 500 handler # time=6.678ms
    
    # Subtest: Should set a custom log level for a specific route
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equivalent
    ok 25 - Should set a custom log level for a specific route # time=7.993ms
    
    # Subtest: The default 404 handler logs the incoming request
        1..5
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
    ok 26 - The default 404 handler logs the incoming request # time=5.372ms
    
    # Subtest: should serialize request and response
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 27 - should serialize request and response # time=5.895ms
    
    # Subtest: Wrap IPv6 address in listening log message
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 28 - Wrap IPv6 address in listening log message # time=3.508ms
    
    # Subtest: Do not wrap IPv4 address
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 29 - Do not wrap IPv4 address # time=3.371ms
    
    # Subtest: file option
        1..13
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - listen at log message is ok
        ok 4 - reqId is defined
        ok 5 - req is defined
        ok 6 - message is set
        ok 7 - method is get
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
        ok 13 - responseTime is defined
    ok 30 - file option # time=16.869ms
    
    # Subtest: should log the error if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 31 - should log the error if no error handler is defined # time=10.416ms
    
    # Subtest: should log as info if error status code >= 400 and < 500 if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 32 - should log as info if error status code >= 400 and < 500 if no error handler is defined # time=21.121ms
    
    # Subtest: should log as error if error status code >= 500 if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 33 - should log as error if error status code >= 500 if no error handler is defined # time=9.278ms
    
    # Subtest: should not log the error if error handler is defined and it does not error
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - level is correct
        ok 7 - message is set
        ok 8 - status code is set
    ok 34 - should not log the error if error handler is defined and it does not error # time=8.275ms
    
    # Subtest: should not rely on raw request to log errors
        1..7
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - status code is set
    ok 35 - should not rely on raw request to log errors # time=8.258ms
    
    # Subtest: should redact the authorization header if so specified
        1..7
        ok 1 - listen at log message is ok
        ok 2 - should not error
        ok 3 - authorization is redacted
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 36 - should redact the authorization header if so specified # time=18.456ms
    
    # Subtest: should not log incoming request and outgoing response when disabled
        1..3
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should be equivalent
    ok 37 - should not log incoming request and outgoing response when disabled # time=5.945ms
    
    # Subtest: should not log incoming request and outgoing response for 404 onBadUrl when disabled
        1..1
        ok 1 - should be equivalent
    ok 38 - should not log incoming request and outgoing response for 404 onBadUrl when disabled # time=8.737ms
    
    # Subtest: should pass when using unWritable props in the logger option
        1..1
        ok 1 - (unnamed test)
    ok 39 - should pass when using unWritable props in the logger option # time=1.684ms
    
    # Subtest: should be able to use a custom logger
        1..1
        ok 1 - (unnamed test)
    ok 40 - should be able to use a custom logger # time=12.916ms
    
    # Subtest: should create a default logger if provided one is invalid
        1..1
        ok 1 - (unnamed test)
    ok 41 - should create a default logger if provided one is invalid # time=1.45ms
    
    # Subtest: should not throw error when serializing custom req
        1..1
        ok 1 - should be equivalent
    ok 42 - should not throw error when serializing custom req # time=1.73ms
    
    1..42
    # time=766.9ms
ok 67 - test/logger.test.js # time=766.9ms

# Subtest: test/maxRequestsPerSocket.test.js
    # Subtest: maxRequestsPerSocket on node version >= 16.10.0
        1..8
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should match pattern provided
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
    ok 1 - maxRequestsPerSocket on node version >= 16.10.0 # time=82.685ms
    
    # Subtest: maxRequestsPerSocket zero should behave same as null
        1..10
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should match pattern provided
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
        ok 9 - should match pattern provided
        ok 10 - should match pattern provided
    ok 2 - maxRequestsPerSocket zero should behave same as null # time=16.699ms
    
    # Subtest: maxRequestsPerSocket should be set
        1..1
        ok 1 - should be equivalent
    ok 3 - maxRequestsPerSocket should be set # time=2.256ms
    
    # Subtest: maxRequestsPerSocket should 0
        1..1
        ok 1 - should be equivalent
    ok 4 - maxRequestsPerSocket should 0 # time=1.409ms
    
    # Subtest: requestTimeout passed to server
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 5 - requestTimeout passed to server # time=15.051ms
    
    1..5
    # time=128.094ms
ok 68 - test/maxRequestsPerSocket.test.js # time=128.094ms

# Subtest: test/middleware.test.js
    # Subtest: Should be able to override the default use API
        1..1
        ok 1 - should be equal
    ok 1 - Should be able to override the default use API # time=20.003ms
    
    # Subtest: Cannot decorate use twice
        1..1
        ok 1 - expect truthy value
    ok 2 - Cannot decorate use twice # time=3.031ms
    
    # Subtest: Encapsulation works
        1..1
        ok 1 - should be equal
    ok 3 - Encapsulation works # time=14.765ms
    
    1..3
    # time=51.683ms
ok 69 - test/middleware.test.js # time=51.683ms

# Subtest: test/noop-set.test.js
    # Subtest: does a lot of nothing
        ok 1 - type is object
        ok 2 - should be equal
        1..2
    ok 1 - does a lot of nothing # time=48.27ms
    
    1..1
    # time=70.01ms
ok 70 - test/noop-set.test.js # time=70.01ms

# Subtest: test/nullable-validation.test.js
    # Subtest: nullable string
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 1 - nullable string # time=151.551ms
    
    # Subtest: object or null body
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 2 - object or null body # time=69.191ms
    
    # Subtest: nullable body
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 3 - nullable body # time=80.963ms
    
    # Subtest: Nullable body with 204
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 4 - Nullable body with 204 # time=40.311ms
    
    1..4
    # time=350.342ms
ok 71 - test/nullable-validation.test.js # time=350.342ms

# Subtest: test/options.error-handler.test.js
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - OPTIONS can be created # time=9.715ms
    
    # Subtest: OPTIONS without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - OPTIONS without schema can be created # time=2.311ms
    
    # Subtest: OPTIONS with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - OPTIONS with body and querystring # time=2.658ms
    
    # Subtest: OPTIONS with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - OPTIONS with bodyLimit option # time=2.025ms
    
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - OPTIONS can be created # time=3.835ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - OPTIONS - correctly replies # time=68.166ms
    
    # Subtest: OPTIONS - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - OPTIONS - correctly replies with very large body # time=9.381ms
    
    # Subtest: OPTIONS - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - OPTIONS - correctly replies if the content type has the charset # time=5.682ms
    
    # Subtest: OPTIONS without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - OPTIONS without schema - correctly replies # time=5.318ms
    
    # Subtest: OPTIONS with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - OPTIONS with body and querystring - correctly replies # time=5.69ms
    
    # Subtest: OPTIONS with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - OPTIONS with no body - correctly replies # time=27.177ms
    
    # Subtest: OPTIONS returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - OPTIONS returns 415 - incorrect media type if body is not json # time=4.257ms
    
    # Subtest: OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text # time=5.618ms
    
    # Subtest: OPTIONS returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 14 - OPTIONS returns 400 - Bad Request # time=8.083ms
    
    # Subtest: OPTIONS returns 413 - Payload Too Large
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - OPTIONS returns 413 - Payload Too Large # time=7.026ms
    
    # Subtest: OPTIONS should fail with empty body and application/json content-type
        1..0
    ok 16 - OPTIONS should fail with empty body and application/json content-type # time=0.638ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - OPTIONS - correctly replies # time=4.801ms
    
    # Subtest: OPTIONS - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - OPTIONS - 400 on bad parameters # time=5.473ms
    
    # Subtest: OPTIONS - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - OPTIONS - input-validation coerce # time=4.498ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - OPTIONS - input-validation custom schema compiler # time=4.527ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - OPTIONS - input-validation joi schema compiler ok # time=6.388ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - OPTIONS - input-validation joi schema compiler ko # time=6.733ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - OPTIONS - input-validation yup schema compiler ok # time=6.642ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - OPTIONS - input-validation yup schema compiler ko # time=5.905ms
    
    # Subtest: OPTIONS - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - OPTIONS - input-validation instance custom schema compiler encapsulated # time=4.19ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 26 - OPTIONS - input-validation custom schema compiler encapsulated # time=4.229ms
    
    ok 27 - type is object
    ok 28 - type is Request
    ok 29 - type is object
    ok 30 - type is Request
    ok 31 - type is object
    ok 32 - type is Request
    ok 33 - type is object
    ok 34 - type is Request
    ok 35 - type is object
    ok 36 - type is Request
    1..36
    # time=1222.197ms
ok 72 - test/options.error-handler.test.js # time=1222.197ms

# Subtest: test/options.test.js
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - OPTIONS can be created # time=10.028ms
    
    # Subtest: OPTIONS without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - OPTIONS without schema can be created # time=2.397ms
    
    # Subtest: OPTIONS with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - OPTIONS with body and querystring # time=1.857ms
    
    # Subtest: OPTIONS with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - OPTIONS with bodyLimit option # time=2.027ms
    
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - OPTIONS can be created # time=2.592ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - OPTIONS - correctly replies # time=56.934ms
    
    # Subtest: OPTIONS - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - OPTIONS - correctly replies with very large body # time=9.563ms
    
    # Subtest: OPTIONS - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - OPTIONS - correctly replies if the content type has the charset # time=5.549ms
    
    # Subtest: OPTIONS without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - OPTIONS without schema - correctly replies # time=5.256ms
    
    # Subtest: OPTIONS with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - OPTIONS with body and querystring - correctly replies # time=5.563ms
    
    # Subtest: OPTIONS with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - OPTIONS with no body - correctly replies # time=33.27ms
    
    # Subtest: OPTIONS returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - OPTIONS returns 415 - incorrect media type if body is not json # time=4.068ms
    
    # Subtest: OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text # time=5.139ms
    
    # Subtest: OPTIONS returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 14 - OPTIONS returns 400 - Bad Request # time=7.29ms
    
    # Subtest: OPTIONS returns 413 - Payload Too Large
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - OPTIONS returns 413 - Payload Too Large # time=6.619ms
    
    # Subtest: OPTIONS should fail with empty body and application/json content-type
        1..0
    ok 16 - OPTIONS should fail with empty body and application/json content-type # time=0.572ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - OPTIONS - correctly replies # time=4.827ms
    
    # Subtest: OPTIONS - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - OPTIONS - 400 on bad parameters # time=4.938ms
    
    # Subtest: OPTIONS - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - OPTIONS - input-validation coerce # time=4.746ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - OPTIONS - input-validation custom schema compiler # time=4.302ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - OPTIONS - input-validation joi schema compiler ok # time=6.042ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - OPTIONS - input-validation joi schema compiler ko # time=6.11ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - OPTIONS - input-validation yup schema compiler ok # time=6.235ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - OPTIONS - input-validation yup schema compiler ko # time=5.523ms
    
    # Subtest: OPTIONS - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - OPTIONS - input-validation instance custom schema compiler encapsulated # time=3.953ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 26 - OPTIONS - input-validation custom schema compiler encapsulated # time=4.052ms
    
    1..26
    # time=1011.82ms
ok 73 - test/options.test.js # time=1011.82ms

# Subtest: test/output-validation.test.js
    # Subtest: shorthand - output string
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - output string # time=10.377ms
    
    # Subtest: shorthand - output number
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - output number # time=2.635ms
    
    # Subtest: wrong object for schema - output
        1..1
        ok 1 - (unnamed test)
    ok 3 - wrong object for schema - output # time=2.421ms
    
    # Subtest: empty response
        1..1
        ok 1 - (unnamed test)
    ok 4 - empty response # time=2.416ms
    
    # Subtest: unlisted response code
        1..1
        ok 1 - (unnamed test)
    ok 5 - unlisted response code # time=3.73ms
    
    ok 6 - should not error
    # Subtest: shorthand - string get ok
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - shorthand - string get ok # time=38.091ms
    
    # Subtest: shorthand - number get ok
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 8 - shorthand - number get ok # time=7.121ms
    
    # Subtest: shorthand - wrong-object-for-schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 9 - shorthand - wrong-object-for-schema # time=7.642ms
    
    # Subtest: shorthand - empty
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - shorthand - empty # time=4.843ms
    
    # Subtest: shorthand - 400
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - shorthand - 400 # time=19.888ms
    
    1..11
    # time=219.864ms
ok 74 - test/output-validation.test.js # time=219.864ms

# Subtest: test/patch.error-handler.test.js
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PATCH can be created # time=9.222ms
    
    # Subtest: PATCH without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PATCH without schema can be created # time=1.962ms
    
    # Subtest: PATCH with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PATCH with body and querystring # time=1.499ms
    
    # Subtest: PATCH with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PATCH with bodyLimit option # time=1.683ms
    
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - PATCH can be created # time=2.69ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - PATCH - correctly replies # time=66.33ms
    
    # Subtest: PATCH - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - PATCH - correctly replies with very large body # time=9.765ms
    
    # Subtest: PATCH - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - PATCH - correctly replies if the content type has the charset # time=5.868ms
    
    # Subtest: PATCH without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - PATCH without schema - correctly replies # time=5.714ms
    
    # Subtest: PATCH with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - PATCH with body and querystring - correctly replies # time=5.839ms
    
    # Subtest: PATCH with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - PATCH with no body - correctly replies # time=27.817ms
    
    # Subtest: PATCH returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - PATCH returns 415 - incorrect media type if body is not json # time=6.457ms
    
    # Subtest: PATCH returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 13 - PATCH returns 400 - Bad Request # time=8.252ms
    
    # Subtest: PATCH returns 413 - Payload Too Large
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 14 - PATCH returns 413 - Payload Too Large # time=14.858ms
    
    # Subtest: PATCH should fail with empty body and application/json content-type
        1..12
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
    ok 15 - PATCH should fail with empty body and application/json content-type # time=21.352ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - PATCH - correctly replies # time=5.314ms
    
    # Subtest: PATCH - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - PATCH - 400 on bad parameters # time=4.949ms
    
    # Subtest: PATCH - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - PATCH - input-validation coerce # time=4.3ms
    
    # Subtest: PATCH - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - PATCH - input-validation custom schema compiler # time=4.452ms
    
    # Subtest: PATCH - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - PATCH - input-validation joi schema compiler ok # time=5.973ms
    
    # Subtest: PATCH - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - PATCH - input-validation joi schema compiler ko # time=5.653ms
    
    # Subtest: PATCH - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - PATCH - input-validation yup schema compiler ok # time=5.503ms
    
    # Subtest: PATCH - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - PATCH - input-validation yup schema compiler ko # time=5.351ms
    
    # Subtest: PATCH - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - PATCH - input-validation instance custom schema compiler encapsulated # time=3.775ms
    
    # Subtest: PATCH - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - PATCH - input-validation custom schema compiler encapsulated # time=4.103ms
    
    ok 26 - type is object
    ok 27 - type is Request
    ok 28 - type is object
    ok 29 - type is Request
    ok 30 - type is object
    ok 31 - type is Request
    ok 32 - type is object
    ok 33 - type is Request
    ok 34 - type is object
    ok 35 - type is Request
    ok 36 - type is object
    ok 37 - type is Request
    ok 38 - type is object
    ok 39 - type is Request
    ok 40 - type is object
    ok 41 - type is Request
    ok 42 - type is object
    ok 43 - type is Request
    ok 44 - type is object
    ok 45 - type is Request
    ok 46 - type is object
    ok 47 - type is Request
    ok 48 - type is object
    ok 49 - type is Request
    1..49
    # time=1029.224ms
ok 75 - test/patch.error-handler.test.js # time=1029.224ms

# Subtest: test/patch.test.js
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PATCH can be created # time=9.613ms
    
    # Subtest: PATCH without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PATCH without schema can be created # time=2.267ms
    
    # Subtest: PATCH with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PATCH with body and querystring # time=1.841ms
    
    # Subtest: PATCH with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PATCH with bodyLimit option # time=2.007ms
    
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - PATCH can be created # time=3.151ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - PATCH - correctly replies # time=55.582ms
    
    # Subtest: PATCH - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - PATCH - correctly replies with very large body # time=9.717ms
    
    # Subtest: PATCH - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - PATCH - correctly replies if the content type has the charset # time=6.115ms
    
    # Subtest: PATCH without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - PATCH without schema - correctly replies # time=5.594ms
    
    # Subtest: PATCH with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - PATCH with body and querystring - correctly replies # time=5.954ms
    
    # Subtest: PATCH with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - PATCH with no body - correctly replies # time=30.735ms
    
    # Subtest: PATCH returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - PATCH returns 415 - incorrect media type if body is not json # time=5.93ms
    
    # Subtest: PATCH returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 13 - PATCH returns 400 - Bad Request # time=7.862ms
    
    # Subtest: PATCH returns 413 - Payload Too Large
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 14 - PATCH returns 413 - Payload Too Large # time=14.582ms
    
    # Subtest: PATCH should fail with empty body and application/json content-type
        1..12
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
    ok 15 - PATCH should fail with empty body and application/json content-type # time=20.092ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - PATCH - correctly replies # time=5.115ms
    
    # Subtest: PATCH - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - PATCH - 400 on bad parameters # time=4.833ms
    
    # Subtest: PATCH - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - PATCH - input-validation coerce # time=4.14ms
    
    # Subtest: PATCH - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - PATCH - input-validation custom schema compiler # time=4.155ms
    
    # Subtest: PATCH - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - PATCH - input-validation joi schema compiler ok # time=6.06ms
    
    # Subtest: PATCH - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - PATCH - input-validation joi schema compiler ko # time=5.674ms
    
    # Subtest: PATCH - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - PATCH - input-validation yup schema compiler ok # time=5.519ms
    
    # Subtest: PATCH - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - PATCH - input-validation yup schema compiler ko # time=5.058ms
    
    # Subtest: PATCH - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - PATCH - input-validation instance custom schema compiler encapsulated # time=3.77ms
    
    # Subtest: PATCH - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - PATCH - input-validation custom schema compiler encapsulated # time=3.747ms
    
    1..25
    # time=1016.807ms
ok 76 - test/patch.test.js # time=1016.807ms

# Subtest: test/plugin.test.js
    # Subtest: require a plugin
        1..1
        ok 1 - expect truthy value
    ok 1 - require a plugin # time=97.827ms
    
    # Subtest: plugin metadata - ignore prefix
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 2 - plugin metadata - ignore prefix # time=40.16ms
    
    # Subtest: plugin metadata - naming plugins
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 3 - plugin metadata - naming plugins # time=9.639ms
    
    # Subtest: fastify.register with fastify-plugin should not encapsulate his code
        1..10
        ok 1 - expect falsey value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 4 - fastify.register with fastify-plugin should not encapsulate his code # time=54.345ms
    
    # Subtest: fastify.register with fastify-plugin should provide access to external fastify instance if opts argument is a function
        1..22
        ok 1 - expect falsey value
        ok 2 - expect falsey value
        ok 3 - expect falsey value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect falsey value
        ok 10 - expect truthy value
        ok 11 - expect falsey value
        ok 12 - expect truthy value
        ok 13 - expect truthy value
        ok 14 - should be equal
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - should not error
        ok 18 - expect truthy value
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equal
        ok 22 - should be equivalent
    ok 5 - fastify.register with fastify-plugin should provide access to external fastify instance if opts argument is a function # time=34.22ms
    
    # Subtest: fastify.register with fastify-plugin registers fastify level plugins
        1..15
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should not error
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equivalent
    ok 6 - fastify.register with fastify-plugin registers fastify level plugins # time=18.732ms
    
    # Subtest: check dependencies - should not throw
        1..12
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - should not error
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
    ok 7 - check dependencies - should not throw # time=22.6ms
    
    # Subtest: check dependencies - should throw
        1..12
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - should not error
        ok 7 - expect truthy value
        ok 8 - expect falsey value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
    ok 8 - check dependencies - should throw # time=35.851ms
    
    # Subtest: set the plugin name based on the plugin displayName symbol
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
    ok 9 - set the plugin name based on the plugin displayName symbol # time=7.414ms
    
    # Subtest: plugin name will change when using no encapsulation
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
    ok 10 - plugin name will change when using no encapsulation # time=6.734ms
    
    # Subtest: plugin name is undefined when accessing in no plugin context
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 11 - plugin name is undefined when accessing in no plugin context # time=17.685ms
    
    # Subtest: set the plugin name based on the plugin function name
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 12 - set the plugin name based on the plugin function name # time=16.117ms
    
    # Subtest: approximate a plugin name when no meta data is available
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
    ok 13 - approximate a plugin name when no meta data is available # time=7.687ms
    
    # Subtest: approximate a plugin name also when fastify-plugin has no meta data
        1..4
        ok 1 - should match pattern provided
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should not error
    ok 14 - approximate a plugin name also when fastify-plugin has no meta data # time=7.454ms
    
    # Subtest: plugin encapsulation
        1..10
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 15 - plugin encapsulation # time=23.934ms
    
    # Subtest: if a plugin raises an error and there is not a callback to handle it, the server must not start
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 16 - if a plugin raises an error and there is not a callback to handle it, the server must not start # time=22.104ms
    
    # Subtest: add hooks after route declaration
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 17 - add hooks after route declaration # time=24.613ms
    
    # Subtest: nested plugins
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 18 - nested plugins # time=15.309ms
    
    # Subtest: nested plugins awaited
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 19 - nested plugins awaited # time=15.716ms
    
    # Subtest: plugin metadata - decorators
        1..1
        ok 1 - expect truthy value
    ok 20 - plugin metadata - decorators # time=17.799ms
    
    # Subtest: plugin metadata - decorators - should throw
        1..1
        ok 1 - should be equal
    ok 21 - plugin metadata - decorators - should throw # time=11.207ms
    
    # Subtest: plugin metadata - decorators - should throw with plugin name
        1..1
        ok 1 - should be equal
    ok 22 - plugin metadata - decorators - should throw with plugin name # time=2.85ms
    
    # Subtest: plugin metadata - dependencies
        1..1
        ok 1 - everything right
    ok 23 - plugin metadata - dependencies # time=2.677ms
    
    # Subtest: plugin metadata - dependencies (nested)
        1..1
        ok 1 - everything right
    ok 24 - plugin metadata - dependencies (nested) # time=3.172ms
    
    # Subtest: pluginTimeout
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 25 - pluginTimeout # time=21.104ms
    
    # "pluginTimeout - named function" has `only` set but all tests run
    # Subtest: pluginTimeout - named function
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 26 - pluginTimeout - named function # time=14.14ms
    
    # Subtest: pluginTimeout default
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 27 - pluginTimeout default # time=-162231594.041ms
    
    # Subtest: plugin metadata - version
        1..1
        ok 1 - everything right
    ok 28 - plugin metadata - version # time=8.164ms
    
    # Subtest: plugin metadata - version range
        1..1
        ok 1 - everything right
    ok 29 - plugin metadata - version range # time=4.174ms
    
    # Subtest: plugin metadata - version not matching requirement
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 30 - plugin metadata - version not matching requirement # time=3.079ms
    
    # Subtest: plugin metadata - version not matching requirement 2
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 31 - plugin metadata - version not matching requirement 2 # time=2.91ms
    
    # Subtest: plugin metadata - version not matching requirement 3
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 32 - plugin metadata - version not matching requirement 3 # time=2.79ms
    
    # Subtest: plugin metadata - release candidate
        1..2
        ok 1 - should not error
        ok 2 - everything right
    ok 33 - plugin metadata - release candidate # time=4.294ms
    
    # Subtest: fastify-rc loads prior version plugins
        1..2
        ok 1 - should not error
        ok 2 - everything right
    ok 34 - fastify-rc loads prior version plugins # time=3.368ms
    
    # Subtest: hasPlugin method exists as a function
        1..1
        ok 1 - should be equal
    ok 35 - hasPlugin method exists as a function # time=1.094ms
    
    # Subtest: hasPlugin returns true if the specified plugin has been registered
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
    ok 36 - hasPlugin returns true if the specified plugin has been registered # time=5.45ms
    
    # Subtest: hasPlugin returns false if the specified plugin has not been registered
        1..1
        ok 1 - expect falsey value
    ok 37 - hasPlugin returns false if the specified plugin has not been registered # time=1.082ms
    
    # Subtest: hasPlugin returns false when using encapsulation
        1..25
        ok 1 - expect truthy value
        ok 2 - expect falsey value
        ok 3 - expect falsey value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect truthy value
        ok 8 - expect falsey value
        ok 9 - expect falsey value
        ok 10 - expect falsey value
        ok 11 - expect falsey value
        ok 12 - expect falsey value
        ok 13 - expect truthy value
        ok 14 - expect falsey value
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - expect falsey value
        ok 18 - expect falsey value
        ok 19 - expect truthy value
        ok 20 - expect falsey value
        ok 21 - expect falsey value
        ok 22 - expect falsey value
        ok 23 - expect falsey value
        ok 24 - expect falsey value
        ok 25 - expect truthy value
    ok 38 - hasPlugin returns false when using encapsulation # time=11.455ms
    
    # Subtest: hasPlugin returns true when using no encapsulation
        1..26
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect falsey value
        ok 10 - expect falsey value
        ok 11 - expect falsey value
        ok 12 - expect truthy value
        ok 13 - expect truthy value
        ok 14 - expect truthy value
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - expect truthy value
        ok 18 - expect truthy value
        ok 19 - expect truthy value
        ok 20 - expect truthy value
        ok 21 - expect falsey value
        ok 22 - expect truthy value
        ok 23 - expect truthy value
        ok 24 - expect truthy value
        ok 25 - expect truthy value
        ok 26 - expect truthy value
    ok 39 - hasPlugin returns true when using no encapsulation # time=20.525ms
    
    1..39
    # time=651.036ms
ok 77 - test/plugin.test.js # time=651.036ms

# Subtest: test/pretty-print.test.js
    # Subtest: pretty print - static routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - pretty print - static routes # time=52.636ms
    
    # Subtest: pretty print - parametric routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - pretty print - parametric routes # time=7.839ms
    
    # Subtest: pretty print - mixed parametric routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 3 - pretty print - mixed parametric routes # time=8.291ms
    
    # Subtest: pretty print - wildcard routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - pretty print - wildcard routes # time=21.183ms
    
    # Subtest: pretty print - empty plugins
        1..2
        ok 1 - should be equal
        ok 2 - should match pattern provided
    ok 5 - pretty print - empty plugins # time=17.673ms
    
    # Subtest: pretty print - nested plugins
        1..4
        ok 1 - should be equal
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
    ok 6 - pretty print - nested plugins # time=11ms
    
    # Subtest: pretty print - commonPrefix
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 7 - pretty print - commonPrefix # time=24.215ms
    
    # Subtest: pretty print - includeMeta, includeHooks
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 8 - pretty print - includeMeta, includeHooks # time=9.967ms
    
    1..8
    # time=191.606ms
ok 78 - test/pretty-print.test.js # time=191.606ms

./VariantsPureDep/fastify/variant2/fastify

> fastify@4.3.0 test
> npm run lint && npm run unit && npm run test:typescript


> fastify@4.3.0 lint
> npm run lint:standard && npm run lint:typescript && npm run lint:markdown


> fastify@4.3.0 lint:standard
> standard | snazzy

-----------------------------|---------|----------|---------|---------|-----------------------------
File                         | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s           
-----------------------------|---------|----------|---------|---------|-----------------------------
All files                    |   92.78 |    92.03 |    92.3 |   92.91 |                             
 fastify                     |   85.23 |    88.12 |   82.14 |    84.9 |                             
  fastify.js                 |   85.23 |    88.12 |   82.14 |    84.9 | ...,676-695,721-724,732-743 
 fastify/lib                 |   93.85 |    92.55 |   94.23 |   94.06 |                             
  contentTypeParser.js       |    97.8 |    99.15 |     100 |   97.64 | 233-236                     
  context.js                 |     100 |      100 |     100 |     100 |                             
  decorate.js                |   98.21 |    98.03 |     100 |   98.07 | 41                          
  error-handler.js           |    94.2 |    93.61 |     100 |    94.2 | 108-110,118                 
  errors.js                  |     100 |      100 |     100 |     100 |                             
  fourOhFour.js              |     100 |      100 |     100 |     100 |                             
  handleRequest.js           |   98.48 |    98.03 |     100 |   98.41 | 97                          
  headRoute.js               |      20 |     12.5 |   33.33 |   14.28 | 4-21,26                     
  hooks.js                   |     100 |      100 |     100 |     100 |                             
  initialConfigValidation.js |     100 |      100 |     100 |     100 |                             
  logger.js                  |     100 |      100 |     100 |     100 |                             
  noop-set.js                |     100 |      100 |     100 |     100 |                             
  pluginOverride.js          |   97.56 |       90 |     100 |    97.5 | 75                          
  pluginUtils.js             |     100 |      100 |     100 |     100 |                             
  reply.js                   |    87.7 |    84.86 |   88.88 |   88.76 | ...-618,622-627,648-654,659 
  reqIdGenFactory.js         |     100 |      100 |     100 |     100 |                             
  request.js                 |   87.96 |    90.62 |      80 |   89.42 | 45-54,157-167,206,211       
  route.js                   |   88.84 |    88.04 |     100 |   88.69 | ...,355-362,396-397,461,465 
  schema-controller.js       |    92.3 |    79.41 |   84.61 |    92.3 | 23,58,71                    
  schemas.js                 |   92.64 |    93.65 |   88.88 |   94.02 | 28,32,43,147                
  server.js                  |     100 |      100 |     100 |     100 |                             
  symbols.js                 |     100 |      100 |     100 |     100 |                             
  validation.js              |   98.55 |    96.55 |     100 |   98.43 | 22                          
  warnings.js                |     100 |      100 |     100 |     100 |                             
  wrapThenable.js            |   93.33 |       90 |     100 |   93.33 | 11                          
-----------------------------|---------|----------|---------|---------|-----------------------------

> fastify@4.3.0 lint:typescript
> eslint -c types/.eslintrc.json types/**/*.d.ts test/types/**/*.test-d.ts


> fastify@4.3.0 lint:markdown
> markdownlint-cli2

markdownlint-cli2 v0.4.0 (markdownlint v0.25.1)

> fastify@4.3.0 unit
> tap

TAP version 13
# Subtest: test/404s.test.js
    # Subtest: default 404
        1..4
        ok 1 - should not error
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - unsupported method # time=28.932ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - framework-unsupported method # time=6.046ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - unsupported route # time=5.114ms
        
    ok 1 - default 404 # time=253.32ms
    
    # Subtest: customized 404
        1..6
        ok 1 - should not error
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - unsupported method # time=10.144ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - framework-unsupported method # time=3.668ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - unsupported route # time=3.662ms
        
        # Subtest: with error object
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - with error object # time=11.908ms
        
        # Subtest: error object with headers property
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 6 - error object with headers property # time=6.815ms
        
    ok 2 - customized 404 # time=49.445ms
    
    # Subtest: custom header in notFound handler
        1..2
        ok 1 - should not error
        # Subtest: not found with custom header
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
        ok 2 - not found with custom header # time=20.782ms
        
    ok 3 - custom header in notFound handler # time=44.776ms
    
    # Subtest: setting a custom 404 handler multiple times is an error
        1..5
        # Subtest: at the root level
            1..2
            ok 1 - type is Error
            ok 2 - should be equal
        ok 1 - at the root level # time=2.89ms
        
        # Subtest: at the plugin level
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 2 - at the plugin level # time=37.234ms
        
        # Subtest: at multiple levels
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 3 - at multiple levels # time=12.928ms
        
        # Subtest: at multiple levels / 2
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 4 - at multiple levels / 2 # time=30.756ms
        
        # Subtest: in separate plugins at the same level
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 5 - in separate plugins at the same level # time=15.346ms
        
    ok 4 - setting a custom 404 handler multiple times is an error # time=109.523ms
    
    # Subtest: encapsulated 404
        1..13
        ok 1 - should not error
        # Subtest: root unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - root unsupported method # time=47.018ms
        
        # Subtest: root framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - root framework-unsupported method # time=4.409ms
        
        # Subtest: root unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - root unsupported route # time=4.387ms
        
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 5 - unsupported method # time=4.916ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 6 - framework-unsupported method # time=4.742ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 7 - unsupported route # time=4.26ms
        
        # Subtest: unsupported method 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 8 - unsupported method 2 # time=4.734ms
        
        # Subtest: framework-unsupported method 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 9 - framework-unsupported method 2 # time=4.329ms
        
        # Subtest: unsupported route 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 10 - unsupported route 2 # time=4.337ms
        
        # Subtest: unsupported method 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 11 - unsupported method 3 # time=4.683ms
        
        # Subtest: framework-unsupported method 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 12 - framework-unsupported method 3 # time=4.149ms
        
        # Subtest: unsupported route 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 13 - unsupported route 3 # time=4.222ms
        
    ok 5 - encapsulated 404 # time=167.409ms
    
    # Subtest: custom 404 hook and handler context
        1..21
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should not error
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equal
    ok 6 - custom 404 hook and handler context # time=75.96ms
    
    # Subtest: encapsulated custom 404 without - prefix hook and handler context
        1..13
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equal
    ok 7 - encapsulated custom 404 without - prefix hook and handler context # time=11.103ms
    
    # Subtest: run hooks on default 404
        1..7
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - preHandler called
        ok 4 - onSend called
        ok 5 - onResponse called
        ok 6 - should not error
        ok 7 - should be equal
    ok 8 - run hooks on default 404 # time=10.852ms
    
    # Subtest: run non-encapsulated plugin hooks on default 404
        1..6
        ok 1 - onRequest called
        ok 2 - preHandler called
        ok 3 - onSend called
        ok 4 - onResponse called
        ok 5 - should not error
        ok 6 - should be equal
    ok 9 - run non-encapsulated plugin hooks on default 404 # time=10.065ms
    
    # Subtest: run non-encapsulated plugin hooks on custom 404
        1..11
        ok 1 - onRequest called
        ok 2 - onRequest called
        ok 3 - preHandler called
        ok 4 - preHandler called
        ok 5 - onSend called
        ok 6 - onSend called
        ok 7 - onResponse called
        ok 8 - onResponse called
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
    ok 10 - run non-encapsulated plugin hooks on custom 404 # time=11.001ms
    
    # Subtest: run hook with encapsulated 404
        1..11
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - onRequest 2 called
        ok 4 - preHandler called
        ok 5 - preHandler 2 called
        ok 6 - onSend called
        ok 7 - onSend 2 called
        ok 8 - onResponse called
        ok 9 - onResponse 2 called
        ok 10 - should not error
        ok 11 - should be equal
    ok 11 - run hook with encapsulated 404 # time=14.545ms
    
    # Subtest: run hook with encapsulated 404 and framework-unsupported method
        1..11
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - onRequest 2 called
        ok 4 - preHandler called
        ok 5 - preHandler 2 called
        ok 6 - onSend called
        ok 7 - onSend 2 called
        ok 8 - onResponse called
        ok 9 - onResponse 2 called
        ok 10 - should not error
        ok 11 - should be equal
    ok 12 - run hook with encapsulated 404 and framework-unsupported method # time=24.445ms
    
    # Subtest: hooks check 404
        1..13
        ok 1 - should not error
        ok 2 - onRequest
        ok 3 - should be equivalent
        ok 4 - onSend
        ok 5 - onResponse
        ok 6 - onRequest
        ok 7 - should be equivalent
        ok 8 - onSend
        ok 9 - onResponse
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should not error
        ok 13 - should be equal
    ok 13 - hooks check 404 # time=28.202ms
    
    # Subtest: setNotFoundHandler should not suppress duplicated routes checking
        1..1
        ok 1 - expect truthy value
    ok 14 - setNotFoundHandler should not suppress duplicated routes checking # time=3.623ms
    
    # Subtest: log debug for 404
        1..1
        # Subtest: log debug
            1..7
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
        ok 1 - log debug # time=8.036ms
        
    ok 15 - log debug for 404 # time=14.906ms
    
    # Subtest: Unknown method
        1..5
        ok 1 - should not error
        ok 2 - expected to throw
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent strictly
    ok 16 - Unknown method # time=31.937ms
    
    # Subtest: recognizes errors from the http-errors module
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent strictly
    ok 17 - recognizes errors from the http-errors module # time=21.123ms
    
    # Subtest: the default 404 handler can be invoked inside a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
    ok 18 - the default 404 handler can be invoked inside a prefixed plugin # time=6.797ms
    
    # Subtest: an inherited custom 404 handler can be invoked inside a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - an inherited custom 404 handler can be invoked inside a prefixed plugin # time=6.593ms
    
    # Subtest: encapsulated custom 404 handler without a prefix is the handler for the entire 404 level
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 20 - encapsulated custom 404 handler without a prefix is the handler for the entire 404 level # time=10.389ms
    
    # Subtest: cannot set notFoundHandler after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 21 - cannot set notFoundHandler after binding # time=4.522ms
    
    # Subtest: 404 inside onSend
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 22 - 404 inside onSend # time=6.979ms
    
    # Subtest: onSend hooks run when an encapsulated route invokes the notFound handler
        1..3
        ok 1 - onSend hook called
        ok 2 - should not error
        ok 3 - should be equal
    ok 23 - onSend hooks run when an encapsulated route invokes the notFound handler # time=5.622ms
    
    # Subtest: preHandler option for setNotFoundHandler
        1..10
        # Subtest: preHandler option
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 1 - preHandler option # time=37.65ms
        
        # Subtest: preHandler hook in setNotFoundHandler should be called when callNotFound
            1..3
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 2 - preHandler hook in setNotFoundHandler should be called when callNotFound # time=21.466ms
        
        # Subtest: preHandler hook in setNotFoundHandler should accept an array of functions and be called when callNotFound
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 3 - preHandler hook in setNotFoundHandler should accept an array of functions and be called when callNotFound # time=5.863ms
        
        # Subtest: preHandler option should be called after preHandler hook
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 4 - preHandler option should be called after preHandler hook # time=5.441ms
        
        # Subtest: preHandler option should be unique per prefix
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 5 - preHandler option should be unique per prefix # time=11.254ms
        
        # Subtest: preHandler option should handle errors
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 6 - preHandler option should handle errors # time=5.609ms
        
        # Subtest: preHandler option should handle errors with custom status code
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 7 - preHandler option should handle errors with custom status code # time=5.558ms
        
        # Subtest: preHandler option could accept an array of functions
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 8 - preHandler option could accept an array of functions # time=4.839ms
        
        # Subtest: preHandler option does not interfere with preHandler
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 9 - preHandler option does not interfere with preHandler # time=9.662ms
        
        # Subtest: preHandler option should keep the context
            1..3
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 10 - preHandler option should keep the context # time=5.413ms
        
    ok 24 - preHandler option for setNotFoundHandler # time=125.138ms
    
    # Subtest: reply.notFound invoked the notFound handler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - reply.notFound invoked the notFound handler # time=5.363ms
    
    # Subtest: The custom error handler should be invoked after the custom not found handler
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - type is Error
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 26 - The custom error handler should be invoked after the custom not found handler # time=6.826ms
    
    # Subtest: If the custom not found handler does not use an Error, the custom error handler should not be called
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 27 - If the custom not found handler does not use an Error, the custom error handler should not be called # time=4.824ms
    
    # Subtest: preValidation option
        1..3
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 28 - preValidation option # time=5.262ms
    
    # Subtest: preValidation option could accept an array of functions
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 29 - preValidation option could accept an array of functions # time=5.318ms
    
    # Subtest: Should fail to invoke callNotFound inside a 404 handler
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 30 - Should fail to invoke callNotFound inside a 404 handler # time=6.995ms
    
    # Subtest: 400 in case of bad url (pre find-my-way v2.2.0 was a 404)
        # Subtest: Dynamic route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 1 - Dynamic route # time=19.608ms
        
        # Subtest: Wildcard
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - Wildcard # time=5.649ms
        
        # Subtest: No route registered
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - No route registered # time=4.982ms
        
        # Subtest: Only / is registered
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - Only / is registered # time=25.241ms
        
        # Subtest: customized 404
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - customized 404 # time=10.461ms
        
        1..5
    ok 31 - 400 in case of bad url (pre find-my-way v2.2.0 was a 404) # time=80.726ms
    
    # Subtest: setNotFoundHandler should be chaining fastify instance
        # Subtest: Register route after setNotFoundHandler
            1..6
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should not error
            ok 5 - should be equal
            ok 6 - should be equal
        ok 1 - Register route after setNotFoundHandler # time=24.391ms
        
        1..1
    ok 32 - setNotFoundHandler should be chaining fastify instance # time=30.089ms
    
    # Subtest: Send 404 when frameworkError calls reply.callNotFound
        # Subtest: Dynamic route
            1..4
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 1 - Dynamic route # time=5.36ms
        
        1..1
    ok 33 - Send 404 when frameworkError calls reply.callNotFound # time=10.269ms
    
    1..33
    # time=1237.909ms
ok 1 - test/404s.test.js # time=1237.909ms

# Subtest: test/500s.test.js
    # Subtest: default 500
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - default 500 # time=108.635ms
    
    # Subtest: custom 500
        1..6
        ok 1 - type is object
        ok 2 - type is Request
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 2 - custom 500 # time=11.855ms
    
    # Subtest: encapsulated 500
        1..10
        ok 1 - type is object
        ok 2 - type is Request
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 3 - encapsulated 500 # time=30.838ms
    
    # Subtest: custom 500 with hooks
        1..7
        ok 1 - onRequest
        ok 2 - onSend
        ok 3 - onResponse
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 4 - custom 500 with hooks # time=17.294ms
    
    # Subtest: cannot set errorHandler after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 5 - cannot set errorHandler after binding # time=23.831ms
    
    1..5
    # time=207.248ms
ok 2 - test/500s.test.js # time=207.248ms

# Subtest: test/allowUnsafeRegex.test.js
    # Subtest: allow unsafe regex
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - allow unsafe regex # time=80.696ms
    
    # Subtest: allow unsafe regex not match
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 2 - allow unsafe regex not match # time=12.042ms
    
    # Subtest: allow unsafe regex not safe
        1..1
        ok 1 - expected to throw
    ok 3 - allow unsafe regex not safe # time=91.824ms
    
    # Subtest: allow unsafe regex not safe by default
        1..1
        ok 1 - expected to throw
    ok 4 - allow unsafe regex not safe by default # time=3.064ms
    
    # Subtest: allow unsafe regex allow unsafe
        1..5
        ok 1 - expected to not throw
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 5 - allow unsafe regex allow unsafe # time=29.856ms
    
    1..5
    # time=248.522ms
ok 3 - test/allowUnsafeRegex.test.js # time=248.522ms

# Subtest: test/als.test.js
    ok 1 - should not error
    ok 2 - expect truthy value
    ok 3 - should not error
    ok 4 - should be equal
    ok 5 - should be equivalent
    ok 6 - expect truthy value
    ok 7 - should not error
    ok 8 - should be equal
    ok 9 - should be equivalent
    ok 10 - expect truthy value
    ok 11 - should not error
    ok 12 - should be equal
    ok 13 - should be equivalent
    1..13
    # time=47.502ms
ok 4 - test/als.test.js # time=47.502ms

# Subtest: test/async-await.test.js
    # Subtest: async await
        1..11
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        not ok 3 - Failed building the serialization schema for GET: /, due to error Cannot read properties of undefined (reading 'forEach')
          ---
          origin:
            at:
              line: 328
              column: 21
              file: lib/route.js
              function: Boot.<anonymous>
            stack: |
              Boot.<anonymous> (lib/route.js:328:21)
              node_modules/avvio/boot.js:160:12
              node_modules/avvio/plugin.js:275:7
              done (node_modules/avvio/plugin.js:200:5)
              check (node_modules/avvio/plugin.js:224:9)
            type: FastifyError
            code: FST_ERR_SCH_SERIALIZATION_BUILD
            statusCode: 500
            source: >2
                          } catch (error) {
                            throw new FST_ERR_SCH_SERIALIZATION_BUILD(opts.method, url, error.message)
              --------------------^
                          }
                        }
          found:
            !error
            name: FastifyError
            message: "Failed building the serialization schema for GET: /, due to error
              Cannot read properties of undefined (reading 'forEach')"
            stack: >-
              FastifyError: 
                  at Boot.<anonymous> (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/lib/route.js:328:21)
                  at Object.onceWrapper (node:events:627:28)
                  at Boot.emit (node:events:525:35)
                  at /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/boot.js:160:12
                  at /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/plugin.js:275:7
                  at done (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/plugin.js:200:5)
                  at check (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/plugin.js:224:9)
                  at node:internal/process/task_queues:141:7
                  at AsyncResource.runInAsyncScope (node:async_hooks:203:9)
                  at AsyncResource.runMicrotask (node:internal/process/task_queues:138:8)
            code: FST_ERR_SCH_SERIALIZATION_BUILD
            statusCode: 500
          at:
            line: 50
            column: 7
            file: test/async-await.test.js
          stack: |
            cb (test/async-await.test.js:50:7)
            Object.cb (lib/server.js:61:11)
            cb (lib/server.js:173:43)
            manageErr (fastify.js:538:11)
            fastify.js:520:11
            Object._encapsulateThreeParam (node_modules/avvio/boot.js:557:7)
            Boot.timeoutCall (node_modules/avvio/boot.js:453:5)
            Boot.callWithCbOrNextTick (node_modules/avvio/boot.js:435:19)
            release (node_modules/fastq/queue.js:149:16)
            Object.resume (node_modules/fastq/queue.js:82:7)
            node_modules/avvio/boot.js:174:18
            node_modules/avvio/plugin.js:275:7
            done (node_modules/avvio/plugin.js:200:5)
            check (node_modules/avvio/plugin.js:224:9)
          source: |2
              fastify.listen({ port: 0 }, err => {
                t.error(err)
            ------^
                t.teardown(() => { fastify.close() })
          ...
        
        not ok 4 - test unfinished
          ---
          stack: |
            Object.<anonymous> (test/async-await.test.js:27:1)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          test: async await
          at:
            line: 27
            column: 1
            file: test/async-await.test.js
            function: Object.<anonymous>
          source: |
          
            test('async await', t => {
            ^
              t.plan(11)
              const fastify = Fastify()
          ...
        
        # test count(4) != plan(11)
        # failed 2 of 4 tests
    not ok 1 - async await # time=239.1ms
    
    not ok 2 - child test left in queue: t.test ignore the result of the promise if reply.send is called beforehand (undefined)
    not ok 3 - child test left in queue: t.test ignore the result of the promise if reply.send is called beforehand (object)
    not ok 4 - child test left in queue: t.test server logs an error if reply.send is called and a value is returned via async/await
    not ok 5 - child test left in queue: t.test ignore the result of the promise if reply.send is called beforehand (undefined)
    not ok 6 - child test left in queue: t.test ignore the result of the promise if reply.send is called beforehand (object)
    not ok 7 - child test left in queue: t.test await reply if we will be calling reply.send in the future
    not ok 8 - child test left in queue: t.test await reply if we will be calling reply.send in the future (error case)
    not ok 9 - child test left in queue: t.test support reply decorators with await
    not ok 10 - child test left in queue: t.test inject async await
    not ok 11 - child test left in queue: t.test inject async await - when the server equal up
    not ok 12 - child test left in queue: t.test async await plugin
    not ok 13 - child test left in queue: t.test does not call reply.send() twice if 204 response equal already sent
    not ok 14 - child test left in queue: t.test promise was fulfilled with undefined
    not ok 15 - child test left in queue: t.test error is not logged because promise was fulfilled with undefined but response was sent before promise resolution
    not ok 16 - child test left in queue: t.test Thrown Error instance sets HTTP status code
    not ok 17 - child test left in queue: t.test customErrorHandler support
    not ok 18 - child test left in queue: t.test customErrorHandler support without throwing
    not ok 19 - child test left in queue: t.test customErrorHandler only called if reply not already sent
    not ok 20 - child test left in queue: t.test setNotFoundHandler should accept return value
    not ok 21 - child test left in queue: t.test customErrorHandler should accept return value
    not ok 22 - child test left in queue: t.test await self
    1..1
    # test count(22) != plan(1)
    # failed 43 of 22 tests
    # time=246.437ms
not ok 5 - test/async-await.test.js # time=246.437ms
  ---
  env: {}
  file: test/async-await.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/async-await.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify
  failures:
    - &a1
      id: 2
      name: "child test left in queue: t.test ignore the result of the promise if
        reply.send is called beforehand (undefined)"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a2
      id: 3
      name: "child test left in queue: t.test ignore the result of the promise if
        reply.send is called beforehand (object)"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a3
      id: 4
      name: "child test left in queue: t.test server logs an error if reply.send is
        called and a value is returned via async/await"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a4
      id: 5
      name: "child test left in queue: t.test ignore the result of the promise if
        reply.send is called beforehand (undefined)"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a5
      id: 6
      name: "child test left in queue: t.test ignore the result of the promise if
        reply.send is called beforehand (object)"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a6
      id: 7
      name: "child test left in queue: t.test await reply if we will be calling
        reply.send in the future"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a7
      id: 8
      name: "child test left in queue: t.test await reply if we will be calling
        reply.send in the future (error case)"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a8
      id: 9
      name: "child test left in queue: t.test support reply decorators with await"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a9
      id: 10
      name: "child test left in queue: t.test inject async await"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a10
      id: 11
      name: "child test left in queue: t.test inject async await - when the server
        equal up"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a11
      id: 12
      name: "child test left in queue: t.test async await plugin"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a12
      id: 13
      name: "child test left in queue: t.test does not call reply.send() twice if 204
        response equal already sent"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a13
      id: 14
      name: "child test left in queue: t.test promise was fulfilled with undefined"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a14
      id: 15
      name: "child test left in queue: t.test error is not logged because promise was
        fulfilled with undefined but response was sent before promise resolution"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a15
      id: 16
      name: "child test left in queue: t.test Thrown Error instance sets HTTP status
        code"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a16
      id: 17
      name: "child test left in queue: t.test customErrorHandler support"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a17
      id: 18
      name: "child test left in queue: t.test customErrorHandler support without
        throwing"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a18
      id: 19
      name: "child test left in queue: t.test customErrorHandler only called if reply
        not already sent"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a19
      id: 20
      name: "child test left in queue: t.test setNotFoundHandler should accept return
        value"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a20
      id: 21
      name: "child test left in queue: t.test customErrorHandler should accept return
        value"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a21
      id: 22
      name: "child test left in queue: t.test await self"
      fullname: test/async-await.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - *a1
    - *a2
    - *a3
    - *a4
    - *a5
    - *a6
    - *a7
    - *a8
    - *a9
    - *a10
    - *a11
    - *a12
    - *a13
    - *a14
    - *a15
    - *a16
    - *a17
    - *a18
    - *a19
    - *a20
    - *a21
  exitCode: 1
  ...

# Subtest: test/bodyLimit.test.js
    # Subtest: bodyLimit
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should not error
        ok 5 - should be equal
    ok 1 - bodyLimit # time=66.205ms
    
    1..1
    # time=73.366ms
ok 6 - test/bodyLimit.test.js # time=73.366ms

# Subtest: test/build/error-serializer.test.js
    1..0 # no tests found
not ok 7 - test/build/error-serializer.test.js # time=1010.292ms
  ---
  env: {}
  file: test/build/error-serializer.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/build/error-serializer.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify
  exitCode: 1
  ...

# Subtest: test/build/version.test.js
    # Subtest: should be the same as package.json
        1..1
        ok 1 - should be equal
    ok 1 - should be the same as package.json # time=6.968ms
    
    1..1
    # time=13.786ms
ok 8 - test/build/version.test.js # time=13.786ms

# Subtest: test/case-insensitive.test.js
    # Subtest: case insensitive
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - case insensitive # time=68.132ms
    
    # Subtest: case insensitive inject
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - case insensitive inject # time=34.706ms
    
    # Subtest: case insensitive (parametric)
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 3 - case insensitive (parametric) # time=11.868ms
    
    # Subtest: case insensitive (wildcard)
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 4 - case insensitive (wildcard) # time=27.308ms
    
    1..4
    # time=161.457ms
ok 9 - test/case-insensitive.test.js # time=161.457ms

# Subtest: test/chainable.test.js
    # Subtest: chainable - get
        1..1
        ok 1 - type is [object Object]
    ok 1 - chainable - get # time=9.893ms
    
    # Subtest: chainable - post
        1..1
        ok 1 - type is [object Object]
    ok 2 - chainable - post # time=2.116ms
    
    # Subtest: chainable - route
        1..1
        ok 1 - type is [object Object]
    ok 3 - chainable - route # time=2.234ms
    
    1..3
    # time=26.374ms
ok 10 - test/chainable.test.js # time=26.374ms

# Subtest: test/close-pipelining.test.js
    # Subtest: Should return 503 while closing - pipelining
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        1..3
    ok 1 - Should return 503 while closing - pipelining # time=146.268ms
    
    # Subtest: Should not return 503 while closing - pipelining - return503OnClosing
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        1..3
    ok 2 - Should not return 503 while closing - pipelining - return503OnClosing # time=48.467ms
    
    1..2
    # time=213.736ms
ok 11 - test/close-pipelining.test.js # time=213.736ms

# Subtest: test/close.test.js
    # Subtest: close callback
        1..4
        ok 1 - should not error
        ok 2 - type is [object Object]
        ok 3 - should not error
        ok 4 - expect truthy value
    ok 1 - close callback # time=176.295ms
    
    # Subtest: inside register
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - expect truthy value
    ok 2 - inside register # time=14.517ms
    
    # Subtest: close order
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 3 - close order # time=24.792ms
    
    # Subtest: close order - async
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 4 - close order - async # time=10.743ms
    
    # Subtest: should not throw an error if the server is not listening
        1..2
        ok 1 - type is [object Object]
        ok 2 - should not error
    ok 5 - should not throw an error if the server is not listening # time=4.346ms
    
    # Subtest: onClose should keep the context
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
    ok 6 - onClose should keep the context # time=9.74ms
    
    # Subtest: Should return error while closing (promise) - injection
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 7 - Should return error while closing (promise) - injection # time=57.404ms
    
    # Subtest: Should return error while closing (callback) - injection
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 8 - Should return error while closing (callback) - injection # time=138.893ms
    
    # Subtest: Current opened connection should continue to work after closing and return "connection: close" header - return503OnClosing: false
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        1..5
    ok 9 - Current opened connection should continue to work after closing and return "connection: close" header - return503OnClosing: false # time=26.625ms
    
    # Subtest: Current opened connection should not accept new incoming connections
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 10 - Current opened connection should not accept new incoming connections # time=270.411ms
    
    # Subtest: Cannot be reopened the closed server without listen callback
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 11 - Cannot be reopened the closed server without listen callback # time=18.25ms
    
    # Subtest: Cannot be reopened the closed server has listen callback
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 12 - Cannot be reopened the closed server has listen callback # time=5.181ms
    
    ok 13 - shutsdown while keep-alive connections are active (non-async, native) # SKIP
    ok 14 - shutsdown while keep-alive connections are active (non-async, idle, native) # SKIP
    # Subtest: shutsdown while keep-alive connections are active (non-async, custom)
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 15 - shutsdown while keep-alive connections are active (non-async, custom) # time=9.853ms
    
    1..15
    # skip: 2
    # time=788.652ms
ok 12 - test/close.test.js # time=788.652ms

# Subtest: test/connectionTimeout.test.js
    # Subtest: connectionTimeout
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 1 - connectionTimeout # time=26.008ms
    
    1..1
    # time=29.957ms
ok 13 - test/connectionTimeout.test.js # time=29.957ms

# Subtest: test/constrained-routes.test.js
    # Subtest: Should register a host constrained route
        1..7
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 1 - Should register a host constrained route # time=98.808ms
    
    # Subtest: Should register the same route with host constraints
        1..8
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 2 - Should register the same route with host constraints # time=12.124ms
    
    # Subtest: Should allow registering custom constrained routes
        1..8
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 3 - Should allow registering custom constrained routes # time=33.36ms
    
    # Subtest: Should allow registering custom constrained routes outside constructor
        1..8
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 4 - Should allow registering custom constrained routes outside constructor # time=19.136ms
    
    # Subtest: Add a constraint strategy after fastify instance was started
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - Cannot add constraint strategy when fastify instance is already started!
    ok 5 - Add a constraint strategy after fastify instance was started # time=7.264ms
    
    # Subtest: Add a constraint strategy should throw an error if there already exist custom strategy with the same name
        1..1
        ok 1 - There already exists a custom constraint with the name secret.
    ok 6 - Add a constraint strategy should throw an error if there already exist custom strategy with the same name # time=7.842ms
    
    # Subtest: Add a constraint strategy shouldn't throw an error if default constraint with the same name isn't used
        1..1
        ok 1 - (unnamed test)
    ok 7 - Add a constraint strategy shouldn't throw an error if default constraint with the same name isn't used # time=1.343ms
    
    # Subtest: Add a constraint strategy should throw an error if default constraint with the same name is used
        1..1
        ok 1 - There already exists a route with version constraint.
    ok 8 - Add a constraint strategy should throw an error if default constraint with the same name is used # time=2.355ms
    
    # Subtest: The hasConstraintStrategy should return false for default constraints until they are used
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 9 - The hasConstraintStrategy should return false for default constraints until they are used # time=4.367ms
    
    # Subtest: The hasConstraintStrategy should return true if there already exist a custom constraint with the same name
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 10 - The hasConstraintStrategy should return true if there already exist a custom constraint with the same name # time=2.386ms
    
    # Subtest: Should allow registering an unconstrained route after a constrained route
        1..6
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
    ok 11 - Should allow registering an unconstrained route after a constrained route # time=8.816ms
    
    # Subtest: Should allow registering constrained routes in a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 12 - Should allow registering constrained routes in a prefixed plugin # time=21.041ms
    
    # Subtest: Should allow registering a constrained GET route after a constrained HEAD route
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 13 - Should allow registering a constrained GET route after a constrained HEAD route # time=13.696ms
    
    # Subtest: Should allow registering a constrained GET route after an unconstrained HEAD route
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 14 - Should allow registering a constrained GET route after an unconstrained HEAD route # time=16.348ms
    
    # Subtest: Will not try to re-createprefixed HEAD route if it already exists and exposeHeadRoutes is true for constrained routes
        1..1
        ok 1 - expect truthy value
    ok 15 - Will not try to re-createprefixed HEAD route if it already exists and exposeHeadRoutes is true for constrained routes # time=6.167ms
    
    # Subtest: allows separate constrained and unconstrained HEAD routes
        1..1
        ok 1 - expect truthy value
    ok 16 - allows separate constrained and unconstrained HEAD routes # time=5.193ms
    
    1..16
    # time=273.445ms
ok 14 - test/constrained-routes.test.js # time=273.445ms

# Subtest: test/content-length.test.js
    # Subtest: default 413 with bodyLimit option
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - default 413 with bodyLimit option # time=84.845ms
    
    # Subtest: default 400 with wrong content-length
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - default 400 with wrong content-length # time=14.341ms
    
    # Subtest: custom 413 with bodyLimit option
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 3 - custom 413 with bodyLimit option # time=28.174ms
    
    # Subtest: custom 400 with wrong content-length
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 4 - custom 400 with wrong content-length # time=8.227ms
    
    # Subtest: \#2214 - wrong content-length
        ok 1 - should be equal
        1..1
    ok 5 - \#2214 - wrong content-length # time=8.69ms
    
    # Subtest: \#2543 - wrong content-length with errorHandler
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 6 - \#2543 - wrong content-length with errorHandler # time=29.534ms
    
    1..6
    # time=183.946ms
ok 15 - test/content-length.test.js # time=183.946ms

# Subtest: test/content-parser.test.js
    # Subtest: hasContentTypeParser
        1..0
    ok 1 - hasContentTypeParser # time=12.104ms
    
    # Subtest: should know about internal parsers
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
    ok 2 - should know about internal parsers # time=36.374ms
    
    # Subtest: should work with string and RegExp
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect falsey value
    ok 3 - should work with string and RegExp # time=5.869ms
    
    # Subtest: getParser
        1..0
    ok 4 - getParser # time=93.005ms
    
    # Subtest: existingParser
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect falsey value
        1..7
    ok 5 - existingParser # time=14.28ms
    
    # Subtest: add
        1..0
    ok 6 - add # time=18.381ms
    
    # Subtest: non-Error thrown from content parser is properly handled
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 7 - non-Error thrown from content parser is properly handled # time=37.043ms
    
    # Subtest: Error thrown 415 from content type is null and make post request to server
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 8 - Error thrown 415 from content type is null and make post request to server # time=17.246ms
    
    # Subtest: remove
        1..0
    ok 9 - remove # time=25.136ms
    
    # Subtest: remove all should remove all existing parsers and reset cache
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
    ok 10 - remove all should remove all existing parsers and reset cache # time=5.007ms
    
    # Subtest: should return matching parser
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 11 - should return matching parser # time=2.212ms
    
    # Subtest: should return matching parser with caching
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 12 - should return matching parser with caching # time=1.929ms
    
    # Subtest: should prefer content type parser with string value
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 13 - should prefer content type parser with string value # time=2.076ms
    
    # Subtest: should return parser that catches all if no other is set
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 14 - should return parser that catches all if no other is set # time=2.773ms
    
    # Subtest: should return undefined if no matching parser exist
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 15 - should return undefined if no matching parser exist # time=2.135ms
    
    # Subtest: returns always false for "*"
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 16 - returns always false for "*" # time=1.478ms
    
    # Subtest: let you override the default parser once
        1..2
        ok 1 - Content type parser 'application/json' already present
        ok 2 - Content type parser 'text/plain' already present
    ok 17 - let you override the default parser once # time=4.765ms
    
    # Subtest: should only accept string and RegExp
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - The content type should be a string or a RegExp
        ok 4 - The content type should be a string or a RegExp
    ok 18 - should only accept string and RegExp # time=3.185ms
    
    # Subtest: should set "*" as parser that catches all
        1..1
        ok 1 - should be equal
    ok 19 - should set "*" as parser that catches all # time=1.191ms
    
    # Subtest: should remove default parser
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 20 - should remove default parser # time=1.384ms
    
    # Subtest: should remove RegExp parser
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 21 - should remove RegExp parser # time=1.329ms
    
    # Subtest: should throw an error if content type is neither string nor RegExp
        1..1
        ok 1 - expected to throw
    ok 22 - should throw an error if content type is neither string nor RegExp # time=1.575ms
    
    # Subtest: should not throw error if content type does not exist
        1..1
        ok 1 - expected to not throw
    ok 23 - should not throw error if content type does not exist # time=1.335ms
    
    # Subtest: should not remove any content type parser if content type does not exist
        1..1
        ok 1 - should be equivalent
    ok 24 - should not remove any content type parser if content type does not exist # time=1.798ms
    
    1..24
    # time=318.436ms
ok 16 - test/content-parser.test.js # time=318.436ms

# Subtest: test/context-config.test.js
    # Subtest: config
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 1 - config # time=82.171ms
    
    # Subtest: config with exposeHeadRoutes
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 2 - config with exposeHeadRoutes # time=16.177ms
    
    # Subtest: config without exposeHeadRoutes
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 3 - config without exposeHeadRoutes # time=40.298ms
    
    1..3
    # time=151.826ms
ok 17 - test/context-config.test.js # time=151.826ms

# Subtest: test/custom-http-server.test.js
    # Subtest: Should support a custom http server
        1..4
        ok 1 - it is called twice for every HOST interface
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - Should support a custom http server # time=65.87ms
    
    # Subtest: Should not allow forceCloseConnection=idle if the server does not support closeIdleConnections
        1..1
        ok 1 - Cannot set forceCloseConnections to 'idle' as your HTTP server does not support closeIdleConnections method
    ok 2 - Should not allow forceCloseConnection=idle if the server does not support closeIdleConnections # time=3.632ms
    
    1..2
    # time=76.908ms
ok 18 - test/custom-http-server.test.js # time=76.908ms

# Subtest: test/custom-parser-async.test.js
    # Subtest: contentTypeParser should add a custom async parser
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=29.831ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=11.286ms
        
    ok 1 - contentTypeParser should add a custom async parser # time=104.414ms
    
    1..1
    # time=110.582ms
ok 19 - test/custom-parser-async.test.js # time=110.582ms

# Subtest: test/custom-parser.test.js
    # Subtest: contentTypeParser method should exist
        1..1
        ok 1 - expect truthy value
    ok 1 - contentTypeParser method should exist # time=15.019ms
    
    # Subtest: contentTypeParser should add a custom parser
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=29.984ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=7.357ms
        
    ok 2 - contentTypeParser should add a custom parser # time=192.106ms
    
    # Subtest: contentTypeParser should handle multiple custom parsers
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 3 - contentTypeParser should handle multiple custom parsers # time=16.053ms
    
    # Subtest: contentTypeParser should handle an array of custom contentTypes
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 4 - contentTypeParser should handle an array of custom contentTypes # time=46.172ms
    
    # Subtest: contentTypeParser should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 5 - contentTypeParser should handle errors # time=10.075ms
    
    # Subtest: contentTypeParser should support encapsulation
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - expect falsey value
        ok 6 - expect falsey value
    ok 6 - contentTypeParser should support encapsulation # time=8.072ms
    
    # Subtest: contentTypeParser should support encapsulation, second try
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - contentTypeParser should support encapsulation, second try # time=21.037ms
    
    # Subtest: contentTypeParser shouldn't support request with undefined "Content-Type"
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 8 - contentTypeParser shouldn't support request with undefined "Content-Type" # time=17.071ms
    
    # Subtest: the content type should be a string or RegExp
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 9 - the content type should be a string or RegExp # time=2.872ms
    
    # Subtest: the content type cannot be an empty string
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 10 - the content type cannot be an empty string # time=3.195ms
    
    # Subtest: the content type handler should be a function
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 11 - the content type handler should be a function # time=2.389ms
    
    # Subtest: catch all content type parser
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 12 - catch all content type parser # time=12.429ms
    
    # Subtest: catch all content type parser should not interfere with other conte type parsers
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 13 - catch all content type parser should not interfere with other conte type parsers # time=14.842ms
    
    # Subtest: '*' catch undefined Content-Type requests
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - '*' catch undefined Content-Type requests # time=18.563ms
    
    # Subtest: cannot add custom parser after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 15 - cannot add custom parser after binding # time=5.946ms
    
    # Subtest: Can override the default json parser
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 16 - Can override the default json parser # time=11.987ms
    
    # Subtest: Can override the default plain text parser
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 17 - Can override the default plain text parser # time=10.099ms
    
    # Subtest: Can override the default json parser in a plugin
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 18 - Can override the default json parser in a plugin # time=9.931ms
    
    # Subtest: Can't override the json parser multiple times
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 19 - Can't override the json parser multiple times # time=1.977ms
    
    # Subtest: Can't override the plain text parser multiple times
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 20 - Can't override the plain text parser multiple times # time=1.882ms
    
    # Subtest: Should get the body as string
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 21 - Should get the body as string # time=8.824ms
    
    # Subtest: Should return defined body with no custom parser defined and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 22 - Should return defined body with no custom parser defined and content type = 'text/plain' # time=9.059ms
    
    # Subtest: Should have typeof body object with no custom parser defined, no body defined and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 23 - Should have typeof body object with no custom parser defined, no body defined and content type = 'text/plain' # time=6.875ms
    
    # Subtest: Should have typeof body object with no custom parser defined, null body and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 24 - Should have typeof body object with no custom parser defined, null body and content type = 'text/plain' # time=7.46ms
    
    # Subtest: Should have typeof body object with no custom parser defined, undefined body and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 25 - Should have typeof body object with no custom parser defined, undefined body and content type = 'text/plain' # time=6.932ms
    
    # Subtest: Should get the body as string
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 26 - Should get the body as string # time=7.191ms
    
    # Subtest: Should get the body as buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 27 - Should get the body as buffer # time=19.549ms
    
    # Subtest: Should get the body as buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 28 - Should get the body as buffer # time=7.478ms
    
    # Subtest: Should parse empty bodies as a string
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 29 - Should parse empty bodies as a string # time=12.24ms
    
    # Subtest: Should parse empty bodies as a buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 30 - Should parse empty bodies as a buffer # time=11.109ms
    
    # Subtest: The charset should not interfere with the content type handling
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 31 - The charset should not interfere with the content type handling # time=7.254ms
    
    # Subtest: Wrong parseAs parameter
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 32 - Wrong parseAs parameter # time=1.672ms
    
    # Subtest: Should allow defining the bodyLimit per parser
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent strictly
    ok 33 - Should allow defining the bodyLimit per parser # time=9.159ms
    
    # Subtest: route bodyLimit should take precedence over a custom parser bodyLimit
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent strictly
    ok 34 - route bodyLimit should take precedence over a custom parser bodyLimit # time=7.071ms
    
    # Subtest: should be able to use default parser for extra content type
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent strictly
    ok 35 - should be able to use default parser for extra content type # time=11.314ms
    
    # Subtest: contentTypeParser should add a custom parser with RegExp value
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=5.032ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=3.791ms
        
    ok 36 - contentTypeParser should add a custom parser with RegExp value # time=14.905ms
    
    # Subtest: contentTypeParser should add multiple custom parsers with RegExp values
        1..6
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 37 - contentTypeParser should add multiple custom parsers with RegExp values # time=51.63ms
    
    # Subtest: catch all content type parser should not interfere with content type parser
        1..10
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 38 - catch all content type parser should not interfere with content type parser # time=12.263ms
    
    # Subtest: should prefer string content types over RegExp ones
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 39 - should prefer string content types over RegExp ones # time=9.213ms
    
    # Subtest: removeContentTypeParser should support arrays of content types to remove
        1..8
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 40 - removeContentTypeParser should support arrays of content types to remove # time=19.63ms
    
    # Subtest: removeContentTypeParser should support encapsulation
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 41 - removeContentTypeParser should support encapsulation # time=10.425ms
    
    # Subtest: removeAllContentTypeParsers should support encapsulation
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 42 - removeAllContentTypeParsers should support encapsulation # time=14.683ms
    
    # Subtest: cannot remove all content type parsers after binding
        1..2
        ok 1 - should not error
        ok 2 - expected to throw
    ok 43 - cannot remove all content type parsers after binding # time=4.128ms
    
    # Subtest: cannot remove content type parsers after binding
        1..2
        ok 1 - should not error
        ok 2 - expected to throw
    ok 44 - cannot remove content type parsers after binding # time=2.912ms
    
    # Subtest: should be able to override the default json parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 45 - should be able to override the default json parser after removeAllContentTypeParsers # time=6.182ms
    
    # Subtest: should be able to override the default plain text parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 46 - should be able to override the default plain text parser after removeAllContentTypeParsers # time=6.025ms
    
    # Subtest: should be able to add a custom content type parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 47 - should be able to add a custom content type parser after removeAllContentTypeParsers # time=7.365ms
    
    1..47
    # time=758.551ms
ok 20 - test/custom-parser.test.js # time=758.551ms

# Subtest: test/custom-querystring-parser.test.js
    # Subtest: Custom querystring parser
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 1 - Custom querystring parser # time=94.459ms
    
    # Subtest: Custom querystring parser should be called also if there is nothing to parse
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 2 - Custom querystring parser should be called also if there is nothing to parse # time=14.875ms
    
    # Subtest: Querystring without value
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 3 - Querystring without value # time=43.492ms
    
    # Subtest: Custom querystring parser should be a function
        1..1
        ok 1 - should be equal
    ok 4 - Custom querystring parser should be a function # time=1.091ms
    
    1..4
    # time=175.762ms
ok 21 - test/custom-querystring-parser.test.js # time=175.762ms

# Subtest: test/decorator.test.js
    # Subtest: server methods should exist
        1..2
        ok 1 - expect truthy value
        ok 2 - expect truthy value
    ok 1 - server methods should exist # time=15.834ms
    
    # Subtest: should check if the given decoration already exist when null
        1..1
        ok 1 - expect truthy value
    ok 2 - should check if the given decoration already exist when null # time=74.186ms
    
    # Subtest: server methods should be encapsulated via .register
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 3 - server methods should be encapsulated via .register # time=8.031ms
    
    # Subtest: hasServerMethod should check if the given method already exist
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 4 - hasServerMethod should check if the given method already exist # time=18.829ms
    
    # Subtest: decorate should throw if a declared dependency is not present
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - (unnamed test)
    ok 5 - decorate should throw if a declared dependency is not present # time=13.201ms
    
    # Subtest: decorate should throw if declared dependency is not array
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - (unnamed test)
    ok 6 - decorate should throw if declared dependency is not array # time=17.058ms
    
    # Subtest: should pass error for missing request decorator
        1..2
        ok 1 - type is Error
        ok 2 - should match pattern provided
    ok 7 - should pass error for missing request decorator # time=7.356ms
    
    # Subtest: decorateReply inside register
        1..11
        ok 1 - should not error
        ok 2 - test exists
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 8 - decorateReply inside register # time=45.826ms
    
    # Subtest: decorateReply as plugin (inside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 9 - decorateReply as plugin (inside .after) # time=24.257ms
    
    # Subtest: decorateReply as plugin (outside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 10 - decorateReply as plugin (outside .after) # time=18.901ms
    
    # Subtest: decorateRequest inside register
        1..11
        ok 1 - should not error
        ok 2 - test exists
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 11 - decorateRequest inside register # time=19.266ms
    
    # Subtest: decorateRequest as plugin (inside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 12 - decorateRequest as plugin (inside .after) # time=26.412ms
    
    # Subtest: decorateRequest as plugin (outside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 13 - decorateRequest as plugin (outside .after) # time=42.358ms
    
    # Subtest: decorators should be instance separated
        1..1
        ok 1 - (unnamed test)
    ok 14 - decorators should be instance separated # time=2.702ms
    
    # Subtest: hasRequestDecorator
        # Subtest: is a function
            1..1
            ok 1 - expect truthy value
        ok 1 - is a function # time=1.721ms
        
        # Subtest: should check if the given request decoration already exist
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 2 - should check if the given request decoration already exist # time=2.594ms
        
        # Subtest: should check if the given request decoration already exist when null
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 3 - should check if the given request decoration already exist when null # time=2.45ms
        
        # Subtest: should be plugin encapsulable
            1..4
            ok 1 - expect falsey value
            ok 2 - expect falsey value
            ok 3 - expect truthy value
            ok 4 - expect falsey value
        ok 4 - should be plugin encapsulable # time=12.101ms
        
        # Subtest: should be inherited
            1..2
            ok 1 - expect truthy value
            ok 2 - expect truthy value
        ok 5 - should be inherited # time=9.15ms
        
        1..5
    ok 15 - hasRequestDecorator # time=49.168ms
    
    # Subtest: hasReplyDecorator
        # Subtest: is a function
            1..1
            ok 1 - expect truthy value
        ok 1 - is a function # time=1.89ms
        
        # Subtest: should check if the given reply decoration already exist
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 2 - should check if the given reply decoration already exist # time=2.09ms
        
        # Subtest: should check if the given reply decoration already exist when null
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 3 - should check if the given reply decoration already exist when null # time=1.394ms
        
        # Subtest: should be plugin encapsulable
            1..4
            ok 1 - expect falsey value
            ok 2 - expect falsey value
            ok 3 - expect truthy value
            ok 4 - expect falsey value
        ok 4 - should be plugin encapsulable # time=10.873ms
        
        # Subtest: should be inherited
            1..2
            ok 1 - expect truthy value
            ok 2 - expect truthy value
        ok 5 - should be inherited # time=11.841ms
        
        1..5
    ok 16 - hasReplyDecorator # time=122.635ms
    
    # Subtest: should register properties via getter/setter objects
        1..3
        ok 1 - expect truthy value
        ok 2 - a getter
        ok 3 - expect falsey value
    ok 17 - should register properties via getter/setter objects # time=14.535ms
    
    # Subtest: decorateRequest should work with getter/setter
        1..5
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - (unnamed test)
    ok 18 - decorateRequest should work with getter/setter # time=47.245ms
    
    # Subtest: decorateReply should work with getter/setter
        1..5
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - (unnamed test)
    ok 19 - decorateReply should work with getter/setter # time=15.93ms
    
    # Subtest: should register empty values
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 20 - should register empty values # time=3.711ms
    
    # Subtest: nested plugins can override things
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 21 - nested plugins can override things # time=4.692ms
    
    # Subtest: a decorator should addSchema to all the encapsulated tree
        1..1
        ok 1 - should not error
    ok 22 - a decorator should addSchema to all the encapsulated tree # time=4.972ms
    
    # Subtest: after can access to a decorated instance and previous plugin decoration
        1..11
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
    ok 23 - after can access to a decorated instance and previous plugin decoration # time=9.487ms
    
    # Subtest: decorate* should throw if called after ready
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 24 - decorate* should throw if called after ready # time=25.255ms
    
    # Subtest: decorate* should emit warning if an array is passed
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 25 - decorate* should emit warning if an array is passed # time=29.526ms
    
    # Subtest: decorate* should emit warning if object type is passed
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 26 - decorate* should emit warning if object type is passed # time=24.354ms
    
    # Subtest: decorate* should not emit warning if object with getter/setter is passed
        1..0
    ok 27 - decorate* should not emit warning if object with getter/setter is passed # time=23.932ms
    
    # Subtest: decorate* should not emit warning if string,bool,numbers are passed
        1..0
    ok 28 - decorate* should not emit warning if string,bool,numbers are passed # time=24.013ms
    
    # Subtest: Request/reply decorators should be able to access the server instance
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not be equal
        ok 4 - should be equal
        ok 5 - should not be equal
        ok 6 - should be equal
    ok 29 - Request/reply decorators should be able to access the server instance # time=8.483ms
    
    # Subtest: plugin required decorators
        1..0
    ok 30 - plugin required decorators # time=3.663ms
    
    # Subtest: decorateRequest/decorateReply empty string
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 31 - decorateRequest/decorateReply empty string # time=8.167ms
    
    # Subtest: decorateRequest/decorateReply is undefined
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 32 - decorateRequest/decorateReply is undefined # time=7.9ms
    
    # Subtest: decorateRequest/decorateReply is not set to a value
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 33 - decorateRequest/decorateReply is not set to a value # time=8.169ms
    
    # Subtest: decorateRequest with dependencies
        1..2
        ok 1 - expected to not throw
        ok 2 - expect truthy value
    ok 34 - decorateRequest with dependencies # time=1.685ms
    
    # Subtest: decorateRequest with dependencies (functions)
        1..2
        ok 1 - expected to not throw
        ok 2 - expect truthy value
    ok 35 - decorateRequest with dependencies (functions) # time=1.252ms
    
    # Subtest: chain of decorators on Request
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        1..6
    ok 36 - chain of decorators on Request # time=17.274ms
    
    # Subtest: chain of decorators on Reply
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        1..6
    ok 37 - chain of decorators on Reply # time=16.173ms
    
    1..37
    # time=862.33ms
ok 22 - test/decorator.test.js # time=862.33ms

# Subtest: test/default-route.test.js
    # Subtest: should fail if defaultRoute is not a function
        1..1
        ok 1 - should be equal
    ok 1 - should fail if defaultRoute is not a function # time=19.16ms
    
    # Subtest: correctly sets, returns, and calls defaultRoute
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 2 - correctly sets, returns, and calls defaultRoute # time=40.111ms
    
    1..2
    # time=68.737ms
ok 23 - test/default-route.test.js # time=68.737ms

# Subtest: test/delete.test.js
    # Subtest: shorthand - delete
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - delete # time=10.237ms
    
    # Subtest: shorthand - delete params
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - delete params # time=2.394ms
    
    # Subtest: shorthand - delete, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - delete, querystring schema # time=1.96ms
    
    # Subtest: shorthand - get, headers schema
        1..1
        ok 1 - (unnamed test)
    ok 4 - shorthand - get, headers schema # time=1.862ms
    
    # Subtest: missing schema - delete
        1..1
        ok 1 - (unnamed test)
    ok 5 - missing schema - delete # time=1.76ms
    
    # Subtest: body - delete
        1..1
        ok 1 - (unnamed test)
    ok 6 - body - delete # time=1.431ms
    
    # Subtest: shorthand - delete with application/json Content-Type header and without body
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - shorthand - delete with application/json Content-Type header and without body # time=55.395ms
    
    not ok 8 - Failed building the serialization schema for DELETE: /, due to error Cannot read properties of undefined (reading 'forEach')
      ---
      origin:
        at:
          line: 328
          column: 21
          file: lib/route.js
          function: Boot.<anonymous>
        stack: |
          Boot.<anonymous> (lib/route.js:328:21)
          node_modules/avvio/boot.js:160:12
          node_modules/avvio/plugin.js:275:7
          done (node_modules/avvio/plugin.js:200:5)
          check (node_modules/avvio/plugin.js:224:9)
        type: FastifyError
        code: FST_ERR_SCH_SERIALIZATION_BUILD
        statusCode: 500
        source: >2
                      } catch (error) {
                        throw new FST_ERR_SCH_SERIALIZATION_BUILD(opts.method, url, error.message)
          --------------------^
                      }
                    }
      found:
        !error
        name: FastifyError
        message: "Failed building the serialization schema for DELETE: /, due to error
          Cannot read properties of undefined (reading 'forEach')"
        stack: >-
          FastifyError: 
              at Boot.<anonymous> (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/lib/route.js:328:21)
              at Object.onceWrapper (node:events:627:28)
              at Boot.emit (node:events:525:35)
              at /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/boot.js:160:12
              at /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/plugin.js:275:7
              at done (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/plugin.js:200:5)
              at check (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/plugin.js:224:9)
              at node:internal/process/task_queues:141:7
              at AsyncResource.runInAsyncScope (node:async_hooks:203:9)
              at AsyncResource.runMicrotask (node:internal/process/task_queues:138:8)
        code: FST_ERR_SCH_SERIALIZATION_BUILD
        statusCode: 500
      at:
        line: 161
        column: 5
        file: test/delete.test.js
      stack: |
        cb (test/delete.test.js:161:5)
        Object.cb (lib/server.js:61:11)
        cb (lib/server.js:173:43)
        manageErr (fastify.js:538:11)
        fastify.js:520:11
        Object._encapsulateThreeParam (node_modules/avvio/boot.js:557:7)
        Boot.timeoutCall (node_modules/avvio/boot.js:453:5)
        Boot.callWithCbOrNextTick (node_modules/avvio/boot.js:435:19)
        release (node_modules/fastq/queue.js:149:16)
        Object.resume (node_modules/fastq/queue.js:82:7)
        node_modules/avvio/boot.js:174:18
        node_modules/avvio/plugin.js:275:7
        done (node_modules/avvio/plugin.js:200:5)
        check (node_modules/avvio/plugin.js:224:9)
      source: |
        fastify.listen({ port: 0 }, err => {
          t.error(err)
        ----^
          t.teardown(() => { fastify.close() })
      ...
    
    # Subtest: shorthand - request delete
        1..4
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/delete.test.js:168:58)
          at:
            line: 168
            column: 58
            file: test/delete.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - request delete
          source: |2
                  method: 'DELETE',
                  url: 'http://localhost:' + fastify.server.address().port
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 9 - shorthand - request delete # time=7.786ms
    
    # Subtest: shorthand - request delete params schema
        1..4
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/delete.test.js:181:58)
          at:
            line: 181
            column: 58
            file: test/delete.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - request delete params schema
          source: >2
                  method: 'DELETE',
                  url: 'http://localhost:' + fastify.server.address().port + '/params/world/123'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 10 - shorthand - request delete params schema # time=5.688ms
    
    # Subtest: shorthand - request delete params schema error
        1..3
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/delete.test.js:194:58)
          at:
            line: 194
            column: 58
            file: test/delete.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - request delete params schema error
          source: >2
                  method: 'DELETE',
                  url: 'http://localhost:' + fastify.server.address().port + '/params/world/string'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 11 - shorthand - request delete params schema error # time=7.936ms
    
    # Subtest: shorthand - request delete headers schema
        1..4
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/delete.test.js:213:58)
          at:
            line: 213
            column: 58
            file: test/delete.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - request delete headers schema
          source: |2
                  },
                  url: 'http://localhost:' + fastify.server.address().port + '/headers'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 12 - shorthand - request delete headers schema # time=8.129ms
    
    # Subtest: shorthand - request delete headers schema error
        1..3
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/delete.test.js:229:58)
          at:
            line: 229
            column: 58
            file: test/delete.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - request delete headers schema error
          source: |2
                  },
                  url: 'http://localhost:' + fastify.server.address().port + '/headers'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 13 - shorthand - request delete headers schema error # time=6.312ms
    
    # Subtest: shorthand - request delete querystring schema
        1..4
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/delete.test.js:245:58)
          at:
            line: 245
            column: 58
            file: test/delete.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - request delete querystring schema
          source: >2
                  method: 'DELETE',
                  url: 'http://localhost:' + fastify.server.address().port + '/query?hello=123'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 14 - shorthand - request delete querystring schema # time=18.675ms
    
    # Subtest: shorthand - request delete querystring schema error
        1..3
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/delete.test.js:258:58)
          at:
            line: 258
            column: 58
            file: test/delete.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - request delete querystring schema error
          source: >2
                  method: 'DELETE',
                  url: 'http://localhost:' + fastify.server.address().port + '/query?hello=world'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 15 - shorthand - request delete querystring schema error # time=5.045ms
    
    # Subtest: shorthand - request delete missing schema
        1..4
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/delete.test.js:274:58)
          at:
            line: 274
            column: 58
            file: test/delete.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - request delete missing schema
          source: |2
                  method: 'DELETE',
                  url: 'http://localhost:' + fastify.server.address().port + '/missing'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 16 - shorthand - request delete missing schema # time=4.898ms
    
    # Subtest: shorthand - delete with body
        1..3
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/delete.test.js:287:58)
          at:
            line: 287
            column: 58
            file: test/delete.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - delete with body
          source: |2
                  method: 'DELETE',
                  url: 'http://localhost:' + fastify.server.address().port + '/body',
            ---------------------------------------------------------^
                  body: {
                    hello: 'world'
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 17 - shorthand - delete with body # time=8.181ms
    
    1..17
    # failed 10 of 17 tests
    # time=351.008ms
not ok 24 - test/delete.test.js # time=351.008ms
  ---
  env: {}
  file: test/delete.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/delete.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify
  exitCode: 1
  ...

# Subtest: test/diagnostics-channel.test.js
    # Subtest: diagnostics_channel when present and subscribers
        1..3
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should be equal
    ok 1 - diagnostics_channel when present and subscribers # time=734.496ms
    
    # Subtest: diagnostics_channel when present and no subscribers
        1..1
        ok 1 - should be equal
    ok 2 - diagnostics_channel when present and no subscribers # time=19.136ms
    
    # Subtest: diagnostics_channel when not present
        1..1
        ok 1 - expected to not throw
    ok 3 - diagnostics_channel when not present # time=18.718ms
    
    1..3
    # time=785.848ms
ok 25 - test/diagnostics-channel.test.js # time=785.848ms

# Subtest: test/encapsulated-error-handler.test.js
    # Subtest: encapuslates an error handler
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 1 - encapuslates an error handler # time=66.513ms
    
    # Subtest: onError hook nested
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 2 - onError hook nested # time=12.253ms
    
    1..2
    # time=85.979ms
ok 26 - test/encapsulated-error-handler.test.js # time=85.979ms

# Subtest: test/esm/index.test.js
    # Subtest: named exports support
        ok 1 - should be equal
        1..1
    ok 1 - named exports support # time=34.765ms
    
    ok 2 - should be equal
    1..2
    # time=40.168ms
ok 27 - test/esm/index.test.js # time=40.168ms

# Subtest: test/fastify-instance.test.js
    # Subtest: root fastify instance is an object
        1..1
        ok 1 - type is object
    ok 1 - root fastify instance is an object # time=15.446ms
    
    # Subtest: fastify instance should contains ajv options
        1..1
        ok 1 - should be equivalent
    ok 2 - fastify instance should contains ajv options # time=6.876ms
    
    # Subtest: fastify instance should contains ajv options.plugins nested arrays
        1..1
        ok 1 - should be equivalent
    ok 3 - fastify instance should contains ajv options.plugins nested arrays # time=3.223ms
    
    # Subtest: fastify instance get invalid ajv options
        1..1
        ok 1 - expected to throw
    ok 4 - fastify instance get invalid ajv options # time=1.566ms
    
    # Subtest: fastify instance get invalid ajv options.plugins
        1..1
        ok 1 - expected to throw
    ok 5 - fastify instance get invalid ajv options.plugins # time=1.156ms
    
    # Subtest: fastify instance should contain default errorHandler
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 6 - fastify instance should contain default errorHandler # time=2.808ms
    
    # Subtest: errorHandler in plugin should be separate from the external one
        1..4
        ok 1 - should not be equivalent
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equivalent
    ok 7 - errorHandler in plugin should be separate from the external one # time=15.783ms
    
    1..7
    # time=70.753ms
ok 28 - test/fastify-instance.test.js # time=70.753ms

# Subtest: test/fluent-schema.test.js
    # Subtest: use fluent-json-schema object
        1..15
        not ok 1 - Cannot read properties of undefined (reading 'forEach')
          ---
          origin:
            at:
              line: 14
              column: 24
              file: node_modules/ajv/lib/ajv.ts
              function: Ajv._addVocabularies
            stack: |
              Ajv._addVocabularies (node_modules/ajv/lib/ajv.ts:14:24)
              new Ajv (node_modules/ajv/lib/core.ts:308:10)
              new Ajv (node_modules/ajv/lib/ajv.ts:11:1)
              new ValidatorCompiler (node_modules/@fastify/ajv-compiler/index.js:51:18)
              buildCompilerFromPool (node_modules/@fastify/ajv-compiler/index.js:32:22)
              SchemaController.setupValidator (lib/schema-controller.js:100:30)
              Boot.<anonymous> (lib/route.js:314:32)
              node_modules/avvio/boot.js:160:12
            type: TypeError
            source: |2
                  super._addVocabularies()
                  draft7Vocabularies.forEach((v) => this.addVocabulary(v))
              -----------------------^
                  if (this.opts.discriminator) this.addKeyword(discriminator)
                }
          found:
            !error
            name: TypeError
            message: Cannot read properties of undefined (reading 'forEach')
            stack: >-
              TypeError: 
                  at Ajv._addVocabularies (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/ajv/lib/ajv.ts:14:24)
                  at new Ajv (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/ajv/lib/core.ts:308:10)
                  at new Ajv (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/ajv/lib/ajv.ts:11:1)
                  at new ValidatorCompiler (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/@fastify/ajv-compiler/index.js:51:18)
                  at buildCompilerFromPool (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/@fastify/ajv-compiler/index.js:32:22)
                  at SchemaController.setupValidator (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/lib/schema-controller.js:100:30)
                  at Boot.<anonymous> (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/lib/route.js:314:32)
                  at Object.onceWrapper (node:events:627:28)
                  at Boot.emit (node:events:525:35)
                  at /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/boot.js:160:12
          at:
            line: 35
            column: 7
            file: test/fluent-schema.test.js
          stack: |
            cb (test/fluent-schema.test.js:35:7)
            cb (fastify.js:486:18)
            manageErr (fastify.js:538:11)
            fastify.js:520:11
            Object._encapsulateThreeParam (node_modules/avvio/boot.js:557:7)
            Boot.timeoutCall (node_modules/avvio/boot.js:453:5)
            Boot.callWithCbOrNextTick (node_modules/avvio/boot.js:435:19)
            release (node_modules/fastq/queue.js:149:16)
            Object.resume (node_modules/fastq/queue.js:82:7)
            node_modules/avvio/boot.js:174:18
            node_modules/avvio/plugin.js:275:7
            done (node_modules/avvio/plugin.js:200:5)
            check (node_modules/avvio/plugin.js:224:9)
          source: >2
              }, (err, res) => {
                t.error(err)
            ------^
                t.equal(res.statusCode, 400)
                t.same(res.json(), { statusCode: 400, error: 'Bad Request', message: 'params/id must be >= 42' })
          ...
        
        not ok 2 - test unfinished
          ---
          stack: |
            Object.<anonymous> (test/fluent-schema.test.js:8:1)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          test: use fluent-json-schema object
          at:
            line: 8
            column: 1
            file: test/fluent-schema.test.js
            function: Object.<anonymous>
          source: |
          
            test('use fluent-json-schema object', t => {
            ^
              t.plan(15)
              const fastify = Fastify()
          ...
        
        # test count(2) != plan(15)
        # failed 2 of 2 tests
    not ok 1 - use fluent-json-schema object # time=361.348ms
    
    not ok 2 - child test left in queue: t.test use complex fluent-json-schema object
    not ok 3 - child test left in queue: t.test use fluent schema and plain JSON schema
    not ok 4 - child test left in queue: t.test Should call valueOf internally
    1..1
    # test count(4) != plan(1)
    # failed 7 of 4 tests
    # time=366.517ms
not ok 29 - test/fluent-schema.test.js # time=366.517ms
  ---
  env: {}
  file: test/fluent-schema.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/fluent-schema.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify
  failures:
    - &a1
      id: 2
      name: "child test left in queue: t.test use complex fluent-json-schema object"
      fullname: test/fluent-schema.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a2
      id: 3
      name: "child test left in queue: t.test use fluent schema and plain JSON schema"
      fullname: test/fluent-schema.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a3
      id: 4
      name: "child test left in queue: t.test Should call valueOf internally"
      fullname: test/fluent-schema.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - *a1
    - *a2
    - *a3
  exitCode: 1
  ...

# Subtest: test/genReqId.test.js
    # Subtest: Should accept a custom genReqId function
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 1 - Should accept a custom genReqId function # time=70.31ms
    
    1..1
    # time=77.872ms
ok 30 - test/genReqId.test.js # time=77.872ms

# Subtest: test/get.test.js
    # Subtest: shorthand - get
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - get # time=10.23ms
    
    # Subtest: shorthand - get (return null)
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - get (return null) # time=4.269ms
    
    # Subtest: shorthand - get params
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - get params # time=2.853ms
    
    # Subtest: shorthand - get, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 4 - shorthand - get, querystring schema # time=2.365ms
    
    # Subtest: shorthand - get, headers schema
        1..1
        ok 1 - (unnamed test)
    ok 5 - shorthand - get, headers schema # time=2.292ms
    
    # Subtest: missing schema - get
        1..1
        ok 1 - (unnamed test)
    ok 6 - missing schema - get # time=5.985ms
    
    # Subtest: custom serializer - get
        1..1
        ok 1 - (unnamed test)
    ok 7 - custom serializer - get # time=2.339ms
    
    # Subtest: empty response
        1..1
        ok 1 - (unnamed test)
    ok 8 - empty response # time=1.346ms
    
    # Subtest: send a falsy boolean
        1..1
        ok 1 - (unnamed test)
    ok 9 - send a falsy boolean # time=1.83ms
    
    not ok 10 - Failed building the serialization schema for GET: /, due to error Cannot read properties of undefined (reading 'forEach')
      ---
      origin:
        at:
          line: 328
          column: 21
          file: lib/route.js
          function: Boot.<anonymous>
        stack: |
          Boot.<anonymous> (lib/route.js:328:21)
          node_modules/avvio/boot.js:160:12
          node_modules/avvio/plugin.js:275:7
          done (node_modules/avvio/plugin.js:200:5)
          check (node_modules/avvio/plugin.js:224:9)
        type: FastifyError
        code: FST_ERR_SCH_SERIALIZATION_BUILD
        statusCode: 500
        source: >2
                      } catch (error) {
                        throw new FST_ERR_SCH_SERIALIZATION_BUILD(opts.method, url, error.message)
          --------------------^
                      }
                    }
      found:
        !error
        name: FastifyError
        message: "Failed building the serialization schema for GET: /, due to error
          Cannot read properties of undefined (reading 'forEach')"
        stack: >-
          FastifyError: 
              at Boot.<anonymous> (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/lib/route.js:328:21)
              at Object.onceWrapper (node:events:627:28)
              at Boot.emit (node:events:525:35)
              at /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/boot.js:160:12
              at /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/plugin.js:275:7
              at done (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/plugin.js:200:5)
              at check (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/plugin.js:224:9)
              at node:internal/process/task_queues:141:7
              at AsyncResource.runInAsyncScope (node:async_hooks:203:9)
              at AsyncResource.runMicrotask (node:internal/process/task_queues:138:8)
        code: FST_ERR_SCH_SERIALIZATION_BUILD
        statusCode: 500
      at:
        line: 207
        column: 5
        file: test/get.test.js
      stack: |
        cb (test/get.test.js:207:5)
        Object.cb (lib/server.js:61:11)
        cb (lib/server.js:173:43)
        manageErr (fastify.js:538:11)
        fastify.js:520:11
        Object._encapsulateThreeParam (node_modules/avvio/boot.js:557:7)
        Boot.timeoutCall (node_modules/avvio/boot.js:453:5)
        Boot.callWithCbOrNextTick (node_modules/avvio/boot.js:435:19)
        release (node_modules/fastq/queue.js:149:16)
        Object.resume (node_modules/fastq/queue.js:82:7)
        node_modules/avvio/boot.js:174:18
        node_modules/avvio/plugin.js:275:7
        done (node_modules/avvio/plugin.js:200:5)
        check (node_modules/avvio/plugin.js:224:9)
      source: |
        fastify.listen({ port: 0 }, err => {
          t.error(err)
        ----^
          t.teardown(() => { fastify.close() })
      ...
    
    # Subtest: shorthand - request get
        1..4
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/get.test.js:214:58)
          at:
            line: 214
            column: 58
            file: test/get.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - request get
          source: |2
                  method: 'GET',
                  url: 'http://localhost:' + fastify.server.address().port
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 11 - shorthand - request get # time=10.326ms
    
    # Subtest: shorthand - request get params schema
        1..4
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/get.test.js:227:58)
          at:
            line: 227
            column: 58
            file: test/get.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - request get params schema
          source: >2
                  method: 'GET',
                  url: 'http://localhost:' + fastify.server.address().port + '/params/world/123'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 12 - shorthand - request get params schema # time=7.523ms
    
    # Subtest: shorthand - request get params schema error
        1..3
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/get.test.js:240:58)
          at:
            line: 240
            column: 58
            file: test/get.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - request get params schema error
          source: >2
                  method: 'GET',
                  url: 'http://localhost:' + fastify.server.address().port + '/params/world/string'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 13 - shorthand - request get params schema error # time=14.881ms
    
    # Subtest: shorthand - request get headers schema
        1..4
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/get.test.js:261:58)
          at:
            line: 261
            column: 58
            file: test/get.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - request get headers schema
          source: |2
                  json: true,
                  url: 'http://localhost:' + fastify.server.address().port + '/headers'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 14 - shorthand - request get headers schema # time=8.268ms
    
    # Subtest: shorthand - request get headers schema error
        1..3
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/get.test.js:277:58)
          at:
            line: 277
            column: 58
            file: test/get.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - request get headers schema error
          source: |2
                  },
                  url: 'http://localhost:' + fastify.server.address().port + '/headers'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 15 - shorthand - request get headers schema error # time=7.756ms
    
    # Subtest: shorthand - request get querystring schema
        1..4
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/get.test.js:293:58)
          at:
            line: 293
            column: 58
            file: test/get.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - request get querystring schema
          source: >2
                  method: 'GET',
                  url: 'http://localhost:' + fastify.server.address().port + '/query?hello=123'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 16 - shorthand - request get querystring schema # time=12.514ms
    
    # Subtest: shorthand - request get querystring schema error
        1..3
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/get.test.js:306:58)
          at:
            line: 306
            column: 58
            file: test/get.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - request get querystring schema error
          source: >2
                  method: 'GET',
                  url: 'http://localhost:' + fastify.server.address().port + '/query?hello=world'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 17 - shorthand - request get querystring schema error # time=7.071ms
    
    # Subtest: shorthand - request get missing schema
        1..4
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/get.test.js:322:58)
          at:
            line: 322
            column: 58
            file: test/get.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - request get missing schema
          source: |2
                  method: 'GET',
                  url: 'http://localhost:' + fastify.server.address().port + '/missing'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 18 - shorthand - request get missing schema # time=7.173ms
    
    # Subtest: shorthand - custom serializer
        1..4
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/get.test.js:335:58)
          at:
            line: 335
            column: 58
            file: test/get.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - custom serializer
          source: >2
                  method: 'GET',
                  url: 'http://localhost:' + fastify.server.address().port + '/custom-serializer'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 19 - shorthand - custom serializer # time=7.257ms
    
    # Subtest: shorthand - empty response
        1..4
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/get.test.js:348:58)
          at:
            line: 348
            column: 58
            file: test/get.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - empty response
          source: |2
                  method: 'GET',
                  url: 'http://localhost:' + fastify.server.address().port + '/empty'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 20 - shorthand - empty response # time=9.173ms
    
    # Subtest: shorthand - send a falsy boolean
        1..3
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/get.test.js:361:58)
          at:
            line: 361
            column: 58
            file: test/get.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - send a falsy boolean
          source: |2
                  method: 'GET',
                  url: 'http://localhost:' + fastify.server.address().port + '/boolean'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 21 - shorthand - send a falsy boolean # time=7.99ms
    
    # Subtest: shorthand - send null value
        1..3
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/get.test.js:373:58)
          at:
            line: 373
            column: 58
            file: test/get.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - send null value
          source: |2
                  method: 'GET',
                  url: 'http://localhost:' + fastify.server.address().port + '/null'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 22 - shorthand - send null value # time=8.616ms
    
    1..22
    # failed 13 of 22 tests
    # time=430.635ms
not ok 31 - test/get.test.js # time=430.635ms
  ---
  env: {}
  file: test/get.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/get.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify
  exitCode: 1
  ...

# Subtest: test/handler-context.test.js
    # Subtest: handlers receive correct `this` context
        1..4
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 1 - handlers receive correct `this` context # time=90.95ms
    
    # Subtest: handlers have access to the internal context
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - type is Object
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 2 - handlers have access to the internal context # time=42.775ms
    
    1..2
    # time=148.208ms
ok 32 - test/handler-context.test.js # time=148.208ms

# Subtest: test/head.test.js
    # Subtest: shorthand - head
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - head # time=9.208ms
    
    # Subtest: shorthand - head params
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - head params # time=2.337ms
    
    # Subtest: shorthand - head, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - head, querystring schema # time=2.258ms
    
    # Subtest: missing schema - head
        1..1
        ok 1 - (unnamed test)
    ok 4 - missing schema - head # time=1.529ms
    
    not ok 5 - Failed building the serialization schema for HEAD: /, due to error Cannot read properties of undefined (reading 'forEach')
      ---
      origin:
        at:
          line: 328
          column: 21
          file: lib/route.js
          function: Boot.<anonymous>
        stack: |
          Boot.<anonymous> (lib/route.js:328:21)
          node_modules/avvio/boot.js:160:12
          node_modules/avvio/plugin.js:275:7
          done (node_modules/avvio/plugin.js:200:5)
          check (node_modules/avvio/plugin.js:224:9)
        type: FastifyError
        code: FST_ERR_SCH_SERIALIZATION_BUILD
        statusCode: 500
        source: >2
                      } catch (error) {
                        throw new FST_ERR_SCH_SERIALIZATION_BUILD(opts.method, url, error.message)
          --------------------^
                      }
                    }
      found:
        !error
        name: FastifyError
        message: "Failed building the serialization schema for HEAD: /, due to error
          Cannot read properties of undefined (reading 'forEach')"
        stack: >-
          FastifyError: 
              at Boot.<anonymous> (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/lib/route.js:328:21)
              at Object.onceWrapper (node:events:627:28)
              at Boot.emit (node:events:525:35)
              at /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/boot.js:160:12
              at /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/plugin.js:275:7
              at done (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/plugin.js:200:5)
              at check (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/plugin.js:224:9)
              at node:internal/process/task_queues:141:7
              at AsyncResource.runInAsyncScope (node:async_hooks:203:9)
              at AsyncResource.runMicrotask (node:internal/process/task_queues:138:8)
        code: FST_ERR_SCH_SERIALIZATION_BUILD
        statusCode: 500
      at:
        line: 96
        column: 5
        file: test/head.test.js
      stack: |
        cb (test/head.test.js:96:5)
        Object.cb (lib/server.js:61:11)
        cb (lib/server.js:173:43)
        manageErr (fastify.js:538:11)
        fastify.js:520:11
        Object._encapsulateThreeParam (node_modules/avvio/boot.js:557:7)
        Boot.timeoutCall (node_modules/avvio/boot.js:453:5)
        Boot.callWithCbOrNextTick (node_modules/avvio/boot.js:435:19)
        release (node_modules/fastq/queue.js:149:16)
        Object.resume (node_modules/fastq/queue.js:82:7)
        node_modules/avvio/boot.js:174:18
        node_modules/avvio/plugin.js:275:7
        done (node_modules/avvio/plugin.js:200:5)
        check (node_modules/avvio/plugin.js:224:9)
      source: |
        fastify.listen({ port: 0 }, err => {
          t.error(err)
        ----^
          t.teardown(() => { fastify.close() })
      ...
    
    # Subtest: shorthand - request head
        1..2
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/head.test.js:103:58)
          at:
            line: 103
            column: 58
            file: test/head.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - request head
          source: |2
                  method: 'HEAD',
                  url: 'http://localhost:' + fastify.server.address().port
            ---------------------------------------------------------^
                }, (err, response) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(2)
        # failed 1 test
    not ok 6 - shorthand - request head # time=10.226ms
    
    # Subtest: shorthand - request head params schema
        1..2
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/head.test.js:114:58)
          at:
            line: 114
            column: 58
            file: test/head.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - request head params schema
          source: >2
                  method: 'HEAD',
                  url: 'http://localhost:' + fastify.server.address().port + '/params/world/123'
            ---------------------------------------------------------^
                }, (err, response) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(2)
        # failed 1 test
    not ok 7 - shorthand - request head params schema # time=19.969ms
    
    # Subtest: shorthand - request head params schema error
        1..2
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/head.test.js:125:58)
          at:
            line: 125
            column: 58
            file: test/head.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - request head params schema error
          source: >2
                  method: 'HEAD',
                  url: 'http://localhost:' + fastify.server.address().port + '/params/world/string'
            ---------------------------------------------------------^
                }, (err, response) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(2)
        # failed 1 test
    not ok 8 - shorthand - request head params schema error # time=10.928ms
    
    # Subtest: shorthand - request head querystring schema
        1..2
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/head.test.js:136:58)
          at:
            line: 136
            column: 58
            file: test/head.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - request head querystring schema
          source: >2
                  method: 'HEAD',
                  url: 'http://localhost:' + fastify.server.address().port + '/query?hello=123'
            ---------------------------------------------------------^
                }, (err, response) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(2)
        # failed 1 test
    not ok 9 - shorthand - request head querystring schema # time=7.324ms
    
    # Subtest: shorthand - request head querystring schema error
        1..2
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/head.test.js:147:58)
          at:
            line: 147
            column: 58
            file: test/head.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - request head querystring schema error
          source: >2
                  method: 'HEAD',
                  url: 'http://localhost:' + fastify.server.address().port + '/query?hello=world'
            ---------------------------------------------------------^
                }, (err, response) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(2)
        # failed 1 test
    not ok 10 - shorthand - request head querystring schema error # time=30.968ms
    
    # Subtest: shorthand - request head missing schema
        1..2
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/head.test.js:158:58)
          at:
            line: 158
            column: 58
            file: test/head.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - request head missing schema
          source: |2
                  method: 'HEAD',
                  url: 'http://localhost:' + fastify.server.address().port + '/missing'
            ---------------------------------------------------------^
                }, (err, response) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(2)
        # failed 1 test
    not ok 11 - shorthand - request head missing schema # time=8.167ms
    
    1..11
    # failed 7 of 11 tests
    # time=314.103ms
not ok 33 - test/head.test.js # time=314.103ms
  ---
  env: {}
  file: test/head.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/head.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify
  exitCode: 1
  ...

# Subtest: test/hooks-async.test.js
    # Subtest: async hooks
        1..21
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - should not error
        ok 13 - should be equal
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equivalent
        ok 18 - should not error
        ok 19 - should be equal
        ok 20 - expect truthy value
        ok 21 - expect truthy value
    ok 1 - async hooks # time=119.39ms
    
    # Subtest: modify payload
        1..10
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - expect truthy value
        ok 4 - should be equivalent
        ok 5 - expect truthy value
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
    ok 2 - modify payload # time=38.01ms
    
    # Subtest: onRequest hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 3 - onRequest hooks should be able to block a request # time=25.881ms
    
    # Subtest: preParsing hooks should be able to modify the payload
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 4 - preParsing hooks should be able to modify the payload # time=10.939ms
    
    # Subtest: preParsing hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 5 - preParsing hooks should handle errors # time=6.272ms
    
    # Subtest: preHandler hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 6 - preHandler hooks should be able to block a request # time=6.356ms
    
    # Subtest: preValidation hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 7 - preValidation hooks should be able to block a request # time=18.807ms
    
    # Subtest: preValidation hooks should be able to change request body before validation
        1..4
        not ok 1 - Cannot read properties of undefined (reading 'forEach')
          ---
          origin:
            at:
              line: 14
              column: 24
              file: node_modules/ajv/lib/ajv.ts
              function: Ajv._addVocabularies
            stack: |
              Ajv._addVocabularies (node_modules/ajv/lib/ajv.ts:14:24)
              new Ajv (node_modules/ajv/lib/core.ts:308:10)
              new Ajv (node_modules/ajv/lib/ajv.ts:11:1)
              new ValidatorCompiler (node_modules/@fastify/ajv-compiler/index.js:51:18)
              buildCompilerFromPool (node_modules/@fastify/ajv-compiler/index.js:32:22)
              SchemaController.setupValidator (lib/schema-controller.js:100:30)
              Boot.<anonymous> (lib/route.js:314:32)
              node_modules/avvio/boot.js:160:12
            type: TypeError
            source: |2
                  super._addVocabularies()
                  draft7Vocabularies.forEach((v) => this.addVocabulary(v))
              -----------------------^
                  if (this.opts.discriminator) this.addKeyword(discriminator)
                }
          found:
            !error
            name: TypeError
            message: Cannot read properties of undefined (reading 'forEach')
            stack: >-
              TypeError: 
                  at Ajv._addVocabularies (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/ajv/lib/ajv.ts:14:24)
                  at new Ajv (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/ajv/lib/core.ts:308:10)
                  at new Ajv (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/ajv/lib/ajv.ts:11:1)
                  at new ValidatorCompiler (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/@fastify/ajv-compiler/index.js:51:18)
                  at buildCompilerFromPool (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/@fastify/ajv-compiler/index.js:32:22)
                  at SchemaController.setupValidator (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/lib/schema-controller.js:100:30)
                  at Boot.<anonymous> (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/lib/route.js:314:32)
                  at Object.onceWrapper (node:events:627:28)
                  at Boot.emit (node:events:525:35)
                  at /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/boot.js:160:12
          at:
            line: 330
            column: 7
            file: test/hooks-async.test.js
          stack: |
            cb (test/hooks-async.test.js:330:7)
            cb (fastify.js:486:18)
            manageErr (fastify.js:538:11)
            fastify.js:520:11
            Object._encapsulateThreeParam (node_modules/avvio/boot.js:557:7)
            Boot.timeoutCall (node_modules/avvio/boot.js:453:5)
            Boot.callWithCbOrNextTick (node_modules/avvio/boot.js:435:19)
            release (node_modules/fastq/queue.js:149:16)
            Object.resume (node_modules/fastq/queue.js:82:7)
            node_modules/avvio/boot.js:174:18
            node_modules/avvio/plugin.js:275:7
            done (node_modules/avvio/plugin.js:200:5)
            check (node_modules/avvio/plugin.js:224:9)
          source: |2
              }, (err, res) => {
                t.error(err)
            ------^
                t.equal(res.statusCode, 200)
                t.equal(res.payload, 'hello')
          ...
        
        not ok 2 - test unfinished
          ---
          stack: |
            Object.<anonymous> (test/hooks-async.test.js:290:1)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          test: preValidation hooks should be able to change request body before validation
          at:
            line: 290
            column: 1
            file: test/hooks-async.test.js
            function: Object.<anonymous>
          source: >
          
            test('preValidation hooks should be able to change request body before validation', t => {
          
            ^
              t.plan(4)
              const fastify = Fastify()
          ...
        
        # test count(2) != plan(4)
        # failed 2 of 2 tests
    not ok 8 - preValidation hooks should be able to change request body before validation # time=177.085ms
    
    not ok 9 - child test left in queue: t.test preSerialization hooks should be able to modify the payload
    not ok 10 - child test left in queue: t.test preSerialization hooks should handle errors
    not ok 11 - child test left in queue: t.test preValidation hooks should handle throwing null
    not ok 12 - child test left in queue: t.test preValidation hooks should handle throwing a string
    not ok 13 - child test left in queue: t.test onRequest hooks should be able to block a request (last hook)
    not ok 14 - child test left in queue: t.test preHandler hooks should be able to block a request (last hook)
    not ok 15 - child test left in queue: t.test onRequest respond with a stream
    not ok 16 - child test left in queue: t.test preHandler respond with a stream
    not ok 17 - child test left in queue: t.test Should log a warning if is an async function with `done`
    not ok 18 - child test left in queue: t.test early termination, onRequest async
    not ok 19 - child test left in queue: t.test The this should be the same of the encapsulation level
    not ok 20 - child test left in queue: t.test preSerializationEnd should handle errors if the serialize method throws
    1..8
    # test count(20) != plan(8)
    # failed 25 of 20 tests
    # time=411.947ms
not ok 34 - test/hooks-async.test.js # time=411.947ms
  ---
  env: {}
  file: test/hooks-async.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/hooks-async.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify
  failures:
    - &a1
      id: 9
      name: "child test left in queue: t.test preSerialization hooks should be able to
        modify the payload"
      fullname: test/hooks-async.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 8
    - &a2
      id: 10
      name: "child test left in queue: t.test preSerialization hooks should handle
        errors"
      fullname: test/hooks-async.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 8
    - &a3
      id: 11
      name: "child test left in queue: t.test preValidation hooks should handle
        throwing null"
      fullname: test/hooks-async.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 8
    - &a4
      id: 12
      name: "child test left in queue: t.test preValidation hooks should handle
        throwing a string"
      fullname: test/hooks-async.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 8
    - &a5
      id: 13
      name: "child test left in queue: t.test onRequest hooks should be able to block
        a request (last hook)"
      fullname: test/hooks-async.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 8
    - &a6
      id: 14
      name: "child test left in queue: t.test preHandler hooks should be able to block
        a request (last hook)"
      fullname: test/hooks-async.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 8
    - &a7
      id: 15
      name: "child test left in queue: t.test onRequest respond with a stream"
      fullname: test/hooks-async.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 8
    - &a8
      id: 16
      name: "child test left in queue: t.test preHandler respond with a stream"
      fullname: test/hooks-async.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 8
    - &a9
      id: 17
      name: "child test left in queue: t.test Should log a warning if is an async
        function with `done`"
      fullname: test/hooks-async.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 8
    - &a10
      id: 18
      name: "child test left in queue: t.test early termination, onRequest async"
      fullname: test/hooks-async.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 8
    - &a11
      id: 19
      name: "child test left in queue: t.test The this should be the same of the
        encapsulation level"
      fullname: test/hooks-async.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 8
    - &a12
      id: 20
      name: "child test left in queue: t.test preSerializationEnd should handle errors
        if the serialize method throws"
      fullname: test/hooks-async.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 8
    - *a1
    - *a2
    - *a3
    - *a4
    - *a5
    - *a6
    - *a7
    - *a8
    - *a9
    - *a10
    - *a11
    - *a12
  exitCode: 1
  ...

# Subtest: test/hooks.on-ready.test.js
    # Subtest: onReady should be called in order
        1..7
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
        ok 7 - should not error
    ok 1 - onReady should be called in order # time=69.826ms
    
    # Subtest: async onReady should be called in order
        1..7
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
        ok 7 - ready
    ok 2 - async onReady should be called in order # time=11.16ms
    
    # Subtest: mix ready and onReady
        1..2
        ok 1 - should be equal
        ok 2 - ready hooks execute once
    ok 3 - mix ready and onReady # time=17.513ms
    
    # Subtest: listen and onReady order
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - trigger the onReady
        ok 9 - do not trigger the onReady
    ok 4 - listen and onReady order # time=25.542ms
    
    # Subtest: multiple ready calls
        1..11
        ok 1 - ready and hooks not triggered yet
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - trigger the onReady
        ok 10 - do not trigger the onReady
        ok 11 - do not trigger the onReady
    ok 5 - multiple ready calls # time=10.3ms
    
    # Subtest: onReady should manage error in sync
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 6 - onReady should manage error in sync # time=6.589ms
    
    # Subtest: onReady should manage error in async
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 7 - onReady should manage error in async # time=32.39ms
    
    # Subtest: onReady should manage sync error
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 8 - onReady should manage sync error # time=5.581ms
    
    # Subtest: onReady can not add decorators or application hooks
        1..3
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should not error
    ok 9 - onReady can not add decorators or application hooks # time=13.43ms
    
    # Subtest: onReady cannot add lifecycle hooks
        1..5
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 10 - onReady cannot add lifecycle hooks # time=10.66ms
    
    # Subtest: onReady throw loading error
        1..1
        ok 1 - expect truthy value
    ok 11 - onReady throw loading error # time=2.333ms
    
    # Subtest: onReady does not call done
        1..6
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
        ok 6 - should be equal
    ok 12 - onReady does not call done # time=518.308ms
    
    # Subtest: onReady execution order
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 13 - onReady execution order # time=3.777ms
    
    # Subtest: ready return the server with callback
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 14 - ready return the server with callback # time=32.224ms
    
    # Subtest: ready return the server with Promise
        1..1
        ok 1 - should be equivalent
    ok 15 - ready return the server with Promise # time=21.744ms
    
    # Subtest: ready return registered
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
    ok 16 - ready return registered # time=25.863ms
    
    1..16
    # time=824.022ms
ok 35 - test/hooks.on-ready.test.js # time=824.022ms

# Subtest: test/hooks.test.js
    # Subtest: hooks
        1..43
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - (unnamed test)
        ok 4 - (unnamed test)
        ok 5 - (unnamed test)
        ok 6 - (unnamed test)
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - expect truthy value
        ok 20 - expect truthy value
        ok 21 - expect truthy value
        ok 22 - expect truthy value
        ok 23 - should be equal
        ok 24 - should be equal
        ok 25 - should be equal
        ok 26 - should be equal
        ok 27 - should be equal
        ok 28 - should be equal
        ok 29 - should be equal
        ok 30 - should be equal
        ok 31 - should be equal
        ok 32 - expect truthy value
        ok 33 - expect truthy value
        ok 34 - expect truthy value
        ok 35 - expect truthy value
        ok 36 - should not error
        ok 37 - should be equal
        ok 38 - should be equal
        ok 39 - should be equivalent
        ok 40 - should not error
        ok 41 - should be equal
        ok 42 - should not error
        ok 43 - should be equal
    ok 1 - hooks # time=158.853ms
    
    # Subtest: onRequest hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 2 - onRequest hook should support encapsulation / 1 # time=23.656ms
    
    # Subtest: onRequest hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 3 - onRequest hook should support encapsulation / 2 # time=30.938ms
    
    # Subtest: onRequest hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 4 - onRequest hook should support encapsulation / 3 # time=28.978ms
    
    # Subtest: preHandler hook should support encapsulation / 5
        1..17
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equivalent
    ok 5 - preHandler hook should support encapsulation / 5 # time=16.608ms
    
    # Subtest: onRoute hook should be called / 1
        1..2
        ok 1 - (unnamed test)
        ok 2 - should not error
    ok 6 - onRoute hook should be called / 1 # time=5.335ms
    
    # Subtest: onRoute hook should be called / 2
        1..5
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 7 - onRoute hook should be called / 2 # time=15.87ms
    
    # Subtest: onRoute hook should be called / 3
        1..5
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - (unnamed test)
        ok 5 - should not error
    ok 8 - onRoute hook should be called / 3 # time=28.626ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 4
        1..4
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - (unnamed test)
        ok 4 - should not error
    ok 9 - onRoute hook should be called (encapsulation support) / 4 # time=7.086ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 5
        1..2
        ok 1 - (unnamed test)
        ok 2 - should not error
    ok 10 - onRoute hook should be called (encapsulation support) / 5 # time=24.309ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 6
        1..1
        ok 1 - should not error
    ok 11 - onRoute hook should be called (encapsulation support) / 6 # time=4.64ms
    
    # Subtest: onRoute should keep the context
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
    ok 12 - onRoute should keep the context # time=12.931ms
    
    # Subtest: onRoute hook should pass correct route
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should not error
    ok 13 - onRoute hook should pass correct route # time=10.911ms
    
    # Subtest: onRoute hook should pass correct route with custom prefix
        1..11
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
    ok 14 - onRoute hook should pass correct route with custom prefix # time=6.083ms
    
    # Subtest: onRoute hook should pass correct route with custom options
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - type is function
        ok 6 - should not error
    ok 15 - onRoute hook should pass correct route with custom options # time=5.917ms
    
    # Subtest: onRoute hook should receive any route option
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 16 - onRoute hook should receive any route option # time=22.302ms
    
    # Subtest: onRoute hook should preserve system route configuration
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 17 - onRoute hook should preserve system route configuration # time=4.793ms
    
    # Subtest: onRoute hook should preserve handler function in options of shorthand route system configuration
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 18 - onRoute hook should preserve handler function in options of shorthand route system configuration # time=18.569ms
    
    # Subtest: onRoute hook should be called once when prefixTrailingSlash
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 19 - onRoute hook should be called once when prefixTrailingSlash # time=6.022ms
    
    # Subtest: onRoute hook should able to change the route url
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 20 - onRoute hook should able to change the route url # time=17.622ms
    
    # Subtest: onRoute hook that throws should be caught
        1..1
        ok 1 - expect truthy value
    ok 21 - onRoute hook that throws should be caught # time=3.76ms
    
    # Subtest: onRoute hook with many prefix
        1..3
        ok 1 - should match pattern provided
        ok 2 - should match pattern provided
        ok 3 - should not error
    ok 22 - onRoute hook with many prefix # time=20.146ms
    
    # Subtest: onRoute hook should not be called when it registered after route
        1..3
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
    ok 23 - onRoute hook should not be called when it registered after route # time=8.923ms
    
    # Subtest: onResponse hook should log request error
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 24 - onResponse hook should log request error # time=100.673ms
    
    # Subtest: onResponse hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 25 - onResponse hook should support encapsulation / 1 # time=7.12ms
    
    # Subtest: onResponse hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 26 - onResponse hook should support encapsulation / 2 # time=3.59ms
    
    # Subtest: onResponse hook should support encapsulation / 3
        1..16
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 27 - onResponse hook should support encapsulation / 3 # time=16.392ms
    
    # Subtest: onSend hook should support encapsulation / 1
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 28 - onSend hook should support encapsulation / 1 # time=11.363ms
    
    # Subtest: onSend hook should support encapsulation / 2
        1..16
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 29 - onSend hook should support encapsulation / 2 # time=14.587ms
    
    # Subtest: onSend hook is called after payload is serialized and headers are set
        1..30
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should be equal
        ok 15 - should not error
        ok 16 - should be equal
        ok 17 - should be equivalent
        ok 18 - should be equal
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equivalent
        ok 22 - should be equal
        ok 23 - should not error
        ok 24 - should be equal
        ok 25 - should be equivalent
        ok 26 - should be equal
        ok 27 - should not error
        ok 28 - should be equal
        ok 29 - should be equivalent
        ok 30 - should be equal
    ok 30 - onSend hook is called after payload is serialized and headers are set # time=22.31ms
    
    # Subtest: modify payload
        1..10
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - expect truthy value
        ok 4 - should be equivalent
        ok 5 - expect truthy value
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
    ok 31 - modify payload # time=6.746ms
    
    # Subtest: clear payload
        1..6
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 32 - clear payload # time=4.574ms
    
    # Subtest: onSend hook throws
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 33 - onSend hook throws # time=28.631ms
    
    # Subtest: onSend hook should receive valid request and reply objects if onRequest hook fails
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 34 - onSend hook should receive valid request and reply objects if onRequest hook fails # time=25.133ms
    
    # Subtest: onSend hook should receive valid request and reply objects if a custom content type parser fails
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 35 - onSend hook should receive valid request and reply objects if a custom content type parser fails # time=12.059ms
    
    # Subtest: Content-Length header should be updated if onSend hook modifies the payload
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 36 - Content-Length header should be updated if onSend hook modifies the payload # time=4.976ms
    
    # Subtest: cannot add hook after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 37 - cannot add hook after binding # time=4.029ms
    
    # Subtest: onRequest hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 38 - onRequest hooks should be able to block a request # time=4.542ms
    
    # Subtest: preValidation hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 39 - preValidation hooks should be able to block a request # time=22.566ms
    
    # Subtest: preValidation hooks should be able to change request body before validation
        1..4
        not ok 1 - Cannot read properties of undefined (reading 'forEach')
          ---
          origin:
            at:
              line: 14
              column: 24
              file: node_modules/ajv/lib/ajv.ts
              function: Ajv._addVocabularies
            stack: |
              Ajv._addVocabularies (node_modules/ajv/lib/ajv.ts:14:24)
              new Ajv (node_modules/ajv/lib/core.ts:308:10)
              new Ajv (node_modules/ajv/lib/ajv.ts:11:1)
              new ValidatorCompiler (node_modules/@fastify/ajv-compiler/index.js:51:18)
              buildCompilerFromPool (node_modules/@fastify/ajv-compiler/index.js:32:22)
              SchemaController.setupValidator (lib/schema-controller.js:100:30)
              Boot.<anonymous> (lib/route.js:314:32)
              node_modules/avvio/boot.js:160:12
            type: TypeError
            source: |2
                  super._addVocabularies()
                  draft7Vocabularies.forEach((v) => this.addVocabulary(v))
              -----------------------^
                  if (this.opts.discriminator) this.addKeyword(discriminator)
                }
          found:
            !error
            name: TypeError
            message: Cannot read properties of undefined (reading 'forEach')
            stack: >-
              TypeError: 
                  at Ajv._addVocabularies (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/ajv/lib/ajv.ts:14:24)
                  at new Ajv (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/ajv/lib/core.ts:308:10)
                  at new Ajv (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/ajv/lib/ajv.ts:11:1)
                  at new ValidatorCompiler (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/@fastify/ajv-compiler/index.js:51:18)
                  at buildCompilerFromPool (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/@fastify/ajv-compiler/index.js:32:22)
                  at SchemaController.setupValidator (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/lib/schema-controller.js:100:30)
                  at Boot.<anonymous> (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/lib/route.js:314:32)
                  at Object.onceWrapper (node:events:627:28)
                  at Boot.emit (node:events:525:35)
                  at /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/boot.js:160:12
          at:
            line: 1542
            column: 7
            file: test/hooks.test.js
          stack: |
            cb (test/hooks.test.js:1542:7)
            cb (fastify.js:486:18)
            manageErr (fastify.js:538:11)
            fastify.js:520:11
            Object._encapsulateThreeParam (node_modules/avvio/boot.js:557:7)
            Boot.timeoutCall (node_modules/avvio/boot.js:453:5)
            Boot.callWithCbOrNextTick (node_modules/avvio/boot.js:435:19)
            release (node_modules/fastq/queue.js:149:16)
            Object.resume (node_modules/fastq/queue.js:82:7)
            node_modules/avvio/boot.js:174:18
            node_modules/avvio/plugin.js:275:7
            done (node_modules/avvio/plugin.js:200:5)
            check (node_modules/avvio/plugin.js:224:9)
          source: |2
              }, (err, res) => {
                t.error(err)
            ------^
                t.equal(res.statusCode, 200)
                t.equal(res.payload, 'hello')
          ...
        
        not ok 2 - test unfinished
          ---
          stack: |
            Object.<anonymous> (test/hooks.test.js:1501:1)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          test: preValidation hooks should be able to change request body before validation
          at:
            line: 1501
            column: 1
            file: test/hooks.test.js
            function: Object.<anonymous>
          source: >
          
            test('preValidation hooks should be able to change request body before validation', t => {
          
            ^
              t.plan(4)
              const fastify = Fastify()
          ...
        
        # test count(2) != plan(4)
        # failed 2 of 2 tests
    not ok 40 - preValidation hooks should be able to change request body before validation # time=134.994ms
    
    not ok 41 - child test left in queue: t.test preParsing hooks should be able to block a request
    not ok 42 - child test left in queue: t.test preHandler hooks should be able to block a request
    not ok 43 - child test left in queue: t.test onRequest hooks should be able to block a request (last hook)
    not ok 44 - child test left in queue: t.test preHandler hooks should be able to block a request (last hook)
    not ok 45 - child test left in queue: t.test preParsing hooks should handle errors
    not ok 46 - child test left in queue: t.test onRequest respond with a stream
    not ok 47 - child test left in queue: t.test preHandler respond with a stream
    not ok 48 - child test left in queue: t.test Register an hook after a plugin inside a plugin
    not ok 49 - child test left in queue: t.test Register an hook after a plugin inside a plugin (with preHandler option)
    not ok 50 - child test left in queue: t.test Register hooks inside a plugin after an encapsulated plugin
    not ok 51 - child test left in queue: t.test onRequest hooks should run in the order in which they are defined
    not ok 52 - child test left in queue: t.test preHandler hooks should run in the order in which they are defined
    not ok 53 - child test left in queue: t.test onSend hooks should run in the order in which they are defined
    not ok 54 - child test left in queue: t.test onResponse hooks should run in the order in which they are defined
    not ok 55 - child test left in queue: t.test onRequest, preHandler, and onResponse hooks that resolve to a value do not cause an error
    not ok 56 - child test left in queue: t.test If a response header has been set inside an hook it shoulod not be overwritten by the final response handler
    not ok 57 - child test left in queue: t.test If the content type has been set inside an hook it should not be changed
    not ok 58 - child test left in queue: t.test request in onRequest, preParsing, preValidation and onResponse
    not ok 59 - child test left in queue: t.test preValidation hook should support encapsulation / 1
    not ok 60 - child test left in queue: t.test preValidation hook should support encapsulation / 2
    not ok 61 - child test left in queue: t.test preValidation hook should support encapsulation / 3
    not ok 62 - child test left in queue: t.test onError hook
    not ok 63 - child test left in queue: t.test reply.send should throw if called inside the onError hook
    not ok 64 - child test left in queue: t.test onError hook with setErrorHandler
    not ok 65 - child test left in queue: t.test preParsing hook should run before parsing and be able to modify the payload
    not ok 66 - child test left in queue: t.test preParsing hooks should run in the order in which they are defined
    not ok 67 - child test left in queue: t.test preParsing hooks should support encapsulation
    not ok 68 - child test left in queue: t.test preParsing hook should support encapsulation / 1
    not ok 69 - child test left in queue: t.test preParsing hook should support encapsulation / 2
    not ok 70 - child test left in queue: t.test preParsing hook should support encapsulation / 3
    not ok 71 - child test left in queue: t.test preSerialization hook should run before serialization and be able to modify the payload
    not ok 72 - child test left in queue: t.test preSerialization hook should be able to throw errors which are validated against schema response
    not ok 73 - child test left in queue: t.test preSerialization hook which returned error should still run onError hooks
    not ok 74 - child test left in queue: t.test preSerialization hooks should run in the order in which they are defined
    not ok 75 - child test left in queue: t.test preSerialization hooks should support encapsulation
    not ok 76 - child test left in queue: t.test onRegister hook should be called / 1
    not ok 77 - child test left in queue: t.test onRegister hook should be called / 2
    not ok 78 - child test left in queue: t.test onRegister hook should be called / 3
    not ok 79 - child test left in queue: t.test onRegister hook should be called (encapsulation)
    not ok 80 - child test left in queue: t.test early termination, onRequest
    not ok 81 - child test left in queue: t.test reply.send should throw if undefined error is thrown
    not ok 82 - child test left in queue: t.test reply.send should throw if undefined error is thrown at preParsing hook
    not ok 83 - child test left in queue: t.test reply.send should throw if undefined error is thrown at onSend hook
    not ok 84 - child test left in queue: t.test onTimeout should be triggered
    not ok 85 - child test left in queue: t.test onTimeout should be triggered and socket _meta is set
    1..40
    # test count(85) != plan(40)
    # failed 91 of 85 tests
    # time=947.441ms
not ok 36 - test/hooks.test.js # time=947.441ms
  ---
  env: {}
  file: test/hooks.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/hooks.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify
  failures:
    - &a1
      id: 41
      name: "child test left in queue: t.test preParsing hooks should be able to block
        a request"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a2
      id: 42
      name: "child test left in queue: t.test preHandler hooks should be able to block
        a request"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a3
      id: 43
      name: "child test left in queue: t.test onRequest hooks should be able to block
        a request (last hook)"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a4
      id: 44
      name: "child test left in queue: t.test preHandler hooks should be able to block
        a request (last hook)"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a5
      id: 45
      name: "child test left in queue: t.test preParsing hooks should handle errors"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a6
      id: 46
      name: "child test left in queue: t.test onRequest respond with a stream"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a7
      id: 47
      name: "child test left in queue: t.test preHandler respond with a stream"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a8
      id: 48
      name: "child test left in queue: t.test Register an hook after a plugin inside a
        plugin"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a9
      id: 49
      name: "child test left in queue: t.test Register an hook after a plugin inside a
        plugin (with preHandler option)"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a10
      id: 50
      name: "child test left in queue: t.test Register hooks inside a plugin after an
        encapsulated plugin"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a11
      id: 51
      name: "child test left in queue: t.test onRequest hooks should run in the order
        in which they are defined"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a12
      id: 52
      name: "child test left in queue: t.test preHandler hooks should run in the order
        in which they are defined"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a13
      id: 53
      name: "child test left in queue: t.test onSend hooks should run in the order in
        which they are defined"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a14
      id: 54
      name: "child test left in queue: t.test onResponse hooks should run in the order
        in which they are defined"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a15
      id: 55
      name: "child test left in queue: t.test onRequest, preHandler, and onResponse
        hooks that resolve to a value do not cause an error"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a16
      id: 56
      name: "child test left in queue: t.test If a response header has been set inside
        an hook it shoulod not be overwritten by the final response handler"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a17
      id: 57
      name: "child test left in queue: t.test If the content type has been set inside
        an hook it should not be changed"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a18
      id: 58
      name: "child test left in queue: t.test request in onRequest, preParsing,
        preValidation and onResponse"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a19
      id: 59
      name: "child test left in queue: t.test preValidation hook should support
        encapsulation / 1"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a20
      id: 60
      name: "child test left in queue: t.test preValidation hook should support
        encapsulation / 2"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a21
      id: 61
      name: "child test left in queue: t.test preValidation hook should support
        encapsulation / 3"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a22
      id: 62
      name: "child test left in queue: t.test onError hook"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a23
      id: 63
      name: "child test left in queue: t.test reply.send should throw if called inside
        the onError hook"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a24
      id: 64
      name: "child test left in queue: t.test onError hook with setErrorHandler"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a25
      id: 65
      name: "child test left in queue: t.test preParsing hook should run before
        parsing and be able to modify the payload"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a26
      id: 66
      name: "child test left in queue: t.test preParsing hooks should run in the order
        in which they are defined"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a27
      id: 67
      name: "child test left in queue: t.test preParsing hooks should support
        encapsulation"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a28
      id: 68
      name: "child test left in queue: t.test preParsing hook should support
        encapsulation / 1"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a29
      id: 69
      name: "child test left in queue: t.test preParsing hook should support
        encapsulation / 2"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a30
      id: 70
      name: "child test left in queue: t.test preParsing hook should support
        encapsulation / 3"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a31
      id: 71
      name: "child test left in queue: t.test preSerialization hook should run before
        serialization and be able to modify the payload"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a32
      id: 72
      name: "child test left in queue: t.test preSerialization hook should be able to
        throw errors which are validated against schema response"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a33
      id: 73
      name: "child test left in queue: t.test preSerialization hook which returned
        error should still run onError hooks"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a34
      id: 74
      name: "child test left in queue: t.test preSerialization hooks should run in the
        order in which they are defined"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a35
      id: 75
      name: "child test left in queue: t.test preSerialization hooks should support
        encapsulation"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a36
      id: 76
      name: "child test left in queue: t.test onRegister hook should be called / 1"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a37
      id: 77
      name: "child test left in queue: t.test onRegister hook should be called / 2"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a38
      id: 78
      name: "child test left in queue: t.test onRegister hook should be called / 3"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a39
      id: 79
      name: "child test left in queue: t.test onRegister hook should be called
        (encapsulation)"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a40
      id: 80
      name: "child test left in queue: t.test early termination, onRequest"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a41
      id: 81
      name: "child test left in queue: t.test reply.send should throw if undefined
        error is thrown"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a42
      id: 82
      name: "child test left in queue: t.test reply.send should throw if undefined
        error is thrown at preParsing hook"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a43
      id: 83
      name: "child test left in queue: t.test reply.send should throw if undefined
        error is thrown at onSend hook"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a44
      id: 84
      name: "child test left in queue: t.test onTimeout should be triggered"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - &a45
      id: 85
      name: "child test left in queue: t.test onTimeout should be triggered and socket
        _meta is set"
      fullname: test/hooks.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 40
    - *a1
    - *a2
    - *a3
    - *a4
    - *a5
    - *a6
    - *a7
    - *a8
    - *a9
    - *a10
    - *a11
    - *a12
    - *a13
    - *a14
    - *a15
    - *a16
    - *a17
    - *a18
    - *a19
    - *a20
    - *a21
    - *a22
    - *a23
    - *a24
    - *a25
    - *a26
    - *a27
    - *a28
    - *a29
    - *a30
    - *a31
    - *a32
    - *a33
    - *a34
    - *a35
    - *a36
    - *a37
    - *a38
    - *a39
    - *a40
    - *a41
    - *a42
    - *a43
    - *a44
    - *a45
  exitCode: 1
  ...

# Subtest: test/http2/closing.test.js
    # Subtest: http/2 request while fastify closing
        ok 1 - http2 successfully loaded
        ok 2 - should not error
        # Subtest: return 200
            ok 1 - should be equal
            1..1
        ok 3 - return 200 # time=17.517ms
        
        1..3
    ok 1 - http/2 request while fastify closing # time=86.956ms
    
    # Subtest: http/2 request while fastify closing - return503OnClosing: false
        ok 1 - http2 successfully loaded
        ok 2 - should not error
        # Subtest: return 200
            ok 1 - should be equal
            1..1
        ok 3 - return 200 # time=7.191ms
        
        1..3
    ok 2 - http/2 request while fastify closing - return503OnClosing: false # time=19.802ms
    
    # Subtest: http/2 closes successfully with async await
        1..0
    ok 3 - http/2 closes successfully with async await # time=122.67ms
    
    # Subtest: https/2 closes successfully with async await
        1..0
    ok 4 - https/2 closes successfully with async await # time=27.682ms
    
    # Subtest: http/2 server side session emits a timeout event
        ok 1 - should be equal
        1..1
    ok 5 - http/2 server side session emits a timeout event # time=110.308ms
    
    1..5
    # time=406.683ms
ok 37 - test/http2/closing.test.js # time=406.683ms

# Subtest: test/http2/constraint.test.js
    # Subtest: A route supports host constraints under http2 protocol and secure connection
        1..5
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request - no constrain
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - https get request - no constrain # time=54.881ms
        
        # Subtest: https get request - constrain
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - https get request - constrain # time=14.214ms
        
        # Subtest: https get request - constrain - not found
            1..1
            ok 1 - should be equal
        ok 5 - https get request - constrain - not found # time=11.097ms
        
    ok 1 - A route supports host constraints under http2 protocol and secure connection # time=169.892ms
    
    1..1
    # time=200.436ms
ok 38 - test/http2/constraint.test.js # time=200.436ms

# Subtest: test/http2/head.test.js
    ok 1 - http2 successfully loaded
    ok 2 - should not error
    # Subtest: http HEAD request
        1..1
        ok 1 - should be equal
    ok 3 - http HEAD request # time=66.434ms
    
    1..3
    # time=153.282ms
ok 39 - test/http2/head.test.js # time=153.282ms

# Subtest: test/http2/missing-http2-module.test.js
    # Subtest: should throw when http2 module cannot be found
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - should throw when http2 module cannot be found # time=11.513ms
    
    1..1
    # time=17.159ms
ok 40 - test/http2/missing-http2-module.test.js # time=17.159ms

# Subtest: test/http2/plain.test.js
    ok 1 - http2 successfully loaded
    ok 2 - should not error
    # Subtest: http get request
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 3 - http get request # time=57.949ms
    
    # Subtest: http hostname
        1..1
        ok 1 - should be equal
    ok 4 - http hostname # time=9.126ms
    
    1..4
    # time=180.408ms
ok 41 - test/http2/plain.test.js # time=180.408ms

# Subtest: test/http2/secure-with-fallback.test.js
    # Subtest: secure with fallback
        1..7
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get error
            1..1
            ok 1 - should be equal
        ok 3 - https get error # time=43.274ms
        
        # Subtest: https post
            1..2
            ok 1 - should be equal
            ok 2 - should be equivalent
        ok 4 - https post # time=19.597ms
        
        # Subtest: https get request
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - https get request # time=14.222ms
        
        # Subtest: http1 get request
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 6 - http1 get request # time=22.786ms
        
        # Subtest: http1 get error
            1..2
            ok 1 - should not error
            ok 2 - should be equal
        ok 7 - http1 get error # time=8.349ms
        
    ok 1 - secure with fallback # time=202.358ms
    
    1..1
    # time=232.812ms
ok 42 - test/http2/secure-with-fallback.test.js # time=232.812ms

# Subtest: test/http2/secure.test.js
    # Subtest: secure
        1..4
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - https get request # time=42.887ms
        
        # Subtest: https get request without trust proxy - protocol
            1..2
            ok 1 - should be equivalent
            ok 2 - should be equivalent
        ok 4 - https get request without trust proxy - protocol # time=23.403ms
        
    ok 1 - secure # time=158.692ms
    
    1..1
    # time=190.271ms
ok 43 - test/http2/secure.test.js # time=190.271ms

# Subtest: test/http2/unknown-http-method.test.js
    ok 1 - should not error
    # Subtest: http UNKNOWN_METHOD request
        1..2
        ok 1 - should be equal
        ok 2 - should be equivalent
    ok 2 - http UNKNOWN_METHOD request # time=36.082ms
    
    1..2
    # time=97.465ms
ok 44 - test/http2/unknown-http-method.test.js # time=97.465ms

# Subtest: test/https/custom-https-server.test.js
    # Subtest: Should support a custom https server
        1..4
        ok 1 - it is called twice for every HOST interface
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - Should support a custom https server # time=96.691ms
    
    1..1
    # time=132.244ms
ok 45 - test/https/custom-https-server.test.js # time=132.244ms

# Subtest: test/https/https.test.js
    # Subtest: https
        1..4
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 3 - https get request # time=39.656ms
        
        # Subtest: https get request without trust proxy - protocol
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 4 - https get request without trust proxy - protocol # time=21.699ms
        
    ok 1 - https # time=147.164ms
    
    1..1
    # time=177.569ms
ok 46 - test/https/https.test.js # time=177.569ms

# Subtest: test/imports.test.js
    # Subtest: should import as default
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 1 - should import as default # time=690.002ms
    
    # Subtest: should import as esm
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 2 - should import as esm # time=2.009ms
    
    1..2
    # time=706.65ms
ok 47 - test/imports.test.js # time=706.65ms

# Subtest: test/inject.test.js
    # Subtest: inject should exist
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 1 - inject should exist # time=15.78ms
    
    # Subtest: should wait for the ready event
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 2 - should wait for the ready event # time=593.23ms
    
    # Subtest: inject get request
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 3 - inject get request # time=7.98ms
    
    # Subtest: inject get request - code check
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 4 - inject get request - code check # time=9.974ms
    
    # Subtest: inject get request - headers check
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 5 - inject get request - headers check # time=6.935ms
    
    # Subtest: inject get request - querystring
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 6 - inject get request - querystring # time=8.892ms
    
    # Subtest: inject get request - params
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 7 - inject get request - params # time=6.594ms
    
    # Subtest: inject get request - wildcard
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - inject get request - wildcard # time=9.798ms
    
    # Subtest: inject get request - headers
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 9 - inject get request - headers # time=11.103ms
    
    # Subtest: inject post request
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 10 - inject post request # time=29.123ms
    
    # Subtest: inject post request - send stream
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 11 - inject post request - send stream # time=15.739ms
    
    # Subtest: inject get request - reply stream
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 12 - inject get request - reply stream # time=7.71ms
    
    # Subtest: inject promisify - waiting for ready event
        1..1
        ok 1 - should be equal
    ok 13 - inject promisify - waiting for ready event # time=9.099ms
    
    # Subtest: inject promisify - after the ready event
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 14 - inject promisify - after the ready event # time=4.98ms
    
    # Subtest: inject promisify - when the server is up
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 15 - inject promisify - when the server is up # time=14.291ms
    
    # Subtest: should reject in error case
        1..1
        ok 1 - should be equal
    ok 16 - should reject in error case # time=504.483ms
    
    # Subtest: inject a multipart request using form-body
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 17 - inject a multipart request using form-body # time=8.797ms
    
    # Subtest: should error the promise if ready errors
        1..3
        ok 1 - after is called
        ok 2 - expect truthy value
        ok 3 - should be equal
    ok 18 - should error the promise if ready errors # time=8.569ms
    
    # Subtest: should throw error if callback specified and if ready errors
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 19 - should throw error if callback specified and if ready errors # time=3.784ms
    
    # Subtest: should support builder-style injection with ready app
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
    ok 20 - should support builder-style injection with ready app # time=18.044ms
    
    # Subtest: should support builder-style injection with non-ready app
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
    ok 21 - should support builder-style injection with non-ready app # time=5.611ms
    
    # Subtest: should handle errors in builder-style injection correctly
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 22 - should handle errors in builder-style injection correctly # time=4.057ms
    
    1..22
    # time=1333.223ms
ok 48 - test/inject.test.js # time=1333.223ms

# Subtest: test/internals/all.test.js
    # Subtest: fastify.all should add all the methods to the same url
        1..14
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equivalent
    ok 1 - fastify.all should add all the methods to the same url # time=60.291ms
    
    1..1
    # time=66.627ms
ok 49 - test/internals/all.test.js # time=66.627ms

# Subtest: test/internals/contentTypeParser.test.js
    # Subtest: rawBody function
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - rawBody function # time=27.879ms
    
    # Subtest: Should support Webpack and faux modules
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - Should support Webpack and faux modules # time=17.286ms
    
    1..2
    # time=62.076ms
ok 50 - test/internals/contentTypeParser.test.js # time=62.076ms

# Subtest: test/internals/decorator.test.js
    # Subtest: decorate should add the given method to its instance
        1..1
        ok 1 - expect truthy value
    ok 1 - decorate should add the given method to its instance # time=5.796ms
    
    # Subtest: decorate is chainable
        1..3
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
    ok 2 - decorate is chainable # time=1.88ms
    
    # Subtest: checkExistence should check if a property is part of the given instance
        1..1
        ok 1 - expect truthy value
    ok 3 - checkExistence should check if a property is part of the given instance # time=1.254ms
    
    # Subtest: checkExistence should find the instance if not given
        1..1
        ok 1 - expect truthy value
    ok 4 - checkExistence should find the instance if not given # time=1.132ms
    
    # Subtest: checkExistence should check the prototype as well
        1..1
        ok 1 - expect truthy value
    ok 5 - checkExistence should check the prototype as well # time=1.015ms
    
    # Subtest: checkDependencies should throw if a dependency is not present
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 6 - checkDependencies should throw if a dependency is not present # time=1.592ms
    
    # Subtest: decorate should internally call checkDependencies
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 7 - decorate should internally call checkDependencies # time=0.951ms
    
    # Subtest: decorate should recognize getter/setter objects
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - (unnamed test)
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 8 - decorate should recognize getter/setter objects # time=1.928ms
    
    1..8
    # time=70.234ms
ok 51 - test/internals/decorator.test.js # time=70.234ms

# Subtest: test/internals/handleRequest.test.js
    1..0 # no tests found
not ok 52 - test/internals/handleRequest.test.js # time=1265.066ms
  ---
  env: {}
  file: test/internals/handleRequest.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/internals/handleRequest.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify
  exitCode: 1
  ...

# Subtest: test/internals/hookRunner.test.js
    # Subtest: hookRunner - Basic
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 1 - hookRunner - Basic # time=10.774ms
    
    # Subtest: hookRunner - In case of error should skip to done
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 2 - hookRunner - In case of error should skip to done # time=2.782ms
    
    # Subtest: hookRunner - Should handle throw
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 3 - hookRunner - Should handle throw # time=1.708ms
    
    # Subtest: hookRunner - Should handle promises
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 4 - hookRunner - Should handle promises # time=28.64ms
    
    # Subtest: hookRunner - In case of error should skip to done (with promises)
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 5 - hookRunner - In case of error should skip to done (with promises) # time=2.586ms
    
    # Subtest: hookRunner - Be able to exit before its natural end
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 6 - hookRunner - Be able to exit before its natural end # time=1.309ms
    
    # Subtest: hookRunner - Promises that resolve to a value do not change the state
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 7 - hookRunner - Promises that resolve to a value do not change the state # time=1.529ms
    
    # Subtest: onSendHookRunner - Basic
        1..13
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equal
        ok 10 - should not error
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equal
    ok 8 - onSendHookRunner - Basic # time=8.739ms
    
    # Subtest: onSendHookRunner - Can change the payload
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 9 - onSendHookRunner - Can change the payload # time=3.837ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 10 - onSendHookRunner - In case of error should skip to done # time=2.61ms
    
    # Subtest: onSendHookRunner - Should handle promises
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 11 - onSendHookRunner - Should handle promises # time=3.066ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done (with promises)
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 12 - onSendHookRunner - In case of error should skip to done (with promises) # time=2.853ms
    
    # Subtest: onSendHookRunner - Be able to exit before its natural end
        1..2
        ok 1 - should be equivalent
        ok 2 - should be equivalent
    ok 13 - onSendHookRunner - Be able to exit before its natural end # time=1.115ms
    
    1..13
    # time=117.192ms
ok 53 - test/internals/hookRunner.test.js # time=117.192ms

# Subtest: test/internals/hooks.test.js
    # Subtest: hooks should have 4 array with the registered hooks
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        1..8
    ok 1 - hooks should have 4 array with the registered hooks # time=9.624ms
    
    # Subtest: hooks.add should add a hook to the given hook
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        1..14
    ok 2 - hooks.add should add a hook to the given hook # time=6.195ms
    
    # Subtest: hooks should throw on unexisting handler
        1..1
        ok 1 - (unnamed test)
    ok 3 - hooks should throw on unexisting handler # time=1.409ms
    
    # Subtest: should throw on wrong parameters
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 4 - should throw on wrong parameters # time=2.245ms
    
    1..4
    # time=35.137ms
ok 54 - test/internals/hooks.test.js # time=35.137ms

# Subtest: test/internals/initialConfig.test.js
    # Subtest: Fastify.initialConfig is an object
        1..1
        ok 1 - type is object
    ok 1 - Fastify.initialConfig is an object # time=15.98ms
    
    # Subtest: without options passed to Fastify, initialConfig should expose default values
        1..1
        ok 1 - should be equivalent
    ok 2 - without options passed to Fastify, initialConfig should expose default values # time=8.579ms
    
    # Subtest: Fastify.initialConfig should expose all options
        1..20
        ok 1 - should be equal
        ok 2 - for security reason the key cert is hidden
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - expect truthy value
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equal
    ok 3 - Fastify.initialConfig should expose all options # time=12.392ms
    
    # Subtest: Should throw if you try to modify Fastify.initialConfig
        1..4
        ok 1 - type is TypeError
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - (unnamed test)
    ok 4 - Should throw if you try to modify Fastify.initialConfig # time=3.824ms
    
    # Subtest: We must avoid shallow freezing and ensure that the whole object is freezed
        1..4
        ok 1 - type is TypeError
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - key cert removed
    ok 5 - We must avoid shallow freezing and ensure that the whole object is freezed # time=16.548ms
    
    # Subtest: https value check
        1..1
        ok 1 - expect falsey value
    ok 6 - https value check # time=1.73ms
    
    # Subtest: Return an error if options do not match the validation schema
        1..6
        ok 1 - type is Error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
        ok 6 - (unnamed test)
    ok 7 - Return an error if options do not match the validation schema # time=59.631ms
    
    # Subtest: Original options must not be frozen
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - Original options must not be frozen # time=3.47ms
    
    # Subtest: Original options must not be altered (test deep cloning)
        1..3
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 9 - Original options must not be altered (test deep cloning) # time=5.334ms
    
    # Subtest: Should not have issues when passing stream options to Pino.js
        1..15
        ok 1 - type is object
        ok 2 - should be equivalent
        ok 3 - listen at log message is ok
        ok 4 - should not error
        ok 5 - reqId is defined
        ok 6 - req is defined
        ok 7 - message is set
        ok 8 - method is get
        ok 9 - expect truthy value
        ok 10 - should be equal
        ok 11 - reqId is defined
        ok 12 - res is defined
        ok 13 - message is set
        ok 14 - statusCode is 200
        ok 15 - responseTime is defined
    ok 10 - Should not have issues when passing stream options to Pino.js # time=46.853ms
    
    # Subtest: deepFreezeObject() should not throw on TypedArray
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - (unnamed test)
    ok 11 - deepFreezeObject() should not throw on TypedArray # time=2.523ms
    
    # Subtest: Fastify.initialConfig should accept the deprecated versioning option
        1..1
        ok 1 - should be equal
    ok 12 - Fastify.initialConfig should accept the deprecated versioning option # time=5.595ms
    
    # Subtest: pluginTimeout should be parsed correctly
        ok 1 - should be equal
        ok 2 - should be equal
        1..2
    ok 13 - pluginTimeout should be parsed correctly # time=3.462ms
    
    1..13
    # time=262.664ms
ok 55 - test/internals/initialConfig.test.js # time=262.664ms

# Subtest: test/internals/logger.test.js
    # Subtest: time resolution
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - time resolution # time=7.131ms
    
    # Subtest: The logger should add a unique id for every request
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - the id should not be duplicated
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - the id should not be duplicated
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - the id should not be duplicated
        ok 11 - expect truthy value
        ok 12 - should not error
        ok 13 - the id should not be duplicated
        ok 14 - expect truthy value
        ok 15 - should not error
        ok 16 - the id should not be duplicated
        ok 17 - expect truthy value
        ok 18 - should not error
        ok 19 - the id should not be duplicated
        ok 20 - expect truthy value
        ok 21 - should not error
        ok 22 - the id should not be duplicated
        ok 23 - expect truthy value
        ok 24 - should not error
        ok 25 - the id should not be duplicated
        ok 26 - expect truthy value
        ok 27 - should not error
        ok 28 - the id should not be duplicated
        ok 29 - expect truthy value
        ok 30 - should not error
        ok 31 - the id should not be duplicated
        1..31
    ok 2 - The logger should add a unique id for every request # time=86.413ms
    
    # Subtest: The logger should reuse request id header for req.id
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - the request id from the header should be returned
        1..4
    ok 3 - The logger should reuse request id header for req.id # time=9.778ms
    
    # Subtest: The logger should error if both stream and file destination are given
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - The logger should error if both stream and file destination are given # time=1.694ms
    
    # Subtest: The serializer prevent fails if the request socket is undefined
        1..1
        ok 1 - should be equivalent
    ok 5 - The serializer prevent fails if the request socket is undefined # time=5.471ms
    
    1..5
    # time=120.754ms
ok 56 - test/internals/logger.test.js # time=120.754ms

# Subtest: test/internals/plugin.test.js
    # Subtest: shouldSkipOverride should check the 'skip-override' symbol
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 1 - shouldSkipOverride should check the 'skip-override' symbol # time=7.212ms
    
    # Subtest: getPluginName should return plugin name if the file is cached
        1..1
        ok 1 - should be equal
    ok 2 - getPluginName should return plugin name if the file is cached # time=2.356ms
    
    # Subtest: getMeta should return the object stored with the 'plugin-meta' symbol
        1..1
        ok 1 - should be equivalent
    ok 3 - getMeta should return the object stored with the 'plugin-meta' symbol # time=5.482ms
    
    # Subtest: checkDecorators should check if the given decorator is present in the instance
        1..1
        ok 1 - Everything ok
    ok 4 - checkDecorators should check if the given decorator is present in the instance # time=2.19ms
    
    # Subtest: checkDecorators should check if the given decorator is present in the instance (errored)
        1..1
        ok 1 - should be equal
    ok 5 - checkDecorators should check if the given decorator is present in the instance (errored) # time=1.618ms
    
    # Subtest: checkDecorators should accept optional decorators
        1..1
        ok 1 - Everything ok
    ok 6 - checkDecorators should accept optional decorators # time=1.288ms
    
    # Subtest: checkDependencies should check if the given dependency is present in the instance
        1..1
        ok 1 - Everything ok
    ok 7 - checkDependencies should check if the given dependency is present in the instance # time=1.447ms
    
    # Subtest: checkDependencies should check if the given dependency is present in the instance (errored)
        1..1
        ok 1 - should be equal
    ok 8 - checkDependencies should check if the given dependency is present in the instance (errored) # time=24.695ms
    
    1..8
    # time=107.495ms
ok 57 - test/internals/plugin.test.js # time=107.495ms

# Subtest: test/internals/reply-serialize.test.js
    # Subtest: Reply\#compileSerializationSchema
        1..4
        # Subtest: Should return a serialization function
            1..4
            # test count(0) != plan(4)
            # failed 1 test
        not ok 1 - Should return a serialization function # time=76.89ms
          ---
          failures:
            - tapError: incorrect number of tests
          ...
        
        # Subtest: Should reuse the serialize fn across multiple invocations - Route without schema
            1..17
            ok 1 - build the schema compilation function
            ok 2 - should be equal
            # test count(2) != plan(17)
            # failed 1 of 2 tests
        not ok 2 - Should reuse the serialize fn across multiple invocations - Route without schema # time=12.918ms
          ---
          failures:
            - tapError: incorrect number of tests
          ...
        
        # Subtest: Should use the custom serializer compiler for the route
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equivalent
            ok 7 - {"hello":"world"}
            ok 8 - should be equivalent
            ok 9 - {"hello":"world"}
            ok 10 - should be equal
        ok 3 - Should use the custom serializer compiler for the route # time=41.339ms
        
        # Subtest: Should build a WeakMap for cache when called
            1..4
            ok 1 - should be equal
            # test count(1) != plan(4)
            # failed 1 test
        not ok 4 - Should build a WeakMap for cache when called # time=7.349ms
          ---
          failures:
            - tapError: incorrect number of tests
          ...
        
        # failed 3 of 4 tests
    not ok 1 - Reply\#compileSerializationSchema # time=178.834ms
    
    # Subtest: Reply\#getSerializationFunction
        1..3
        # Subtest: Should retrieve the serialization function from the Schema definition
            1..9
            ok 1 - should be equal
            ok 2 - should be equal
            not ok 3 - Failed building the serialization schema for GET: /:id, due to error Cannot read properties of undefined (reading 'forEach')
              ---
              stack: |
                Boot.<anonymous> (lib/route.js:328:21)
                node_modules/avvio/boot.js:160:12
                node_modules/avvio/plugin.js:275:7
                done (node_modules/avvio/plugin.js:200:5)
                check (node_modules/avvio/plugin.js:224:9)
              at:
                line: 328
                column: 21
                file: lib/route.js
                function: Boot.<anonymous>
              type: FastifyError
              code: FST_ERR_SCH_SERIALIZATION_BUILD
              statusCode: 500
              tapCaught: returnedPromiseRejection
              test: Should retrieve the serialization function from the Schema definition
              source: >2
                            } catch (error) {
                              throw new FST_ERR_SCH_SERIALIZATION_BUILD(opts.method, url, error.message)
                --------------------^
                            }
                          }
              ...
            
            # test count(3) != plan(9)
            # failed 1 of 3 tests
        not ok 1 - Should retrieve the serialization function from the Schema definition # time=77.38ms
        
        # Subtest: Should retrieve the serialization function from the cached one
            1..6
            ok 1 - should be equal
            # test count(1) != plan(6)
            # failed 1 test
        not ok 2 - Should retrieve the serialization function from the cached one # time=8.375ms
          ---
          failures:
            - tapError: incorrect number of tests
          ...
        
        # Subtest: Should not instantiate a WeakMap if it is not needed
            1..4
            ok 1 - expect falsey value
            ok 2 - should be equal
            ok 3 - expect falsey value
            ok 4 - should be equal
        ok 3 - Should not instantiate a WeakMap if it is not needed # time=27.434ms
        
        # failed 2 of 3 tests
    not ok 2 - Reply\#getSerializationFunction # time=125.947ms
    
    # Subtest: Reply\#serializeInput
        1..5
        # Subtest: Should throw if missed serialization function from HTTP status
            1..2
            ok 1 - should be equal
            ok 2 - should be equivalent
        ok 1 - Should throw if missed serialization function from HTTP status # time=40.747ms
        
        # Subtest: Should use a serializer fn from HTTP status
            1..4
            not ok 1 - Failed building the serialization schema for GET: /, due to error Cannot read properties of undefined (reading 'forEach')
              ---
              stack: |
                Boot.<anonymous> (lib/route.js:328:21)
                node_modules/avvio/boot.js:160:12
                node_modules/avvio/plugin.js:275:7
                done (node_modules/avvio/plugin.js:200:5)
                check (node_modules/avvio/plugin.js:224:9)
              at:
                line: 328
                column: 21
                file: lib/route.js
                function: Boot.<anonymous>
              type: FastifyError
              code: FST_ERR_SCH_SERIALIZATION_BUILD
              statusCode: 500
              tapCaught: returnedPromiseRejection
              test: Should use a serializer fn from HTTP status
              source: >2
                            } catch (error) {
                              throw new FST_ERR_SCH_SERIALIZATION_BUILD(opts.method, url, error.message)
                --------------------^
                            }
                          }
              ...
            
            # test count(1) != plan(4)
            # failed 1 test
        not ok 2 - Should use a serializer fn from HTTP status # time=42.42ms
        
        # Subtest: Should compile a serializer out of a schema if serializer fn missed
            1..10
            ok 1 - should be equal
            ok 2 - expect falsey value
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 3 - Should compile a serializer out of a schema if serializer fn missed # time=9.822ms
        
        # Subtest: Should use a cached serializer fn
            1..12
            ok 1 - should be equal
            ok 2 - expect falsey value
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
            ok 11 - should be equal
            ok 12 - should be equal
        ok 4 - Should use a cached serializer fn # time=10.747ms
        
        # Subtest: Should instantiate a WeakMap after first call
            1..3
            ok 1 - should be equal
            # test count(1) != plan(3)
            # failed 1 test
        not ok 5 - Should instantiate a WeakMap after first call # time=19.19ms
          ---
          failures:
            - tapError: incorrect number of tests
          ...
        
        # failed 2 of 5 tests
    not ok 3 - Reply\#serializeInput # time=143.683ms
    
    1..3
    # failed 3 of 3 tests
    # time=466.097ms
not ok 58 - test/internals/reply-serialize.test.js # time=466.097ms
  ---
  env: {}
  file: test/internals/reply-serialize.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/internals/reply-serialize.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify
  exitCode: 1
  ...

# Subtest: test/internals/reply.test.js
    # Subtest: Once called, Reply should return an object with methods
        1..13
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should be equal
        ok 13 - should be equal
    ok 1 - Once called, Reply should return an object with methods # time=13.594ms
    
    # Subtest: reply.send will logStream error and destroy the stream
        1..1
        ok 1 - Error not logged and not streamed
    ok 2 - reply.send will logStream error and destroy the stream # time=27.205ms
    
    # Subtest: reply.send throw with circular JSON
        1..1
        ok 1 - Converting circular structure to JSON
    ok 3 - reply.send throw with circular JSON # time=2.655ms
    
    # Subtest: reply.send returns itself
        1..1
        ok 1 - should be equal
    ok 4 - reply.send returns itself # time=1.996ms
    
    # Subtest: reply.serializer should set a custom serializer
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 5 - reply.serializer should set a custom serializer # time=1.09ms
    
    # Subtest: reply.serializer should support running preSerialization hooks
        1..3
        ok 1 - preSerialization
        ok 2 - should not error
        ok 3 - should be equal
    ok 6 - reply.serializer should support running preSerialization hooks # time=620.176ms
    
    # Subtest: reply.serialize should serialize payload
        1..1
        ok 1 - should be equal
    ok 7 - reply.serialize should serialize payload # time=1.383ms
    
    # Subtest: reply.serialize should serialize payload with a custom serializer
        1..2
        ok 1 - should be equal
        ok 2 - custom serializer not called
    ok 8 - reply.serialize should serialize payload with a custom serializer # time=1.277ms
    
    # Subtest: reply.serialize should serialize payload with a context default serializer
        1..2
        ok 1 - should be equal
        ok 2 - custom serializer not called
    ok 9 - reply.serialize should serialize payload with a context default serializer # time=1.284ms
    
    # Subtest: reply.serialize should serialize payload with Fastify instance
        1..2
        not ok 1 - Failed building the serialization schema for GET: /, due to error Cannot read properties of undefined (reading 'forEach')
          ---
          origin:
            at:
              line: 328
              column: 21
              file: lib/route.js
              function: Boot.<anonymous>
            stack: |
              Boot.<anonymous> (lib/route.js:328:21)
              node_modules/avvio/boot.js:160:12
              node_modules/avvio/plugin.js:275:7
              done (node_modules/avvio/plugin.js:200:5)
              check (node_modules/avvio/plugin.js:224:9)
            type: FastifyError
            code: FST_ERR_SCH_SERIALIZATION_BUILD
            statusCode: 500
            source: >2
                          } catch (error) {
                            throw new FST_ERR_SCH_SERIALIZATION_BUILD(opts.method, url, error.message)
              --------------------^
                          }
                        }
          found:
            !error
            name: FastifyError
            message: "Failed building the serialization schema for GET: /, due to error
              Cannot read properties of undefined (reading 'forEach')"
            stack: >-
              FastifyError: 
                  at Boot.<anonymous> (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/lib/route.js:328:21)
                  at Object.onceWrapper (node:events:627:28)
                  at Boot.emit (node:events:525:35)
                  at /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/boot.js:160:12
                  at /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/plugin.js:275:7
                  at done (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/plugin.js:200:5)
                  at check (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/plugin.js:224:9)
                  at node:internal/process/task_queues:141:7
                  at AsyncResource.runInAsyncScope (node:async_hooks:203:9)
                  at AsyncResource.runMicrotask (node:internal/process/task_queues:138:8)
            code: FST_ERR_SCH_SERIALIZATION_BUILD
            statusCode: 500
          at:
            line: 207
            column: 7
            file: test/internals/reply.test.js
          stack: |
            cb (test/internals/reply.test.js:207:7)
            cb (fastify.js:486:18)
            manageErr (fastify.js:538:11)
            fastify.js:520:11
            Object._encapsulateThreeParam (node_modules/avvio/boot.js:557:7)
            Boot.timeoutCall (node_modules/avvio/boot.js:453:5)
            Boot.callWithCbOrNextTick (node_modules/avvio/boot.js:435:19)
            release (node_modules/fastq/queue.js:149:16)
            Object.resume (node_modules/fastq/queue.js:82:7)
            node_modules/avvio/boot.js:174:18
            node_modules/avvio/plugin.js:275:7
            done (node_modules/avvio/plugin.js:200:5)
            check (node_modules/avvio/plugin.js:224:9)
          source: |2
              }, (err, res) => {
                t.error(err)
            ------^
                t.equal(res.payload, '{"foo":"bar"}')
              })
          ...
        
        not ok 2 - test unfinished
          ---
          stack: |
            Object.<anonymous> (test/internals/reply.test.js:180:1)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          test: reply.serialize should serialize payload with Fastify instance
          at:
            line: 180
            column: 1
            file: test/internals/reply.test.js
            function: Object.<anonymous>
          source: |
          
            test('reply.serialize should serialize payload with Fastify instance', t => {
            ^
              t.plan(2)
              const fastify = require('../..')()
          ...
        
        # failed 2 of 2 tests
    not ok 10 - reply.serialize should serialize payload with Fastify instance # time=148.216ms
    
    not ok 11 - child test left in queue: t.test within an instance
    not ok 12 - child test left in queue: t.test buffer without content type should send a application/octet-stream and raw buffer
    not ok 13 - child test left in queue: t.test buffer with content type should not send application/octet-stream
    not ok 14 - child test left in queue: t.test stream with content type should not send application/octet-stream
    not ok 15 - child test left in queue: t.test stream without content type should not send application/octet-stream
    not ok 16 - child test left in queue: t.test stream using reply.raw.writeHead should return customize headers
    not ok 17 - child test left in queue: t.test plain string without content type should send a text/plain
    not ok 18 - child test left in queue: t.test plain string with content type should be sent unmodified
    not ok 19 - child test left in queue: t.test plain string with content type and custom serializer should be serialized
    not ok 20 - child test left in queue: t.test plain string with content type application/json should NOT be serialized as json
    not ok 21 - child test left in queue: t.test plain string with custom json content type should NOT be serialized as json
    not ok 22 - child test left in queue: t.test non-string with content type application/json SHOULD be serialized as json
    not ok 23 - child test left in queue: t.test non-string with custom json's content-type SHOULD be serialized as json
    not ok 24 - child test left in queue: t.test non-string with custom json content type SHOULD be serialized as json
    not ok 25 - child test left in queue: t.test error object with a content type that is not application/json should work
    not ok 26 - child test left in queue: t.test undefined payload should be sent as-is
    not ok 27 - child test left in queue: t.test for HEAD method, no body should be sent but content-length should be
    not ok 28 - child test left in queue: t.test reply.send(new NotFound()) should not invoke the 404 handler
    not ok 29 - child test left in queue: t.test reply can set multiple instances of same header
    not ok 30 - child test left in queue: t.test reply.hasHeader returns correct values
    not ok 31 - child test left in queue: t.test reply.getHeader returns correct values
    not ok 32 - child test left in queue: t.test reply.getHeader returns raw header if there is not in the reply headers
    not ok 33 - child test left in queue: t.test reply.getHeaders returns correct values
    not ok 34 - child test left in queue: t.test reply.removeHeader can remove the value
    not ok 35 - child test left in queue: t.test reply.header can reset the value
    not ok 36 - child test left in queue: t.test reply.hasHeader computes raw and fastify headers
    not ok 37 - child test left in queue: t.test Reply should handle JSON content type with a charset
    not ok 38 - child test left in queue: t.test Content type and charset set previously
    not ok 39 - child test left in queue: t.test .status() is an alias for .code()
    not ok 40 - child test left in queue: t.test .statusCode is getter and setter
    not ok 41 - child test left in queue: t.test reply.header setting multiple cookies as multiple Set-Cookie headers
    not ok 42 - child test left in queue: t.test should emit deprecation warning when trying to modify the reply.sent property
    not ok 43 - child test left in queue: t.test should throw error when passing falsy value to reply.sent
    not ok 44 - child test left in queue: t.test should throw error when attempting to set reply.sent more than once
    not ok 45 - child test left in queue: t.test should not throw error when attempting to set reply.sent if the underlining request was sent
    not ok 46 - child test left in queue: t.test reply.getResponseTime() should return 0 before the timer is initialised on the reply by setting up response listeners
    not ok 47 - child test left in queue: t.test reply.getResponseTime() should return a number greater than 0 after the timer is initialised on the reply by setting up response listeners
    not ok 48 - child test left in queue: t.test reply.getResponseTime() should return the time since a request started while inflight
    not ok 49 - child test left in queue: t.test reply.getResponseTime() should return the same value after a request is finished
    not ok 50 - child test left in queue: t.test reply should use the custom serializer
    not ok 51 - child test left in queue: t.test reply should use the right serializer in encapsulated context
    not ok 52 - child test left in queue: t.test reply should use the right serializer in deep encapsulated context
    not ok 53 - child test left in queue: t.test reply should use the route serializer
    not ok 54 - child test left in queue: t.test cannot set the replySerializer when the server is running
    not ok 55 - child test left in queue: t.test reply should not call the custom serializer for errors and not found
    not ok 56 - child test left in queue: t.test reply.then
    not ok 57 - child test left in queue: t.test reply.sent should read from response.writableEnded if it is defined
    not ok 58 - child test left in queue: t.test redirect to an invalid URL should not crash the server
    not ok 59 - child test left in queue: t.test invalid response headers should not crash the server
    not ok 60 - child test left in queue: t.test invalid response headers when sending back an error
    not ok 61 - child test left in queue: t.test invalid response headers and custom error handler
    1..10
    # test count(61) != plan(10)
    # failed 103 of 61 tests
    # time=857.047ms
not ok 59 - test/internals/reply.test.js # time=857.047ms
  ---
  env: {}
  file: test/internals/reply.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/internals/reply.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify
  failures:
    - &a1
      id: 11
      name: "child test left in queue: t.test within an instance"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a2
      id: 12
      name: "child test left in queue: t.test buffer without content type should send
        a application/octet-stream and raw buffer"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a3
      id: 13
      name: "child test left in queue: t.test buffer with content type should not send
        application/octet-stream"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a4
      id: 14
      name: "child test left in queue: t.test stream with content type should not send
        application/octet-stream"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a5
      id: 15
      name: "child test left in queue: t.test stream without content type should not
        send application/octet-stream"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a6
      id: 16
      name: "child test left in queue: t.test stream using reply.raw.writeHead should
        return customize headers"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a7
      id: 17
      name: "child test left in queue: t.test plain string without content type should
        send a text/plain"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a8
      id: 18
      name: "child test left in queue: t.test plain string with content type should be
        sent unmodified"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a9
      id: 19
      name: "child test left in queue: t.test plain string with content type and
        custom serializer should be serialized"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a10
      id: 20
      name: "child test left in queue: t.test plain string with content type
        application/json should NOT be serialized as json"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a11
      id: 21
      name: "child test left in queue: t.test plain string with custom json content
        type should NOT be serialized as json"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a12
      id: 22
      name: "child test left in queue: t.test non-string with content type
        application/json SHOULD be serialized as json"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a13
      id: 23
      name: "child test left in queue: t.test non-string with custom json's
        content-type SHOULD be serialized as json"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a14
      id: 24
      name: "child test left in queue: t.test non-string with custom json content type
        SHOULD be serialized as json"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a15
      id: 25
      name: "child test left in queue: t.test error object with a content type that is
        not application/json should work"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a16
      id: 26
      name: "child test left in queue: t.test undefined payload should be sent as-is"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a17
      id: 27
      name: "child test left in queue: t.test for HEAD method, no body should be sent
        but content-length should be"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a18
      id: 28
      name: "child test left in queue: t.test reply.send(new NotFound()) should not
        invoke the 404 handler"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a19
      id: 29
      name: "child test left in queue: t.test reply can set multiple instances of same
        header"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a20
      id: 30
      name: "child test left in queue: t.test reply.hasHeader returns correct values"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a21
      id: 31
      name: "child test left in queue: t.test reply.getHeader returns correct values"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a22
      id: 32
      name: "child test left in queue: t.test reply.getHeader returns raw header if
        there is not in the reply headers"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a23
      id: 33
      name: "child test left in queue: t.test reply.getHeaders returns correct values"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a24
      id: 34
      name: "child test left in queue: t.test reply.removeHeader can remove the value"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a25
      id: 35
      name: "child test left in queue: t.test reply.header can reset the value"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a26
      id: 36
      name: "child test left in queue: t.test reply.hasHeader computes raw and fastify
        headers"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a27
      id: 37
      name: "child test left in queue: t.test Reply should handle JSON content type
        with a charset"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a28
      id: 38
      name: "child test left in queue: t.test Content type and charset set previously"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a29
      id: 39
      name: "child test left in queue: t.test .status() is an alias for .code()"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a30
      id: 40
      name: "child test left in queue: t.test .statusCode is getter and setter"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a31
      id: 41
      name: "child test left in queue: t.test reply.header setting multiple cookies as
        multiple Set-Cookie headers"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a32
      id: 42
      name: "child test left in queue: t.test should emit deprecation warning when
        trying to modify the reply.sent property"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a33
      id: 43
      name: "child test left in queue: t.test should throw error when passing falsy
        value to reply.sent"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a34
      id: 44
      name: "child test left in queue: t.test should throw error when attempting to
        set reply.sent more than once"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a35
      id: 45
      name: "child test left in queue: t.test should not throw error when attempting
        to set reply.sent if the underlining request was sent"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a36
      id: 46
      name: "child test left in queue: t.test reply.getResponseTime() should return 0
        before the timer is initialised on the reply by setting up response
        listeners"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a37
      id: 47
      name: "child test left in queue: t.test reply.getResponseTime() should return a
        number greater than 0 after the timer is initialised on the reply by
        setting up response listeners"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a38
      id: 48
      name: "child test left in queue: t.test reply.getResponseTime() should return
        the time since a request started while inflight"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a39
      id: 49
      name: "child test left in queue: t.test reply.getResponseTime() should return
        the same value after a request is finished"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a40
      id: 50
      name: "child test left in queue: t.test reply should use the custom serializer"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a41
      id: 51
      name: "child test left in queue: t.test reply should use the right serializer in
        encapsulated context"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a42
      id: 52
      name: "child test left in queue: t.test reply should use the right serializer in
        deep encapsulated context"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a43
      id: 53
      name: "child test left in queue: t.test reply should use the route serializer"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a44
      id: 54
      name: "child test left in queue: t.test cannot set the replySerializer when the
        server is running"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a45
      id: 55
      name: "child test left in queue: t.test reply should not call the custom
        serializer for errors and not found"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a46
      id: 56
      name: "child test left in queue: t.test reply.then"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a47
      id: 57
      name: "child test left in queue: t.test reply.sent should read from
        response.writableEnded if it is defined"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a48
      id: 58
      name: "child test left in queue: t.test redirect to an invalid URL should not
        crash the server"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a49
      id: 59
      name: "child test left in queue: t.test invalid response headers should not
        crash the server"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a50
      id: 60
      name: "child test left in queue: t.test invalid response headers when sending
        back an error"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - &a51
      id: 61
      name: "child test left in queue: t.test invalid response headers and custom
        error handler"
      fullname: test/internals/reply.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 10
    - *a1
    - *a2
    - *a3
    - *a4
    - *a5
    - *a6
    - *a7
    - *a8
    - *a9
    - *a10
    - *a11
    - *a12
    - *a13
    - *a14
    - *a15
    - *a16
    - *a17
    - *a18
    - *a19
    - *a20
    - *a21
    - *a22
    - *a23
    - *a24
    - *a25
    - *a26
    - *a27
    - *a28
    - *a29
    - *a30
    - *a31
    - *a32
    - *a33
    - *a34
    - *a35
    - *a36
    - *a37
    - *a38
    - *a39
    - *a40
    - *a41
    - *a42
    - *a43
    - *a44
    - *a45
    - *a46
    - *a47
    - *a48
    - *a49
    - *a50
    - *a51
  exitCode: 1
  ...

# Subtest: test/internals/request-validate.test.js
    # Subtest: \#compileValidationSchema
        1..5
        # Subtest: Should return a function - Route without schema
            1..3
            # test count(0) != plan(3)
            # failed 1 test
        not ok 1 - Should return a function - Route without schema # time=88.172ms
          ---
          failures:
            - tapError: incorrect number of tests
          ...
        
        # Subtest: Should reuse the validate fn across multiple invocations - Route without schema
            1..16
            ok 1 - should be equal
            # test count(1) != plan(16)
            # failed 1 test
        not ok 2 - Should reuse the validate fn across multiple invocations - Route without schema # time=12.409ms
          ---
          failures:
            - tapError: incorrect number of tests
          ...
        
        # Subtest: Should return a function - Route with schema
            1..3
            not ok 1 - Cannot read properties of undefined (reading 'forEach')
              ---
              stack: |
                Ajv._addVocabularies (node_modules/ajv/lib/ajv.ts:14:24)
                new Ajv (node_modules/ajv/lib/core.ts:308:10)
                new Ajv (node_modules/ajv/lib/ajv.ts:11:1)
                new ValidatorCompiler (node_modules/@fastify/ajv-compiler/index.js:51:18)
                buildCompilerFromPool (node_modules/@fastify/ajv-compiler/index.js:32:22)
                SchemaController.setupValidator (lib/schema-controller.js:100:30)
                Boot.<anonymous> (lib/route.js:314:32)
                node_modules/avvio/boot.js:160:12
              at:
                line: 14
                column: 24
                file: node_modules/ajv/lib/ajv.ts
                function: Ajv._addVocabularies
              type: TypeError
              tapCaught: returnedPromiseRejection
              test: Should return a function - Route with schema
              source: |2
                    super._addVocabularies()
                    draft7Vocabularies.forEach((v) => this.addVocabulary(v))
                -----------------------^
                    if (this.opts.discriminator) this.addKeyword(discriminator)
                  }
              ...
            
            # test count(1) != plan(3)
            # failed 1 test
        not ok 3 - Should return a function - Route with schema # time=120.228ms
        
        # Subtest: Should use the custom validator compiler for the route
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equivalent
            ok 7 - expect truthy value
            ok 8 - should be equivalent
            ok 9 - expect truthy value
            ok 10 - should be equal
        ok 4 - Should use the custom validator compiler for the route # time=12.052ms
        
        # Subtest: Should instantiate a WeakMap when executed for first time
            1..5
            ok 1 - should be equal
            # test count(1) != plan(5)
            # failed 1 test
        not ok 5 - Should instantiate a WeakMap when executed for first time # time=6.338ms
          ---
          failures:
            - tapError: incorrect number of tests
          ...
        
        # failed 4 of 5 tests
    not ok 1 - \#compileValidationSchema # time=277.198ms
    
    # Subtest: \#getValidationFunction
        1..4
        # Subtest: Should return a validation function
            1..1
            # test count(0) != plan(1)
            # failed 1 test
        not ok 1 - Should return a validation function # time=32.404ms
          ---
          failures:
            - tapError: incorrect number of tests
          ...
        
        # Subtest: Should return undefined if no schema compiled
            1..2
            ok 1 - expect falsey value
            ok 2 - expect falsey value
        ok 2 - Should return undefined if no schema compiled # time=13.27ms
        
        # Subtest: Should return the validation function from each HTTP part
            1..15
            not ok 1 - Cannot read properties of undefined (reading 'forEach')
              ---
              stack: |
                Ajv._addVocabularies (node_modules/ajv/lib/ajv.ts:14:24)
                new Ajv (node_modules/ajv/lib/core.ts:308:10)
                new Ajv (node_modules/ajv/lib/ajv.ts:11:1)
                new ValidatorCompiler (node_modules/@fastify/ajv-compiler/index.js:51:18)
                buildCompilerFromPool (node_modules/@fastify/ajv-compiler/index.js:32:22)
                SchemaController.setupValidator (lib/schema-controller.js:100:30)
                Boot.<anonymous> (lib/route.js:314:32)
                node_modules/avvio/boot.js:160:12
              at:
                line: 14
                column: 24
                file: node_modules/ajv/lib/ajv.ts
                function: Ajv._addVocabularies
              type: TypeError
              tapCaught: returnedPromiseRejection
              test: Should return the validation function from each HTTP part
              source: |2
                    super._addVocabularies()
                    draft7Vocabularies.forEach((v) => this.addVocabulary(v))
                -----------------------^
                    if (this.opts.discriminator) this.addKeyword(discriminator)
                  }
              ...
            
            # test count(1) != plan(15)
            # failed 1 test
        not ok 3 - Should return the validation function from each HTTP part # time=33.967ms
        
        # Subtest: Should not set a WeakMap if there is no schema
            1..1
            ok 1 - should be equal
        ok 4 - Should not set a WeakMap if there is no schema # time=20.305ms
        
        # failed 2 of 4 tests
    not ok 2 - \#getValidationFunction # time=112.598ms
    
    # Subtest: \#validate
        1..7
        # Subtest: Should return true/false if input valid - Route without schema
            1..2
            # test count(0) != plan(2)
            # failed 1 test
        not ok 1 - Should return true/false if input valid - Route without schema # time=40.053ms
          ---
          failures:
            - tapError: incorrect number of tests
          ...
        
        # Subtest: Should use the custom validator compiler for the route
            1..9
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equivalent
            ok 6 - should be equivalent
            ok 7 - expect truthy value
            ok 8 - expect truthy value
            ok 9 - should be equal
        ok 2 - Should use the custom validator compiler for the route # time=9.24ms
        
        # Subtest: Should return true/false if input valid - With Schema for Route defined
            1..8
            not ok 1 - Cannot read properties of undefined (reading 'forEach')
              ---
              stack: |
                Ajv._addVocabularies (node_modules/ajv/lib/ajv.ts:14:24)
                new Ajv (node_modules/ajv/lib/core.ts:308:10)
                new Ajv (node_modules/ajv/lib/ajv.ts:11:1)
                new ValidatorCompiler (node_modules/@fastify/ajv-compiler/index.js:51:18)
                buildCompilerFromPool (node_modules/@fastify/ajv-compiler/index.js:32:22)
                SchemaController.setupValidator (lib/schema-controller.js:100:30)
                Boot.<anonymous> (lib/route.js:314:32)
                node_modules/avvio/boot.js:160:12
              at:
                line: 14
                column: 24
                file: node_modules/ajv/lib/ajv.ts
                function: Ajv._addVocabularies
              type: TypeError
              tapCaught: returnedPromiseRejection
              test: Should return true/false if input valid - With Schema for Route defined
              source: |2
                    super._addVocabularies()
                    draft7Vocabularies.forEach((v) => this.addVocabulary(v))
                -----------------------^
                    if (this.opts.discriminator) this.addKeyword(discriminator)
                  }
              ...
            
            # test count(1) != plan(8)
            # failed 1 test
        not ok 3 - Should return true/false if input valid - With Schema for Route defined # time=46.346ms
        
        # Subtest: Should throw if missing validation fn for HTTP part and not schema provided
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 4 - Should throw if missing validation fn for HTTP part and not schema provided # time=21.264ms
        
        # Subtest: Should throw if missing validation fn for HTTP part and not valid schema provided
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 5 - Should throw if missing validation fn for HTTP part and not valid schema provided # time=31.785ms
        
        # Subtest: Should throw if invalid schema passed
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 6 - Should throw if invalid schema passed # time=14.988ms
        
        # Subtest: Should set a WeakMap if compiling the very first schema
            1..3
            ok 1 - should be equal
            # test count(1) != plan(3)
            # failed 1 test
        not ok 7 - Should set a WeakMap if compiling the very first schema # time=13.174ms
          ---
          failures:
            - tapError: incorrect number of tests
          ...
        
        # failed 3 of 7 tests
    not ok 3 - \#validate # time=204.798ms
    
    # Subtest: Nested Context
        1..1
        # Subtest: Level_1
            1..3
            # Subtest: \#compileValidationSchema
                1..4
                # Subtest: Should return a function - Route without schema
                    1..3
                    # test count(0) != plan(3)
                    # failed 1 test
                not ok 1 - Should return a function - Route without schema # time=82.511ms
                  ---
                  failures:
                    - tapError: incorrect number of tests
                  ...
                
                # Subtest: Should reuse the validate fn across multiple invocations - Route without schema
                    1..16
                    ok 1 - should be equal
                    # test count(1) != plan(16)
                    # failed 1 test
                not ok 2 - Should reuse the validate fn across multiple invocations - Route without schema # time=17.7ms
                  ---
                  failures:
                    - tapError: incorrect number of tests
                  ...
                
                # Subtest: Should return a function - Route with schema
                    1..3
                    not ok 1 - Cannot read properties of undefined (reading 'forEach')
                      ---
                      stack: |
                        Ajv._addVocabularies (node_modules/ajv/lib/ajv.ts:14:24)
                        new Ajv (node_modules/ajv/lib/core.ts:308:10)
                        new Ajv (node_modules/ajv/lib/ajv.ts:11:1)
                        new ValidatorCompiler (node_modules/@fastify/ajv-compiler/index.js:51:18)
                        buildCompilerFromPool (node_modules/@fastify/ajv-compiler/index.js:32:22)
                        SchemaController.setupValidator (lib/schema-controller.js:100:30)
                        Boot.<anonymous> (lib/route.js:314:32)
                        node_modules/avvio/boot.js:160:12
                      at:
                        line: 14
                        column: 24
                        file: node_modules/ajv/lib/ajv.ts
                        function: Ajv._addVocabularies
                      type: TypeError
                      tapCaught: returnedPromiseRejection
                      test: Should return a function - Route with schema
                      source: |2
                            super._addVocabularies()
                            draft7Vocabularies.forEach((v) => this.addVocabulary(v))
                        -----------------------^
                            if (this.opts.discriminator) this.addKeyword(discriminator)
                          }
                      ...
                    
                    # test count(1) != plan(3)
                    # failed 1 test
                not ok 3 - Should return a function - Route with schema # time=14.605ms
                
                # Subtest: Should use the custom validator compiler for the route
                    1..10
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - should be equal
                    ok 5 - should be equal
                    ok 6 - should be equivalent
                    ok 7 - expect truthy value
                    ok 8 - should be equivalent
                    ok 9 - expect truthy value
                    ok 10 - should be equal
                ok 4 - Should use the custom validator compiler for the route # time=9.674ms
                
                # failed 3 of 4 tests
            not ok 1 - \#compileValidationSchema # time=153.556ms
            
            # Subtest: \#getValidationFunction
                1..6
                # Subtest: Should return a validation function
                    1..1
                    # test count(0) != plan(1)
                    # failed 1 test
                not ok 1 - Should return a validation function # time=25.95ms
                  ---
                  failures:
                    - tapError: incorrect number of tests
                  ...
                
                # Subtest: Should return undefined if no schema compiled
                    1..1
                    ok 1 - expect falsey value
                ok 2 - Should return undefined if no schema compiled # time=5.403ms
                
                # Subtest: Should return the validation function from each HTTP part
                    1..15
                    not ok 1 - Cannot read properties of undefined (reading 'forEach')
                      ---
                      stack: |
                        Ajv._addVocabularies (node_modules/ajv/lib/ajv.ts:14:24)
                        new Ajv (node_modules/ajv/lib/core.ts:308:10)
                        new Ajv (node_modules/ajv/lib/ajv.ts:11:1)
                        new ValidatorCompiler (node_modules/@fastify/ajv-compiler/index.js:51:18)
                        buildCompilerFromPool (node_modules/@fastify/ajv-compiler/index.js:32:22)
                        SchemaController.setupValidator (lib/schema-controller.js:100:30)
                        Boot.<anonymous> (lib/route.js:314:32)
                        node_modules/avvio/boot.js:160:12
                      at:
                        line: 14
                        column: 24
                        file: node_modules/ajv/lib/ajv.ts
                        function: Ajv._addVocabularies
                      type: TypeError
                      tapCaught: returnedPromiseRejection
                      test: Should return the validation function from each HTTP part
                      source: |2
                            super._addVocabularies()
                            draft7Vocabularies.forEach((v) => this.addVocabulary(v))
                        -----------------------^
                            if (this.opts.discriminator) this.addKeyword(discriminator)
                          }
                      ...
                    
                    # test count(1) != plan(15)
                    # failed 1 test
                not ok 3 - Should return the validation function from each HTTP part # time=25.849ms
                
                # Subtest: Should return a validation function - nested
                    1..6
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - expect falsey value
                    ok 5 - should be equal
                    ok 6 - should be equal
                ok 4 - Should return a validation function - nested # time=8.916ms
                
                # Subtest: Should return undefined if no schema compiled - nested
                    1..3
                    ok 1 - should be equal
                    ok 2 - expect falsey value
                    ok 3 - should be equal
                ok 5 - Should return undefined if no schema compiled - nested # time=27.203ms
                
                # Subtest: Should per-route defined validation compiler
                    1..5
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should not be equal
                    ok 4 - should be equal
                    ok 5 - should be equal
                ok 6 - Should per-route defined validation compiler # time=32.821ms
                
                # failed 2 of 6 tests
            not ok 2 - \#getValidationFunction # time=142.02ms
            
            # Subtest: \#validate
                1..3
                # Subtest: Should return true/false if input valid - Route without schema
                    1..2
                    # test count(0) != plan(2)
                    # failed 1 test
                not ok 1 - Should return true/false if input valid - Route without schema # time=14.864ms
                  ---
                  failures:
                    - tapError: incorrect number of tests
                  ...
                
                # Subtest: Should use the custom validator compiler for the route
                    1..10
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - should be equal
                    ok 5 - should be equivalent
                    ok 6 - should be equivalent
                    ok 7 - expect truthy value
                    ok 8 - expect truthy value
                    ok 9 - should be equal
                    ok 10 - should be equal
                ok 2 - Should use the custom validator compiler for the route # time=15.866ms
                
                # Subtest: Should return true/false if input valid - With Schema for Route defined and scoped validator compiler
                    not ok 1 - Cannot read properties of undefined (reading 'forEach')
                      ---
                      stack: |
                        Ajv._addVocabularies (node_modules/ajv/lib/ajv.ts:14:24)
                        new Ajv (node_modules/ajv/lib/core.ts:308:10)
                        new Ajv (node_modules/ajv/lib/ajv.ts:11:1)
                        Test.<anonymous> (test/internals/request-validate.test.js:1178:29)
                      at:
                        line: 14
                        column: 24
                        file: node_modules/ajv/lib/ajv.ts
                        function: Ajv._addVocabularies
                      type: TypeError
                      tapCaught: returnedPromiseRejection
                      test: Should return true/false if input valid - With Schema for Route defined
                        and scoped validator compiler
                      source: |2
                            super._addVocabularies()
                            draft7Vocabularies.forEach((v) => this.addVocabulary(v))
                        -----------------------^
                            if (this.opts.discriminator) this.addKeyword(discriminator)
                          }
                      ...
                    
                    1..1
                    # failed 1 test
                not ok 3 - Should return true/false if input valid - With Schema for Route defined and scoped validator compiler # time=25.818ms
                
                # failed 2 of 3 tests
            not ok 3 - \#validate # time=80.471ms
            
            # failed 3 of 3 tests
        not ok 1 - Level_1 # time=386.715ms
        
        # failed 1 test
    not ok 4 - Nested Context # time=392.979ms
    
    # Subtest
        # Subtest
            not ok 2 - Invalid id
              ---
              at:
                line: 301
                column: 17
                file: test/internals/request-validate.test.js
              stack: |
                Object.handler (test/internals/request-validate.test.js:301:17)
                preHandlerCallback (lib/handleRequest.js:126:28)
                preValidationCallback (lib/handleRequest.js:110:5)
                handler (lib/handleRequest.js:74:7)
                lib/contentTypeParser.js:177:9
                done (lib/contentTypeParser.js:171:14)
                Parser.fn (lib/contentTypeParser.js:273:5)
                Request.onEnd (lib/contentTypeParser.js:252:27)
              source: |2
                            default:
                              t.fail('Invalid id')
                ----------------^
                          }
              ...
            
            not ok 3 - Invalid id
              ---
              at:
                line: 301
                column: 17
                file: test/internals/request-validate.test.js
              stack: |
                Object.handler (test/internals/request-validate.test.js:301:17)
                preHandlerCallback (lib/handleRequest.js:126:28)
                preValidationCallback (lib/handleRequest.js:110:5)
                handler (lib/handleRequest.js:74:7)
                lib/contentTypeParser.js:177:9
                done (lib/contentTypeParser.js:171:14)
                Parser.fn (lib/contentTypeParser.js:273:5)
                Request.onEnd (lib/contentTypeParser.js:252:27)
              source: |2
                            default:
                              t.fail('Invalid id')
                ----------------^
                          }
              ...
            
            not ok 4 - Invalid id
              ---
              at:
                line: 301
                column: 17
                file: test/internals/request-validate.test.js
              stack: |
                Object.handler (test/internals/request-validate.test.js:301:17)
                preHandlerCallback (lib/handleRequest.js:126:28)
                preValidationCallback (lib/handleRequest.js:110:5)
                handler (lib/handleRequest.js:74:7)
                lib/contentTypeParser.js:177:9
                done (lib/contentTypeParser.js:171:14)
                Parser.fn (lib/contentTypeParser.js:273:5)
                Request.onEnd (lib/contentTypeParser.js:252:27)
              source: |2
                            default:
                              t.fail('Invalid id')
                ----------------^
                          }
              ...
            
            not ok 5 - Invalid id
              ---
              at:
                line: 301
                column: 17
                file: test/internals/request-validate.test.js
              stack: |
                Object.handler (test/internals/request-validate.test.js:301:17)
                preHandlerCallback (lib/handleRequest.js:126:28)
                preValidationCallback (lib/handleRequest.js:110:5)
                handler (lib/handleRequest.js:74:7)
                lib/contentTypeParser.js:177:9
                done (lib/contentTypeParser.js:171:14)
                Parser.fn (lib/contentTypeParser.js:273:5)
                Request.onEnd (lib/contentTypeParser.js:252:27)
              source: |2
                            default:
                              t.fail('Invalid id')
                ----------------^
                          }
              ...
            
            not ok 2 - Invalid id
              ---
              at:
                line: 452
                column: 17
                file: test/internals/request-validate.test.js
              stack: |
                Object.handler (test/internals/request-validate.test.js:452:17)
                preHandlerCallback (lib/handleRequest.js:126:28)
                preValidationCallback (lib/handleRequest.js:110:5)
                handler (lib/handleRequest.js:74:7)
                lib/contentTypeParser.js:177:9
                done (lib/contentTypeParser.js:171:14)
                Parser.fn (lib/contentTypeParser.js:273:5)
                Request.onEnd (lib/contentTypeParser.js:252:27)
              source: |2
                            default:
                              t.fail('Invalid id')
                ----------------^
                          }
              ...
            
            not ok 3 - Invalid id
              ---
              at:
                line: 452
                column: 17
                file: test/internals/request-validate.test.js
              stack: |
                Object.handler (test/internals/request-validate.test.js:452:17)
                preHandlerCallback (lib/handleRequest.js:126:28)
                preValidationCallback (lib/handleRequest.js:110:5)
                handler (lib/handleRequest.js:74:7)
                lib/contentTypeParser.js:177:9
                done (lib/contentTypeParser.js:171:14)
                Parser.fn (lib/contentTypeParser.js:273:5)
                Request.onEnd (lib/contentTypeParser.js:252:27)
              source: |2
                            default:
                              t.fail('Invalid id')
                ----------------^
                          }
              ...
            
            not ok 4 - Invalid id
              ---
              at:
                line: 452
                column: 17
                file: test/internals/request-validate.test.js
              stack: |
                Object.handler (test/internals/request-validate.test.js:452:17)
                preHandlerCallback (lib/handleRequest.js:126:28)
                preValidationCallback (lib/handleRequest.js:110:5)
                handler (lib/handleRequest.js:74:7)
                lib/contentTypeParser.js:177:9
                done (lib/contentTypeParser.js:171:14)
                Parser.fn (lib/contentTypeParser.js:273:5)
                Request.onEnd (lib/contentTypeParser.js:252:27)
              source: |2
                            default:
                              t.fail('Invalid id')
                ----------------^
                          }
              ...
            
            # Subtest
                # Subtest
                    not ok 2 - Invalid id
                      ---
                      at:
                        line: 921
                        column: 23
                        file: test/internals/request-validate.test.js
                      stack: |
                        Object.handler (test/internals/request-validate.test.js:921:23)
                        preHandlerCallback (lib/handleRequest.js:126:28)
                        preValidationCallback (lib/handleRequest.js:110:5)
                        handler (lib/handleRequest.js:74:7)
                        lib/contentTypeParser.js:177:9
                        done (lib/contentTypeParser.js:171:14)
                        Parser.fn (lib/contentTypeParser.js:273:5)
                        Request.onEnd (lib/contentTypeParser.js:252:27)
                      source: |2
                                          default:
                                            t.fail('Invalid id')
                        ----------------------^
                                        }
                      ...
                    
                    not ok 3 - Invalid id
                      ---
                      at:
                        line: 921
                        column: 23
                        file: test/internals/request-validate.test.js
                      stack: |
                        Object.handler (test/internals/request-validate.test.js:921:23)
                        preHandlerCallback (lib/handleRequest.js:126:28)
                        preValidationCallback (lib/handleRequest.js:110:5)
                        handler (lib/handleRequest.js:74:7)
                        lib/contentTypeParser.js:177:9
                        done (lib/contentTypeParser.js:171:14)
                        Parser.fn (lib/contentTypeParser.js:273:5)
                        Request.onEnd (lib/contentTypeParser.js:252:27)
                      source: |2
                                          default:
                                            t.fail('Invalid id')
                        ----------------------^
                                        }
                      ...
                    
                    not ok 4 - Invalid id
                      ---
                      at:
                        line: 921
                        column: 23
                        file: test/internals/request-validate.test.js
                      stack: |
                        Object.handler (test/internals/request-validate.test.js:921:23)
                        preHandlerCallback (lib/handleRequest.js:126:28)
                        preValidationCallback (lib/handleRequest.js:110:5)
                        handler (lib/handleRequest.js:74:7)
                        lib/contentTypeParser.js:177:9
                        done (lib/contentTypeParser.js:171:14)
                        Parser.fn (lib/contentTypeParser.js:273:5)
                        Request.onEnd (lib/contentTypeParser.js:252:27)
                      source: |2
                                          default:
                                            t.fail('Invalid id')
                        ----------------------^
                                        }
                      ...
                    
                    not ok 5 - Invalid id
                      ---
                      at:
                        line: 921
                        column: 23
                        file: test/internals/request-validate.test.js
                      stack: |
                        Object.handler (test/internals/request-validate.test.js:921:23)
                        preHandlerCallback (lib/handleRequest.js:126:28)
                        preValidationCallback (lib/handleRequest.js:110:5)
                        handler (lib/handleRequest.js:74:7)
                        lib/contentTypeParser.js:177:9
                        done (lib/contentTypeParser.js:171:14)
                        Parser.fn (lib/contentTypeParser.js:273:5)
                        Request.onEnd (lib/contentTypeParser.js:252:27)
                      source: |2
                                          default:
                                            t.fail('Invalid id')
                        ----------------------^
                                        }
                      ...
                    
    1..4
                1..0 # no tests found
            # test count(7) != plan(null)
            # failed 11 of 7 tests
        # Subtest
        1..0 # no tests found
    # test count(4) != plan(null)
    # failed 5 of 4 tests
    # time=1188.311ms
                1..0 # no tests found
        1..0 # no tests found
                    # test count(4) != plan(null)
                    # failed 5 of 4 tests
                1..0 # no tests found
        1..0 # no tests found
not ok 60 - test/internals/request-validate.test.js # time=1188.311ms
  ---
  env: {}
  file: test/internals/request-validate.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/internals/request-validate.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify
  failures:
    - tapError: no plan
  exitCode: 1
  ...

# Subtest: test/internals/request.test.js
    # Subtest: Regular request
        ok 1 - type is Request
        ok 2 - type is Function
        ok 3 - type is Function
        ok 4 - type is Function
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        1..19
    ok 1 - Regular request # time=12.935ms
    
    # Subtest: Regular request - hostname from authority
        1..2
        ok 1 - type is Request
        ok 2 - should be equal
    ok 2 - Regular request - hostname from authority # time=1.353ms
    
    # Subtest: Regular request - host header has precedence over authority
        1..2
        ok 1 - type is Request
        ok 2 - should be equal
    ok 3 - Regular request - host header has precedence over authority # time=0.924ms
    
    # Subtest: Request with trust proxy
        1..18
        ok 1 - type is _Request
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - type is Function
        ok 17 - type is Function
        ok 18 - type is Function
    ok 4 - Request with trust proxy # time=13.529ms
    
    # Subtest: Request with trust proxy, encrypted
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 5 - Request with trust proxy, encrypted # time=0.99ms
    
    # Subtest: Request with trust proxy - no x-forwarded-host header
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 6 - Request with trust proxy - no x-forwarded-host header # time=0.846ms
    
    # Subtest: Request with trust proxy - no x-forwarded-host header and fallback to authority
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 7 - Request with trust proxy - no x-forwarded-host header and fallback to authority # time=0.823ms
    
    # Subtest: Request with trust proxy - x-forwarded-host header has precedence over host
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 8 - Request with trust proxy - x-forwarded-host header has precedence over host # time=0.793ms
    
    # Subtest: Request with trust proxy - handles multiple entries in x-forwarded-host/proto
        1..3
        ok 1 - type is _Request
        ok 2 - should be equal
        ok 3 - should be equal
    ok 9 - Request with trust proxy - handles multiple entries in x-forwarded-host/proto # time=1.141ms
    
    # Subtest: Request with trust proxy - plain
        1..1
        ok 1 - should be equivalent
    ok 10 - Request with trust proxy - plain # time=0.97ms
    
    # Subtest: Request with undefined socket
        1..18
        ok 1 - type is Request
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equivalent
        ok 16 - type is Function
        ok 17 - type is Function
        ok 18 - type is Function
    ok 11 - Request with undefined socket # time=4.173ms
    
    # Subtest: Request with trust proxy and undefined socket
        1..1
        ok 1 - should be equivalent
    ok 12 - Request with trust proxy and undefined socket # time=0.717ms
    
    1..12
    # time=106.885ms
ok 61 - test/internals/request.test.js # time=106.885ms

# Subtest: test/internals/server.test.js
    # Subtest: start listening
        ok 1 - server started
        1..1
    ok 1 - start listening # time=44.022ms
    
    # Subtest: DNS errors does not stop the main server on localhost - promise interface
        ok 1 - server started
        1..1
    ok 2 - DNS errors does not stop the main server on localhost - promise interface # time=18.164ms
    
    # Subtest: DNS errors does not stop the main server on localhost - callback interface
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 3 - DNS errors does not stop the main server on localhost - callback interface # time=32.9ms
    
    # Subtest: DNS returns empty binding
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 4 - DNS returns empty binding # time=25.574ms
    
    # Subtest: DNS returns more than two binding
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 5 - DNS returns more than two binding # time=19.671ms
    
    1..5
    # time=149.692ms
ok 62 - test/internals/server.test.js # time=149.692ms

# Subtest: test/internals/validation.test.js
    1..0 # no tests found
not ok 63 - test/internals/validation.test.js # time=776.858ms
  ---
  env: {}
  file: test/internals/validation.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/internals/validation.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify
  exitCode: 1
  ...

# Subtest: test/keepAliveTimeout.test.js
    # Subtest: keepAliveTimeout
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not be equal
        ok 6 - should be equal
    ok 1 - keepAliveTimeout # time=42.322ms
    
    1..1
    # time=48.158ms
ok 64 - test/keepAliveTimeout.test.js # time=48.158ms

# Subtest: test/listen.deprecated.test.js
    # Subtest: listen accepts a port and a callback
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 1 - listen accepts a port and a callback # time=30.116ms
    
    # Subtest: listen accepts a port and a callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 2 - listen accepts a port and a callback with (err, address) # time=5.623ms
    
    # Subtest: listen accepts a port, address, and callback
        1..1
        ok 1 - should not error
    ok 3 - listen accepts a port, address, and callback # time=14.694ms
    
    # Subtest: listen accepts options, backlog and a callback
        1..1
        ok 1 - should not error
    ok 4 - listen accepts options, backlog and a callback # time=10.605ms
    
    # Subtest: listen accepts options (no port), backlog and a callback
        1..1
        ok 1 - should not error
    ok 5 - listen accepts options (no port), backlog and a callback # time=8.398ms
    
    # Subtest: listen accepts options (no host), backlog and a callback
        1..1
        ok 1 - should not error
    ok 6 - listen accepts options (no host), backlog and a callback # time=18.906ms
    
    # Subtest: listen accepts options (no port, no host), backlog and a callback
        1..1
        ok 1 - should not error
    ok 7 - listen accepts options (no port, no host), backlog and a callback # time=13.404ms
    
    # Subtest: listen accepts a port, address and a callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 8 - listen accepts a port, address and a callback with (err, address) # time=3.856ms
    
    # Subtest: listen accepts a port, address, backlog and callback
        1..1
        ok 1 - should not error
    ok 9 - listen accepts a port, address, backlog and callback # time=9.693ms
    
    # Subtest: listen accepts a port, address, backlog and callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 10 - listen accepts a port, address, backlog and callback with (err, address) # time=4.572ms
    
    # Subtest: listen without callback (port zero)
        1..1
        ok 1 - should be equal
    ok 11 - listen without callback (port zero) # time=20.114ms
    
    # Subtest: listen without callback (port not given)
        1..1
        ok 1 - should be equal
    ok 12 - listen without callback (port not given) # time=11.631ms
    
    # Subtest: listen null without callback with (address)
        1..1
        ok 1 - should be equal
    ok 13 - listen null without callback with (address) # time=7.318ms
    
    # Subtest: listen without port without callback with (address)
        1..1
        ok 1 - should be equal
    ok 14 - listen without port without callback with (address) # time=9.898ms
    
    # Subtest: listen with undefined without callback with (address)
        1..1
        ok 1 - should be equal
    ok 15 - listen with undefined without callback with (address) # time=27.105ms
    
    # Subtest: listen when firstArg is string(pipe) and without backlog
        1..1
        ok 1 - should be equal
    ok 16 - listen when firstArg is string(pipe) and without backlog # time=10.061ms
    
    # Subtest: listen when firstArg is string(pipe) and with backlog
        1..1
        ok 1 - should be equal
    ok 17 - listen when firstArg is string(pipe) and with backlog # time=3.925ms
    
    # Subtest: listen when firstArg is { path: string(pipe) } and with backlog and callback
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 18 - listen when firstArg is { path: string(pipe) } and with backlog and callback # time=3.624ms
    
    1..18
    # time=309.415ms
ok 65 - test/listen.deprecated.test.js # time=309.415ms

# Subtest: test/listen.test.js
    # Subtest: listen works without arguments
        ok 1 - should be equal
        ok 2 - expect truthy value
        1..2
    ok 1 - listen works without arguments # time=29.542ms
    
    # Subtest: Async/await listen with arguments
        1..1
        ok 1 - should be equal
    ok 2 - Async/await listen with arguments # time=5.424ms
    
    # Subtest: Promise listen with arguments
        1..1
        ok 1 - should be equal
    ok 3 - Promise listen with arguments # time=8.176ms
    
    # Subtest: listen accepts a callback
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 4 - listen accepts a callback # time=9.53ms
    
    # Subtest: listen accepts options and a callback
        1..1
        ok 1 - should not error
    ok 5 - listen accepts options and a callback # time=4.715ms
    
    # Subtest: listen after Promise.resolve()
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 6 - listen after Promise.resolve() # time=4.609ms
    
    # Subtest: register after listen using Promise.resolve()
        1..1
        ok 1 - resolved
    ok 7 - register after listen using Promise.resolve() # time=10.738ms
    
    # Subtest: double listen errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
    ok 8 - double listen errors # time=12.932ms
    
    # Subtest: double listen errors callback with (err, address)
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 9 - double listen errors callback with (err, address) # time=5.369ms
    
    # Subtest: listen twice on the same port
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 10 - listen twice on the same port # time=11.922ms
    
    # Subtest: listen twice on the same port callback with (err, address)
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 11 - listen twice on the same port callback with (err, address) # time=7.886ms
    
    # Subtest: listen on socket
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent strictly
        ok 3 - should be equal
    ok 12 - listen on socket # time=8.337ms
    
    # Subtest: listen without callback with (address)
        1..1
        ok 1 - should be equal
    ok 13 - listen without callback with (address) # time=6.54ms
    
    # Subtest: double listen without callback rejects
        1..1
        ok 1 - expect truthy value
    ok 14 - double listen without callback rejects # time=5.669ms
    
    # Subtest: double listen without callback with (address)
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 15 - double listen without callback with (address) # time=22.263ms
    
    # Subtest: listen twice on the same port without callback rejects
        1..1
        ok 1 - expect truthy value
    ok 16 - listen twice on the same port without callback rejects # time=10.505ms
    
    # Subtest: listen twice on the same port without callback rejects with (address)
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 17 - listen twice on the same port without callback rejects with (address) # time=22.588ms
    
    # Subtest: listen on invalid port without callback rejects
        ok 1 - expect truthy value
        1..1
    ok 18 - listen on invalid port without callback rejects # time=3.818ms
    
    # Subtest: listen logs the port as info
        1..1
        ok 1 - expect truthy value
    ok 19 - listen logs the port as info # time=4.104ms
    
    # Subtest: listen on localhost binds IPv4 and IPv6 - promise interface
        1..2
        ok 1 - should be equal
        ok 2 - should be equivalent
    ok 20 - listen on localhost binds IPv4 and IPv6 - promise interface # time=25.233ms
    
    # Subtest: listen on localhost binds to all interfaces (both IPv4 and IPv6 if present) - callback interface
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 21 - listen on localhost binds to all interfaces (both IPv4 and IPv6 if present) - callback interface # time=10.255ms
    
    # Subtest: addresses getter
        1..4
        ok 1 - before ready
        ok 2 - after ready
        ok 3 - after listen
        ok 4 - after close
    ok 22 - addresses getter # time=8.664ms
    
    1..22
    # time=338.67ms
ok 66 - test/listen.test.js # time=338.67ms

# Subtest: test/logger.test.js
    # Subtest: defaults to info level
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
        ok 13 - responseTime is defined
        1..13
    ok 1 - defaults to info level # time=61.68ms
    
    # Subtest: test log stream
        1..12
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
    ok 2 - test log stream # time=17.618ms
    
    # Subtest: test error log stream
        1..11
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - reqId is defined
        ok 4 - req is defined
        ok 5 - message is set
        ok 6 - method is get
        ok 7 - expect truthy value
        ok 8 - reqId is defined
        ok 9 - res is defined
        ok 10 - message is set
        ok 11 - statusCode is 500
    ok 3 - test error log stream # time=79.915ms
    
    # Subtest: can use external logger instance
        1..6
        ok 1 - "Server listening at http://127.0.0.1:37847" dont match "/^Server listening at /"
        ok 2 - should not error
        ok 3 - "incoming request" dont match "/^incoming request$/"
        ok 4 - expect truthy value
        ok 5 - "log success" dont match "/^log success$/"
        ok 6 - "request completed" dont match "/^request completed$/"
    ok 4 - can use external logger instance # time=33.598ms
    
    # Subtest: can use external logger instance with custom serializer
        1..6
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - expect truthy value
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 5 - can use external logger instance with custom serializer # time=20.503ms
    
    # Subtest: expose the logger
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equivalent
    ok 6 - expose the logger # time=2.957ms
    
    # Subtest: The request id header key can be customized
        1..9
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - message is set
        ok 6 - should be equal
        ok 7 - message is set
        ok 8 - should be equal
        ok 9 - message is set
    ok 7 - The request id header key can be customized # time=31.353ms
    
    # Subtest: The request id header key can be customized along with a custom id generator
        1..12
        ok 1 - should match pattern provided
        ok 2 - should be equal
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should be equal
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
    ok 8 - The request id header key can be customized along with a custom id generator # time=39.866ms
    
    # Subtest: The request id log label can be changed
        1..6
        ok 1 - should match pattern provided
        ok 2 - should be equal
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should not error
        ok 6 - should be equal
    ok 9 - The request id log label can be changed # time=10.749ms
    
    # Subtest: The logger should accept custom serializer
        1..9
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - req is defined
        ok 4 - message is set
        ok 5 - custom req serializer is use
        ok 6 - expect truthy value
        ok 7 - res is defined
        ok 8 - message is set
        ok 9 - default res serializer is use
    ok 10 - The logger should accept custom serializer # time=39.123ms
    
    # Subtest: reply.send logs an error if called twice in a row
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
    ok 11 - reply.send logs an error if called twice in a row # time=51.363ms
    
    # Subtest: logger can be silented
        1..17
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equivalent
        ok 10 - should be equivalent
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equivalent
        ok 14 - should be equivalent
        ok 15 - should be equivalent
        ok 16 - should be equivalent
        ok 17 - should be equivalent
    ok 12 - logger can be silented # time=7.551ms
    
    # Subtest: Should set a custom logLevel for a plugin
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equivalent
    ok 13 - Should set a custom logLevel for a plugin # time=14.576ms
    
    # Subtest: Should set a custom logSerializers for a plugin
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 14 - Should set a custom logSerializers for a plugin # time=31.381ms
    
    # Subtest: Should set a custom logLevel for every plugin
        1..18
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equivalent
        ok 15 - should not error
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equivalent
    ok 15 - Should set a custom logLevel for every plugin # time=19.377ms
    
    # Subtest: Should set a custom logSerializers for every plugin
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 16 - Should set a custom logSerializers for every plugin # time=26.656ms
    
    # Subtest: Should override serializers from route
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 17 - Should override serializers from route # time=8.34ms
    
    # Subtest: Should override serializers from plugin
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 18 - Should override serializers from plugin # time=33.999ms
    
    # Subtest: Should use serializers from plugin and route
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 19 - Should use serializers from plugin and route # time=8.032ms
    
    # Subtest: Should use serializers from instance fastify and route
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 20 - Should use serializers from instance fastify and route # time=6.605ms
    
    # Subtest: Should use serializers inherit from contexts
        1..5
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 21 - Should use serializers inherit from contexts # time=7.458ms
    
    # Subtest: Should increase the log level for a specific plugin
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 22 - Should increase the log level for a specific plugin # time=6.477ms
    
    # Subtest: Should set the log level for the customized 404 handler
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 23 - Should set the log level for the customized 404 handler # time=6.364ms
    
    # Subtest: Should set the log level for the customized 500 handler
        1..4
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 24 - Should set the log level for the customized 500 handler # time=6.487ms
    
    # Subtest: Should set a custom log level for a specific route
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equivalent
    ok 25 - Should set a custom log level for a specific route # time=8.222ms
    
    # Subtest: The default 404 handler logs the incoming request
        1..5
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
    ok 26 - The default 404 handler logs the incoming request # time=5.623ms
    
    # Subtest: should serialize request and response
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 27 - should serialize request and response # time=6.047ms
    
    # Subtest: Wrap IPv6 address in listening log message
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 28 - Wrap IPv6 address in listening log message # time=3.754ms
    
    # Subtest: Do not wrap IPv4 address
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 29 - Do not wrap IPv4 address # time=3.743ms
    
    # Subtest: file option
        1..13
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - listen at log message is ok
        ok 4 - reqId is defined
        ok 5 - req is defined
        ok 6 - message is set
        ok 7 - method is get
        ok 8 - should be equal
        ok 9 - reqId is defined
        ok 10 - res is defined
        ok 11 - message is set
        ok 12 - statusCode is 200
        ok 13 - responseTime is defined
    ok 30 - file option # time=17.249ms
    
    # Subtest: should log the error if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 31 - should log the error if no error handler is defined # time=10.491ms
    
    # Subtest: should log as info if error status code >= 400 and < 500 if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 32 - should log as info if error status code >= 400 and < 500 if no error handler is defined # time=11.036ms
    
    # Subtest: should log as error if error status code >= 500 if no error handler is defined
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - message is set
        ok 8 - status code is set
    ok 33 - should log as error if error status code >= 500 if no error handler is defined # time=9.911ms
    
    # Subtest: should not log the error if error handler is defined and it does not error
        1..8
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - level is correct
        ok 7 - message is set
        ok 8 - status code is set
    ok 34 - should not log the error if error handler is defined and it does not error # time=9.077ms
    
    # Subtest: should not rely on raw request to log errors
        1..7
        ok 1 - should not error
        ok 2 - listen at log message is ok
        ok 3 - message is set
        ok 4 - expect truthy value
        ok 5 - level is correct
        ok 6 - message is set
        ok 7 - status code is set
    ok 35 - should not rely on raw request to log errors # time=11.422ms
    
    # Subtest: should redact the authorization header if so specified
        1..7
        ok 1 - listen at log message is ok
        ok 2 - should not error
        ok 3 - authorization is redacted
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 36 - should redact the authorization header if so specified # time=18.591ms
    
    # Subtest: should not log incoming request and outgoing response when disabled
        1..3
        ok 1 - should be equivalent
        ok 2 - expect truthy value
        ok 3 - should be equivalent
    ok 37 - should not log incoming request and outgoing response when disabled # time=6.23ms
    
    # Subtest: should not log incoming request and outgoing response for 404 onBadUrl when disabled
        1..1
        ok 1 - should be equivalent
    ok 38 - should not log incoming request and outgoing response for 404 onBadUrl when disabled # time=4.004ms
    
    # Subtest: should pass when using unWritable props in the logger option
        1..1
        ok 1 - (unnamed test)
    ok 39 - should pass when using unWritable props in the logger option # time=1.795ms
    
    # Subtest: should be able to use a custom logger
        1..1
        ok 1 - (unnamed test)
    ok 40 - should be able to use a custom logger # time=15.239ms
    
    # Subtest: should create a default logger if provided one is invalid
        1..1
        ok 1 - (unnamed test)
    ok 41 - should create a default logger if provided one is invalid # time=6.299ms
    
    # Subtest: should not throw error when serializing custom req
        1..1
        ok 1 - should be equivalent
    ok 42 - should not throw error when serializing custom req # time=1.793ms
    
    1..42
    # time=881.396ms
ok 67 - test/logger.test.js # time=881.396ms

# Subtest: test/maxRequestsPerSocket.test.js
    # Subtest: maxRequestsPerSocket on node version >= 16.10.0
        1..8
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should match pattern provided
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
    ok 1 - maxRequestsPerSocket on node version >= 16.10.0 # time=78.352ms
    
    # Subtest: maxRequestsPerSocket zero should behave same as null
        1..10
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should match pattern provided
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
        ok 9 - should match pattern provided
        ok 10 - should match pattern provided
    ok 2 - maxRequestsPerSocket zero should behave same as null # time=17.589ms
    
    # Subtest: maxRequestsPerSocket should be set
        1..1
        ok 1 - should be equivalent
    ok 3 - maxRequestsPerSocket should be set # time=2.131ms
    
    # Subtest: maxRequestsPerSocket should 0
        1..1
        ok 1 - should be equivalent
    ok 4 - maxRequestsPerSocket should 0 # time=1.448ms
    
    # Subtest: requestTimeout passed to server
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 5 - requestTimeout passed to server # time=11.55ms
    
    1..5
    # time=122.012ms
ok 68 - test/maxRequestsPerSocket.test.js # time=122.012ms

# Subtest: test/middleware.test.js
    # Subtest: Should be able to override the default use API
        1..1
        ok 1 - should be equal
    ok 1 - Should be able to override the default use API # time=14.781ms
    
    # Subtest: Cannot decorate use twice
        1..1
        ok 1 - expect truthy value
    ok 2 - Cannot decorate use twice # time=2.666ms
    
    # Subtest: Encapsulation works
        1..1
        ok 1 - should be equal
    ok 3 - Encapsulation works # time=12.169ms
    
    1..3
    # time=42.031ms
ok 69 - test/middleware.test.js # time=42.031ms

# Subtest: test/noop-set.test.js
    # Subtest: does a lot of nothing
        ok 1 - type is object
        ok 2 - should be equal
        1..2
    ok 1 - does a lot of nothing # time=7.01ms
    
    1..1
    # time=12.256ms
ok 70 - test/noop-set.test.js # time=12.256ms

# Subtest: test/nullable-validation.test.js
    # Subtest: nullable string
        1..3
        not ok 1 - Cannot read properties of undefined (reading 'forEach')
          ---
          origin:
            at:
              line: 14
              column: 24
              file: node_modules/ajv/lib/ajv.ts
              function: Ajv._addVocabularies
            stack: |
              Ajv._addVocabularies (node_modules/ajv/lib/ajv.ts:14:24)
              new Ajv (node_modules/ajv/lib/core.ts:308:10)
              new Ajv (node_modules/ajv/lib/ajv.ts:11:1)
              new ValidatorCompiler (node_modules/@fastify/ajv-compiler/index.js:51:18)
              buildCompilerFromPool (node_modules/@fastify/ajv-compiler/index.js:32:22)
              SchemaController.setupValidator (lib/schema-controller.js:100:30)
              Boot.<anonymous> (lib/route.js:314:32)
              node_modules/avvio/boot.js:160:12
            type: TypeError
            source: |2
                  super._addVocabularies()
                  draft7Vocabularies.forEach((v) => this.addVocabulary(v))
              -----------------------^
                  if (this.opts.discriminator) this.addKeyword(discriminator)
                }
          found:
            !error
            name: TypeError
            message: Cannot read properties of undefined (reading 'forEach')
            stack: >-
              TypeError: 
                  at Ajv._addVocabularies (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/ajv/lib/ajv.ts:14:24)
                  at new Ajv (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/ajv/lib/core.ts:308:10)
                  at new Ajv (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/ajv/lib/ajv.ts:11:1)
                  at new ValidatorCompiler (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/@fastify/ajv-compiler/index.js:51:18)
                  at buildCompilerFromPool (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/@fastify/ajv-compiler/index.js:32:22)
                  at SchemaController.setupValidator (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/lib/schema-controller.js:100:30)
                  at Boot.<anonymous> (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/lib/route.js:314:32)
                  at Object.onceWrapper (node:events:627:28)
                  at Boot.emit (node:events:525:35)
                  at /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/boot.js:160:12
          at:
            line: 50
            column: 7
            file: test/nullable-validation.test.js
          stack: |
            cb (test/nullable-validation.test.js:50:7)
            cb (fastify.js:486:18)
            manageErr (fastify.js:538:11)
            fastify.js:520:11
            Object._encapsulateThreeParam (node_modules/avvio/boot.js:557:7)
            Boot.timeoutCall (node_modules/avvio/boot.js:453:5)
            Boot.callWithCbOrNextTick (node_modules/avvio/boot.js:435:19)
            release (node_modules/fastq/queue.js:149:16)
            Object.resume (node_modules/fastq/queue.js:82:7)
            node_modules/avvio/boot.js:174:18
            node_modules/avvio/plugin.js:275:7
            done (node_modules/avvio/plugin.js:200:5)
            check (node_modules/avvio/plugin.js:224:9)
          source: |2
              }, (err, res) => {
                t.error(err)
            ------^
                t.same(res.payload.hello, null)
              })
          ...
        
        not ok 2 - test unfinished
          ---
          stack: |
            Object.<anonymous> (test/nullable-validation.test.js:8:1)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          test: nullable string
          at:
            line: 8
            column: 1
            file: test/nullable-validation.test.js
            function: Object.<anonymous>
          source: |
          
            test('nullable string', t => {
            ^
              t.plan(3)
              const fastify = Fastify()
          ...
        
        # test count(2) != plan(3)
        # failed 2 of 2 tests
    not ok 1 - nullable string # time=208.427ms
    
    not ok 2 - child test left in queue: t.test object or null body
    not ok 3 - child test left in queue: t.test nullable body
    not ok 4 - child test left in queue: t.test Nullable body with 204
    1..1
    # test count(4) != plan(1)
    # failed 7 of 4 tests
    # time=213.685ms
not ok 71 - test/nullable-validation.test.js # time=213.685ms
  ---
  env: {}
  file: test/nullable-validation.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/nullable-validation.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify
  failures:
    - &a1
      id: 2
      name: "child test left in queue: t.test object or null body"
      fullname: test/nullable-validation.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a2
      id: 3
      name: "child test left in queue: t.test nullable body"
      fullname: test/nullable-validation.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - &a3
      id: 4
      name: "child test left in queue: t.test Nullable body with 204"
      fullname: test/nullable-validation.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 1
    - *a1
    - *a2
    - *a3
  exitCode: 1
  ...

# Subtest: test/options.error-handler.test.js
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - OPTIONS can be created # time=8.906ms
    
    # Subtest: OPTIONS without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - OPTIONS without schema can be created # time=1.943ms
    
    # Subtest: OPTIONS with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - OPTIONS with body and querystring # time=1.487ms
    
    # Subtest: OPTIONS with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - OPTIONS with bodyLimit option # time=1.684ms
    
    not ok 5 - Cannot read properties of undefined (reading 'forEach')
      ---
      at:
        line: 14
        column: 24
        file: node_modules/ajv/lib/ajv.ts
        function: Ajv._addVocabularies
      stack: |
        Ajv._addVocabularies (node_modules/ajv/lib/ajv.ts:14:24)
        new Ajv (node_modules/ajv/lib/core.ts:308:10)
        new Ajv (node_modules/ajv/lib/ajv.ts:11:1)
        Object.module.exports.payloadMethod (test/input-validation.js:28:15)
        Object.<anonymous> (test/options.error-handler.test.js:5:31)
        Module.replacementCompile (node_modules/append-transform/index.js:60:13)
        Object.<anonymous> (node_modules/append-transform/index.js:64:4)
      type: TypeError
      tapCaught: uncaughtException
      test: TAP
      source: |2
            super._addVocabularies()
            draft7Vocabularies.forEach((v) => this.addVocabulary(v))
        -----------------------^
            if (this.opts.discriminator) this.addKeyword(discriminator)
          }
      ...
    
    1..5
    # failed 1 of 5 tests
    # time=838.173ms
not ok 72 - test/options.error-handler.test.js # time=838.173ms
  ---
  env: {}
  file: test/options.error-handler.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/options.error-handler.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify
  exitCode: 1
  ...

# Subtest: test/options.test.js
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - OPTIONS can be created # time=9.235ms
    
    # Subtest: OPTIONS without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - OPTIONS without schema can be created # time=2.102ms
    
    # Subtest: OPTIONS with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - OPTIONS with body and querystring # time=1.599ms
    
    # Subtest: OPTIONS with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - OPTIONS with bodyLimit option # time=1.924ms
    
    not ok 5 - Cannot read properties of undefined (reading 'forEach')
      ---
      at:
        line: 14
        column: 24
        file: node_modules/ajv/lib/ajv.ts
        function: Ajv._addVocabularies
      stack: |
        Ajv._addVocabularies (node_modules/ajv/lib/ajv.ts:14:24)
        new Ajv (node_modules/ajv/lib/core.ts:308:10)
        new Ajv (node_modules/ajv/lib/ajv.ts:11:1)
        Object.module.exports.payloadMethod (test/input-validation.js:28:15)
        Object.<anonymous> (test/options.test.js:5:31)
        Module.replacementCompile (node_modules/append-transform/index.js:60:13)
        Object.<anonymous> (node_modules/append-transform/index.js:64:4)
      type: TypeError
      tapCaught: uncaughtException
      test: TAP
      source: |2
            super._addVocabularies()
            draft7Vocabularies.forEach((v) => this.addVocabulary(v))
        -----------------------^
            if (this.opts.discriminator) this.addKeyword(discriminator)
          }
      ...
    
    1..5
    # failed 1 of 5 tests
    # time=732.647ms
not ok 73 - test/options.test.js # time=732.647ms
  ---
  env: {}
  file: test/options.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/options.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify
  exitCode: 1
  ...

# Subtest: test/output-validation.test.js
    # Subtest: shorthand - output string
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - output string # time=10.064ms
    
    # Subtest: shorthand - output number
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - output number # time=2.255ms
    
    # Subtest: wrong object for schema - output
        1..1
        ok 1 - (unnamed test)
    ok 3 - wrong object for schema - output # time=2.044ms
    
    # Subtest: empty response
        1..1
        ok 1 - (unnamed test)
    ok 4 - empty response # time=2.141ms
    
    # Subtest: unlisted response code
        1..1
        ok 1 - (unnamed test)
    ok 5 - unlisted response code # time=1.887ms
    
    not ok 6 - Failed building the serialization schema for GET: /string, due to error Cannot read properties of undefined (reading 'forEach')
      ---
      origin:
        at:
          line: 328
          column: 21
          file: lib/route.js
          function: Boot.<anonymous>
        stack: |
          Boot.<anonymous> (lib/route.js:328:21)
          node_modules/avvio/boot.js:160:12
          node_modules/avvio/plugin.js:275:7
          done (node_modules/avvio/plugin.js:200:5)
          check (node_modules/avvio/plugin.js:224:9)
        type: FastifyError
        code: FST_ERR_SCH_SERIALIZATION_BUILD
        statusCode: 500
        source: >2
                      } catch (error) {
                        throw new FST_ERR_SCH_SERIALIZATION_BUILD(opts.method, url, error.message)
          --------------------^
                      }
                    }
      found:
        !error
        name: FastifyError
        message: "Failed building the serialization schema for GET: /string, due to
          error Cannot read properties of undefined (reading 'forEach')"
        stack: >-
          FastifyError: 
              at Boot.<anonymous> (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/lib/route.js:328:21)
              at Object.onceWrapper (node:events:627:28)
              at Boot.emit (node:events:525:35)
              at /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/boot.js:160:12
              at /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/plugin.js:275:7
              at done (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/plugin.js:200:5)
              at check (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/plugin.js:224:9)
              at node:internal/process/task_queues:141:7
              at AsyncResource.runInAsyncScope (node:async_hooks:203:9)
              at AsyncResource.runMicrotask (node:internal/process/task_queues:138:8)
        code: FST_ERR_SCH_SERIALIZATION_BUILD
        statusCode: 500
      at:
        line: 94
        column: 5
        file: test/output-validation.test.js
      stack: |
        cb (test/output-validation.test.js:94:5)
        Object.cb (lib/server.js:61:11)
        cb (lib/server.js:173:43)
        manageErr (fastify.js:538:11)
        fastify.js:520:11
        Object._encapsulateThreeParam (node_modules/avvio/boot.js:557:7)
        Boot.timeoutCall (node_modules/avvio/boot.js:453:5)
        Boot.callWithCbOrNextTick (node_modules/avvio/boot.js:435:19)
        release (node_modules/fastq/queue.js:149:16)
        Object.resume (node_modules/fastq/queue.js:82:7)
        node_modules/avvio/boot.js:174:18
        node_modules/avvio/plugin.js:275:7
        done (node_modules/avvio/plugin.js:200:5)
        check (node_modules/avvio/plugin.js:224:9)
      source: |
        fastify.listen({ port: 0 }, err => {
          t.error(err)
        ----^
          t.teardown(() => { fastify.close() })
      ...
    
    # Subtest: shorthand - string get ok
        1..4
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/output-validation.test.js:101:58)
          at:
            line: 101
            column: 58
            file: test/output-validation.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - string get ok
          source: |2
                  method: 'GET',
                  url: 'http://localhost:' + fastify.server.address().port + '/string'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 7 - shorthand - string get ok # time=9.715ms
    
    # Subtest: shorthand - number get ok
        1..4
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/output-validation.test.js:114:58)
          at:
            line: 114
            column: 58
            file: test/output-validation.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - number get ok
          source: |2
                  method: 'GET',
                  url: 'http://localhost:' + fastify.server.address().port + '/number'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 8 - shorthand - number get ok # time=22.083ms
    
    # Subtest: shorthand - wrong-object-for-schema
        1..4
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/output-validation.test.js:127:58)
          at:
            line: 127
            column: 58
            file: test/output-validation.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - wrong-object-for-schema
          source: >2
                  method: 'GET',
                  url: 'http://localhost:' + fastify.server.address().port + '/wrong-object-for-schema'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 9 - shorthand - wrong-object-for-schema # time=8.179ms
    
    # Subtest: shorthand - empty
        1..2
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/output-validation.test.js:144:58)
          at:
            line: 144
            column: 58
            file: test/output-validation.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - empty
          source: |2
                  method: 'GET',
                  url: 'http://localhost:' + fastify.server.address().port + '/empty'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(2)
        # failed 1 test
    not ok 10 - shorthand - empty # time=7.801ms
    
    # Subtest: shorthand - 400
        1..4
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/output-validation.test.js:155:58)
          at:
            line: 155
            column: 58
            file: test/output-validation.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - 400
          source: |2
                  method: 'GET',
                  url: 'http://localhost:' + fastify.server.address().port + '/400'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 11 - shorthand - 400 # time=12.249ms
    
    1..11
    # failed 6 of 11 tests
    # time=286.338ms
not ok 74 - test/output-validation.test.js # time=286.338ms
  ---
  env: {}
  file: test/output-validation.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/output-validation.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify
  exitCode: 1
  ...

# Subtest: test/patch.error-handler.test.js
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PATCH can be created # time=9.525ms
    
    # Subtest: PATCH without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PATCH without schema can be created # time=1.946ms
    
    # Subtest: PATCH with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PATCH with body and querystring # time=1.5ms
    
    # Subtest: PATCH with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PATCH with bodyLimit option # time=1.684ms
    
    not ok 5 - Cannot read properties of undefined (reading 'forEach')
      ---
      at:
        line: 14
        column: 24
        file: node_modules/ajv/lib/ajv.ts
        function: Ajv._addVocabularies
      stack: |
        Ajv._addVocabularies (node_modules/ajv/lib/ajv.ts:14:24)
        new Ajv (node_modules/ajv/lib/core.ts:308:10)
        new Ajv (node_modules/ajv/lib/ajv.ts:11:1)
        Object.module.exports.payloadMethod (test/input-validation.js:28:15)
        Object.<anonymous> (test/patch.error-handler.test.js:5:31)
        Module.replacementCompile (node_modules/append-transform/index.js:60:13)
        Object.<anonymous> (node_modules/append-transform/index.js:64:4)
      type: TypeError
      tapCaught: uncaughtException
      test: TAP
      source: |2
            super._addVocabularies()
            draft7Vocabularies.forEach((v) => this.addVocabulary(v))
        -----------------------^
            if (this.opts.discriminator) this.addKeyword(discriminator)
          }
      ...
    
    1..5
    # failed 1 of 5 tests
    # time=633.096ms
not ok 75 - test/patch.error-handler.test.js # time=633.096ms
  ---
  env: {}
  file: test/patch.error-handler.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/patch.error-handler.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify
  exitCode: 1
  ...

# Subtest: test/patch.test.js
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PATCH can be created # time=10.027ms
    
    # Subtest: PATCH without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PATCH without schema can be created # time=2.403ms
    
    # Subtest: PATCH with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PATCH with body and querystring # time=1.921ms
    
    # Subtest: PATCH with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PATCH with bodyLimit option # time=2.132ms
    
    not ok 5 - Cannot read properties of undefined (reading 'forEach')
      ---
      at:
        line: 14
        column: 24
        file: node_modules/ajv/lib/ajv.ts
        function: Ajv._addVocabularies
      stack: |
        Ajv._addVocabularies (node_modules/ajv/lib/ajv.ts:14:24)
        new Ajv (node_modules/ajv/lib/core.ts:308:10)
        new Ajv (node_modules/ajv/lib/ajv.ts:11:1)
        Object.module.exports.payloadMethod (test/input-validation.js:28:15)
        Object.<anonymous> (test/patch.test.js:5:31)
        Module.replacementCompile (node_modules/append-transform/index.js:60:13)
        Object.<anonymous> (node_modules/append-transform/index.js:64:4)
      type: TypeError
      tapCaught: uncaughtException
      test: TAP
      source: |2
            super._addVocabularies()
            draft7Vocabularies.forEach((v) => this.addVocabulary(v))
        -----------------------^
            if (this.opts.discriminator) this.addKeyword(discriminator)
          }
      ...
    
    1..5
    # failed 1 of 5 tests
    # time=681.996ms
not ok 76 - test/patch.test.js # time=681.996ms
  ---
  env: {}
  file: test/patch.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/patch.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify
  exitCode: 1
  ...

# Subtest: test/plugin.test.js
    # Subtest: require a plugin
        1..1
        ok 1 - expect truthy value
    ok 1 - require a plugin # time=92.595ms
    
    # Subtest: plugin metadata - ignore prefix
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 2 - plugin metadata - ignore prefix # time=42.86ms
    
    # Subtest: plugin metadata - naming plugins
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 3 - plugin metadata - naming plugins # time=9.109ms
    
    # Subtest: fastify.register with fastify-plugin should not encapsulate his code
        1..10
        ok 1 - expect falsey value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 4 - fastify.register with fastify-plugin should not encapsulate his code # time=61.538ms
    
    # Subtest: fastify.register with fastify-plugin should provide access to external fastify instance if opts argument is a function
        1..22
        ok 1 - expect falsey value
        ok 2 - expect falsey value
        ok 3 - expect falsey value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect falsey value
        ok 10 - expect truthy value
        ok 11 - expect falsey value
        ok 12 - expect truthy value
        ok 13 - expect truthy value
        ok 14 - should be equal
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - should not error
        ok 18 - expect truthy value
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equal
        ok 22 - should be equivalent
    ok 5 - fastify.register with fastify-plugin should provide access to external fastify instance if opts argument is a function # time=24.953ms
    
    # Subtest: fastify.register with fastify-plugin registers fastify level plugins
        1..15
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should not error
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equivalent
    ok 6 - fastify.register with fastify-plugin registers fastify level plugins # time=21.064ms
    
    # Subtest: check dependencies - should not throw
        1..12
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - should not error
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
    ok 7 - check dependencies - should not throw # time=13.621ms
    
    # Subtest: check dependencies - should throw
        1..12
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - should not error
        ok 7 - expect truthy value
        ok 8 - expect falsey value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
    ok 8 - check dependencies - should throw # time=32.716ms
    
    # Subtest: set the plugin name based on the plugin displayName symbol
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
    ok 9 - set the plugin name based on the plugin displayName symbol # time=13.261ms
    
    # Subtest: plugin name will change when using no encapsulation
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
    ok 10 - plugin name will change when using no encapsulation # time=7.778ms
    
    # Subtest: plugin name is undefined when accessing in no plugin context
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 11 - plugin name is undefined when accessing in no plugin context # time=17.972ms
    
    # Subtest: set the plugin name based on the plugin function name
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 12 - set the plugin name based on the plugin function name # time=23.579ms
    
    # Subtest: approximate a plugin name when no meta data is available
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
    ok 13 - approximate a plugin name when no meta data is available # time=8.121ms
    
    # Subtest: approximate a plugin name also when fastify-plugin has no meta data
        1..4
        ok 1 - should match pattern provided
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should not error
    ok 14 - approximate a plugin name also when fastify-plugin has no meta data # time=17.427ms
    
    # Subtest: plugin encapsulation
        1..10
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 15 - plugin encapsulation # time=17.31ms
    
    # Subtest: if a plugin raises an error and there is not a callback to handle it, the server must not start
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 16 - if a plugin raises an error and there is not a callback to handle it, the server must not start # time=18.387ms
    
    # Subtest: add hooks after route declaration
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 17 - add hooks after route declaration # time=13.192ms
    
    # Subtest: nested plugins
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 18 - nested plugins # time=22.132ms
    
    # Subtest: nested plugins awaited
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 19 - nested plugins awaited # time=25.11ms
    
    # Subtest: plugin metadata - decorators
        1..1
        ok 1 - expect truthy value
    ok 20 - plugin metadata - decorators # time=3.924ms
    
    # Subtest: plugin metadata - decorators - should throw
        1..1
        ok 1 - should be equal
    ok 21 - plugin metadata - decorators - should throw # time=2.943ms
    
    # Subtest: plugin metadata - decorators - should throw with plugin name
        1..1
        ok 1 - should be equal
    ok 22 - plugin metadata - decorators - should throw with plugin name # time=6.13ms
    
    # Subtest: plugin metadata - dependencies
        1..1
        ok 1 - everything right
    ok 23 - plugin metadata - dependencies # time=2.879ms
    
    # Subtest: plugin metadata - dependencies (nested)
        1..1
        ok 1 - everything right
    ok 24 - plugin metadata - dependencies (nested) # time=3.565ms
    
    # Subtest: pluginTimeout
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 25 - pluginTimeout # time=15.413ms
    
    # "pluginTimeout - named function" has `only` set but all tests run
    # Subtest: pluginTimeout - named function
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 26 - pluginTimeout - named function # time=15.316ms
    
    # Subtest: pluginTimeout default
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 27 - pluginTimeout default # time=-162343348.935ms
    
    # Subtest: plugin metadata - version
        1..1
        ok 1 - everything right
    ok 28 - plugin metadata - version # time=7.293ms
    
    # Subtest: plugin metadata - version range
        1..1
        ok 1 - everything right
    ok 29 - plugin metadata - version range # time=4.01ms
    
    # Subtest: plugin metadata - version not matching requirement
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 30 - plugin metadata - version not matching requirement # time=3.092ms
    
    # Subtest: plugin metadata - version not matching requirement 2
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 31 - plugin metadata - version not matching requirement 2 # time=2.889ms
    
    # Subtest: plugin metadata - version not matching requirement 3
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 32 - plugin metadata - version not matching requirement 3 # time=2.848ms
    
    # Subtest: plugin metadata - release candidate
        1..2
        ok 1 - should not error
        ok 2 - everything right
    ok 33 - plugin metadata - release candidate # time=4.385ms
    
    # Subtest: fastify-rc loads prior version plugins
        1..2
        ok 1 - should not error
        ok 2 - everything right
    ok 34 - fastify-rc loads prior version plugins # time=3.614ms
    
    # Subtest: hasPlugin method exists as a function
        1..1
        ok 1 - should be equal
    ok 35 - hasPlugin method exists as a function # time=1.031ms
    
    # Subtest: hasPlugin returns true if the specified plugin has been registered
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
    ok 36 - hasPlugin returns true if the specified plugin has been registered # time=5.271ms
    
    # Subtest: hasPlugin returns false if the specified plugin has not been registered
        1..1
        ok 1 - expect falsey value
    ok 37 - hasPlugin returns false if the specified plugin has not been registered # time=1.098ms
    
    # Subtest: hasPlugin returns false when using encapsulation
        1..25
        ok 1 - expect truthy value
        ok 2 - expect falsey value
        ok 3 - expect falsey value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect truthy value
        ok 8 - expect falsey value
        ok 9 - expect falsey value
        ok 10 - expect falsey value
        ok 11 - expect falsey value
        ok 12 - expect falsey value
        ok 13 - expect truthy value
        ok 14 - expect falsey value
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - expect falsey value
        ok 18 - expect falsey value
        ok 19 - expect truthy value
        ok 20 - expect falsey value
        ok 21 - expect falsey value
        ok 22 - expect falsey value
        ok 23 - expect falsey value
        ok 24 - expect falsey value
        ok 25 - expect truthy value
    ok 38 - hasPlugin returns false when using encapsulation # time=17.758ms
    
    # Subtest: hasPlugin returns true when using no encapsulation
        1..26
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect falsey value
        ok 10 - expect falsey value
        ok 11 - expect falsey value
        ok 12 - expect truthy value
        ok 13 - expect truthy value
        ok 14 - expect truthy value
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - expect truthy value
        ok 18 - expect truthy value
        ok 19 - expect truthy value
        ok 20 - expect truthy value
        ok 21 - expect falsey value
        ok 22 - expect truthy value
        ok 23 - expect truthy value
        ok 24 - expect truthy value
        ok 25 - expect truthy value
        ok 26 - expect truthy value
    ok 39 - hasPlugin returns true when using no encapsulation # time=7.494ms
    
    1..39
    # time=638.656ms
ok 77 - test/plugin.test.js # time=638.656ms

# Subtest: test/pretty-print.test.js
    # Subtest: pretty print - static routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - pretty print - static routes # time=53.019ms
    
    # Subtest: pretty print - parametric routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - pretty print - parametric routes # time=9.065ms
    
    # Subtest: pretty print - mixed parametric routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 3 - pretty print - mixed parametric routes # time=9.885ms
    
    # Subtest: pretty print - wildcard routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - pretty print - wildcard routes # time=37.448ms
    
    # Subtest: pretty print - empty plugins
        1..2
        ok 1 - should be equal
        ok 2 - should match pattern provided
    ok 5 - pretty print - empty plugins # time=16.96ms
    
    # Subtest: pretty print - nested plugins
        1..4
        ok 1 - should be equal
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
    ok 6 - pretty print - nested plugins # time=25.416ms
    
    # Subtest: pretty print - commonPrefix
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 7 - pretty print - commonPrefix # time=27.34ms
    
    # Subtest: pretty print - includeMeta, includeHooks
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 8 - pretty print - includeMeta, includeHooks # time=34.805ms
    
    1..8
    # time=242.529ms
ok 78 - test/pretty-print.test.js # time=242.529ms

# Subtest: test/promises.test.js
    not ok 1 - Failed building the serialization schema for GET: /return, due to error Cannot read properties of undefined (reading 'forEach')
      ---
      origin:
        at:
          line: 328
          column: 21
          file: lib/route.js
          function: Boot.<anonymous>
        stack: |
          Boot.<anonymous> (lib/route.js:328:21)
          node_modules/avvio/boot.js:160:12
          node_modules/avvio/plugin.js:275:7
          done (node_modules/avvio/plugin.js:200:5)
          check (node_modules/avvio/plugin.js:224:9)
        type: FastifyError
        code: FST_ERR_SCH_SERIALIZATION_BUILD
        statusCode: 500
        source: >2
                      } catch (error) {
                        throw new FST_ERR_SCH_SERIALIZATION_BUILD(opts.method, url, error.message)
          --------------------^
                      }
                    }
      found:
        !error
        name: FastifyError
        message: "Failed building the serialization schema for GET: /return, due to
          error Cannot read properties of undefined (reading 'forEach')"
        stack: >-
          FastifyError: 
              at Boot.<anonymous> (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/lib/route.js:328:21)
              at Object.onceWrapper (node:events:627:28)
              at Boot.emit (node:events:525:35)
              at /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/boot.js:160:12
              at /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/plugin.js:275:7
              at done (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/plugin.js:200:5)
              at check (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/plugin.js:224:9)
              at node:internal/process/task_queues:141:7
              at AsyncResource.runInAsyncScope (node:async_hooks:203:9)
              at AsyncResource.runMicrotask (node:internal/process/task_queues:138:8)
        code: FST_ERR_SCH_SERIALIZATION_BUILD
        statusCode: 500
      at:
        line: 64
        column: 5
        file: test/promises.test.js
      stack: |
        cb (test/promises.test.js:64:5)
        Object.cb (lib/server.js:61:11)
        cb (lib/server.js:173:43)
        manageErr (fastify.js:538:11)
        fastify.js:520:11
        Object._encapsulateThreeParam (node_modules/avvio/boot.js:557:7)
        Boot.timeoutCall (node_modules/avvio/boot.js:453:5)
        Boot.callWithCbOrNextTick (node_modules/avvio/boot.js:435:19)
        release (node_modules/fastq/queue.js:149:16)
        Object.resume (node_modules/fastq/queue.js:82:7)
        node_modules/avvio/boot.js:174:18
        node_modules/avvio/plugin.js:275:7
        done (node_modules/avvio/plugin.js:200:5)
        check (node_modules/avvio/plugin.js:224:9)
      source: |
        fastify.listen({ port: 0 }, err => {
          t.error(err)
        ----^
          t.teardown(() => { fastify.close() })
      ...
    
    # Subtest: shorthand - sget return promise es6 get
        1..4
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/promises.test.js:71:58)
          at:
            line: 71
            column: 58
            file: test/promises.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - sget return promise es6 get
          source: |2
                  method: 'GET',
                  url: 'http://localhost:' + fastify.server.address().port + '/return'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 2 - shorthand - sget return promise es6 get # time=13.883ms
    
    # Subtest: shorthand - sget promise es6 get return error
        1..2
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/promises.test.js:84:58)
          at:
            line: 84
            column: 58
            file: test/promises.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: shorthand - sget promise es6 get return error
          source: >2
                  method: 'GET',
                  url: 'http://localhost:' + fastify.server.address().port + '/return-error'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(2)
        # failed 1 test
    not ok 3 - shorthand - sget promise es6 get return error # time=5.995ms
    
    # Subtest: sget promise double send
        1..3
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/promises.test.js:96:58)
          at:
            line: 96
            column: 58
            file: test/promises.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: sget promise double send
          source: |2
                  method: 'GET',
                  url: 'http://localhost:' + fastify.server.address().port + '/double'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 4 - sget promise double send # time=5.402ms
    
    # Subtest: thenable
        1..4
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/promises.test.js:108:58)
          at:
            line: 108
            column: 58
            file: test/promises.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: thenable
          source: |2
                  method: 'GET',
                  url: 'http://localhost:' + fastify.server.address().port + '/thenable'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 5 - thenable # time=5.995ms
    
    # Subtest: thenable (error)
        1..2
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/promises.test.js:121:58)
          at:
            line: 121
            column: 58
            file: test/promises.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: thenable (error)
          source: >2
                  method: 'GET',
                  url: 'http://localhost:' + fastify.server.address().port + '/thenable-error'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(2)
        # failed 1 test
    not ok 6 - thenable (error) # time=5.712ms
    
    # Subtest: return-reply
        1..4
        not ok 1 - Cannot read properties of null (reading 'port')
          ---
          stack: |
            Test.<anonymous> (test/promises.test.js:132:58)
          at:
            line: 132
            column: 58
            file: test/promises.test.js
            function: Test.<anonymous>
          type: TypeError
          tapCaught: testFunctionThrow
          test: return-reply
          source: >2
                  method: 'GET',
                  url: 'http://localhost:' + fastify.server.address().port + '/return-reply'
            ---------------------------------------------------------^
                }, (err, response, body) => {
                  t.error(err)
          ...
        
        # test count(1) != plan(4)
        # failed 1 test
    not ok 7 - return-reply # time=10.115ms
    
    1..7
    # failed 7 of 7 tests
    # time=119.394ms
not ok 79 - test/promises.test.js # time=119.394ms
  ---
  env: {}
  file: test/promises.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/promises.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify
  exitCode: 1
  ...

# Subtest: test/proto-poisoning.test.js
    # Subtest: proto-poisoning error
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 1 - proto-poisoning error # time=78.679ms
    
    # Subtest: proto-poisoning remove
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 2 - proto-poisoning remove # time=13.028ms
    
    # Subtest: proto-poisoning ignore
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 3 - proto-poisoning ignore # time=22.311ms
    
    # Subtest: constructor-poisoning error (default in v3)
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 4 - constructor-poisoning error (default in v3) # time=16.742ms
    
    # Subtest: constructor-poisoning error
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 5 - constructor-poisoning error # time=11.085ms
    
    # Subtest: constructor-poisoning remove
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 6 - constructor-poisoning remove # time=18.934ms
    
    1..6
    # time=188.746ms
ok 80 - test/proto-poisoning.test.js # time=188.746ms

# Subtest: test/put.error-handler.test.js
    # Subtest: PUT can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PUT can be created # time=9.181ms
    
    # Subtest: PUT without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PUT without schema can be created # time=1.99ms
    
    # Subtest: PUT with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PUT with body and querystring # time=1.549ms
    
    # Subtest: PUT with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PUT with bodyLimit option # time=1.769ms
    
    not ok 5 - Cannot read properties of undefined (reading 'forEach')
      ---
      at:
        line: 14
        column: 24
        file: node_modules/ajv/lib/ajv.ts
        function: Ajv._addVocabularies
      stack: |
        Ajv._addVocabularies (node_modules/ajv/lib/ajv.ts:14:24)
        new Ajv (node_modules/ajv/lib/core.ts:308:10)
        new Ajv (node_modules/ajv/lib/ajv.ts:11:1)
        Object.module.exports.payloadMethod (test/input-validation.js:28:15)
        Object.<anonymous> (test/put.error-handler.test.js:5:31)
        Module.replacementCompile (node_modules/append-transform/index.js:60:13)
        Object.<anonymous> (node_modules/append-transform/index.js:64:4)
      type: TypeError
      tapCaught: uncaughtException
      test: TAP
      source: |2
            super._addVocabularies()
            draft7Vocabularies.forEach((v) => this.addVocabulary(v))
        -----------------------^
            if (this.opts.discriminator) this.addKeyword(discriminator)
          }
      ...
    
    1..5
    # failed 1 of 5 tests
    # time=639.706ms
not ok 81 - test/put.error-handler.test.js # time=639.706ms
  ---
  env: {}
  file: test/put.error-handler.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/put.error-handler.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify
  exitCode: 1
  ...

# Subtest: test/put.test.js
    # Subtest: PUT can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PUT can be created # time=9.802ms
    
    # Subtest: PUT without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PUT without schema can be created # time=2.343ms
    
    # Subtest: PUT with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PUT with body and querystring # time=1.906ms
    
    # Subtest: PUT with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PUT with bodyLimit option # time=2.07ms
    
    not ok 5 - Cannot read properties of undefined (reading 'forEach')
      ---
      at:
        line: 14
        column: 24
        file: node_modules/ajv/lib/ajv.ts
        function: Ajv._addVocabularies
      stack: |
        Ajv._addVocabularies (node_modules/ajv/lib/ajv.ts:14:24)
        new Ajv (node_modules/ajv/lib/core.ts:308:10)
        new Ajv (node_modules/ajv/lib/ajv.ts:11:1)
        Object.module.exports.payloadMethod (test/input-validation.js:28:15)
        Object.<anonymous> (test/put.test.js:5:31)
        Module.replacementCompile (node_modules/append-transform/index.js:60:13)
        Object.<anonymous> (node_modules/append-transform/index.js:64:4)
      type: TypeError
      tapCaught: uncaughtException
      test: TAP
      source: |2
            super._addVocabularies()
            draft7Vocabularies.forEach((v) => this.addVocabulary(v))
        -----------------------^
            if (this.opts.discriminator) this.addKeyword(discriminator)
          }
      ...
    
    1..5
    # failed 1 of 5 tests
    # time=635.376ms
not ok 82 - test/put.test.js # time=635.376ms
  ---
  env: {}
  file: test/put.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/put.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify
  exitCode: 1
  ...

# Subtest: test/register.test.js
    # Subtest: register
        1..17
        ok 1 - should not be equal
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not be equal
        ok 6 - expect truthy value
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should not error
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equivalent
    ok 1 - register # time=92.589ms
    
    # Subtest: internal route declaration should pass the error generated by the register to the done handler / 1
        1..1
        ok 1 - should be equal
    ok 2 - internal route declaration should pass the error generated by the register to the done handler / 1 # time=7.482ms
    
    # Subtest: internal route declaration should pass the error generated by the register to the done handler / 2
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 3 - internal route declaration should pass the error generated by the register to the done handler / 2 # time=11.707ms
    
    # Subtest: awaitable register and after
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        1..3
    ok 4 - awaitable register and after # time=9.365ms
    
    # Subtest: awaitable register error handling
        ok 1 - expect rejected Promise: Error kaboom
        ok 2 - expect rejected Promise: Error kaboom
        ok 3 - expect rejected Promise: Error kaboom
        1..3
    ok 5 - awaitable register error handling # time=11.023ms
    
    # Subtest: awaitable after error handling
        ok 1 - expect rejected Promise: Error kaboom
        ok 2 - expect rejected Promise
        1..2
    ok 6 - awaitable after error handling # time=6.499ms
    
    # Subtest: chainable register
        1..3
        ok 1 - first loaded
        ok 2 - second loaded
        ok 3 - third loaded
    ok 7 - chainable register # time=11.122ms
    
    1..7
    # time=176.313ms
ok 83 - test/register.test.js # time=176.313ms

# Subtest: test/reply-error.test.js
    # Subtest: Reply error handling - code: 400
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - Reply error handling - code: 400 # time=224.819ms
    
    # Subtest: Reply error handling - code: 401
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - Reply error handling - code: 401 # time=9.229ms
    
    # Subtest: Reply error handling - code: 402
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 3 - Reply error handling - code: 402 # time=10.508ms
    
    # Subtest: Reply error handling - code: 403
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 4 - Reply error handling - code: 403 # time=7.131ms
    
    # Subtest: Reply error handling - code: 404
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 5 - Reply error handling - code: 404 # time=6.599ms
    
    # Subtest: Reply error handling - code: 405
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 6 - Reply error handling - code: 405 # time=11.379ms
    
    # Subtest: Reply error handling - code: 406
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - Reply error handling - code: 406 # time=6.244ms
    
    # Subtest: Reply error handling - code: 407
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 8 - Reply error handling - code: 407 # time=7.13ms
    
    # Subtest: Reply error handling - code: 408
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 9 - Reply error handling - code: 408 # time=25.035ms
    
    # Subtest: Reply error handling - code: 409
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 10 - Reply error handling - code: 409 # time=13.565ms
    
    # Subtest: Reply error handling - code: 410
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - Reply error handling - code: 410 # time=6.676ms
    
    # Subtest: Reply error handling - code: 411
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 12 - Reply error handling - code: 411 # time=9.098ms
    
    # Subtest: Reply error handling - code: 412
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 13 - Reply error handling - code: 412 # time=5.546ms
    
    # Subtest: Reply error handling - code: 413
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 14 - Reply error handling - code: 413 # time=5.31ms
    
    # Subtest: Reply error handling - code: 414
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 15 - Reply error handling - code: 414 # time=5.143ms
    
    # Subtest: Reply error handling - code: 415
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 16 - Reply error handling - code: 415 # time=6.18ms
    
    # Subtest: Reply error handling - code: 416
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 17 - Reply error handling - code: 416 # time=5.198ms
    
    # Subtest: Reply error handling - code: 417
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - Reply error handling - code: 417 # time=4.731ms
    
    # Subtest: Reply error handling - code: 418
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 19 - Reply error handling - code: 418 # time=4.966ms
    
    # Subtest: Reply error handling - code: 421
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 20 - Reply error handling - code: 421 # time=6.166ms
    
    # Subtest: Reply error handling - code: 422
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 21 - Reply error handling - code: 422 # time=5.213ms
    
    # Subtest: Reply error handling - code: 423
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 22 - Reply error handling - code: 423 # time=8.338ms
    
    # Subtest: Reply error handling - code: 424
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 23 - Reply error handling - code: 424 # time=4.824ms
    
    # Subtest: Reply error handling - code: 425
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 24 - Reply error handling - code: 425 # time=4.76ms
    
    # Subtest: Reply error handling - code: 426
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 25 - Reply error handling - code: 426 # time=5.072ms
    
    # Subtest: Reply error handling - code: 428
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 26 - Reply error handling - code: 428 # time=4.727ms
    
    # Subtest: Reply error handling - code: 429
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 27 - Reply error handling - code: 429 # time=4.409ms
    
    # Subtest: Reply error handling - code: 431
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 28 - Reply error handling - code: 431 # time=5.442ms
    
    # Subtest: Reply error handling - code: 451
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 29 - Reply error handling - code: 451 # time=4.864ms
    
    # Subtest: Reply error handling - code: 500
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 30 - Reply error handling - code: 500 # time=4.824ms
    
    # Subtest: Reply error handling - code: 501
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 31 - Reply error handling - code: 501 # time=4.624ms
    
    # Subtest: Reply error handling - code: 502
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 32 - Reply error handling - code: 502 # time=11.154ms
    
    # Subtest: Reply error handling - code: 503
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 33 - Reply error handling - code: 503 # time=4.861ms
    
    # Subtest: Reply error handling - code: 504
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 34 - Reply error handling - code: 504 # time=9.473ms
    
    # Subtest: Reply error handling - code: 505
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 35 - Reply error handling - code: 505 # time=18.987ms
    
    # Subtest: Reply error handling - code: 506
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 36 - Reply error handling - code: 506 # time=4.603ms
    
    # Subtest: Reply error handling - code: 507
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 37 - Reply error handling - code: 507 # time=4.137ms
    
    # Subtest: Reply error handling - code: 508
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 38 - Reply error handling - code: 508 # time=4.166ms
    
    # Subtest: Reply error handling - code: 509
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 39 - Reply error handling - code: 509 # time=3.967ms
    
    # Subtest: Reply error handling - code: 510
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 40 - Reply error handling - code: 510 # time=3.814ms
    
    # Subtest: Reply error handling - code: 511
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 41 - Reply error handling - code: 511 # time=4.054ms
    
    # Subtest: preHandler hook error handling with external code
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 42 - preHandler hook error handling with external code # time=4.913ms
    
    # Subtest: onRequest hook error handling with external done
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 43 - onRequest hook error handling with external done # time=4.128ms
    
    # Subtest: Should reply 400 on client error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 44 - Should reply 400 on client error # time=20.196ms
    
    # Subtest: Should set the response from client error handler
        1..5
        ok 1 - should not error
        ok 2 - type is Error
        ok 3 - should be equal
        ok 4 - Log level is not warn
        ok 5 - should be equal
    ok 45 - Should set the response from client error handler # time=11.152ms
    
    # Subtest: Error instance sets HTTP status code
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 46 - Error instance sets HTTP status code # time=12.89ms
    
    # Subtest: Error status code below 400 defaults to 500
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 47 - Error status code below 400 defaults to 500 # time=3.991ms
    
    # Subtest: Error.status property support
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 48 - Error.status property support # time=3.916ms
    
    # Subtest: Support rejection with values that are not Error instances
        1..11
        # Subtest: Type: number
            1..4
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 1 - Type: number # time=36.552ms
        
        # Subtest: Type: string
            1..4
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 2 - Type: string # time=22.768ms
        
        # Subtest: Type: object
            1..4
            ok 1 - should be equivalent
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 3 - Type: object # time=4.023ms
        
        # Subtest: Type: object
            1..4
            ok 1 - should be equivalent
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 4 - Type: object # time=3.723ms
        
        # Subtest: Type: object
            1..4
            ok 1 - should be equivalent
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 5 - Type: object # time=3.631ms
        
        # Subtest: Type: undefined
            1..4
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 6 - Type: undefined # time=3.731ms
        
        # Subtest: Type: number
            1..4
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 7 - Type: number # time=3.562ms
        
        # Subtest: Type: string
            1..4
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 8 - Type: string # time=3.405ms
        
        # Subtest: Type: object
            1..4
            ok 1 - should be equivalent
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 9 - Type: object # time=3.647ms
        
        # Subtest: Type: object
            1..4
            ok 1 - should be equivalent
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 10 - Type: object # time=3.911ms
        
        # Subtest: Type: object
            1..4
            ok 1 - should be equivalent
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 11 - Type: object # time=3.874ms
        
    ok 49 - Support rejection with values that are not Error instances # time=101.663ms
    
    # Subtest: invalid schema - ajv
        1..4
        not ok 1 - Cannot read properties of undefined (reading 'forEach')
          ---
          origin:
            at:
              line: 14
              column: 24
              file: node_modules/ajv/lib/ajv.ts
              function: Ajv._addVocabularies
            stack: |
              Ajv._addVocabularies (node_modules/ajv/lib/ajv.ts:14:24)
              new Ajv (node_modules/ajv/lib/core.ts:308:10)
              new Ajv (node_modules/ajv/lib/ajv.ts:11:1)
              new ValidatorCompiler (node_modules/@fastify/ajv-compiler/index.js:51:18)
              buildCompilerFromPool (node_modules/@fastify/ajv-compiler/index.js:32:22)
              SchemaController.setupValidator (lib/schema-controller.js:100:30)
              Boot.<anonymous> (lib/route.js:314:32)
              node_modules/avvio/boot.js:160:12
            type: TypeError
            source: |2
                  super._addVocabularies()
                  draft7Vocabularies.forEach((v) => this.addVocabulary(v))
              -----------------------^
                  if (this.opts.discriminator) this.addKeyword(discriminator)
                }
          found:
            !error
            name: TypeError
            message: Cannot read properties of undefined (reading 'forEach')
            stack: >-
              TypeError: 
                  at Ajv._addVocabularies (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/ajv/lib/ajv.ts:14:24)
                  at new Ajv (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/ajv/lib/core.ts:308:10)
                  at new Ajv (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/ajv/lib/ajv.ts:11:1)
                  at new ValidatorCompiler (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/@fastify/ajv-compiler/index.js:51:18)
                  at buildCompilerFromPool (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/@fastify/ajv-compiler/index.js:32:22)
                  at SchemaController.setupValidator (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/lib/schema-controller.js:100:30)
                  at Boot.<anonymous> (/data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/lib/route.js:314:32)
                  at Object.onceWrapper (node:events:627:28)
                  at Boot.emit (node:events:525:35)
                  at /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify/node_modules/avvio/boot.js:160:12
          at:
            line: 334
            column: 7
            file: test/reply-error.test.js
          stack: |
            cb (test/reply-error.test.js:334:7)
            cb (fastify.js:486:18)
            manageErr (fastify.js:538:11)
            fastify.js:520:11
            Object._encapsulateThreeParam (node_modules/avvio/boot.js:557:7)
            Boot.timeoutCall (node_modules/avvio/boot.js:453:5)
            Boot.callWithCbOrNextTick (node_modules/avvio/boot.js:435:19)
            release (node_modules/fastq/queue.js:149:16)
            Object.resume (node_modules/fastq/queue.js:82:7)
            node_modules/avvio/boot.js:174:18
            node_modules/avvio/plugin.js:275:7
            done (node_modules/avvio/plugin.js:200:5)
            check (node_modules/avvio/plugin.js:224:9)
          source: |2
              }, (err, res) => {
                t.error(err)
            ------^
                t.equal(res.statusCode, 400)
                t.equal(res.payload, 'error')
          ...
        
        not ok 2 - test unfinished
          ---
          stack: |
            Object.<anonymous> (test/reply-error.test.js:308:1)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          test: invalid schema - ajv
          at:
            line: 308
            column: 1
            file: test/reply-error.test.js
            function: Object.<anonymous>
          source: |
          
            test('invalid schema - ajv', t => {
            ^
              t.plan(4)
          ...
        
        # test count(2) != plan(4)
        # failed 2 of 2 tests
    not ok 50 - invalid schema - ajv # time=200.081ms
    
    not ok 51 - child test left in queue: t.test should set the status code and the headers from the error object (from route handler) (no custom error handler)
    not ok 52 - child test left in queue: t.test should set the status code and the headers from the error object (from custom error handler)
    not ok 53 - child test left in queue: t.test '*' should throw an error due to serializer can not handle the payload type
    not ok 54 - child test left in queue: t.test should throw an error if the custom serializer does not serialize the payload to a valid type
    not ok 55 - child test left in queue: t.test should not set headers or status code for custom error handler
    not ok 56 - child test left in queue: t.test error thrown by custom error handler routes to default error handler
    not ok 57 - child test left in queue: t.test should throw error if error code is undefined
    not ok 58 - child test left in queue: t.test should throw error if error code is null
    not ok 59 - child test left in queue: t.test should throw error if error code is error_code
    not ok 60 - child test left in queue: t.test should throw error if error code is 0
    not ok 61 - child test left in queue: t.test should throw error if error code is 1
    not ok 62 - child test left in queue: t.test should throw error if error code is 99
    not ok 63 - child test left in queue: t.test should throw error if error code is 600
    not ok 64 - child test left in queue: t.test should throw error if error code is 700
    not ok 65 - child test left in queue: t.test error handler is triggered when a string is thrown from sync handler
    not ok 66 - child test left in queue: t.test status code should be set to 500 and return an error json payload if route handler throws any non Error object expression
    not ok 67 - child test left in queue: t.test should preserve the status code set by the user if an expression is thrown in a sync route
    not ok 68 - child test left in queue: t.test should trigger error handlers if a sync route throws any non-error object
    not ok 69 - child test left in queue: t.test should trigger error handlers if a sync route throws undefined
    not ok 70 - child test left in queue: t.test setting content-type on reply object should not hang the server case 1
    not ok 71 - child test left in queue: t.test setting content-type on reply object should not hang the server case 2
    not ok 72 - child test left in queue: t.test setting content-type on reply object should not hang the server case 3
    not ok 73 - child test left in queue: t.test pipe stream inside error handler should not cause error
    1..50
    # test count(73) != plan(50)
    # failed 47 of 73 tests
    # time=909.741ms
not ok 84 - test/reply-error.test.js # time=909.741ms
  ---
  env: {}
  file: test/reply-error.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/reply-error.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant2/fastify
  failures:
    - &a1
      id: 51
      name: "child test left in queue: t.test should set the status code and the
        headers from the error object (from route handler) (no custom error
        handler)"
      fullname: test/reply-error.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 50
    - &a2
      id: 52
      name: "child test left in queue: t.test should set the status code and the
        headers from the error object (from custom error handler)"
      fullname: test/reply-error.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 50
    - &a3
      id: 53
      name: "child test left in queue: t.test '*' should throw an error due to
        serializer can not handle the payload type"
      fullname: test/reply-error.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 50
    - &a4
      id: 54
      name: "child test left in queue: t.test should throw an error if the custom
        serializer does not serialize the payload to a valid type"
      fullname: test/reply-error.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 50
    - &a5
      id: 55
      name: "child test left in queue: t.test should not set headers or status code
        for custom error handler"
      fullname: test/reply-error.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 50
    - &a6
      id: 56
      name: "child test left in queue: t.test error thrown by custom error handler
        routes to default error handler"
      fullname: test/reply-error.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 50
    - &a7
      id: 57
      name: "child test left in queue: t.test should throw error if error code is
        undefined"
      fullname: test/reply-error.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 50
    - &a8
      id: 58
      name: "child test left in queue: t.test should throw error if error code is null"
      fullname: test/reply-error.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 50
    - &a9
      id: 59
      name: "child test left in queue: t.test should throw error if error code is
        error_code"
      fullname: test/reply-error.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 50
    - &a10
      id: 60
      name: "child test left in queue: t.test should throw error if error code is 0"
      fullname: test/reply-error.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 50
    - &a11
      id: 61
      name: "child test left in queue: t.test should throw error if error code is 1"
      fullname: test/reply-error.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 50
    - &a12
      id: 62
      name: "child test left in queue: t.test should throw error if error code is 99"
      fullname: test/reply-error.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 50
    - &a13
      id: 63
      name: "child test left in queue: t.test should throw error if error code is 600"
      fullname: test/reply-error.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 50
    - &a14
      id: 64
      name: "child test left in queue: t.test should throw error if error code is 700"
      fullname: test/reply-error.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 50
    - &a15
      id: 65
      name: "child test left in queue: t.test error handler is triggered when a string
        is thrown from sync handler"
      fullname: test/reply-error.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 50
    - &a16
      id: 66
      name: "child test left in queue: t.test status code should be set to 500 and
        return an error json payload if route handler throws any non Error object
        expression"
      fullname: test/reply-error.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 50
    - &a17
      id: 67
      name: "child test left in queue: t.test should preserve the status code set by
        the user if an expression is thrown in a sync route"
      fullname: test/reply-error.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 50
    - &a18
      id: 68
      name: "child test left in queue: t.test should trigger error handlers if a sync
        route throws any non-error object"
      fullname: test/reply-error.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 50
    - &a19
      id: 69
      name: "child test left in queue: t.test should trigger error handlers if a sync
        route throws undefined"
      fullname: test/reply-error.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 50
    - &a20
      id: 70
      name: "child test left in queue: t.test setting content-type on reply object
        should not hang the server case 1"
      fullname: test/reply-error.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 50
    - &a21
      id: 71
      name: "child test left in queue: t.test setting content-type on reply object
        should not hang the server case 2"
      fullname: test/reply-error.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 50
    - &a22
      id: 72
      name: "child test left in queue: t.test setting content-type on reply object
        should not hang the server case 3"
      fullname: test/reply-error.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 50
    - &a23
      id: 73
      name: "child test left in queue: t.test pipe stream inside error handler should
        not cause error"
      fullname: test/reply-error.test.js
      tapError: id greater than plan end
      plan:
        start: 1
        end: 50
    - *a1
    - *a2
    - *a3
    - *a4
    - *a5
    - *a6
    - *a7
    - *a8
    - *a9
    - *a10
    - *a11
    - *a12
    - *a13
    - *a14
    - *a15
    - *a16
    - *a17
    - *a18
    - *a19
    - *a20
    - *a21
    - *a22
    - *a23
  exitCode: 1
  ...

# Subtest: test/reply-trailers.test.js
    # Subtest: send trailers when payload is empty string
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not contain all provided fields
    ok 1 - send trailers when payload is empty string # time=84.935ms
    
    # Subtest: send trailers when payload is empty buffer
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not contain all provided fields
    ok 2 - send trailers when payload is empty buffer # time=17.653ms
    
    # Subtest: send trailers when payload is undefined
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not contain all provided fields
    ok 3 - send trailers when payload is undefined # time=10.481ms
    
    # Subtest: send trailers when payload is json
        1..7
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not contain all provided fields
    ok 4 - send trailers when payload is json # time=10.244ms
    
    # Subtest: send trailers when payload is stream
        1..7
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not contain all provided fields
    ok 5 - send trailers when payload is stream # time=17.493ms
    
    # Subtest: removeTrailer
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect falsey value
        ok 6 - should not contain all provided fields
    ok 6 - removeTrailer # time=6.891ms
    
    # Subtest: hasTrailer
        1..10
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - expect falsey value
        ok 10 - should not contain all provided fields
    ok 7 - hasTrailer # time=6.527ms
    
    # Subtest: throw error when trailer header name is not allowed
        1..14
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should not error
        ok 14 - should be equal
    ok 8 - throw error when trailer header name is not allowed # time=14.619ms
    
    # Subtest: throw error when trailer header value is not function
        1..10
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should not error
        ok 10 - should be equal
    ok 9 - throw error when trailer header value is not function # time=36.119ms
    
    1..9
    # time=230.424ms
ok 85 - test/reply-trailers.test.js # time=230.424ms

# Subtest: test/request-error.test.js
    # Subtest: default 400 on request error
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - default 400 on request error # time=89.088ms
    
    # Subtest: default 400 on request error with custom error handler
        1..6
        ok 1 - type is object
        ok 2 - type is Request
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 2 - default 400 on request error with custom error handler # time=10.947ms
    
    # Subtest: default clientError handler ignores ECONNRESET
        1..3
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should not match pattern provided
    ok 3 - default clientError handler ignores ECONNRESET # time=33.151ms
    
    # Subtest: default clientError handler ignores sockets in destroyed state
        1..1
        ok 1 - (unnamed test)
    ok 4 - default clientError handler ignores sockets in destroyed state # time=2.001ms
    
    # Subtest: default clientError handler destroys sockets in writable state
        1..2
        ok 1 - should match pattern provided
        ok 2 - destroy should be called
    ok 5 - default clientError handler destroys sockets in writable state # time=3.021ms
    
    # Subtest: default clientError handler destroys http sockets in non-writable state
        1..1
        ok 1 - destroy should be called
    ok 6 - default clientError handler destroys http sockets in non-writable state # time=1.747ms
    
    # Subtest: error handler binding
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 7 - error handler binding # time=8.551ms
    
    # Subtest: encapsulated error handler binding
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should be equal
    ok 8 - encapsulated error handler binding # time=11.436ms
    
    # Subtest: default clientError replies with bad request on reused keep-alive connection
        1..2
        ok 1 - should not error
        ok 2 - should match pattern provided
    ok 9 - default clientError replies with bad request on reused keep-alive connection # time=9.883ms
    
    1..9
    # time=180.985ms
ok 86 - test/request-error.test.js # time=180.985ms

# Subtest: test/requestTimeout.test.js
    # Subtest: requestTimeout passed to server
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 1 - requestTimeout passed to server # time=34.05ms
    
    # Subtest: requestTimeout should be set
        1..1
        ok 1 - should be equivalent
    ok 2 - requestTimeout should be set # time=4.575ms
    
    # Subtest: requestTimeout should 0
        1..1
        ok 1 - should be equivalent
    ok 3 - requestTimeout should 0 # time=2.358ms
    
    1..3
    # time=54.709ms
ok 87 - test/requestTimeout.test.js # time=54.709ms

./VariantsPureDep/fastify/variant1/fastify

> fastify@4.3.0 test
> npm run lint && npm run unit && npm run test:typescript


> fastify@4.3.0 lint
> npm run lint:standard && npm run lint:typescript && npm run lint:markdown


> fastify@4.3.0 lint:standard
> standard | snazzy

-----------------------------|---------|----------|---------|---------|-----------------------------
File                         | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s           
-----------------------------|---------|----------|---------|---------|-----------------------------
All files                    |   88.32 |    84.36 |   88.88 |   88.58 |                             
 fastify                     |   83.76 |    88.12 |   80.35 |   83.39 |                             
  fastify.js                 |   83.76 |    88.12 |   80.35 |   83.39 | ...,676-702,721-724,732-743 
 fastify/lib                 |   88.97 |    83.87 |    90.5 |   89.33 |                             
  contentTypeParser.js       |    96.7 |     98.3 |     100 |   96.47 | 213-217,264                 
  context.js                 |   80.55 |    86.66 |      50 |   82.85 | 70-78                       
  decorate.js                |   98.21 |    98.03 |     100 |   98.07 | 41                          
  error-handler.js           |   89.85 |     85.1 |     100 |   89.85 | 33-37,63,108-110,118        
  errors.js                  |     100 |      100 |     100 |     100 |                             
  fourOhFour.js              |     100 |      100 |     100 |     100 |                             
  handleRequest.js           |   83.33 |    86.27 |     100 |    87.3 | 77,85-87,92-97              
  headRoute.js               |      20 |     12.5 |   33.33 |   14.28 | 4-21,26                     
  hooks.js                   |   98.34 |    96.55 |     100 |    98.3 | 190,235                     
  initialConfigValidation.js |     100 |      100 |     100 |     100 |                             
  logger.js                  |     100 |      100 |     100 |     100 |                             
  noop-set.js                |     100 |      100 |     100 |     100 |                             
  pluginOverride.js          |   95.12 |       90 |     100 |    97.5 | 75                          
  pluginUtils.js             |     100 |      100 |     100 |     100 |                             
  reply.js                   |   84.69 |    70.64 |   81.48 |   84.26 | ...,608,617-618,622-627,797 
  reqIdGenFactory.js         |     100 |      100 |     100 |     100 |                             
  request.js                 |   87.96 |    85.93 |      80 |   89.42 | 45-54,157-167,206,211       
  route.js                   |   84.97 |    84.78 |   91.66 |   85.21 | ...,461,465,498,515-516,530 
  schema-controller.js       |   87.17 |    67.64 |   84.61 |   87.17 | 23,58,71,98,111             
  schemas.js                 |   79.41 |    79.36 |   88.88 |   80.59 | 28,32,43,55,65,139-149      
  server.js                  |     100 |      100 |     100 |     100 |                             
  symbols.js                 |     100 |      100 |     100 |     100 |                             
  validation.js              |   50.72 |    41.37 |   55.55 |   54.68 | ...,73,90,94,98,102,108-118 
  warnings.js                |     100 |      100 |     100 |     100 |                             
  wrapThenable.js            |   66.66 |       40 |     100 |   66.66 | 11,27-28,33-34              
-----------------------------|---------|----------|---------|---------|-----------------------------

> fastify@4.3.0 lint:typescript
> eslint -c types/.eslintrc.json types/**/*.d.ts test/types/**/*.test-d.ts


> fastify@4.3.0 lint:markdown
> markdownlint-cli2

markdownlint-cli2 v0.4.0 (markdownlint v0.25.1)

> fastify@4.3.0 unit
> tap

TAP version 13
# Subtest: test/404s.test.js
    1..0 # no tests found
not ok 1 - test/404s.test.js # time=1018.043ms
  ---
  env: {}
  file: test/404s.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/404s.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/500s.test.js
    1..0 # no tests found
not ok 2 - test/500s.test.js # time=989.491ms
  ---
  env: {}
  file: test/500s.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/500s.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/allowUnsafeRegex.test.js
    1..0 # no tests found
not ok 3 - test/allowUnsafeRegex.test.js # time=882.118ms
  ---
  env: {}
  file: test/allowUnsafeRegex.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/allowUnsafeRegex.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/als.test.js
    1..0 # no tests found
not ok 4 - test/als.test.js # time=926.127ms
  ---
  env: {}
  file: test/als.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/als.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/async-await.test.js
    1..0 # no tests found
not ok 5 - test/async-await.test.js # time=852.265ms
  ---
  env: {}
  file: test/async-await.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/async-await.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/bodyLimit.test.js
    1..0 # no tests found
not ok 6 - test/bodyLimit.test.js # time=542.29ms
  ---
  env: {}
  file: test/bodyLimit.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/bodyLimit.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/build/error-serializer.test.js
    # Subtest: check generated code syntax
        1..1
        ok 1 - should be equal
    ok 1 - check generated code syntax # time=3872.362ms
    
    ok 2 - ensure the current error serializer is latest # SKIP
    1..2
    # skip: 1
    # time=3961.063ms
ok 7 - test/build/error-serializer.test.js # time=3961.063ms

# Subtest: test/build/version.test.js
    1..0 # no tests found
not ok 8 - test/build/version.test.js # time=870.215ms
  ---
  env: {}
  file: test/build/version.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/build/version.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/case-insensitive.test.js
    1..0 # no tests found
not ok 9 - test/case-insensitive.test.js # time=835.21ms
  ---
  env: {}
  file: test/case-insensitive.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/case-insensitive.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/chainable.test.js
    1..0 # no tests found
not ok 10 - test/chainable.test.js # time=933.732ms
  ---
  env: {}
  file: test/chainable.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/chainable.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/close-pipelining.test.js
    1..0 # no tests found
not ok 11 - test/close-pipelining.test.js # time=839.493ms
  ---
  env: {}
  file: test/close-pipelining.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/close-pipelining.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/close.test.js
    1..0 # no tests found
not ok 12 - test/close.test.js # time=807.194ms
  ---
  env: {}
  file: test/close.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/close.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/connectionTimeout.test.js
    1..0 # no tests found
not ok 13 - test/connectionTimeout.test.js # time=615.831ms
  ---
  env: {}
  file: test/connectionTimeout.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/connectionTimeout.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/constrained-routes.test.js
    1..0 # no tests found
not ok 14 - test/constrained-routes.test.js # time=857.858ms
  ---
  env: {}
  file: test/constrained-routes.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/constrained-routes.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/content-length.test.js
    1..0 # no tests found
not ok 15 - test/content-length.test.js # time=850.526ms
  ---
  env: {}
  file: test/content-length.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/content-length.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/content-parser.test.js
    1..0 # no tests found
not ok 16 - test/content-parser.test.js # time=984.841ms
  ---
  env: {}
  file: test/content-parser.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/content-parser.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/context-config.test.js
    1..0 # no tests found
not ok 17 - test/context-config.test.js # time=942.652ms
  ---
  env: {}
  file: test/context-config.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/context-config.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/custom-http-server.test.js
    1..0 # no tests found
not ok 18 - test/custom-http-server.test.js # time=824.706ms
  ---
  env: {}
  file: test/custom-http-server.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/custom-http-server.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/custom-parser-async.test.js
    1..0 # no tests found
not ok 19 - test/custom-parser-async.test.js # time=833.309ms
  ---
  env: {}
  file: test/custom-parser-async.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/custom-parser-async.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/custom-parser.test.js
    1..0 # no tests found
not ok 20 - test/custom-parser.test.js # time=939.473ms
  ---
  env: {}
  file: test/custom-parser.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/custom-parser.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/custom-querystring-parser.test.js
    1..0 # no tests found
not ok 21 - test/custom-querystring-parser.test.js # time=918.852ms
  ---
  env: {}
  file: test/custom-querystring-parser.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/custom-querystring-parser.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/decorator.test.js
    1..0 # no tests found
not ok 22 - test/decorator.test.js # time=859.126ms
  ---
  env: {}
  file: test/decorator.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/decorator.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/default-route.test.js
    1..0 # no tests found
not ok 23 - test/default-route.test.js # time=862.915ms
  ---
  env: {}
  file: test/default-route.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/default-route.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/delete.test.js
    1..0 # no tests found
not ok 24 - test/delete.test.js # time=854.815ms
  ---
  env: {}
  file: test/delete.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/delete.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/diagnostics-channel.test.js
    # Subtest: diagnostics_channel when present and subscribers
        1..3
        not ok 1 - Cannot find module 'pino' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify/lib/logger.js - /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify/lib/reply.js - /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify/test/diagnostics-channel.test.js
          ---
          stack: |
            Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
            Object.<anonymous> (lib/logger.js:10:14)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object..js (node_modules/append-transform/index.js:64:4)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify/lib/logger.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify/lib/reply.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify/test/diagnostics-channel.test.js
          tapCaught: testFunctionThrow
          test: diagnostics_channel when present and subscribers
          ...
        
        # test count(1) != plan(3)
        # failed 1 test
    not ok 1 - diagnostics_channel when present and subscribers # time=224.453ms
    
    # Subtest: diagnostics_channel when present and no subscribers
        1..1
        not ok 1 - Cannot find module 'pino' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify/lib/logger.js - /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify/lib/reply.js - /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify/test/diagnostics-channel.test.js
          ---
          stack: |
            Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
            Object.<anonymous> (lib/logger.js:10:14)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object..js (node_modules/append-transform/index.js:64:4)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify/lib/logger.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify/lib/reply.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify/test/diagnostics-channel.test.js
          tapCaught: testFunctionThrow
          test: diagnostics_channel when present and no subscribers
          ...
        
        # failed 1 test
    not ok 2 - diagnostics_channel when present and no subscribers # time=51.444ms
    
    # Subtest: diagnostics_channel when not present
        1..1
        not ok 1 - expected to not throw
          ---
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          stack: |
            Proxyquire._require (node_modules/proxyquire/lib/proxyquire.js:201:19)
            Object.<anonymous> (lib/logger.js:10:14)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object..js (node_modules/append-transform/index.js:64:4)
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify/lib/logger.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify/lib/reply.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify/test/diagnostics-channel.test.js
          message: >-
            Cannot find module 'pino'
          
            Require stack:
          
            - /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify/lib/logger.js
          
            - /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify/lib/reply.js
          
            - /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify/fastify.js
          
            - /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify/test/diagnostics-channel.test.js
          ...
        
        # failed 1 test
    not ok 3 - diagnostics_channel when not present # time=50.218ms
    
    1..3
    # failed 3 of 3 tests
    # time=341.177ms
not ok 25 - test/diagnostics-channel.test.js # time=341.177ms
  ---
  env: {}
  file: test/diagnostics-channel.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/diagnostics-channel.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/encapsulated-error-handler.test.js
    1..0 # no tests found
not ok 26 - test/encapsulated-error-handler.test.js # time=877.846ms
  ---
  env: {}
  file: test/encapsulated-error-handler.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/encapsulated-error-handler.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/esm/index.test.js
    1..0 # no tests found
not ok 27 - test/esm/index.test.js # time=1195.76ms
  ---
  env: {}
  file: test/esm/index.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/esm/index.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/fastify-instance.test.js
    1..0 # no tests found
not ok 28 - test/fastify-instance.test.js # time=848.883ms
  ---
  env: {}
  file: test/fastify-instance.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/fastify-instance.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/fluent-schema.test.js
    1..0 # no tests found
not ok 29 - test/fluent-schema.test.js # time=796.105ms
  ---
  env: {}
  file: test/fluent-schema.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/fluent-schema.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/genReqId.test.js
    1..0 # no tests found
not ok 30 - test/genReqId.test.js # time=862.574ms
  ---
  env: {}
  file: test/genReqId.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/genReqId.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/get.test.js
    1..0 # no tests found
not ok 31 - test/get.test.js # time=841.899ms
  ---
  env: {}
  file: test/get.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/get.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/handler-context.test.js
    1..0 # no tests found
not ok 32 - test/handler-context.test.js # time=920.652ms
  ---
  env: {}
  file: test/handler-context.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/handler-context.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/head.test.js
    1..0 # no tests found
not ok 33 - test/head.test.js # time=918.277ms
  ---
  env: {}
  file: test/head.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/head.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/hooks-async.test.js
    1..0 # no tests found
not ok 34 - test/hooks-async.test.js # time=871.95ms
  ---
  env: {}
  file: test/hooks-async.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/hooks-async.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/hooks.on-ready.test.js
    1..0 # no tests found
not ok 35 - test/hooks.on-ready.test.js # time=800.773ms
  ---
  env: {}
  file: test/hooks.on-ready.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/hooks.on-ready.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/hooks.test.js
    1..0 # no tests found
not ok 36 - test/hooks.test.js # time=938.441ms
  ---
  env: {}
  file: test/hooks.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/hooks.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/http2/closing.test.js
    1..0 # no tests found
not ok 37 - test/http2/closing.test.js # time=819.272ms
  ---
  env: {}
  file: test/http2/closing.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/http2/closing.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/http2/constraint.test.js
    1..0 # no tests found
not ok 38 - test/http2/constraint.test.js # time=817.496ms
  ---
  env: {}
  file: test/http2/constraint.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/http2/constraint.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/http2/head.test.js
    1..0 # no tests found
not ok 39 - test/http2/head.test.js # time=956.22ms
  ---
  env: {}
  file: test/http2/head.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/http2/head.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/http2/missing-http2-module.test.js
    1..0 # no tests found
not ok 40 - test/http2/missing-http2-module.test.js # time=971.067ms
  ---
  env: {}
  file: test/http2/missing-http2-module.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/http2/missing-http2-module.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/http2/plain.test.js
    1..0 # no tests found
not ok 41 - test/http2/plain.test.js # time=836.039ms
  ---
  env: {}
  file: test/http2/plain.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/http2/plain.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/http2/secure-with-fallback.test.js
    1..0 # no tests found
not ok 42 - test/http2/secure-with-fallback.test.js # time=858.126ms
  ---
  env: {}
  file: test/http2/secure-with-fallback.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/http2/secure-with-fallback.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/http2/secure.test.js
    1..0 # no tests found
not ok 43 - test/http2/secure.test.js # time=881.239ms
  ---
  env: {}
  file: test/http2/secure.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/http2/secure.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/http2/unknown-http-method.test.js
    1..0 # no tests found
not ok 44 - test/http2/unknown-http-method.test.js # time=878.947ms
  ---
  env: {}
  file: test/http2/unknown-http-method.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/http2/unknown-http-method.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/https/custom-https-server.test.js
    1..0 # no tests found
not ok 45 - test/https/custom-https-server.test.js # time=881.256ms
  ---
  env: {}
  file: test/https/custom-https-server.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/https/custom-https-server.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/https/https.test.js
    1..0 # no tests found
not ok 46 - test/https/https.test.js # time=932.748ms
  ---
  env: {}
  file: test/https/https.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/https/https.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/imports.test.js
    # Subtest: should import as default
        1..2
        not ok 1 - Cannot find module 'pino' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify/lib/logger.js - /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify/lib/reply.js - /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify/test/imports.test.js
          ---
          stack: |
            Object.<anonymous> (lib/logger.js:10:14)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify/lib/logger.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify/lib/reply.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify/test/imports.test.js
          tapCaught: testFunctionThrow
          test: should import as default
          ...
        
        # test count(1) != plan(2)
        # failed 1 test
    not ok 1 - should import as default # time=168.215ms
    
    # Subtest: should import as esm
        1..2
        not ok 1 - Cannot find module 'pino' Require stack: - /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify/lib/logger.js - /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify/lib/reply.js - /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify/fastify.js - /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify/test/imports.test.js
          ---
          stack: |
            Object.<anonymous> (lib/logger.js:10:14)
            Module._compile (node_modules/source-map-support/source-map-support.js:568:25)
            Module.replacementCompile (node_modules/append-transform/index.js:60:13)
            Object.<anonymous> (node_modules/append-transform/index.js:64:4)
          at:
            line: 956
            column: 15
            file: node:internal/modules/cjs/loader
            function: Function.Module._resolveFilename
          code: MODULE_NOT_FOUND
          requireStack:
            - /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify/lib/logger.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify/lib/reply.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify/fastify.js
            - /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify/test/imports.test.js
          tapCaught: testFunctionThrow
          test: should import as esm
          ...
        
        # test count(1) != plan(2)
        # failed 1 test
    not ok 2 - should import as esm # time=49.522ms
    
    1..2
    # failed 2 of 2 tests
    # time=260.878ms
not ok 47 - test/imports.test.js # time=260.878ms
  ---
  env: {}
  file: test/imports.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/imports.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/inject.test.js
    1..0 # no tests found
not ok 48 - test/inject.test.js # time=881.342ms
  ---
  env: {}
  file: test/inject.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/inject.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/internals/all.test.js
    1..0 # no tests found
not ok 49 - test/internals/all.test.js # time=834.732ms
  ---
  env: {}
  file: test/internals/all.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/internals/all.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/internals/contentTypeParser.test.js
    1..0 # no tests found
not ok 50 - test/internals/contentTypeParser.test.js # time=1063.464ms
  ---
  env: {}
  file: test/internals/contentTypeParser.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/internals/contentTypeParser.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/internals/decorator.test.js
    # Subtest: decorate should add the given method to its instance
        1..1
        ok 1 - expect truthy value
    ok 1 - decorate should add the given method to its instance # time=6.438ms
    
    # Subtest: decorate is chainable
        1..3
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
    ok 2 - decorate is chainable # time=2.753ms
    
    # Subtest: checkExistence should check if a property is part of the given instance
        1..1
        ok 1 - expect truthy value
    ok 3 - checkExistence should check if a property is part of the given instance # time=1.316ms
    
    # Subtest: checkExistence should find the instance if not given
        1..1
        ok 1 - expect truthy value
    ok 4 - checkExistence should find the instance if not given # time=1.115ms
    
    # Subtest: checkExistence should check the prototype as well
        1..1
        ok 1 - expect truthy value
    ok 5 - checkExistence should check the prototype as well # time=1.023ms
    
    # Subtest: checkDependencies should throw if a dependency is not present
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 6 - checkDependencies should throw if a dependency is not present # time=1.621ms
    
    # Subtest: decorate should internally call checkDependencies
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 7 - decorate should internally call checkDependencies # time=0.955ms
    
    # Subtest: decorate should recognize getter/setter objects
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - (unnamed test)
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 8 - decorate should recognize getter/setter objects # time=1.927ms
    
    1..8
    # time=77.069ms
ok 51 - test/internals/decorator.test.js # time=77.069ms

# Subtest: test/internals/handleRequest.test.js
    1..0 # no tests found
not ok 52 - test/internals/handleRequest.test.js # time=955.307ms
  ---
  env: {}
  file: test/internals/handleRequest.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/internals/handleRequest.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/internals/hookRunner.test.js
    # Subtest: hookRunner - Basic
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 1 - hookRunner - Basic # time=8.817ms
    
    # Subtest: hookRunner - In case of error should skip to done
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 2 - hookRunner - In case of error should skip to done # time=2.342ms
    
    # Subtest: hookRunner - Should handle throw
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 3 - hookRunner - Should handle throw # time=1.912ms
    
    # Subtest: hookRunner - Should handle promises
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 4 - hookRunner - Should handle promises # time=32.659ms
    
    # Subtest: hookRunner - In case of error should skip to done (with promises)
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 5 - hookRunner - In case of error should skip to done (with promises) # time=4.013ms
    
    # Subtest: hookRunner - Be able to exit before its natural end
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 6 - hookRunner - Be able to exit before its natural end # time=2.281ms
    
    # Subtest: hookRunner - Promises that resolve to a value do not change the state
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 7 - hookRunner - Promises that resolve to a value do not change the state # time=2.693ms
    
    # Subtest: onSendHookRunner - Basic
        1..13
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equal
        ok 10 - should not error
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equal
    ok 8 - onSendHookRunner - Basic # time=22.489ms
    
    # Subtest: onSendHookRunner - Can change the payload
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 9 - onSendHookRunner - Can change the payload # time=3.623ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 10 - onSendHookRunner - In case of error should skip to done # time=2.462ms
    
    # Subtest: onSendHookRunner - Should handle promises
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 11 - onSendHookRunner - Should handle promises # time=2.784ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done (with promises)
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 12 - onSendHookRunner - In case of error should skip to done (with promises) # time=2.636ms
    
    # Subtest: onSendHookRunner - Be able to exit before its natural end
        1..2
        ok 1 - should be equivalent
        ok 2 - should be equivalent
    ok 13 - onSendHookRunner - Be able to exit before its natural end # time=1.154ms
    
    1..13
    # time=133.499ms
ok 53 - test/internals/hookRunner.test.js # time=133.499ms

# Subtest: test/internals/hooks.test.js
    # Subtest: hooks should have 4 array with the registered hooks
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        1..8
    ok 1 - hooks should have 4 array with the registered hooks # time=9.116ms
    
    # Subtest: hooks.add should add a hook to the given hook
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        1..14
    ok 2 - hooks.add should add a hook to the given hook # time=4.122ms
    
    # Subtest: hooks should throw on unexisting handler
        1..1
        ok 1 - (unnamed test)
    ok 3 - hooks should throw on unexisting handler # time=1.032ms
    
    # Subtest: should throw on wrong parameters
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 4 - should throw on wrong parameters # time=1.373ms
    
    1..4
    # time=29.793ms
ok 54 - test/internals/hooks.test.js # time=29.793ms

# Subtest: test/internals/initialConfig.test.js
    1..0 # no tests found
not ok 55 - test/internals/initialConfig.test.js # time=835.686ms
  ---
  env: {}
  file: test/internals/initialConfig.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/internals/initialConfig.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/internals/logger.test.js
    1..0 # no tests found
not ok 56 - test/internals/logger.test.js # time=855.775ms
  ---
  env: {}
  file: test/internals/logger.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/internals/logger.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/internals/plugin.test.js
    # Subtest: shouldSkipOverride should check the 'skip-override' symbol
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 1 - shouldSkipOverride should check the 'skip-override' symbol # time=6.089ms
    
    # Subtest: getPluginName should return plugin name if the file is cached
        1..1
        ok 1 - should be equal
    ok 2 - getPluginName should return plugin name if the file is cached # time=1.788ms
    
    # Subtest: getMeta should return the object stored with the 'plugin-meta' symbol
        1..1
        ok 1 - should be equivalent
    ok 3 - getMeta should return the object stored with the 'plugin-meta' symbol # time=4.681ms
    
    # Subtest: checkDecorators should check if the given decorator is present in the instance
        1..1
        ok 1 - Everything ok
    ok 4 - checkDecorators should check if the given decorator is present in the instance # time=1.568ms
    
    # Subtest: checkDecorators should check if the given decorator is present in the instance (errored)
        1..1
        ok 1 - should be equal
    ok 5 - checkDecorators should check if the given decorator is present in the instance (errored) # time=1.116ms
    
    # Subtest: checkDecorators should accept optional decorators
        1..1
        ok 1 - Everything ok
    ok 6 - checkDecorators should accept optional decorators # time=0.703ms
    
    # Subtest: checkDependencies should check if the given dependency is present in the instance
        1..1
        ok 1 - Everything ok
    ok 7 - checkDependencies should check if the given dependency is present in the instance # time=0.937ms
    
    # Subtest: checkDependencies should check if the given dependency is present in the instance (errored)
        1..1
        ok 1 - should be equal
    ok 8 - checkDependencies should check if the given dependency is present in the instance (errored) # time=23.347ms
    
    1..8
    # time=95.257ms
ok 57 - test/internals/plugin.test.js # time=95.257ms

# Subtest: test/internals/reply-serialize.test.js
    1..0 # no tests found
not ok 58 - test/internals/reply-serialize.test.js # time=950.653ms
  ---
  env: {}
  file: test/internals/reply-serialize.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/internals/reply-serialize.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/internals/reply.test.js
    1..0 # no tests found
not ok 59 - test/internals/reply.test.js # time=845.632ms
  ---
  env: {}
  file: test/internals/reply.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/internals/reply.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/internals/request-validate.test.js
    1..0 # no tests found
not ok 60 - test/internals/request-validate.test.js # time=1039.217ms
  ---
  env: {}
  file: test/internals/request-validate.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/internals/request-validate.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/internals/request.test.js
    # Subtest: Regular request
        ok 1 - type is Request
        ok 2 - type is Function
        ok 3 - type is Function
        ok 4 - type is Function
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        1..19
    ok 1 - Regular request # time=14.946ms
    
    # Subtest: Regular request - hostname from authority
        1..2
        ok 1 - type is Request
        ok 2 - should be equal
    ok 2 - Regular request - hostname from authority # time=2.851ms
    
    # Subtest: Regular request - host header has precedence over authority
        1..2
        ok 1 - type is Request
        ok 2 - should be equal
    ok 3 - Regular request - host header has precedence over authority # time=1.482ms
    
    # Subtest: Request with trust proxy
        1..18
        ok 1 - type is _Request
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - type is Function
        ok 17 - type is Function
        ok 18 - type is Function
    ok 4 - Request with trust proxy # time=11.695ms
    
    # Subtest: Request with trust proxy, encrypted
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 5 - Request with trust proxy, encrypted # time=1.016ms
    
    # Subtest: Request with trust proxy - no x-forwarded-host header
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 6 - Request with trust proxy - no x-forwarded-host header # time=0.822ms
    
    # Subtest: Request with trust proxy - no x-forwarded-host header and fallback to authority
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 7 - Request with trust proxy - no x-forwarded-host header and fallback to authority # time=0.724ms
    
    # Subtest: Request with trust proxy - x-forwarded-host header has precedence over host
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 8 - Request with trust proxy - x-forwarded-host header has precedence over host # time=0.954ms
    
    # Subtest: Request with trust proxy - handles multiple entries in x-forwarded-host/proto
        1..3
        ok 1 - type is _Request
        ok 2 - should be equal
        ok 3 - should be equal
    ok 9 - Request with trust proxy - handles multiple entries in x-forwarded-host/proto # time=1.397ms
    
    # Subtest: Request with trust proxy - plain
        1..1
        ok 1 - should be equivalent
    ok 10 - Request with trust proxy - plain # time=0.994ms
    
    # Subtest: Request with undefined socket
        1..18
        ok 1 - type is Request
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equivalent
        ok 16 - type is Function
        ok 17 - type is Function
        ok 18 - type is Function
    ok 11 - Request with undefined socket # time=3.707ms
    
    # Subtest: Request with trust proxy and undefined socket
        1..1
        ok 1 - should be equivalent
    ok 12 - Request with trust proxy and undefined socket # time=0.728ms
    
    1..12
    # time=120.884ms
ok 61 - test/internals/request.test.js # time=120.884ms

# Subtest: test/internals/server.test.js
    1..0 # no tests found
not ok 62 - test/internals/server.test.js # time=913.476ms
  ---
  env: {}
  file: test/internals/server.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/internals/server.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/internals/validation.test.js
    # Subtest: Symbols
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 1 - Symbols # time=8.801ms
    
    # Subtest: compileSchemasForValidation schema - missing schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - compileSchemasForValidation schema - missing schema # time=2.566ms
    
    # Subtest: compileSchemasForValidation schema - missing output schema
        1..1
        ok 1 - should be equal
    ok 3 - compileSchemasForValidation schema - missing output schema # time=1.537ms
    
    # Subtest: compileSchemasForSerialization schema - missing schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - compileSchemasForSerialization schema - missing schema # time=1.946ms
    
    # Subtest: compileSchemasForSerialization schema - missing output schema
        1..1
        ok 1 - should be equal
    ok 5 - compileSchemasForSerialization schema - missing output schema # time=1.024ms
    
    # Subtest: build schema - output schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 6 - build schema - output schema # time=65.785ms
    
    # Subtest: build schema - payload schema
        1..1
        ok 1 - should be equal
    ok 7 - build schema - payload schema # time=2.347ms
    
    # Subtest: build schema - avoid repeated normalize schema
        1..3
        ok 1 - should not be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 8 - build schema - avoid repeated normalize schema # time=2.366ms
    
    # Subtest: build schema - query schema
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 9 - build schema - query schema # time=3.682ms
    
    # Subtest: build schema - query schema abbreviated
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 10 - build schema - query schema abbreviated # time=11.359ms
    
    # Subtest: build schema - querystring schema
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 11 - build schema - querystring schema # time=2.54ms
    
    # Subtest: build schema - querystring schema abbreviated
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 12 - build schema - querystring schema abbreviated # time=2.247ms
    
    # Subtest: build schema - must throw if querystring and query schema exist
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 13 - build schema - must throw if querystring and query schema exist # time=1.265ms
    
    # Subtest: build schema - params schema
        1..1
        ok 1 - should be equal
    ok 14 - build schema - params schema # time=1.898ms
    
    # Subtest: build schema - headers schema
        1..1
        ok 1 - should be equal
    ok 15 - build schema - headers schema # time=2.085ms
    
    # Subtest: build schema - headers are lowercase
        1..1
        ok 1 - lowercase content-type exists
    ok 16 - build schema - headers are lowercase # time=0.811ms
    
    # Subtest: build schema - headers are not lowercased in case of custom object
        1..1
        ok 1 - type is Headers
    ok 17 - build schema - headers are not lowercased in case of custom object # time=0.697ms
    
    # Subtest: build schema - uppercased headers are not included
        1..1
        ok 1 - uppercase does not exist
    ok 18 - build schema - uppercased headers are not included # time=0.659ms
    
    1..18
    # time=184.626ms
ok 63 - test/internals/validation.test.js # time=184.626ms

# Subtest: test/keepAliveTimeout.test.js
    1..0 # no tests found
not ok 64 - test/keepAliveTimeout.test.js # time=514.868ms
  ---
  env: {}
  file: test/keepAliveTimeout.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/keepAliveTimeout.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/listen.deprecated.test.js
    1..0 # no tests found
not ok 65 - test/listen.deprecated.test.js # time=883.999ms
  ---
  env: {}
  file: test/listen.deprecated.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/listen.deprecated.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/listen.test.js
    1..0 # no tests found
not ok 66 - test/listen.test.js # time=927.978ms
  ---
  env: {}
  file: test/listen.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/listen.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/logger.test.js
    1..0 # no tests found
not ok 67 - test/logger.test.js # time=870.466ms
  ---
  env: {}
  file: test/logger.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/logger.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/maxRequestsPerSocket.test.js
    1..0 # no tests found
not ok 68 - test/maxRequestsPerSocket.test.js # time=953.898ms
  ---
  env: {}
  file: test/maxRequestsPerSocket.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/maxRequestsPerSocket.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/middleware.test.js
    1..0 # no tests found
not ok 69 - test/middleware.test.js # time=842.793ms
  ---
  env: {}
  file: test/middleware.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/middleware.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/noop-set.test.js
    # Subtest: does a lot of nothing
        ok 1 - type is object
        ok 2 - should be equal
        1..2
    ok 1 - does a lot of nothing # time=7.092ms
    
    1..1
    # time=12.534ms
ok 70 - test/noop-set.test.js # time=12.534ms

# Subtest: test/nullable-validation.test.js
    1..0 # no tests found
not ok 71 - test/nullable-validation.test.js # time=916.3ms
  ---
  env: {}
  file: test/nullable-validation.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/nullable-validation.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/options.error-handler.test.js
    1..0 # no tests found
not ok 72 - test/options.error-handler.test.js # time=913.32ms
  ---
  env: {}
  file: test/options.error-handler.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/options.error-handler.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/options.test.js
    1..0 # no tests found
not ok 73 - test/options.test.js # time=842.58ms
  ---
  env: {}
  file: test/options.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/options.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/output-validation.test.js
    1..0 # no tests found
not ok 74 - test/output-validation.test.js # time=848.605ms
  ---
  env: {}
  file: test/output-validation.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/output-validation.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/patch.error-handler.test.js
    1..0 # no tests found
not ok 75 - test/patch.error-handler.test.js # time=948.984ms
  ---
  env: {}
  file: test/patch.error-handler.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/patch.error-handler.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/patch.test.js
    1..0 # no tests found
not ok 76 - test/patch.test.js # time=845.028ms
  ---
  env: {}
  file: test/patch.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/patch.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/plugin.test.js
    1..0 # no tests found
not ok 77 - test/plugin.test.js # time=942.132ms
  ---
  env: {}
  file: test/plugin.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/plugin.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/pretty-print.test.js
    1..0 # no tests found
not ok 78 - test/pretty-print.test.js # time=841.425ms
  ---
  env: {}
  file: test/pretty-print.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/pretty-print.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/promises.test.js
    1..0 # no tests found
not ok 79 - test/promises.test.js # time=857.556ms
  ---
  env: {}
  file: test/promises.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/promises.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/proto-poisoning.test.js
    1..0 # no tests found
not ok 80 - test/proto-poisoning.test.js # time=524.035ms
  ---
  env: {}
  file: test/proto-poisoning.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/proto-poisoning.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/put.error-handler.test.js
    1..0 # no tests found
not ok 81 - test/put.error-handler.test.js # time=828.844ms
  ---
  env: {}
  file: test/put.error-handler.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/put.error-handler.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/put.test.js
    1..0 # no tests found
not ok 82 - test/put.test.js # time=836.54ms
  ---
  env: {}
  file: test/put.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/put.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/register.test.js
    1..0 # no tests found
not ok 83 - test/register.test.js # time=854.829ms
  ---
  env: {}
  file: test/register.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/register.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/reply-error.test.js
    1..0 # no tests found
not ok 84 - test/reply-error.test.js # time=798.295ms
  ---
  env: {}
  file: test/reply-error.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/reply-error.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/reply-trailers.test.js
    1..0 # no tests found
not ok 85 - test/reply-trailers.test.js # time=887.128ms
  ---
  env: {}
  file: test/reply-trailers.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/reply-trailers.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/request-error.test.js
    1..0 # no tests found
not ok 86 - test/request-error.test.js # time=911.886ms
  ---
  env: {}
  file: test/request-error.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/request-error.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/requestTimeout.test.js
    1..0 # no tests found
not ok 87 - test/requestTimeout.test.js # time=824.719ms
  ---
  env: {}
  file: test/requestTimeout.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/requestTimeout.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/route-hooks.test.js
    1..0 # no tests found
not ok 88 - test/route-hooks.test.js # time=864.159ms
  ---
  env: {}
  file: test/route-hooks.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/route-hooks.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/route-prefix.test.js
    1..0 # no tests found
not ok 89 - test/route-prefix.test.js # time=815.494ms
  ---
  env: {}
  file: test/route-prefix.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/route-prefix.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/route.test.js
    1..0 # no tests found
not ok 90 - test/route.test.js # time=1124.23ms
  ---
  env: {}
  file: test/route.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/route.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/router-options.test.js
    1..0 # no tests found
not ok 91 - test/router-options.test.js # time=884.45ms
  ---
  env: {}
  file: test/router-options.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/router-options.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/same-shape.test.js
    1..0 # no tests found
not ok 92 - test/same-shape.test.js # time=887.809ms
  ---
  env: {}
  file: test/same-shape.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/same-shape.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/schema-examples.test.js
    1..0 # no tests found
not ok 93 - test/schema-examples.test.js # time=965.506ms
  ---
  env: {}
  file: test/schema-examples.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/schema-examples.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/schema-feature.test.js
    1..0 # no tests found
not ok 94 - test/schema-feature.test.js # time=749.816ms
  ---
  env: {}
  file: test/schema-feature.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/schema-feature.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/schema-serialization.test.js
    1..0 # no tests found
not ok 95 - test/schema-serialization.test.js # time=827.029ms
  ---
  env: {}
  file: test/schema-serialization.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/schema-serialization.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/schema-special-usage.test.js
    1..0 # no tests found
not ok 96 - test/schema-special-usage.test.js # time=1258.755ms
  ---
  env: {}
  file: test/schema-special-usage.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/schema-special-usage.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/schema-validation.test.js
    1..0 # no tests found
not ok 97 - test/schema-validation.test.js # time=838.782ms
  ---
  env: {}
  file: test/schema-validation.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/schema-validation.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/skip-reply-send.test.js
    1..0 # no tests found
not ok 98 - test/skip-reply-send.test.js # time=897.849ms
  ---
  env: {}
  file: test/skip-reply-send.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/skip-reply-send.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/stream.test.js
    1..0 # no tests found
not ok 99 - test/stream.test.js # time=945.541ms
  ---
  env: {}
  file: test/stream.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/stream.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/sync-routes.test.js
    1..0 # no tests found
not ok 100 - test/sync-routes.test.js # time=813.972ms
  ---
  env: {}
  file: test/sync-routes.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/sync-routes.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/throw.test.js
    1..0 # no tests found
not ok 101 - test/throw.test.js # time=857.961ms
  ---
  env: {}
  file: test/throw.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/throw.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/trust-proxy.test.js
    1..0 # no tests found
not ok 102 - test/trust-proxy.test.js # time=910.741ms
  ---
  env: {}
  file: test/trust-proxy.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/trust-proxy.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/type-provider.test.js
    1..0 # no tests found
not ok 103 - test/type-provider.test.js # time=852.425ms
  ---
  env: {}
  file: test/type-provider.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/type-provider.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/unsupported-httpversion.test.js
    1..0 # no tests found
not ok 104 - test/unsupported-httpversion.test.js # time=870.874ms
  ---
  env: {}
  file: test/unsupported-httpversion.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/unsupported-httpversion.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/url-rewriting.test.js
    1..0 # no tests found
not ok 105 - test/url-rewriting.test.js # time=929.594ms
  ---
  env: {}
  file: test/url-rewriting.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/url-rewriting.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/validation-error-handling.test.js
    1..0 # no tests found
not ok 106 - test/validation-error-handling.test.js # time=1033.126ms
  ---
  env: {}
  file: test/validation-error-handling.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/validation-error-handling.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/versioned-routes.test.js
    1..0 # no tests found
not ok 107 - test/versioned-routes.test.js # time=831.754ms
  ---
  env: {}
  file: test/versioned-routes.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/versioned-routes.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

# Subtest: test/wrapThenable.test.js
    1..0 # no tests found
not ok 108 - test/wrapThenable.test.js # time=480.296ms
  ---
  env: {}
  file: test/wrapThenable.test.js
  timeout: 30000
  command: /usr/local/bin/node
  args:
    - --allow-natives-syntax
    - test/wrapThenable.test.js
  stdio:
    - 0
    - pipe
    - 2
  cwd: /data/js-variants/multee/VariantsPureDep/fastify/variant1/fastify
  exitCode: 1
  ...

1..108
# failed 100 of 108 tests
# time=50176.523ms
-------------------|---------|----------|---------|---------|---------------------------------------
File               | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s                     
-------------------|---------|----------|---------|---------|---------------------------------------
All files          |   21.41 |    16.72 |   23.92 |    21.5 |                                       
 fastify           |    2.21 |        0 |       0 |    2.26 |                                       
  fastify.js       |    2.21 |        0 |       0 |    2.26 | 36-760                                
 fastify/lib       |   25.82 |    20.35 |   30.65 |   25.99 |                                       
  decorate.js      |   53.57 |    52.94 |   61.53 |   55.76 | 23,39-61,102,114-124,129              
  errors.js        |      60 |      100 |       0 |      60 | 288-290                               
  handleRequest.js |    9.09 |        0 |       0 |    9.52 | 11-137                                
  hooks.js         |   48.76 |    44.82 |   57.89 |    48.3 | 64-158,190,221-222,235,245-246        
  logger.js        |     3.5 |        0 |       0 |    3.63 | 11-119                                
  noop-set.js      |     100 |      100 |     100 |     100 |                                       
  pluginUtils.js   |    58.1 |     42.1 |   64.28 |    62.9 | 19,35-44,101-136                      
  reply.js         |    1.36 |        0 |       0 |     1.4 | 29-806                                
  request.js       |   60.18 |    39.06 |   66.66 |   60.57 | ...4,62,80-81,142,157-167,206,211-291 
  schemas.js       |   48.52 |     49.2 |   33.33 |   49.25 | ...74,82,86-88,99,104-107,135-149,153 
  server.js        |    4.93 |        0 |       0 |       5 | 15-365                                
  symbols.js       |     100 |      100 |     100 |     100 |                                       
  validation.js    |   50.72 |     43.1 |   55.55 |   53.12 | 22,53,78-118                          
  warnings.js      |     100 |      100 |     100 |     100 |                                       
  wrapThenable.js  |   13.33 |        0 |       0 |   13.33 | 9-38                                  
-------------------|---------|----------|---------|---------|---------------------------------------
