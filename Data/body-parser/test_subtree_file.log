14
./VariantsSubtree/body-parser/variant14/body-parser

> body-parser@1.20.0 test
> mocha --require test/support/env --reporter spec --check-leaks --bail test/

./VariantsSubtree/body-parser/variant13/body-parser

> body-parser@1.20.0 test
> mocha --require test/support/env --reporter spec --check-leaks --bail test/



  bodyParser()
    ✔ should default to {}
    ✔ should parse JSON (77ms)
    ✔ should parse x-www-form-urlencoded
    ✔ should handle duplicated middleware
    http methods
      ✔ should support ACL requests
      ✔ should support BIND requests
      ✔ should support CHECKOUT requests
      ✔ should support COPY requests
      ✔ should support DELETE requests
      ✔ should support GET requests
      ✔ should support HEAD requests
      ✔ should support LINK requests
      ✔ should support LOCK requests
      ✔ should support M-SEARCH requests
      ✔ should support MERGE requests
      ✔ should support MKACTIVITY requests
      ✔ should support MKCALENDAR requests
      ✔ should support MKCOL requests
      ✔ should support MOVE requests
      ✔ should support NOTIFY requests
      ✔ should support OPTIONS requests
      ✔ should support PATCH requests
      ✔ should support POST requests
      ✔ should support PROPFIND requests
      ✔ should support PROPPATCH requests
      ✔ should support PURGE requests
      ✔ should support PUT requests
      ✔ should support REBIND requests
      ✔ should support REPORT requests
      ✔ should support SEARCH requests
      ✔ should support SOURCE requests
      ✔ should support SUBSCRIBE requests
      ✔ should support TRACE requests
      ✔ should support UNBIND requests
      ✔ should support UNLINK requests
      ✔ should support UNLOCK requests
      ✔ should support UNSUBSCRIBE requests
    with type option
      ✔ should parse JSON
      ✔ should parse x-www-form-urlencoded
    with verify option
      ✔ should apply to json
      ✔ should apply to urlencoded

  bodyParser.json()
    ✔ should parse JSON
    ✔ should handle Content-Length: 0
    ✔ should handle empty message-body
    ✔ should handle no message-body
    ✔ should 400 when only whitespace
    ✔ should 400 when invalid content-length
    ✔ should 500 if stream not readable
    ✔ should handle duplicated middleware
    when JSON is invalid
      ✔ should 400 for bad token
      ✔ should 400 for incomplete
      ✔ should include original body on error object
    with limit option
      ✔ should 413 when over limit with Content-Length
      ✔ should 413 when over limit with chunked encoding
      ✔ should 413 when inflated body over limit
      ✔ should accept number of bytes
      ✔ should not change when options altered
      ✔ should not hang response
      ✔ should not error when inflating
    with inflate option
      when false
        ✔ should not accept content-encoding
      when true
        ✔ should accept content-encoding
    with strict option
      when undefined
        ✔ should 400 on primitives
      when false
        ✔ should parse primitives
      when true
        ✔ should not parse primitives
        ✔ should not parse primitives with leading whitespaces
        ✔ should allow leading whitespaces in JSON
        ✔ should include correct message in stack trace
    with type option
      when "application/vnd.api+json"
        ✔ should parse JSON for custom type
        ✔ should ignore standard type
      when ["application/json", "application/vnd.api+json"]
        ✔ should parse JSON for "application/json"
        ✔ should parse JSON for "application/vnd.api+json"
        ✔ should ignore "application/x-json"
      when a function
        ✔ should parse when truthy value returned
        ✔ should work without content-type
        ✔ should not invoke without a body
    with verify option
      ✔ should assert value if function
      ✔ should error from verify
      ✔ should allow custom codes
      ✔ should allow custom type
      ✔ should include original body on error object
      ✔ should allow pass-through
      ✔ should work with different charsets
      ✔ should 415 on unknown charset prior to verify
    async local storage
      ✔ should presist store
      ✔ should presist store when unmatched content-type
      ✔ should presist store when inflated
      ✔ should presist store when inflate error
      ✔ should presist store when parse error
      ✔ should presist store when limit exceeded
    charset
      ✔ should parse utf-8
      ✔ should parse utf-16
      ✔ should parse when content-length != char length
      ✔ should default to utf-8
      ✔ should fail on unknown charset
    encoding
      ✔ should parse without encoding
      ✔ should support identity encoding
      ✔ should support gzip encoding
      ✔ should support deflate encoding
      ✔ should be case-insensitive
      ✔ should 415 on unknown encoding
      ✔ should 400 on malformed encoding
      ✔ should 413 when inflated value exceeds limit

  bodyParser.raw()
    ✔ should parse application/octet-stream
    ✔ should 400 when invalid content-length
    ✔ should handle Content-Length: 0
    ✔ should handle empty message-body
    ✔ should 500 if stream not readable
    ✔ should handle duplicated middleware
    with limit option
      ✔ should 413 when over limit with Content-Length
      ✔ should 413 when over limit with chunked encoding
      ✔ should 413 when inflated body over limit
      ✔ should accept number of bytes
      ✔ should not change when options altered
      ✔ should not hang response
      ✔ should not error when inflating
    with inflate option
      when false
        ✔ should not accept content-encoding
      when true
        ✔ should accept content-encoding
    with type option
      when "application/vnd+octets"
        ✔ should parse for custom type
        ✔ should ignore standard type
      when ["application/octet-stream", "application/vnd+octets"]
        ✔ should parse "application/octet-stream"
        ✔ should parse "application/vnd+octets"
        ✔ should ignore "application/x-foo"
      when a function
        ✔ should parse when truthy value returned
        ✔ should work without content-type
        ✔ should not invoke without a body
    with verify option
      ✔ should assert value is function
      ✔ should error from verify
      ✔ should allow custom codes
      ✔ should allow pass-through
    async local storage
      ✔ should presist store
      ✔ should presist store when unmatched content-type
      ✔ should presist store when inflated
      ✔ should presist store when inflate error
      ✔ should presist store when limit exceeded
    charset
      ✔ should ignore charset
    encoding
      ✔ should parse without encoding
      ✔ should support identity encoding
      ✔ should support gzip encoding
      ✔ should support deflate encoding
      ✔ should be case-insensitive
      ✔ should 415 on unknown encoding

  bodyParser.text()
    ✔ should parse text/plain
    ✔ should 400 when invalid content-length
    ✔ should handle Content-Length: 0
    ✔ should handle empty message-body
    ✔ should 500 if stream not readable
    ✔ should handle duplicated middleware
    with defaultCharset option
      ✔ should change default charset
      ✔ should honor content-type charset
    with limit option
      ✔ should 413 when over limit with Content-Length
      ✔ should 413 when over limit with chunked encoding
      ✔ should 413 when inflated body over limit
      ✔ should accept number of bytes
      ✔ should not change when options altered
      ✔ should not hang response
      ✔ should not error when inflating (103ms)
    with inflate option
      when false
        ✔ should not accept content-encoding
      when true
        ✔ should accept content-encoding
    with type option
      when "text/html"
        ✔ should parse for custom type
        ✔ should ignore standard type
      when ["text/html", "text/plain"]
        ✔ should parse "text/html"
        ✔ should parse "text/plain"
        ✔ should ignore "text/xml"
      when a function
        ✔ should parse when truthy value returned
        ✔ should work without content-type
        ✔ should not invoke without a body
    with verify option
      ✔ should assert value is function
      ✔ should error from verify
      ✔ should allow custom codes
      ✔ should allow pass-through
      ✔ should 415 on unknown charset prior to verify
    async local storage
      ✔ should presist store
      ✔ should presist store when unmatched content-type
      ✔ should presist store when inflated
      ✔ should presist store when inflate error
      ✔ should presist store when limit exceeded
    charset
      ✔ should parse utf-8
      ✔ should parse codepage charsets
      ✔ should parse when content-length != char length
      ✔ should default to utf-8
      ✔ should 415 on unknown charset
    encoding
      ✔ should parse without encoding
      ✔ should support identity encoding
      ✔ should support gzip encoding
      ✔ should support deflate encoding
      ✔ should be case-insensitive
      ✔ should 415 on unknown encoding

  bodyParser.urlencoded()
    ✔ should parse x-www-form-urlencoded
    ✔ should 400 when invalid content-length
    ✔ should handle Content-Length: 0
    ✔ should handle empty message-body
    ✔ should 500 if stream not readable
    ✔ should handle duplicated middleware
    ✔ should parse extended syntax
    with extended option
      when false
        ✔ should not parse extended syntax
        ✔ should parse multiple key instances
      when true
        ✔ should parse multiple key instances
        ✔ should parse extended syntax
        ✔ should parse parameters with dots
        ✔ should parse fully-encoded extended syntax
        ✔ should parse array index notation
        ✔ should parse array index notation with large array
        ✔ should parse array of objects syntax
        ✔ should parse deep object
    with inflate option
      when false
        ✔ should not accept content-encoding
      when true
        ✔ should accept content-encoding
    with limit option
      ✔ should 413 when over limit with Content-Length
      ✔ should 413 when over limit with chunked encoding
      ✔ should 413 when inflated body over limit
      ✔ should accept number of bytes
      ✔ should not change when options altered
      ✔ should not hang response
      ✔ should not error when inflating
    with parameterLimit option
      with extended: false
        ✔ should reject 0
        ✔ should reject string
        ✔ should 413 if over limit
        ✔ should work when at the limit
        ✔ should work if number is floating point
        ✔ should work with large limit
        ✔ should work with Infinity limit (55ms)
      with extended: true
        ✔ should reject 0
        ✔ should reject string
        ✔ should 413 if over limit
        ✔ should work when at the limit
        ✔ should work if number is floating point
        ✔ should work with large limit (85ms)
        ✔ should work with Infinity limit (183ms)
    with type option
      when "application/vnd.x-www-form-urlencoded"
        ✔ should parse for custom type (38ms)
        ✔ should ignore standard type
      when ["urlencoded", "application/x-pairs"]
        ✔ should parse "application/x-www-form-urlencoded"
        ✔ should parse "application/x-pairs"
        ✔ should ignore application/x-foo
      when a function
        ✔ should parse when truthy value returned
        ✔ should work without content-type
        ✔ should not invoke without a body
    with verify option
      ✔ should assert value if function
      ✔ should error from verify
      ✔ should allow custom codes
      ✔ should allow custom type
      ✔ should allow pass-through
      ✔ should 415 on unknown charset prior to verify
    async local storage
      ✔ should presist store
      ✔ should presist store when unmatched content-type
      ✔ should presist store when inflated
      ✔ should presist store when inflate error
      ✔ should presist store when limit exceeded
    charset
      ✔ should parse utf-8
      ✔ should parse when content-length != char length
      ✔ should default to utf-8
      ✔ should fail on unknown charset
    encoding
      ✔ should parse without encoding
      ✔ should support identity encoding
      ✔ should support gzip encoding
      ✔ should support deflate encoding
      ✔ should be case-insensitive
      ✔ should 415 on unknown encoding


  256 passing (2s)

./VariantsSubtree/body-parser/variant12/body-parser

> body-parser@1.20.0 test
> mocha --require test/support/env --reporter spec --check-leaks --bail test/

./VariantsSubtree/body-parser/variant11/body-parser

> body-parser@1.20.0 test
> mocha --require test/support/env --reporter spec --check-leaks --bail test/

./VariantsSubtree/body-parser/variant10/body-parser

> body-parser@1.20.0 test
> mocha --require test/support/env --reporter spec --check-leaks --bail test/



  bodyParser()
    ✔ should default to {} (64ms)
    ✔ should parse JSON
    ✔ should parse x-www-form-urlencoded
    ✔ should handle duplicated middleware
    http methods
      ✔ should support ACL requests
      ✔ should support BIND requests
      ✔ should support CHECKOUT requests
      ✔ should support COPY requests
      ✔ should support DELETE requests
      ✔ should support GET requests
      ✔ should support HEAD requests
      ✔ should support LINK requests
      ✔ should support LOCK requests
      ✔ should support M-SEARCH requests
      ✔ should support MERGE requests
      ✔ should support MKACTIVITY requests
      ✔ should support MKCALENDAR requests
      ✔ should support MKCOL requests
      ✔ should support MOVE requests
      ✔ should support NOTIFY requests
      ✔ should support OPTIONS requests
      ✔ should support PATCH requests
      ✔ should support POST requests
      ✔ should support PROPFIND requests
      ✔ should support PROPPATCH requests
      ✔ should support PURGE requests
      ✔ should support PUT requests
      ✔ should support REBIND requests
      ✔ should support REPORT requests
      ✔ should support SEARCH requests
      ✔ should support SOURCE requests
      ✔ should support SUBSCRIBE requests
      ✔ should support TRACE requests
      ✔ should support UNBIND requests
      ✔ should support UNLINK requests
      ✔ should support UNLOCK requests
      ✔ should support UNSUBSCRIBE requests
    with type option
      ✔ should parse JSON
      ✔ should parse x-www-form-urlencoded
    with verify option
      ✔ should apply to json
      ✔ should apply to urlencoded

  bodyParser.json()
    ✔ should parse JSON
    ✔ should handle Content-Length: 0
    ✔ should handle empty message-body
    ✔ should handle no message-body
    ✔ should 400 when only whitespace
    ✔ should 400 when invalid content-length
    ✔ should 500 if stream not readable
    ✔ should handle duplicated middleware
    when JSON is invalid
      ✔ should 400 for bad token
      ✔ should 400 for incomplete
      ✔ should include original body on error object
    with limit option
      ✔ should 413 when over limit with Content-Length
      ✔ should 413 when over limit with chunked encoding
      ✔ should 413 when inflated body over limit
      ✔ should accept number of bytes
      ✔ should not change when options altered
      ✔ should not hang response
      ✔ should not error when inflating
    with inflate option
      when false
        ✔ should not accept content-encoding
      when true
        ✔ should accept content-encoding
    with strict option
      when undefined
        ✔ should 400 on primitives
      when false
        ✔ should parse primitives
      when true
        ✔ should not parse primitives
        ✔ should not parse primitives with leading whitespaces
        ✔ should allow leading whitespaces in JSON
        ✔ should include correct message in stack trace
    with type option
      when "application/vnd.api+json"
        ✔ should parse JSON for custom type
        ✔ should ignore standard type
      when ["application/json", "application/vnd.api+json"]
        ✔ should parse JSON for "application/json"
        ✔ should parse JSON for "application/vnd.api+json"
        ✔ should ignore "application/x-json"
      when a function
        ✔ should parse when truthy value returned
        ✔ should work without content-type
        ✔ should not invoke without a body
    with verify option
      ✔ should assert value if function
      ✔ should error from verify
      ✔ should allow custom codes
      ✔ should allow custom type
      ✔ should include original body on error object
      ✔ should allow pass-through
      ✔ should work with different charsets
      ✔ should 415 on unknown charset prior to verify
    async local storage
      ✔ should presist store
      ✔ should presist store when unmatched content-type
      ✔ should presist store when inflated
      ✔ should presist store when inflate error
      ✔ should presist store when parse error
      ✔ should presist store when limit exceeded
    charset
      ✔ should parse utf-8
      ✔ should parse utf-16
      ✔ should parse when content-length != char length
      ✔ should default to utf-8
      ✔ should fail on unknown charset
    encoding
      ✔ should parse without encoding
      ✔ should support identity encoding
      ✔ should support gzip encoding
      ✔ should support deflate encoding
      ✔ should be case-insensitive
      ✔ should 415 on unknown encoding
      ✔ should 400 on malformed encoding
      ✔ should 413 when inflated value exceeds limit

  bodyParser.raw()
    ✔ should parse application/octet-stream
    ✔ should 400 when invalid content-length
    ✔ should handle Content-Length: 0
    ✔ should handle empty message-body
    ✔ should 500 if stream not readable
    ✔ should handle duplicated middleware
    with limit option
      ✔ should 413 when over limit with Content-Length
      ✔ should 413 when over limit with chunked encoding
      ✔ should 413 when inflated body over limit
      ✔ should accept number of bytes
      ✔ should not change when options altered
      ✔ should not hang response
      ✔ should not error when inflating
    with inflate option
      when false
        ✔ should not accept content-encoding
      when true
        ✔ should accept content-encoding
    with type option
      when "application/vnd+octets"
        ✔ should parse for custom type
        ✔ should ignore standard type
      when ["application/octet-stream", "application/vnd+octets"]
        ✔ should parse "application/octet-stream"
        ✔ should parse "application/vnd+octets"
        ✔ should ignore "application/x-foo"
      when a function
        ✔ should parse when truthy value returned
        ✔ should work without content-type
        ✔ should not invoke without a body
    with verify option
      ✔ should assert value is function
      ✔ should error from verify
      ✔ should allow custom codes
      ✔ should allow pass-through
    async local storage
      ✔ should presist store
      ✔ should presist store when unmatched content-type
      ✔ should presist store when inflated
      ✔ should presist store when inflate error
      ✔ should presist store when limit exceeded
    charset
      ✔ should ignore charset
    encoding
      ✔ should parse without encoding
      ✔ should support identity encoding
      ✔ should support gzip encoding
      ✔ should support deflate encoding
      ✔ should be case-insensitive
      ✔ should 415 on unknown encoding

  bodyParser.text()
    ✔ should parse text/plain
    ✔ should 400 when invalid content-length
    ✔ should handle Content-Length: 0
    ✔ should handle empty message-body
    ✔ should 500 if stream not readable
    ✔ should handle duplicated middleware
    with defaultCharset option
      ✔ should change default charset
      ✔ should honor content-type charset
    with limit option
      ✔ should 413 when over limit with Content-Length
      ✔ should 413 when over limit with chunked encoding
      ✔ should 413 when inflated body over limit
      ✔ should accept number of bytes
      ✔ should not change when options altered
      ✔ should not hang response
      ✔ should not error when inflating (102ms)
    with inflate option
      when false
        ✔ should not accept content-encoding
      when true
        ✔ should accept content-encoding
    with type option
      when "text/html"
        ✔ should parse for custom type
        ✔ should ignore standard type
      when ["text/html", "text/plain"]
        ✔ should parse "text/html"
        ✔ should parse "text/plain"
        ✔ should ignore "text/xml"
      when a function
        ✔ should parse when truthy value returned
        ✔ should work without content-type
        ✔ should not invoke without a body
    with verify option
      ✔ should assert value is function
      ✔ should error from verify
      ✔ should allow custom codes
      ✔ should allow pass-through
      ✔ should 415 on unknown charset prior to verify
    async local storage
      ✔ should presist store
      ✔ should presist store when unmatched content-type
      ✔ should presist store when inflated
      ✔ should presist store when inflate error
      ✔ should presist store when limit exceeded
    charset
      ✔ should parse utf-8
      ✔ should parse codepage charsets
      ✔ should parse when content-length != char length
      ✔ should default to utf-8
      ✔ should 415 on unknown charset
    encoding
      ✔ should parse without encoding
      ✔ should support identity encoding
      ✔ should support gzip encoding
      ✔ should support deflate encoding
      ✔ should be case-insensitive
      ✔ should 415 on unknown encoding

  bodyParser.urlencoded()
    ✔ should parse x-www-form-urlencoded
    ✔ should 400 when invalid content-length
    ✔ should handle Content-Length: 0
    ✔ should handle empty message-body
    ✔ should 500 if stream not readable
    ✔ should handle duplicated middleware
    ✔ should parse extended syntax
    with extended option
      when false
        ✔ should not parse extended syntax
        ✔ should parse multiple key instances
      when true
        ✔ should parse multiple key instances
        ✔ should parse extended syntax
        ✔ should parse parameters with dots
        ✔ should parse fully-encoded extended syntax
        ✔ should parse array index notation
        ✔ should parse array index notation with large array
        ✔ should parse array of objects syntax
        ✔ should parse deep object
    with inflate option
      when false
        ✔ should not accept content-encoding
      when true
        ✔ should accept content-encoding
    with limit option
      ✔ should 413 when over limit with Content-Length
      ✔ should 413 when over limit with chunked encoding
      ✔ should 413 when inflated body over limit
      ✔ should accept number of bytes
      ✔ should not change when options altered
      ✔ should not hang response
      ✔ should not error when inflating
    with parameterLimit option
      with extended: false
        ✔ should reject 0
        ✔ should reject string
        ✔ should 413 if over limit
        ✔ should work when at the limit
        ✔ should work if number is floating point
        ✔ should work with large limit
        ✔ should work with Infinity limit (55ms)
      with extended: true
        ✔ should reject 0
        ✔ should reject string
        ✔ should 413 if over limit
        ✔ should work when at the limit
        ✔ should work if number is floating point
        ✔ should work with large limit (89ms)
        ✔ should work with Infinity limit (165ms)
    with type option
      when "application/vnd.x-www-form-urlencoded"
        ✔ should parse for custom type
        ✔ should ignore standard type
      when ["urlencoded", "application/x-pairs"]
        ✔ should parse "application/x-www-form-urlencoded"
        ✔ should parse "application/x-pairs"
        ✔ should ignore application/x-foo
      when a function
        ✔ should parse when truthy value returned
        ✔ should work without content-type
        ✔ should not invoke without a body
    with verify option
      ✔ should assert value if function
      ✔ should error from verify
      ✔ should allow custom codes
      ✔ should allow custom type
      ✔ should allow pass-through
      ✔ should 415 on unknown charset prior to verify
    async local storage
      ✔ should presist store
      ✔ should presist store when unmatched content-type
      ✔ should presist store when inflated
      ✔ should presist store when inflate error
      ✔ should presist store when limit exceeded
    charset
      ✔ should parse utf-8
      ✔ should parse when content-length != char length
      ✔ should default to utf-8
      ✔ should fail on unknown charset
    encoding
      ✔ should parse without encoding
      ✔ should support identity encoding
      ✔ should support gzip encoding
      ✔ should support deflate encoding
      ✔ should be case-insensitive
      ✔ should 415 on unknown encoding


  256 passing (2s)

./VariantsSubtree/body-parser/variant9/body-parser

> body-parser@1.20.0 test
> mocha --require test/support/env --reporter spec --check-leaks --bail test/



  bodyParser()
    ✔ should default to {}
    ✔ should parse JSON
    ✔ should parse x-www-form-urlencoded
    ✔ should handle duplicated middleware
    http methods
      ✔ should support ACL requests
      ✔ should support BIND requests
      ✔ should support CHECKOUT requests
      ✔ should support COPY requests
      ✔ should support DELETE requests
      ✔ should support GET requests
      ✔ should support HEAD requests
      ✔ should support LINK requests
      ✔ should support LOCK requests
      ✔ should support M-SEARCH requests
      ✔ should support MERGE requests
      ✔ should support MKACTIVITY requests
      ✔ should support MKCALENDAR requests
      ✔ should support MKCOL requests
      ✔ should support MOVE requests
      ✔ should support NOTIFY requests
      ✔ should support OPTIONS requests
      ✔ should support PATCH requests
      ✔ should support POST requests
      ✔ should support PROPFIND requests
      ✔ should support PROPPATCH requests
      ✔ should support PURGE requests
      ✔ should support PUT requests
      ✔ should support REBIND requests
      ✔ should support REPORT requests
      ✔ should support SEARCH requests
      ✔ should support SOURCE requests
      ✔ should support SUBSCRIBE requests
      ✔ should support TRACE requests
      ✔ should support UNBIND requests
      ✔ should support UNLINK requests
      ✔ should support UNLOCK requests
      ✔ should support UNSUBSCRIBE requests
    with type option
      ✔ should parse JSON
      ✔ should parse x-www-form-urlencoded
    with verify option
      ✔ should apply to json
      ✔ should apply to urlencoded

  bodyParser.json()
    ✔ should parse JSON
    ✔ should handle Content-Length: 0
    ✔ should handle empty message-body
    ✔ should handle no message-body
    ✔ should 400 when only whitespace
    ✔ should 400 when invalid content-length
    ✔ should 500 if stream not readable
    ✔ should handle duplicated middleware
    when JSON is invalid
      ✔ should 400 for bad token
      ✔ should 400 for incomplete
      ✔ should include original body on error object
    with limit option
      ✔ should 413 when over limit with Content-Length
      ✔ should 413 when over limit with chunked encoding
      ✔ should 413 when inflated body over limit
      ✔ should accept number of bytes
      ✔ should not change when options altered
      ✔ should not hang response
      ✔ should not error when inflating
    with inflate option
      when false
        ✔ should not accept content-encoding
      when true
        ✔ should accept content-encoding
    with strict option
      when undefined
        ✔ should 400 on primitives
      when false
        ✔ should parse primitives
      when true
        ✔ should not parse primitives
        ✔ should not parse primitives with leading whitespaces
        ✔ should allow leading whitespaces in JSON
        ✔ should include correct message in stack trace
    with type option
      when "application/vnd.api+json"
        ✔ should parse JSON for custom type
        ✔ should ignore standard type
      when ["application/json", "application/vnd.api+json"]
        ✔ should parse JSON for "application/json"
        ✔ should parse JSON for "application/vnd.api+json"
        ✔ should ignore "application/x-json"
      when a function
        ✔ should parse when truthy value returned
        ✔ should work without content-type
        ✔ should not invoke without a body
    with verify option
      ✔ should assert value if function
      ✔ should error from verify
      ✔ should allow custom codes
      ✔ should allow custom type
      ✔ should include original body on error object
      ✔ should allow pass-through
      ✔ should work with different charsets
      ✔ should 415 on unknown charset prior to verify
    async local storage
      ✔ should presist store
      ✔ should presist store when unmatched content-type
      ✔ should presist store when inflated
      ✔ should presist store when inflate error
      ✔ should presist store when parse error
      ✔ should presist store when limit exceeded
    charset
      ✔ should parse utf-8
      ✔ should parse utf-16
      ✔ should parse when content-length != char length
      ✔ should default to utf-8
      ✔ should fail on unknown charset
    encoding
      ✔ should parse without encoding
      ✔ should support identity encoding
      ✔ should support gzip encoding
      ✔ should support deflate encoding
      ✔ should be case-insensitive
      ✔ should 415 on unknown encoding
      ✔ should 400 on malformed encoding
      ✔ should 413 when inflated value exceeds limit

  bodyParser.raw()
    ✔ should parse application/octet-stream
    ✔ should 400 when invalid content-length
    ✔ should handle Content-Length: 0
    ✔ should handle empty message-body
    ✔ should 500 if stream not readable
    ✔ should handle duplicated middleware
    with limit option
      ✔ should 413 when over limit with Content-Length
      ✔ should 413 when over limit with chunked encoding
      ✔ should 413 when inflated body over limit
      ✔ should accept number of bytes
      ✔ should not change when options altered
      ✔ should not hang response
      ✔ should not error when inflating
    with inflate option
      when false
        ✔ should not accept content-encoding
      when true
        ✔ should accept content-encoding
    with type option
      when "application/vnd+octets"
        ✔ should parse for custom type
        ✔ should ignore standard type
      when ["application/octet-stream", "application/vnd+octets"]
        ✔ should parse "application/octet-stream"
        ✔ should parse "application/vnd+octets"
        ✔ should ignore "application/x-foo"
      when a function
        ✔ should parse when truthy value returned
        ✔ should work without content-type
        ✔ should not invoke without a body
    with verify option
      ✔ should assert value is function
      ✔ should error from verify
      ✔ should allow custom codes
      ✔ should allow pass-through
    async local storage
      ✔ should presist store
      ✔ should presist store when unmatched content-type
      ✔ should presist store when inflated
      ✔ should presist store when inflate error
      ✔ should presist store when limit exceeded
    charset
      ✔ should ignore charset
    encoding
      ✔ should parse without encoding
      ✔ should support identity encoding
      ✔ should support gzip encoding
      ✔ should support deflate encoding
      ✔ should be case-insensitive
      ✔ should 415 on unknown encoding

  bodyParser.text()
    ✔ should parse text/plain
    ✔ should 400 when invalid content-length
    ✔ should handle Content-Length: 0
    ✔ should handle empty message-body
    ✔ should 500 if stream not readable
    ✔ should handle duplicated middleware
    with defaultCharset option
      ✔ should change default charset
      ✔ should honor content-type charset
    with limit option
      ✔ should 413 when over limit with Content-Length
      ✔ should 413 when over limit with chunked encoding
      ✔ should 413 when inflated body over limit
      ✔ should accept number of bytes
      ✔ should not change when options altered
      ✔ should not hang response
      ✔ should not error when inflating (102ms)
    with inflate option
      when false
        ✔ should not accept content-encoding
      when true
        ✔ should accept content-encoding
    with type option
      when "text/html"
        ✔ should parse for custom type
        ✔ should ignore standard type
      when ["text/html", "text/plain"]
        ✔ should parse "text/html"
        ✔ should parse "text/plain"
        ✔ should ignore "text/xml"
      when a function
        ✔ should parse when truthy value returned
        ✔ should work without content-type
        ✔ should not invoke without a body
    with verify option
      ✔ should assert value is function
      ✔ should error from verify
      ✔ should allow custom codes
      ✔ should allow pass-through
      ✔ should 415 on unknown charset prior to verify
    async local storage
      ✔ should presist store
      ✔ should presist store when unmatched content-type
      ✔ should presist store when inflated
      ✔ should presist store when inflate error
      ✔ should presist store when limit exceeded
    charset
      ✔ should parse utf-8
      ✔ should parse codepage charsets
      ✔ should parse when content-length != char length
      ✔ should default to utf-8
      ✔ should 415 on unknown charset
    encoding
      ✔ should parse without encoding
      ✔ should support identity encoding
      ✔ should support gzip encoding
      ✔ should support deflate encoding
      ✔ should be case-insensitive
      ✔ should 415 on unknown encoding

  bodyParser.urlencoded()
    ✔ should parse x-www-form-urlencoded
    ✔ should 400 when invalid content-length
    ✔ should handle Content-Length: 0
    ✔ should handle empty message-body
    ✔ should 500 if stream not readable
    ✔ should handle duplicated middleware
    ✔ should parse extended syntax
    with extended option
      when false
        ✔ should not parse extended syntax
        ✔ should parse multiple key instances
      when true
        ✔ should parse multiple key instances
        ✔ should parse extended syntax
        ✔ should parse parameters with dots
        ✔ should parse fully-encoded extended syntax
        ✔ should parse array index notation
        ✔ should parse array index notation with large array
        ✔ should parse array of objects syntax
        ✔ should parse deep object
    with inflate option
      when false
        ✔ should not accept content-encoding
      when true
        ✔ should accept content-encoding
    with limit option
      ✔ should 413 when over limit with Content-Length
      ✔ should 413 when over limit with chunked encoding
      ✔ should 413 when inflated body over limit
      ✔ should accept number of bytes
      ✔ should not change when options altered
      ✔ should not hang response
      ✔ should not error when inflating
    with parameterLimit option
      with extended: false
        ✔ should reject 0
        ✔ should reject string
        ✔ should 413 if over limit
        ✔ should work when at the limit
        ✔ should work if number is floating point
        ✔ should work with large limit
        ✔ should work with Infinity limit (56ms)
      with extended: true
        ✔ should reject 0
        ✔ should reject string
        ✔ should 413 if over limit
        ✔ should work when at the limit
        ✔ should work if number is floating point
        ✔ should work with large limit (83ms)
        ✔ should work with Infinity limit (177ms)
    with type option
      when "application/vnd.x-www-form-urlencoded"
        ✔ should parse for custom type
        ✔ should ignore standard type
      when ["urlencoded", "application/x-pairs"]
        ✔ should parse "application/x-www-form-urlencoded"
        ✔ should parse "application/x-pairs"
        ✔ should ignore application/x-foo
      when a function
        ✔ should parse when truthy value returned
        ✔ should work without content-type
        ✔ should not invoke without a body
    with verify option
      ✔ should assert value if function
      ✔ should error from verify
      ✔ should allow custom codes
      ✔ should allow custom type
      ✔ should allow pass-through
      ✔ should 415 on unknown charset prior to verify
    async local storage
      ✔ should presist store
      ✔ should presist store when unmatched content-type
      ✔ should presist store when inflated
      ✔ should presist store when inflate error
      ✔ should presist store when limit exceeded
    charset
      ✔ should parse utf-8
      ✔ should parse when content-length != char length
      ✔ should default to utf-8
      ✔ should fail on unknown charset
    encoding
      ✔ should parse without encoding
      ✔ should support identity encoding
      ✔ should support gzip encoding
      ✔ should support deflate encoding
      ✔ should be case-insensitive
      ✔ should 415 on unknown encoding


  256 passing (1s)

./VariantsSubtree/body-parser/variant8/body-parser

> body-parser@1.20.0 test
> mocha --require test/support/env --reporter spec --check-leaks --bail test/



  bodyParser()
    ✔ should default to {}
    ✔ should parse JSON
    ✔ should parse x-www-form-urlencoded
    ✔ should handle duplicated middleware
    http methods
      ✔ should support ACL requests
      ✔ should support BIND requests
      ✔ should support CHECKOUT requests
      ✔ should support COPY requests
      ✔ should support DELETE requests
      ✔ should support GET requests
      ✔ should support HEAD requests
      ✔ should support LINK requests
      ✔ should support LOCK requests
      ✔ should support M-SEARCH requests
      ✔ should support MERGE requests
      ✔ should support MKACTIVITY requests
      ✔ should support MKCALENDAR requests
      ✔ should support MKCOL requests
      ✔ should support MOVE requests
      ✔ should support NOTIFY requests
      ✔ should support OPTIONS requests
      ✔ should support PATCH requests
      ✔ should support POST requests
      ✔ should support PROPFIND requests
      ✔ should support PROPPATCH requests
      ✔ should support PURGE requests
      ✔ should support PUT requests
      ✔ should support REBIND requests
      ✔ should support REPORT requests
      ✔ should support SEARCH requests
      ✔ should support SOURCE requests
      ✔ should support SUBSCRIBE requests
      ✔ should support TRACE requests
      ✔ should support UNBIND requests
      ✔ should support UNLINK requests
      ✔ should support UNLOCK requests
      ✔ should support UNSUBSCRIBE requests
    with type option
      ✔ should parse JSON
      ✔ should parse x-www-form-urlencoded
    with verify option
      ✔ should apply to json
      ✔ should apply to urlencoded

  bodyParser.json()
    ✔ should parse JSON
    ✔ should handle Content-Length: 0
    ✔ should handle empty message-body
    ✔ should handle no message-body
    ✔ should 400 when only whitespace
    ✔ should 400 when invalid content-length
    ✔ should 500 if stream not readable
    ✔ should handle duplicated middleware
    when JSON is invalid
      ✔ should 400 for bad token
      ✔ should 400 for incomplete
      ✔ should include original body on error object
    with limit option
      ✔ should 413 when over limit with Content-Length
      ✔ should 413 when over limit with chunked encoding
      ✔ should 413 when inflated body over limit
      ✔ should accept number of bytes
      ✔ should not change when options altered
      ✔ should not hang response
      ✔ should not error when inflating
    with inflate option
      when false
        ✔ should not accept content-encoding
      when true
        ✔ should accept content-encoding
    with strict option
      when undefined
        ✔ should 400 on primitives
      when false
        ✔ should parse primitives
      when true
        ✔ should not parse primitives
        ✔ should not parse primitives with leading whitespaces
        ✔ should allow leading whitespaces in JSON
        ✔ should include correct message in stack trace
    with type option
      when "application/vnd.api+json"
        ✔ should parse JSON for custom type
        ✔ should ignore standard type
      when ["application/json", "application/vnd.api+json"]
        ✔ should parse JSON for "application/json"
        ✔ should parse JSON for "application/vnd.api+json"
        ✔ should ignore "application/x-json"
      when a function
        ✔ should parse when truthy value returned
        ✔ should work without content-type
        ✔ should not invoke without a body
    with verify option
      ✔ should assert value if function
      ✔ should error from verify
      ✔ should allow custom codes
      ✔ should allow custom type
      ✔ should include original body on error object
      ✔ should allow pass-through
      1) should work with different charsets


  81 passing (340ms)
  1 failing

  1) bodyParser.json()
       with verify option
         should work with different charsets:
     Error: expected 200 "OK", got 400 "Bad Request"
      at Context.<anonymous> (test/json.js:497:12)
      at processImmediate (node:internal/timers:466:21)
  ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at /data/js-variants/multee/VariantsSubtree/body-parser/variant8/body-parser/node_modules/supertest/lib/test.js:306:17
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)
      at Object.onceWrapper (node:events:627:28)
      at Server.emit (node:events:513:28)
      at emitCloseNT (node:net:1820:8)
      at processTicksAndRejections (node:internal/process/task_queues:82:21)



./VariantsSubtree/body-parser/variant7/body-parser

> body-parser@1.20.0 test
> mocha --require test/support/env --reporter spec --check-leaks --bail test/



  bodyParser()
    ✔ should default to {}
    ✔ should parse JSON
    ✔ should parse x-www-form-urlencoded
    ✔ should handle duplicated middleware
    http methods
      ✔ should support ACL requests
      ✔ should support BIND requests
      ✔ should support CHECKOUT requests
      ✔ should support COPY requests
      ✔ should support DELETE requests
      ✔ should support GET requests
      ✔ should support HEAD requests
      ✔ should support LINK requests
      ✔ should support LOCK requests
      ✔ should support M-SEARCH requests
      ✔ should support MERGE requests
      ✔ should support MKACTIVITY requests
      ✔ should support MKCALENDAR requests
      ✔ should support MKCOL requests
      ✔ should support MOVE requests
      ✔ should support NOTIFY requests
      ✔ should support OPTIONS requests
      ✔ should support PATCH requests
      ✔ should support POST requests
      ✔ should support PROPFIND requests
      ✔ should support PROPPATCH requests
      ✔ should support PURGE requests
      ✔ should support PUT requests
      ✔ should support REBIND requests
      ✔ should support REPORT requests
      ✔ should support SEARCH requests
      ✔ should support SOURCE requests
      ✔ should support SUBSCRIBE requests
      ✔ should support TRACE requests
      ✔ should support UNBIND requests
      ✔ should support UNLINK requests
      ✔ should support UNLOCK requests
      ✔ should support UNSUBSCRIBE requests
    with type option
      ✔ should parse JSON
      ✔ should parse x-www-form-urlencoded
    with verify option
      ✔ should apply to json
      ✔ should apply to urlencoded

  bodyParser.json()
    ✔ should parse JSON
    ✔ should handle Content-Length: 0
    ✔ should handle empty message-body
    ✔ should handle no message-body
    ✔ should 400 when only whitespace
    ✔ should 400 when invalid content-length
    ✔ should 500 if stream not readable
    ✔ should handle duplicated middleware
    when JSON is invalid
      ✔ should 400 for bad token
      ✔ should 400 for incomplete
      ✔ should include original body on error object
    with limit option
      ✔ should 413 when over limit with Content-Length
      ✔ should 413 when over limit with chunked encoding
      ✔ should 413 when inflated body over limit
      ✔ should accept number of bytes
      ✔ should not change when options altered
      ✔ should not hang response
      ✔ should not error when inflating
    with inflate option
      when false
        ✔ should not accept content-encoding
      when true
        ✔ should accept content-encoding
    with strict option
      when undefined
        ✔ should 400 on primitives
      when false
        ✔ should parse primitives
      when true
        ✔ should not parse primitives
        ✔ should not parse primitives with leading whitespaces
        ✔ should allow leading whitespaces in JSON
        ✔ should include correct message in stack trace
    with type option
      when "application/vnd.api+json"
        ✔ should parse JSON for custom type
        ✔ should ignore standard type
      when ["application/json", "application/vnd.api+json"]
        ✔ should parse JSON for "application/json"
        ✔ should parse JSON for "application/vnd.api+json"
        ✔ should ignore "application/x-json"
      when a function
        ✔ should parse when truthy value returned
        ✔ should work without content-type
        ✔ should not invoke without a body
    with verify option
      ✔ should assert value if function
      ✔ should error from verify
      ✔ should allow custom codes
      ✔ should allow custom type
      ✔ should include original body on error object
      ✔ should allow pass-through
      ✔ should work with different charsets
      ✔ should 415 on unknown charset prior to verify
    async local storage
      ✔ should presist store
      ✔ should presist store when unmatched content-type
      ✔ should presist store when inflated
      ✔ should presist store when inflate error
      ✔ should presist store when parse error
      ✔ should presist store when limit exceeded
    charset
      ✔ should parse utf-8
      ✔ should parse utf-16
      ✔ should parse when content-length != char length
      ✔ should default to utf-8
      ✔ should fail on unknown charset
    encoding
      ✔ should parse without encoding
      ✔ should support identity encoding
      ✔ should support gzip encoding
      ✔ should support deflate encoding
      ✔ should be case-insensitive
      ✔ should 415 on unknown encoding
      ✔ should 400 on malformed encoding
      ✔ should 413 when inflated value exceeds limit

  bodyParser.raw()
    ✔ should parse application/octet-stream
    ✔ should 400 when invalid content-length
    ✔ should handle Content-Length: 0
    ✔ should handle empty message-body
    ✔ should 500 if stream not readable
    ✔ should handle duplicated middleware
    with limit option
      ✔ should 413 when over limit with Content-Length
      ✔ should 413 when over limit with chunked encoding
      ✔ should 413 when inflated body over limit
      ✔ should accept number of bytes
      ✔ should not change when options altered
      ✔ should not hang response
      ✔ should not error when inflating
    with inflate option
      when false
        ✔ should not accept content-encoding
      when true
        ✔ should accept content-encoding
    with type option
      when "application/vnd+octets"
        ✔ should parse for custom type
        ✔ should ignore standard type
      when ["application/octet-stream", "application/vnd+octets"]
        ✔ should parse "application/octet-stream"
        ✔ should parse "application/vnd+octets"
        ✔ should ignore "application/x-foo"
      when a function
        ✔ should parse when truthy value returned
        ✔ should work without content-type
        ✔ should not invoke without a body
    with verify option
      ✔ should assert value is function
      ✔ should error from verify
      ✔ should allow custom codes
      ✔ should allow pass-through
    async local storage
      ✔ should presist store
      ✔ should presist store when unmatched content-type
      ✔ should presist store when inflated
      ✔ should presist store when inflate error
      ✔ should presist store when limit exceeded
    charset
      ✔ should ignore charset (46ms)
    encoding
      ✔ should parse without encoding
      ✔ should support identity encoding
      ✔ should support gzip encoding
      ✔ should support deflate encoding
      ✔ should be case-insensitive
      ✔ should 415 on unknown encoding

  bodyParser.text()
    ✔ should parse text/plain
    ✔ should 400 when invalid content-length
    ✔ should handle Content-Length: 0
    ✔ should handle empty message-body
    ✔ should 500 if stream not readable
    ✔ should handle duplicated middleware
    with defaultCharset option
      1) should change default charset


  147 passing (793ms)
  1 failing

  1) bodyParser.text()
       with defaultCharset option
         should change default charset:
     Error: expected 200 "OK", got 415 "Unsupported Media Type"
      at Context.<anonymous> (test/text.js:96:12)
      at processImmediate (node:internal/timers:466:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)
  ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at /data/js-variants/multee/VariantsSubtree/body-parser/variant7/body-parser/node_modules/supertest/lib/test.js:306:17
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)
      at Object.onceWrapper (node:events:627:28)
      at Server.emit (node:events:513:28)
      at emitCloseNT (node:net:1820:8)
      at processTicksAndRejections (node:internal/process/task_queues:82:21)



./VariantsSubtree/body-parser/variant6/body-parser

> body-parser@1.20.0 test
> mocha --require test/support/env --reporter spec --check-leaks --bail test/



  bodyParser()
    ✔ should default to {}
    ✔ should parse JSON (51ms)
    ✔ should parse x-www-form-urlencoded
    ✔ should handle duplicated middleware
    http methods
      ✔ should support ACL requests
      ✔ should support BIND requests
      ✔ should support CHECKOUT requests
      ✔ should support COPY requests
      ✔ should support DELETE requests
      ✔ should support GET requests
      ✔ should support HEAD requests
      ✔ should support LINK requests
      ✔ should support LOCK requests
      ✔ should support M-SEARCH requests
      ✔ should support MERGE requests
      ✔ should support MKACTIVITY requests
      ✔ should support MKCALENDAR requests
      ✔ should support MKCOL requests
      ✔ should support MOVE requests
      ✔ should support NOTIFY requests
      ✔ should support OPTIONS requests
      ✔ should support PATCH requests
      ✔ should support POST requests
      ✔ should support PROPFIND requests
      ✔ should support PROPPATCH requests
      ✔ should support PURGE requests
      ✔ should support PUT requests
      ✔ should support REBIND requests
      ✔ should support REPORT requests
      ✔ should support SEARCH requests
      ✔ should support SOURCE requests
      ✔ should support SUBSCRIBE requests
      ✔ should support TRACE requests
      ✔ should support UNBIND requests
      ✔ should support UNLINK requests
      ✔ should support UNLOCK requests
      ✔ should support UNSUBSCRIBE requests
    with type option
      ✔ should parse JSON
      ✔ should parse x-www-form-urlencoded
    with verify option
      ✔ should apply to json
      ✔ should apply to urlencoded

  bodyParser.json()
    ✔ should parse JSON
    ✔ should handle Content-Length: 0
    ✔ should handle empty message-body
    ✔ should handle no message-body
    ✔ should 400 when only whitespace
    ✔ should 400 when invalid content-length
    ✔ should 500 if stream not readable
    ✔ should handle duplicated middleware
    when JSON is invalid
      ✔ should 400 for bad token
      ✔ should 400 for incomplete
      ✔ should include original body on error object
    with limit option
      ✔ should 413 when over limit with Content-Length
      ✔ should 413 when over limit with chunked encoding
      ✔ should 413 when inflated body over limit
      ✔ should accept number of bytes
      ✔ should not change when options altered
      ✔ should not hang response
      ✔ should not error when inflating
    with inflate option
      when false
        ✔ should not accept content-encoding
      when true
        ✔ should accept content-encoding
    with strict option
      when undefined
        ✔ should 400 on primitives
      when false
        ✔ should parse primitives
      when true
        ✔ should not parse primitives
        ✔ should not parse primitives with leading whitespaces
        ✔ should allow leading whitespaces in JSON
        ✔ should include correct message in stack trace
    with type option
      when "application/vnd.api+json"
        ✔ should parse JSON for custom type
        ✔ should ignore standard type
      when ["application/json", "application/vnd.api+json"]
        ✔ should parse JSON for "application/json"
        ✔ should parse JSON for "application/vnd.api+json"
        ✔ should ignore "application/x-json"
      when a function
        ✔ should parse when truthy value returned
        ✔ should work without content-type
        ✔ should not invoke without a body
    with verify option
      ✔ should assert value if function
      ✔ should error from verify
      ✔ should allow custom codes
      ✔ should allow custom type
      ✔ should include original body on error object
      ✔ should allow pass-through
      ✔ should work with different charsets
      ✔ should 415 on unknown charset prior to verify
    async local storage
      ✔ should presist store
      ✔ should presist store when unmatched content-type
      ✔ should presist store when inflated
      ✔ should presist store when inflate error
      ✔ should presist store when parse error
      ✔ should presist store when limit exceeded
    charset
      ✔ should parse utf-8
      ✔ should parse utf-16
      ✔ should parse when content-length != char length
      ✔ should default to utf-8
      ✔ should fail on unknown charset
    encoding
      ✔ should parse without encoding
      ✔ should support identity encoding
      ✔ should support gzip encoding
      ✔ should support deflate encoding
      ✔ should be case-insensitive
      ✔ should 415 on unknown encoding
      ✔ should 400 on malformed encoding
      ✔ should 413 when inflated value exceeds limit

  bodyParser.raw()
    ✔ should parse application/octet-stream
    ✔ should 400 when invalid content-length
    ✔ should handle Content-Length: 0
    ✔ should handle empty message-body
    ✔ should 500 if stream not readable
    ✔ should handle duplicated middleware
    with limit option
      ✔ should 413 when over limit with Content-Length
      ✔ should 413 when over limit with chunked encoding
      ✔ should 413 when inflated body over limit
      ✔ should accept number of bytes
      ✔ should not change when options altered
      ✔ should not hang response
      ✔ should not error when inflating
    with inflate option
      when false
        ✔ should not accept content-encoding
      when true
        ✔ should accept content-encoding
    with type option
      when "application/vnd+octets"
        ✔ should parse for custom type
        ✔ should ignore standard type
      when ["application/octet-stream", "application/vnd+octets"]
        ✔ should parse "application/octet-stream"
        ✔ should parse "application/vnd+octets"
        ✔ should ignore "application/x-foo"
      when a function
        ✔ should parse when truthy value returned
        ✔ should work without content-type
        ✔ should not invoke without a body
    with verify option
      ✔ should assert value is function
      ✔ should error from verify
      ✔ should allow custom codes
      ✔ should allow pass-through
    async local storage
      ✔ should presist store
      ✔ should presist store when unmatched content-type
      ✔ should presist store when inflated
      ✔ should presist store when inflate error
      ✔ should presist store when limit exceeded
    charset
      ✔ should ignore charset
    encoding
      ✔ should parse without encoding
      ✔ should support identity encoding
      ✔ should support gzip encoding
      ✔ should support deflate encoding
      ✔ should be case-insensitive
      ✔ should 415 on unknown encoding

  bodyParser.text()
    ✔ should parse text/plain
    ✔ should 400 when invalid content-length
    ✔ should handle Content-Length: 0
    ✔ should handle empty message-body
    ✔ should 500 if stream not readable
    ✔ should handle duplicated middleware
    with defaultCharset option
      ✔ should change default charset
      ✔ should honor content-type charset
    with limit option
      ✔ should 413 when over limit with Content-Length
      ✔ should 413 when over limit with chunked encoding
      ✔ should 413 when inflated body over limit
      ✔ should accept number of bytes
      ✔ should not change when options altered
      ✔ should not hang response
      ✔ should not error when inflating (103ms)
    with inflate option
      when false
        ✔ should not accept content-encoding
      when true
        ✔ should accept content-encoding
    with type option
      when "text/html"
        ✔ should parse for custom type
        ✔ should ignore standard type
      when ["text/html", "text/plain"]
        ✔ should parse "text/html"
        ✔ should parse "text/plain"
        ✔ should ignore "text/xml"
      when a function
        ✔ should parse when truthy value returned
        ✔ should work without content-type
        ✔ should not invoke without a body
    with verify option
      ✔ should assert value is function
      ✔ should error from verify
      ✔ should allow custom codes
      ✔ should allow pass-through
      ✔ should 415 on unknown charset prior to verify
    async local storage
      ✔ should presist store
      ✔ should presist store when unmatched content-type
      ✔ should presist store when inflated
      ✔ should presist store when inflate error
      ✔ should presist store when limit exceeded
    charset
      ✔ should parse utf-8
      ✔ should parse codepage charsets
      ✔ should parse when content-length != char length
      ✔ should default to utf-8
      ✔ should 415 on unknown charset
    encoding
      ✔ should parse without encoding
      ✔ should support identity encoding
      ✔ should support gzip encoding
      ✔ should support deflate encoding
      ✔ should be case-insensitive
      ✔ should 415 on unknown encoding

  bodyParser.urlencoded()
    ✔ should parse x-www-form-urlencoded
    ✔ should 400 when invalid content-length
    ✔ should handle Content-Length: 0
    ✔ should handle empty message-body
    ✔ should 500 if stream not readable
    ✔ should handle duplicated middleware
    ✔ should parse extended syntax
    with extended option
      when false
        ✔ should not parse extended syntax
        ✔ should parse multiple key instances
      when true
        ✔ should parse multiple key instances
        ✔ should parse extended syntax
        ✔ should parse parameters with dots
        ✔ should parse fully-encoded extended syntax
        ✔ should parse array index notation
        ✔ should parse array index notation with large array
        ✔ should parse array of objects syntax
        ✔ should parse deep object
    with inflate option
      when false
        ✔ should not accept content-encoding
      when true
        ✔ should accept content-encoding
    with limit option
      ✔ should 413 when over limit with Content-Length
      ✔ should 413 when over limit with chunked encoding
      ✔ should 413 when inflated body over limit
      ✔ should accept number of bytes
      ✔ should not change when options altered
      ✔ should not hang response
      ✔ should not error when inflating
    with parameterLimit option
      with extended: false
        ✔ should reject 0
        ✔ should reject string
        ✔ should 413 if over limit
        ✔ should work when at the limit
        ✔ should work if number is floating point
        ✔ should work with large limit
        ✔ should work with Infinity limit (107ms)
      with extended: true
        ✔ should reject 0
        ✔ should reject string
        ✔ should 413 if over limit
        ✔ should work when at the limit
        ✔ should work if number is floating point
        ✔ should work with large limit (74ms)
        ✔ should work with Infinity limit (182ms)
    with type option
      when "application/vnd.x-www-form-urlencoded"
        ✔ should parse for custom type
        ✔ should ignore standard type
      when ["urlencoded", "application/x-pairs"]
        ✔ should parse "application/x-www-form-urlencoded"
        ✔ should parse "application/x-pairs"
        ✔ should ignore application/x-foo
      when a function
        ✔ should parse when truthy value returned
        ✔ should work without content-type
        ✔ should not invoke without a body
    with verify option
      ✔ should assert value if function
      ✔ should error from verify
      ✔ should allow custom codes
      ✔ should allow custom type
      ✔ should allow pass-through
      ✔ should 415 on unknown charset prior to verify
    async local storage
      ✔ should presist store
      ✔ should presist store when unmatched content-type
      ✔ should presist store when inflated
      ✔ should presist store when inflate error
      ✔ should presist store when limit exceeded
    charset
      ✔ should parse utf-8
      ✔ should parse when content-length != char length
      ✔ should default to utf-8
      ✔ should fail on unknown charset
    encoding
      ✔ should parse without encoding
      ✔ should support identity encoding
      ✔ should support gzip encoding
      ✔ should support deflate encoding
      ✔ should be case-insensitive
      ✔ should 415 on unknown encoding


  256 passing (2s)

./VariantsSubtree/body-parser/variant5/body-parser

> body-parser@1.20.0 test
> mocha --require test/support/env --reporter spec --check-leaks --bail test/



  bodyParser()
    ✔ should default to {}
    ✔ should parse JSON
    ✔ should parse x-www-form-urlencoded
    ✔ should handle duplicated middleware
    http methods
      ✔ should support ACL requests
      ✔ should support BIND requests
      ✔ should support CHECKOUT requests
      ✔ should support COPY requests
      ✔ should support DELETE requests
      ✔ should support GET requests
      ✔ should support HEAD requests
      ✔ should support LINK requests
      ✔ should support LOCK requests
      ✔ should support M-SEARCH requests
      ✔ should support MERGE requests
      ✔ should support MKACTIVITY requests
      ✔ should support MKCALENDAR requests
      ✔ should support MKCOL requests
      ✔ should support MOVE requests
      ✔ should support NOTIFY requests
      ✔ should support OPTIONS requests
      ✔ should support PATCH requests
      ✔ should support POST requests
      ✔ should support PROPFIND requests
      ✔ should support PROPPATCH requests
      ✔ should support PURGE requests
      ✔ should support PUT requests
      ✔ should support REBIND requests
      ✔ should support REPORT requests
      ✔ should support SEARCH requests
      ✔ should support SOURCE requests
      ✔ should support SUBSCRIBE requests
      ✔ should support TRACE requests
      ✔ should support UNBIND requests
      ✔ should support UNLINK requests
      ✔ should support UNLOCK requests
      ✔ should support UNSUBSCRIBE requests
    with type option
      ✔ should parse JSON
      ✔ should parse x-www-form-urlencoded
    with verify option
      ✔ should apply to json
      ✔ should apply to urlencoded

  bodyParser.json()
    ✔ should parse JSON
    ✔ should handle Content-Length: 0
    ✔ should handle empty message-body
    ✔ should handle no message-body
    ✔ should 400 when only whitespace
    ✔ should 400 when invalid content-length
    ✔ should 500 if stream not readable
    ✔ should handle duplicated middleware
    when JSON is invalid
      ✔ should 400 for bad token
      ✔ should 400 for incomplete
      ✔ should include original body on error object
    with limit option
      ✔ should 413 when over limit with Content-Length
      ✔ should 413 when over limit with chunked encoding
      ✔ should 413 when inflated body over limit
      ✔ should accept number of bytes
      ✔ should not change when options altered
      ✔ should not hang response
      ✔ should not error when inflating
    with inflate option
      when false
        ✔ should not accept content-encoding
      when true
        ✔ should accept content-encoding
    with strict option
      when undefined
        ✔ should 400 on primitives
      when false
        ✔ should parse primitives
      when true
        ✔ should not parse primitives
        ✔ should not parse primitives with leading whitespaces
        ✔ should allow leading whitespaces in JSON
        ✔ should include correct message in stack trace
    with type option
      when "application/vnd.api+json"
        ✔ should parse JSON for custom type
        ✔ should ignore standard type
      when ["application/json", "application/vnd.api+json"]
        ✔ should parse JSON for "application/json"
        ✔ should parse JSON for "application/vnd.api+json"
        ✔ should ignore "application/x-json"
      when a function
        ✔ should parse when truthy value returned
        ✔ should work without content-type
        ✔ should not invoke without a body
    with verify option
      ✔ should assert value if function
      ✔ should error from verify
      ✔ should allow custom codes
      ✔ should allow custom type
      ✔ should include original body on error object
      ✔ should allow pass-through
      1) should work with different charsets


  81 passing (326ms)
  1 failing

  1) bodyParser.json()
       with verify option
         should work with different charsets:
     Error: expected 200 "OK", got 400 "Bad Request"
      at Context.<anonymous> (test/json.js:497:12)
      at processImmediate (node:internal/timers:466:21)
  ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at /data/js-variants/multee/VariantsSubtree/body-parser/variant5/body-parser/node_modules/supertest/lib/test.js:306:17
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)
      at Object.onceWrapper (node:events:627:28)
      at Server.emit (node:events:513:28)
      at emitCloseNT (node:net:1820:8)
      at processTicksAndRejections (node:internal/process/task_queues:82:21)



./VariantsSubtree/body-parser/variant4/body-parser

> body-parser@1.20.0 test
> mocha --require test/support/env --reporter spec --check-leaks --bail test/



  bodyParser()
    ✔ should default to {}
    ✔ should parse JSON
    ✔ should parse x-www-form-urlencoded
    ✔ should handle duplicated middleware
    http methods
      ✔ should support ACL requests
      ✔ should support BIND requests
      ✔ should support CHECKOUT requests
      ✔ should support COPY requests
      ✔ should support DELETE requests
      ✔ should support GET requests
      ✔ should support HEAD requests
      ✔ should support LINK requests
      ✔ should support LOCK requests
      ✔ should support M-SEARCH requests
      ✔ should support MERGE requests
      ✔ should support MKACTIVITY requests
      ✔ should support MKCALENDAR requests
      ✔ should support MKCOL requests
      ✔ should support MOVE requests
      ✔ should support NOTIFY requests
      ✔ should support OPTIONS requests
      ✔ should support PATCH requests
      ✔ should support POST requests
      ✔ should support PROPFIND requests
      ✔ should support PROPPATCH requests
      ✔ should support PURGE requests
      ✔ should support PUT requests
      ✔ should support REBIND requests
      ✔ should support REPORT requests
      ✔ should support SEARCH requests
      ✔ should support SOURCE requests
      ✔ should support SUBSCRIBE requests
      ✔ should support TRACE requests
      ✔ should support UNBIND requests
      ✔ should support UNLINK requests
      ✔ should support UNLOCK requests
      ✔ should support UNSUBSCRIBE requests
    with type option
      ✔ should parse JSON
      ✔ should parse x-www-form-urlencoded
    with verify option
      ✔ should apply to json
      ✔ should apply to urlencoded

  bodyParser.json()
    ✔ should parse JSON
    ✔ should handle Content-Length: 0
    ✔ should handle empty message-body
    ✔ should handle no message-body
    ✔ should 400 when only whitespace
    ✔ should 400 when invalid content-length
    ✔ should 500 if stream not readable
    ✔ should handle duplicated middleware
    when JSON is invalid
      ✔ should 400 for bad token
      ✔ should 400 for incomplete
      ✔ should include original body on error object
    with limit option
      ✔ should 413 when over limit with Content-Length
      ✔ should 413 when over limit with chunked encoding
      ✔ should 413 when inflated body over limit
      ✔ should accept number of bytes
      ✔ should not change when options altered
      ✔ should not hang response
      ✔ should not error when inflating
    with inflate option
      when false
        ✔ should not accept content-encoding
      when true
        ✔ should accept content-encoding
    with strict option
      when undefined
        ✔ should 400 on primitives
      when false
        ✔ should parse primitives
      when true
        ✔ should not parse primitives
        ✔ should not parse primitives with leading whitespaces
        ✔ should allow leading whitespaces in JSON
        ✔ should include correct message in stack trace
    with type option
      when "application/vnd.api+json"
        ✔ should parse JSON for custom type
        ✔ should ignore standard type
      when ["application/json", "application/vnd.api+json"]
        ✔ should parse JSON for "application/json"
        ✔ should parse JSON for "application/vnd.api+json"
        ✔ should ignore "application/x-json"
      when a function
        ✔ should parse when truthy value returned
        ✔ should work without content-type
        ✔ should not invoke without a body
    with verify option
      ✔ should assert value if function
      ✔ should error from verify
      ✔ should allow custom codes
      ✔ should allow custom type
      ✔ should include original body on error object
      ✔ should allow pass-through
      1) should work with different charsets


  81 passing (400ms)
  1 failing

  1) bodyParser.json()
       with verify option
         should work with different charsets:
     Error: expected 200 "OK", got 400 "Bad Request"
      at Context.<anonymous> (test/json.js:497:12)
      at processImmediate (node:internal/timers:466:21)
  ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at /data/js-variants/multee/VariantsSubtree/body-parser/variant4/body-parser/node_modules/supertest/lib/test.js:306:17
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)
      at Object.onceWrapper (node:events:627:28)
      at Server.emit (node:events:513:28)
      at emitCloseNT (node:net:1820:8)
      at processTicksAndRejections (node:internal/process/task_queues:82:21)



./VariantsSubtree/body-parser/variant3/body-parser

> body-parser@1.20.0 test
> mocha --require test/support/env --reporter spec --check-leaks --bail test/



  bodyParser()
    ✔ should default to {}
    ✔ should parse JSON
    ✔ should parse x-www-form-urlencoded
    ✔ should handle duplicated middleware
    http methods
      ✔ should support ACL requests
      ✔ should support BIND requests
      ✔ should support CHECKOUT requests
      ✔ should support COPY requests
      ✔ should support DELETE requests
      ✔ should support GET requests
      ✔ should support HEAD requests
      ✔ should support LINK requests
      ✔ should support LOCK requests
      ✔ should support M-SEARCH requests
      ✔ should support MERGE requests
      ✔ should support MKACTIVITY requests
      ✔ should support MKCALENDAR requests
      ✔ should support MKCOL requests
      ✔ should support MOVE requests
      ✔ should support NOTIFY requests
      ✔ should support OPTIONS requests
      ✔ should support PATCH requests
      ✔ should support POST requests
      ✔ should support PROPFIND requests
      ✔ should support PROPPATCH requests
      ✔ should support PURGE requests
      ✔ should support PUT requests
      ✔ should support REBIND requests
      ✔ should support REPORT requests
      ✔ should support SEARCH requests
      ✔ should support SOURCE requests
      ✔ should support SUBSCRIBE requests
      ✔ should support TRACE requests
      ✔ should support UNBIND requests
      ✔ should support UNLINK requests
      ✔ should support UNLOCK requests
      ✔ should support UNSUBSCRIBE requests
    with type option
      ✔ should parse JSON
      ✔ should parse x-www-form-urlencoded
    with verify option
      ✔ should apply to json
      ✔ should apply to urlencoded

  bodyParser.json()
    ✔ should parse JSON
    ✔ should handle Content-Length: 0
    ✔ should handle empty message-body
    ✔ should handle no message-body
    ✔ should 400 when only whitespace
    ✔ should 400 when invalid content-length
    ✔ should 500 if stream not readable
    ✔ should handle duplicated middleware
    when JSON is invalid
      ✔ should 400 for bad token
      ✔ should 400 for incomplete
      ✔ should include original body on error object
    with limit option
      ✔ should 413 when over limit with Content-Length
      ✔ should 413 when over limit with chunked encoding
      ✔ should 413 when inflated body over limit
      ✔ should accept number of bytes
      ✔ should not change when options altered
      ✔ should not hang response
      ✔ should not error when inflating
    with inflate option
      when false
        ✔ should not accept content-encoding
      when true
        ✔ should accept content-encoding
    with strict option
      when undefined
        ✔ should 400 on primitives
      when false
        ✔ should parse primitives
      when true
        ✔ should not parse primitives
        ✔ should not parse primitives with leading whitespaces
        ✔ should allow leading whitespaces in JSON
        ✔ should include correct message in stack trace
    with type option
      when "application/vnd.api+json"
        ✔ should parse JSON for custom type
        ✔ should ignore standard type
      when ["application/json", "application/vnd.api+json"]
        ✔ should parse JSON for "application/json"
        ✔ should parse JSON for "application/vnd.api+json"
        ✔ should ignore "application/x-json"
      when a function
        ✔ should parse when truthy value returned
        ✔ should work without content-type
        ✔ should not invoke without a body
    with verify option
      ✔ should assert value if function
      ✔ should error from verify
      ✔ should allow custom codes
      ✔ should allow custom type
      ✔ should include original body on error object
      ✔ should allow pass-through
      ✔ should work with different charsets
      ✔ should 415 on unknown charset prior to verify
    async local storage
      ✔ should presist store
      ✔ should presist store when unmatched content-type
      ✔ should presist store when inflated
      ✔ should presist store when inflate error
      ✔ should presist store when parse error
      ✔ should presist store when limit exceeded
    charset
      ✔ should parse utf-8
      ✔ should parse utf-16
      ✔ should parse when content-length != char length
      ✔ should default to utf-8
      ✔ should fail on unknown charset
    encoding
      ✔ should parse without encoding
      ✔ should support identity encoding
      ✔ should support gzip encoding
      ✔ should support deflate encoding
      ✔ should be case-insensitive
      ✔ should 415 on unknown encoding
      ✔ should 400 on malformed encoding
      ✔ should 413 when inflated value exceeds limit

  bodyParser.raw()
    ✔ should parse application/octet-stream
    ✔ should 400 when invalid content-length
    ✔ should handle Content-Length: 0
    ✔ should handle empty message-body
    ✔ should 500 if stream not readable
    ✔ should handle duplicated middleware
    with limit option
      ✔ should 413 when over limit with Content-Length
      ✔ should 413 when over limit with chunked encoding
      ✔ should 413 when inflated body over limit
      ✔ should accept number of bytes
      ✔ should not change when options altered
      ✔ should not hang response
      ✔ should not error when inflating
    with inflate option
      when false
        ✔ should not accept content-encoding
      when true
        ✔ should accept content-encoding
    with type option
      when "application/vnd+octets"
        ✔ should parse for custom type
        ✔ should ignore standard type
      when ["application/octet-stream", "application/vnd+octets"]
        ✔ should parse "application/octet-stream"
        ✔ should parse "application/vnd+octets"
        ✔ should ignore "application/x-foo"
      when a function
        ✔ should parse when truthy value returned
        ✔ should work without content-type
        ✔ should not invoke without a body
    with verify option
      ✔ should assert value is function
      ✔ should error from verify
      ✔ should allow custom codes
      ✔ should allow pass-through
    async local storage
      ✔ should presist store
      ✔ should presist store when unmatched content-type
      ✔ should presist store when inflated
      ✔ should presist store when inflate error
      ✔ should presist store when limit exceeded
    charset
      ✔ should ignore charset
    encoding
      ✔ should parse without encoding
      ✔ should support identity encoding
      ✔ should support gzip encoding
      ✔ should support deflate encoding
      ✔ should be case-insensitive
      ✔ should 415 on unknown encoding

  bodyParser.text()
    ✔ should parse text/plain
    ✔ should 400 when invalid content-length
    ✔ should handle Content-Length: 0
    ✔ should handle empty message-body
    ✔ should 500 if stream not readable
    ✔ should handle duplicated middleware
    with defaultCharset option
      ✔ should change default charset
      ✔ should honor content-type charset
    with limit option
      ✔ should 413 when over limit with Content-Length
      ✔ should 413 when over limit with chunked encoding
      ✔ should 413 when inflated body over limit
      ✔ should accept number of bytes
      ✔ should not change when options altered
      ✔ should not hang response
      ✔ should not error when inflating (103ms)
    with inflate option
      when false
        ✔ should not accept content-encoding
      when true
        ✔ should accept content-encoding
    with type option
      when "text/html"
        ✔ should parse for custom type
        ✔ should ignore standard type
      when ["text/html", "text/plain"]
        ✔ should parse "text/html"
        ✔ should parse "text/plain"
        ✔ should ignore "text/xml"
      when a function
        ✔ should parse when truthy value returned
        ✔ should work without content-type
        ✔ should not invoke without a body
    with verify option
      ✔ should assert value is function
      ✔ should error from verify
      ✔ should allow custom codes
      ✔ should allow pass-through
      ✔ should 415 on unknown charset prior to verify
    async local storage
      ✔ should presist store
      ✔ should presist store when unmatched content-type
      ✔ should presist store when inflated
      ✔ should presist store when inflate error
      ✔ should presist store when limit exceeded
    charset
      ✔ should parse utf-8
      ✔ should parse codepage charsets
      ✔ should parse when content-length != char length
      ✔ should default to utf-8
      ✔ should 415 on unknown charset
    encoding
      ✔ should parse without encoding
      ✔ should support identity encoding
      ✔ should support gzip encoding
      ✔ should support deflate encoding
      ✔ should be case-insensitive
      ✔ should 415 on unknown encoding

  bodyParser.urlencoded()
    ✔ should parse x-www-form-urlencoded
    ✔ should 400 when invalid content-length
    ✔ should handle Content-Length: 0
    ✔ should handle empty message-body
    ✔ should 500 if stream not readable
    ✔ should handle duplicated middleware
    ✔ should parse extended syntax
    with extended option
      when false
        ✔ should not parse extended syntax
        ✔ should parse multiple key instances
      when true
        ✔ should parse multiple key instances
        ✔ should parse extended syntax
        ✔ should parse parameters with dots
        ✔ should parse fully-encoded extended syntax
        ✔ should parse array index notation
        ✔ should parse array index notation with large array
        ✔ should parse array of objects syntax
        ✔ should parse deep object
    with inflate option
      when false
        ✔ should not accept content-encoding
      when true
        ✔ should accept content-encoding
    with limit option
      ✔ should 413 when over limit with Content-Length
      ✔ should 413 when over limit with chunked encoding
      ✔ should 413 when inflated body over limit
      ✔ should accept number of bytes
      ✔ should not change when options altered
      ✔ should not hang response
      ✔ should not error when inflating
    with parameterLimit option
      with extended: false
        ✔ should reject 0
        ✔ should reject string
        ✔ should 413 if over limit
        ✔ should work when at the limit
        ✔ should work if number is floating point
        ✔ should work with large limit
        ✔ should work with Infinity limit (58ms)
      with extended: true
        ✔ should reject 0
        ✔ should reject string
        ✔ should 413 if over limit
        ✔ should work when at the limit
        ✔ should work if number is floating point
        ✔ should work with large limit (84ms)
        ✔ should work with Infinity limit (183ms)
    with type option
      when "application/vnd.x-www-form-urlencoded"
        ✔ should parse for custom type (39ms)
        ✔ should ignore standard type
      when ["urlencoded", "application/x-pairs"]
        ✔ should parse "application/x-www-form-urlencoded"
        ✔ should parse "application/x-pairs"
        ✔ should ignore application/x-foo
      when a function
        ✔ should parse when truthy value returned
        ✔ should work without content-type
        ✔ should not invoke without a body
    with verify option
      ✔ should assert value if function
      ✔ should error from verify
      ✔ should allow custom codes
      ✔ should allow custom type
      ✔ should allow pass-through
      ✔ should 415 on unknown charset prior to verify
    async local storage
      ✔ should presist store
      ✔ should presist store when unmatched content-type
      ✔ should presist store when inflated
      ✔ should presist store when inflate error
      ✔ should presist store when limit exceeded
    charset
      ✔ should parse utf-8
      ✔ should parse when content-length != char length
      ✔ should default to utf-8
      ✔ should fail on unknown charset
    encoding
      ✔ should parse without encoding
      ✔ should support identity encoding
      ✔ should support gzip encoding
      ✔ should support deflate encoding
      ✔ should be case-insensitive
      ✔ should 415 on unknown encoding


  256 passing (2s)

./VariantsSubtree/body-parser/variant2/body-parser

> body-parser@1.20.0 test
> mocha --require test/support/env --reporter spec --check-leaks --bail test/

./VariantsSubtree/body-parser/variant1/body-parser

> body-parser@1.20.0 test
> mocha --require test/support/env --reporter spec --check-leaks --bail test/



  bodyParser()
    ✔ should default to {} (108ms)
    ✔ should parse JSON (87ms)
    ✔ should parse x-www-form-urlencoded
    ✔ should handle duplicated middleware
    http methods
      ✔ should support ACL requests
      ✔ should support BIND requests
      ✔ should support CHECKOUT requests
      ✔ should support COPY requests
      ✔ should support DELETE requests
      ✔ should support GET requests
      ✔ should support HEAD requests
      ✔ should support LINK requests
      ✔ should support LOCK requests
      ✔ should support M-SEARCH requests
      ✔ should support MERGE requests
      ✔ should support MKACTIVITY requests
      ✔ should support MKCALENDAR requests
      ✔ should support MKCOL requests
      ✔ should support MOVE requests
      ✔ should support NOTIFY requests
      ✔ should support OPTIONS requests
      ✔ should support PATCH requests
      ✔ should support POST requests
      ✔ should support PROPFIND requests
      ✔ should support PROPPATCH requests
      ✔ should support PURGE requests
      ✔ should support PUT requests
      ✔ should support REBIND requests
      ✔ should support REPORT requests
      ✔ should support SEARCH requests
      ✔ should support SOURCE requests
      ✔ should support SUBSCRIBE requests
      ✔ should support TRACE requests
      ✔ should support UNBIND requests
      ✔ should support UNLINK requests
      ✔ should support UNLOCK requests
      ✔ should support UNSUBSCRIBE requests
    with type option
      ✔ should parse JSON
      ✔ should parse x-www-form-urlencoded
    with verify option
      ✔ should apply to json
      ✔ should apply to urlencoded

  bodyParser.json()
    ✔ should parse JSON
    ✔ should handle Content-Length: 0
    ✔ should handle empty message-body
    ✔ should handle no message-body
    ✔ should 400 when only whitespace
    1) should 400 when invalid content-length


  46 passing (923ms)
  1 failing

  1) bodyParser.json()
       should 400 when invalid content-length:
     Uncaught TypeError: setPrototypeOf is not a function
      at new BadRequestError (node_modules/http-errors/index.js:139:5)
      at createError (node_modules/http-errors/index.js:87:9)
      at IncomingMessage.onEnd (node_modules/raw-body/index.js:270:12)
      at IncomingMessage.emit (node:events:525:35)
      at endReadableNT (node:internal/streams/readable:1358:12)
      at processTicksAndRejections (node:internal/process/task_queues:83:21)



