11
Browserslist: caniuse-lite is outdated. Please run:
npx browserslist@latest --update-db

Why you should do it regularly:
https://github.com/browserslist/browserslist#browsers-data-updating
Browserslist: caniuse-lite is outdated. Please run:
npx browserslist@latest --update-db

Why you should do it regularly:
https://github.com/browserslist/browserslist#browsers-data-updating
PASS __tests__/cli/index.js (11.342 s)
PASS __tests__/server/plural.js (7.139 s)
PASS __tests__/server/plural-fake.js
PASS __tests__/server/plural-with-custom-foreign-key.js
PASS __tests__/server/singular.js
PASS __tests__/server/singular-fake.js
PASS __tests__/server/mixins.js
PASS __tests__/server/validate-data.js
PASS __tests__/server/utils.js

Test Suites: 9 passed, 9 total
Tests:       127 passed, 127 total
Snapshots:   0 total
Time:        21.184 s, estimated 22 s
Ran all test suites.

Oops! Something went wrong! :(

ESLint: 7.32.0

Error [ERR_PACKAGE_PATH_NOT_EXPORTED]: Failed to load plugin 'import' declared in '.eslintrc.js » eslint-config-standard': Package subpath './2020/RequireObjectCoercible' is not defined by "exports" in /data/js-variants/multee/Clients/body-parser/json-server/node_modules/es-abstract/package.json
    at new NodeError (node:internal/errors:377:5)
    at throwExportsNotFound (node:internal/modules/esm/resolve:440:9)
    at packageExportsResolve (node:internal/modules/esm/resolve:719:3)
    at resolveExports (node:internal/modules/cjs/loader:483:36)
    at Module._findPath (node:internal/modules/cjs/loader:523:31)
    at Module._resolveFilename (node:internal/modules/cjs/loader:925:27)
    at Module._load (node:internal/modules/cjs/loader:780:27)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (/data/js-variants/multee/Clients/body-parser/json-server/node_modules/v8-compile-cache/v8-compile-cache.js:159:20)
    at Object.<anonymous> (/data/js-variants/multee/Clients/body-parser/json-server/node_modules/array-includes/index.js:4:30)
Browserslist: caniuse-lite is outdated. Please run:
npx browserslist@latest --update-db

Why you should do it regularly:
https://github.com/browserslist/browserslist#browsers-data-updating
Browserslist: caniuse-lite is outdated. Please run:
npx browserslist@latest --update-db

Why you should do it regularly:
https://github.com/browserslist/browserslist#browsers-data-updating
PASS __tests__/cli/index.js (11.615 s)
PASS __tests__/server/plural.js (7.142 s)
PASS __tests__/server/plural-fake.js
PASS __tests__/server/plural-with-custom-foreign-key.js
PASS __tests__/server/singular.js
PASS __tests__/server/singular-fake.js
PASS __tests__/server/mixins.js
PASS __tests__/server/utils.js
PASS __tests__/server/validate-data.js

Test Suites: 9 passed, 9 total
Tests:       127 passed, 127 total
Snapshots:   0 total
Time:        21.418 s
Ran all test suites.

Oops! Something went wrong! :(

ESLint: 7.32.0

Error [ERR_PACKAGE_PATH_NOT_EXPORTED]: Failed to load plugin 'import' declared in '.eslintrc.js » eslint-config-standard': Package subpath './2020/RequireObjectCoercible' is not defined by "exports" in /data/js-variants/multee/Clients/body-parser/json-server/node_modules/es-abstract/package.json
    at new NodeError (node:internal/errors:377:5)
    at throwExportsNotFound (node:internal/modules/esm/resolve:440:9)
    at packageExportsResolve (node:internal/modules/esm/resolve:719:3)
    at resolveExports (node:internal/modules/cjs/loader:483:36)
    at Module._findPath (node:internal/modules/cjs/loader:523:31)
    at Module._resolveFilename (node:internal/modules/cjs/loader:925:27)
    at Module._load (node:internal/modules/cjs/loader:780:27)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (/data/js-variants/multee/Clients/body-parser/json-server/node_modules/v8-compile-cache/v8-compile-cache.js:159:20)
    at Object.<anonymous> (/data/js-variants/multee/Clients/body-parser/json-server/node_modules/array-includes/index.js:4:30)
Browserslist: caniuse-lite is outdated. Please run:
npx browserslist@latest --update-db

Why you should do it regularly:
https://github.com/browserslist/browserslist#browsers-data-updating
Browserslist: caniuse-lite is outdated. Please run:
npx browserslist@latest --update-db

Why you should do it regularly:
https://github.com/browserslist/browserslist#browsers-data-updating
PASS __tests__/cli/index.js (11.32 s)
PASS __tests__/server/plural.js (7.19 s)
PASS __tests__/server/plural-fake.js
PASS __tests__/server/plural-with-custom-foreign-key.js
PASS __tests__/server/singular.js
PASS __tests__/server/singular-fake.js
PASS __tests__/server/validate-data.js
PASS __tests__/server/mixins.js
PASS __tests__/server/utils.js

Test Suites: 9 passed, 9 total
Tests:       127 passed, 127 total
Snapshots:   0 total
Time:        21.196 s
Ran all test suites.

Oops! Something went wrong! :(

ESLint: 7.32.0

Error [ERR_PACKAGE_PATH_NOT_EXPORTED]: Failed to load plugin 'import' declared in '.eslintrc.js » eslint-config-standard': Package subpath './2020/RequireObjectCoercible' is not defined by "exports" in /data/js-variants/multee/Clients/body-parser/json-server/node_modules/es-abstract/package.json
    at new NodeError (node:internal/errors:377:5)
    at throwExportsNotFound (node:internal/modules/esm/resolve:440:9)
    at packageExportsResolve (node:internal/modules/esm/resolve:719:3)
    at resolveExports (node:internal/modules/cjs/loader:483:36)
    at Module._findPath (node:internal/modules/cjs/loader:523:31)
    at Module._resolveFilename (node:internal/modules/cjs/loader:925:27)
    at Module._load (node:internal/modules/cjs/loader:780:27)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (/data/js-variants/multee/Clients/body-parser/json-server/node_modules/v8-compile-cache/v8-compile-cache.js:159:20)
    at Object.<anonymous> (/data/js-variants/multee/Clients/body-parser/json-server/node_modules/array-includes/index.js:4:30)
Browserslist: caniuse-lite is outdated. Please run:
npx browserslist@latest --update-db

Why you should do it regularly:
https://github.com/browserslist/browserslist#browsers-data-updating
Browserslist: caniuse-lite is outdated. Please run:
npx browserslist@latest --update-db

Why you should do it regularly:
https://github.com/browserslist/browserslist#browsers-data-updating
PASS __tests__/cli/index.js (11.831 s)
PASS __tests__/server/plural.js (7.121 s)
PASS __tests__/server/plural-with-custom-foreign-key.js
PASS __tests__/server/plural-fake.js
PASS __tests__/server/singular.js
PASS __tests__/server/singular-fake.js
PASS __tests__/server/mixins.js
PASS __tests__/server/utils.js
PASS __tests__/server/validate-data.js

Test Suites: 9 passed, 9 total
Tests:       127 passed, 127 total
Snapshots:   0 total
Time:        21.556 s
Ran all test suites.

Oops! Something went wrong! :(

ESLint: 7.32.0

Error [ERR_PACKAGE_PATH_NOT_EXPORTED]: Failed to load plugin 'import' declared in '.eslintrc.js » eslint-config-standard': Package subpath './2020/RequireObjectCoercible' is not defined by "exports" in /data/js-variants/multee/Clients/body-parser/json-server/node_modules/es-abstract/package.json
    at new NodeError (node:internal/errors:377:5)
    at throwExportsNotFound (node:internal/modules/esm/resolve:440:9)
    at packageExportsResolve (node:internal/modules/esm/resolve:719:3)
    at resolveExports (node:internal/modules/cjs/loader:483:36)
    at Module._findPath (node:internal/modules/cjs/loader:523:31)
    at Module._resolveFilename (node:internal/modules/cjs/loader:925:27)
    at Module._load (node:internal/modules/cjs/loader:780:27)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (/data/js-variants/multee/Clients/body-parser/json-server/node_modules/v8-compile-cache/v8-compile-cache.js:159:20)
    at Object.<anonymous> (/data/js-variants/multee/Clients/body-parser/json-server/node_modules/array-includes/index.js:4:30)
Browserslist: caniuse-lite is outdated. Please run:
npx browserslist@latest --update-db

Why you should do it regularly:
https://github.com/browserslist/browserslist#browsers-data-updating
Browserslist: caniuse-lite is outdated. Please run:
npx browserslist@latest --update-db

Why you should do it regularly:
https://github.com/browserslist/browserslist#browsers-data-updating
PASS __tests__/cli/index.js (11.35 s)
PASS __tests__/server/plural.js (7.138 s)
PASS __tests__/server/plural-with-custom-foreign-key.js
PASS __tests__/server/plural-fake.js
PASS __tests__/server/singular-fake.js
PASS __tests__/server/singular.js
PASS __tests__/server/mixins.js
PASS __tests__/server/validate-data.js
PASS __tests__/server/utils.js

Test Suites: 9 passed, 9 total
Tests:       127 passed, 127 total
Snapshots:   0 total
Time:        21.1 s
Ran all test suites.

Oops! Something went wrong! :(

ESLint: 7.32.0

Error [ERR_PACKAGE_PATH_NOT_EXPORTED]: Failed to load plugin 'import' declared in '.eslintrc.js » eslint-config-standard': Package subpath './2020/RequireObjectCoercible' is not defined by "exports" in /data/js-variants/multee/Clients/body-parser/json-server/node_modules/es-abstract/package.json
    at new NodeError (node:internal/errors:377:5)
    at throwExportsNotFound (node:internal/modules/esm/resolve:440:9)
    at packageExportsResolve (node:internal/modules/esm/resolve:719:3)
    at resolveExports (node:internal/modules/cjs/loader:483:36)
    at Module._findPath (node:internal/modules/cjs/loader:523:31)
    at Module._resolveFilename (node:internal/modules/cjs/loader:925:27)
    at Module._load (node:internal/modules/cjs/loader:780:27)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (/data/js-variants/multee/Clients/body-parser/json-server/node_modules/v8-compile-cache/v8-compile-cache.js:159:20)
    at Object.<anonymous> (/data/js-variants/multee/Clients/body-parser/json-server/node_modules/array-includes/index.js:4:30)
Browserslist: caniuse-lite is outdated. Please run:
npx browserslist@latest --update-db

Why you should do it regularly:
https://github.com/browserslist/browserslist#browsers-data-updating
Browserslist: caniuse-lite is outdated. Please run:
npx browserslist@latest --update-db

Why you should do it regularly:
https://github.com/browserslist/browserslist#browsers-data-updating
FAIL __tests__/cli/index.js (11.646 s)
  ● Console

    console.error
      Error: Uncaught [AssertionError: The expression evaluated to a falsy value:
      
        setTimeout(() => {
          const str = fs.readFileSync(dbFile, 'utf8')
          assert(str.indexOf('hello') !== -1)
          done()
        }, 1000)
      ]
          at reportException (/data/js-variants/multee/Clients/body-parser/json-server/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at Timeout.task [as _onTimeout] (/data/js-variants/multee/Clients/body-parser/json-server/node_modules/jsdom/lib/jsdom/browser/Window.js:521:9)
          at listOnTimeout (node:internal/timers:564:17)
          at processTimers (node:internal/timers:507:7) AssertionError [ERR_ASSERTION]: The expression evaluated to a falsy value:
      
        setTimeout(() => {
          const str = fs.readFileSync(dbFile, 'utf8')
          assert(str.indexOf('hello') !== -1)
          done()
        }, 1000)
      
          at /data/js-variants/multee/Clients/body-parser/json-server/__tests__/cli/index.js:84:13
          at Timeout.task [as _onTimeout] (/data/js-variants/multee/Clients/body-parser/json-server/node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)
          at listOnTimeout (node:internal/timers:564:17)
          at processTimers (node:internal/timers:507:7) {
        generatedMessage: true,
        code: 'ERR_ASSERTION',
        actual: false,
        expected: true,
        operator: '=='
      }

      at VirtualConsole.<anonymous> (node_modules/jsdom/lib/jsdom/virtual-console.js:29:45)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:521:9)

  ● cli › db.json › should update JSON file

    assert(received)

    Expected value to be equal to:
      true
    Received:
      false

      82 |           setTimeout(() => {
      83 |             const str = fs.readFileSync(dbFile, 'utf8')
    > 84 |             assert(str.indexOf('hello') !== -1)
         |             ^
      85 |             done()
      86 |           }, 1000)
      87 |         })

      at __tests__/cli/index.js:84:13
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)

  ● cli › db.json -m postbody-middleware.js › should have post body in middleware

    expected "name" header field

      167 |
      168 |     test('should have post body in middleware', (done) => {
    > 169 |       request.post('/posts').send({ name: 'test' }).expect('name', 'test', done)
          |                                                     ^
      170 |     })
      171 |   })
      172 |

      at Object.<anonymous> (__tests__/cli/index.js:169:53)
      ----
      at Test.Object.<anonymous>.Test._assertHeader (node_modules/supertest/lib/test.js:272:45)
      at node_modules/supertest/lib/test.js:80:15
      at Test.Object.<anonymous>.Test._assertFunction (node_modules/supertest/lib/test.js:337:11)
      at Test.Object.<anonymous>.Test.assert (node_modules/supertest/lib/test.js:208:21)
      at localAssert (node_modules/supertest/lib/test.js:166:12)
      at fn (node_modules/supertest/lib/test.js:163:5)
      at Test.callback (node_modules/superagent/src/node/index.js:902:3)
      at IncomingMessage.<anonymous> (node_modules/superagent/src/node/index.js:1130:18)

FAIL __tests__/server/plural.js
  ● Console

    console.error
      UnsupportedMediaTypeError: unsupported charset "UTF-8"
          at /data/js-variants/multee/VariantsDeps/body-parser/variant6/body-parser/lib/read.js:85:18
          at AsyncResource.runInAsyncScope (node:async_hooks:202:9)
          at invokeCallback (/data/js-variants/multee/VariantsDeps/body-parser/variant6/body-parser/node_modules/raw-body/index.js:231:16)
          at processTicksAndRejections (node:internal/process/task_queues:77:11)

      87 |
      88 |   router.use((err, req, res, next) => {
    > 89 |     console.error(err.stack)
         |             ^
      90 |     res.status(500).send(err.stack)
      91 |   })
      92 |

      at src/server/router/index.js:89:13
      at Layer.handle_error (node_modules/express/lib/router/layer.js:71:5)
      at trim_prefix (node_modules/express/lib/router/index.js:315:13)
      at node_modules/express/lib/router/index.js:284:7
      at Function.process_params (node_modules/express/lib/router/index.js:335:12)
      at next (node_modules/express/lib/router/index.js:275:10)
      at Layer.handle_error (node_modules/express/lib/router/layer.js:67:12)
      at trim_prefix (node_modules/express/lib/router/index.js:315:13)

    console.error
      UnsupportedMediaTypeError: unsupported charset "UTF-8"
          at /data/js-variants/multee/VariantsDeps/body-parser/variant6/body-parser/lib/read.js:85:18
          at AsyncResource.runInAsyncScope (node:async_hooks:202:9)
          at invokeCallback (/data/js-variants/multee/VariantsDeps/body-parser/variant6/body-parser/node_modules/raw-body/index.js:231:16)
          at processTicksAndRejections (node:internal/process/task_queues:77:11)

      87 |
      88 |   router.use((err, req, res, next) => {
    > 89 |     console.error(err.stack)
         |             ^
      90 |     res.status(500).send(err.stack)
      91 |   })
      92 |

      at src/server/router/index.js:89:13
      at Layer.handle_error (node_modules/express/lib/router/layer.js:71:5)
      at trim_prefix (node_modules/express/lib/router/index.js:315:13)
      at node_modules/express/lib/router/index.js:284:7
      at Function.process_params (node_modules/express/lib/router/index.js:335:12)
      at next (node_modules/express/lib/router/index.js:275:10)
      at Layer.handle_error (node_modules/express/lib/router/layer.js:67:12)
      at trim_prefix (node_modules/express/lib/router/index.js:315:13)

    console.error
      UnsupportedMediaTypeError: unsupported charset "UTF-8"
          at /data/js-variants/multee/VariantsDeps/body-parser/variant6/body-parser/lib/read.js:85:18
          at AsyncResource.runInAsyncScope (node:async_hooks:202:9)
          at invokeCallback (/data/js-variants/multee/VariantsDeps/body-parser/variant6/body-parser/node_modules/raw-body/index.js:231:16)
          at processTicksAndRejections (node:internal/process/task_queues:77:11)

      87 |
      88 |   router.use((err, req, res, next) => {
    > 89 |     console.error(err.stack)
         |             ^
      90 |     res.status(500).send(err.stack)
      91 |   })
      92 |

      at src/server/router/index.js:89:13
      at Layer.handle_error (node_modules/express/lib/router/layer.js:71:5)
      at trim_prefix (node_modules/express/lib/router/index.js:315:13)
      at node_modules/express/lib/router/index.js:284:7
      at Function.process_params (node_modules/express/lib/router/index.js:335:12)
      at next (node_modules/express/lib/router/index.js:275:10)
      at Layer.handle_error (node_modules/express/lib/router/layer.js:67:12)
      at trim_prefix (node_modules/express/lib/router/index.js:315:13)

    console.error
      UnsupportedMediaTypeError: unsupported charset "UTF-8"
          at /data/js-variants/multee/VariantsDeps/body-parser/variant6/body-parser/lib/read.js:85:18
          at AsyncResource.runInAsyncScope (node:async_hooks:202:9)
          at invokeCallback (/data/js-variants/multee/VariantsDeps/body-parser/variant6/body-parser/node_modules/raw-body/index.js:231:16)
          at processTicksAndRejections (node:internal/process/task_queues:77:11)

      87 |
      88 |   router.use((err, req, res, next) => {
    > 89 |     console.error(err.stack)
         |             ^
      90 |     res.status(500).send(err.stack)
      91 |   })
      92 |

      at src/server/router/index.js:89:13
      at Layer.handle_error (node_modules/express/lib/router/layer.js:71:5)
      at trim_prefix (node_modules/express/lib/router/index.js:315:13)
      at node_modules/express/lib/router/index.js:284:7
      at Function.process_params (node_modules/express/lib/router/index.js:335:12)
      at next (node_modules/express/lib/router/index.js:275:10)
      at Layer.handle_error (node_modules/express/lib/router/layer.js:67:12)
      at trim_prefix (node_modules/express/lib/router/index.js:315:13)

    console.error
      UnsupportedMediaTypeError: unsupported charset "UTF-8"
          at /data/js-variants/multee/VariantsDeps/body-parser/variant6/body-parser/lib/read.js:85:18
          at AsyncResource.runInAsyncScope (node:async_hooks:202:9)
          at invokeCallback (/data/js-variants/multee/VariantsDeps/body-parser/variant6/body-parser/node_modules/raw-body/index.js:231:16)
          at processTicksAndRejections (node:internal/process/task_queues:77:11)

      87 |
      88 |   router.use((err, req, res, next) => {
    > 89 |     console.error(err.stack)
         |             ^
      90 |     res.status(500).send(err.stack)
      91 |   })
      92 |

      at src/server/router/index.js:89:13
      at Layer.handle_error (node_modules/express/lib/router/layer.js:71:5)
      at trim_prefix (node_modules/express/lib/router/index.js:315:13)
      at node_modules/express/lib/router/index.js:284:7
      at Function.process_params (node_modules/express/lib/router/index.js:335:12)
      at next (node_modules/express/lib/router/index.js:275:10)
      at Layer.handle_error (node_modules/express/lib/router/layer.js:67:12)
      at trim_prefix (node_modules/express/lib/router/index.js:315:13)

    console.error
      UnsupportedMediaTypeError: unsupported charset "UTF-8"
          at /data/js-variants/multee/VariantsDeps/body-parser/variant6/body-parser/lib/read.js:85:18
          at AsyncResource.runInAsyncScope (node:async_hooks:202:9)
          at invokeCallback (/data/js-variants/multee/VariantsDeps/body-parser/variant6/body-parser/node_modules/raw-body/index.js:231:16)
          at processTicksAndRejections (node:internal/process/task_queues:77:11)

      87 |
      88 |   router.use((err, req, res, next) => {
    > 89 |     console.error(err.stack)
         |             ^
      90 |     res.status(500).send(err.stack)
      91 |   })
      92 |

      at src/server/router/index.js:89:13
      at Layer.handle_error (node_modules/express/lib/router/layer.js:71:5)
      at trim_prefix (node_modules/express/lib/router/index.js:315:13)
      at node_modules/express/lib/router/index.js:284:7
      at Function.process_params (node_modules/express/lib/router/index.js:335:12)
      at next (node_modules/express/lib/router/index.js:275:10)
      at Layer.handle_error (node_modules/express/lib/router/layer.js:67:12)
      at trim_prefix (node_modules/express/lib/router/index.js:315:13)

    console.error
      UnsupportedMediaTypeError: unsupported charset "UTF-8"
          at /data/js-variants/multee/VariantsDeps/body-parser/variant6/body-parser/lib/read.js:85:18
          at AsyncResource.runInAsyncScope (node:async_hooks:202:9)
          at invokeCallback (/data/js-variants/multee/VariantsDeps/body-parser/variant6/body-parser/node_modules/raw-body/index.js:231:16)
          at processTicksAndRejections (node:internal/process/task_queues:77:11)

      87 |
      88 |   router.use((err, req, res, next) => {
    > 89 |     console.error(err.stack)
         |             ^
      90 |     res.status(500).send(err.stack)
      91 |   })
      92 |

      at src/server/router/index.js:89:13
      at Layer.handle_error (node_modules/express/lib/router/layer.js:71:5)
      at trim_prefix (node_modules/express/lib/router/index.js:315:13)
      at node_modules/express/lib/router/index.js:284:7
      at Function.process_params (node_modules/express/lib/router/index.js:335:12)
      at next (node_modules/express/lib/router/index.js:275:10)
      at Layer.handle_error (node_modules/express/lib/router/layer.js:67:12)
      at trim_prefix (node_modules/express/lib/router/index.js:315:13)

    console.error
      UnsupportedMediaTypeError: unsupported charset "UTF-8"
          at /data/js-variants/multee/VariantsDeps/body-parser/variant6/body-parser/lib/read.js:85:18
          at AsyncResource.runInAsyncScope (node:async_hooks:202:9)
          at invokeCallback (/data/js-variants/multee/VariantsDeps/body-parser/variant6/body-parser/node_modules/raw-body/index.js:231:16)
          at processTicksAndRejections (node:internal/process/task_queues:77:11)

      87 |
      88 |   router.use((err, req, res, next) => {
    > 89 |     console.error(err.stack)
         |             ^
      90 |     res.status(500).send(err.stack)
      91 |   })
      92 |

      at src/server/router/index.js:89:13
      at Layer.handle_error (node_modules/express/lib/router/layer.js:71:5)
      at trim_prefix (node_modules/express/lib/router/index.js:315:13)
      at node_modules/express/lib/router/index.js:284:7
      at Function.process_params (node_modules/express/lib/router/index.js:335:12)
      at next (node_modules/express/lib/router/index.js:275:10)
      at Layer.handle_error (node_modules/express/lib/router/layer.js:67:12)
      at trim_prefix (node_modules/express/lib/router/index.js:315:13)

    console.error
      UnsupportedMediaTypeError: unsupported charset "UTF-8"
          at /data/js-variants/multee/VariantsDeps/body-parser/variant6/body-parser/lib/read.js:85:18
          at AsyncResource.runInAsyncScope (node:async_hooks:202:9)
          at invokeCallback (/data/js-variants/multee/VariantsDeps/body-parser/variant6/body-parser/node_modules/raw-body/index.js:231:16)
          at processTicksAndRejections (node:internal/process/task_queues:77:11)

      87 |
      88 |   router.use((err, req, res, next) => {
    > 89 |     console.error(err.stack)
         |             ^
      90 |     res.status(500).send(err.stack)
      91 |   })
      92 |

      at src/server/router/index.js:89:13
      at Layer.handle_error (node_modules/express/lib/router/layer.js:71:5)
      at trim_prefix (node_modules/express/lib/router/index.js:315:13)
      at node_modules/express/lib/router/index.js:284:7
      at Function.process_params (node_modules/express/lib/router/index.js:335:12)
      at next (node_modules/express/lib/router/index.js:275:10)
      at Layer.handle_error (node_modules/express/lib/router/layer.js:67:12)
      at trim_prefix (node_modules/express/lib/router/index.js:315:13)

    console.error
      UnsupportedMediaTypeError: unsupported charset "UTF-8"
          at /data/js-variants/multee/VariantsDeps/body-parser/variant6/body-parser/lib/read.js:85:18
          at AsyncResource.runInAsyncScope (node:async_hooks:202:9)
          at invokeCallback (/data/js-variants/multee/VariantsDeps/body-parser/variant6/body-parser/node_modules/raw-body/index.js:231:16)
          at processTicksAndRejections (node:internal/process/task_queues:77:11)

      87 |
      88 |   router.use((err, req, res, next) => {
    > 89 |     console.error(err.stack)
         |             ^
      90 |     res.status(500).send(err.stack)
      91 |   })
      92 |

      at src/server/router/index.js:89:13
      at Layer.handle_error (node_modules/express/lib/router/layer.js:71:5)
      at trim_prefix (node_modules/express/lib/router/index.js:315:13)
      at node_modules/express/lib/router/index.js:284:7
      at Function.process_params (node_modules/express/lib/router/index.js:335:12)
      at next (node_modules/express/lib/router/index.js:275:10)
      at Layer.handle_error (node_modules/express/lib/router/layer.js:67:12)
      at trim_prefix (node_modules/express/lib/router/index.js:315:13)

    console.error
      UnsupportedMediaTypeError: unsupported charset "UTF-8"
          at /data/js-variants/multee/VariantsDeps/body-parser/variant6/body-parser/lib/read.js:85:18
          at AsyncResource.runInAsyncScope (node:async_hooks:202:9)
          at invokeCallback (/data/js-variants/multee/VariantsDeps/body-parser/variant6/body-parser/node_modules/raw-body/index.js:231:16)
          at processTicksAndRejections (node:internal/process/task_queues:77:11)

      87 |
      88 |   router.use((err, req, res, next) => {
    > 89 |     console.error(err.stack)
         |             ^
      90 |     res.status(500).send(err.stack)
      91 |   })
      92 |

      at src/server/router/index.js:89:13
      at Layer.handle_error (node_modules/express/lib/router/layer.js:71:5)
      at trim_prefix (node_modules/express/lib/router/index.js:315:13)
      at node_modules/express/lib/router/index.js:284:7
      at Function.process_params (node_modules/express/lib/router/index.js:335:12)
      at next (node_modules/express/lib/router/index.js:275:10)
      at Layer.handle_error (node_modules/express/lib/router/layer.js:67:12)
      at trim_prefix (node_modules/express/lib/router/index.js:315:13)

    console.error
      UnsupportedMediaTypeError: unsupported charset "UTF-8"
          at /data/js-variants/multee/VariantsDeps/body-parser/variant6/body-parser/lib/read.js:85:18
          at AsyncResource.runInAsyncScope (node:async_hooks:202:9)
          at invokeCallback (/data/js-variants/multee/VariantsDeps/body-parser/variant6/body-parser/node_modules/raw-body/index.js:231:16)
          at processTicksAndRejections (node:internal/process/task_queues:77:11)

      87 |
      88 |   router.use((err, req, res, next) => {
    > 89 |     console.error(err.stack)
         |             ^
      90 |     res.status(500).send(err.stack)
      91 |   })
      92 |

      at src/server/router/index.js:89:13
      at Layer.handle_error (node_modules/express/lib/router/layer.js:71:5)
      at trim_prefix (node_modules/express/lib/router/index.js:315:13)
      at node_modules/express/lib/router/index.js:284:7
      at Function.process_params (node_modules/express/lib/router/index.js:335:12)
      at next (node_modules/express/lib/router/index.js:275:10)
      at Layer.handle_error (node_modules/express/lib/router/layer.js:67:12)
      at trim_prefix (node_modules/express/lib/router/index.js:315:13)

    console.error
      UnsupportedMediaTypeError: unsupported charset "UTF-8"
          at /data/js-variants/multee/VariantsDeps/body-parser/variant6/body-parser/lib/read.js:85:18
          at AsyncResource.runInAsyncScope (node:async_hooks:202:9)
          at invokeCallback (/data/js-variants/multee/VariantsDeps/body-parser/variant6/body-parser/node_modules/raw-body/index.js:231:16)
          at processTicksAndRejections (node:internal/process/task_queues:77:11)

      87 |
      88 |   router.use((err, req, res, next) => {
    > 89 |     console.error(err.stack)
         |             ^
      90 |     res.status(500).send(err.stack)
      91 |   })
      92 |

      at src/server/router/index.js:89:13
      at Layer.handle_error (node_modules/express/lib/router/layer.js:71:5)
      at trim_prefix (node_modules/express/lib/router/index.js:315:13)
      at node_modules/express/lib/router/index.js:284:7
      at Function.process_params (node_modules/express/lib/router/index.js:335:12)
      at next (node_modules/express/lib/router/index.js:275:10)
      at Layer.handle_error (node_modules/express/lib/router/layer.js:67:12)
      at trim_prefix (node_modules/express/lib/router/index.js:315:13)

  ● Server › POST /:resource › should respond with json, create a resource and increment id

    expected "Access-Control-Expose-Headers" header field

      487 |         .post('/posts')
      488 |         .send({ body: 'foo', booleanValue: true, integerValue: 1 })
    > 489 |         .expect('Access-Control-Expose-Headers', 'Location')
          |          ^
      490 |         .expect('Location', /posts\/3$/)
      491 |         .expect('Content-Type', /json/)
      492 |         .expect(201, {

      at Object.<anonymous> (__tests__/server/plural.js:489:10)
      ----
      at Test.Object.<anonymous>.Test._assertHeader (node_modules/supertest/lib/test.js:272:45)
      at node_modules/supertest/lib/test.js:80:15
      at Test.Object.<anonymous>.Test._assertFunction (node_modules/supertest/lib/test.js:337:11)
      at Test.Object.<anonymous>.Test.assert (node_modules/supertest/lib/test.js:208:21)
      at Server.localAssert (node_modules/supertest/lib/test.js:166:12)

  ● Server › POST /:resource › should support x-www-form-urlencoded

    expected "Content-Type" matching /json/, got "text/html; charset=utf-8"

      504 |         .type('form')
      505 |         .send({ body: 'foo', booleanValue: true, integerValue: 1 })
    > 506 |         .expect('Content-Type', /json/)
          |          ^
      507 |         // x-www-form-urlencoded will convert to string
      508 |         .expect(201, {
      509 |           id: 3,

      at Object.<anonymous> (__tests__/server/plural.js:506:10)
      ----
      at Test.Object.<anonymous>.Test._assertHeader (node_modules/supertest/lib/test.js:280:14)
      at node_modules/supertest/lib/test.js:80:15
      at Test.Object.<anonymous>.Test._assertFunction (node_modules/supertest/lib/test.js:337:11)
      at Test.Object.<anonymous>.Test.assert (node_modules/supertest/lib/test.js:208:21)
      at Server.localAssert (node_modules/supertest/lib/test.js:166:12)

  ● Server › POST /:resource › should respond with json, create a resource and generate string id

    expected "Content-Type" matching /json/, got "text/html; charset=utf-8"

      519 |         .post('/refs')
      520 |         .send({ url: 'http://foo.com', postId: 1 })
    > 521 |         .expect('Content-Type', /json/)
          |          ^
      522 |         .expect(201)
      523 |       assert.strictEqual(db.refs.length, 2)
      524 |     })

      at Object.<anonymous> (__tests__/server/plural.js:521:10)
      ----
      at Test.Object.<anonymous>.Test._assertHeader (node_modules/supertest/lib/test.js:280:14)
      at node_modules/supertest/lib/test.js:80:15
      at Test.Object.<anonymous>.Test._assertFunction (node_modules/supertest/lib/test.js:337:11)
      at Test.Object.<anonymous>.Test.assert (node_modules/supertest/lib/test.js:208:21)
      at Server.localAssert (node_modules/supertest/lib/test.js:166:12)

  ● Server › POST /:parent/:parentId/:resource › should respond with json and set parentId

    expected "Content-Type" matching /json/, got "text/html; charset=utf-8"

      530 |         .post('/posts/1/comments')
      531 |         .send({ body: 'foo' })
    > 532 |         .expect('Content-Type', /json/)
          |          ^
      533 |         .expect(201, { id: 6, postId: '1', body: 'foo' }))
      534 |   })
      535 |

      at Object.<anonymous> (__tests__/server/plural.js:532:10)
      ----
      at Test.Object.<anonymous>.Test._assertHeader (node_modules/supertest/lib/test.js:280:14)
      at node_modules/supertest/lib/test.js:80:15
      at Test.Object.<anonymous>.Test._assertFunction (node_modules/supertest/lib/test.js:337:11)
      at Test.Object.<anonymous>.Test.assert (node_modules/supertest/lib/test.js:208:21)
      at Server.localAssert (node_modules/supertest/lib/test.js:166:12)

  ● Server › POST /:resource?_delay= › should delay response

    Request wasn't delayed

      542 |         .expect(201, function (err) {
      543 |           const end = new Date()
    > 544 |           done(end - start > 1000 ? err : new Error("Request wasn't delayed"))
          |                                           ^
      545 |         })
      546 |     })
      547 |   })

      at Test.<anonymous> (__tests__/server/plural.js:544:43)
      at Test.Object.<anonymous>.Test.assert (node_modules/supertest/lib/test.js:216:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:166:12)

  ● Server › PUT /:resource/:id › should respond with json and replace resource

    expected "Content-Type" matching /json/, got "text/html; charset=utf-8"

      555 |         // body property omitted to test that the resource is replaced
      556 |         .send(post)
    > 557 |         .expect('Content-Type', /json/)
          |          ^
      558 |         .expect(200, post)
      559 |       // TODO find a "supertest" way to test this
      560 |       // https://github.com/typicode/json-server/issues/396

      at Object.<anonymous> (__tests__/server/plural.js:557:10)
      ----
      at Test.Object.<anonymous>.Test._assertHeader (node_modules/supertest/lib/test.js:280:14)
      at node_modules/supertest/lib/test.js:80:15
      at Test.Object.<anonymous>.Test._assertFunction (node_modules/supertest/lib/test.js:337:11)
      at Test.Object.<anonymous>.Test.assert (node_modules/supertest/lib/test.js:208:21)
      at Server.localAssert (node_modules/supertest/lib/test.js:166:12)

  ● Server › PUT /:resource/:id › should respond with 404 if resource is not found

    expected "Content-Type" matching /json/, got "text/html; charset=utf-8"

      568 |         .put('/posts/9001')
      569 |         .send({ id: 1, body: 'bar' })
    > 570 |         .expect('Content-Type', /json/)
          |          ^
      571 |         .expect(404, {}))
      572 |   })
      573 |

      at Object.<anonymous> (__tests__/server/plural.js:570:10)
      ----
      at Test.Object.<anonymous>.Test._assertHeader (node_modules/supertest/lib/test.js:280:14)
      at node_modules/supertest/lib/test.js:80:15
      at Test.Object.<anonymous>.Test._assertFunction (node_modules/supertest/lib/test.js:337:11)
      at Test.Object.<anonymous>.Test.assert (node_modules/supertest/lib/test.js:208:21)
      at Server.localAssert (node_modules/supertest/lib/test.js:166:12)

  ● Server › PUT /:resource:id?_delay= › should delay response

    Request wasn't delayed

      581 |         .expect(200, function (err) {
      582 |           const end = new Date()
    > 583 |           done(end - start > 1000 ? err : new Error("Request wasn't delayed"))
          |                                           ^
      584 |         })
      585 |     })
      586 |   })

      at Test.<anonymous> (__tests__/server/plural.js:583:43)
      at Test.Object.<anonymous>.Test.assert (node_modules/supertest/lib/test.js:216:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:166:12)

  ● Server › PATCH /:resource/:id › should respond with json and update resource

    expected "Content-Type" matching /json/, got "text/html; charset=utf-8"

      593 |         .patch('/posts/1')
      594 |         .send(partial)
    > 595 |         .expect('Content-Type', /json/)
          |          ^
      596 |         .expect(200, post)
      597 |       assert.deepStrictEqual(res.body, post)
      598 |       // assert it was created in database too

      at Object.<anonymous> (__tests__/server/plural.js:595:10)
      ----
      at Test.Object.<anonymous>.Test._assertHeader (node_modules/supertest/lib/test.js:280:14)
      at node_modules/supertest/lib/test.js:80:15
      at Test.Object.<anonymous>.Test._assertFunction (node_modules/supertest/lib/test.js:337:11)
      at Test.Object.<anonymous>.Test.assert (node_modules/supertest/lib/test.js:208:21)
      at Server.localAssert (node_modules/supertest/lib/test.js:166:12)

  ● Server › PATCH /:resource/:id › should respond with 404 if resource is not found

    expected "Content-Type" matching /json/, got "text/html; charset=utf-8"

      604 |         .patch('/posts/9001')
      605 |         .send({ body: 'bar' })
    > 606 |         .expect('Content-Type', /json/)
          |          ^
      607 |         .expect(404, {}))
      608 |   })
      609 |

      at Object.<anonymous> (__tests__/server/plural.js:606:10)
      ----
      at Test.Object.<anonymous>.Test._assertHeader (node_modules/supertest/lib/test.js:280:14)
      at node_modules/supertest/lib/test.js:80:15
      at Test.Object.<anonymous>.Test._assertFunction (node_modules/supertest/lib/test.js:337:11)
      at Test.Object.<anonymous>.Test.assert (node_modules/supertest/lib/test.js:208:21)
      at Server.localAssert (node_modules/supertest/lib/test.js:166:12)

  ● Server › PATCH /:resource:id?_delay= › should delay response

    Request wasn't delayed

      617 |         .expect(200, function (err) {
      618 |           const end = new Date()
    > 619 |           done(end - start > 1000 ? err : new Error("Request wasn't delayed"))
          |                                           ^
      620 |         })
      621 |     })
      622 |   })

      at Test.<anonymous> (__tests__/server/plural.js:619:43)
      at Test.Object.<anonymous>.Test.assert (node_modules/supertest/lib/test.js:216:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:166:12)

  ● Server › DELETE /:resource:id?_delay= › should delay response

    Request wasn't delayed

      644 |         .expect(200, function (err) {
      645 |           const end = new Date()
    > 646 |           done(end - start > 1000 ? err : new Error("Request wasn't delayed"))
          |                                           ^
      647 |         })
      648 |     })
      649 |   })

      at Test.<anonymous> (__tests__/server/plural.js:646:43)
      at Test.Object.<anonymous>.Test.assert (node_modules/supertest/lib/test.js:216:6)
      at Server.localAssert (node_modules/supertest/lib/test.js:166:12)

  ● Server › router.db._.id › should be possible to POST using a different id property

    expected "Content-Type" matching /json/, got "text/html; charset=utf-8"

      748 |         .post('/posts')
      749 |         .send({ body: 'hello' })
    > 750 |         .expect('Content-Type', /json/)
          |          ^
      751 |         .expect(201, { _id: 2, body: 'hello' }))
      752 |   })
      753 | })

      at Object.<anonymous> (__tests__/server/plural.js:750:10)
      ----
      at Test.Object.<anonymous>.Test._assertHeader (node_modules/supertest/lib/test.js:280:14)
      at node_modules/supertest/lib/test.js:80:15
      at Test.Object.<anonymous>.Test._assertFunction (node_modules/supertest/lib/test.js:337:11)
      at Test.Object.<anonymous>.Test.assert (node_modules/supertest/lib/test.js:208:21)
      at Server.localAssert (node_modules/supertest/lib/test.js:166:12)

FAIL __tests__/server/plural-with-custom-foreign-key.js
  ● Console

    console.error
      UnsupportedMediaTypeError: unsupported charset "UTF-8"
          at /data/js-variants/multee/VariantsDeps/body-parser/variant6/body-parser/lib/read.js:85:18
          at AsyncResource.runInAsyncScope (node:async_hooks:202:9)
          at invokeCallback (/data/js-variants/multee/VariantsDeps/body-parser/variant6/body-parser/node_modules/raw-body/index.js:231:16)
          at processTicksAndRejections (node:internal/process/task_queues:77:11)

      87 |
      88 |   router.use((err, req, res, next) => {
    > 89 |     console.error(err.stack)
         |             ^
      90 |     res.status(500).send(err.stack)
      91 |   })
      92 |

      at src/server/router/index.js:89:13
      at Layer.handle_error (node_modules/express/lib/router/layer.js:71:5)
      at trim_prefix (node_modules/express/lib/router/index.js:315:13)
      at node_modules/express/lib/router/index.js:284:7
      at Function.process_params (node_modules/express/lib/router/index.js:335:12)
      at next (node_modules/express/lib/router/index.js:275:10)
      at Layer.handle_error (node_modules/express/lib/router/layer.js:67:12)
      at trim_prefix (node_modules/express/lib/router/index.js:315:13)

  ● Server with custom foreign key › POST /:parent/:parentId/:resource › should respond with json and set parentId

    expected "Content-Type" matching /json/, got "text/html; charset=utf-8"

       97 |         .post('/posts/1/comments')
       98 |         .send({ body: 'foo' })
    >  99 |         .expect('Content-Type', /json/)
          |          ^
      100 |         .expect(201, { id: 4, post_id: '1', body: 'foo' }))
      101 |   })
      102 |

      at Object.<anonymous> (__tests__/server/plural-with-custom-foreign-key.js:99:10)
      ----
      at Test.Object.<anonymous>.Test._assertHeader (node_modules/supertest/lib/test.js:280:14)
      at node_modules/supertest/lib/test.js:80:15
      at Test.Object.<anonymous>.Test._assertFunction (node_modules/supertest/lib/test.js:337:11)
      at Test.Object.<anonymous>.Test.assert (node_modules/supertest/lib/test.js:208:21)
      at Server.localAssert (node_modules/supertest/lib/test.js:166:12)

FAIL __tests__/server/plural-fake.js
  ● Console

    console.error
      UnsupportedMediaTypeError: unsupported charset "UTF-8"
          at /data/js-variants/multee/VariantsDeps/body-parser/variant6/body-parser/lib/read.js:85:18
          at AsyncResource.runInAsyncScope (node:async_hooks:202:9)
          at invokeCallback (/data/js-variants/multee/VariantsDeps/body-parser/variant6/body-parser/node_modules/raw-body/index.js:231:16)
          at processTicksAndRejections (node:internal/process/task_queues:77:11)

      87 |
      88 |   router.use((err, req, res, next) => {
    > 89 |     console.error(err.stack)
         |             ^
      90 |     res.status(500).send(err.stack)
      91 |   })
      92 |

      at src/server/router/index.js:89:13
      at Layer.handle_error (node_modules/express/lib/router/layer.js:71:5)
      at trim_prefix (node_modules/express/lib/router/index.js:315:13)
      at node_modules/express/lib/router/index.js:284:7
      at Function.process_params (node_modules/express/lib/router/index.js:335:12)
      at next (node_modules/express/lib/router/index.js:275:10)
      at Layer.handle_error (node_modules/express/lib/router/layer.js:67:12)
      at trim_prefix (node_modules/express/lib/router/index.js:315:13)

    console.error
      UnsupportedMediaTypeError: unsupported charset "UTF-8"
          at /data/js-variants/multee/VariantsDeps/body-parser/variant6/body-parser/lib/read.js:85:18
          at AsyncResource.runInAsyncScope (node:async_hooks:202:9)
          at invokeCallback (/data/js-variants/multee/VariantsDeps/body-parser/variant6/body-parser/node_modules/raw-body/index.js:231:16)
          at processTicksAndRejections (node:internal/process/task_queues:77:11)

      87 |
      88 |   router.use((err, req, res, next) => {
    > 89 |     console.error(err.stack)
         |             ^
      90 |     res.status(500).send(err.stack)
      91 |   })
      92 |

      at src/server/router/index.js:89:13
      at Layer.handle_error (node_modules/express/lib/router/layer.js:71:5)
      at trim_prefix (node_modules/express/lib/router/index.js:315:13)
      at node_modules/express/lib/router/index.js:284:7
      at Function.process_params (node_modules/express/lib/router/index.js:335:12)
      at next (node_modules/express/lib/router/index.js:275:10)
      at Layer.handle_error (node_modules/express/lib/router/layer.js:67:12)
      at trim_prefix (node_modules/express/lib/router/index.js:315:13)

    console.error
      UnsupportedMediaTypeError: unsupported charset "UTF-8"
          at /data/js-variants/multee/VariantsDeps/body-parser/variant6/body-parser/lib/read.js:85:18
          at AsyncResource.runInAsyncScope (node:async_hooks:202:9)
          at invokeCallback (/data/js-variants/multee/VariantsDeps/body-parser/variant6/body-parser/node_modules/raw-body/index.js:231:16)
          at processTicksAndRejections (node:internal/process/task_queues:77:11)

      87 |
      88 |   router.use((err, req, res, next) => {
    > 89 |     console.error(err.stack)
         |             ^
      90 |     res.status(500).send(err.stack)
      91 |   })
      92 |

      at src/server/router/index.js:89:13
      at Layer.handle_error (node_modules/express/lib/router/layer.js:71:5)
      at trim_prefix (node_modules/express/lib/router/index.js:315:13)
      at node_modules/express/lib/router/index.js:284:7
      at Function.process_params (node_modules/express/lib/router/index.js:335:12)
      at next (node_modules/express/lib/router/index.js:275:10)
      at Layer.handle_error (node_modules/express/lib/router/layer.js:67:12)
      at trim_prefix (node_modules/express/lib/router/index.js:315:13)

  ● Fake server › POST /:resource › should not create a resource

    expected "Access-Control-Expose-Headers" header field

      43 |         .post('/posts')
      44 |         .send({ body: 'foo', booleanValue: true, integerValue: 1 })
    > 45 |         .expect('Access-Control-Expose-Headers', 'Location')
         |          ^
      46 |         .expect('Location', /posts\/3$/)
      47 |         .expect('Content-Type', /json/)
      48 |         .expect(201, {

      at Object.<anonymous> (__tests__/server/plural-fake.js:45:10)
      ----
      at Test.Object.<anonymous>.Test._assertHeader (node_modules/supertest/lib/test.js:272:45)
      at node_modules/supertest/lib/test.js:80:15
      at Test.Object.<anonymous>.Test._assertFunction (node_modules/supertest/lib/test.js:337:11)
      at Test.Object.<anonymous>.Test.assert (node_modules/supertest/lib/test.js:208:21)
      at Server.localAssert (node_modules/supertest/lib/test.js:166:12)

  ● Fake server › PUT /:resource/:id › should not replace resource

    expected "Content-Type" matching /json/, got "text/html; charset=utf-8"

      64 |         // body property omitted to test that the resource is replaced
      65 |         .send(post)
    > 66 |         .expect('Content-Type', /json/)
         |          ^
      67 |         .expect(200, post)
      68 |       // TODO find a "supertest" way to test this
      69 |       // https://github.com/typicode/json-server/issues/396

      at Object.<anonymous> (__tests__/server/plural-fake.js:66:10)
      ----
      at Test.Object.<anonymous>.Test._assertHeader (node_modules/supertest/lib/test.js:280:14)
      at node_modules/supertest/lib/test.js:80:15
      at Test.Object.<anonymous>.Test._assertFunction (node_modules/supertest/lib/test.js:337:11)
      at Test.Object.<anonymous>.Test.assert (node_modules/supertest/lib/test.js:208:21)
      at Server.localAssert (node_modules/supertest/lib/test.js:166:12)

  ● Fake server › PATCH /:resource/:id › should not update resource

    expected "Content-Type" matching /json/, got "text/html; charset=utf-8"

      80 |         .patch('/posts/1')
      81 |         .send(partial)
    > 82 |         .expect('Content-Type', /json/)
         |          ^
      83 |         .expect(200, post)
      84 |       assert.deepStrictEqual(res.body, post)
      85 |       assert.notDeepStrictEqual(db.posts[0], post)

      at Object.<anonymous> (__tests__/server/plural-fake.js:82:10)
      ----
      at Test.Object.<anonymous>.Test._assertHeader (node_modules/supertest/lib/test.js:280:14)
      at node_modules/supertest/lib/test.js:80:15
      at Test.Object.<anonymous>.Test._assertFunction (node_modules/supertest/lib/test.js:337:11)
      at Test.Object.<anonymous>.Test.assert (node_modules/supertest/lib/test.js:208:21)
      at Server.localAssert (node_modules/supertest/lib/test.js:166:12)

FAIL __tests__/server/singular-fake.js
  ● Console

    console.error
      UnsupportedMediaTypeError: unsupported charset "UTF-8"
          at /data/js-variants/multee/VariantsDeps/body-parser/variant6/body-parser/lib/read.js:85:18
          at AsyncResource.runInAsyncScope (node:async_hooks:202:9)
          at invokeCallback (/data/js-variants/multee/VariantsDeps/body-parser/variant6/body-parser/node_modules/raw-body/index.js:231:16)
          at processTicksAndRejections (node:internal/process/task_queues:77:11)

      87 |
      88 |   router.use((err, req, res, next) => {
    > 89 |     console.error(err.stack)
         |             ^
      90 |     res.status(500).send(err.stack)
      91 |   })
      92 |

      at src/server/router/index.js:89:13
      at Layer.handle_error (node_modules/express/lib/router/layer.js:71:5)
      at trim_prefix (node_modules/express/lib/router/index.js:315:13)
      at node_modules/express/lib/router/index.js:284:7
      at Function.process_params (node_modules/express/lib/router/index.js:335:12)
      at next (node_modules/express/lib/router/index.js:275:10)
      at Layer.handle_error (node_modules/express/lib/router/layer.js:67:12)
      at trim_prefix (node_modules/express/lib/router/index.js:315:13)

    console.error
      UnsupportedMediaTypeError: unsupported charset "UTF-8"
          at /data/js-variants/multee/VariantsDeps/body-parser/variant6/body-parser/lib/read.js:85:18
          at AsyncResource.runInAsyncScope (node:async_hooks:202:9)
          at invokeCallback (/data/js-variants/multee/VariantsDeps/body-parser/variant6/body-parser/node_modules/raw-body/index.js:231:16)
          at processTicksAndRejections (node:internal/process/task_queues:77:11)

      87 |
      88 |   router.use((err, req, res, next) => {
    > 89 |     console.error(err.stack)
         |             ^
      90 |     res.status(500).send(err.stack)
      91 |   })
      92 |

      at src/server/router/index.js:89:13
      at Layer.handle_error (node_modules/express/lib/router/layer.js:71:5)
      at trim_prefix (node_modules/express/lib/router/index.js:315:13)
      at node_modules/express/lib/router/index.js:284:7
      at Function.process_params (node_modules/express/lib/router/index.js:335:12)
      at next (node_modules/express/lib/router/index.js:275:10)
      at Layer.handle_error (node_modules/express/lib/router/layer.js:67:12)
      at trim_prefix (node_modules/express/lib/router/index.js:315:13)

    console.error
      UnsupportedMediaTypeError: unsupported charset "UTF-8"
          at /data/js-variants/multee/VariantsDeps/body-parser/variant6/body-parser/lib/read.js:85:18
          at AsyncResource.runInAsyncScope (node:async_hooks:202:9)
          at invokeCallback (/data/js-variants/multee/VariantsDeps/body-parser/variant6/body-parser/node_modules/raw-body/index.js:231:16)
          at processTicksAndRejections (node:internal/process/task_queues:77:11)

      87 |
      88 |   router.use((err, req, res, next) => {
    > 89 |     console.error(err.stack)
         |             ^
      90 |     res.status(500).send(err.stack)
      91 |   })
      92 |

      at src/server/router/index.js:89:13
      at Layer.handle_error (node_modules/express/lib/router/layer.js:71:5)
      at trim_prefix (node_modules/express/lib/router/index.js:315:13)
      at node_modules/express/lib/router/index.js:284:7
      at Function.process_params (node_modules/express/lib/router/index.js:335:12)
      at next (node_modules/express/lib/router/index.js:275:10)
      at Layer.handle_error (node_modules/express/lib/router/layer.js:67:12)
      at trim_prefix (node_modules/express/lib/router/index.js:315:13)

  ● Fake server › POST /:resource › should not create resource

    expected 201 "Created", got 500 "Internal Server Error"

      25 |     test('should not create resource', async () => {
      26 |       const user = { name: 'bar' }
    > 27 |       await request(server).post('/user').send(user).expect(201, user)
         |                                                      ^
      28 |       assert.notDeepStrictEqual(db.user, user)
      29 |     })
      30 |   })

      at Object.<anonymous> (__tests__/server/singular-fake.js:27:54)
      ----
      at Test.Object.<anonymous>.Test._assertStatus (node_modules/supertest/lib/test.js:303:12)
      at node_modules/supertest/lib/test.js:80:15
      at Test.Object.<anonymous>.Test._assertFunction (node_modules/supertest/lib/test.js:337:11)
      at Test.Object.<anonymous>.Test.assert (node_modules/supertest/lib/test.js:208:21)
      at Server.localAssert (node_modules/supertest/lib/test.js:166:12)

  ● Fake server › PUT /:resource › should not update resource

    expected 200 "OK", got 500 "Internal Server Error"

      33 |     test('should not update resource', async () => {
      34 |       const user = { name: 'bar' }
    > 35 |       await request(server).put('/user').send(user).expect(200, user)
         |                                                     ^
      36 |       assert.notDeepStrictEqual(db.user, user)
      37 |     })
      38 |   })

      at Object.<anonymous> (__tests__/server/singular-fake.js:35:53)
      ----
      at Test.Object.<anonymous>.Test._assertStatus (node_modules/supertest/lib/test.js:303:12)
      at node_modules/supertest/lib/test.js:80:15
      at Test.Object.<anonymous>.Test._assertFunction (node_modules/supertest/lib/test.js:337:11)
      at Test.Object.<anonymous>.Test.assert (node_modules/supertest/lib/test.js:208:21)
      at Server.localAssert (node_modules/supertest/lib/test.js:166:12)

  ● Fake server › PATCH /:resource › should not update resource

    expected 200 "OK", got 500 "Internal Server Error"

      44 |         .patch('/user')
      45 |         .send(user)
    > 46 |         .expect(200, { name: 'bar', email: 'foo@example.com' })
         |          ^
      47 |       assert.notDeepStrictEqual(db.user, user)
      48 |     })
      49 |   })

      at Object.<anonymous> (__tests__/server/singular-fake.js:46:10)
      ----
      at Test.Object.<anonymous>.Test._assertStatus (node_modules/supertest/lib/test.js:303:12)
      at node_modules/supertest/lib/test.js:80:15
      at Test.Object.<anonymous>.Test._assertFunction (node_modules/supertest/lib/test.js:337:11)
      at Test.Object.<anonymous>.Test.assert (node_modules/supertest/lib/test.js:208:21)
      at Server.localAssert (node_modules/supertest/lib/test.js:166:12)

FAIL __tests__/server/singular.js
  ● Console

    console.error
      UnsupportedMediaTypeError: unsupported charset "UTF-8"
          at /data/js-variants/multee/VariantsDeps/body-parser/variant6/body-parser/lib/read.js:85:18
          at AsyncResource.runInAsyncScope (node:async_hooks:202:9)
          at invokeCallback (/data/js-variants/multee/VariantsDeps/body-parser/variant6/body-parser/node_modules/raw-body/index.js:231:16)
          at processTicksAndRejections (node:internal/process/task_queues:77:11)

      87 |
      88 |   router.use((err, req, res, next) => {
    > 89 |     console.error(err.stack)
         |             ^
      90 |     res.status(500).send(err.stack)
      91 |   })
      92 |

      at src/server/router/index.js:89:13
      at Layer.handle_error (node_modules/express/lib/router/layer.js:71:5)
      at trim_prefix (node_modules/express/lib/router/index.js:315:13)
      at node_modules/express/lib/router/index.js:284:7
      at Function.process_params (node_modules/express/lib/router/index.js:335:12)
      at next (node_modules/express/lib/router/index.js:275:10)
      at Layer.handle_error (node_modules/express/lib/router/layer.js:67:12)
      at trim_prefix (node_modules/express/lib/router/index.js:315:13)

    console.error
      UnsupportedMediaTypeError: unsupported charset "UTF-8"
          at /data/js-variants/multee/VariantsDeps/body-parser/variant6/body-parser/lib/read.js:85:18
          at AsyncResource.runInAsyncScope (node:async_hooks:202:9)
          at invokeCallback (/data/js-variants/multee/VariantsDeps/body-parser/variant6/body-parser/node_modules/raw-body/index.js:231:16)
          at processTicksAndRejections (node:internal/process/task_queues:77:11)

      87 |
      88 |   router.use((err, req, res, next) => {
    > 89 |     console.error(err.stack)
         |             ^
      90 |     res.status(500).send(err.stack)
      91 |   })
      92 |

      at src/server/router/index.js:89:13
      at Layer.handle_error (node_modules/express/lib/router/layer.js:71:5)
      at trim_prefix (node_modules/express/lib/router/index.js:315:13)
      at node_modules/express/lib/router/index.js:284:7
      at Function.process_params (node_modules/express/lib/router/index.js:335:12)
      at next (node_modules/express/lib/router/index.js:275:10)
      at Layer.handle_error (node_modules/express/lib/router/layer.js:67:12)
      at trim_prefix (node_modules/express/lib/router/index.js:315:13)

    console.error
      UnsupportedMediaTypeError: unsupported charset "UTF-8"
          at /data/js-variants/multee/VariantsDeps/body-parser/variant6/body-parser/lib/read.js:85:18
          at AsyncResource.runInAsyncScope (node:async_hooks:202:9)
          at invokeCallback (/data/js-variants/multee/VariantsDeps/body-parser/variant6/body-parser/node_modules/raw-body/index.js:231:16)
          at processTicksAndRejections (node:internal/process/task_queues:77:11)

      87 |
      88 |   router.use((err, req, res, next) => {
    > 89 |     console.error(err.stack)
         |             ^
      90 |     res.status(500).send(err.stack)
      91 |   })
      92 |

      at src/server/router/index.js:89:13
      at Layer.handle_error (node_modules/express/lib/router/layer.js:71:5)
      at trim_prefix (node_modules/express/lib/router/index.js:315:13)
      at node_modules/express/lib/router/index.js:284:7
      at Function.process_params (node_modules/express/lib/router/index.js:335:12)
      at next (node_modules/express/lib/router/index.js:275:10)
      at Layer.handle_error (node_modules/express/lib/router/layer.js:67:12)
      at trim_prefix (node_modules/express/lib/router/index.js:315:13)

  ● Server › POST /:resource › should create resource

    expected 201 "Created", got 500 "Internal Server Error"

      29 |     test('should create resource', () => {
      30 |       const user = { name: 'bar' }
    > 31 |       return request(server).post('/user').send(user).expect(201, user)
         |                                                       ^
      32 |     })
      33 |   })
      34 |

      at Object.<anonymous> (__tests__/server/singular.js:31:55)
      ----
      at Test.Object.<anonymous>.Test._assertStatus (node_modules/supertest/lib/test.js:303:12)
      at node_modules/supertest/lib/test.js:80:15
      at Test.Object.<anonymous>.Test._assertFunction (node_modules/supertest/lib/test.js:337:11)
      at Test.Object.<anonymous>.Test.assert (node_modules/supertest/lib/test.js:208:21)
      at Server.localAssert (node_modules/supertest/lib/test.js:166:12)

  ● Server › PUT /:resource › should update resource

    expected 200 "OK", got 500 "Internal Server Error"

      36 |     test('should update resource', () => {
      37 |       const user = { name: 'bar' }
    > 38 |       return request(server).put('/user').send(user).expect(200, user)
         |                                                      ^
      39 |     })
      40 |   })
      41 |

      at Object.<anonymous> (__tests__/server/singular.js:38:54)
      ----
      at Test.Object.<anonymous>.Test._assertStatus (node_modules/supertest/lib/test.js:303:12)
      at node_modules/supertest/lib/test.js:80:15
      at Test.Object.<anonymous>.Test._assertFunction (node_modules/supertest/lib/test.js:337:11)
      at Test.Object.<anonymous>.Test.assert (node_modules/supertest/lib/test.js:208:21)
      at Server.localAssert (node_modules/supertest/lib/test.js:166:12)

  ● Server › PATCH /:resource › should update resource

    expected 200 "OK", got 500 "Internal Server Error"

      45 |         .patch('/user')
      46 |         .send({ name: 'bar' })
    > 47 |         .expect(200, { name: 'bar', email: 'foo@example.com' }))
         |          ^
      48 |   })
      49 | })
      50 |

      at Object.<anonymous> (__tests__/server/singular.js:47:10)
      ----
      at Test.Object.<anonymous>.Test._assertStatus (node_modules/supertest/lib/test.js:303:12)
      at node_modules/supertest/lib/test.js:80:15
      at Test.Object.<anonymous>.Test._assertFunction (node_modules/supertest/lib/test.js:337:11)
      at Test.Object.<anonymous>.Test.assert (node_modules/supertest/lib/test.js:208:21)
      at Server.localAssert (node_modules/supertest/lib/test.js:166:12)

PASS __tests__/server/mixins.js
PASS __tests__/server/utils.js
PASS __tests__/server/validate-data.js

Test Suites: 6 failed, 3 passed, 9 total
Tests:       25 failed, 102 passed, 127 total
Snapshots:   0 total
Time:        17.129 s, estimated 21 s
Ran all test suites.
Browserslist: caniuse-lite is outdated. Please run:
npx browserslist@latest --update-db

Why you should do it regularly:
https://github.com/browserslist/browserslist#browsers-data-updating
Browserslist: caniuse-lite is outdated. Please run:
npx browserslist@latest --update-db

Why you should do it regularly:
https://github.com/browserslist/browserslist#browsers-data-updating
PASS __tests__/cli/index.js (11.29 s)
PASS __tests__/server/plural.js (7.151 s)
PASS __tests__/server/plural-with-custom-foreign-key.js
PASS __tests__/server/plural-fake.js
PASS __tests__/server/singular.js
PASS __tests__/server/singular-fake.js
PASS __tests__/server/mixins.js
PASS __tests__/server/validate-data.js
PASS __tests__/server/utils.js

Test Suites: 9 passed, 9 total
Tests:       127 passed, 127 total
Snapshots:   0 total
Time:        21.127 s
Ran all test suites.

Oops! Something went wrong! :(

ESLint: 7.32.0

Error [ERR_PACKAGE_PATH_NOT_EXPORTED]: Failed to load plugin 'import' declared in '.eslintrc.js » eslint-config-standard': Package subpath './2020/RequireObjectCoercible' is not defined by "exports" in /data/js-variants/multee/Clients/body-parser/json-server/node_modules/es-abstract/package.json
    at new NodeError (node:internal/errors:377:5)
    at throwExportsNotFound (node:internal/modules/esm/resolve:440:9)
    at packageExportsResolve (node:internal/modules/esm/resolve:719:3)
    at resolveExports (node:internal/modules/cjs/loader:483:36)
    at Module._findPath (node:internal/modules/cjs/loader:523:31)
    at Module._resolveFilename (node:internal/modules/cjs/loader:925:27)
    at Module._load (node:internal/modules/cjs/loader:780:27)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (/data/js-variants/multee/Clients/body-parser/json-server/node_modules/v8-compile-cache/v8-compile-cache.js:159:20)
    at Object.<anonymous> (/data/js-variants/multee/Clients/body-parser/json-server/node_modules/array-includes/index.js:4:30)
Browserslist: caniuse-lite is outdated. Please run:
npx browserslist@latest --update-db

Why you should do it regularly:
https://github.com/browserslist/browserslist#browsers-data-updating
Browserslist: caniuse-lite is outdated. Please run:
npx browserslist@latest --update-db

Why you should do it regularly:
https://github.com/browserslist/browserslist#browsers-data-updating
PASS __tests__/cli/index.js (11.57 s)
PASS __tests__/server/plural.js (7.127 s)
PASS __tests__/server/plural-with-custom-foreign-key.js
PASS __tests__/server/plural-fake.js
PASS __tests__/server/singular.js
PASS __tests__/server/singular-fake.js
PASS __tests__/server/mixins.js
PASS __tests__/server/utils.js
PASS __tests__/server/validate-data.js

Test Suites: 9 passed, 9 total
Tests:       127 passed, 127 total
Snapshots:   0 total
Time:        21.352 s
Ran all test suites.

Oops! Something went wrong! :(

ESLint: 7.32.0

Error [ERR_PACKAGE_PATH_NOT_EXPORTED]: Failed to load plugin 'import' declared in '.eslintrc.js » eslint-config-standard': Package subpath './2020/RequireObjectCoercible' is not defined by "exports" in /data/js-variants/multee/Clients/body-parser/json-server/node_modules/es-abstract/package.json
    at new NodeError (node:internal/errors:377:5)
    at throwExportsNotFound (node:internal/modules/esm/resolve:440:9)
    at packageExportsResolve (node:internal/modules/esm/resolve:719:3)
    at resolveExports (node:internal/modules/cjs/loader:483:36)
    at Module._findPath (node:internal/modules/cjs/loader:523:31)
    at Module._resolveFilename (node:internal/modules/cjs/loader:925:27)
    at Module._load (node:internal/modules/cjs/loader:780:27)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (/data/js-variants/multee/Clients/body-parser/json-server/node_modules/v8-compile-cache/v8-compile-cache.js:159:20)
    at Object.<anonymous> (/data/js-variants/multee/Clients/body-parser/json-server/node_modules/array-includes/index.js:4:30)
Browserslist: caniuse-lite is outdated. Please run:
npx browserslist@latest --update-db

Why you should do it regularly:
https://github.com/browserslist/browserslist#browsers-data-updating
Browserslist: caniuse-lite is outdated. Please run:
npx browserslist@latest --update-db

Why you should do it regularly:
https://github.com/browserslist/browserslist#browsers-data-updating
/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/lib/types/json.js:18
var debug = require('debug')('body-parser:json')
                            ^

TypeError: require(...) is not a function
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/lib/types/json.js:18:29)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Module._load (node:internal/modules/cjs/loader:827:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at loadParser (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/index.js:142:16)
    at Function.get [as json] (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/index.js:123:12)
    at Object.<anonymous> (/data/js-variants/multee/Clients/body-parser/json-server/lib/server/body-parser.js:5:30)

Node.js v18.3.0
/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/lib/types/json.js:18
var debug = require('debug')('body-parser:json')
                            ^

TypeError: require(...) is not a function
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/lib/types/json.js:18:29)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Module._load (node:internal/modules/cjs/loader:827:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at loadParser (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/index.js:142:16)
    at Function.get [as json] (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/index.js:123:12)
    at Object.<anonymous> (/data/js-variants/multee/Clients/body-parser/json-server/lib/server/body-parser.js:5:30)

Node.js v18.3.0
/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/lib/types/json.js:18
var debug = require('debug')('body-parser:json')
                            ^

TypeError: require(...) is not a function
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/lib/types/json.js:18:29)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Module._load (node:internal/modules/cjs/loader:827:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at loadParser (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/index.js:142:16)
    at Function.get [as json] (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/index.js:123:12)
    at Object.<anonymous> (/data/js-variants/multee/Clients/body-parser/json-server/lib/server/body-parser.js:5:30)

Node.js v18.3.0
/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/lib/types/json.js:18
var debug = require('debug')('body-parser:json')
                            ^

TypeError: require(...) is not a function
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/lib/types/json.js:18:29)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Module._load (node:internal/modules/cjs/loader:827:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at loadParser (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/index.js:142:16)
    at Function.get [as json] (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/index.js:123:12)
    at Object.<anonymous> (/data/js-variants/multee/Clients/body-parser/json-server/lib/server/body-parser.js:5:30)

Node.js v18.3.0
/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/lib/types/json.js:18
var debug = require('debug')('body-parser:json')
                            ^

TypeError: require(...) is not a function
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/lib/types/json.js:18:29)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Module._load (node:internal/modules/cjs/loader:827:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at loadParser (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/index.js:142:16)
    at Function.get [as json] (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/index.js:123:12)
    at Object.<anonymous> (/data/js-variants/multee/Clients/body-parser/json-server/lib/server/body-parser.js:5:30)

Node.js v18.3.0
/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/lib/types/json.js:18
var debug = require('debug')('body-parser:json')
                            ^

TypeError: require(...) is not a function
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/lib/types/json.js:18:29)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Module._load (node:internal/modules/cjs/loader:827:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at loadParser (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/index.js:142:16)
    at Function.get [as json] (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/index.js:123:12)
    at Object.<anonymous> (/data/js-variants/multee/Clients/body-parser/json-server/lib/server/body-parser.js:5:30)

Node.js v18.3.0
/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/lib/types/json.js:18
var debug = require('debug')('body-parser:json')
                            ^

TypeError: require(...) is not a function
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/lib/types/json.js:18:29)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Module._load (node:internal/modules/cjs/loader:827:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at loadParser (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/index.js:142:16)
    at Function.get [as json] (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/index.js:123:12)
    at Object.<anonymous> (/data/js-variants/multee/Clients/body-parser/json-server/lib/server/body-parser.js:5:30)

Node.js v18.3.0
/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/lib/types/json.js:18
var debug = require('debug')('body-parser:json')
                            ^

TypeError: require(...) is not a function
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/lib/types/json.js:18:29)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Module._load (node:internal/modules/cjs/loader:827:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at loadParser (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/index.js:142:16)
    at Function.get [as json] (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/index.js:123:12)
    at Object.<anonymous> (/data/js-variants/multee/Clients/body-parser/json-server/lib/server/body-parser.js:5:30)

Node.js v18.3.0
/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/lib/types/json.js:18
var debug = require('debug')('body-parser:json')
                            ^

TypeError: require(...) is not a function
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/lib/types/json.js:18:29)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Module._load (node:internal/modules/cjs/loader:827:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at loadParser (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/index.js:142:16)
    at Function.get [as json] (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/index.js:123:12)
    at Object.<anonymous> (/data/js-variants/multee/Clients/body-parser/json-server/lib/server/body-parser.js:5:30)

Node.js v18.3.0
/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/lib/types/json.js:18
var debug = require('debug')('body-parser:json')
                            ^

TypeError: require(...) is not a function
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/lib/types/json.js:18:29)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Module._load (node:internal/modules/cjs/loader:827:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at loadParser (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/index.js:142:16)
    at Function.get [as json] (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/index.js:123:12)
    at Object.<anonymous> (/data/js-variants/multee/Clients/body-parser/json-server/lib/server/body-parser.js:5:30)

Node.js v18.3.0
/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/lib/types/json.js:18
var debug = require('debug')('body-parser:json')
                            ^

TypeError: require(...) is not a function
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/lib/types/json.js:18:29)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Module._load (node:internal/modules/cjs/loader:827:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at loadParser (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/index.js:142:16)
    at Function.get [as json] (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/index.js:123:12)
    at Object.<anonymous> (/data/js-variants/multee/Clients/body-parser/json-server/lib/server/body-parser.js:5:30)

Node.js v18.3.0
/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/lib/types/json.js:18
var debug = require('debug')('body-parser:json')
                            ^

TypeError: require(...) is not a function
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/lib/types/json.js:18:29)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Module._load (node:internal/modules/cjs/loader:827:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at loadParser (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/index.js:142:16)
    at Function.get [as json] (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/index.js:123:12)
    at Object.<anonymous> (/data/js-variants/multee/Clients/body-parser/json-server/lib/server/body-parser.js:5:30)

Node.js v18.3.0
/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/lib/types/json.js:18
var debug = require('debug')('body-parser:json')
                            ^

TypeError: require(...) is not a function
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/lib/types/json.js:18:29)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Module._load (node:internal/modules/cjs/loader:827:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at loadParser (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/index.js:142:16)
    at Function.get [as json] (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/index.js:123:12)
    at Object.<anonymous> (/data/js-variants/multee/Clients/body-parser/json-server/lib/server/body-parser.js:5:30)

Node.js v18.3.0
/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/lib/types/json.js:18
var debug = require('debug')('body-parser:json')
                            ^

TypeError: require(...) is not a function
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/lib/types/json.js:18:29)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Module._load (node:internal/modules/cjs/loader:827:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at loadParser (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/index.js:142:16)
    at Function.get [as json] (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/index.js:123:12)
    at Object.<anonymous> (/data/js-variants/multee/Clients/body-parser/json-server/lib/server/body-parser.js:5:30)

Node.js v18.3.0
/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/lib/types/json.js:18
var debug = require('debug')('body-parser:json')
                            ^

TypeError: require(...) is not a function
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/lib/types/json.js:18:29)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Module._load (node:internal/modules/cjs/loader:827:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at loadParser (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/index.js:142:16)
    at Function.get [as json] (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/index.js:123:12)
    at Object.<anonymous> (/data/js-variants/multee/Clients/body-parser/json-server/lib/server/body-parser.js:5:30)

Node.js v18.3.0
/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/lib/types/json.js:18
var debug = require('debug')('body-parser:json')
                            ^

TypeError: require(...) is not a function
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/lib/types/json.js:18:29)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Module._load (node:internal/modules/cjs/loader:827:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at loadParser (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/index.js:142:16)
    at Function.get [as json] (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/index.js:123:12)
    at Object.<anonymous> (/data/js-variants/multee/Clients/body-parser/json-server/lib/server/body-parser.js:5:30)

Node.js v18.3.0
/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/lib/types/json.js:18
var debug = require('debug')('body-parser:json')
                            ^

TypeError: require(...) is not a function
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/lib/types/json.js:18:29)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Module._load (node:internal/modules/cjs/loader:827:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at loadParser (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/index.js:142:16)
    at Function.get [as json] (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/index.js:123:12)
    at Object.<anonymous> (/data/js-variants/multee/Clients/body-parser/json-server/lib/server/body-parser.js:5:30)

Node.js v18.3.0
/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/lib/types/json.js:18
var debug = require('debug')('body-parser:json')
                            ^

TypeError: require(...) is not a function
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/lib/types/json.js:18:29)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Module._load (node:internal/modules/cjs/loader:827:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at loadParser (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/index.js:142:16)
    at Function.get [as json] (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/index.js:123:12)
    at Object.<anonymous> (/data/js-variants/multee/Clients/body-parser/json-server/lib/server/body-parser.js:5:30)

Node.js v18.3.0
/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/lib/types/json.js:18
var debug = require('debug')('body-parser:json')
                            ^

TypeError: require(...) is not a function
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/lib/types/json.js:18:29)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Module._load (node:internal/modules/cjs/loader:827:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at loadParser (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/index.js:142:16)
    at Function.get [as json] (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/index.js:123:12)
    at Object.<anonymous> (/data/js-variants/multee/Clients/body-parser/json-server/lib/server/body-parser.js:5:30)

Node.js v18.3.0
/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/lib/types/json.js:18
var debug = require('debug')('body-parser:json')
                            ^

TypeError: require(...) is not a function
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/lib/types/json.js:18:29)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Module._load (node:internal/modules/cjs/loader:827:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at loadParser (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/index.js:142:16)
    at Function.get [as json] (/data/js-variants/multee/VariantsDeps/body-parser/variant3/body-parser/index.js:123:12)
    at Object.<anonymous> (/data/js-variants/multee/Clients/body-parser/json-server/lib/server/body-parser.js:5:30)

Node.js v18.3.0
FAIL __tests__/cli/index.js (99.331 s)
  ● Console

    console.error
      Error: Uncaught [AssertionError: The expression evaluated to a falsy value:
      
        setTimeout(() => {
          const str = fs.readFileSync(dbFile, 'utf8')
          assert(str.indexOf('hello') !== -1)
          done()
        }, 1000)
      ]
          at reportException (/data/js-variants/multee/Clients/body-parser/json-server/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at Timeout.task [as _onTimeout] (/data/js-variants/multee/Clients/body-parser/json-server/node_modules/jsdom/lib/jsdom/browser/Window.js:521:9)
          at listOnTimeout (node:internal/timers:564:17)
          at processTimers (node:internal/timers:507:7) AssertionError [ERR_ASSERTION]: The expression evaluated to a falsy value:
      
        setTimeout(() => {
          const str = fs.readFileSync(dbFile, 'utf8')
          assert(str.indexOf('hello') !== -1)
          done()
        }, 1000)
      
          at /data/js-variants/multee/Clients/body-parser/json-server/__tests__/cli/index.js:84:13
          at Timeout.task [as _onTimeout] (/data/js-variants/multee/Clients/body-parser/json-server/node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)
          at listOnTimeout (node:internal/timers:564:17)
          at processTimers (node:internal/timers:507:7) {
        generatedMessage: true,
        code: 'ERR_ASSERTION',
        actual: false,
        expected: true,
        operator: '=='
      }

      at VirtualConsole.<anonymous> (node_modules/jsdom/lib/jsdom/virtual-console.js:29:45)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:521:9)

  ● cli › db.json › should support JSON file

    Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.Error: Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.

      at mapper (node_modules/jest-jasmine2/build/queueRunner.js:27:45)

  ● cli › db.json › should support JSON file

    connect ECONNREFUSED 127.0.0.1:3101



  ● cli › db.json › should send CORS headers

    Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.Error: Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.

      at mapper (node_modules/jest-jasmine2/build/queueRunner.js:27:45)

  ● cli › db.json › should send CORS headers

    connect ECONNREFUSED 127.0.0.1:3102



  ● cli › db.json › should update JSON file

    Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.Error: Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.

      at mapper (node_modules/jest-jasmine2/build/queueRunner.js:27:45)

  ● cli › db.json › should update JSON file

    assert(received)

    Expected value to be equal to:
      true
    Received:
      false

      82 |           setTimeout(() => {
      83 |             const str = fs.readFileSync(dbFile, 'utf8')
    > 84 |             assert(str.indexOf('hello') !== -1)
         |             ^
      85 |             done()
      86 |           }, 1000)
      87 |         })

      at __tests__/cli/index.js:84:13
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)

  ● cli › seed.js › should support JS file

    Timeout

      at Socket.<anonymous> (node_modules/server-ready/lib/index.js:63:19)

  ● cli › seed.js › should support JS file

    Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.Error: Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.

      at mapper (node_modules/jest-jasmine2/build/queueRunner.js:27:45)

  ● cli › seed.js › should support JS file

    connect ECONNREFUSED 127.0.0.1:3104



  ● cli › remote db › should support URL file

    Timeout

      at Socket.<anonymous> (node_modules/server-ready/lib/index.js:63:19)

  ● cli › remote db › should support URL file

    Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.Error: Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.

      at mapper (node_modules/jest-jasmine2/build/queueRunner.js:27:45)

  ● cli › remote db › should support URL file

    connect ECONNREFUSED 127.0.0.1:3105



  ● cli › db.json -r routes.json -m middleware.js -i _id --foreignKeySuffix _id --read-only › should use routes.json and _id as the identifier

    Timeout

      at Socket.<anonymous> (node_modules/server-ready/lib/index.js:63:19)

  ● cli › db.json -r routes.json -m middleware.js -i _id --foreignKeySuffix _id --read-only › should use routes.json and _id as the identifier

    Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.Error: Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.

      at mapper (node_modules/jest-jasmine2/build/queueRunner.js:27:45)

  ● cli › db.json -r routes.json -m middleware.js -i _id --foreignKeySuffix _id --read-only › should use routes.json and _id as the identifier

    connect ECONNREFUSED 127.0.0.1:3106



  ● cli › db.json -r routes.json -m middleware.js -i _id --foreignKeySuffix _id --read-only › should use _id as foreignKeySuffix

    Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.Error: Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.

      at mapper (node_modules/jest-jasmine2/build/queueRunner.js:27:45)

  ● cli › db.json -r routes.json -m middleware.js -i _id --foreignKeySuffix _id --read-only › should use _id as foreignKeySuffix

    connect ECONNREFUSED 127.0.0.1:3107



  ● cli › db.json -r routes.json -m middleware.js -i _id --foreignKeySuffix _id --read-only › should apply middlewares

    Timeout

      at Socket.<anonymous> (node_modules/server-ready/lib/index.js:63:19)

  ● cli › db.json -r routes.json -m middleware.js -i _id --foreignKeySuffix _id --read-only › should apply middlewares

    Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.Error: Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.

      at mapper (node_modules/jest-jasmine2/build/queueRunner.js:27:45)

  ● cli › db.json -r routes.json -m middleware.js -i _id --foreignKeySuffix _id --read-only › should apply middlewares

    connect ECONNREFUSED 127.0.0.1:3108



  ● cli › db.json -r routes.json -m middleware.js -i _id --foreignKeySuffix _id --read-only › should allow only GET requests

    Timeout

      at Socket.<anonymous> (node_modules/server-ready/lib/index.js:63:19)

  ● cli › db.json -r routes.json -m middleware.js -i _id --foreignKeySuffix _id --read-only › should allow only GET requests

    Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.Error: Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.

      at mapper (node_modules/jest-jasmine2/build/queueRunner.js:27:45)

  ● cli › db.json -r routes.json -m middleware.js -i _id --foreignKeySuffix _id --read-only › should allow only GET requests

    connect ECONNREFUSED 127.0.0.1:3109



  ● cli › db.json -m first-middleware.js second-middleware.js › should apply all middlewares

    Timeout

      at Socket.<anonymous> (node_modules/server-ready/lib/index.js:63:19)

  ● cli › db.json -m first-middleware.js second-middleware.js › should apply all middlewares

    Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.Error: Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.

      at mapper (node_modules/jest-jasmine2/build/queueRunner.js:27:45)

  ● cli › db.json -m first-middleware.js second-middleware.js › should apply all middlewares

    connect ECONNREFUSED 127.0.0.1:3110



  ● cli › db.json -m postbody-middleware.js › should have post body in middleware

    Timeout

      at Socket.<anonymous> (node_modules/server-ready/lib/index.js:63:19)

  ● cli › db.json -m postbody-middleware.js › should have post body in middleware

    Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.Error: Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.

      at mapper (node_modules/jest-jasmine2/build/queueRunner.js:27:45)

  ● cli › db.json -m postbody-middleware.js › should have post body in middleware

    connect ECONNREFUSED 127.0.0.1:3111



  ● cli › db.json -d 1000 › should delay response

    Timeout

      at Socket.<anonymous> (node_modules/server-ready/lib/index.js:63:19)

  ● cli › db.json -d 1000 › should delay response

    Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.Error: Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.

      at mapper (node_modules/jest-jasmine2/build/queueRunner.js:27:45)

  ● cli › db.json -d 1000 › should delay response

    Request wasn't delayed

      181 |       request.get('/posts').expect(200, function (err) {
      182 |         const end = new Date()
    > 183 |         done(end - start > 1000 ? err : new Error("Request wasn't delayed"))
          |                                         ^
      184 |       })
      185 |     })
      186 |   })

      at Test.<anonymous> (__tests__/cli/index.js:183:41)
      at Test.Object.<anonymous>.Test.assert (node_modules/supertest/lib/test.js:216:6)
      at localAssert (node_modules/supertest/lib/test.js:166:12)
      at fn (node_modules/supertest/lib/test.js:163:5)
      at Test.callback (node_modules/superagent/src/node/index.js:902:3)
      at ClientRequest.<anonymous> (node_modules/superagent/src/node/index.js:814:10)

  ● cli › db.json -s ../../__fixtures__/public -S /some/path/snapshots › should serve ../../__fixtures__/public

    Timeout

      at Socket.<anonymous> (node_modules/server-ready/lib/index.js:63:19)

  ● cli › db.json -s ../../__fixtures__/public -S /some/path/snapshots › should serve ../../__fixtures__/public

    Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.Error: Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.

      at mapper (node_modules/jest-jasmine2/build/queueRunner.js:27:45)

  ● cli › db.json -s ../../__fixtures__/public -S /some/path/snapshots › should serve ../../__fixtures__/public

    connect ECONNREFUSED 127.0.0.1:3113



  ● cli › db.json -s ../../__fixtures__/public -S /some/path/snapshots › should save a snapshot in snapshots dir

    Timeout

      at Socket.<anonymous> (node_modules/server-ready/lib/index.js:63:19)

  ● cli › db.json -s ../../__fixtures__/public -S /some/path/snapshots › should save a snapshot in snapshots dir

    Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.Error: Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.

      at mapper (node_modules/jest-jasmine2/build/queueRunner.js:27:45)

  ● cli › db.json -s ../../__fixtures__/public -S /some/path/snapshots › should save a snapshot in snapshots dir

    assert.strictEqual(received, expected)

    Expected value to strictly be equal to:
      1
    Received:
      0

      206 |
      207 |     test('should save a snapshot in snapshots dir', () => {
    > 208 |       assert.strictEqual(fs.readdirSync(snapshotsDir).length, 1)
          |              ^
      209 |     })
      210 |   })
      211 |

      at Object.<anonymous> (__tests__/cli/index.js:208:14)

  ● cli › ../../__fixtures__/seed.json --no-cors=true › should not send Access-Control-Allow-Origin headers

    Timeout

      at Socket.<anonymous> (node_modules/server-ready/lib/index.js:63:19)

  ● cli › ../../__fixtures__/seed.json --no-cors=true › should not send Access-Control-Allow-Origin headers

    Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.Error: Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.

      at mapper (node_modules/jest-jasmine2/build/queueRunner.js:27:45)

  ● cli › ../../__fixtures__/seed.json --no-cors=true › should not send Access-Control-Allow-Origin headers

    connect ECONNREFUSED 127.0.0.1:3115



  ● cli › ../../__fixtures__/seed.json --no-cors=true › should not send Access-Control-Allow-Origin headers

    TypeError: Cannot read properties of undefined (reading 'headers')

      227 |             done(err)
      228 |           }
    > 229 |           if ('access-control-allow-origin' in res.headers) {
          |                                                    ^
      230 |             done(new Error('CORS headers were not excluded from response'))
      231 |           } else {
      232 |             done()

      at Test.<anonymous> (__tests__/cli/index.js:229:52)
      at Test.Object.<anonymous>.Test.assert (node_modules/supertest/lib/test.js:216:6)
      at localAssert (node_modules/supertest/lib/test.js:166:12)
      at fn (node_modules/supertest/lib/test.js:163:5)
      at Test.callback (node_modules/superagent/src/node/index.js:902:3)
      at ClientRequest.<anonymous> (node_modules/superagent/src/node/index.js:814:10)

  ● cli › ../../__fixtures__/seed.json --no-gzip=true › should not set Content-Encoding to gzip

    Timeout

      at Socket.<anonymous> (node_modules/server-ready/lib/index.js:63:19)

  ● cli › ../../__fixtures__/seed.json --no-gzip=true › should not set Content-Encoding to gzip

    Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.Error: Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.

      at mapper (node_modules/jest-jasmine2/build/queueRunner.js:27:45)

  ● cli › ../../__fixtures__/seed.json --no-gzip=true › should not set Content-Encoding to gzip

    connect ECONNREFUSED 127.0.0.1:3116



  ● cli › --watch db.json -r routes.json › should watch db file

    Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.Error: Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.

      at mapper (node_modules/jest-jasmine2/build/queueRunner.js:27:45)

  ● cli › --watch db.json -r routes.json › should watch db file

    connect ECONNREFUSED 127.0.0.1:3117



  ● cli › --watch db.json -r routes.json › should watch routes file

    Timeout

      at Socket.<anonymous> (node_modules/server-ready/lib/index.js:63:19)

  ● cli › --watch db.json -r routes.json › should watch routes file

    Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.Error: Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.

      at mapper (node_modules/jest-jasmine2/build/queueRunner.js:27:45)

  ● cli › --watch db.json -r routes.json › should watch routes file

    connect ECONNREFUSED 127.0.0.1:3118



  ● cli › non existent db.json › should create JSON file if it doesn't exist

    Timeout

      at Socket.<anonymous> (node_modules/server-ready/lib/index.js:63:19)

  ● cli › non existent db.json › should create JSON file if it doesn't exist

    Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.Error: Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.

      at mapper (node_modules/jest-jasmine2/build/queueRunner.js:27:45)

  ● cli › non existent db.json › should create JSON file if it doesn't exist

    connect ECONNREFUSED 127.0.0.1:3119



FAIL __tests__/server/plural.js
  ● Test suite failed to run

    TypeError: require(...) is not a function

      16 | var contentType = require('content-type')
      17 | var createError = require('http-errors')
    > 18 | var debug = require('debug')('body-parser:json')
         |             ^
      19 | var read = require('../read')
      20 | var typeis = require('type-is')
      21 |

      at Object.<anonymous> (../../../VariantsDeps/body-parser/variant3/body-parser/lib/types/json.js:18:13)
      at loadParser (../../../VariantsDeps/body-parser/variant3/body-parser/index.js:142:16)
      at Function.json (../../../VariantsDeps/body-parser/variant3/body-parser/index.js:123:12)
      at Object.<anonymous> (src/server/body-parser.js:4:14)
      at Object.<anonymous> (src/server/defaults.js:8:20)
      at Object.<anonymous> (src/server/index.js:5:13)
      at Object.<anonymous> (__tests__/server/plural.js:4:20)

FAIL __tests__/server/plural-with-custom-foreign-key.js
  ● Test suite failed to run

    TypeError: require(...) is not a function

      16 | var contentType = require('content-type')
      17 | var createError = require('http-errors')
    > 18 | var debug = require('debug')('body-parser:json')
         |             ^
      19 | var read = require('../read')
      20 | var typeis = require('type-is')
      21 |

      at Object.<anonymous> (../../../VariantsDeps/body-parser/variant3/body-parser/lib/types/json.js:18:13)
      at loadParser (../../../VariantsDeps/body-parser/variant3/body-parser/index.js:142:16)
      at Function.json (../../../VariantsDeps/body-parser/variant3/body-parser/index.js:123:12)
      at Object.<anonymous> (src/server/body-parser.js:4:14)
      at Object.<anonymous> (src/server/defaults.js:8:20)
      at Object.<anonymous> (src/server/index.js:5:13)
      at Object.<anonymous> (__tests__/server/plural-with-custom-foreign-key.js:4:20)

FAIL __tests__/server/plural-fake.js
  ● Test suite failed to run

    TypeError: require(...) is not a function

      16 | var contentType = require('content-type')
      17 | var createError = require('http-errors')
    > 18 | var debug = require('debug')('body-parser:json')
         |             ^
      19 | var read = require('../read')
      20 | var typeis = require('type-is')
      21 |

      at Object.<anonymous> (../../../VariantsDeps/body-parser/variant3/body-parser/lib/types/json.js:18:13)
      at loadParser (../../../VariantsDeps/body-parser/variant3/body-parser/index.js:142:16)
      at Function.json (../../../VariantsDeps/body-parser/variant3/body-parser/index.js:123:12)
      at Object.<anonymous> (src/server/body-parser.js:4:14)
      at Object.<anonymous> (src/server/defaults.js:8:20)
      at Object.<anonymous> (src/server/index.js:5:13)
      at Object.<anonymous> (__tests__/server/plural-fake.js:3:20)

FAIL __tests__/server/singular.js
  ● Test suite failed to run

    TypeError: require(...) is not a function

      16 | var contentType = require('content-type')
      17 | var createError = require('http-errors')
    > 18 | var debug = require('debug')('body-parser:json')
         |             ^
      19 | var read = require('../read')
      20 | var typeis = require('type-is')
      21 |

      at Object.<anonymous> (../../../VariantsDeps/body-parser/variant3/body-parser/lib/types/json.js:18:13)
      at loadParser (../../../VariantsDeps/body-parser/variant3/body-parser/index.js:142:16)
      at Function.json (../../../VariantsDeps/body-parser/variant3/body-parser/index.js:123:12)
      at Object.<anonymous> (src/server/body-parser.js:4:14)
      at Object.<anonymous> (src/server/defaults.js:8:20)
      at Object.<anonymous> (src/server/index.js:5:13)
      at Object.<anonymous> (__tests__/server/singular.js:2:20)

FAIL __tests__/server/singular-fake.js
  ● Test suite failed to run

    TypeError: require(...) is not a function

      16 | var contentType = require('content-type')
      17 | var createError = require('http-errors')
    > 18 | var debug = require('debug')('body-parser:json')
         |             ^
      19 | var read = require('../read')
      20 | var typeis = require('type-is')
      21 |

      at Object.<anonymous> (../../../VariantsDeps/body-parser/variant3/body-parser/lib/types/json.js:18:13)
      at loadParser (../../../VariantsDeps/body-parser/variant3/body-parser/index.js:142:16)
      at Function.json (../../../VariantsDeps/body-parser/variant3/body-parser/index.js:123:12)
      at Object.<anonymous> (src/server/body-parser.js:4:14)
      at Object.<anonymous> (src/server/defaults.js:8:20)
      at Object.<anonymous> (src/server/index.js:5:13)
      at Object.<anonymous> (__tests__/server/singular-fake.js:3:20)

PASS __tests__/server/mixins.js
PASS __tests__/server/validate-data.js
PASS __tests__/server/utils.js

Test Suites: 6 failed, 3 passed, 9 total
Tests:       19 failed, 14 passed, 33 total
Snapshots:   0 total
Time:        102.236 s
Ran all test suites.
Browserslist: caniuse-lite is outdated. Please run:
npx browserslist@latest --update-db

Why you should do it regularly:
https://github.com/browserslist/browserslist#browsers-data-updating
Browserslist: caniuse-lite is outdated. Please run:
npx browserslist@latest --update-db

Why you should do it regularly:
https://github.com/browserslist/browserslist#browsers-data-updating
/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:117
  inherits(HttpError, Error)
  ^

TypeError: inherits is not a function
    at createHttpErrorConstructor (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:117:3)
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:27:28)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Module._load (node:internal/modules/cjs/loader:827:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/lib/types/json.js:17:19)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)

Node.js v18.3.0
/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:117
  inherits(HttpError, Error)
  ^

TypeError: inherits is not a function
    at createHttpErrorConstructor (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:117:3)
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:27:28)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Module._load (node:internal/modules/cjs/loader:827:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/lib/types/json.js:17:19)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)

Node.js v18.3.0
/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:117
  inherits(HttpError, Error)
  ^

TypeError: inherits is not a function
    at createHttpErrorConstructor (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:117:3)
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:27:28)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Module._load (node:internal/modules/cjs/loader:827:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/lib/types/json.js:17:19)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)

Node.js v18.3.0
/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:117
  inherits(HttpError, Error)
  ^

TypeError: inherits is not a function
    at createHttpErrorConstructor (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:117:3)
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:27:28)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Module._load (node:internal/modules/cjs/loader:827:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/lib/types/json.js:17:19)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)

Node.js v18.3.0
/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:117
  inherits(HttpError, Error)
  ^

TypeError: inherits is not a function
    at createHttpErrorConstructor (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:117:3)
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:27:28)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Module._load (node:internal/modules/cjs/loader:827:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/lib/types/json.js:17:19)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)

Node.js v18.3.0
/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:117
  inherits(HttpError, Error)
  ^

TypeError: inherits is not a function
    at createHttpErrorConstructor (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:117:3)
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:27:28)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Module._load (node:internal/modules/cjs/loader:827:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/lib/types/json.js:17:19)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)

Node.js v18.3.0
/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:117
  inherits(HttpError, Error)
  ^

TypeError: inherits is not a function
    at createHttpErrorConstructor (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:117:3)
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:27:28)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Module._load (node:internal/modules/cjs/loader:827:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/lib/types/json.js:17:19)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)

Node.js v18.3.0
/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:117
  inherits(HttpError, Error)
  ^

TypeError: inherits is not a function
    at createHttpErrorConstructor (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:117:3)
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:27:28)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Module._load (node:internal/modules/cjs/loader:827:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/lib/types/json.js:17:19)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)

Node.js v18.3.0
/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:117
  inherits(HttpError, Error)
  ^

TypeError: inherits is not a function
    at createHttpErrorConstructor (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:117:3)
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:27:28)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Module._load (node:internal/modules/cjs/loader:827:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/lib/types/json.js:17:19)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)

Node.js v18.3.0
/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:117
  inherits(HttpError, Error)
  ^

TypeError: inherits is not a function
    at createHttpErrorConstructor (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:117:3)
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:27:28)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Module._load (node:internal/modules/cjs/loader:827:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/lib/types/json.js:17:19)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)

Node.js v18.3.0
/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:117
  inherits(HttpError, Error)
  ^

TypeError: inherits is not a function
    at createHttpErrorConstructor (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:117:3)
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:27:28)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Module._load (node:internal/modules/cjs/loader:827:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/lib/types/json.js:17:19)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)

Node.js v18.3.0
/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:117
  inherits(HttpError, Error)
  ^

TypeError: inherits is not a function
    at createHttpErrorConstructor (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:117:3)
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:27:28)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Module._load (node:internal/modules/cjs/loader:827:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/lib/types/json.js:17:19)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)

Node.js v18.3.0
/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:117
  inherits(HttpError, Error)
  ^

TypeError: inherits is not a function
    at createHttpErrorConstructor (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:117:3)
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:27:28)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Module._load (node:internal/modules/cjs/loader:827:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/lib/types/json.js:17:19)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)

Node.js v18.3.0
/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:117
  inherits(HttpError, Error)
  ^

TypeError: inherits is not a function
    at createHttpErrorConstructor (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:117:3)
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:27:28)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Module._load (node:internal/modules/cjs/loader:827:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/lib/types/json.js:17:19)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)

Node.js v18.3.0
/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:117
  inherits(HttpError, Error)
  ^

TypeError: inherits is not a function
    at createHttpErrorConstructor (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:117:3)
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:27:28)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Module._load (node:internal/modules/cjs/loader:827:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/lib/types/json.js:17:19)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)

Node.js v18.3.0
/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:117
  inherits(HttpError, Error)
  ^

TypeError: inherits is not a function
    at createHttpErrorConstructor (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:117:3)
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:27:28)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Module._load (node:internal/modules/cjs/loader:827:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/lib/types/json.js:17:19)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)

Node.js v18.3.0
/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:117
  inherits(HttpError, Error)
  ^

TypeError: inherits is not a function
    at createHttpErrorConstructor (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:117:3)
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:27:28)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Module._load (node:internal/modules/cjs/loader:827:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/lib/types/json.js:17:19)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)

Node.js v18.3.0
/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:117
  inherits(HttpError, Error)
  ^

TypeError: inherits is not a function
    at createHttpErrorConstructor (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:117:3)
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:27:28)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Module._load (node:internal/modules/cjs/loader:827:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/lib/types/json.js:17:19)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)

Node.js v18.3.0
/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:117
  inherits(HttpError, Error)
  ^

TypeError: inherits is not a function
    at createHttpErrorConstructor (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:117:3)
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:27:28)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Module._load (node:internal/modules/cjs/loader:827:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/lib/types/json.js:17:19)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)

Node.js v18.3.0
/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:117
  inherits(HttpError, Error)
  ^

TypeError: inherits is not a function
    at createHttpErrorConstructor (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:117:3)
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:27:28)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Module._load (node:internal/modules/cjs/loader:827:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at Object.<anonymous> (/data/js-variants/multee/VariantsDeps/body-parser/variant2/body-parser/lib/types/json.js:17:19)
    at Module._compile (node:internal/modules/cjs/loader:1105:14)

Node.js v18.3.0
FAIL __tests__/cli/index.js (99.33 s)
  ● Console

    console.error
      Error: Uncaught [AssertionError: The expression evaluated to a falsy value:
      
        setTimeout(() => {
          const str = fs.readFileSync(dbFile, 'utf8')
          assert(str.indexOf('hello') !== -1)
          done()
        }, 1000)
      ]
          at reportException (/data/js-variants/multee/Clients/body-parser/json-server/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at Timeout.task [as _onTimeout] (/data/js-variants/multee/Clients/body-parser/json-server/node_modules/jsdom/lib/jsdom/browser/Window.js:521:9)
          at listOnTimeout (node:internal/timers:564:17)
          at processTimers (node:internal/timers:507:7) AssertionError [ERR_ASSERTION]: The expression evaluated to a falsy value:
      
        setTimeout(() => {
          const str = fs.readFileSync(dbFile, 'utf8')
          assert(str.indexOf('hello') !== -1)
          done()
        }, 1000)
      
          at /data/js-variants/multee/Clients/body-parser/json-server/__tests__/cli/index.js:84:13
          at Timeout.task [as _onTimeout] (/data/js-variants/multee/Clients/body-parser/json-server/node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)
          at listOnTimeout (node:internal/timers:564:17)
          at processTimers (node:internal/timers:507:7) {
        generatedMessage: true,
        code: 'ERR_ASSERTION',
        actual: false,
        expected: true,
        operator: '=='
      }

      at VirtualConsole.<anonymous> (node_modules/jsdom/lib/jsdom/virtual-console.js:29:45)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:521:9)

  ● cli › db.json › should support JSON file

    Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.Error: Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.

      at mapper (node_modules/jest-jasmine2/build/queueRunner.js:27:45)

  ● cli › db.json › should support JSON file

    connect ECONNREFUSED 127.0.0.1:3101



  ● cli › db.json › should send CORS headers

    Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.Error: Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.

      at mapper (node_modules/jest-jasmine2/build/queueRunner.js:27:45)

  ● cli › db.json › should send CORS headers

    connect ECONNREFUSED 127.0.0.1:3102



  ● cli › db.json › should update JSON file

    Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.Error: Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.

      at mapper (node_modules/jest-jasmine2/build/queueRunner.js:27:45)

  ● cli › db.json › should update JSON file

    assert(received)

    Expected value to be equal to:
      true
    Received:
      false

      82 |           setTimeout(() => {
      83 |             const str = fs.readFileSync(dbFile, 'utf8')
    > 84 |             assert(str.indexOf('hello') !== -1)
         |             ^
      85 |             done()
      86 |           }, 1000)
      87 |         })

      at __tests__/cli/index.js:84:13
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)

  ● cli › seed.js › should support JS file

    Timeout

      at Socket.<anonymous> (node_modules/server-ready/lib/index.js:63:19)

  ● cli › seed.js › should support JS file

    Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.Error: Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.

      at mapper (node_modules/jest-jasmine2/build/queueRunner.js:27:45)

  ● cli › seed.js › should support JS file

    connect ECONNREFUSED 127.0.0.1:3104



  ● cli › remote db › should support URL file

    Timeout

      at Socket.<anonymous> (node_modules/server-ready/lib/index.js:63:19)

  ● cli › remote db › should support URL file

    Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.Error: Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.

      at mapper (node_modules/jest-jasmine2/build/queueRunner.js:27:45)

  ● cli › remote db › should support URL file

    connect ECONNREFUSED 127.0.0.1:3105



  ● cli › db.json -r routes.json -m middleware.js -i _id --foreignKeySuffix _id --read-only › should use routes.json and _id as the identifier

    Timeout

      at Socket.<anonymous> (node_modules/server-ready/lib/index.js:63:19)

  ● cli › db.json -r routes.json -m middleware.js -i _id --foreignKeySuffix _id --read-only › should use routes.json and _id as the identifier

    Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.Error: Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.

      at mapper (node_modules/jest-jasmine2/build/queueRunner.js:27:45)

  ● cli › db.json -r routes.json -m middleware.js -i _id --foreignKeySuffix _id --read-only › should use routes.json and _id as the identifier

    connect ECONNREFUSED 127.0.0.1:3106



  ● cli › db.json -r routes.json -m middleware.js -i _id --foreignKeySuffix _id --read-only › should use _id as foreignKeySuffix

    Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.Error: Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.

      at mapper (node_modules/jest-jasmine2/build/queueRunner.js:27:45)

  ● cli › db.json -r routes.json -m middleware.js -i _id --foreignKeySuffix _id --read-only › should use _id as foreignKeySuffix

    connect ECONNREFUSED 127.0.0.1:3107



  ● cli › db.json -r routes.json -m middleware.js -i _id --foreignKeySuffix _id --read-only › should apply middlewares

    Timeout

      at Socket.<anonymous> (node_modules/server-ready/lib/index.js:63:19)

  ● cli › db.json -r routes.json -m middleware.js -i _id --foreignKeySuffix _id --read-only › should apply middlewares

    Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.Error: Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.

      at mapper (node_modules/jest-jasmine2/build/queueRunner.js:27:45)

  ● cli › db.json -r routes.json -m middleware.js -i _id --foreignKeySuffix _id --read-only › should apply middlewares

    connect ECONNREFUSED 127.0.0.1:3108



  ● cli › db.json -r routes.json -m middleware.js -i _id --foreignKeySuffix _id --read-only › should allow only GET requests

    Timeout

      at Socket.<anonymous> (node_modules/server-ready/lib/index.js:63:19)

  ● cli › db.json -r routes.json -m middleware.js -i _id --foreignKeySuffix _id --read-only › should allow only GET requests

    Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.Error: Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.

      at mapper (node_modules/jest-jasmine2/build/queueRunner.js:27:45)

  ● cli › db.json -r routes.json -m middleware.js -i _id --foreignKeySuffix _id --read-only › should allow only GET requests

    connect ECONNREFUSED 127.0.0.1:3109



  ● cli › db.json -m first-middleware.js second-middleware.js › should apply all middlewares

    Timeout

      at Socket.<anonymous> (node_modules/server-ready/lib/index.js:63:19)

  ● cli › db.json -m first-middleware.js second-middleware.js › should apply all middlewares

    Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.Error: Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.

      at mapper (node_modules/jest-jasmine2/build/queueRunner.js:27:45)

  ● cli › db.json -m first-middleware.js second-middleware.js › should apply all middlewares

    connect ECONNREFUSED 127.0.0.1:3110



  ● cli › db.json -m postbody-middleware.js › should have post body in middleware

    Timeout

      at Socket.<anonymous> (node_modules/server-ready/lib/index.js:63:19)

  ● cli › db.json -m postbody-middleware.js › should have post body in middleware

    Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.Error: Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.

      at mapper (node_modules/jest-jasmine2/build/queueRunner.js:27:45)

  ● cli › db.json -m postbody-middleware.js › should have post body in middleware

    connect ECONNREFUSED 127.0.0.1:3111



  ● cli › db.json -d 1000 › should delay response

    Timeout

      at Socket.<anonymous> (node_modules/server-ready/lib/index.js:63:19)

  ● cli › db.json -d 1000 › should delay response

    Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.Error: Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.

      at mapper (node_modules/jest-jasmine2/build/queueRunner.js:27:45)

  ● cli › db.json -d 1000 › should delay response

    Request wasn't delayed

      181 |       request.get('/posts').expect(200, function (err) {
      182 |         const end = new Date()
    > 183 |         done(end - start > 1000 ? err : new Error("Request wasn't delayed"))
          |                                         ^
      184 |       })
      185 |     })
      186 |   })

      at Test.<anonymous> (__tests__/cli/index.js:183:41)
      at Test.Object.<anonymous>.Test.assert (node_modules/supertest/lib/test.js:216:6)
      at localAssert (node_modules/supertest/lib/test.js:166:12)
      at fn (node_modules/supertest/lib/test.js:163:5)
      at Test.callback (node_modules/superagent/src/node/index.js:902:3)
      at ClientRequest.<anonymous> (node_modules/superagent/src/node/index.js:814:10)

  ● cli › db.json -s ../../__fixtures__/public -S /some/path/snapshots › should serve ../../__fixtures__/public

    Timeout

      at Socket.<anonymous> (node_modules/server-ready/lib/index.js:63:19)

  ● cli › db.json -s ../../__fixtures__/public -S /some/path/snapshots › should serve ../../__fixtures__/public

    Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.Error: Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.

      at mapper (node_modules/jest-jasmine2/build/queueRunner.js:27:45)

  ● cli › db.json -s ../../__fixtures__/public -S /some/path/snapshots › should serve ../../__fixtures__/public

    connect ECONNREFUSED 127.0.0.1:3113



  ● cli › db.json -s ../../__fixtures__/public -S /some/path/snapshots › should save a snapshot in snapshots dir

    Timeout

      at Socket.<anonymous> (node_modules/server-ready/lib/index.js:63:19)

  ● cli › db.json -s ../../__fixtures__/public -S /some/path/snapshots › should save a snapshot in snapshots dir

    Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.Error: Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.

      at mapper (node_modules/jest-jasmine2/build/queueRunner.js:27:45)

  ● cli › db.json -s ../../__fixtures__/public -S /some/path/snapshots › should save a snapshot in snapshots dir

    assert.strictEqual(received, expected)

    Expected value to strictly be equal to:
      1
    Received:
      0

      206 |
      207 |     test('should save a snapshot in snapshots dir', () => {
    > 208 |       assert.strictEqual(fs.readdirSync(snapshotsDir).length, 1)
          |              ^
      209 |     })
      210 |   })
      211 |

      at Object.<anonymous> (__tests__/cli/index.js:208:14)

  ● cli › ../../__fixtures__/seed.json --no-cors=true › should not send Access-Control-Allow-Origin headers

    Timeout

      at Socket.<anonymous> (node_modules/server-ready/lib/index.js:63:19)

  ● cli › ../../__fixtures__/seed.json --no-cors=true › should not send Access-Control-Allow-Origin headers

    Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.Error: Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.

      at mapper (node_modules/jest-jasmine2/build/queueRunner.js:27:45)

  ● cli › ../../__fixtures__/seed.json --no-cors=true › should not send Access-Control-Allow-Origin headers

    connect ECONNREFUSED 127.0.0.1:3115



  ● cli › ../../__fixtures__/seed.json --no-cors=true › should not send Access-Control-Allow-Origin headers

    TypeError: Cannot read properties of undefined (reading 'headers')

      227 |             done(err)
      228 |           }
    > 229 |           if ('access-control-allow-origin' in res.headers) {
          |                                                    ^
      230 |             done(new Error('CORS headers were not excluded from response'))
      231 |           } else {
      232 |             done()

      at Test.<anonymous> (__tests__/cli/index.js:229:52)
      at Test.Object.<anonymous>.Test.assert (node_modules/supertest/lib/test.js:216:6)
      at localAssert (node_modules/supertest/lib/test.js:166:12)
      at fn (node_modules/supertest/lib/test.js:163:5)
      at Test.callback (node_modules/superagent/src/node/index.js:902:3)
      at ClientRequest.<anonymous> (node_modules/superagent/src/node/index.js:814:10)

  ● cli › ../../__fixtures__/seed.json --no-gzip=true › should not set Content-Encoding to gzip

    Timeout

      at Socket.<anonymous> (node_modules/server-ready/lib/index.js:63:19)

  ● cli › ../../__fixtures__/seed.json --no-gzip=true › should not set Content-Encoding to gzip

    Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.Error: Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.

      at mapper (node_modules/jest-jasmine2/build/queueRunner.js:27:45)

  ● cli › ../../__fixtures__/seed.json --no-gzip=true › should not set Content-Encoding to gzip

    connect ECONNREFUSED 127.0.0.1:3116



  ● cli › --watch db.json -r routes.json › should watch db file

    Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.Error: Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.

      at mapper (node_modules/jest-jasmine2/build/queueRunner.js:27:45)

  ● cli › --watch db.json -r routes.json › should watch db file

    connect ECONNREFUSED 127.0.0.1:3117



  ● cli › --watch db.json -r routes.json › should watch routes file

    Timeout

      at Socket.<anonymous> (node_modules/server-ready/lib/index.js:63:19)

  ● cli › --watch db.json -r routes.json › should watch routes file

    Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.Error: Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.

      at mapper (node_modules/jest-jasmine2/build/queueRunner.js:27:45)

  ● cli › --watch db.json -r routes.json › should watch routes file

    connect ECONNREFUSED 127.0.0.1:3118



  ● cli › non existent db.json › should create JSON file if it doesn't exist

    Timeout

      at Socket.<anonymous> (node_modules/server-ready/lib/index.js:63:19)

  ● cli › non existent db.json › should create JSON file if it doesn't exist

    Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.Error: Timeout - Async callback was not invoked within the 5000 ms timeout specified by jest.setTimeout.

      at mapper (node_modules/jest-jasmine2/build/queueRunner.js:27:45)

  ● cli › non existent db.json › should create JSON file if it doesn't exist

    connect ECONNREFUSED 127.0.0.1:3119



PASS __tests__/server/mixins.js
PASS __tests__/server/validate-data.js
PASS __tests__/server/utils.js
FAIL __tests__/server/plural-fake.js
  ● Test suite failed to run

    TypeError: inherits is not a function

      15 | var bytes = require('bytes')
      16 | var contentType = require('content-type')
    > 17 | var createError = require('http-errors')
         |                   ^
      18 | var debug = require('debug')('body-parser:json')
      19 | var read = require('../read')
      20 | var typeis = require('type-is')

      at createHttpErrorConstructor (../../../VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:117:3)
      at Object.<anonymous> (../../../VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:27:28)
      at Object.<anonymous> (../../../VariantsDeps/body-parser/variant2/body-parser/lib/types/json.js:17:19)
      at loadParser (../../../VariantsDeps/body-parser/variant2/body-parser/index.js:142:16)
      at Function.json (../../../VariantsDeps/body-parser/variant2/body-parser/index.js:123:12)
      at Object.<anonymous> (src/server/body-parser.js:4:14)
      at Object.<anonymous> (src/server/defaults.js:8:20)
      at Object.<anonymous> (src/server/index.js:5:13)
      at Object.<anonymous> (__tests__/server/plural-fake.js:3:20)

FAIL __tests__/server/singular.js
  ● Test suite failed to run

    TypeError: inherits is not a function

      15 | var bytes = require('bytes')
      16 | var contentType = require('content-type')
    > 17 | var createError = require('http-errors')
         |                   ^
      18 | var debug = require('debug')('body-parser:json')
      19 | var read = require('../read')
      20 | var typeis = require('type-is')

      at createHttpErrorConstructor (../../../VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:117:3)
      at Object.<anonymous> (../../../VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:27:28)
      at Object.<anonymous> (../../../VariantsDeps/body-parser/variant2/body-parser/lib/types/json.js:17:19)
      at loadParser (../../../VariantsDeps/body-parser/variant2/body-parser/index.js:142:16)
      at Function.json (../../../VariantsDeps/body-parser/variant2/body-parser/index.js:123:12)
      at Object.<anonymous> (src/server/body-parser.js:4:14)
      at Object.<anonymous> (src/server/defaults.js:8:20)
      at Object.<anonymous> (src/server/index.js:5:13)
      at Object.<anonymous> (__tests__/server/singular.js:2:20)

FAIL __tests__/server/singular-fake.js
  ● Test suite failed to run

    TypeError: inherits is not a function

      15 | var bytes = require('bytes')
      16 | var contentType = require('content-type')
    > 17 | var createError = require('http-errors')
         |                   ^
      18 | var debug = require('debug')('body-parser:json')
      19 | var read = require('../read')
      20 | var typeis = require('type-is')

      at createHttpErrorConstructor (../../../VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:117:3)
      at Object.<anonymous> (../../../VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:27:28)
      at Object.<anonymous> (../../../VariantsDeps/body-parser/variant2/body-parser/lib/types/json.js:17:19)
      at loadParser (../../../VariantsDeps/body-parser/variant2/body-parser/index.js:142:16)
      at Function.json (../../../VariantsDeps/body-parser/variant2/body-parser/index.js:123:12)
      at Object.<anonymous> (src/server/body-parser.js:4:14)
      at Object.<anonymous> (src/server/defaults.js:8:20)
      at Object.<anonymous> (src/server/index.js:5:13)
      at Object.<anonymous> (__tests__/server/singular-fake.js:3:20)

FAIL __tests__/server/plural-with-custom-foreign-key.js
  ● Test suite failed to run

    TypeError: inherits is not a function

      15 | var bytes = require('bytes')
      16 | var contentType = require('content-type')
    > 17 | var createError = require('http-errors')
         |                   ^
      18 | var debug = require('debug')('body-parser:json')
      19 | var read = require('../read')
      20 | var typeis = require('type-is')

      at createHttpErrorConstructor (../../../VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:117:3)
      at Object.<anonymous> (../../../VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:27:28)
      at Object.<anonymous> (../../../VariantsDeps/body-parser/variant2/body-parser/lib/types/json.js:17:19)
      at loadParser (../../../VariantsDeps/body-parser/variant2/body-parser/index.js:142:16)
      at Function.json (../../../VariantsDeps/body-parser/variant2/body-parser/index.js:123:12)
      at Object.<anonymous> (src/server/body-parser.js:4:14)
      at Object.<anonymous> (src/server/defaults.js:8:20)
      at Object.<anonymous> (src/server/index.js:5:13)
      at Object.<anonymous> (__tests__/server/plural-with-custom-foreign-key.js:4:20)

FAIL __tests__/server/plural.js
  ● Test suite failed to run

    TypeError: inherits is not a function

      15 | var bytes = require('bytes')
      16 | var contentType = require('content-type')
    > 17 | var createError = require('http-errors')
         |                   ^
      18 | var debug = require('debug')('body-parser:json')
      19 | var read = require('../read')
      20 | var typeis = require('type-is')

      at createHttpErrorConstructor (../../../VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:117:3)
      at Object.<anonymous> (../../../VariantsDeps/body-parser/variant2/body-parser/node_modules/http-errors/index.js:27:28)
      at Object.<anonymous> (../../../VariantsDeps/body-parser/variant2/body-parser/lib/types/json.js:17:19)
      at loadParser (../../../VariantsDeps/body-parser/variant2/body-parser/index.js:142:16)
      at Function.json (../../../VariantsDeps/body-parser/variant2/body-parser/index.js:123:12)
      at Object.<anonymous> (src/server/body-parser.js:4:14)
      at Object.<anonymous> (src/server/defaults.js:8:20)
      at Object.<anonymous> (src/server/index.js:5:13)
      at Object.<anonymous> (__tests__/server/plural.js:4:20)

Test Suites: 6 failed, 3 passed, 9 total
Tests:       19 failed, 14 passed, 33 total
Snapshots:   0 total
Time:        102.162 s
Ran all test suites.
Browserslist: caniuse-lite is outdated. Please run:
npx browserslist@latest --update-db

Why you should do it regularly:
https://github.com/browserslist/browserslist#browsers-data-updating
Browserslist: caniuse-lite is outdated. Please run:
npx browserslist@latest --update-db

Why you should do it regularly:
https://github.com/browserslist/browserslist#browsers-data-updating
PASS __tests__/cli/index.js (11.322 s)
PASS __tests__/server/mixins.js
PASS __tests__/server/utils.js
PASS __tests__/server/validate-data.js
PASS __tests__/server/plural-fake.js
PASS __tests__/server/singular.js
PASS __tests__/server/singular-fake.js
PASS __tests__/server/plural-with-custom-foreign-key.js
PASS __tests__/server/plural.js (6.919 s)

Test Suites: 9 passed, 9 total
Tests:       127 passed, 127 total
Snapshots:   0 total
Time:        21.106 s, estimated 100 s
Ran all test suites.

Oops! Something went wrong! :(

ESLint: 7.32.0

Error [ERR_PACKAGE_PATH_NOT_EXPORTED]: Failed to load plugin 'import' declared in '.eslintrc.js » eslint-config-standard': Package subpath './2020/RequireObjectCoercible' is not defined by "exports" in /data/js-variants/multee/Clients/body-parser/json-server/node_modules/es-abstract/package.json
    at new NodeError (node:internal/errors:377:5)
    at throwExportsNotFound (node:internal/modules/esm/resolve:440:9)
    at packageExportsResolve (node:internal/modules/esm/resolve:719:3)
    at resolveExports (node:internal/modules/cjs/loader:483:36)
    at Module._findPath (node:internal/modules/cjs/loader:523:31)
    at Module._resolveFilename (node:internal/modules/cjs/loader:925:27)
    at Module._load (node:internal/modules/cjs/loader:780:27)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (/data/js-variants/multee/Clients/body-parser/json-server/node_modules/v8-compile-cache/v8-compile-cache.js:159:20)
    at Object.<anonymous> (/data/js-variants/multee/Clients/body-parser/json-server/node_modules/array-includes/index.js:4:30)
